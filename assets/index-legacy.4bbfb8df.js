System.register(["./vendor-legacy.d8ce399e.js","./request-legacy.d1f95537.js","./Footer-legacy.5b2eeba6.js","./index-legacy.50b40b14.js","./index-legacy.0dc4e1e5.js"],(function(e){"use strict";var t,a,l,s,n,i,o,d,u,c,r,m,v,x,f,g,b,y,p,h,w,S,j,k;return{setters:[function(e){t=e.I,a=e.o,l=e.h,s=e.t,n=e.l,i=e.n,o=e.g,d=e.L,u=e.v,c=e.x,r=e.r,m=e.j,v=e.i,x=e.R,f=e.S,g=e.m,b=e.X,y=e.w,p=e.q},function(e){h=e.i},function(e){w=e._,S=e.F},function(e){j=e.b,k=e.c},function(){}],execute:function(){const T=["disabled"],C={props:{maxSecondNum:{type:Number,default:60},buttonText:{type:String,default:"获取验证码"},loadingText:{type:String,default:"发送中"},loading:{type:Boolean,default:!1}},setup(e,{emit:o}){const d=e,u=t({timing:!1,count:0}),c=()=>{u.timing=!0,u.count=d.maxSecondNum;const e=setInterval((()=>{const{count:t}=u;t>0&&t<=d.maxSecondNum?u.count--:(u.timing=!1,clearInterval(e),u.count=0)}),1e3)};return(t,d)=>(a(),l("button",{class:i(["btn-indigo w-full",{"btn-indigo--disabled":n(u).timing}]),disabled:n(u).timing,onClick:d[0]||(d[0]=e=>o("start",e,c))},s(e.loading?e.loadingText:n(u).timing?e.buttonText+"("+n(u).count+")":e.buttonText),11,T))}},N={class:"h-full flex items-center justify-center flex-col"},D={class:"w-full flex-1 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},I={class:"w-full max-w-lg space-y-8"},L={class:"rounded shadow sm:rounded-md sm:overflow-hidden sm:p-16 bg-white p-8 pt-4"},F=m("h2",{class:"mt-6 text-left text-xl font-medium text-gray-900"},"Sign in to your account",-1),q={class:"mt-8"},B={class:"rounded-md shadow-sm"},E=m("label",{for:"email-address",class:"block text-sm font-medium text-gray-700"},"Email",-1),U={key:0,href:"#",class:"font-medium text-indigo-600 hover:text-indigo-500"},V={class:"mt-4"},_={key:0,class:"mt-8"},A={class:"rounded-md shadow-sm"},R=p('<div class="flex items-center justify-between"><div class="flex items-center"><label for="code" class="block text-sm font-medium text-gray-700">Code</label></div><div class="text-sm"><a href="#" class="text-sm text-indigo-600 hover:text-indigo-500"> Didn’t receive the email? 30s </a></div></div>',1),W={class:"mt-8"},X=["disabled"],$={class:"flex items-center justify-between"},z={class:"text-sm"},G=m("span",{class:"text-sm text-gray-900"},"Don't have an account?",-1),H=g(" Sign up ");e("default",{setup(e){o({CountDownButton:C,Logo:w,Footer:S});const t=d(),p=u(""),T=u(""),J=u(!1),K=c((()=>p.value&&h(p.value))),M=async(e,t)=>{if(K.value)try{J.value=!0;const e=await j(p.value);0===e.code?(T.value=e.data.code,J.value=!1,"function"==typeof t&&t()):console.error("发送失败")}catch(a){console.error(a.message)}else console.error(`email invalid: ${p.value}`)},O=async()=>{try{const{code:e}=await k(p.value,T.value);0===e&&t.push("/dashboard")}catch(e){console.error(e.message)}};return(e,t)=>{const o=r("router-link");return a(),l("div",N,[m("div",D,[m("div",I,[v(w),m("div",L,[F,m("div",q,[m("div",B,[E,x(m("input",{name:"email",type:"email",autocomplete:"email",class:"input",placeholder:"Email address","onUpdate:modelValue":t[0]||(t[0]=e=>p.value=e)},null,512),[[f,p.value]])]),m("div",{class:i(["mt-2 w-full text-gray-500 text-xs",{visible:p.value,invisible:!p.value}])},[g(s(n(K)?"🎉  Awesome stuff. We sent you a code to confirm your email":p.value&&!n(K)?"Invalid email address. Did we make a mistake?":" ")+" ",1),p.value&&!n(K)?(a(),l("a",U,"Let us know")):b("",!0)],2),m("div",V,[v(C,{buttonText:"Send Code",maxSecondNum:30,loading:J.value,onStart:M},null,8,["loading"])])]),n(K)?(a(),l("div",_,[m("div",A,[R,x(m("input",{name:"code",type:"text",class:"input","onUpdate:modelValue":t[1]||(t[1]=e=>T.value=e)},null,512),[[f,T.value]])]),m("div",W,[m("button",{type:"button",class:i(["btn-indigo w-full",{"btn-indigo--disabled":!p.value||!T.value}]),disabled:!p.value||!T.value,onClick:O}," Login ",10,X)])])):b("",!0)]),m("div",$,[m("div",z,[G,v(o,{to:"/register",class:"text-indigo-600 hover:text-indigo-500"},{default:y((()=>[H])),_:1})])])])]),v(S)])}}})}}}));
