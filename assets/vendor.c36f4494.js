var Zi=Object.defineProperty;var Vi=Object.getOwnPropertySymbols;var Qi=Object.prototype.hasOwnProperty,eo=Object.prototype.propertyIsEnumerable;var Ki=(te,ee,re)=>ee in te?Zi(te,ee,{enumerable:!0,configurable:!0,writable:!0,value:re}):te[ee]=re,Ji=(te,ee)=>{for(var re in ee||(ee={}))Qi.call(ee,re)&&Ki(te,re,ee[re]);if(Vi)for(var re of Vi(ee))eo.call(ee,re)&&Ki(te,re,ee[re]);return te};var commonjsGlobal$1=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs$1(te){return te&&te.__esModule&&Object.prototype.hasOwnProperty.call(te,"default")?te.default:te}function getAugmentedNamespace(te){if(te.__esModule)return te;var ee=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(te).forEach(function(re){var ne=Object.getOwnPropertyDescriptor(te,re);Object.defineProperty(ee,re,ne.get?ne:{enumerable:!0,get:function(){return te[re]}})}),ee}var browser$5={exports:{}},process$1=browser$5.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(te){if(cachedSetTimeout===setTimeout)return setTimeout(te,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(te,0);try{return cachedSetTimeout(te,0)}catch{try{return cachedSetTimeout.call(null,te,0)}catch{return cachedSetTimeout.call(this,te,0)}}}function runClearTimeout(te){if(cachedClearTimeout===clearTimeout)return clearTimeout(te);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(te);try{return cachedClearTimeout(te)}catch{try{return cachedClearTimeout.call(null,te)}catch{return cachedClearTimeout.call(this,te)}}}var queue$2=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue$2=currentQueue.concat(queue$2):queueIndex=-1,queue$2.length&&drainQueue())}function drainQueue(){if(!draining){var te=runTimeout(cleanUpNextTick);draining=!0;for(var ee=queue$2.length;ee;){for(currentQueue=queue$2,queue$2=[];++queueIndex<ee;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,ee=queue$2.length}currentQueue=null,draining=!1,runClearTimeout(te)}}process$1.nextTick=function(te){var ee=new Array(arguments.length-1);if(arguments.length>1)for(var re=1;re<arguments.length;re++)ee[re-1]=arguments[re];queue$2.push(new Item(te,ee)),queue$2.length===1&&!draining&&runTimeout(drainQueue)};function Item(te,ee){this.fun=te,this.array=ee}Item.prototype.run=function(){this.fun.apply(null,this.array)};process$1.title="browser";process$1.browser=!0;process$1.env={};process$1.argv=[];process$1.version="";process$1.versions={};function noop$9(){}process$1.on=noop$9;process$1.addListener=noop$9;process$1.once=noop$9;process$1.off=noop$9;process$1.removeListener=noop$9;process$1.removeAllListeners=noop$9;process$1.emit=noop$9;process$1.prependListener=noop$9;process$1.prependOnceListener=noop$9;process$1.listeners=function(te){return[]};process$1.binding=function(te){throw new Error("process.binding is not supported")};process$1.cwd=function(){return"/"};process$1.chdir=function(te){throw new Error("process.chdir is not supported")};process$1.umask=function(){return 0};var process$2=browser$5.exports,buffer$2={},base64Js={};base64Js.byteLength=byteLength$1;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array!="undefined"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$5=0,len=code.length;i$5<len;++i$5)lookup[i$5]=code[i$5],revLookup[code.charCodeAt(i$5)]=i$5;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(te){var ee=te.length;if(ee%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var re=te.indexOf("=");re===-1&&(re=ee);var ne=re===ee?0:4-re%4;return[re,ne]}function byteLength$1(te){var ee=getLens(te),re=ee[0],ne=ee[1];return(re+ne)*3/4-ne}function _byteLength(te,ee,re){return(ee+re)*3/4-re}function toByteArray(te){var ee,re=getLens(te),ne=re[0],ie=re[1],oe=new Arr(_byteLength(te,ne,ie)),se=0,ae=ie>0?ne-4:ne,fe;for(fe=0;fe<ae;fe+=4)ee=revLookup[te.charCodeAt(fe)]<<18|revLookup[te.charCodeAt(fe+1)]<<12|revLookup[te.charCodeAt(fe+2)]<<6|revLookup[te.charCodeAt(fe+3)],oe[se++]=ee>>16&255,oe[se++]=ee>>8&255,oe[se++]=ee&255;return ie===2&&(ee=revLookup[te.charCodeAt(fe)]<<2|revLookup[te.charCodeAt(fe+1)]>>4,oe[se++]=ee&255),ie===1&&(ee=revLookup[te.charCodeAt(fe)]<<10|revLookup[te.charCodeAt(fe+1)]<<4|revLookup[te.charCodeAt(fe+2)]>>2,oe[se++]=ee>>8&255,oe[se++]=ee&255),oe}function tripletToBase64(te){return lookup[te>>18&63]+lookup[te>>12&63]+lookup[te>>6&63]+lookup[te&63]}function encodeChunk(te,ee,re){for(var ne,ie=[],oe=ee;oe<re;oe+=3)ne=(te[oe]<<16&16711680)+(te[oe+1]<<8&65280)+(te[oe+2]&255),ie.push(tripletToBase64(ne));return ie.join("")}function fromByteArray(te){for(var ee,re=te.length,ne=re%3,ie=[],oe=16383,se=0,ae=re-ne;se<ae;se+=oe)ie.push(encodeChunk(te,se,se+oe>ae?ae:se+oe));return ne===1?(ee=te[re-1],ie.push(lookup[ee>>2]+lookup[ee<<4&63]+"==")):ne===2&&(ee=(te[re-2]<<8)+te[re-1],ie.push(lookup[ee>>10]+lookup[ee>>4&63]+lookup[ee<<2&63]+"=")),ie.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(te,ee,re,ne,ie){var oe,se,ae=ie*8-ne-1,fe=(1<<ae)-1,ue=fe>>1,le=-7,pe=re?ie-1:0,rr=re?-1:1,cr=te[ee+pe];for(pe+=rr,oe=cr&(1<<-le)-1,cr>>=-le,le+=ae;le>0;oe=oe*256+te[ee+pe],pe+=rr,le-=8);for(se=oe&(1<<-le)-1,oe>>=-le,le+=ne;le>0;se=se*256+te[ee+pe],pe+=rr,le-=8);if(oe===0)oe=1-ue;else{if(oe===fe)return se?NaN:(cr?-1:1)*(1/0);se=se+Math.pow(2,ne),oe=oe-ue}return(cr?-1:1)*se*Math.pow(2,oe-ne)};ieee754.write=function(te,ee,re,ne,ie,oe){var se,ae,fe,ue=oe*8-ie-1,le=(1<<ue)-1,pe=le>>1,rr=ie===23?Math.pow(2,-24)-Math.pow(2,-77):0,cr=ne?0:oe-1,ar=ne?1:-1,mr=ee<0||ee===0&&1/ee<0?1:0;for(ee=Math.abs(ee),isNaN(ee)||ee===1/0?(ae=isNaN(ee)?1:0,se=le):(se=Math.floor(Math.log(ee)/Math.LN2),ee*(fe=Math.pow(2,-se))<1&&(se--,fe*=2),se+pe>=1?ee+=rr/fe:ee+=rr*Math.pow(2,1-pe),ee*fe>=2&&(se++,fe/=2),se+pe>=le?(ae=0,se=le):se+pe>=1?(ae=(ee*fe-1)*Math.pow(2,ie),se=se+pe):(ae=ee*Math.pow(2,pe-1)*Math.pow(2,ie),se=0));ie>=8;te[re+cr]=ae&255,cr+=ar,ae/=256,ie-=8);for(se=se<<ie|ae,ue+=ie;ue>0;te[re+cr]=se&255,cr+=ar,se/=256,ue-=8);te[re+cr-ar]|=mr*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(te){const ee=base64Js,re=ieee754,ne=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;te.Buffer=ae,te.SlowBuffer=vr,te.INSPECT_MAX_BYTES=50;const ie=2147483647;te.kMaxLength=ie,ae.TYPED_ARRAY_SUPPORT=oe(),!ae.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function oe(){try{const Rr=new Uint8Array(1),xr={foo:function(){return 42}};return Object.setPrototypeOf(xr,Uint8Array.prototype),Object.setPrototypeOf(Rr,xr),Rr.foo()===42}catch{return!1}}Object.defineProperty(ae.prototype,"parent",{enumerable:!0,get:function(){if(!!ae.isBuffer(this))return this.buffer}}),Object.defineProperty(ae.prototype,"offset",{enumerable:!0,get:function(){if(!!ae.isBuffer(this))return this.byteOffset}});function se(Rr){if(Rr>ie)throw new RangeError('The value "'+Rr+'" is invalid for option "size"');const xr=new Uint8Array(Rr);return Object.setPrototypeOf(xr,ae.prototype),xr}function ae(Rr,xr,wr){if(typeof Rr=="number"){if(typeof xr=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return pe(Rr)}return fe(Rr,xr,wr)}ae.poolSize=8192;function fe(Rr,xr,wr){if(typeof Rr=="string")return rr(Rr,xr);if(ArrayBuffer.isView(Rr))return ar(Rr);if(Rr==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Rr);if(Jr(Rr,ArrayBuffer)||Rr&&Jr(Rr.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Jr(Rr,SharedArrayBuffer)||Rr&&Jr(Rr.buffer,SharedArrayBuffer)))return mr(Rr,xr,wr);if(typeof Rr=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Sr=Rr.valueOf&&Rr.valueOf();if(Sr!=null&&Sr!==Rr)return ae.from(Sr,xr,wr);const Gr=pr(Rr);if(Gr)return Gr;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof Rr[Symbol.toPrimitive]=="function")return ae.from(Rr[Symbol.toPrimitive]("string"),xr,wr);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Rr)}ae.from=function(Rr,xr,wr){return fe(Rr,xr,wr)},Object.setPrototypeOf(ae.prototype,Uint8Array.prototype),Object.setPrototypeOf(ae,Uint8Array);function ue(Rr){if(typeof Rr!="number")throw new TypeError('"size" argument must be of type number');if(Rr<0)throw new RangeError('The value "'+Rr+'" is invalid for option "size"')}function le(Rr,xr,wr){return ue(Rr),Rr<=0?se(Rr):xr!==void 0?typeof wr=="string"?se(Rr).fill(xr,wr):se(Rr).fill(xr):se(Rr)}ae.alloc=function(Rr,xr,wr){return le(Rr,xr,wr)};function pe(Rr){return ue(Rr),se(Rr<0?0:yr(Rr)|0)}ae.allocUnsafe=function(Rr){return pe(Rr)},ae.allocUnsafeSlow=function(Rr){return pe(Rr)};function rr(Rr,xr){if((typeof xr!="string"||xr==="")&&(xr="utf8"),!ae.isEncoding(xr))throw new TypeError("Unknown encoding: "+xr);const wr=Er(Rr,xr)|0;let Sr=se(wr);const Gr=Sr.write(Rr,xr);return Gr!==wr&&(Sr=Sr.slice(0,Gr)),Sr}function cr(Rr){const xr=Rr.length<0?0:yr(Rr.length)|0,wr=se(xr);for(let Sr=0;Sr<xr;Sr+=1)wr[Sr]=Rr[Sr]&255;return wr}function ar(Rr){if(Jr(Rr,Uint8Array)){const xr=new Uint8Array(Rr);return mr(xr.buffer,xr.byteOffset,xr.byteLength)}return cr(Rr)}function mr(Rr,xr,wr){if(xr<0||Rr.byteLength<xr)throw new RangeError('"offset" is outside of buffer bounds');if(Rr.byteLength<xr+(wr||0))throw new RangeError('"length" is outside of buffer bounds');let Sr;return xr===void 0&&wr===void 0?Sr=new Uint8Array(Rr):wr===void 0?Sr=new Uint8Array(Rr,xr):Sr=new Uint8Array(Rr,xr,wr),Object.setPrototypeOf(Sr,ae.prototype),Sr}function pr(Rr){if(ae.isBuffer(Rr)){const xr=yr(Rr.length)|0,wr=se(xr);return wr.length===0||Rr.copy(wr,0,0,xr),wr}if(Rr.length!==void 0)return typeof Rr.length!="number"||qn(Rr.length)?se(0):cr(Rr);if(Rr.type==="Buffer"&&Array.isArray(Rr.data))return cr(Rr.data)}function yr(Rr){if(Rr>=ie)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ie.toString(16)+" bytes");return Rr|0}function vr(Rr){return+Rr!=Rr&&(Rr=0),ae.alloc(+Rr)}ae.isBuffer=function(xr){return xr!=null&&xr._isBuffer===!0&&xr!==ae.prototype},ae.compare=function(xr,wr){if(Jr(xr,Uint8Array)&&(xr=ae.from(xr,xr.offset,xr.byteLength)),Jr(wr,Uint8Array)&&(wr=ae.from(wr,wr.offset,wr.byteLength)),!ae.isBuffer(xr)||!ae.isBuffer(wr))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(xr===wr)return 0;let Sr=xr.length,Gr=wr.length;for(let Vr=0,Yr=Math.min(Sr,Gr);Vr<Yr;++Vr)if(xr[Vr]!==wr[Vr]){Sr=xr[Vr],Gr=wr[Vr];break}return Sr<Gr?-1:Gr<Sr?1:0},ae.isEncoding=function(xr){switch(String(xr).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ae.concat=function(xr,wr){if(!Array.isArray(xr))throw new TypeError('"list" argument must be an Array of Buffers');if(xr.length===0)return ae.alloc(0);let Sr;if(wr===void 0)for(wr=0,Sr=0;Sr<xr.length;++Sr)wr+=xr[Sr].length;const Gr=ae.allocUnsafe(wr);let Vr=0;for(Sr=0;Sr<xr.length;++Sr){let Yr=xr[Sr];if(Jr(Yr,Uint8Array))Vr+Yr.length>Gr.length?(ae.isBuffer(Yr)||(Yr=ae.from(Yr)),Yr.copy(Gr,Vr)):Uint8Array.prototype.set.call(Gr,Yr,Vr);else if(ae.isBuffer(Yr))Yr.copy(Gr,Vr);else throw new TypeError('"list" argument must be an Array of Buffers');Vr+=Yr.length}return Gr};function Er(Rr,xr){if(ae.isBuffer(Rr))return Rr.length;if(ArrayBuffer.isView(Rr)||Jr(Rr,ArrayBuffer))return Rr.byteLength;if(typeof Rr!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Rr);const wr=Rr.length,Sr=arguments.length>2&&arguments[2]===!0;if(!Sr&&wr===0)return 0;let Gr=!1;for(;;)switch(xr){case"ascii":case"latin1":case"binary":return wr;case"utf8":case"utf-8":return _r(Rr).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return wr*2;case"hex":return wr>>>1;case"base64":return jr(Rr).length;default:if(Gr)return Sr?-1:_r(Rr).length;xr=(""+xr).toLowerCase(),Gr=!0}}ae.byteLength=Er;function Tr(Rr,xr,wr){let Sr=!1;if((xr===void 0||xr<0)&&(xr=0),xr>this.length||((wr===void 0||wr>this.length)&&(wr=this.length),wr<=0)||(wr>>>=0,xr>>>=0,wr<=xr))return"";for(Rr||(Rr="utf8");;)switch(Rr){case"hex":return er(this,xr,wr);case"utf8":case"utf-8":return ce(this,xr,wr);case"ascii":return ur(this,xr,wr);case"latin1":case"binary":return lr(this,xr,wr);case"base64":return ve(this,xr,wr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return nr(this,xr,wr);default:if(Sr)throw new TypeError("Unknown encoding: "+Rr);Rr=(Rr+"").toLowerCase(),Sr=!0}}ae.prototype._isBuffer=!0;function Ir(Rr,xr,wr){const Sr=Rr[xr];Rr[xr]=Rr[wr],Rr[wr]=Sr}ae.prototype.swap16=function(){const xr=this.length;if(xr%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let wr=0;wr<xr;wr+=2)Ir(this,wr,wr+1);return this},ae.prototype.swap32=function(){const xr=this.length;if(xr%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let wr=0;wr<xr;wr+=4)Ir(this,wr,wr+3),Ir(this,wr+1,wr+2);return this},ae.prototype.swap64=function(){const xr=this.length;if(xr%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let wr=0;wr<xr;wr+=8)Ir(this,wr,wr+7),Ir(this,wr+1,wr+6),Ir(this,wr+2,wr+5),Ir(this,wr+3,wr+4);return this},ae.prototype.toString=function(){const xr=this.length;return xr===0?"":arguments.length===0?ce(this,0,xr):Tr.apply(this,arguments)},ae.prototype.toLocaleString=ae.prototype.toString,ae.prototype.equals=function(xr){if(!ae.isBuffer(xr))throw new TypeError("Argument must be a Buffer");return this===xr?!0:ae.compare(this,xr)===0},ae.prototype.inspect=function(){let xr="";const wr=te.INSPECT_MAX_BYTES;return xr=this.toString("hex",0,wr).replace(/(.{2})/g,"$1 ").trim(),this.length>wr&&(xr+=" ... "),"<Buffer "+xr+">"},ne&&(ae.prototype[ne]=ae.prototype.inspect),ae.prototype.compare=function(xr,wr,Sr,Gr,Vr){if(Jr(xr,Uint8Array)&&(xr=ae.from(xr,xr.offset,xr.byteLength)),!ae.isBuffer(xr))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof xr);if(wr===void 0&&(wr=0),Sr===void 0&&(Sr=xr?xr.length:0),Gr===void 0&&(Gr=0),Vr===void 0&&(Vr=this.length),wr<0||Sr>xr.length||Gr<0||Vr>this.length)throw new RangeError("out of range index");if(Gr>=Vr&&wr>=Sr)return 0;if(Gr>=Vr)return-1;if(wr>=Sr)return 1;if(wr>>>=0,Sr>>>=0,Gr>>>=0,Vr>>>=0,this===xr)return 0;let Yr=Vr-Gr,Qn=Sr-wr;const ei=Math.min(Yr,Qn),Zn=this.slice(Gr,Vr),bi=xr.slice(wr,Sr);for(let ti=0;ti<ei;++ti)if(Zn[ti]!==bi[ti]){Yr=Zn[ti],Qn=bi[ti];break}return Yr<Qn?-1:Qn<Yr?1:0};function Or(Rr,xr,wr,Sr,Gr){if(Rr.length===0)return-1;if(typeof wr=="string"?(Sr=wr,wr=0):wr>2147483647?wr=2147483647:wr<-2147483648&&(wr=-2147483648),wr=+wr,qn(wr)&&(wr=Gr?0:Rr.length-1),wr<0&&(wr=Rr.length+wr),wr>=Rr.length){if(Gr)return-1;wr=Rr.length-1}else if(wr<0)if(Gr)wr=0;else return-1;if(typeof xr=="string"&&(xr=ae.from(xr,Sr)),ae.isBuffer(xr))return xr.length===0?-1:Hr(Rr,xr,wr,Sr,Gr);if(typeof xr=="number")return xr=xr&255,typeof Uint8Array.prototype.indexOf=="function"?Gr?Uint8Array.prototype.indexOf.call(Rr,xr,wr):Uint8Array.prototype.lastIndexOf.call(Rr,xr,wr):Hr(Rr,[xr],wr,Sr,Gr);throw new TypeError("val must be string, number or Buffer")}function Hr(Rr,xr,wr,Sr,Gr){let Vr=1,Yr=Rr.length,Qn=xr.length;if(Sr!==void 0&&(Sr=String(Sr).toLowerCase(),Sr==="ucs2"||Sr==="ucs-2"||Sr==="utf16le"||Sr==="utf-16le")){if(Rr.length<2||xr.length<2)return-1;Vr=2,Yr/=2,Qn/=2,wr/=2}function ei(bi,ti){return Vr===1?bi[ti]:bi.readUInt16BE(ti*Vr)}let Zn;if(Gr){let bi=-1;for(Zn=wr;Zn<Yr;Zn++)if(ei(Rr,Zn)===ei(xr,bi===-1?0:Zn-bi)){if(bi===-1&&(bi=Zn),Zn-bi+1===Qn)return bi*Vr}else bi!==-1&&(Zn-=Zn-bi),bi=-1}else for(wr+Qn>Yr&&(wr=Yr-Qn),Zn=wr;Zn>=0;Zn--){let bi=!0;for(let ti=0;ti<Qn;ti++)if(ei(Rr,Zn+ti)!==ei(xr,ti)){bi=!1;break}if(bi)return Zn}return-1}ae.prototype.includes=function(xr,wr,Sr){return this.indexOf(xr,wr,Sr)!==-1},ae.prototype.indexOf=function(xr,wr,Sr){return Or(this,xr,wr,Sr,!0)},ae.prototype.lastIndexOf=function(xr,wr,Sr){return Or(this,xr,wr,Sr,!1)};function Pr(Rr,xr,wr,Sr){wr=Number(wr)||0;const Gr=Rr.length-wr;Sr?(Sr=Number(Sr),Sr>Gr&&(Sr=Gr)):Sr=Gr;const Vr=xr.length;Sr>Vr/2&&(Sr=Vr/2);let Yr;for(Yr=0;Yr<Sr;++Yr){const Qn=parseInt(xr.substr(Yr*2,2),16);if(qn(Qn))return Yr;Rr[wr+Yr]=Qn}return Yr}function Br(Rr,xr,wr,Sr){return qr(_r(xr,Rr.length-wr),Rr,wr,Sr)}function Nr(Rr,xr,wr,Sr){return qr($r(xr),Rr,wr,Sr)}function dr(Rr,xr,wr,Sr){return qr(jr(xr),Rr,wr,Sr)}function tr(Rr,xr,wr,Sr){return qr(Mr(xr,Rr.length-wr),Rr,wr,Sr)}ae.prototype.write=function(xr,wr,Sr,Gr){if(wr===void 0)Gr="utf8",Sr=this.length,wr=0;else if(Sr===void 0&&typeof wr=="string")Gr=wr,Sr=this.length,wr=0;else if(isFinite(wr))wr=wr>>>0,isFinite(Sr)?(Sr=Sr>>>0,Gr===void 0&&(Gr="utf8")):(Gr=Sr,Sr=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Vr=this.length-wr;if((Sr===void 0||Sr>Vr)&&(Sr=Vr),xr.length>0&&(Sr<0||wr<0)||wr>this.length)throw new RangeError("Attempt to write outside buffer bounds");Gr||(Gr="utf8");let Yr=!1;for(;;)switch(Gr){case"hex":return Pr(this,xr,wr,Sr);case"utf8":case"utf-8":return Br(this,xr,wr,Sr);case"ascii":case"latin1":case"binary":return Nr(this,xr,wr,Sr);case"base64":return dr(this,xr,wr,Sr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return tr(this,xr,wr,Sr);default:if(Yr)throw new TypeError("Unknown encoding: "+Gr);Gr=(""+Gr).toLowerCase(),Yr=!0}},ae.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ve(Rr,xr,wr){return xr===0&&wr===Rr.length?ee.fromByteArray(Rr):ee.fromByteArray(Rr.slice(xr,wr))}function ce(Rr,xr,wr){wr=Math.min(Rr.length,wr);const Sr=[];let Gr=xr;for(;Gr<wr;){const Vr=Rr[Gr];let Yr=null,Qn=Vr>239?4:Vr>223?3:Vr>191?2:1;if(Gr+Qn<=wr){let ei,Zn,bi,ti;switch(Qn){case 1:Vr<128&&(Yr=Vr);break;case 2:ei=Rr[Gr+1],(ei&192)===128&&(ti=(Vr&31)<<6|ei&63,ti>127&&(Yr=ti));break;case 3:ei=Rr[Gr+1],Zn=Rr[Gr+2],(ei&192)===128&&(Zn&192)===128&&(ti=(Vr&15)<<12|(ei&63)<<6|Zn&63,ti>2047&&(ti<55296||ti>57343)&&(Yr=ti));break;case 4:ei=Rr[Gr+1],Zn=Rr[Gr+2],bi=Rr[Gr+3],(ei&192)===128&&(Zn&192)===128&&(bi&192)===128&&(ti=(Vr&15)<<18|(ei&63)<<12|(Zn&63)<<6|bi&63,ti>65535&&ti<1114112&&(Yr=ti))}}Yr===null?(Yr=65533,Qn=1):Yr>65535&&(Yr-=65536,Sr.push(Yr>>>10&1023|55296),Yr=56320|Yr&1023),Sr.push(Yr),Gr+=Qn}return ir(Sr)}const me=4096;function ir(Rr){const xr=Rr.length;if(xr<=me)return String.fromCharCode.apply(String,Rr);let wr="",Sr=0;for(;Sr<xr;)wr+=String.fromCharCode.apply(String,Rr.slice(Sr,Sr+=me));return wr}function ur(Rr,xr,wr){let Sr="";wr=Math.min(Rr.length,wr);for(let Gr=xr;Gr<wr;++Gr)Sr+=String.fromCharCode(Rr[Gr]&127);return Sr}function lr(Rr,xr,wr){let Sr="";wr=Math.min(Rr.length,wr);for(let Gr=xr;Gr<wr;++Gr)Sr+=String.fromCharCode(Rr[Gr]);return Sr}function er(Rr,xr,wr){const Sr=Rr.length;(!xr||xr<0)&&(xr=0),(!wr||wr<0||wr>Sr)&&(wr=Sr);let Gr="";for(let Vr=xr;Vr<wr;++Vr)Gr+=zn[Rr[Vr]];return Gr}function nr(Rr,xr,wr){const Sr=Rr.slice(xr,wr);let Gr="";for(let Vr=0;Vr<Sr.length-1;Vr+=2)Gr+=String.fromCharCode(Sr[Vr]+Sr[Vr+1]*256);return Gr}ae.prototype.slice=function(xr,wr){const Sr=this.length;xr=~~xr,wr=wr===void 0?Sr:~~wr,xr<0?(xr+=Sr,xr<0&&(xr=0)):xr>Sr&&(xr=Sr),wr<0?(wr+=Sr,wr<0&&(wr=0)):wr>Sr&&(wr=Sr),wr<xr&&(wr=xr);const Gr=this.subarray(xr,wr);return Object.setPrototypeOf(Gr,ae.prototype),Gr};function or(Rr,xr,wr){if(Rr%1!==0||Rr<0)throw new RangeError("offset is not uint");if(Rr+xr>wr)throw new RangeError("Trying to access beyond buffer length")}ae.prototype.readUintLE=ae.prototype.readUIntLE=function(xr,wr,Sr){xr=xr>>>0,wr=wr>>>0,Sr||or(xr,wr,this.length);let Gr=this[xr],Vr=1,Yr=0;for(;++Yr<wr&&(Vr*=256);)Gr+=this[xr+Yr]*Vr;return Gr},ae.prototype.readUintBE=ae.prototype.readUIntBE=function(xr,wr,Sr){xr=xr>>>0,wr=wr>>>0,Sr||or(xr,wr,this.length);let Gr=this[xr+--wr],Vr=1;for(;wr>0&&(Vr*=256);)Gr+=this[xr+--wr]*Vr;return Gr},ae.prototype.readUint8=ae.prototype.readUInt8=function(xr,wr){return xr=xr>>>0,wr||or(xr,1,this.length),this[xr]},ae.prototype.readUint16LE=ae.prototype.readUInt16LE=function(xr,wr){return xr=xr>>>0,wr||or(xr,2,this.length),this[xr]|this[xr+1]<<8},ae.prototype.readUint16BE=ae.prototype.readUInt16BE=function(xr,wr){return xr=xr>>>0,wr||or(xr,2,this.length),this[xr]<<8|this[xr+1]},ae.prototype.readUint32LE=ae.prototype.readUInt32LE=function(xr,wr){return xr=xr>>>0,wr||or(xr,4,this.length),(this[xr]|this[xr+1]<<8|this[xr+2]<<16)+this[xr+3]*16777216},ae.prototype.readUint32BE=ae.prototype.readUInt32BE=function(xr,wr){return xr=xr>>>0,wr||or(xr,4,this.length),this[xr]*16777216+(this[xr+1]<<16|this[xr+2]<<8|this[xr+3])},ae.prototype.readBigUInt64LE=Xn(function(xr){xr=xr>>>0,Fr(xr,"offset");const wr=this[xr],Sr=this[xr+7];(wr===void 0||Sr===void 0)&&Ur(xr,this.length-8);const Gr=wr+this[++xr]*2**8+this[++xr]*2**16+this[++xr]*2**24,Vr=this[++xr]+this[++xr]*2**8+this[++xr]*2**16+Sr*2**24;return BigInt(Gr)+(BigInt(Vr)<<BigInt(32))}),ae.prototype.readBigUInt64BE=Xn(function(xr){xr=xr>>>0,Fr(xr,"offset");const wr=this[xr],Sr=this[xr+7];(wr===void 0||Sr===void 0)&&Ur(xr,this.length-8);const Gr=wr*2**24+this[++xr]*2**16+this[++xr]*2**8+this[++xr],Vr=this[++xr]*2**24+this[++xr]*2**16+this[++xr]*2**8+Sr;return(BigInt(Gr)<<BigInt(32))+BigInt(Vr)}),ae.prototype.readIntLE=function(xr,wr,Sr){xr=xr>>>0,wr=wr>>>0,Sr||or(xr,wr,this.length);let Gr=this[xr],Vr=1,Yr=0;for(;++Yr<wr&&(Vr*=256);)Gr+=this[xr+Yr]*Vr;return Vr*=128,Gr>=Vr&&(Gr-=Math.pow(2,8*wr)),Gr},ae.prototype.readIntBE=function(xr,wr,Sr){xr=xr>>>0,wr=wr>>>0,Sr||or(xr,wr,this.length);let Gr=wr,Vr=1,Yr=this[xr+--Gr];for(;Gr>0&&(Vr*=256);)Yr+=this[xr+--Gr]*Vr;return Vr*=128,Yr>=Vr&&(Yr-=Math.pow(2,8*wr)),Yr},ae.prototype.readInt8=function(xr,wr){return xr=xr>>>0,wr||or(xr,1,this.length),this[xr]&128?(255-this[xr]+1)*-1:this[xr]},ae.prototype.readInt16LE=function(xr,wr){xr=xr>>>0,wr||or(xr,2,this.length);const Sr=this[xr]|this[xr+1]<<8;return Sr&32768?Sr|4294901760:Sr},ae.prototype.readInt16BE=function(xr,wr){xr=xr>>>0,wr||or(xr,2,this.length);const Sr=this[xr+1]|this[xr]<<8;return Sr&32768?Sr|4294901760:Sr},ae.prototype.readInt32LE=function(xr,wr){return xr=xr>>>0,wr||or(xr,4,this.length),this[xr]|this[xr+1]<<8|this[xr+2]<<16|this[xr+3]<<24},ae.prototype.readInt32BE=function(xr,wr){return xr=xr>>>0,wr||or(xr,4,this.length),this[xr]<<24|this[xr+1]<<16|this[xr+2]<<8|this[xr+3]},ae.prototype.readBigInt64LE=Xn(function(xr){xr=xr>>>0,Fr(xr,"offset");const wr=this[xr],Sr=this[xr+7];(wr===void 0||Sr===void 0)&&Ur(xr,this.length-8);const Gr=this[xr+4]+this[xr+5]*2**8+this[xr+6]*2**16+(Sr<<24);return(BigInt(Gr)<<BigInt(32))+BigInt(wr+this[++xr]*2**8+this[++xr]*2**16+this[++xr]*2**24)}),ae.prototype.readBigInt64BE=Xn(function(xr){xr=xr>>>0,Fr(xr,"offset");const wr=this[xr],Sr=this[xr+7];(wr===void 0||Sr===void 0)&&Ur(xr,this.length-8);const Gr=(wr<<24)+this[++xr]*2**16+this[++xr]*2**8+this[++xr];return(BigInt(Gr)<<BigInt(32))+BigInt(this[++xr]*2**24+this[++xr]*2**16+this[++xr]*2**8+Sr)}),ae.prototype.readFloatLE=function(xr,wr){return xr=xr>>>0,wr||or(xr,4,this.length),re.read(this,xr,!0,23,4)},ae.prototype.readFloatBE=function(xr,wr){return xr=xr>>>0,wr||or(xr,4,this.length),re.read(this,xr,!1,23,4)},ae.prototype.readDoubleLE=function(xr,wr){return xr=xr>>>0,wr||or(xr,8,this.length),re.read(this,xr,!0,52,8)},ae.prototype.readDoubleBE=function(xr,wr){return xr=xr>>>0,wr||or(xr,8,this.length),re.read(this,xr,!1,52,8)};function ye(Rr,xr,wr,Sr,Gr,Vr){if(!ae.isBuffer(Rr))throw new TypeError('"buffer" argument must be a Buffer instance');if(xr>Gr||xr<Vr)throw new RangeError('"value" argument is out of bounds');if(wr+Sr>Rr.length)throw new RangeError("Index out of range")}ae.prototype.writeUintLE=ae.prototype.writeUIntLE=function(xr,wr,Sr,Gr){if(xr=+xr,wr=wr>>>0,Sr=Sr>>>0,!Gr){const Qn=Math.pow(2,8*Sr)-1;ye(this,xr,wr,Sr,Qn,0)}let Vr=1,Yr=0;for(this[wr]=xr&255;++Yr<Sr&&(Vr*=256);)this[wr+Yr]=xr/Vr&255;return wr+Sr},ae.prototype.writeUintBE=ae.prototype.writeUIntBE=function(xr,wr,Sr,Gr){if(xr=+xr,wr=wr>>>0,Sr=Sr>>>0,!Gr){const Qn=Math.pow(2,8*Sr)-1;ye(this,xr,wr,Sr,Qn,0)}let Vr=Sr-1,Yr=1;for(this[wr+Vr]=xr&255;--Vr>=0&&(Yr*=256);)this[wr+Vr]=xr/Yr&255;return wr+Sr},ae.prototype.writeUint8=ae.prototype.writeUInt8=function(xr,wr,Sr){return xr=+xr,wr=wr>>>0,Sr||ye(this,xr,wr,1,255,0),this[wr]=xr&255,wr+1},ae.prototype.writeUint16LE=ae.prototype.writeUInt16LE=function(xr,wr,Sr){return xr=+xr,wr=wr>>>0,Sr||ye(this,xr,wr,2,65535,0),this[wr]=xr&255,this[wr+1]=xr>>>8,wr+2},ae.prototype.writeUint16BE=ae.prototype.writeUInt16BE=function(xr,wr,Sr){return xr=+xr,wr=wr>>>0,Sr||ye(this,xr,wr,2,65535,0),this[wr]=xr>>>8,this[wr+1]=xr&255,wr+2},ae.prototype.writeUint32LE=ae.prototype.writeUInt32LE=function(xr,wr,Sr){return xr=+xr,wr=wr>>>0,Sr||ye(this,xr,wr,4,4294967295,0),this[wr+3]=xr>>>24,this[wr+2]=xr>>>16,this[wr+1]=xr>>>8,this[wr]=xr&255,wr+4},ae.prototype.writeUint32BE=ae.prototype.writeUInt32BE=function(xr,wr,Sr){return xr=+xr,wr=wr>>>0,Sr||ye(this,xr,wr,4,4294967295,0),this[wr]=xr>>>24,this[wr+1]=xr>>>16,this[wr+2]=xr>>>8,this[wr+3]=xr&255,wr+4};function gr(Rr,xr,wr,Sr,Gr){Xr(xr,Sr,Gr,Rr,wr,7);let Vr=Number(xr&BigInt(4294967295));Rr[wr++]=Vr,Vr=Vr>>8,Rr[wr++]=Vr,Vr=Vr>>8,Rr[wr++]=Vr,Vr=Vr>>8,Rr[wr++]=Vr;let Yr=Number(xr>>BigInt(32)&BigInt(4294967295));return Rr[wr++]=Yr,Yr=Yr>>8,Rr[wr++]=Yr,Yr=Yr>>8,Rr[wr++]=Yr,Yr=Yr>>8,Rr[wr++]=Yr,wr}function Ar(Rr,xr,wr,Sr,Gr){Xr(xr,Sr,Gr,Rr,wr,7);let Vr=Number(xr&BigInt(4294967295));Rr[wr+7]=Vr,Vr=Vr>>8,Rr[wr+6]=Vr,Vr=Vr>>8,Rr[wr+5]=Vr,Vr=Vr>>8,Rr[wr+4]=Vr;let Yr=Number(xr>>BigInt(32)&BigInt(4294967295));return Rr[wr+3]=Yr,Yr=Yr>>8,Rr[wr+2]=Yr,Yr=Yr>>8,Rr[wr+1]=Yr,Yr=Yr>>8,Rr[wr]=Yr,wr+8}ae.prototype.writeBigUInt64LE=Xn(function(xr,wr=0){return gr(this,xr,wr,BigInt(0),BigInt("0xffffffffffffffff"))}),ae.prototype.writeBigUInt64BE=Xn(function(xr,wr=0){return Ar(this,xr,wr,BigInt(0),BigInt("0xffffffffffffffff"))}),ae.prototype.writeIntLE=function(xr,wr,Sr,Gr){if(xr=+xr,wr=wr>>>0,!Gr){const ei=Math.pow(2,8*Sr-1);ye(this,xr,wr,Sr,ei-1,-ei)}let Vr=0,Yr=1,Qn=0;for(this[wr]=xr&255;++Vr<Sr&&(Yr*=256);)xr<0&&Qn===0&&this[wr+Vr-1]!==0&&(Qn=1),this[wr+Vr]=(xr/Yr>>0)-Qn&255;return wr+Sr},ae.prototype.writeIntBE=function(xr,wr,Sr,Gr){if(xr=+xr,wr=wr>>>0,!Gr){const ei=Math.pow(2,8*Sr-1);ye(this,xr,wr,Sr,ei-1,-ei)}let Vr=Sr-1,Yr=1,Qn=0;for(this[wr+Vr]=xr&255;--Vr>=0&&(Yr*=256);)xr<0&&Qn===0&&this[wr+Vr+1]!==0&&(Qn=1),this[wr+Vr]=(xr/Yr>>0)-Qn&255;return wr+Sr},ae.prototype.writeInt8=function(xr,wr,Sr){return xr=+xr,wr=wr>>>0,Sr||ye(this,xr,wr,1,127,-128),xr<0&&(xr=255+xr+1),this[wr]=xr&255,wr+1},ae.prototype.writeInt16LE=function(xr,wr,Sr){return xr=+xr,wr=wr>>>0,Sr||ye(this,xr,wr,2,32767,-32768),this[wr]=xr&255,this[wr+1]=xr>>>8,wr+2},ae.prototype.writeInt16BE=function(xr,wr,Sr){return xr=+xr,wr=wr>>>0,Sr||ye(this,xr,wr,2,32767,-32768),this[wr]=xr>>>8,this[wr+1]=xr&255,wr+2},ae.prototype.writeInt32LE=function(xr,wr,Sr){return xr=+xr,wr=wr>>>0,Sr||ye(this,xr,wr,4,2147483647,-2147483648),this[wr]=xr&255,this[wr+1]=xr>>>8,this[wr+2]=xr>>>16,this[wr+3]=xr>>>24,wr+4},ae.prototype.writeInt32BE=function(xr,wr,Sr){return xr=+xr,wr=wr>>>0,Sr||ye(this,xr,wr,4,2147483647,-2147483648),xr<0&&(xr=4294967295+xr+1),this[wr]=xr>>>24,this[wr+1]=xr>>>16,this[wr+2]=xr>>>8,this[wr+3]=xr&255,wr+4},ae.prototype.writeBigInt64LE=Xn(function(xr,wr=0){return gr(this,xr,wr,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),ae.prototype.writeBigInt64BE=Xn(function(xr,wr=0){return Ar(this,xr,wr,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function br(Rr,xr,wr,Sr,Gr,Vr){if(wr+Sr>Rr.length)throw new RangeError("Index out of range");if(wr<0)throw new RangeError("Index out of range")}function Cr(Rr,xr,wr,Sr,Gr){return xr=+xr,wr=wr>>>0,Gr||br(Rr,xr,wr,4),re.write(Rr,xr,wr,Sr,23,4),wr+4}ae.prototype.writeFloatLE=function(xr,wr,Sr){return Cr(this,xr,wr,!0,Sr)},ae.prototype.writeFloatBE=function(xr,wr,Sr){return Cr(this,xr,wr,!1,Sr)};function Lr(Rr,xr,wr,Sr,Gr){return xr=+xr,wr=wr>>>0,Gr||br(Rr,xr,wr,8),re.write(Rr,xr,wr,Sr,52,8),wr+8}ae.prototype.writeDoubleLE=function(xr,wr,Sr){return Lr(this,xr,wr,!0,Sr)},ae.prototype.writeDoubleBE=function(xr,wr,Sr){return Lr(this,xr,wr,!1,Sr)},ae.prototype.copy=function(xr,wr,Sr,Gr){if(!ae.isBuffer(xr))throw new TypeError("argument should be a Buffer");if(Sr||(Sr=0),!Gr&&Gr!==0&&(Gr=this.length),wr>=xr.length&&(wr=xr.length),wr||(wr=0),Gr>0&&Gr<Sr&&(Gr=Sr),Gr===Sr||xr.length===0||this.length===0)return 0;if(wr<0)throw new RangeError("targetStart out of bounds");if(Sr<0||Sr>=this.length)throw new RangeError("Index out of range");if(Gr<0)throw new RangeError("sourceEnd out of bounds");Gr>this.length&&(Gr=this.length),xr.length-wr<Gr-Sr&&(Gr=xr.length-wr+Sr);const Vr=Gr-Sr;return this===xr&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(wr,Sr,Gr):Uint8Array.prototype.set.call(xr,this.subarray(Sr,Gr),wr),Vr},ae.prototype.fill=function(xr,wr,Sr,Gr){if(typeof xr=="string"){if(typeof wr=="string"?(Gr=wr,wr=0,Sr=this.length):typeof Sr=="string"&&(Gr=Sr,Sr=this.length),Gr!==void 0&&typeof Gr!="string")throw new TypeError("encoding must be a string");if(typeof Gr=="string"&&!ae.isEncoding(Gr))throw new TypeError("Unknown encoding: "+Gr);if(xr.length===1){const Yr=xr.charCodeAt(0);(Gr==="utf8"&&Yr<128||Gr==="latin1")&&(xr=Yr)}}else typeof xr=="number"?xr=xr&255:typeof xr=="boolean"&&(xr=Number(xr));if(wr<0||this.length<wr||this.length<Sr)throw new RangeError("Out of range index");if(Sr<=wr)return this;wr=wr>>>0,Sr=Sr===void 0?this.length:Sr>>>0,xr||(xr=0);let Vr;if(typeof xr=="number")for(Vr=wr;Vr<Sr;++Vr)this[Vr]=xr;else{const Yr=ae.isBuffer(xr)?xr:ae.from(xr,Gr),Qn=Yr.length;if(Qn===0)throw new TypeError('The value "'+xr+'" is invalid for argument "value"');for(Vr=0;Vr<Sr-wr;++Vr)this[Vr+wr]=Yr[Vr%Qn]}return this};const Dr={};function Wr(Rr,xr,wr){Dr[Rr]=class extends wr{constructor(){super();Object.defineProperty(this,"message",{value:xr.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Rr}]`,this.stack,delete this.name}get code(){return Rr}set code(Gr){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Gr,writable:!0})}toString(){return`${this.name} [${Rr}]: ${this.message}`}}}Wr("ERR_BUFFER_OUT_OF_BOUNDS",function(Rr){return Rr?`${Rr} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Wr("ERR_INVALID_ARG_TYPE",function(Rr,xr){return`The "${Rr}" argument must be of type number. Received type ${typeof xr}`},TypeError),Wr("ERR_OUT_OF_RANGE",function(Rr,xr,wr){let Sr=`The value of "${Rr}" is out of range.`,Gr=wr;return Number.isInteger(wr)&&Math.abs(wr)>2**32?Gr=Qr(String(wr)):typeof wr=="bigint"&&(Gr=String(wr),(wr>BigInt(2)**BigInt(32)||wr<-(BigInt(2)**BigInt(32)))&&(Gr=Qr(Gr)),Gr+="n"),Sr+=` It must be ${xr}. Received ${Gr}`,Sr},RangeError);function Qr(Rr){let xr="",wr=Rr.length;const Sr=Rr[0]==="-"?1:0;for(;wr>=Sr+4;wr-=3)xr=`_${Rr.slice(wr-3,wr)}${xr}`;return`${Rr.slice(0,wr)}${xr}`}function Zr(Rr,xr,wr){Fr(xr,"offset"),(Rr[xr]===void 0||Rr[xr+wr]===void 0)&&Ur(xr,Rr.length-(wr+1))}function Xr(Rr,xr,wr,Sr,Gr,Vr){if(Rr>wr||Rr<xr){const Yr=typeof xr=="bigint"?"n":"";let Qn;throw Vr>3?xr===0||xr===BigInt(0)?Qn=`>= 0${Yr} and < 2${Yr} ** ${(Vr+1)*8}${Yr}`:Qn=`>= -(2${Yr} ** ${(Vr+1)*8-1}${Yr}) and < 2 ** ${(Vr+1)*8-1}${Yr}`:Qn=`>= ${xr}${Yr} and <= ${wr}${Yr}`,new Dr.ERR_OUT_OF_RANGE("value",Qn,Rr)}Zr(Sr,Gr,Vr)}function Fr(Rr,xr){if(typeof Rr!="number")throw new Dr.ERR_INVALID_ARG_TYPE(xr,"number",Rr)}function Ur(Rr,xr,wr){throw Math.floor(Rr)!==Rr?(Fr(Rr,wr),new Dr.ERR_OUT_OF_RANGE(wr||"offset","an integer",Rr)):xr<0?new Dr.ERR_BUFFER_OUT_OF_BOUNDS:new Dr.ERR_OUT_OF_RANGE(wr||"offset",`>= ${wr?1:0} and <= ${xr}`,Rr)}const Kr=/[^+/0-9A-Za-z-_]/g;function kr(Rr){if(Rr=Rr.split("=")[0],Rr=Rr.trim().replace(Kr,""),Rr.length<2)return"";for(;Rr.length%4!==0;)Rr=Rr+"=";return Rr}function _r(Rr,xr){xr=xr||1/0;let wr;const Sr=Rr.length;let Gr=null;const Vr=[];for(let Yr=0;Yr<Sr;++Yr){if(wr=Rr.charCodeAt(Yr),wr>55295&&wr<57344){if(!Gr){if(wr>56319){(xr-=3)>-1&&Vr.push(239,191,189);continue}else if(Yr+1===Sr){(xr-=3)>-1&&Vr.push(239,191,189);continue}Gr=wr;continue}if(wr<56320){(xr-=3)>-1&&Vr.push(239,191,189),Gr=wr;continue}wr=(Gr-55296<<10|wr-56320)+65536}else Gr&&(xr-=3)>-1&&Vr.push(239,191,189);if(Gr=null,wr<128){if((xr-=1)<0)break;Vr.push(wr)}else if(wr<2048){if((xr-=2)<0)break;Vr.push(wr>>6|192,wr&63|128)}else if(wr<65536){if((xr-=3)<0)break;Vr.push(wr>>12|224,wr>>6&63|128,wr&63|128)}else if(wr<1114112){if((xr-=4)<0)break;Vr.push(wr>>18|240,wr>>12&63|128,wr>>6&63|128,wr&63|128)}else throw new Error("Invalid code point")}return Vr}function $r(Rr){const xr=[];for(let wr=0;wr<Rr.length;++wr)xr.push(Rr.charCodeAt(wr)&255);return xr}function Mr(Rr,xr){let wr,Sr,Gr;const Vr=[];for(let Yr=0;Yr<Rr.length&&!((xr-=2)<0);++Yr)wr=Rr.charCodeAt(Yr),Sr=wr>>8,Gr=wr%256,Vr.push(Gr),Vr.push(Sr);return Vr}function jr(Rr){return ee.toByteArray(kr(Rr))}function qr(Rr,xr,wr,Sr){let Gr;for(Gr=0;Gr<Sr&&!(Gr+wr>=xr.length||Gr>=Rr.length);++Gr)xr[Gr+wr]=Rr[Gr];return Gr}function Jr(Rr,xr){return Rr instanceof xr||Rr!=null&&Rr.constructor!=null&&Rr.constructor.name!=null&&Rr.constructor.name===xr.name}function qn(Rr){return Rr!==Rr}const zn=function(){const Rr="0123456789abcdef",xr=new Array(256);for(let wr=0;wr<16;++wr){const Sr=wr*16;for(let Gr=0;Gr<16;++Gr)xr[Sr+Gr]=Rr[wr]+Rr[Gr]}return xr}();function Xn(Rr){return typeof BigInt=="undefined"?Jn:Rr}function Jn(){throw new Error("BigInt not supported")}})(buffer$2);var util$9={},types$2={},shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var ee={},re=Symbol("test"),ne=Object(re);if(typeof re=="string"||Object.prototype.toString.call(re)!=="[object Symbol]"||Object.prototype.toString.call(ne)!=="[object Symbol]")return!1;var ie=42;ee[re]=ie;for(re in ee)return!1;if(typeof Object.keys=="function"&&Object.keys(ee).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(ee).length!==0)return!1;var oe=Object.getOwnPropertySymbols(ee);if(oe.length!==1||oe[0]!==re||!Object.prototype.propertyIsEnumerable.call(ee,re))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var se=Object.getOwnPropertyDescriptor(ee,re);if(se.value!==ie||se.enumerable!==!0)return!1}return!0},hasSymbols$2=shams$1,shams=function(){return hasSymbols$2()&&!!Symbol.toStringTag},origSymbol=typeof Symbol!="undefined"&&Symbol,hasSymbolSham=shams$1,hasSymbols$1=function(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",slice$1=Array.prototype.slice,toStr$1=Object.prototype.toString,funcType="[object Function]",implementation$1=function(ee){var re=this;if(typeof re!="function"||toStr$1.call(re)!==funcType)throw new TypeError(ERROR_MESSAGE+re);for(var ne=slice$1.call(arguments,1),ie,oe=function(){if(this instanceof ie){var le=re.apply(this,ne.concat(slice$1.call(arguments)));return Object(le)===le?le:this}else return re.apply(ee,ne.concat(slice$1.call(arguments)))},se=Math.max(0,re.length-ne.length),ae=[],fe=0;fe<se;fe++)ae.push("$"+fe);if(ie=Function("binder","return function ("+ae.join(",")+"){ return binder.apply(this,arguments); }")(oe),re.prototype){var ue=function(){};ue.prototype=re.prototype,ie.prototype=new ue,ue.prototype=null}return ie},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,bind$2=functionBind,src$2=bind$2.call(Function.call,Object.prototype.hasOwnProperty),undefined$1,$SyntaxError=SyntaxError,$Function=Function,$TypeError=TypeError,getEvalledConstructor=function(te){try{return $Function('"use strict"; return ('+te+").constructor;")()}catch{}},$gOPD$1=Object.getOwnPropertyDescriptor;if($gOPD$1)try{$gOPD$1({},"")}catch{$gOPD$1=null}var throwTypeError=function(){throw new $TypeError},ThrowTypeError=$gOPD$1?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD$1(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols=hasSymbols$1(),getProto$2=Object.getPrototypeOf||function(te){return te.__proto__},needsEval={},TypedArray=typeof Uint8Array=="undefined"?undefined$1:getProto$2(Uint8Array),INTRINSICS={"%AggregateError%":typeof AggregateError=="undefined"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols?getProto$2([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics=="undefined"?undefined$1:Atomics,"%BigInt%":typeof BigInt=="undefined"?undefined$1:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array=="undefined"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols?getProto$2(getProto$2([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map=="undefined"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!hasSymbols?undefined$1:getProto$2(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?undefined$1:Promise,"%Proxy%":typeof Proxy=="undefined"?undefined$1:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!hasSymbols?undefined$1:getProto$2(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols?getProto$2(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols?Symbol:undefined$1,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError,"%Uint8Array%":typeof Uint8Array=="undefined"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?undefined$1:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?undefined$1:WeakSet},doEval=function te(ee){var re;if(ee==="%AsyncFunction%")re=getEvalledConstructor("async function () {}");else if(ee==="%GeneratorFunction%")re=getEvalledConstructor("function* () {}");else if(ee==="%AsyncGeneratorFunction%")re=getEvalledConstructor("async function* () {}");else if(ee==="%AsyncGenerator%"){var ne=te("%AsyncGeneratorFunction%");ne&&(re=ne.prototype)}else if(ee==="%AsyncIteratorPrototype%"){var ie=te("%AsyncGenerator%");ie&&(re=getProto$2(ie.prototype))}return INTRINSICS[ee]=re,re},LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind$1=functionBind,hasOwn$3=src$2,$concat=bind$1.call(Function.call,Array.prototype.concat),$spliceApply=bind$1.call(Function.apply,Array.prototype.splice),$replace=bind$1.call(Function.call,String.prototype.replace),$strSlice=bind$1.call(Function.call,String.prototype.slice),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(ee){var re=$strSlice(ee,0,1),ne=$strSlice(ee,-1);if(re==="%"&&ne!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");if(ne==="%"&&re!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");var ie=[];return $replace(ee,rePropName,function(oe,se,ae,fe){ie[ie.length]=ae?$replace(fe,reEscapeChar,"$1"):se||oe}),ie},getBaseIntrinsic=function(ee,re){var ne=ee,ie;if(hasOwn$3(LEGACY_ALIASES,ne)&&(ie=LEGACY_ALIASES[ne],ne="%"+ie[0]+"%"),hasOwn$3(INTRINSICS,ne)){var oe=INTRINSICS[ne];if(oe===needsEval&&(oe=doEval(ne)),typeof oe=="undefined"&&!re)throw new $TypeError("intrinsic "+ee+" exists, but is not available. Please file an issue!");return{alias:ie,name:ne,value:oe}}throw new $SyntaxError("intrinsic "+ee+" does not exist!")},getIntrinsic=function(ee,re){if(typeof ee!="string"||ee.length===0)throw new $TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof re!="boolean")throw new $TypeError('"allowMissing" argument must be a boolean');var ne=stringToPath(ee),ie=ne.length>0?ne[0]:"",oe=getBaseIntrinsic("%"+ie+"%",re),se=oe.name,ae=oe.value,fe=!1,ue=oe.alias;ue&&(ie=ue[0],$spliceApply(ne,$concat([0,1],ue)));for(var le=1,pe=!0;le<ne.length;le+=1){var rr=ne[le],cr=$strSlice(rr,0,1),ar=$strSlice(rr,-1);if((cr==='"'||cr==="'"||cr==="`"||ar==='"'||ar==="'"||ar==="`")&&cr!==ar)throw new $SyntaxError("property names with quotes must have matching quotes");if((rr==="constructor"||!pe)&&(fe=!0),ie+="."+rr,se="%"+ie+"%",hasOwn$3(INTRINSICS,se))ae=INTRINSICS[se];else if(ae!=null){if(!(rr in ae)){if(!re)throw new $TypeError("base intrinsic for "+ee+" exists, but the property is not available.");return}if($gOPD$1&&le+1>=ne.length){var mr=$gOPD$1(ae,rr);pe=!!mr,pe&&"get"in mr&&!("originalValue"in mr.get)?ae=mr.get:ae=ae[rr]}else pe=hasOwn$3(ae,rr),ae=ae[rr];pe&&!fe&&(INTRINSICS[se]=ae)}}return ae},callBind$1={exports:{}};(function(te){var ee=functionBind,re=getIntrinsic,ne=re("%Function.prototype.apply%"),ie=re("%Function.prototype.call%"),oe=re("%Reflect.apply%",!0)||ee.call(ie,ne),se=re("%Object.getOwnPropertyDescriptor%",!0),ae=re("%Object.defineProperty%",!0),fe=re("%Math.max%");if(ae)try{ae({},"a",{value:1})}catch{ae=null}te.exports=function(pe){var rr=oe(ee,ie,arguments);if(se&&ae){var cr=se(rr,"length");cr.configurable&&ae(rr,"length",{value:1+fe(0,pe.length-(arguments.length-1))})}return rr};var ue=function(){return oe(ee,ne,arguments)};ae?ae(te.exports,"apply",{value:ue}):te.exports.apply=ue})(callBind$1);var GetIntrinsic$1=getIntrinsic,callBind=callBind$1.exports,$indexOf$1=callBind(GetIntrinsic$1("String.prototype.indexOf")),callBound$3=function(ee,re){var ne=GetIntrinsic$1(ee,!!re);return typeof ne=="function"&&$indexOf$1(ee,".prototype.")>-1?callBind(ne):ne},hasToStringTag$3=shams(),callBound$2=callBound$3,$toString$2=callBound$2("Object.prototype.toString"),isStandardArguments=function(ee){return hasToStringTag$3&&ee&&typeof ee=="object"&&Symbol.toStringTag in ee?!1:$toString$2(ee)==="[object Arguments]"},isLegacyArguments=function(ee){return isStandardArguments(ee)?!0:ee!==null&&typeof ee=="object"&&typeof ee.length=="number"&&ee.length>=0&&$toString$2(ee)!=="[object Array]"&&$toString$2(ee.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments$3=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr=Object.prototype.toString,fnToStr=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$2=shams(),getProto$1=Object.getPrototypeOf,getGeneratorFunc=function(){if(!hasToStringTag$2)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function(ee){if(typeof ee!="function")return!1;if(isFnRegex.test(fnToStr.call(ee)))return!0;if(!hasToStringTag$2){var re=toStr.call(ee);return re==="[object GeneratorFunction]"}if(!getProto$1)return!1;if(typeof GeneratorFunction=="undefined"){var ne=getGeneratorFunc();GeneratorFunction=ne?getProto$1(ne):!1}return getProto$1(ee)===GeneratorFunction},hasOwn$2=Object.prototype.hasOwnProperty,toString$2=Object.prototype.toString,foreach=function(ee,re,ne){if(toString$2.call(re)!=="[object Function]")throw new TypeError("iterator must be a function");var ie=ee.length;if(ie===+ie)for(var oe=0;oe<ie;oe++)re.call(ne,ee[oe],oe,ee);else for(var se in ee)hasOwn$2.call(ee,se)&&re.call(ne,ee[se],se,ee)},possibleNames=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],g$6=typeof globalThis=="undefined"?commonjsGlobal$1:globalThis,availableTypedArrays$2=function(){for(var ee=[],re=0;re<possibleNames.length;re++)typeof g$6[possibleNames[re]]=="function"&&(ee[ee.length]=possibleNames[re]);return ee},GetIntrinsic=getIntrinsic,$gOPD=GetIntrinsic("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch{$gOPD=null}var getOwnPropertyDescriptor=$gOPD,forEach$1=foreach,availableTypedArrays$1=availableTypedArrays$2,callBound$1=callBound$3,$toString$1=callBound$1("Object.prototype.toString"),hasToStringTag$1=shams(),g$5=typeof globalThis=="undefined"?commonjsGlobal$1:globalThis,typedArrays$1=availableTypedArrays$1(),$indexOf=callBound$1("Array.prototype.indexOf",!0)||function(ee,re){for(var ne=0;ne<ee.length;ne+=1)if(ee[ne]===re)return ne;return-1},$slice$1=callBound$1("String.prototype.slice"),toStrTags$1={},gOPD$1=getOwnPropertyDescriptor,getPrototypeOf$1=Object.getPrototypeOf;hasToStringTag$1&&gOPD$1&&getPrototypeOf$1&&forEach$1(typedArrays$1,function(te){var ee=new g$5[te];if(Symbol.toStringTag in ee){var re=getPrototypeOf$1(ee),ne=gOPD$1(re,Symbol.toStringTag);if(!ne){var ie=getPrototypeOf$1(re);ne=gOPD$1(ie,Symbol.toStringTag)}toStrTags$1[te]=ne.get}});var tryTypedArrays$1=function(ee){var re=!1;return forEach$1(toStrTags$1,function(ne,ie){if(!re)try{re=ne.call(ee)===ie}catch{}}),re},isTypedArray$5=function(ee){if(!ee||typeof ee!="object")return!1;if(!hasToStringTag$1||!(Symbol.toStringTag in ee)){var re=$slice$1($toString$1(ee),8,-1);return $indexOf(typedArrays$1,re)>-1}return gOPD$1?tryTypedArrays$1(ee):!1},forEach=foreach,availableTypedArrays=availableTypedArrays$2,callBound=callBound$3,$toString=callBound("Object.prototype.toString"),hasToStringTag=shams(),g$4=typeof globalThis=="undefined"?commonjsGlobal$1:globalThis,typedArrays=availableTypedArrays(),$slice=callBound("String.prototype.slice"),toStrTags={},gOPD=getOwnPropertyDescriptor,getPrototypeOf=Object.getPrototypeOf;hasToStringTag&&gOPD&&getPrototypeOf&&forEach(typedArrays,function(te){if(typeof g$4[te]=="function"){var ee=new g$4[te];if(Symbol.toStringTag in ee){var re=getPrototypeOf(ee),ne=gOPD(re,Symbol.toStringTag);if(!ne){var ie=getPrototypeOf(re);ne=gOPD(ie,Symbol.toStringTag)}toStrTags[te]=ne.get}}});var tryTypedArrays=function(ee){var re=!1;return forEach(toStrTags,function(ne,ie){if(!re)try{var oe=ne.call(ee);oe===ie&&(re=oe)}catch{}}),re},isTypedArray$4=isTypedArray$5,whichTypedArray=function(ee){return isTypedArray$4(ee)?!hasToStringTag||!(Symbol.toStringTag in ee)?$slice($toString(ee),8,-1):tryTypedArrays(ee):!1};(function(te){var ee=isArguments$3,re=isGeneratorFunction,ne=whichTypedArray,ie=isTypedArray$5;function oe(Mr){return Mr.call.bind(Mr)}var se=typeof BigInt!="undefined",ae=typeof Symbol!="undefined",fe=oe(Object.prototype.toString),ue=oe(Number.prototype.valueOf),le=oe(String.prototype.valueOf),pe=oe(Boolean.prototype.valueOf);if(se)var rr=oe(BigInt.prototype.valueOf);if(ae)var cr=oe(Symbol.prototype.valueOf);function ar(Mr,jr){if(typeof Mr!="object")return!1;try{return jr(Mr),!0}catch{return!1}}te.isArgumentsObject=ee,te.isGeneratorFunction=re,te.isTypedArray=ie;function mr(Mr){return typeof Promise!="undefined"&&Mr instanceof Promise||Mr!==null&&typeof Mr=="object"&&typeof Mr.then=="function"&&typeof Mr.catch=="function"}te.isPromise=mr;function pr(Mr){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(Mr):ie(Mr)||gr(Mr)}te.isArrayBufferView=pr;function yr(Mr){return ne(Mr)==="Uint8Array"}te.isUint8Array=yr;function vr(Mr){return ne(Mr)==="Uint8ClampedArray"}te.isUint8ClampedArray=vr;function Er(Mr){return ne(Mr)==="Uint16Array"}te.isUint16Array=Er;function Tr(Mr){return ne(Mr)==="Uint32Array"}te.isUint32Array=Tr;function Ir(Mr){return ne(Mr)==="Int8Array"}te.isInt8Array=Ir;function Or(Mr){return ne(Mr)==="Int16Array"}te.isInt16Array=Or;function Hr(Mr){return ne(Mr)==="Int32Array"}te.isInt32Array=Hr;function Pr(Mr){return ne(Mr)==="Float32Array"}te.isFloat32Array=Pr;function Br(Mr){return ne(Mr)==="Float64Array"}te.isFloat64Array=Br;function Nr(Mr){return ne(Mr)==="BigInt64Array"}te.isBigInt64Array=Nr;function dr(Mr){return ne(Mr)==="BigUint64Array"}te.isBigUint64Array=dr;function tr(Mr){return fe(Mr)==="[object Map]"}tr.working=typeof Map!="undefined"&&tr(new Map);function ve(Mr){return typeof Map=="undefined"?!1:tr.working?tr(Mr):Mr instanceof Map}te.isMap=ve;function ce(Mr){return fe(Mr)==="[object Set]"}ce.working=typeof Set!="undefined"&&ce(new Set);function me(Mr){return typeof Set=="undefined"?!1:ce.working?ce(Mr):Mr instanceof Set}te.isSet=me;function ir(Mr){return fe(Mr)==="[object WeakMap]"}ir.working=typeof WeakMap!="undefined"&&ir(new WeakMap);function ur(Mr){return typeof WeakMap=="undefined"?!1:ir.working?ir(Mr):Mr instanceof WeakMap}te.isWeakMap=ur;function lr(Mr){return fe(Mr)==="[object WeakSet]"}lr.working=typeof WeakSet!="undefined"&&lr(new WeakSet);function er(Mr){return lr(Mr)}te.isWeakSet=er;function nr(Mr){return fe(Mr)==="[object ArrayBuffer]"}nr.working=typeof ArrayBuffer!="undefined"&&nr(new ArrayBuffer);function or(Mr){return typeof ArrayBuffer=="undefined"?!1:nr.working?nr(Mr):Mr instanceof ArrayBuffer}te.isArrayBuffer=or;function ye(Mr){return fe(Mr)==="[object DataView]"}ye.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&ye(new DataView(new ArrayBuffer(1),0,1));function gr(Mr){return typeof DataView=="undefined"?!1:ye.working?ye(Mr):Mr instanceof DataView}te.isDataView=gr;var Ar=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function br(Mr){return fe(Mr)==="[object SharedArrayBuffer]"}function Cr(Mr){return typeof Ar=="undefined"?!1:(typeof br.working=="undefined"&&(br.working=br(new Ar)),br.working?br(Mr):Mr instanceof Ar)}te.isSharedArrayBuffer=Cr;function Lr(Mr){return fe(Mr)==="[object AsyncFunction]"}te.isAsyncFunction=Lr;function Dr(Mr){return fe(Mr)==="[object Map Iterator]"}te.isMapIterator=Dr;function Wr(Mr){return fe(Mr)==="[object Set Iterator]"}te.isSetIterator=Wr;function Qr(Mr){return fe(Mr)==="[object Generator]"}te.isGeneratorObject=Qr;function Zr(Mr){return fe(Mr)==="[object WebAssembly.Module]"}te.isWebAssemblyCompiledModule=Zr;function Xr(Mr){return ar(Mr,ue)}te.isNumberObject=Xr;function Fr(Mr){return ar(Mr,le)}te.isStringObject=Fr;function Ur(Mr){return ar(Mr,pe)}te.isBooleanObject=Ur;function Kr(Mr){return se&&ar(Mr,rr)}te.isBigIntObject=Kr;function kr(Mr){return ae&&ar(Mr,cr)}te.isSymbolObject=kr;function _r(Mr){return Xr(Mr)||Fr(Mr)||Ur(Mr)||Kr(Mr)||kr(Mr)}te.isBoxedPrimitive=_r;function $r(Mr){return typeof Uint8Array!="undefined"&&(or(Mr)||Cr(Mr))}te.isAnyArrayBuffer=$r,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Mr){Object.defineProperty(te,Mr,{enumerable:!1,value:function(){throw new Error(Mr+" is not supported in userland")}})})})(types$2);var isBufferBrowser$1=function(ee){return ee&&typeof ee=="object"&&typeof ee.copy=="function"&&typeof ee.fill=="function"&&typeof ee.readUInt8=="function"},inherits_browser$5={exports:{}};typeof Object.create=="function"?inherits_browser$5.exports=function(ee,re){re&&(ee.super_=re,ee.prototype=Object.create(re.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser$5.exports=function(ee,re){if(re){ee.super_=re;var ne=function(){};ne.prototype=re.prototype,ee.prototype=new ne,ee.prototype.constructor=ee}};(function(te){var ee=Object.getOwnPropertyDescriptors||function(gr){for(var Ar=Object.keys(gr),br={},Cr=0;Cr<Ar.length;Cr++)br[Ar[Cr]]=Object.getOwnPropertyDescriptor(gr,Ar[Cr]);return br},re=/%[sdj%]/g;te.format=function(ye){if(!Ir(ye)){for(var gr=[],Ar=0;Ar<arguments.length;Ar++)gr.push(se(arguments[Ar]));return gr.join(" ")}for(var Ar=1,br=arguments,Cr=br.length,Lr=String(ye).replace(re,function(Wr){if(Wr==="%%")return"%";if(Ar>=Cr)return Wr;switch(Wr){case"%s":return String(br[Ar++]);case"%d":return Number(br[Ar++]);case"%j":try{return JSON.stringify(br[Ar++])}catch{return"[Circular]"}default:return Wr}}),Dr=br[Ar];Ar<Cr;Dr=br[++Ar])vr(Dr)||!Br(Dr)?Lr+=" "+Dr:Lr+=" "+se(Dr);return Lr},te.deprecate=function(ye,gr){if(typeof process!="undefined"&&process.noDeprecation===!0)return ye;if(typeof process=="undefined")return function(){return te.deprecate(ye,gr).apply(this,arguments)};var Ar=!1;function br(){if(!Ar){if(process.throwDeprecation)throw new Error(gr);process.traceDeprecation?console.trace(gr):console.error(gr),Ar=!0}return ye.apply(this,arguments)}return br};var ne={},ie=/^$/;if({}.NODE_DEBUG){var oe={}.NODE_DEBUG;oe=oe.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),ie=new RegExp("^"+oe+"$","i")}te.debuglog=function(ye){if(ye=ye.toUpperCase(),!ne[ye])if(ie.test(ye)){var gr=process.pid;ne[ye]=function(){var Ar=te.format.apply(te,arguments);console.error("%s %d: %s",ye,gr,Ar)}}else ne[ye]=function(){};return ne[ye]};function se(ye,gr){var Ar={seen:[],stylize:fe};return arguments.length>=3&&(Ar.depth=arguments[2]),arguments.length>=4&&(Ar.colors=arguments[3]),yr(gr)?Ar.showHidden=gr:gr&&te._extend(Ar,gr),Hr(Ar.showHidden)&&(Ar.showHidden=!1),Hr(Ar.depth)&&(Ar.depth=2),Hr(Ar.colors)&&(Ar.colors=!1),Hr(Ar.customInspect)&&(Ar.customInspect=!0),Ar.colors&&(Ar.stylize=ae),le(Ar,ye,Ar.depth)}te.inspect=se,se.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},se.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function ae(ye,gr){var Ar=se.styles[gr];return Ar?"\x1B["+se.colors[Ar][0]+"m"+ye+"\x1B["+se.colors[Ar][1]+"m":ye}function fe(ye,gr){return ye}function ue(ye){var gr={};return ye.forEach(function(Ar,br){gr[Ar]=!0}),gr}function le(ye,gr,Ar){if(ye.customInspect&&gr&&tr(gr.inspect)&&gr.inspect!==te.inspect&&!(gr.constructor&&gr.constructor.prototype===gr)){var br=gr.inspect(Ar,ye);return Ir(br)||(br=le(ye,br,Ar)),br}var Cr=pe(ye,gr);if(Cr)return Cr;var Lr=Object.keys(gr),Dr=ue(Lr);if(ye.showHidden&&(Lr=Object.getOwnPropertyNames(gr)),dr(gr)&&(Lr.indexOf("message")>=0||Lr.indexOf("description")>=0))return rr(gr);if(Lr.length===0){if(tr(gr)){var Wr=gr.name?": "+gr.name:"";return ye.stylize("[Function"+Wr+"]","special")}if(Pr(gr))return ye.stylize(RegExp.prototype.toString.call(gr),"regexp");if(Nr(gr))return ye.stylize(Date.prototype.toString.call(gr),"date");if(dr(gr))return rr(gr)}var Qr="",Zr=!1,Xr=["{","}"];if(pr(gr)&&(Zr=!0,Xr=["[","]"]),tr(gr)){var Fr=gr.name?": "+gr.name:"";Qr=" [Function"+Fr+"]"}if(Pr(gr)&&(Qr=" "+RegExp.prototype.toString.call(gr)),Nr(gr)&&(Qr=" "+Date.prototype.toUTCString.call(gr)),dr(gr)&&(Qr=" "+rr(gr)),Lr.length===0&&(!Zr||gr.length==0))return Xr[0]+Qr+Xr[1];if(Ar<0)return Pr(gr)?ye.stylize(RegExp.prototype.toString.call(gr),"regexp"):ye.stylize("[Object]","special");ye.seen.push(gr);var Ur;return Zr?Ur=cr(ye,gr,Ar,Dr,Lr):Ur=Lr.map(function(Kr){return ar(ye,gr,Ar,Dr,Kr,Zr)}),ye.seen.pop(),mr(Ur,Qr,Xr)}function pe(ye,gr){if(Hr(gr))return ye.stylize("undefined","undefined");if(Ir(gr)){var Ar="'"+JSON.stringify(gr).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ye.stylize(Ar,"string")}if(Tr(gr))return ye.stylize(""+gr,"number");if(yr(gr))return ye.stylize(""+gr,"boolean");if(vr(gr))return ye.stylize("null","null")}function rr(ye){return"["+Error.prototype.toString.call(ye)+"]"}function cr(ye,gr,Ar,br,Cr){for(var Lr=[],Dr=0,Wr=gr.length;Dr<Wr;++Dr)lr(gr,String(Dr))?Lr.push(ar(ye,gr,Ar,br,String(Dr),!0)):Lr.push("");return Cr.forEach(function(Qr){Qr.match(/^\d+$/)||Lr.push(ar(ye,gr,Ar,br,Qr,!0))}),Lr}function ar(ye,gr,Ar,br,Cr,Lr){var Dr,Wr,Qr;if(Qr=Object.getOwnPropertyDescriptor(gr,Cr)||{value:gr[Cr]},Qr.get?Qr.set?Wr=ye.stylize("[Getter/Setter]","special"):Wr=ye.stylize("[Getter]","special"):Qr.set&&(Wr=ye.stylize("[Setter]","special")),lr(br,Cr)||(Dr="["+Cr+"]"),Wr||(ye.seen.indexOf(Qr.value)<0?(vr(Ar)?Wr=le(ye,Qr.value,null):Wr=le(ye,Qr.value,Ar-1),Wr.indexOf(`
`)>-1&&(Lr?Wr=Wr.split(`
`).map(function(Zr){return"  "+Zr}).join(`
`).substr(2):Wr=`
`+Wr.split(`
`).map(function(Zr){return"   "+Zr}).join(`
`))):Wr=ye.stylize("[Circular]","special")),Hr(Dr)){if(Lr&&Cr.match(/^\d+$/))return Wr;Dr=JSON.stringify(""+Cr),Dr.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Dr=Dr.substr(1,Dr.length-2),Dr=ye.stylize(Dr,"name")):(Dr=Dr.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Dr=ye.stylize(Dr,"string"))}return Dr+": "+Wr}function mr(ye,gr,Ar){var br=ye.reduce(function(Cr,Lr){return Lr.indexOf(`
`)>=0,Cr+Lr.replace(/\u001b\[\d\d?m/g,"").length+1},0);return br>60?Ar[0]+(gr===""?"":gr+`
 `)+" "+ye.join(`,
  `)+" "+Ar[1]:Ar[0]+gr+" "+ye.join(", ")+" "+Ar[1]}te.types=types$2;function pr(ye){return Array.isArray(ye)}te.isArray=pr;function yr(ye){return typeof ye=="boolean"}te.isBoolean=yr;function vr(ye){return ye===null}te.isNull=vr;function Er(ye){return ye==null}te.isNullOrUndefined=Er;function Tr(ye){return typeof ye=="number"}te.isNumber=Tr;function Ir(ye){return typeof ye=="string"}te.isString=Ir;function Or(ye){return typeof ye=="symbol"}te.isSymbol=Or;function Hr(ye){return ye===void 0}te.isUndefined=Hr;function Pr(ye){return Br(ye)&&ce(ye)==="[object RegExp]"}te.isRegExp=Pr,te.types.isRegExp=Pr;function Br(ye){return typeof ye=="object"&&ye!==null}te.isObject=Br;function Nr(ye){return Br(ye)&&ce(ye)==="[object Date]"}te.isDate=Nr,te.types.isDate=Nr;function dr(ye){return Br(ye)&&(ce(ye)==="[object Error]"||ye instanceof Error)}te.isError=dr,te.types.isNativeError=dr;function tr(ye){return typeof ye=="function"}te.isFunction=tr;function ve(ye){return ye===null||typeof ye=="boolean"||typeof ye=="number"||typeof ye=="string"||typeof ye=="symbol"||typeof ye=="undefined"}te.isPrimitive=ve,te.isBuffer=isBufferBrowser$1;function ce(ye){return Object.prototype.toString.call(ye)}function me(ye){return ye<10?"0"+ye.toString(10):ye.toString(10)}var ir=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ur(){var ye=new Date,gr=[me(ye.getHours()),me(ye.getMinutes()),me(ye.getSeconds())].join(":");return[ye.getDate(),ir[ye.getMonth()],gr].join(" ")}te.log=function(){console.log("%s - %s",ur(),te.format.apply(te,arguments))},te.inherits=inherits_browser$5.exports,te._extend=function(ye,gr){if(!gr||!Br(gr))return ye;for(var Ar=Object.keys(gr),br=Ar.length;br--;)ye[Ar[br]]=gr[Ar[br]];return ye};function lr(ye,gr){return Object.prototype.hasOwnProperty.call(ye,gr)}var er=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;te.promisify=function(gr){if(typeof gr!="function")throw new TypeError('The "original" argument must be of type Function');if(er&&gr[er]){var Ar=gr[er];if(typeof Ar!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Ar,er,{value:Ar,enumerable:!1,writable:!1,configurable:!0}),Ar}function Ar(){for(var br,Cr,Lr=new Promise(function(Qr,Zr){br=Qr,Cr=Zr}),Dr=[],Wr=0;Wr<arguments.length;Wr++)Dr.push(arguments[Wr]);Dr.push(function(Qr,Zr){Qr?Cr(Qr):br(Zr)});try{gr.apply(this,Dr)}catch(Qr){Cr(Qr)}return Lr}return Object.setPrototypeOf(Ar,Object.getPrototypeOf(gr)),er&&Object.defineProperty(Ar,er,{value:Ar,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Ar,ee(gr))},te.promisify.custom=er;function nr(ye,gr){if(!ye){var Ar=new Error("Promise was rejected with a falsy value");Ar.reason=ye,ye=Ar}return gr(ye)}function or(ye){if(typeof ye!="function")throw new TypeError('The "original" argument must be of type Function');function gr(){for(var Ar=[],br=0;br<arguments.length;br++)Ar.push(arguments[br]);var Cr=Ar.pop();if(typeof Cr!="function")throw new TypeError("The last argument must be of type Function");var Lr=this,Dr=function(){return Cr.apply(Lr,arguments)};ye.apply(this,Ar).then(function(Wr){process.nextTick(Dr.bind(null,null,Wr))},function(Wr){process.nextTick(nr.bind(null,Wr,Dr))})}return Object.setPrototypeOf(gr,Object.getPrototypeOf(ye)),Object.defineProperties(gr,ee(ye)),gr}te.callbackify=or})(util$9);function makeMap(te,ee){const re=Object.create(null),ne=te.split(",");for(let ie=0;ie<ne.length;ie++)re[ne[ie]]=!0;return ee?ie=>!!re[ie.toLowerCase()]:ie=>!!re[ie]}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(te){return!!te||te===""}function normalizeStyle(te){if(isArray$8(te)){const ee={};for(let re=0;re<te.length;re++){const ne=te[re],ie=isString$1(ne)?parseStringStyle(ne):normalizeStyle(ne);if(ie)for(const oe in ie)ee[oe]=ie[oe]}return ee}else{if(isString$1(te))return te;if(isObject$4(te))return te}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:(.+)/;function parseStringStyle(te){const ee={};return te.split(listDelimiterRE).forEach(re=>{if(re){const ne=re.split(propertyDelimiterRE);ne.length>1&&(ee[ne[0].trim()]=ne[1].trim())}}),ee}function normalizeClass(te){let ee="";if(isString$1(te))ee=te;else if(isArray$8(te))for(let re=0;re<te.length;re++){const ne=normalizeClass(te[re]);ne&&(ee+=ne+" ")}else if(isObject$4(te))for(const re in te)te[re]&&(ee+=re+" ");return ee.trim()}function normalizeProps(te){if(!te)return null;let{class:ee,style:re}=te;return ee&&!isString$1(ee)&&(te.class=normalizeClass(ee)),re&&(te.style=normalizeStyle(re)),te}const toDisplayString=te=>isString$1(te)?te:te==null?"":isArray$8(te)||isObject$4(te)&&(te.toString===objectToString$2||!isFunction$4(te.toString))?JSON.stringify(te,replacer,2):String(te),replacer=(te,ee)=>ee&&ee.__v_isRef?replacer(te,ee.value):isMap(ee)?{[`Map(${ee.size})`]:[...ee.entries()].reduce((re,[ne,ie])=>(re[`${ne} =>`]=ie,re),{})}:isSet(ee)?{[`Set(${ee.size})`]:[...ee.values()]}:isObject$4(ee)&&!isArray$8(ee)&&!isPlainObject(ee)?String(ee):ee,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=te=>onRE.test(te),isModelListener=te=>te.startsWith("onUpdate:"),extend$4=Object.assign,remove=(te,ee)=>{const re=te.indexOf(ee);re>-1&&te.splice(re,1)},hasOwnProperty$7=Object.prototype.hasOwnProperty,hasOwn$1=(te,ee)=>hasOwnProperty$7.call(te,ee),isArray$8=Array.isArray,isMap=te=>toTypeString$1(te)==="[object Map]",isSet=te=>toTypeString$1(te)==="[object Set]",isFunction$4=te=>typeof te=="function",isString$1=te=>typeof te=="string",isSymbol=te=>typeof te=="symbol",isObject$4=te=>te!==null&&typeof te=="object",isPromise$1=te=>isObject$4(te)&&isFunction$4(te.then)&&isFunction$4(te.catch),objectToString$2=Object.prototype.toString,toTypeString$1=te=>objectToString$2.call(te),toRawType=te=>toTypeString$1(te).slice(8,-1),isPlainObject=te=>toTypeString$1(te)==="[object Object]",isIntegerKey=te=>isString$1(te)&&te!=="NaN"&&te[0]!=="-"&&""+parseInt(te,10)===te,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=te=>{const ee=Object.create(null);return re=>ee[re]||(ee[re]=te(re))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(te=>te.replace(camelizeRE,(ee,re)=>re?re.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(te=>te.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(te=>te.charAt(0).toUpperCase()+te.slice(1)),toHandlerKey=cacheStringFunction(te=>te?`on${capitalize(te)}`:""),hasChanged=(te,ee)=>!Object.is(te,ee),invokeArrayFns=(te,ee)=>{for(let re=0;re<te.length;re++)te[re](ee)},def=(te,ee,re)=>{Object.defineProperty(te,ee,{configurable:!0,enumerable:!1,value:re})},toNumber=te=>{const ee=parseFloat(te);return isNaN(ee)?te:ee};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let activeEffectScope;class EffectScope{constructor(ee=!1){this.active=!0,this.effects=[],this.cleanups=[],!ee&&activeEffectScope&&(this.parent=activeEffectScope,this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(ee){if(this.active)try{return activeEffectScope=this,ee()}finally{activeEffectScope=this.parent}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(ee){if(this.active){let re,ne;for(re=0,ne=this.effects.length;re<ne;re++)this.effects[re].stop();for(re=0,ne=this.cleanups.length;re<ne;re++)this.cleanups[re]();if(this.scopes)for(re=0,ne=this.scopes.length;re<ne;re++)this.scopes[re].stop(!0);if(this.parent&&!ee){const ie=this.parent.scopes.pop();ie&&ie!==this&&(this.parent.scopes[this.index]=ie,ie.index=this.index)}this.active=!1}}}function recordEffectScope(te,ee=activeEffectScope){ee&&ee.active&&ee.effects.push(te)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(te){activeEffectScope&&activeEffectScope.cleanups.push(te)}const createDep=te=>{const ee=new Set(te);return ee.w=0,ee.n=0,ee},wasTracked=te=>(te.w&trackOpBit)>0,newTracked=te=>(te.n&trackOpBit)>0,initDepMarkers=({deps:te})=>{if(te.length)for(let ee=0;ee<te.length;ee++)te[ee].w|=trackOpBit},finalizeDepMarkers=te=>{const{deps:ee}=te;if(ee.length){let re=0;for(let ne=0;ne<ee.length;ne++){const ie=ee[ne];wasTracked(ie)&&!newTracked(ie)?ie.delete(te):ee[re++]=ie,ie.w&=~trackOpBit,ie.n&=~trackOpBit}ee.length=re}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(ee,re=null,ne){this.fn=ee,this.scheduler=re,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,ne)}run(){if(!this.active)return this.fn();let ee=activeEffect,re=shouldTrack;for(;ee;){if(ee===this)return;ee=ee.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=re,this.parent=void 0}}stop(){this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(te){const{deps:ee}=te;if(ee.length){for(let re=0;re<ee.length;re++)ee[re].delete(te);ee.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const te=trackStack.pop();shouldTrack=te===void 0?!0:te}function track(te,ee,re){if(shouldTrack&&activeEffect){let ne=targetMap.get(te);ne||targetMap.set(te,ne=new Map);let ie=ne.get(re);ie||ne.set(re,ie=createDep()),trackEffects(ie)}}function trackEffects(te,ee){let re=!1;effectTrackDepth<=maxMarkerBits?newTracked(te)||(te.n|=trackOpBit,re=!wasTracked(te)):re=!te.has(activeEffect),re&&(te.add(activeEffect),activeEffect.deps.push(te))}function trigger$1(te,ee,re,ne,ie,oe){const se=targetMap.get(te);if(!se)return;let ae=[];if(ee==="clear")ae=[...se.values()];else if(re==="length"&&isArray$8(te))se.forEach((fe,ue)=>{(ue==="length"||ue>=ne)&&ae.push(fe)});else switch(re!==void 0&&ae.push(se.get(re)),ee){case"add":isArray$8(te)?isIntegerKey(re)&&ae.push(se.get("length")):(ae.push(se.get(ITERATE_KEY)),isMap(te)&&ae.push(se.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$8(te)||(ae.push(se.get(ITERATE_KEY)),isMap(te)&&ae.push(se.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(te)&&ae.push(se.get(ITERATE_KEY));break}if(ae.length===1)ae[0]&&triggerEffects(ae[0]);else{const fe=[];for(const ue of ae)ue&&fe.push(...ue);triggerEffects(createDep(fe))}}function triggerEffects(te,ee){for(const re of isArray$8(te)?te:[...te])(re!==activeEffect||re.allowRecurse)&&(re.scheduler?re.scheduler():re.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).map(te=>Symbol[te]).filter(isSymbol)),get=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const te={};return["includes","indexOf","lastIndexOf"].forEach(ee=>{te[ee]=function(...re){const ne=toRaw(this);for(let oe=0,se=this.length;oe<se;oe++)track(ne,"get",oe+"");const ie=ne[ee](...re);return ie===-1||ie===!1?ne[ee](...re.map(toRaw)):ie}}),["push","pop","shift","unshift","splice"].forEach(ee=>{te[ee]=function(...re){pauseTracking();const ne=toRaw(this)[ee].apply(this,re);return resetTracking(),ne}}),te}function createGetter(te=!1,ee=!1){return function(ne,ie,oe){if(ie==="__v_isReactive")return!te;if(ie==="__v_isReadonly")return te;if(ie==="__v_isShallow")return ee;if(ie==="__v_raw"&&oe===(te?ee?shallowReadonlyMap:readonlyMap:ee?shallowReactiveMap:reactiveMap).get(ne))return ne;const se=isArray$8(ne);if(!te&&se&&hasOwn$1(arrayInstrumentations,ie))return Reflect.get(arrayInstrumentations,ie,oe);const ae=Reflect.get(ne,ie,oe);return(isSymbol(ie)?builtInSymbols.has(ie):isNonTrackableKeys(ie))||(te||track(ne,"get",ie),ee)?ae:isRef(ae)?!se||!isIntegerKey(ie)?ae.value:ae:isObject$4(ae)?te?readonly(ae):reactive(ae):ae}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(te=!1){return function(re,ne,ie,oe){let se=re[ne];if(isReadonly(se)&&isRef(se)&&!isRef(ie))return!1;if(!te&&!isReadonly(ie)&&(isShallow(ie)||(ie=toRaw(ie),se=toRaw(se)),!isArray$8(re)&&isRef(se)&&!isRef(ie)))return se.value=ie,!0;const ae=isArray$8(re)&&isIntegerKey(ne)?Number(ne)<re.length:hasOwn$1(re,ne),fe=Reflect.set(re,ne,ie,oe);return re===toRaw(oe)&&(ae?hasChanged(ie,se)&&trigger$1(re,"set",ne,ie):trigger$1(re,"add",ne,ie)),fe}}function deleteProperty(te,ee){const re=hasOwn$1(te,ee);te[ee];const ne=Reflect.deleteProperty(te,ee);return ne&&re&&trigger$1(te,"delete",ee,void 0),ne}function has(te,ee){const re=Reflect.has(te,ee);return(!isSymbol(ee)||!builtInSymbols.has(ee))&&track(te,"has",ee),re}function ownKeys$2(te){return track(te,"iterate",isArray$8(te)?"length":ITERATE_KEY),Reflect.ownKeys(te)}const mutableHandlers={get,set:set$1,deleteProperty,has,ownKeys:ownKeys$2},readonlyHandlers={get:readonlyGet,set(te,ee){return!0},deleteProperty(te,ee){return!0}},shallowReactiveHandlers=extend$4({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=te=>te,getProto=te=>Reflect.getPrototypeOf(te);function get$1(te,ee,re=!1,ne=!1){te=te.__v_raw;const ie=toRaw(te),oe=toRaw(ee);ee!==oe&&!re&&track(ie,"get",ee),!re&&track(ie,"get",oe);const{has:se}=getProto(ie),ae=ne?toShallow:re?toReadonly:toReactive;if(se.call(ie,ee))return ae(te.get(ee));if(se.call(ie,oe))return ae(te.get(oe));te!==ie&&te.get(ee)}function has$1(te,ee=!1){const re=this.__v_raw,ne=toRaw(re),ie=toRaw(te);return te!==ie&&!ee&&track(ne,"has",te),!ee&&track(ne,"has",ie),te===ie?re.has(te):re.has(te)||re.has(ie)}function size(te,ee=!1){return te=te.__v_raw,!ee&&track(toRaw(te),"iterate",ITERATE_KEY),Reflect.get(te,"size",te)}function add$1(te){te=toRaw(te);const ee=toRaw(this);return getProto(ee).has.call(ee,te)||(ee.add(te),trigger$1(ee,"add",te,te)),this}function set$1$1(te,ee){ee=toRaw(ee);const re=toRaw(this),{has:ne,get:ie}=getProto(re);let oe=ne.call(re,te);oe||(te=toRaw(te),oe=ne.call(re,te));const se=ie.call(re,te);return re.set(te,ee),oe?hasChanged(ee,se)&&trigger$1(re,"set",te,ee):trigger$1(re,"add",te,ee),this}function deleteEntry(te){const ee=toRaw(this),{has:re,get:ne}=getProto(ee);let ie=re.call(ee,te);ie||(te=toRaw(te),ie=re.call(ee,te)),ne&&ne.call(ee,te);const oe=ee.delete(te);return ie&&trigger$1(ee,"delete",te,void 0),oe}function clear(){const te=toRaw(this),ee=te.size!==0,re=te.clear();return ee&&trigger$1(te,"clear",void 0,void 0),re}function createForEach(te,ee){return function(ne,ie){const oe=this,se=oe.__v_raw,ae=toRaw(se),fe=ee?toShallow:te?toReadonly:toReactive;return!te&&track(ae,"iterate",ITERATE_KEY),se.forEach((ue,le)=>ne.call(ie,fe(ue),fe(le),oe))}}function createIterableMethod(te,ee,re){return function(...ne){const ie=this.__v_raw,oe=toRaw(ie),se=isMap(oe),ae=te==="entries"||te===Symbol.iterator&&se,fe=te==="keys"&&se,ue=ie[te](...ne),le=re?toShallow:ee?toReadonly:toReactive;return!ee&&track(oe,"iterate",fe?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:pe,done:rr}=ue.next();return rr?{value:pe,done:rr}:{value:ae?[le(pe[0]),le(pe[1])]:le(pe),done:rr}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(te){return function(...ee){return te==="delete"?!1:this}}function createInstrumentations(){const te={get(oe){return get$1(this,oe)},get size(){return size(this)},has:has$1,add:add$1,set:set$1$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},ee={get(oe){return get$1(this,oe,!1,!0)},get size(){return size(this)},has:has$1,add:add$1,set:set$1$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},re={get(oe){return get$1(this,oe,!0)},get size(){return size(this,!0)},has(oe){return has$1.call(this,oe,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},ne={get(oe){return get$1(this,oe,!0,!0)},get size(){return size(this,!0)},has(oe){return has$1.call(this,oe,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(oe=>{te[oe]=createIterableMethod(oe,!1,!1),re[oe]=createIterableMethod(oe,!0,!1),ee[oe]=createIterableMethod(oe,!1,!0),ne[oe]=createIterableMethod(oe,!0,!0)}),[te,re,ee,ne]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(te,ee){const re=ee?te?shallowReadonlyInstrumentations:shallowInstrumentations:te?readonlyInstrumentations:mutableInstrumentations;return(ne,ie,oe)=>ie==="__v_isReactive"?!te:ie==="__v_isReadonly"?te:ie==="__v_raw"?ne:Reflect.get(hasOwn$1(re,ie)&&ie in ne?re:ne,ie,oe)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(te){switch(te){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(te){return te.__v_skip||!Object.isExtensible(te)?0:targetTypeMap(toRawType(te))}function reactive(te){return isReadonly(te)?te:createReactiveObject(te,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(te){return createReactiveObject(te,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(te){return createReactiveObject(te,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(te,ee,re,ne,ie){if(!isObject$4(te)||te.__v_raw&&!(ee&&te.__v_isReactive))return te;const oe=ie.get(te);if(oe)return oe;const se=getTargetType(te);if(se===0)return te;const ae=new Proxy(te,se===2?ne:re);return ie.set(te,ae),ae}function isReactive(te){return isReadonly(te)?isReactive(te.__v_raw):!!(te&&te.__v_isReactive)}function isReadonly(te){return!!(te&&te.__v_isReadonly)}function isShallow(te){return!!(te&&te.__v_isShallow)}function isProxy(te){return isReactive(te)||isReadonly(te)}function toRaw(te){const ee=te&&te.__v_raw;return ee?toRaw(ee):te}function markRaw(te){return def(te,"__v_skip",!0),te}const toReactive=te=>isObject$4(te)?reactive(te):te,toReadonly=te=>isObject$4(te)?readonly(te):te;function trackRefValue(te){shouldTrack&&activeEffect&&(te=toRaw(te),trackEffects(te.dep||(te.dep=createDep())))}function triggerRefValue(te,ee){te=toRaw(te),te.dep&&triggerEffects(te.dep)}function isRef(te){return!!(te&&te.__v_isRef===!0)}function ref(te){return createRef(te,!1)}function shallowRef(te){return createRef(te,!0)}function createRef(te,ee){return isRef(te)?te:new RefImpl(te,ee)}class RefImpl{constructor(ee,re){this.__v_isShallow=re,this.dep=void 0,this.__v_isRef=!0,this._rawValue=re?ee:toRaw(ee),this._value=re?ee:toReactive(ee)}get value(){return trackRefValue(this),this._value}set value(ee){ee=this.__v_isShallow?ee:toRaw(ee),hasChanged(ee,this._rawValue)&&(this._rawValue=ee,this._value=this.__v_isShallow?ee:toReactive(ee),triggerRefValue(this))}}function unref(te){return isRef(te)?te.value:te}const shallowUnwrapHandlers={get:(te,ee,re)=>unref(Reflect.get(te,ee,re)),set:(te,ee,re,ne)=>{const ie=te[ee];return isRef(ie)&&!isRef(re)?(ie.value=re,!0):Reflect.set(te,ee,re,ne)}};function proxyRefs(te){return isReactive(te)?te:new Proxy(te,shallowUnwrapHandlers)}function toRefs(te){const ee=isArray$8(te)?new Array(te.length):{};for(const re in te)ee[re]=toRef(te,re);return ee}class ObjectRefImpl{constructor(ee,re,ne){this._object=ee,this._key=re,this._defaultValue=ne,this.__v_isRef=!0}get value(){const ee=this._object[this._key];return ee===void 0?this._defaultValue:ee}set value(ee){this._object[this._key]=ee}}function toRef(te,ee,re){const ne=te[ee];return isRef(ne)?ne:new ObjectRefImpl(te,ee,re)}class ComputedRefImpl{constructor(ee,re,ne,ie){this._setter=re,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new ReactiveEffect(ee,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!ie,this.__v_isReadonly=ne}get value(){const ee=toRaw(this);return trackRefValue(ee),(ee._dirty||!ee._cacheable)&&(ee._dirty=!1,ee._value=ee.effect.run()),ee._value}set value(ee){this._setter(ee)}}function computed$1(te,ee,re=!1){let ne,ie;const oe=isFunction$4(te);return oe?(ne=te,ie=NOOP):(ne=te.get,ie=te.set),new ComputedRefImpl(ne,ie,oe||!ie,re)}Promise.resolve();function callWithErrorHandling(te,ee,re,ne){let ie;try{ie=ne?te(...ne):te()}catch(oe){handleError(oe,ee,re)}return ie}function callWithAsyncErrorHandling(te,ee,re,ne){if(isFunction$4(te)){const oe=callWithErrorHandling(te,ee,re,ne);return oe&&isPromise$1(oe)&&oe.catch(se=>{handleError(se,ee,re)}),oe}const ie=[];for(let oe=0;oe<te.length;oe++)ie.push(callWithAsyncErrorHandling(te[oe],ee,re,ne));return ie}function handleError(te,ee,re,ne=!0){const ie=ee?ee.vnode:null;if(ee){let oe=ee.parent;const se=ee.proxy,ae=re;for(;oe;){const ue=oe.ec;if(ue){for(let le=0;le<ue.length;le++)if(ue[le](te,se,ae)===!1)return}oe=oe.parent}const fe=ee.appContext.config.errorHandler;if(fe){callWithErrorHandling(fe,null,10,[te,se,ae]);return}}logError(te,re,ie,ne)}function logError(te,ee,re,ne=!0){console.error(te)}let isFlushing=!1,isFlushPending=!1;const queue$1=[];let flushIndex=0;const pendingPreFlushCbs=[];let activePreFlushCbs=null,preFlushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null,currentPreFlushParentJob=null;function nextTick(te){const ee=currentFlushPromise||resolvedPromise;return te?ee.then(this?te.bind(this):te):ee}function findInsertionIndex(te){let ee=flushIndex+1,re=queue$1.length;for(;ee<re;){const ne=ee+re>>>1;getId$1(queue$1[ne])<te?ee=ne+1:re=ne}return ee}function queueJob(te){(!queue$1.length||!queue$1.includes(te,isFlushing&&te.allowRecurse?flushIndex+1:flushIndex))&&te!==currentPreFlushParentJob&&(te.id==null?queue$1.push(te):queue$1.splice(findInsertionIndex(te.id),0,te),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(te){const ee=queue$1.indexOf(te);ee>flushIndex&&queue$1.splice(ee,1)}function queueCb(te,ee,re,ne){isArray$8(te)?re.push(...te):(!ee||!ee.includes(te,te.allowRecurse?ne+1:ne))&&re.push(te),queueFlush()}function queuePreFlushCb(te){queueCb(te,activePreFlushCbs,pendingPreFlushCbs,preFlushIndex)}function queuePostFlushCb(te){queueCb(te,activePostFlushCbs,pendingPostFlushCbs,postFlushIndex)}function flushPreFlushCbs(te,ee=null){if(pendingPreFlushCbs.length){for(currentPreFlushParentJob=ee,activePreFlushCbs=[...new Set(pendingPreFlushCbs)],pendingPreFlushCbs.length=0,preFlushIndex=0;preFlushIndex<activePreFlushCbs.length;preFlushIndex++)activePreFlushCbs[preFlushIndex]();activePreFlushCbs=null,preFlushIndex=0,currentPreFlushParentJob=null,flushPreFlushCbs(te,ee)}}function flushPostFlushCbs(te){if(pendingPostFlushCbs.length){const ee=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...ee);return}for(activePostFlushCbs=ee,activePostFlushCbs.sort((re,ne)=>getId$1(re)-getId$1(ne)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId$1=te=>te.id==null?1/0:te.id;function flushJobs(te){isFlushPending=!1,isFlushing=!0,flushPreFlushCbs(te),queue$1.sort((re,ne)=>getId$1(re)-getId$1(ne));const ee=NOOP;try{for(flushIndex=0;flushIndex<queue$1.length;flushIndex++){const re=queue$1[flushIndex];re&&re.active!==!1&&callWithErrorHandling(re,null,14)}}finally{flushIndex=0,queue$1.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue$1.length||pendingPreFlushCbs.length||pendingPostFlushCbs.length)&&flushJobs(te)}}function emit$1(te,ee,...re){const ne=te.vnode.props||EMPTY_OBJ;let ie=re;const oe=ee.startsWith("update:"),se=oe&&ee.slice(7);if(se&&se in ne){const le=`${se==="modelValue"?"model":se}Modifiers`,{number:pe,trim:rr}=ne[le]||EMPTY_OBJ;rr?ie=re.map(cr=>cr.trim()):pe&&(ie=re.map(toNumber))}let ae,fe=ne[ae=toHandlerKey(ee)]||ne[ae=toHandlerKey(camelize(ee))];!fe&&oe&&(fe=ne[ae=toHandlerKey(hyphenate(ee))]),fe&&callWithAsyncErrorHandling(fe,te,6,ie);const ue=ne[ae+"Once"];if(ue){if(!te.emitted)te.emitted={};else if(te.emitted[ae])return;te.emitted[ae]=!0,callWithAsyncErrorHandling(ue,te,6,ie)}}function normalizeEmitsOptions(te,ee,re=!1){const ne=ee.emitsCache,ie=ne.get(te);if(ie!==void 0)return ie;const oe=te.emits;let se={},ae=!1;if(!isFunction$4(te)){const fe=ue=>{const le=normalizeEmitsOptions(ue,ee,!0);le&&(ae=!0,extend$4(se,le))};!re&&ee.mixins.length&&ee.mixins.forEach(fe),te.extends&&fe(te.extends),te.mixins&&te.mixins.forEach(fe)}return!oe&&!ae?(ne.set(te,null),null):(isArray$8(oe)?oe.forEach(fe=>se[fe]=null):extend$4(se,oe),ne.set(te,se),se)}function isEmitListener(te,ee){return!te||!isOn(ee)?!1:(ee=ee.slice(2).replace(/Once$/,""),hasOwn$1(te,ee[0].toLowerCase()+ee.slice(1))||hasOwn$1(te,hyphenate(ee))||hasOwn$1(te,ee))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(te){const ee=currentRenderingInstance;return currentRenderingInstance=te,currentScopeId=te&&te.type.__scopeId||null,ee}function pushScopeId(te){currentScopeId=te}function popScopeId(){currentScopeId=null}const withScopeId=te=>withCtx;function withCtx(te,ee=currentRenderingInstance,re){if(!ee||te._n)return te;const ne=(...ie)=>{ne._d&&setBlockTracking(-1);const oe=setCurrentRenderingInstance(ee),se=te(...ie);return setCurrentRenderingInstance(oe),ne._d&&setBlockTracking(1),se};return ne._n=!0,ne._c=!0,ne._d=!0,ne}function markAttrsAccessed(){}function renderComponentRoot(te){const{type:ee,vnode:re,proxy:ne,withProxy:ie,props:oe,propsOptions:[se],slots:ae,attrs:fe,emit:ue,render:le,renderCache:pe,data:rr,setupState:cr,ctx:ar,inheritAttrs:mr}=te;let pr,yr;const vr=setCurrentRenderingInstance(te);try{if(re.shapeFlag&4){const Tr=ie||ne;pr=normalizeVNode(le.call(Tr,Tr,pe,oe,cr,rr,ar)),yr=fe}else{const Tr=ee;pr=normalizeVNode(Tr.length>1?Tr(oe,{attrs:fe,slots:ae,emit:ue}):Tr(oe,null)),yr=ee.props?fe:getFunctionalFallthrough(fe)}}catch(Tr){blockStack.length=0,handleError(Tr,te,1),pr=createVNode(Comment)}let Er=pr;if(yr&&mr!==!1){const Tr=Object.keys(yr),{shapeFlag:Ir}=Er;Tr.length&&Ir&7&&(se&&Tr.some(isModelListener)&&(yr=filterModelListeners(yr,se)),Er=cloneVNode(Er,yr))}return re.dirs&&(Er.dirs=Er.dirs?Er.dirs.concat(re.dirs):re.dirs),re.transition&&(Er.transition=re.transition),pr=Er,setCurrentRenderingInstance(vr),pr}const getFunctionalFallthrough=te=>{let ee;for(const re in te)(re==="class"||re==="style"||isOn(re))&&((ee||(ee={}))[re]=te[re]);return ee},filterModelListeners=(te,ee)=>{const re={};for(const ne in te)(!isModelListener(ne)||!(ne.slice(9)in ee))&&(re[ne]=te[ne]);return re};function shouldUpdateComponent(te,ee,re){const{props:ne,children:ie,component:oe}=te,{props:se,children:ae,patchFlag:fe}=ee,ue=oe.emitsOptions;if(ee.dirs||ee.transition)return!0;if(re&&fe>=0){if(fe&1024)return!0;if(fe&16)return ne?hasPropsChanged(ne,se,ue):!!se;if(fe&8){const le=ee.dynamicProps;for(let pe=0;pe<le.length;pe++){const rr=le[pe];if(se[rr]!==ne[rr]&&!isEmitListener(ue,rr))return!0}}}else return(ie||ae)&&(!ae||!ae.$stable)?!0:ne===se?!1:ne?se?hasPropsChanged(ne,se,ue):!0:!!se;return!1}function hasPropsChanged(te,ee,re){const ne=Object.keys(ee);if(ne.length!==Object.keys(te).length)return!0;for(let ie=0;ie<ne.length;ie++){const oe=ne[ie];if(ee[oe]!==te[oe]&&!isEmitListener(re,oe))return!0}return!1}function updateHOCHostEl({vnode:te,parent:ee},re){for(;ee&&ee.subTree===te;)(te=ee.vnode).el=re,ee=ee.parent}const isSuspense=te=>te.__isSuspense;function queueEffectWithSuspense(te,ee){ee&&ee.pendingBranch?isArray$8(te)?ee.effects.push(...te):ee.effects.push(te):queuePostFlushCb(te)}function provide(te,ee){if(currentInstance){let re=currentInstance.provides;const ne=currentInstance.parent&&currentInstance.parent.provides;ne===re&&(re=currentInstance.provides=Object.create(ne)),re[te]=ee}}function inject(te,ee,re=!1){const ne=currentInstance||currentRenderingInstance;if(ne){const ie=ne.parent==null?ne.vnode.appContext&&ne.vnode.appContext.provides:ne.parent.provides;if(ie&&te in ie)return ie[te];if(arguments.length>1)return re&&isFunction$4(ee)?ee.call(ne.proxy):ee}}function watchEffect(te,ee){return doWatch(te,null,ee)}const INITIAL_WATCHER_VALUE={};function watch(te,ee,re){return doWatch(te,ee,re)}function doWatch(te,ee,{immediate:re,deep:ne,flush:ie,onTrack:oe,onTrigger:se}=EMPTY_OBJ){const ae=currentInstance;let fe,ue=!1,le=!1;if(isRef(te)?(fe=()=>te.value,ue=isShallow(te)):isReactive(te)?(fe=()=>te,ne=!0):isArray$8(te)?(le=!0,ue=te.some(isReactive),fe=()=>te.map(yr=>{if(isRef(yr))return yr.value;if(isReactive(yr))return traverse(yr);if(isFunction$4(yr))return callWithErrorHandling(yr,ae,2)})):isFunction$4(te)?ee?fe=()=>callWithErrorHandling(te,ae,2):fe=()=>{if(!(ae&&ae.isUnmounted))return pe&&pe(),callWithAsyncErrorHandling(te,ae,3,[rr])}:fe=NOOP,ee&&ne){const yr=fe;fe=()=>traverse(yr())}let pe,rr=yr=>{pe=pr.onStop=()=>{callWithErrorHandling(yr,ae,4)}};if(isInSSRComponentSetup)return rr=NOOP,ee?re&&callWithAsyncErrorHandling(ee,ae,3,[fe(),le?[]:void 0,rr]):fe(),NOOP;let cr=le?[]:INITIAL_WATCHER_VALUE;const ar=()=>{if(!!pr.active)if(ee){const yr=pr.run();(ne||ue||(le?yr.some((vr,Er)=>hasChanged(vr,cr[Er])):hasChanged(yr,cr)))&&(pe&&pe(),callWithAsyncErrorHandling(ee,ae,3,[yr,cr===INITIAL_WATCHER_VALUE?void 0:cr,rr]),cr=yr)}else pr.run()};ar.allowRecurse=!!ee;let mr;ie==="sync"?mr=ar:ie==="post"?mr=()=>queuePostRenderEffect(ar,ae&&ae.suspense):mr=()=>{!ae||ae.isMounted?queuePreFlushCb(ar):ar()};const pr=new ReactiveEffect(fe,mr);return ee?re?ar():cr=pr.run():ie==="post"?queuePostRenderEffect(pr.run.bind(pr),ae&&ae.suspense):pr.run(),()=>{pr.stop(),ae&&ae.scope&&remove(ae.scope.effects,pr)}}function instanceWatch(te,ee,re){const ne=this.proxy,ie=isString$1(te)?te.includes(".")?createPathGetter(ne,te):()=>ne[te]:te.bind(ne,ne);let oe;isFunction$4(ee)?oe=ee:(oe=ee.handler,re=ee);const se=currentInstance;setCurrentInstance(this);const ae=doWatch(ie,oe.bind(ne),re);return se?setCurrentInstance(se):unsetCurrentInstance(),ae}function createPathGetter(te,ee){const re=ee.split(".");return()=>{let ne=te;for(let ie=0;ie<re.length&&ne;ie++)ne=ne[re[ie]];return ne}}function traverse(te,ee){if(!isObject$4(te)||te.__v_skip||(ee=ee||new Set,ee.has(te)))return te;if(ee.add(te),isRef(te))traverse(te.value,ee);else if(isArray$8(te))for(let re=0;re<te.length;re++)traverse(te[re],ee);else if(isSet(te)||isMap(te))te.forEach(re=>{traverse(re,ee)});else if(isPlainObject(te))for(const re in te)traverse(te[re],ee);return te}function useTransitionState(){const te={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{te.isMounted=!0}),onBeforeUnmount(()=>{te.isUnmounting=!0}),te}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(te,{slots:ee}){const re=getCurrentInstance(),ne=useTransitionState();let ie;return()=>{const oe=ee.default&&getTransitionRawChildren(ee.default(),!0);if(!oe||!oe.length)return;const se=toRaw(te),{mode:ae}=se,fe=oe[0];if(ne.isLeaving)return emptyPlaceholder(fe);const ue=getKeepAliveChild(fe);if(!ue)return emptyPlaceholder(fe);const le=resolveTransitionHooks(ue,se,ne,re);setTransitionHooks(ue,le);const pe=re.subTree,rr=pe&&getKeepAliveChild(pe);let cr=!1;const{getTransitionKey:ar}=ue.type;if(ar){const mr=ar();ie===void 0?ie=mr:mr!==ie&&(ie=mr,cr=!0)}if(rr&&rr.type!==Comment&&(!isSameVNodeType(ue,rr)||cr)){const mr=resolveTransitionHooks(rr,se,ne,re);if(setTransitionHooks(rr,mr),ae==="out-in")return ne.isLeaving=!0,mr.afterLeave=()=>{ne.isLeaving=!1,re.update()},emptyPlaceholder(fe);ae==="in-out"&&ue.type!==Comment&&(mr.delayLeave=(pr,yr,vr)=>{const Er=getLeavingNodesForType(ne,rr);Er[String(rr.key)]=rr,pr._leaveCb=()=>{yr(),pr._leaveCb=void 0,delete le.delayedLeave},le.delayedLeave=vr})}return fe}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(te,ee){const{leavingVNodes:re}=te;let ne=re.get(ee.type);return ne||(ne=Object.create(null),re.set(ee.type,ne)),ne}function resolveTransitionHooks(te,ee,re,ne){const{appear:ie,mode:oe,persisted:se=!1,onBeforeEnter:ae,onEnter:fe,onAfterEnter:ue,onEnterCancelled:le,onBeforeLeave:pe,onLeave:rr,onAfterLeave:cr,onLeaveCancelled:ar,onBeforeAppear:mr,onAppear:pr,onAfterAppear:yr,onAppearCancelled:vr}=ee,Er=String(te.key),Tr=getLeavingNodesForType(re,te),Ir=(Hr,Pr)=>{Hr&&callWithAsyncErrorHandling(Hr,ne,9,Pr)},Or={mode:oe,persisted:se,beforeEnter(Hr){let Pr=ae;if(!re.isMounted)if(ie)Pr=mr||ae;else return;Hr._leaveCb&&Hr._leaveCb(!0);const Br=Tr[Er];Br&&isSameVNodeType(te,Br)&&Br.el._leaveCb&&Br.el._leaveCb(),Ir(Pr,[Hr])},enter(Hr){let Pr=fe,Br=ue,Nr=le;if(!re.isMounted)if(ie)Pr=pr||fe,Br=yr||ue,Nr=vr||le;else return;let dr=!1;const tr=Hr._enterCb=ve=>{dr||(dr=!0,ve?Ir(Nr,[Hr]):Ir(Br,[Hr]),Or.delayedLeave&&Or.delayedLeave(),Hr._enterCb=void 0)};Pr?(Pr(Hr,tr),Pr.length<=1&&tr()):tr()},leave(Hr,Pr){const Br=String(te.key);if(Hr._enterCb&&Hr._enterCb(!0),re.isUnmounting)return Pr();Ir(pe,[Hr]);let Nr=!1;const dr=Hr._leaveCb=tr=>{Nr||(Nr=!0,Pr(),tr?Ir(ar,[Hr]):Ir(cr,[Hr]),Hr._leaveCb=void 0,Tr[Br]===te&&delete Tr[Br])};Tr[Br]=te,rr?(rr(Hr,dr),rr.length<=1&&dr()):dr()},clone(Hr){return resolveTransitionHooks(Hr,ee,re,ne)}};return Or}function emptyPlaceholder(te){if(isKeepAlive(te))return te=cloneVNode(te),te.children=null,te}function getKeepAliveChild(te){return isKeepAlive(te)?te.children?te.children[0]:void 0:te}function setTransitionHooks(te,ee){te.shapeFlag&6&&te.component?setTransitionHooks(te.component.subTree,ee):te.shapeFlag&128?(te.ssContent.transition=ee.clone(te.ssContent),te.ssFallback.transition=ee.clone(te.ssFallback)):te.transition=ee}function getTransitionRawChildren(te,ee=!1){let re=[],ne=0;for(let ie=0;ie<te.length;ie++){const oe=te[ie];oe.type===Fragment$1?(oe.patchFlag&128&&ne++,re=re.concat(getTransitionRawChildren(oe.children,ee))):(ee||oe.type!==Comment)&&re.push(oe)}if(ne>1)for(let ie=0;ie<re.length;ie++)re[ie].patchFlag=-2;return re}function defineComponent(te){return isFunction$4(te)?{setup:te,name:te.name}:te}const isAsyncWrapper=te=>!!te.type.__asyncLoader,isKeepAlive=te=>te.type.__isKeepAlive;function onActivated(te,ee){registerKeepAliveHook(te,"a",ee)}function onDeactivated(te,ee){registerKeepAliveHook(te,"da",ee)}function registerKeepAliveHook(te,ee,re=currentInstance){const ne=te.__wdc||(te.__wdc=()=>{let ie=re;for(;ie;){if(ie.isDeactivated)return;ie=ie.parent}return te()});if(injectHook(ee,ne,re),re){let ie=re.parent;for(;ie&&ie.parent;)isKeepAlive(ie.parent.vnode)&&injectToKeepAliveRoot(ne,ee,re,ie),ie=ie.parent}}function injectToKeepAliveRoot(te,ee,re,ne){const ie=injectHook(ee,te,ne,!0);onUnmounted(()=>{remove(ne[ee],ie)},re)}function injectHook(te,ee,re=currentInstance,ne=!1){if(re){const ie=re[te]||(re[te]=[]),oe=ee.__weh||(ee.__weh=(...se)=>{if(re.isUnmounted)return;pauseTracking(),setCurrentInstance(re);const ae=callWithAsyncErrorHandling(ee,re,te,se);return unsetCurrentInstance(),resetTracking(),ae});return ne?ie.unshift(oe):ie.push(oe),oe}}const createHook=te=>(ee,re=currentInstance)=>(!isInSSRComponentSetup||te==="sp")&&injectHook(te,ee,re),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(te,ee=currentInstance){injectHook("ec",te,ee)}let shouldCacheAccess=!0;function applyOptions(te){const ee=resolveMergedOptions(te),re=te.proxy,ne=te.ctx;shouldCacheAccess=!1,ee.beforeCreate&&callHook$1(ee.beforeCreate,te,"bc");const{data:ie,computed:oe,methods:se,watch:ae,provide:fe,inject:ue,created:le,beforeMount:pe,mounted:rr,beforeUpdate:cr,updated:ar,activated:mr,deactivated:pr,beforeDestroy:yr,beforeUnmount:vr,destroyed:Er,unmounted:Tr,render:Ir,renderTracked:Or,renderTriggered:Hr,errorCaptured:Pr,serverPrefetch:Br,expose:Nr,inheritAttrs:dr,components:tr,directives:ve,filters:ce}=ee;if(ue&&resolveInjections(ue,ne,null,te.appContext.config.unwrapInjectedRef),se)for(const ur in se){const lr=se[ur];isFunction$4(lr)&&(ne[ur]=lr.bind(re))}if(ie){const ur=ie.call(re,re);isObject$4(ur)&&(te.data=reactive(ur))}if(shouldCacheAccess=!0,oe)for(const ur in oe){const lr=oe[ur],er=isFunction$4(lr)?lr.bind(re,re):isFunction$4(lr.get)?lr.get.bind(re,re):NOOP,nr=!isFunction$4(lr)&&isFunction$4(lr.set)?lr.set.bind(re):NOOP,or=computed({get:er,set:nr});Object.defineProperty(ne,ur,{enumerable:!0,configurable:!0,get:()=>or.value,set:ye=>or.value=ye})}if(ae)for(const ur in ae)createWatcher(ae[ur],ne,re,ur);if(fe){const ur=isFunction$4(fe)?fe.call(re):fe;Reflect.ownKeys(ur).forEach(lr=>{provide(lr,ur[lr])})}le&&callHook$1(le,te,"c");function ir(ur,lr){isArray$8(lr)?lr.forEach(er=>ur(er.bind(re))):lr&&ur(lr.bind(re))}if(ir(onBeforeMount,pe),ir(onMounted,rr),ir(onBeforeUpdate,cr),ir(onUpdated,ar),ir(onActivated,mr),ir(onDeactivated,pr),ir(onErrorCaptured,Pr),ir(onRenderTracked,Or),ir(onRenderTriggered,Hr),ir(onBeforeUnmount,vr),ir(onUnmounted,Tr),ir(onServerPrefetch,Br),isArray$8(Nr))if(Nr.length){const ur=te.exposed||(te.exposed={});Nr.forEach(lr=>{Object.defineProperty(ur,lr,{get:()=>re[lr],set:er=>re[lr]=er})})}else te.exposed||(te.exposed={});Ir&&te.render===NOOP&&(te.render=Ir),dr!=null&&(te.inheritAttrs=dr),tr&&(te.components=tr),ve&&(te.directives=ve)}function resolveInjections(te,ee,re=NOOP,ne=!1){isArray$8(te)&&(te=normalizeInject(te));for(const ie in te){const oe=te[ie];let se;isObject$4(oe)?"default"in oe?se=inject(oe.from||ie,oe.default,!0):se=inject(oe.from||ie):se=inject(oe),isRef(se)&&ne?Object.defineProperty(ee,ie,{enumerable:!0,configurable:!0,get:()=>se.value,set:ae=>se.value=ae}):ee[ie]=se}}function callHook$1(te,ee,re){callWithAsyncErrorHandling(isArray$8(te)?te.map(ne=>ne.bind(ee.proxy)):te.bind(ee.proxy),ee,re)}function createWatcher(te,ee,re,ne){const ie=ne.includes(".")?createPathGetter(re,ne):()=>re[ne];if(isString$1(te)){const oe=ee[te];isFunction$4(oe)&&watch(ie,oe)}else if(isFunction$4(te))watch(ie,te.bind(re));else if(isObject$4(te))if(isArray$8(te))te.forEach(oe=>createWatcher(oe,ee,re,ne));else{const oe=isFunction$4(te.handler)?te.handler.bind(re):ee[te.handler];isFunction$4(oe)&&watch(ie,oe,te)}}function resolveMergedOptions(te){const ee=te.type,{mixins:re,extends:ne}=ee,{mixins:ie,optionsCache:oe,config:{optionMergeStrategies:se}}=te.appContext,ae=oe.get(ee);let fe;return ae?fe=ae:!ie.length&&!re&&!ne?fe=ee:(fe={},ie.length&&ie.forEach(ue=>mergeOptions$1(fe,ue,se,!0)),mergeOptions$1(fe,ee,se)),oe.set(ee,fe),fe}function mergeOptions$1(te,ee,re,ne=!1){const{mixins:ie,extends:oe}=ee;oe&&mergeOptions$1(te,oe,re,!0),ie&&ie.forEach(se=>mergeOptions$1(te,se,re,!0));for(const se in ee)if(!(ne&&se==="expose")){const ae=internalOptionMergeStrats[se]||re&&re[se];te[se]=ae?ae(te[se],ee[se]):ee[se]}return te}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(te,ee){return ee?te?function(){return extend$4(isFunction$4(te)?te.call(this,this):te,isFunction$4(ee)?ee.call(this,this):ee)}:ee:te}function mergeInject(te,ee){return mergeObjectOptions(normalizeInject(te),normalizeInject(ee))}function normalizeInject(te){if(isArray$8(te)){const ee={};for(let re=0;re<te.length;re++)ee[te[re]]=te[re];return ee}return te}function mergeAsArray(te,ee){return te?[...new Set([].concat(te,ee))]:ee}function mergeObjectOptions(te,ee){return te?extend$4(extend$4(Object.create(null),te),ee):ee}function mergeWatchOptions(te,ee){if(!te)return ee;if(!ee)return te;const re=extend$4(Object.create(null),te);for(const ne in ee)re[ne]=mergeAsArray(te[ne],ee[ne]);return re}function initProps(te,ee,re,ne=!1){const ie={},oe={};def(oe,InternalObjectKey,1),te.propsDefaults=Object.create(null),setFullProps(te,ee,ie,oe);for(const se in te.propsOptions[0])se in ie||(ie[se]=void 0);re?te.props=ne?ie:shallowReactive(ie):te.type.props?te.props=ie:te.props=oe,te.attrs=oe}function updateProps(te,ee,re,ne){const{props:ie,attrs:oe,vnode:{patchFlag:se}}=te,ae=toRaw(ie),[fe]=te.propsOptions;let ue=!1;if((ne||se>0)&&!(se&16)){if(se&8){const le=te.vnode.dynamicProps;for(let pe=0;pe<le.length;pe++){let rr=le[pe];const cr=ee[rr];if(fe)if(hasOwn$1(oe,rr))cr!==oe[rr]&&(oe[rr]=cr,ue=!0);else{const ar=camelize(rr);ie[ar]=resolvePropValue(fe,ae,ar,cr,te,!1)}else cr!==oe[rr]&&(oe[rr]=cr,ue=!0)}}}else{setFullProps(te,ee,ie,oe)&&(ue=!0);let le;for(const pe in ae)(!ee||!hasOwn$1(ee,pe)&&((le=hyphenate(pe))===pe||!hasOwn$1(ee,le)))&&(fe?re&&(re[pe]!==void 0||re[le]!==void 0)&&(ie[pe]=resolvePropValue(fe,ae,pe,void 0,te,!0)):delete ie[pe]);if(oe!==ae)for(const pe in oe)(!ee||!hasOwn$1(ee,pe)&&!0)&&(delete oe[pe],ue=!0)}ue&&trigger$1(te,"set","$attrs")}function setFullProps(te,ee,re,ne){const[ie,oe]=te.propsOptions;let se=!1,ae;if(ee)for(let fe in ee){if(isReservedProp(fe))continue;const ue=ee[fe];let le;ie&&hasOwn$1(ie,le=camelize(fe))?!oe||!oe.includes(le)?re[le]=ue:(ae||(ae={}))[le]=ue:isEmitListener(te.emitsOptions,fe)||(!(fe in ne)||ue!==ne[fe])&&(ne[fe]=ue,se=!0)}if(oe){const fe=toRaw(re),ue=ae||EMPTY_OBJ;for(let le=0;le<oe.length;le++){const pe=oe[le];re[pe]=resolvePropValue(ie,fe,pe,ue[pe],te,!hasOwn$1(ue,pe))}}return se}function resolvePropValue(te,ee,re,ne,ie,oe){const se=te[re];if(se!=null){const ae=hasOwn$1(se,"default");if(ae&&ne===void 0){const fe=se.default;if(se.type!==Function&&isFunction$4(fe)){const{propsDefaults:ue}=ie;re in ue?ne=ue[re]:(setCurrentInstance(ie),ne=ue[re]=fe.call(null,ee),unsetCurrentInstance())}else ne=fe}se[0]&&(oe&&!ae?ne=!1:se[1]&&(ne===""||ne===hyphenate(re))&&(ne=!0))}return ne}function normalizePropsOptions(te,ee,re=!1){const ne=ee.propsCache,ie=ne.get(te);if(ie)return ie;const oe=te.props,se={},ae=[];let fe=!1;if(!isFunction$4(te)){const le=pe=>{fe=!0;const[rr,cr]=normalizePropsOptions(pe,ee,!0);extend$4(se,rr),cr&&ae.push(...cr)};!re&&ee.mixins.length&&ee.mixins.forEach(le),te.extends&&le(te.extends),te.mixins&&te.mixins.forEach(le)}if(!oe&&!fe)return ne.set(te,EMPTY_ARR),EMPTY_ARR;if(isArray$8(oe))for(let le=0;le<oe.length;le++){const pe=camelize(oe[le]);validatePropName(pe)&&(se[pe]=EMPTY_OBJ)}else if(oe)for(const le in oe){const pe=camelize(le);if(validatePropName(pe)){const rr=oe[le],cr=se[pe]=isArray$8(rr)||isFunction$4(rr)?{type:rr}:rr;if(cr){const ar=getTypeIndex(Boolean,cr.type),mr=getTypeIndex(String,cr.type);cr[0]=ar>-1,cr[1]=mr<0||ar<mr,(ar>-1||hasOwn$1(cr,"default"))&&ae.push(pe)}}}const ue=[se,ae];return ne.set(te,ue),ue}function validatePropName(te){return te[0]!=="$"}function getType(te){const ee=te&&te.toString().match(/^\s*function (\w+)/);return ee?ee[1]:te===null?"null":""}function isSameType(te,ee){return getType(te)===getType(ee)}function getTypeIndex(te,ee){return isArray$8(ee)?ee.findIndex(re=>isSameType(re,te)):isFunction$4(ee)&&isSameType(ee,te)?0:-1}const isInternalKey=te=>te[0]==="_"||te==="$stable",normalizeSlotValue=te=>isArray$8(te)?te.map(normalizeVNode):[normalizeVNode(te)],normalizeSlot$1=(te,ee,re)=>{const ne=withCtx((...ie)=>normalizeSlotValue(ee(...ie)),re);return ne._c=!1,ne},normalizeObjectSlots=(te,ee,re)=>{const ne=te._ctx;for(const ie in te){if(isInternalKey(ie))continue;const oe=te[ie];if(isFunction$4(oe))ee[ie]=normalizeSlot$1(ie,oe,ne);else if(oe!=null){const se=normalizeSlotValue(oe);ee[ie]=()=>se}}},normalizeVNodeSlots=(te,ee)=>{const re=normalizeSlotValue(ee);te.slots.default=()=>re},initSlots=(te,ee)=>{if(te.vnode.shapeFlag&32){const re=ee._;re?(te.slots=toRaw(ee),def(ee,"_",re)):normalizeObjectSlots(ee,te.slots={})}else te.slots={},ee&&normalizeVNodeSlots(te,ee);def(te.slots,InternalObjectKey,1)},updateSlots=(te,ee,re)=>{const{vnode:ne,slots:ie}=te;let oe=!0,se=EMPTY_OBJ;if(ne.shapeFlag&32){const ae=ee._;ae?re&&ae===1?oe=!1:(extend$4(ie,ee),!re&&ae===1&&delete ie._):(oe=!ee.$stable,normalizeObjectSlots(ee,ie)),se=ee}else ee&&(normalizeVNodeSlots(te,ee),se={default:1});if(oe)for(const ae in ie)!isInternalKey(ae)&&!(ae in se)&&delete ie[ae]};function withDirectives(te,ee){const re=currentRenderingInstance;if(re===null)return te;const ne=re.proxy,ie=te.dirs||(te.dirs=[]);for(let oe=0;oe<ee.length;oe++){let[se,ae,fe,ue=EMPTY_OBJ]=ee[oe];isFunction$4(se)&&(se={mounted:se,updated:se}),se.deep&&traverse(ae),ie.push({dir:se,instance:ne,value:ae,oldValue:void 0,arg:fe,modifiers:ue})}return te}function invokeDirectiveHook(te,ee,re,ne){const ie=te.dirs,oe=ee&&ee.dirs;for(let se=0;se<ie.length;se++){const ae=ie[se];oe&&(ae.oldValue=oe[se].value);let fe=ae.dir[ne];fe&&(pauseTracking(),callWithAsyncErrorHandling(fe,re,8,[te.el,ae,te,ee]),resetTracking())}}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(te,ee){return function(ne,ie=null){ie!=null&&!isObject$4(ie)&&(ie=null);const oe=createAppContext(),se=new Set;let ae=!1;const fe=oe.app={_uid:uid++,_component:ne,_props:ie,_container:null,_context:oe,_instance:null,version:version$1t,get config(){return oe.config},set config(ue){},use(ue,...le){return se.has(ue)||(ue&&isFunction$4(ue.install)?(se.add(ue),ue.install(fe,...le)):isFunction$4(ue)&&(se.add(ue),ue(fe,...le))),fe},mixin(ue){return oe.mixins.includes(ue)||oe.mixins.push(ue),fe},component(ue,le){return le?(oe.components[ue]=le,fe):oe.components[ue]},directive(ue,le){return le?(oe.directives[ue]=le,fe):oe.directives[ue]},mount(ue,le,pe){if(!ae){const rr=createVNode(ne,ie);return rr.appContext=oe,le&&ee?ee(rr,ue):te(rr,ue,pe),ae=!0,fe._container=ue,ue.__vue_app__=fe,getExposeProxy(rr.component)||rr.component.proxy}},unmount(){ae&&(te(null,fe._container),delete fe._container.__vue_app__)},provide(ue,le){return oe.provides[ue]=le,fe}};return fe}}function setRef(te,ee,re,ne,ie=!1){if(isArray$8(te)){te.forEach((rr,cr)=>setRef(rr,ee&&(isArray$8(ee)?ee[cr]:ee),re,ne,ie));return}if(isAsyncWrapper(ne)&&!ie)return;const oe=ne.shapeFlag&4?getExposeProxy(ne.component)||ne.component.proxy:ne.el,se=ie?null:oe,{i:ae,r:fe}=te,ue=ee&&ee.r,le=ae.refs===EMPTY_OBJ?ae.refs={}:ae.refs,pe=ae.setupState;if(ue!=null&&ue!==fe&&(isString$1(ue)?(le[ue]=null,hasOwn$1(pe,ue)&&(pe[ue]=null)):isRef(ue)&&(ue.value=null)),isFunction$4(fe))callWithErrorHandling(fe,ae,12,[se,le]);else{const rr=isString$1(fe),cr=isRef(fe);if(rr||cr){const ar=()=>{if(te.f){const mr=rr?le[fe]:fe.value;ie?isArray$8(mr)&&remove(mr,oe):isArray$8(mr)?mr.includes(oe)||mr.push(oe):rr?le[fe]=[oe]:(fe.value=[oe],te.k&&(le[te.k]=fe.value))}else rr?(le[fe]=se,hasOwn$1(pe,fe)&&(pe[fe]=se)):isRef(fe)&&(fe.value=se,te.k&&(le[te.k]=se))};se?(ar.id=-1,queuePostRenderEffect(ar,re)):ar()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(te){return baseCreateRenderer(te)}function baseCreateRenderer(te,ee){const re=getGlobalThis();re.__VUE__=!0;const{insert:ne,remove:ie,patchProp:oe,createElement:se,createText:ae,createComment:fe,setText:ue,setElementText:le,parentNode:pe,nextSibling:rr,setScopeId:cr=NOOP,cloneNode:ar,insertStaticContent:mr}=te,pr=(Fr,Ur,Kr,kr=null,_r=null,$r=null,Mr=!1,jr=null,qr=!!Ur.dynamicChildren)=>{if(Fr===Ur)return;Fr&&!isSameVNodeType(Fr,Ur)&&(kr=Dr(Fr),gr(Fr,_r,$r,!0),Fr=null),Ur.patchFlag===-2&&(qr=!1,Ur.dynamicChildren=null);const{type:Jr,ref:qn,shapeFlag:zn}=Ur;switch(Jr){case Text:yr(Fr,Ur,Kr,kr);break;case Comment:vr(Fr,Ur,Kr,kr);break;case Static:Fr==null&&Er(Ur,Kr,kr,Mr);break;case Fragment$1:ve(Fr,Ur,Kr,kr,_r,$r,Mr,jr,qr);break;default:zn&1?Or(Fr,Ur,Kr,kr,_r,$r,Mr,jr,qr):zn&6?ce(Fr,Ur,Kr,kr,_r,$r,Mr,jr,qr):(zn&64||zn&128)&&Jr.process(Fr,Ur,Kr,kr,_r,$r,Mr,jr,qr,Qr)}qn!=null&&_r&&setRef(qn,Fr&&Fr.ref,$r,Ur||Fr,!Ur)},yr=(Fr,Ur,Kr,kr)=>{if(Fr==null)ne(Ur.el=ae(Ur.children),Kr,kr);else{const _r=Ur.el=Fr.el;Ur.children!==Fr.children&&ue(_r,Ur.children)}},vr=(Fr,Ur,Kr,kr)=>{Fr==null?ne(Ur.el=fe(Ur.children||""),Kr,kr):Ur.el=Fr.el},Er=(Fr,Ur,Kr,kr)=>{[Fr.el,Fr.anchor]=mr(Fr.children,Ur,Kr,kr,Fr.el,Fr.anchor)},Tr=({el:Fr,anchor:Ur},Kr,kr)=>{let _r;for(;Fr&&Fr!==Ur;)_r=rr(Fr),ne(Fr,Kr,kr),Fr=_r;ne(Ur,Kr,kr)},Ir=({el:Fr,anchor:Ur})=>{let Kr;for(;Fr&&Fr!==Ur;)Kr=rr(Fr),ie(Fr),Fr=Kr;ie(Ur)},Or=(Fr,Ur,Kr,kr,_r,$r,Mr,jr,qr)=>{Mr=Mr||Ur.type==="svg",Fr==null?Hr(Ur,Kr,kr,_r,$r,Mr,jr,qr):Nr(Fr,Ur,_r,$r,Mr,jr,qr)},Hr=(Fr,Ur,Kr,kr,_r,$r,Mr,jr)=>{let qr,Jr;const{type:qn,props:zn,shapeFlag:Xn,transition:Jn,patchFlag:Rr,dirs:xr}=Fr;if(Fr.el&&ar!==void 0&&Rr===-1)qr=Fr.el=ar(Fr.el);else{if(qr=Fr.el=se(Fr.type,$r,zn&&zn.is,zn),Xn&8?le(qr,Fr.children):Xn&16&&Br(Fr.children,qr,null,kr,_r,$r&&qn!=="foreignObject",Mr,jr),xr&&invokeDirectiveHook(Fr,null,kr,"created"),zn){for(const Sr in zn)Sr!=="value"&&!isReservedProp(Sr)&&oe(qr,Sr,null,zn[Sr],$r,Fr.children,kr,_r,Lr);"value"in zn&&oe(qr,"value",null,zn.value),(Jr=zn.onVnodeBeforeMount)&&invokeVNodeHook(Jr,kr,Fr)}Pr(qr,Fr,Fr.scopeId,Mr,kr)}xr&&invokeDirectiveHook(Fr,null,kr,"beforeMount");const wr=(!_r||_r&&!_r.pendingBranch)&&Jn&&!Jn.persisted;wr&&Jn.beforeEnter(qr),ne(qr,Ur,Kr),((Jr=zn&&zn.onVnodeMounted)||wr||xr)&&queuePostRenderEffect(()=>{Jr&&invokeVNodeHook(Jr,kr,Fr),wr&&Jn.enter(qr),xr&&invokeDirectiveHook(Fr,null,kr,"mounted")},_r)},Pr=(Fr,Ur,Kr,kr,_r)=>{if(Kr&&cr(Fr,Kr),kr)for(let $r=0;$r<kr.length;$r++)cr(Fr,kr[$r]);if(_r){let $r=_r.subTree;if(Ur===$r){const Mr=_r.vnode;Pr(Fr,Mr,Mr.scopeId,Mr.slotScopeIds,_r.parent)}}},Br=(Fr,Ur,Kr,kr,_r,$r,Mr,jr,qr=0)=>{for(let Jr=qr;Jr<Fr.length;Jr++){const qn=Fr[Jr]=jr?cloneIfMounted(Fr[Jr]):normalizeVNode(Fr[Jr]);pr(null,qn,Ur,Kr,kr,_r,$r,Mr,jr)}},Nr=(Fr,Ur,Kr,kr,_r,$r,Mr)=>{const jr=Ur.el=Fr.el;let{patchFlag:qr,dynamicChildren:Jr,dirs:qn}=Ur;qr|=Fr.patchFlag&16;const zn=Fr.props||EMPTY_OBJ,Xn=Ur.props||EMPTY_OBJ;let Jn;Kr&&toggleRecurse(Kr,!1),(Jn=Xn.onVnodeBeforeUpdate)&&invokeVNodeHook(Jn,Kr,Ur,Fr),qn&&invokeDirectiveHook(Ur,Fr,Kr,"beforeUpdate"),Kr&&toggleRecurse(Kr,!0);const Rr=_r&&Ur.type!=="foreignObject";if(Jr?dr(Fr.dynamicChildren,Jr,jr,Kr,kr,Rr,$r):Mr||er(Fr,Ur,jr,null,Kr,kr,Rr,$r,!1),qr>0){if(qr&16)tr(jr,Ur,zn,Xn,Kr,kr,_r);else if(qr&2&&zn.class!==Xn.class&&oe(jr,"class",null,Xn.class,_r),qr&4&&oe(jr,"style",zn.style,Xn.style,_r),qr&8){const xr=Ur.dynamicProps;for(let wr=0;wr<xr.length;wr++){const Sr=xr[wr],Gr=zn[Sr],Vr=Xn[Sr];(Vr!==Gr||Sr==="value")&&oe(jr,Sr,Gr,Vr,_r,Fr.children,Kr,kr,Lr)}}qr&1&&Fr.children!==Ur.children&&le(jr,Ur.children)}else!Mr&&Jr==null&&tr(jr,Ur,zn,Xn,Kr,kr,_r);((Jn=Xn.onVnodeUpdated)||qn)&&queuePostRenderEffect(()=>{Jn&&invokeVNodeHook(Jn,Kr,Ur,Fr),qn&&invokeDirectiveHook(Ur,Fr,Kr,"updated")},kr)},dr=(Fr,Ur,Kr,kr,_r,$r,Mr)=>{for(let jr=0;jr<Ur.length;jr++){const qr=Fr[jr],Jr=Ur[jr],qn=qr.el&&(qr.type===Fragment$1||!isSameVNodeType(qr,Jr)||qr.shapeFlag&70)?pe(qr.el):Kr;pr(qr,Jr,qn,null,kr,_r,$r,Mr,!0)}},tr=(Fr,Ur,Kr,kr,_r,$r,Mr)=>{if(Kr!==kr){for(const jr in kr){if(isReservedProp(jr))continue;const qr=kr[jr],Jr=Kr[jr];qr!==Jr&&jr!=="value"&&oe(Fr,jr,Jr,qr,Mr,Ur.children,_r,$r,Lr)}if(Kr!==EMPTY_OBJ)for(const jr in Kr)!isReservedProp(jr)&&!(jr in kr)&&oe(Fr,jr,Kr[jr],null,Mr,Ur.children,_r,$r,Lr);"value"in kr&&oe(Fr,"value",Kr.value,kr.value)}},ve=(Fr,Ur,Kr,kr,_r,$r,Mr,jr,qr)=>{const Jr=Ur.el=Fr?Fr.el:ae(""),qn=Ur.anchor=Fr?Fr.anchor:ae("");let{patchFlag:zn,dynamicChildren:Xn,slotScopeIds:Jn}=Ur;Jn&&(jr=jr?jr.concat(Jn):Jn),Fr==null?(ne(Jr,Kr,kr),ne(qn,Kr,kr),Br(Ur.children,Kr,qn,_r,$r,Mr,jr,qr)):zn>0&&zn&64&&Xn&&Fr.dynamicChildren?(dr(Fr.dynamicChildren,Xn,Kr,_r,$r,Mr,jr),(Ur.key!=null||_r&&Ur===_r.subTree)&&traverseStaticChildren(Fr,Ur,!0)):er(Fr,Ur,Kr,qn,_r,$r,Mr,jr,qr)},ce=(Fr,Ur,Kr,kr,_r,$r,Mr,jr,qr)=>{Ur.slotScopeIds=jr,Fr==null?Ur.shapeFlag&512?_r.ctx.activate(Ur,Kr,kr,Mr,qr):me(Ur,Kr,kr,_r,$r,Mr,qr):ir(Fr,Ur,qr)},me=(Fr,Ur,Kr,kr,_r,$r,Mr)=>{const jr=Fr.component=createComponentInstance(Fr,kr,_r);if(isKeepAlive(Fr)&&(jr.ctx.renderer=Qr),setupComponent(jr),jr.asyncDep){if(_r&&_r.registerDep(jr,ur),!Fr.el){const qr=jr.subTree=createVNode(Comment);vr(null,qr,Ur,Kr)}return}ur(jr,Fr,Ur,Kr,_r,$r,Mr)},ir=(Fr,Ur,Kr)=>{const kr=Ur.component=Fr.component;if(shouldUpdateComponent(Fr,Ur,Kr))if(kr.asyncDep&&!kr.asyncResolved){lr(kr,Ur,Kr);return}else kr.next=Ur,invalidateJob(kr.update),kr.update();else Ur.component=Fr.component,Ur.el=Fr.el,kr.vnode=Ur},ur=(Fr,Ur,Kr,kr,_r,$r,Mr)=>{const jr=()=>{if(Fr.isMounted){let{next:qn,bu:zn,u:Xn,parent:Jn,vnode:Rr}=Fr,xr=qn,wr;toggleRecurse(Fr,!1),qn?(qn.el=Rr.el,lr(Fr,qn,Mr)):qn=Rr,zn&&invokeArrayFns(zn),(wr=qn.props&&qn.props.onVnodeBeforeUpdate)&&invokeVNodeHook(wr,Jn,qn,Rr),toggleRecurse(Fr,!0);const Sr=renderComponentRoot(Fr),Gr=Fr.subTree;Fr.subTree=Sr,pr(Gr,Sr,pe(Gr.el),Dr(Gr),Fr,_r,$r),qn.el=Sr.el,xr===null&&updateHOCHostEl(Fr,Sr.el),Xn&&queuePostRenderEffect(Xn,_r),(wr=qn.props&&qn.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(wr,Jn,qn,Rr),_r)}else{let qn;const{el:zn,props:Xn}=Ur,{bm:Jn,m:Rr,parent:xr}=Fr,wr=isAsyncWrapper(Ur);if(toggleRecurse(Fr,!1),Jn&&invokeArrayFns(Jn),!wr&&(qn=Xn&&Xn.onVnodeBeforeMount)&&invokeVNodeHook(qn,xr,Ur),toggleRecurse(Fr,!0),zn&&Xr){const Sr=()=>{Fr.subTree=renderComponentRoot(Fr),Xr(zn,Fr.subTree,Fr,_r,null)};wr?Ur.type.__asyncLoader().then(()=>!Fr.isUnmounted&&Sr()):Sr()}else{const Sr=Fr.subTree=renderComponentRoot(Fr);pr(null,Sr,Kr,kr,Fr,_r,$r),Ur.el=Sr.el}if(Rr&&queuePostRenderEffect(Rr,_r),!wr&&(qn=Xn&&Xn.onVnodeMounted)){const Sr=Ur;queuePostRenderEffect(()=>invokeVNodeHook(qn,xr,Sr),_r)}Ur.shapeFlag&256&&Fr.a&&queuePostRenderEffect(Fr.a,_r),Fr.isMounted=!0,Ur=Kr=kr=null}},qr=Fr.effect=new ReactiveEffect(jr,()=>queueJob(Fr.update),Fr.scope),Jr=Fr.update=qr.run.bind(qr);Jr.id=Fr.uid,toggleRecurse(Fr,!0),Jr()},lr=(Fr,Ur,Kr)=>{Ur.component=Fr;const kr=Fr.vnode.props;Fr.vnode=Ur,Fr.next=null,updateProps(Fr,Ur.props,kr,Kr),updateSlots(Fr,Ur.children,Kr),pauseTracking(),flushPreFlushCbs(void 0,Fr.update),resetTracking()},er=(Fr,Ur,Kr,kr,_r,$r,Mr,jr,qr=!1)=>{const Jr=Fr&&Fr.children,qn=Fr?Fr.shapeFlag:0,zn=Ur.children,{patchFlag:Xn,shapeFlag:Jn}=Ur;if(Xn>0){if(Xn&128){or(Jr,zn,Kr,kr,_r,$r,Mr,jr,qr);return}else if(Xn&256){nr(Jr,zn,Kr,kr,_r,$r,Mr,jr,qr);return}}Jn&8?(qn&16&&Lr(Jr,_r,$r),zn!==Jr&&le(Kr,zn)):qn&16?Jn&16?or(Jr,zn,Kr,kr,_r,$r,Mr,jr,qr):Lr(Jr,_r,$r,!0):(qn&8&&le(Kr,""),Jn&16&&Br(zn,Kr,kr,_r,$r,Mr,jr,qr))},nr=(Fr,Ur,Kr,kr,_r,$r,Mr,jr,qr)=>{Fr=Fr||EMPTY_ARR,Ur=Ur||EMPTY_ARR;const Jr=Fr.length,qn=Ur.length,zn=Math.min(Jr,qn);let Xn;for(Xn=0;Xn<zn;Xn++){const Jn=Ur[Xn]=qr?cloneIfMounted(Ur[Xn]):normalizeVNode(Ur[Xn]);pr(Fr[Xn],Jn,Kr,null,_r,$r,Mr,jr,qr)}Jr>qn?Lr(Fr,_r,$r,!0,!1,zn):Br(Ur,Kr,kr,_r,$r,Mr,jr,qr,zn)},or=(Fr,Ur,Kr,kr,_r,$r,Mr,jr,qr)=>{let Jr=0;const qn=Ur.length;let zn=Fr.length-1,Xn=qn-1;for(;Jr<=zn&&Jr<=Xn;){const Jn=Fr[Jr],Rr=Ur[Jr]=qr?cloneIfMounted(Ur[Jr]):normalizeVNode(Ur[Jr]);if(isSameVNodeType(Jn,Rr))pr(Jn,Rr,Kr,null,_r,$r,Mr,jr,qr);else break;Jr++}for(;Jr<=zn&&Jr<=Xn;){const Jn=Fr[zn],Rr=Ur[Xn]=qr?cloneIfMounted(Ur[Xn]):normalizeVNode(Ur[Xn]);if(isSameVNodeType(Jn,Rr))pr(Jn,Rr,Kr,null,_r,$r,Mr,jr,qr);else break;zn--,Xn--}if(Jr>zn){if(Jr<=Xn){const Jn=Xn+1,Rr=Jn<qn?Ur[Jn].el:kr;for(;Jr<=Xn;)pr(null,Ur[Jr]=qr?cloneIfMounted(Ur[Jr]):normalizeVNode(Ur[Jr]),Kr,Rr,_r,$r,Mr,jr,qr),Jr++}}else if(Jr>Xn)for(;Jr<=zn;)gr(Fr[Jr],_r,$r,!0),Jr++;else{const Jn=Jr,Rr=Jr,xr=new Map;for(Jr=Rr;Jr<=Xn;Jr++){const Zn=Ur[Jr]=qr?cloneIfMounted(Ur[Jr]):normalizeVNode(Ur[Jr]);Zn.key!=null&&xr.set(Zn.key,Jr)}let wr,Sr=0;const Gr=Xn-Rr+1;let Vr=!1,Yr=0;const Qn=new Array(Gr);for(Jr=0;Jr<Gr;Jr++)Qn[Jr]=0;for(Jr=Jn;Jr<=zn;Jr++){const Zn=Fr[Jr];if(Sr>=Gr){gr(Zn,_r,$r,!0);continue}let bi;if(Zn.key!=null)bi=xr.get(Zn.key);else for(wr=Rr;wr<=Xn;wr++)if(Qn[wr-Rr]===0&&isSameVNodeType(Zn,Ur[wr])){bi=wr;break}bi===void 0?gr(Zn,_r,$r,!0):(Qn[bi-Rr]=Jr+1,bi>=Yr?Yr=bi:Vr=!0,pr(Zn,Ur[bi],Kr,null,_r,$r,Mr,jr,qr),Sr++)}const ei=Vr?getSequence(Qn):EMPTY_ARR;for(wr=ei.length-1,Jr=Gr-1;Jr>=0;Jr--){const Zn=Rr+Jr,bi=Ur[Zn],ti=Zn+1<qn?Ur[Zn+1].el:kr;Qn[Jr]===0?pr(null,bi,Kr,ti,_r,$r,Mr,jr,qr):Vr&&(wr<0||Jr!==ei[wr]?ye(bi,Kr,ti,2):wr--)}}},ye=(Fr,Ur,Kr,kr,_r=null)=>{const{el:$r,type:Mr,transition:jr,children:qr,shapeFlag:Jr}=Fr;if(Jr&6){ye(Fr.component.subTree,Ur,Kr,kr);return}if(Jr&128){Fr.suspense.move(Ur,Kr,kr);return}if(Jr&64){Mr.move(Fr,Ur,Kr,Qr);return}if(Mr===Fragment$1){ne($r,Ur,Kr);for(let zn=0;zn<qr.length;zn++)ye(qr[zn],Ur,Kr,kr);ne(Fr.anchor,Ur,Kr);return}if(Mr===Static){Tr(Fr,Ur,Kr);return}if(kr!==2&&Jr&1&&jr)if(kr===0)jr.beforeEnter($r),ne($r,Ur,Kr),queuePostRenderEffect(()=>jr.enter($r),_r);else{const{leave:zn,delayLeave:Xn,afterLeave:Jn}=jr,Rr=()=>ne($r,Ur,Kr),xr=()=>{zn($r,()=>{Rr(),Jn&&Jn()})};Xn?Xn($r,Rr,xr):xr()}else ne($r,Ur,Kr)},gr=(Fr,Ur,Kr,kr=!1,_r=!1)=>{const{type:$r,props:Mr,ref:jr,children:qr,dynamicChildren:Jr,shapeFlag:qn,patchFlag:zn,dirs:Xn}=Fr;if(jr!=null&&setRef(jr,null,Kr,Fr,!0),qn&256){Ur.ctx.deactivate(Fr);return}const Jn=qn&1&&Xn,Rr=!isAsyncWrapper(Fr);let xr;if(Rr&&(xr=Mr&&Mr.onVnodeBeforeUnmount)&&invokeVNodeHook(xr,Ur,Fr),qn&6)Cr(Fr.component,Kr,kr);else{if(qn&128){Fr.suspense.unmount(Kr,kr);return}Jn&&invokeDirectiveHook(Fr,null,Ur,"beforeUnmount"),qn&64?Fr.type.remove(Fr,Ur,Kr,_r,Qr,kr):Jr&&($r!==Fragment$1||zn>0&&zn&64)?Lr(Jr,Ur,Kr,!1,!0):($r===Fragment$1&&zn&384||!_r&&qn&16)&&Lr(qr,Ur,Kr),kr&&Ar(Fr)}(Rr&&(xr=Mr&&Mr.onVnodeUnmounted)||Jn)&&queuePostRenderEffect(()=>{xr&&invokeVNodeHook(xr,Ur,Fr),Jn&&invokeDirectiveHook(Fr,null,Ur,"unmounted")},Kr)},Ar=Fr=>{const{type:Ur,el:Kr,anchor:kr,transition:_r}=Fr;if(Ur===Fragment$1){br(Kr,kr);return}if(Ur===Static){Ir(Fr);return}const $r=()=>{ie(Kr),_r&&!_r.persisted&&_r.afterLeave&&_r.afterLeave()};if(Fr.shapeFlag&1&&_r&&!_r.persisted){const{leave:Mr,delayLeave:jr}=_r,qr=()=>Mr(Kr,$r);jr?jr(Fr.el,$r,qr):qr()}else $r()},br=(Fr,Ur)=>{let Kr;for(;Fr!==Ur;)Kr=rr(Fr),ie(Fr),Fr=Kr;ie(Ur)},Cr=(Fr,Ur,Kr)=>{const{bum:kr,scope:_r,update:$r,subTree:Mr,um:jr}=Fr;kr&&invokeArrayFns(kr),_r.stop(),$r&&($r.active=!1,gr(Mr,Fr,Ur,Kr)),jr&&queuePostRenderEffect(jr,Ur),queuePostRenderEffect(()=>{Fr.isUnmounted=!0},Ur),Ur&&Ur.pendingBranch&&!Ur.isUnmounted&&Fr.asyncDep&&!Fr.asyncResolved&&Fr.suspenseId===Ur.pendingId&&(Ur.deps--,Ur.deps===0&&Ur.resolve())},Lr=(Fr,Ur,Kr,kr=!1,_r=!1,$r=0)=>{for(let Mr=$r;Mr<Fr.length;Mr++)gr(Fr[Mr],Ur,Kr,kr,_r)},Dr=Fr=>Fr.shapeFlag&6?Dr(Fr.component.subTree):Fr.shapeFlag&128?Fr.suspense.next():rr(Fr.anchor||Fr.el),Wr=(Fr,Ur,Kr)=>{Fr==null?Ur._vnode&&gr(Ur._vnode,null,null,!0):pr(Ur._vnode||null,Fr,Ur,null,null,null,Kr),flushPostFlushCbs(),Ur._vnode=Fr},Qr={p:pr,um:gr,m:ye,r:Ar,mt:me,mc:Br,pc:er,pbc:dr,n:Dr,o:te};let Zr,Xr;return ee&&([Zr,Xr]=ee(Qr)),{render:Wr,hydrate:Zr,createApp:createAppAPI(Wr,Zr)}}function toggleRecurse({effect:te,update:ee},re){te.allowRecurse=ee.allowRecurse=re}function traverseStaticChildren(te,ee,re=!1){const ne=te.children,ie=ee.children;if(isArray$8(ne)&&isArray$8(ie))for(let oe=0;oe<ne.length;oe++){const se=ne[oe];let ae=ie[oe];ae.shapeFlag&1&&!ae.dynamicChildren&&((ae.patchFlag<=0||ae.patchFlag===32)&&(ae=ie[oe]=cloneIfMounted(ie[oe]),ae.el=se.el),re||traverseStaticChildren(se,ae))}}function getSequence(te){const ee=te.slice(),re=[0];let ne,ie,oe,se,ae;const fe=te.length;for(ne=0;ne<fe;ne++){const ue=te[ne];if(ue!==0){if(ie=re[re.length-1],te[ie]<ue){ee[ne]=ie,re.push(ne);continue}for(oe=0,se=re.length-1;oe<se;)ae=oe+se>>1,te[re[ae]]<ue?oe=ae+1:se=ae;ue<te[re[oe]]&&(oe>0&&(ee[ne]=re[oe-1]),re[oe]=ne)}}for(oe=re.length,se=re[oe-1];oe-- >0;)re[oe]=se,se=ee[se];return re}const isTeleport=te=>te.__isTeleport,isTeleportDisabled=te=>te&&(te.disabled||te.disabled===""),isTargetSVG=te=>typeof SVGElement!="undefined"&&te instanceof SVGElement,resolveTarget=(te,ee)=>{const re=te&&te.to;return isString$1(re)?ee?ee(re):null:re},TeleportImpl={__isTeleport:!0,process(te,ee,re,ne,ie,oe,se,ae,fe,ue){const{mc:le,pc:pe,pbc:rr,o:{insert:cr,querySelector:ar,createText:mr,createComment:pr}}=ue,yr=isTeleportDisabled(ee.props);let{shapeFlag:vr,children:Er,dynamicChildren:Tr}=ee;if(te==null){const Ir=ee.el=mr(""),Or=ee.anchor=mr("");cr(Ir,re,ne),cr(Or,re,ne);const Hr=ee.target=resolveTarget(ee.props,ar),Pr=ee.targetAnchor=mr("");Hr&&(cr(Pr,Hr),se=se||isTargetSVG(Hr));const Br=(Nr,dr)=>{vr&16&&le(Er,Nr,dr,ie,oe,se,ae,fe)};yr?Br(re,Or):Hr&&Br(Hr,Pr)}else{ee.el=te.el;const Ir=ee.anchor=te.anchor,Or=ee.target=te.target,Hr=ee.targetAnchor=te.targetAnchor,Pr=isTeleportDisabled(te.props),Br=Pr?re:Or,Nr=Pr?Ir:Hr;if(se=se||isTargetSVG(Or),Tr?(rr(te.dynamicChildren,Tr,Br,ie,oe,se,ae),traverseStaticChildren(te,ee,!0)):fe||pe(te,ee,Br,Nr,ie,oe,se,ae,!1),yr)Pr||moveTeleport(ee,re,Ir,ue,1);else if((ee.props&&ee.props.to)!==(te.props&&te.props.to)){const dr=ee.target=resolveTarget(ee.props,ar);dr&&moveTeleport(ee,dr,null,ue,0)}else Pr&&moveTeleport(ee,Or,Hr,ue,1)}},remove(te,ee,re,ne,{um:ie,o:{remove:oe}},se){const{shapeFlag:ae,children:fe,anchor:ue,targetAnchor:le,target:pe,props:rr}=te;if(pe&&oe(le),(se||!isTeleportDisabled(rr))&&(oe(ue),ae&16))for(let cr=0;cr<fe.length;cr++){const ar=fe[cr];ie(ar,ee,re,!0,!!ar.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(te,ee,re,{o:{insert:ne},m:ie},oe=2){oe===0&&ne(te.targetAnchor,ee,re);const{el:se,anchor:ae,shapeFlag:fe,children:ue,props:le}=te,pe=oe===2;if(pe&&ne(se,ee,re),(!pe||isTeleportDisabled(le))&&fe&16)for(let rr=0;rr<ue.length;rr++)ie(ue[rr],ee,re,2);pe&&ne(ae,ee,re)}function hydrateTeleport(te,ee,re,ne,ie,oe,{o:{nextSibling:se,parentNode:ae,querySelector:fe}},ue){const le=ee.target=resolveTarget(ee.props,fe);if(le){const pe=le._lpa||le.firstChild;ee.shapeFlag&16&&(isTeleportDisabled(ee.props)?(ee.anchor=ue(se(te),ee,ae(te),re,ne,ie,oe),ee.targetAnchor=pe):(ee.anchor=se(te),ee.targetAnchor=ue(pe,ee,le,re,ne,ie,oe)),le._lpa=ee.targetAnchor&&se(ee.targetAnchor))}return ee.anchor&&se(ee.anchor)}const Teleport=TeleportImpl,COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(te,ee){return resolveAsset(COMPONENTS,te,!0,ee)||te}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveDynamicComponent(te){return isString$1(te)?resolveAsset(COMPONENTS,te,!1)||te:te||NULL_DYNAMIC_COMPONENT}function resolveDirective(te){return resolveAsset(DIRECTIVES,te)}function resolveAsset(te,ee,re=!0,ne=!1){const ie=currentRenderingInstance||currentInstance;if(ie){const oe=ie.type;if(te===COMPONENTS){const ae=getComponentName(oe);if(ae&&(ae===ee||ae===camelize(ee)||ae===capitalize(camelize(ee))))return oe}const se=resolve(ie[te]||oe[te],ee)||resolve(ie.appContext[te],ee);return!se&&ne?oe:se}}function resolve(te,ee){return te&&(te[ee]||te[camelize(ee)]||te[capitalize(camelize(ee))])}const Fragment$1=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(te=!1){blockStack.push(currentBlock=te?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(te){isBlockTreeEnabled+=te}function setupBlock(te){return te.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(te),te}function createElementBlock(te,ee,re,ne,ie,oe){return setupBlock(createBaseVNode(te,ee,re,ne,ie,oe,!0))}function createBlock(te,ee,re,ne,ie){return setupBlock(createVNode(te,ee,re,ne,ie,!0))}function isVNode(te){return te?te.__v_isVNode===!0:!1}function isSameVNodeType(te,ee){return te.type===ee.type&&te.key===ee.key}const InternalObjectKey="__vInternal",normalizeKey=({key:te})=>te!=null?te:null,normalizeRef=({ref:te,ref_key:ee,ref_for:re})=>te!=null?isString$1(te)||isRef(te)||isFunction$4(te)?{i:currentRenderingInstance,r:te,k:ee,f:!!re}:te:null;function createBaseVNode(te,ee=null,re=null,ne=0,ie=null,oe=te===Fragment$1?0:1,se=!1,ae=!1){const fe={__v_isVNode:!0,__v_skip:!0,type:te,props:ee,key:ee&&normalizeKey(ee),ref:ee&&normalizeRef(ee),scopeId:currentScopeId,slotScopeIds:null,children:re,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:oe,patchFlag:ne,dynamicProps:ie,dynamicChildren:null,appContext:null};return ae?(normalizeChildren(fe,re),oe&128&&te.normalize(fe)):re&&(fe.shapeFlag|=isString$1(re)?8:16),isBlockTreeEnabled>0&&!se&&currentBlock&&(fe.patchFlag>0||oe&6)&&fe.patchFlag!==32&&currentBlock.push(fe),fe}const createVNode=_createVNode;function _createVNode(te,ee=null,re=null,ne=0,ie=null,oe=!1){if((!te||te===NULL_DYNAMIC_COMPONENT)&&(te=Comment),isVNode(te)){const ae=cloneVNode(te,ee,!0);return re&&normalizeChildren(ae,re),ae}if(isClassComponent(te)&&(te=te.__vccOpts),ee){ee=guardReactiveProps(ee);let{class:ae,style:fe}=ee;ae&&!isString$1(ae)&&(ee.class=normalizeClass(ae)),isObject$4(fe)&&(isProxy(fe)&&!isArray$8(fe)&&(fe=extend$4({},fe)),ee.style=normalizeStyle(fe))}const se=isString$1(te)?1:isSuspense(te)?128:isTeleport(te)?64:isObject$4(te)?4:isFunction$4(te)?2:0;return createBaseVNode(te,ee,re,ne,ie,se,oe,!0)}function guardReactiveProps(te){return te?isProxy(te)||InternalObjectKey in te?extend$4({},te):te:null}function cloneVNode(te,ee,re=!1){const{props:ne,ref:ie,patchFlag:oe,children:se}=te,ae=ee?mergeProps(ne||{},ee):ne;return{__v_isVNode:!0,__v_skip:!0,type:te.type,props:ae,key:ae&&normalizeKey(ae),ref:ee&&ee.ref?re&&ie?isArray$8(ie)?ie.concat(normalizeRef(ee)):[ie,normalizeRef(ee)]:normalizeRef(ee):ie,scopeId:te.scopeId,slotScopeIds:te.slotScopeIds,children:se,target:te.target,targetAnchor:te.targetAnchor,staticCount:te.staticCount,shapeFlag:te.shapeFlag,patchFlag:ee&&te.type!==Fragment$1?oe===-1?16:oe|16:oe,dynamicProps:te.dynamicProps,dynamicChildren:te.dynamicChildren,appContext:te.appContext,dirs:te.dirs,transition:te.transition,component:te.component,suspense:te.suspense,ssContent:te.ssContent&&cloneVNode(te.ssContent),ssFallback:te.ssFallback&&cloneVNode(te.ssFallback),el:te.el,anchor:te.anchor}}function createTextVNode(te=" ",ee=0){return createVNode(Text,null,te,ee)}function createStaticVNode(te,ee){const re=createVNode(Static,null,te);return re.staticCount=ee,re}function createCommentVNode(te="",ee=!1){return ee?(openBlock(),createBlock(Comment,null,te)):createVNode(Comment,null,te)}function normalizeVNode(te){return te==null||typeof te=="boolean"?createVNode(Comment):isArray$8(te)?createVNode(Fragment$1,null,te.slice()):typeof te=="object"?cloneIfMounted(te):createVNode(Text,null,String(te))}function cloneIfMounted(te){return te.el===null||te.memo?te:cloneVNode(te)}function normalizeChildren(te,ee){let re=0;const{shapeFlag:ne}=te;if(ee==null)ee=null;else if(isArray$8(ee))re=16;else if(typeof ee=="object")if(ne&65){const ie=ee.default;ie&&(ie._c&&(ie._d=!1),normalizeChildren(te,ie()),ie._c&&(ie._d=!0));return}else{re=32;const ie=ee._;!ie&&!(InternalObjectKey in ee)?ee._ctx=currentRenderingInstance:ie===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?ee._=1:(ee._=2,te.patchFlag|=1024))}else isFunction$4(ee)?(ee={default:ee,_ctx:currentRenderingInstance},re=32):(ee=String(ee),ne&64?(re=16,ee=[createTextVNode(ee)]):re=8);te.children=ee,te.shapeFlag|=re}function mergeProps(...te){const ee={};for(let re=0;re<te.length;re++){const ne=te[re];for(const ie in ne)if(ie==="class")ee.class!==ne.class&&(ee.class=normalizeClass([ee.class,ne.class]));else if(ie==="style")ee.style=normalizeStyle([ee.style,ne.style]);else if(isOn(ie)){const oe=ee[ie],se=ne[ie];se&&oe!==se&&!(isArray$8(oe)&&oe.includes(se))&&(ee[ie]=oe?[].concat(oe,se):se)}else ie!==""&&(ee[ie]=ne[ie])}return ee}function invokeVNodeHook(te,ee,re,ne=null){callWithAsyncErrorHandling(te,ee,7,[re,ne])}function renderList(te,ee,re,ne){let ie;const oe=re&&re[ne];if(isArray$8(te)||isString$1(te)){ie=new Array(te.length);for(let se=0,ae=te.length;se<ae;se++)ie[se]=ee(te[se],se,void 0,oe&&oe[se])}else if(typeof te=="number"){ie=new Array(te);for(let se=0;se<te;se++)ie[se]=ee(se+1,se,void 0,oe&&oe[se])}else if(isObject$4(te))if(te[Symbol.iterator])ie=Array.from(te,(se,ae)=>ee(se,ae,void 0,oe&&oe[ae]));else{const se=Object.keys(te);ie=new Array(se.length);for(let ae=0,fe=se.length;ae<fe;ae++){const ue=se[ae];ie[ae]=ee(te[ue],ue,ae,oe&&oe[ae])}}else ie=[];return re&&(re[ne]=ie),ie}function createSlots(te,ee){for(let re=0;re<ee.length;re++){const ne=ee[re];if(isArray$8(ne))for(let ie=0;ie<ne.length;ie++)te[ne[ie].name]=ne[ie].fn;else ne&&(te[ne.name]=ne.fn)}return te}function renderSlot(te,ee,re={},ne,ie){if(currentRenderingInstance.isCE)return createVNode("slot",ee==="default"?null:{name:ee},ne&&ne());let oe=te[ee];oe&&oe._c&&(oe._d=!1),openBlock();const se=oe&&ensureValidVNode(oe(re)),ae=createBlock(Fragment$1,{key:re.key||`_${ee}`},se||(ne?ne():[]),se&&te._===1?64:-2);return!ie&&ae.scopeId&&(ae.slotScopeIds=[ae.scopeId+"-s"]),oe&&oe._c&&(oe._d=!0),ae}function ensureValidVNode(te){return te.some(ee=>isVNode(ee)?!(ee.type===Comment||ee.type===Fragment$1&&!ensureValidVNode(ee.children)):!0)?te:null}function toHandlers(te){const ee={};for(const re in te)ee[toHandlerKey(re)]=te[re];return ee}const getPublicInstance=te=>te?isStatefulComponent(te)?getExposeProxy(te)||te.proxy:getPublicInstance(te.parent):null,publicPropertiesMap=extend$4(Object.create(null),{$:te=>te,$el:te=>te.vnode.el,$data:te=>te.data,$props:te=>te.props,$attrs:te=>te.attrs,$slots:te=>te.slots,$refs:te=>te.refs,$parent:te=>getPublicInstance(te.parent),$root:te=>getPublicInstance(te.root),$emit:te=>te.emit,$options:te=>resolveMergedOptions(te),$forceUpdate:te=>()=>queueJob(te.update),$nextTick:te=>nextTick.bind(te.proxy),$watch:te=>instanceWatch.bind(te)}),PublicInstanceProxyHandlers={get({_:te},ee){const{ctx:re,setupState:ne,data:ie,props:oe,accessCache:se,type:ae,appContext:fe}=te;let ue;if(ee[0]!=="$"){const cr=se[ee];if(cr!==void 0)switch(cr){case 1:return ne[ee];case 2:return ie[ee];case 4:return re[ee];case 3:return oe[ee]}else{if(ne!==EMPTY_OBJ&&hasOwn$1(ne,ee))return se[ee]=1,ne[ee];if(ie!==EMPTY_OBJ&&hasOwn$1(ie,ee))return se[ee]=2,ie[ee];if((ue=te.propsOptions[0])&&hasOwn$1(ue,ee))return se[ee]=3,oe[ee];if(re!==EMPTY_OBJ&&hasOwn$1(re,ee))return se[ee]=4,re[ee];shouldCacheAccess&&(se[ee]=0)}}const le=publicPropertiesMap[ee];let pe,rr;if(le)return ee==="$attrs"&&track(te,"get",ee),le(te);if((pe=ae.__cssModules)&&(pe=pe[ee]))return pe;if(re!==EMPTY_OBJ&&hasOwn$1(re,ee))return se[ee]=4,re[ee];if(rr=fe.config.globalProperties,hasOwn$1(rr,ee))return rr[ee]},set({_:te},ee,re){const{data:ne,setupState:ie,ctx:oe}=te;return ie!==EMPTY_OBJ&&hasOwn$1(ie,ee)?(ie[ee]=re,!0):ne!==EMPTY_OBJ&&hasOwn$1(ne,ee)?(ne[ee]=re,!0):hasOwn$1(te.props,ee)||ee[0]==="$"&&ee.slice(1)in te?!1:(oe[ee]=re,!0)},has({_:{data:te,setupState:ee,accessCache:re,ctx:ne,appContext:ie,propsOptions:oe}},se){let ae;return!!re[se]||te!==EMPTY_OBJ&&hasOwn$1(te,se)||ee!==EMPTY_OBJ&&hasOwn$1(ee,se)||(ae=oe[0])&&hasOwn$1(ae,se)||hasOwn$1(ne,se)||hasOwn$1(publicPropertiesMap,se)||hasOwn$1(ie.config.globalProperties,se)},defineProperty(te,ee,re){return re.get!=null?this.set(te,ee,re.get(),null):re.value!=null&&this.set(te,ee,re.value,null),Reflect.defineProperty(te,ee,re)}},emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(te,ee,re){const ne=te.type,ie=(ee?ee.appContext:te.appContext)||emptyAppContext,oe={uid:uid$1++,vnode:te,type:ne,parent:ee,appContext:ie,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:ee?ee.provides:Object.create(ie.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(ne,ie),emitsOptions:normalizeEmitsOptions(ne,ie),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:ne.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:re,suspenseId:re?re.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return oe.ctx={_:oe},oe.root=ee?ee.root:oe,oe.emit=emit$1.bind(null,oe),te.ce&&te.ce(oe),oe}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=te=>{currentInstance=te,te.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(te){return te.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(te,ee=!1){isInSSRComponentSetup=ee;const{props:re,children:ne}=te.vnode,ie=isStatefulComponent(te);initProps(te,re,ie,ee),initSlots(te,ne);const oe=ie?setupStatefulComponent(te,ee):void 0;return isInSSRComponentSetup=!1,oe}function setupStatefulComponent(te,ee){const re=te.type;te.accessCache=Object.create(null),te.proxy=markRaw(new Proxy(te.ctx,PublicInstanceProxyHandlers));const{setup:ne}=re;if(ne){const ie=te.setupContext=ne.length>1?createSetupContext(te):null;setCurrentInstance(te),pauseTracking();const oe=callWithErrorHandling(ne,te,0,[te.props,ie]);if(resetTracking(),unsetCurrentInstance(),isPromise$1(oe)){if(oe.then(unsetCurrentInstance,unsetCurrentInstance),ee)return oe.then(se=>{handleSetupResult(te,se,ee)}).catch(se=>{handleError(se,te,0)});te.asyncDep=oe}else handleSetupResult(te,oe,ee)}else finishComponentSetup(te,ee)}function handleSetupResult(te,ee,re){isFunction$4(ee)?te.type.__ssrInlineRender?te.ssrRender=ee:te.render=ee:isObject$4(ee)&&(te.setupState=proxyRefs(ee)),finishComponentSetup(te,re)}let compile;function finishComponentSetup(te,ee,re){const ne=te.type;if(!te.render){if(!ee&&compile&&!ne.render){const ie=ne.template;if(ie){const{isCustomElement:oe,compilerOptions:se}=te.appContext.config,{delimiters:ae,compilerOptions:fe}=ne,ue=extend$4(extend$4({isCustomElement:oe,delimiters:ae},se),fe);ne.render=compile(ie,ue)}}te.render=ne.render||NOOP}setCurrentInstance(te),pauseTracking(),applyOptions(te),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(te){return new Proxy(te.attrs,{get(ee,re){return track(te,"get","$attrs"),ee[re]}})}function createSetupContext(te){const ee=ne=>{te.exposed=ne||{}};let re;return{get attrs(){return re||(re=createAttrsProxy(te))},slots:te.slots,emit:te.emit,expose:ee}}function getExposeProxy(te){if(te.exposed)return te.exposeProxy||(te.exposeProxy=new Proxy(proxyRefs(markRaw(te.exposed)),{get(ee,re){if(re in ee)return ee[re];if(re in publicPropertiesMap)return publicPropertiesMap[re](te)}}))}function getComponentName(te){return isFunction$4(te)&&te.displayName||te.name}function isClassComponent(te){return isFunction$4(te)&&"__vccOpts"in te}const computed=(te,ee)=>computed$1(te,ee,isInSSRComponentSetup);function useSlots(){return getContext().slots}function getContext(){const te=getCurrentInstance();return te.setupContext||(te.setupContext=createSetupContext(te))}function h$4(te,ee,re){const ne=arguments.length;return ne===2?isObject$4(ee)&&!isArray$8(ee)?isVNode(ee)?createVNode(te,null,[ee]):createVNode(te,ee):createVNode(te,null,ee):(ne>3?re=Array.prototype.slice.call(arguments,2):ne===3&&isVNode(re)&&(re=[re]),createVNode(te,ee,re))}const version$1t="3.2.31",svgNS="http://www.w3.org/2000/svg",doc=typeof document!="undefined"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(te,ee,re)=>{ee.insertBefore(te,re||null)},remove:te=>{const ee=te.parentNode;ee&&ee.removeChild(te)},createElement:(te,ee,re,ne)=>{const ie=ee?doc.createElementNS(svgNS,te):doc.createElement(te,re?{is:re}:void 0);return te==="select"&&ne&&ne.multiple!=null&&ie.setAttribute("multiple",ne.multiple),ie},createText:te=>doc.createTextNode(te),createComment:te=>doc.createComment(te),setText:(te,ee)=>{te.nodeValue=ee},setElementText:(te,ee)=>{te.textContent=ee},parentNode:te=>te.parentNode,nextSibling:te=>te.nextSibling,querySelector:te=>doc.querySelector(te),setScopeId(te,ee){te.setAttribute(ee,"")},cloneNode(te){const ee=te.cloneNode(!0);return"_value"in te&&(ee._value=te._value),ee},insertStaticContent(te,ee,re,ne,ie,oe){const se=re?re.previousSibling:ee.lastChild;if(ie&&(ie===oe||ie.nextSibling))for(;ee.insertBefore(ie.cloneNode(!0),re),!(ie===oe||!(ie=ie.nextSibling)););else{templateContainer.innerHTML=ne?`<svg>${te}</svg>`:te;const ae=templateContainer.content;if(ne){const fe=ae.firstChild;for(;fe.firstChild;)ae.appendChild(fe.firstChild);ae.removeChild(fe)}ee.insertBefore(ae,re)}return[se?se.nextSibling:ee.firstChild,re?re.previousSibling:ee.lastChild]}};function patchClass(te,ee,re){const ne=te._vtc;ne&&(ee=(ee?[ee,...ne]:[...ne]).join(" ")),ee==null?te.removeAttribute("class"):re?te.setAttribute("class",ee):te.className=ee}function patchStyle(te,ee,re){const ne=te.style,ie=isString$1(re);if(re&&!ie){for(const oe in re)setStyle(ne,oe,re[oe]);if(ee&&!isString$1(ee))for(const oe in ee)re[oe]==null&&setStyle(ne,oe,"")}else{const oe=ne.display;ie?ee!==re&&(ne.cssText=re):ee&&te.removeAttribute("style"),"_vod"in te&&(ne.display=oe)}}const importantRE=/\s*!important$/;function setStyle(te,ee,re){if(isArray$8(re))re.forEach(ne=>setStyle(te,ee,ne));else if(ee.startsWith("--"))te.setProperty(ee,re);else{const ne=autoPrefix(te,ee);importantRE.test(re)?te.setProperty(hyphenate(ne),re.replace(importantRE,""),"important"):te[ne]=re}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(te,ee){const re=prefixCache[ee];if(re)return re;let ne=camelize(ee);if(ne!=="filter"&&ne in te)return prefixCache[ee]=ne;ne=capitalize(ne);for(let ie=0;ie<prefixes.length;ie++){const oe=prefixes[ie]+ne;if(oe in te)return prefixCache[ee]=oe}return ee}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(te,ee,re,ne,ie){if(ne&&ee.startsWith("xlink:"))re==null?te.removeAttributeNS(xlinkNS,ee.slice(6,ee.length)):te.setAttributeNS(xlinkNS,ee,re);else{const oe=isSpecialBooleanAttr(ee);re==null||oe&&!includeBooleanAttr(re)?te.removeAttribute(ee):te.setAttribute(ee,oe?"":re)}}function patchDOMProp(te,ee,re,ne,ie,oe,se){if(ee==="innerHTML"||ee==="textContent"){ne&&se(ne,ie,oe),te[ee]=re==null?"":re;return}if(ee==="value"&&te.tagName!=="PROGRESS"&&!te.tagName.includes("-")){te._value=re;const ae=re==null?"":re;(te.value!==ae||te.tagName==="OPTION")&&(te.value=ae),re==null&&te.removeAttribute(ee);return}if(re===""||re==null){const ae=typeof te[ee];if(ae==="boolean"){te[ee]=includeBooleanAttr(re);return}else if(re==null&&ae==="string"){te[ee]="",te.removeAttribute(ee);return}else if(ae==="number"){try{te[ee]=0}catch{}te.removeAttribute(ee);return}}try{te[ee]=re}catch{}}let _getNow=Date.now,skipTimestampCheck=!1;if(typeof window!="undefined"){_getNow()>document.createEvent("Event").timeStamp&&(_getNow=()=>performance.now());const te=navigator.userAgent.match(/firefox\/(\d+)/i);skipTimestampCheck=!!(te&&Number(te[1])<=53)}let cachedNow=0;const p$4=Promise.resolve(),reset=()=>{cachedNow=0},getNow=()=>cachedNow||(p$4.then(reset),cachedNow=_getNow());function addEventListener$1(te,ee,re,ne){te.addEventListener(ee,re,ne)}function removeEventListener$1(te,ee,re,ne){te.removeEventListener(ee,re,ne)}function patchEvent(te,ee,re,ne,ie=null){const oe=te._vei||(te._vei={}),se=oe[ee];if(ne&&se)se.value=ne;else{const[ae,fe]=parseName(ee);if(ne){const ue=oe[ee]=createInvoker(ne,ie);addEventListener$1(te,ae,ue,fe)}else se&&(removeEventListener$1(te,ae,se,fe),oe[ee]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(te){let ee;if(optionsModifierRE.test(te)){ee={};let re;for(;re=te.match(optionsModifierRE);)te=te.slice(0,te.length-re[0].length),ee[re[0].toLowerCase()]=!0}return[hyphenate(te.slice(2)),ee]}function createInvoker(te,ee){const re=ne=>{const ie=ne.timeStamp||_getNow();(skipTimestampCheck||ie>=re.attached-1)&&callWithAsyncErrorHandling(patchStopImmediatePropagation(ne,re.value),ee,5,[ne])};return re.value=te,re.attached=getNow(),re}function patchStopImmediatePropagation(te,ee){if(isArray$8(ee)){const re=te.stopImmediatePropagation;return te.stopImmediatePropagation=()=>{re.call(te),te._stopped=!0},ee.map(ne=>ie=>!ie._stopped&&ne&&ne(ie))}else return ee}const nativeOnRE=/^on[a-z]/,patchProp=(te,ee,re,ne,ie=!1,oe,se,ae,fe)=>{ee==="class"?patchClass(te,ne,ie):ee==="style"?patchStyle(te,re,ne):isOn(ee)?isModelListener(ee)||patchEvent(te,ee,re,ne,se):(ee[0]==="."?(ee=ee.slice(1),!0):ee[0]==="^"?(ee=ee.slice(1),!1):shouldSetAsProp(te,ee,ne,ie))?patchDOMProp(te,ee,ne,oe,se,ae,fe):(ee==="true-value"?te._trueValue=ne:ee==="false-value"&&(te._falseValue=ne),patchAttr(te,ee,ne,ie))};function shouldSetAsProp(te,ee,re,ne){return ne?!!(ee==="innerHTML"||ee==="textContent"||ee in te&&nativeOnRE.test(ee)&&isFunction$4(re)):ee==="spellcheck"||ee==="draggable"||ee==="form"||ee==="list"&&te.tagName==="INPUT"||ee==="type"&&te.tagName==="TEXTAREA"||nativeOnRE.test(ee)&&isString$1(re)?!1:ee in te}const TRANSITION$1="transition",ANIMATION="animation",Transition=(te,{slots:ee})=>h$4(BaseTransition,resolveTransitionProps(te),ee);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend$4({},BaseTransition.props,DOMTransitionPropsValidators),callHook=(te,ee=[])=>{isArray$8(te)?te.forEach(re=>re(...ee)):te&&te(...ee)},hasExplicitCallback=te=>te?isArray$8(te)?te.some(ee=>ee.length>1):te.length>1:!1;function resolveTransitionProps(te){const ee={};for(const tr in te)tr in DOMTransitionPropsValidators||(ee[tr]=te[tr]);if(te.css===!1)return ee;const{name:re="v",type:ne,duration:ie,enterFromClass:oe=`${re}-enter-from`,enterActiveClass:se=`${re}-enter-active`,enterToClass:ae=`${re}-enter-to`,appearFromClass:fe=oe,appearActiveClass:ue=se,appearToClass:le=ae,leaveFromClass:pe=`${re}-leave-from`,leaveActiveClass:rr=`${re}-leave-active`,leaveToClass:cr=`${re}-leave-to`}=te,ar=normalizeDuration(ie),mr=ar&&ar[0],pr=ar&&ar[1],{onBeforeEnter:yr,onEnter:vr,onEnterCancelled:Er,onLeave:Tr,onLeaveCancelled:Ir,onBeforeAppear:Or=yr,onAppear:Hr=vr,onAppearCancelled:Pr=Er}=ee,Br=(tr,ve,ce)=>{removeTransitionClass(tr,ve?le:ae),removeTransitionClass(tr,ve?ue:se),ce&&ce()},Nr=(tr,ve)=>{removeTransitionClass(tr,cr),removeTransitionClass(tr,rr),ve&&ve()},dr=tr=>(ve,ce)=>{const me=tr?Hr:vr,ir=()=>Br(ve,tr,ce);callHook(me,[ve,ir]),nextFrame(()=>{removeTransitionClass(ve,tr?fe:oe),addTransitionClass(ve,tr?le:ae),hasExplicitCallback(me)||whenTransitionEnds(ve,ne,mr,ir)})};return extend$4(ee,{onBeforeEnter(tr){callHook(yr,[tr]),addTransitionClass(tr,oe),addTransitionClass(tr,se)},onBeforeAppear(tr){callHook(Or,[tr]),addTransitionClass(tr,fe),addTransitionClass(tr,ue)},onEnter:dr(!1),onAppear:dr(!0),onLeave(tr,ve){const ce=()=>Nr(tr,ve);addTransitionClass(tr,pe),forceReflow(),addTransitionClass(tr,rr),nextFrame(()=>{removeTransitionClass(tr,pe),addTransitionClass(tr,cr),hasExplicitCallback(Tr)||whenTransitionEnds(tr,ne,pr,ce)}),callHook(Tr,[tr,ce])},onEnterCancelled(tr){Br(tr,!1),callHook(Er,[tr])},onAppearCancelled(tr){Br(tr,!0),callHook(Pr,[tr])},onLeaveCancelled(tr){Nr(tr),callHook(Ir,[tr])}})}function normalizeDuration(te){if(te==null)return null;if(isObject$4(te))return[NumberOf(te.enter),NumberOf(te.leave)];{const ee=NumberOf(te);return[ee,ee]}}function NumberOf(te){return toNumber(te)}function addTransitionClass(te,ee){ee.split(/\s+/).forEach(re=>re&&te.classList.add(re)),(te._vtc||(te._vtc=new Set)).add(ee)}function removeTransitionClass(te,ee){ee.split(/\s+/).forEach(ne=>ne&&te.classList.remove(ne));const{_vtc:re}=te;re&&(re.delete(ee),re.size||(te._vtc=void 0))}function nextFrame(te){requestAnimationFrame(()=>{requestAnimationFrame(te)})}let endId=0;function whenTransitionEnds(te,ee,re,ne){const ie=te._endId=++endId,oe=()=>{ie===te._endId&&ne()};if(re)return setTimeout(oe,re);const{type:se,timeout:ae,propCount:fe}=getTransitionInfo(te,ee);if(!se)return ne();const ue=se+"end";let le=0;const pe=()=>{te.removeEventListener(ue,rr),oe()},rr=cr=>{cr.target===te&&++le>=fe&&pe()};setTimeout(()=>{le<fe&&pe()},ae+1),te.addEventListener(ue,rr)}function getTransitionInfo(te,ee){const re=window.getComputedStyle(te),ne=ar=>(re[ar]||"").split(", "),ie=ne(TRANSITION$1+"Delay"),oe=ne(TRANSITION$1+"Duration"),se=getTimeout(ie,oe),ae=ne(ANIMATION+"Delay"),fe=ne(ANIMATION+"Duration"),ue=getTimeout(ae,fe);let le=null,pe=0,rr=0;ee===TRANSITION$1?se>0&&(le=TRANSITION$1,pe=se,rr=oe.length):ee===ANIMATION?ue>0&&(le=ANIMATION,pe=ue,rr=fe.length):(pe=Math.max(se,ue),le=pe>0?se>ue?TRANSITION$1:ANIMATION:null,rr=le?le===TRANSITION$1?oe.length:fe.length:0);const cr=le===TRANSITION$1&&/\b(transform|all)(,|$)/.test(re[TRANSITION$1+"Property"]);return{type:le,timeout:pe,propCount:rr,hasTransform:cr}}function getTimeout(te,ee){for(;te.length<ee.length;)te=te.concat(te);return Math.max(...ee.map((re,ne)=>toMs(re)+toMs(te[ne])))}function toMs(te){return Number(te.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const positionMap=new WeakMap,newPositionMap=new WeakMap,TransitionGroupImpl={name:"TransitionGroup",props:extend$4({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(te,{slots:ee}){const re=getCurrentInstance(),ne=useTransitionState();let ie,oe;return onUpdated(()=>{if(!ie.length)return;const se=te.moveClass||`${te.name||"v"}-move`;if(!hasCSSTransform(ie[0].el,re.vnode.el,se))return;ie.forEach(callPendingCbs),ie.forEach(recordPosition);const ae=ie.filter(applyTranslation);forceReflow(),ae.forEach(fe=>{const ue=fe.el,le=ue.style;addTransitionClass(ue,se),le.transform=le.webkitTransform=le.transitionDuration="";const pe=ue._moveCb=rr=>{rr&&rr.target!==ue||(!rr||/transform$/.test(rr.propertyName))&&(ue.removeEventListener("transitionend",pe),ue._moveCb=null,removeTransitionClass(ue,se))};ue.addEventListener("transitionend",pe)})}),()=>{const se=toRaw(te),ae=resolveTransitionProps(se);let fe=se.tag||Fragment$1;ie=oe,oe=ee.default?getTransitionRawChildren(ee.default()):[];for(let ue=0;ue<oe.length;ue++){const le=oe[ue];le.key!=null&&setTransitionHooks(le,resolveTransitionHooks(le,ae,ne,re))}if(ie)for(let ue=0;ue<ie.length;ue++){const le=ie[ue];setTransitionHooks(le,resolveTransitionHooks(le,ae,ne,re)),positionMap.set(le,le.el.getBoundingClientRect())}return createVNode(fe,null,oe)}}},TransitionGroup=TransitionGroupImpl;function callPendingCbs(te){const ee=te.el;ee._moveCb&&ee._moveCb(),ee._enterCb&&ee._enterCb()}function recordPosition(te){newPositionMap.set(te,te.el.getBoundingClientRect())}function applyTranslation(te){const ee=positionMap.get(te),re=newPositionMap.get(te),ne=ee.left-re.left,ie=ee.top-re.top;if(ne||ie){const oe=te.el.style;return oe.transform=oe.webkitTransform=`translate(${ne}px,${ie}px)`,oe.transitionDuration="0s",te}}function hasCSSTransform(te,ee,re){const ne=te.cloneNode();te._vtc&&te._vtc.forEach(se=>{se.split(/\s+/).forEach(ae=>ae&&ne.classList.remove(ae))}),re.split(/\s+/).forEach(se=>se&&ne.classList.add(se)),ne.style.display="none";const ie=ee.nodeType===1?ee:ee.parentNode;ie.appendChild(ne);const{hasTransform:oe}=getTransitionInfo(ne);return ie.removeChild(ne),oe}const getModelAssigner=te=>{const ee=te.props["onUpdate:modelValue"];return isArray$8(ee)?re=>invokeArrayFns(ee,re):ee};function onCompositionStart(te){te.target.composing=!0}function onCompositionEnd(te){const ee=te.target;ee.composing&&(ee.composing=!1,trigger(ee,"input"))}function trigger(te,ee){const re=document.createEvent("HTMLEvents");re.initEvent(ee,!0,!0),te.dispatchEvent(re)}const vModelText={created(te,{modifiers:{lazy:ee,trim:re,number:ne}},ie){te._assign=getModelAssigner(ie);const oe=ne||ie.props&&ie.props.type==="number";addEventListener$1(te,ee?"change":"input",se=>{if(se.target.composing)return;let ae=te.value;re?ae=ae.trim():oe&&(ae=toNumber(ae)),te._assign(ae)}),re&&addEventListener$1(te,"change",()=>{te.value=te.value.trim()}),ee||(addEventListener$1(te,"compositionstart",onCompositionStart),addEventListener$1(te,"compositionend",onCompositionEnd),addEventListener$1(te,"change",onCompositionEnd))},mounted(te,{value:ee}){te.value=ee==null?"":ee},beforeUpdate(te,{value:ee,modifiers:{lazy:re,trim:ne,number:ie}},oe){if(te._assign=getModelAssigner(oe),te.composing||document.activeElement===te&&(re||ne&&te.value.trim()===ee||(ie||te.type==="number")&&toNumber(te.value)===ee))return;const se=ee==null?"":ee;te.value!==se&&(te.value=se)}},systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:te=>te.stopPropagation(),prevent:te=>te.preventDefault(),self:te=>te.target!==te.currentTarget,ctrl:te=>!te.ctrlKey,shift:te=>!te.shiftKey,alt:te=>!te.altKey,meta:te=>!te.metaKey,left:te=>"button"in te&&te.button!==0,middle:te=>"button"in te&&te.button!==1,right:te=>"button"in te&&te.button!==2,exact:(te,ee)=>systemModifiers.some(re=>te[`${re}Key`]&&!ee.includes(re))},withModifiers=(te,ee)=>(re,...ne)=>{for(let ie=0;ie<ee.length;ie++){const oe=modifierGuards[ee[ie]];if(oe&&oe(re,ee))return}return te(re,...ne)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(te,ee)=>re=>{if(!("key"in re))return;const ne=hyphenate(re.key);if(ee.some(ie=>ie===ne||keyNames[ie]===ne))return te(re)},rendererOptions=extend$4({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...te)=>{const ee=ensureRenderer().createApp(...te),{mount:re}=ee;return ee.mount=ne=>{const ie=normalizeContainer(ne);if(!ie)return;const oe=ee._component;!isFunction$4(oe)&&!oe.render&&!oe.template&&(oe.template=ie.innerHTML),ie.innerHTML="";const se=re(ie,!1,ie instanceof SVGElement);return ie instanceof Element&&(ie.removeAttribute("v-cloak"),ie.setAttribute("data-v-app","")),se},ee};function normalizeContainer(te){return isString$1(te)?document.querySelector(te):te}var bn$4={exports:{}};(function(te){(function(ee,re){function ne(dr,tr){if(!dr)throw new Error(tr||"Assertion failed")}function ie(dr,tr){dr.super_=tr;var ve=function(){};ve.prototype=tr.prototype,dr.prototype=new ve,dr.prototype.constructor=dr}function oe(dr,tr,ve){if(oe.isBN(dr))return dr;this.negative=0,this.words=null,this.length=0,this.red=null,dr!==null&&((tr==="le"||tr==="be")&&(ve=tr,tr=10),this._init(dr||0,tr||10,ve||"be"))}typeof ee=="object"?ee.exports=oe:re.BN=oe,oe.BN=oe,oe.wordSize=26;var se;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?se=window.Buffer:se=require("buffer").Buffer}catch{}oe.isBN=function(tr){return tr instanceof oe?!0:tr!==null&&typeof tr=="object"&&tr.constructor.wordSize===oe.wordSize&&Array.isArray(tr.words)},oe.max=function(tr,ve){return tr.cmp(ve)>0?tr:ve},oe.min=function(tr,ve){return tr.cmp(ve)<0?tr:ve},oe.prototype._init=function(tr,ve,ce){if(typeof tr=="number")return this._initNumber(tr,ve,ce);if(typeof tr=="object")return this._initArray(tr,ve,ce);ve==="hex"&&(ve=16),ne(ve===(ve|0)&&ve>=2&&ve<=36),tr=tr.toString().replace(/\s+/g,"");var me=0;tr[0]==="-"&&(me++,this.negative=1),me<tr.length&&(ve===16?this._parseHex(tr,me,ce):(this._parseBase(tr,ve,me),ce==="le"&&this._initArray(this.toArray(),ve,ce)))},oe.prototype._initNumber=function(tr,ve,ce){tr<0&&(this.negative=1,tr=-tr),tr<67108864?(this.words=[tr&67108863],this.length=1):tr<4503599627370496?(this.words=[tr&67108863,tr/67108864&67108863],this.length=2):(ne(tr<9007199254740992),this.words=[tr&67108863,tr/67108864&67108863,1],this.length=3),ce==="le"&&this._initArray(this.toArray(),ve,ce)},oe.prototype._initArray=function(tr,ve,ce){if(ne(typeof tr.length=="number"),tr.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(tr.length/3),this.words=new Array(this.length);for(var me=0;me<this.length;me++)this.words[me]=0;var ir,ur,lr=0;if(ce==="be")for(me=tr.length-1,ir=0;me>=0;me-=3)ur=tr[me]|tr[me-1]<<8|tr[me-2]<<16,this.words[ir]|=ur<<lr&67108863,this.words[ir+1]=ur>>>26-lr&67108863,lr+=24,lr>=26&&(lr-=26,ir++);else if(ce==="le")for(me=0,ir=0;me<tr.length;me+=3)ur=tr[me]|tr[me+1]<<8|tr[me+2]<<16,this.words[ir]|=ur<<lr&67108863,this.words[ir+1]=ur>>>26-lr&67108863,lr+=24,lr>=26&&(lr-=26,ir++);return this.strip()};function ae(dr,tr){var ve=dr.charCodeAt(tr);return ve>=65&&ve<=70?ve-55:ve>=97&&ve<=102?ve-87:ve-48&15}function fe(dr,tr,ve){var ce=ae(dr,ve);return ve-1>=tr&&(ce|=ae(dr,ve-1)<<4),ce}oe.prototype._parseHex=function(tr,ve,ce){this.length=Math.ceil((tr.length-ve)/6),this.words=new Array(this.length);for(var me=0;me<this.length;me++)this.words[me]=0;var ir=0,ur=0,lr;if(ce==="be")for(me=tr.length-1;me>=ve;me-=2)lr=fe(tr,ve,me)<<ir,this.words[ur]|=lr&67108863,ir>=18?(ir-=18,ur+=1,this.words[ur]|=lr>>>26):ir+=8;else{var er=tr.length-ve;for(me=er%2===0?ve+1:ve;me<tr.length;me+=2)lr=fe(tr,ve,me)<<ir,this.words[ur]|=lr&67108863,ir>=18?(ir-=18,ur+=1,this.words[ur]|=lr>>>26):ir+=8}this.strip()};function ue(dr,tr,ve,ce){for(var me=0,ir=Math.min(dr.length,ve),ur=tr;ur<ir;ur++){var lr=dr.charCodeAt(ur)-48;me*=ce,lr>=49?me+=lr-49+10:lr>=17?me+=lr-17+10:me+=lr}return me}oe.prototype._parseBase=function(tr,ve,ce){this.words=[0],this.length=1;for(var me=0,ir=1;ir<=67108863;ir*=ve)me++;me--,ir=ir/ve|0;for(var ur=tr.length-ce,lr=ur%me,er=Math.min(ur,ur-lr)+ce,nr=0,or=ce;or<er;or+=me)nr=ue(tr,or,or+me,ve),this.imuln(ir),this.words[0]+nr<67108864?this.words[0]+=nr:this._iaddn(nr);if(lr!==0){var ye=1;for(nr=ue(tr,or,tr.length,ve),or=0;or<lr;or++)ye*=ve;this.imuln(ye),this.words[0]+nr<67108864?this.words[0]+=nr:this._iaddn(nr)}this.strip()},oe.prototype.copy=function(tr){tr.words=new Array(this.length);for(var ve=0;ve<this.length;ve++)tr.words[ve]=this.words[ve];tr.length=this.length,tr.negative=this.negative,tr.red=this.red},oe.prototype.clone=function(){var tr=new oe(null);return this.copy(tr),tr},oe.prototype._expand=function(tr){for(;this.length<tr;)this.words[this.length++]=0;return this},oe.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},oe.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},oe.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var le=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],pe=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],rr=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];oe.prototype.toString=function(tr,ve){tr=tr||10,ve=ve|0||1;var ce;if(tr===16||tr==="hex"){ce="";for(var me=0,ir=0,ur=0;ur<this.length;ur++){var lr=this.words[ur],er=((lr<<me|ir)&16777215).toString(16);ir=lr>>>24-me&16777215,ir!==0||ur!==this.length-1?ce=le[6-er.length]+er+ce:ce=er+ce,me+=2,me>=26&&(me-=26,ur--)}for(ir!==0&&(ce=ir.toString(16)+ce);ce.length%ve!==0;)ce="0"+ce;return this.negative!==0&&(ce="-"+ce),ce}if(tr===(tr|0)&&tr>=2&&tr<=36){var nr=pe[tr],or=rr[tr];ce="";var ye=this.clone();for(ye.negative=0;!ye.isZero();){var gr=ye.modn(or).toString(tr);ye=ye.idivn(or),ye.isZero()?ce=gr+ce:ce=le[nr-gr.length]+gr+ce}for(this.isZero()&&(ce="0"+ce);ce.length%ve!==0;)ce="0"+ce;return this.negative!==0&&(ce="-"+ce),ce}ne(!1,"Base should be between 2 and 36")},oe.prototype.toNumber=function(){var tr=this.words[0];return this.length===2?tr+=this.words[1]*67108864:this.length===3&&this.words[2]===1?tr+=4503599627370496+this.words[1]*67108864:this.length>2&&ne(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-tr:tr},oe.prototype.toJSON=function(){return this.toString(16)},oe.prototype.toBuffer=function(tr,ve){return ne(typeof se!="undefined"),this.toArrayLike(se,tr,ve)},oe.prototype.toArray=function(tr,ve){return this.toArrayLike(Array,tr,ve)},oe.prototype.toArrayLike=function(tr,ve,ce){var me=this.byteLength(),ir=ce||Math.max(1,me);ne(me<=ir,"byte array longer than desired length"),ne(ir>0,"Requested array length <= 0"),this.strip();var ur=ve==="le",lr=new tr(ir),er,nr,or=this.clone();if(ur){for(nr=0;!or.isZero();nr++)er=or.andln(255),or.iushrn(8),lr[nr]=er;for(;nr<ir;nr++)lr[nr]=0}else{for(nr=0;nr<ir-me;nr++)lr[nr]=0;for(nr=0;!or.isZero();nr++)er=or.andln(255),or.iushrn(8),lr[ir-nr-1]=er}return lr},Math.clz32?oe.prototype._countBits=function(tr){return 32-Math.clz32(tr)}:oe.prototype._countBits=function(tr){var ve=tr,ce=0;return ve>=4096&&(ce+=13,ve>>>=13),ve>=64&&(ce+=7,ve>>>=7),ve>=8&&(ce+=4,ve>>>=4),ve>=2&&(ce+=2,ve>>>=2),ce+ve},oe.prototype._zeroBits=function(tr){if(tr===0)return 26;var ve=tr,ce=0;return(ve&8191)===0&&(ce+=13,ve>>>=13),(ve&127)===0&&(ce+=7,ve>>>=7),(ve&15)===0&&(ce+=4,ve>>>=4),(ve&3)===0&&(ce+=2,ve>>>=2),(ve&1)===0&&ce++,ce},oe.prototype.bitLength=function(){var tr=this.words[this.length-1],ve=this._countBits(tr);return(this.length-1)*26+ve};function cr(dr){for(var tr=new Array(dr.bitLength()),ve=0;ve<tr.length;ve++){var ce=ve/26|0,me=ve%26;tr[ve]=(dr.words[ce]&1<<me)>>>me}return tr}oe.prototype.zeroBits=function(){if(this.isZero())return 0;for(var tr=0,ve=0;ve<this.length;ve++){var ce=this._zeroBits(this.words[ve]);if(tr+=ce,ce!==26)break}return tr},oe.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},oe.prototype.toTwos=function(tr){return this.negative!==0?this.abs().inotn(tr).iaddn(1):this.clone()},oe.prototype.fromTwos=function(tr){return this.testn(tr-1)?this.notn(tr).iaddn(1).ineg():this.clone()},oe.prototype.isNeg=function(){return this.negative!==0},oe.prototype.neg=function(){return this.clone().ineg()},oe.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},oe.prototype.iuor=function(tr){for(;this.length<tr.length;)this.words[this.length++]=0;for(var ve=0;ve<tr.length;ve++)this.words[ve]=this.words[ve]|tr.words[ve];return this.strip()},oe.prototype.ior=function(tr){return ne((this.negative|tr.negative)===0),this.iuor(tr)},oe.prototype.or=function(tr){return this.length>tr.length?this.clone().ior(tr):tr.clone().ior(this)},oe.prototype.uor=function(tr){return this.length>tr.length?this.clone().iuor(tr):tr.clone().iuor(this)},oe.prototype.iuand=function(tr){var ve;this.length>tr.length?ve=tr:ve=this;for(var ce=0;ce<ve.length;ce++)this.words[ce]=this.words[ce]&tr.words[ce];return this.length=ve.length,this.strip()},oe.prototype.iand=function(tr){return ne((this.negative|tr.negative)===0),this.iuand(tr)},oe.prototype.and=function(tr){return this.length>tr.length?this.clone().iand(tr):tr.clone().iand(this)},oe.prototype.uand=function(tr){return this.length>tr.length?this.clone().iuand(tr):tr.clone().iuand(this)},oe.prototype.iuxor=function(tr){var ve,ce;this.length>tr.length?(ve=this,ce=tr):(ve=tr,ce=this);for(var me=0;me<ce.length;me++)this.words[me]=ve.words[me]^ce.words[me];if(this!==ve)for(;me<ve.length;me++)this.words[me]=ve.words[me];return this.length=ve.length,this.strip()},oe.prototype.ixor=function(tr){return ne((this.negative|tr.negative)===0),this.iuxor(tr)},oe.prototype.xor=function(tr){return this.length>tr.length?this.clone().ixor(tr):tr.clone().ixor(this)},oe.prototype.uxor=function(tr){return this.length>tr.length?this.clone().iuxor(tr):tr.clone().iuxor(this)},oe.prototype.inotn=function(tr){ne(typeof tr=="number"&&tr>=0);var ve=Math.ceil(tr/26)|0,ce=tr%26;this._expand(ve),ce>0&&ve--;for(var me=0;me<ve;me++)this.words[me]=~this.words[me]&67108863;return ce>0&&(this.words[me]=~this.words[me]&67108863>>26-ce),this.strip()},oe.prototype.notn=function(tr){return this.clone().inotn(tr)},oe.prototype.setn=function(tr,ve){ne(typeof tr=="number"&&tr>=0);var ce=tr/26|0,me=tr%26;return this._expand(ce+1),ve?this.words[ce]=this.words[ce]|1<<me:this.words[ce]=this.words[ce]&~(1<<me),this.strip()},oe.prototype.iadd=function(tr){var ve;if(this.negative!==0&&tr.negative===0)return this.negative=0,ve=this.isub(tr),this.negative^=1,this._normSign();if(this.negative===0&&tr.negative!==0)return tr.negative=0,ve=this.isub(tr),tr.negative=1,ve._normSign();var ce,me;this.length>tr.length?(ce=this,me=tr):(ce=tr,me=this);for(var ir=0,ur=0;ur<me.length;ur++)ve=(ce.words[ur]|0)+(me.words[ur]|0)+ir,this.words[ur]=ve&67108863,ir=ve>>>26;for(;ir!==0&&ur<ce.length;ur++)ve=(ce.words[ur]|0)+ir,this.words[ur]=ve&67108863,ir=ve>>>26;if(this.length=ce.length,ir!==0)this.words[this.length]=ir,this.length++;else if(ce!==this)for(;ur<ce.length;ur++)this.words[ur]=ce.words[ur];return this},oe.prototype.add=function(tr){var ve;return tr.negative!==0&&this.negative===0?(tr.negative=0,ve=this.sub(tr),tr.negative^=1,ve):tr.negative===0&&this.negative!==0?(this.negative=0,ve=tr.sub(this),this.negative=1,ve):this.length>tr.length?this.clone().iadd(tr):tr.clone().iadd(this)},oe.prototype.isub=function(tr){if(tr.negative!==0){tr.negative=0;var ve=this.iadd(tr);return tr.negative=1,ve._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(tr),this.negative=1,this._normSign();var ce=this.cmp(tr);if(ce===0)return this.negative=0,this.length=1,this.words[0]=0,this;var me,ir;ce>0?(me=this,ir=tr):(me=tr,ir=this);for(var ur=0,lr=0;lr<ir.length;lr++)ve=(me.words[lr]|0)-(ir.words[lr]|0)+ur,ur=ve>>26,this.words[lr]=ve&67108863;for(;ur!==0&&lr<me.length;lr++)ve=(me.words[lr]|0)+ur,ur=ve>>26,this.words[lr]=ve&67108863;if(ur===0&&lr<me.length&&me!==this)for(;lr<me.length;lr++)this.words[lr]=me.words[lr];return this.length=Math.max(this.length,lr),me!==this&&(this.negative=1),this.strip()},oe.prototype.sub=function(tr){return this.clone().isub(tr)};function ar(dr,tr,ve){ve.negative=tr.negative^dr.negative;var ce=dr.length+tr.length|0;ve.length=ce,ce=ce-1|0;var me=dr.words[0]|0,ir=tr.words[0]|0,ur=me*ir,lr=ur&67108863,er=ur/67108864|0;ve.words[0]=lr;for(var nr=1;nr<ce;nr++){for(var or=er>>>26,ye=er&67108863,gr=Math.min(nr,tr.length-1),Ar=Math.max(0,nr-dr.length+1);Ar<=gr;Ar++){var br=nr-Ar|0;me=dr.words[br]|0,ir=tr.words[Ar]|0,ur=me*ir+ye,or+=ur/67108864|0,ye=ur&67108863}ve.words[nr]=ye|0,er=or|0}return er!==0?ve.words[nr]=er|0:ve.length--,ve.strip()}var mr=function(tr,ve,ce){var me=tr.words,ir=ve.words,ur=ce.words,lr=0,er,nr,or,ye=me[0]|0,gr=ye&8191,Ar=ye>>>13,br=me[1]|0,Cr=br&8191,Lr=br>>>13,Dr=me[2]|0,Wr=Dr&8191,Qr=Dr>>>13,Zr=me[3]|0,Xr=Zr&8191,Fr=Zr>>>13,Ur=me[4]|0,Kr=Ur&8191,kr=Ur>>>13,_r=me[5]|0,$r=_r&8191,Mr=_r>>>13,jr=me[6]|0,qr=jr&8191,Jr=jr>>>13,qn=me[7]|0,zn=qn&8191,Xn=qn>>>13,Jn=me[8]|0,Rr=Jn&8191,xr=Jn>>>13,wr=me[9]|0,Sr=wr&8191,Gr=wr>>>13,Vr=ir[0]|0,Yr=Vr&8191,Qn=Vr>>>13,ei=ir[1]|0,Zn=ei&8191,bi=ei>>>13,ti=ir[2]|0,ri=ti&8191,xi=ti>>>13,li=ir[3]|0,ni=li&8191,wi=li>>>13,ci=ir[4]|0,ii=ci&8191,$i=ci>>>13,hi=ir[5]|0,oi=hi&8191,Ei=hi>>>13,di=ir[6]|0,si=di&8191,Si=di>>>13,pi=ir[7]|0,ai=pi&8191,Ai=pi>>>13,gi=ir[8]|0,fi=gi&8191,Ri=gi>>>13,mi=ir[9]|0,ui=mi&8191,_i=mi>>>13;ce.negative=tr.negative^ve.negative,ce.length=19,er=Math.imul(gr,Yr),nr=Math.imul(gr,Qn),nr=nr+Math.imul(Ar,Yr)|0,or=Math.imul(Ar,Qn);var yi=(lr+er|0)+((nr&8191)<<13)|0;lr=(or+(nr>>>13)|0)+(yi>>>26)|0,yi&=67108863,er=Math.imul(Cr,Yr),nr=Math.imul(Cr,Qn),nr=nr+Math.imul(Lr,Yr)|0,or=Math.imul(Lr,Qn),er=er+Math.imul(gr,Zn)|0,nr=nr+Math.imul(gr,bi)|0,nr=nr+Math.imul(Ar,Zn)|0,or=or+Math.imul(Ar,bi)|0;var vi=(lr+er|0)+((nr&8191)<<13)|0;lr=(or+(nr>>>13)|0)+(vi>>>26)|0,vi&=67108863,er=Math.imul(Wr,Yr),nr=Math.imul(Wr,Qn),nr=nr+Math.imul(Qr,Yr)|0,or=Math.imul(Qr,Qn),er=er+Math.imul(Cr,Zn)|0,nr=nr+Math.imul(Cr,bi)|0,nr=nr+Math.imul(Lr,Zn)|0,or=or+Math.imul(Lr,bi)|0,er=er+Math.imul(gr,ri)|0,nr=nr+Math.imul(gr,xi)|0,nr=nr+Math.imul(Ar,ri)|0,or=or+Math.imul(Ar,xi)|0;var Ni=(lr+er|0)+((nr&8191)<<13)|0;lr=(or+(nr>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,er=Math.imul(Xr,Yr),nr=Math.imul(Xr,Qn),nr=nr+Math.imul(Fr,Yr)|0,or=Math.imul(Fr,Qn),er=er+Math.imul(Wr,Zn)|0,nr=nr+Math.imul(Wr,bi)|0,nr=nr+Math.imul(Qr,Zn)|0,or=or+Math.imul(Qr,bi)|0,er=er+Math.imul(Cr,ri)|0,nr=nr+Math.imul(Cr,xi)|0,nr=nr+Math.imul(Lr,ri)|0,or=or+Math.imul(Lr,xi)|0,er=er+Math.imul(gr,ni)|0,nr=nr+Math.imul(gr,wi)|0,nr=nr+Math.imul(Ar,ni)|0,or=or+Math.imul(Ar,wi)|0;var Mi=(lr+er|0)+((nr&8191)<<13)|0;lr=(or+(nr>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,er=Math.imul(Kr,Yr),nr=Math.imul(Kr,Qn),nr=nr+Math.imul(kr,Yr)|0,or=Math.imul(kr,Qn),er=er+Math.imul(Xr,Zn)|0,nr=nr+Math.imul(Xr,bi)|0,nr=nr+Math.imul(Fr,Zn)|0,or=or+Math.imul(Fr,bi)|0,er=er+Math.imul(Wr,ri)|0,nr=nr+Math.imul(Wr,xi)|0,nr=nr+Math.imul(Qr,ri)|0,or=or+Math.imul(Qr,xi)|0,er=er+Math.imul(Cr,ni)|0,nr=nr+Math.imul(Cr,wi)|0,nr=nr+Math.imul(Lr,ni)|0,or=or+Math.imul(Lr,wi)|0,er=er+Math.imul(gr,ii)|0,nr=nr+Math.imul(gr,$i)|0,nr=nr+Math.imul(Ar,ii)|0,or=or+Math.imul(Ar,$i)|0;var Ci=(lr+er|0)+((nr&8191)<<13)|0;lr=(or+(nr>>>13)|0)+(Ci>>>26)|0,Ci&=67108863,er=Math.imul($r,Yr),nr=Math.imul($r,Qn),nr=nr+Math.imul(Mr,Yr)|0,or=Math.imul(Mr,Qn),er=er+Math.imul(Kr,Zn)|0,nr=nr+Math.imul(Kr,bi)|0,nr=nr+Math.imul(kr,Zn)|0,or=or+Math.imul(kr,bi)|0,er=er+Math.imul(Xr,ri)|0,nr=nr+Math.imul(Xr,xi)|0,nr=nr+Math.imul(Fr,ri)|0,or=or+Math.imul(Fr,xi)|0,er=er+Math.imul(Wr,ni)|0,nr=nr+Math.imul(Wr,wi)|0,nr=nr+Math.imul(Qr,ni)|0,or=or+Math.imul(Qr,wi)|0,er=er+Math.imul(Cr,ii)|0,nr=nr+Math.imul(Cr,$i)|0,nr=nr+Math.imul(Lr,ii)|0,or=or+Math.imul(Lr,$i)|0,er=er+Math.imul(gr,oi)|0,nr=nr+Math.imul(gr,Ei)|0,nr=nr+Math.imul(Ar,oi)|0,or=or+Math.imul(Ar,Ei)|0;var Ti=(lr+er|0)+((nr&8191)<<13)|0;lr=(or+(nr>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,er=Math.imul(qr,Yr),nr=Math.imul(qr,Qn),nr=nr+Math.imul(Jr,Yr)|0,or=Math.imul(Jr,Qn),er=er+Math.imul($r,Zn)|0,nr=nr+Math.imul($r,bi)|0,nr=nr+Math.imul(Mr,Zn)|0,or=or+Math.imul(Mr,bi)|0,er=er+Math.imul(Kr,ri)|0,nr=nr+Math.imul(Kr,xi)|0,nr=nr+Math.imul(kr,ri)|0,or=or+Math.imul(kr,xi)|0,er=er+Math.imul(Xr,ni)|0,nr=nr+Math.imul(Xr,wi)|0,nr=nr+Math.imul(Fr,ni)|0,or=or+Math.imul(Fr,wi)|0,er=er+Math.imul(Wr,ii)|0,nr=nr+Math.imul(Wr,$i)|0,nr=nr+Math.imul(Qr,ii)|0,or=or+Math.imul(Qr,$i)|0,er=er+Math.imul(Cr,oi)|0,nr=nr+Math.imul(Cr,Ei)|0,nr=nr+Math.imul(Lr,oi)|0,or=or+Math.imul(Lr,Ei)|0,er=er+Math.imul(gr,si)|0,nr=nr+Math.imul(gr,Si)|0,nr=nr+Math.imul(Ar,si)|0,or=or+Math.imul(Ar,Si)|0;var ki=(lr+er|0)+((nr&8191)<<13)|0;lr=(or+(nr>>>13)|0)+(ki>>>26)|0,ki&=67108863,er=Math.imul(zn,Yr),nr=Math.imul(zn,Qn),nr=nr+Math.imul(Xn,Yr)|0,or=Math.imul(Xn,Qn),er=er+Math.imul(qr,Zn)|0,nr=nr+Math.imul(qr,bi)|0,nr=nr+Math.imul(Jr,Zn)|0,or=or+Math.imul(Jr,bi)|0,er=er+Math.imul($r,ri)|0,nr=nr+Math.imul($r,xi)|0,nr=nr+Math.imul(Mr,ri)|0,or=or+Math.imul(Mr,xi)|0,er=er+Math.imul(Kr,ni)|0,nr=nr+Math.imul(Kr,wi)|0,nr=nr+Math.imul(kr,ni)|0,or=or+Math.imul(kr,wi)|0,er=er+Math.imul(Xr,ii)|0,nr=nr+Math.imul(Xr,$i)|0,nr=nr+Math.imul(Fr,ii)|0,or=or+Math.imul(Fr,$i)|0,er=er+Math.imul(Wr,oi)|0,nr=nr+Math.imul(Wr,Ei)|0,nr=nr+Math.imul(Qr,oi)|0,or=or+Math.imul(Qr,Ei)|0,er=er+Math.imul(Cr,si)|0,nr=nr+Math.imul(Cr,Si)|0,nr=nr+Math.imul(Lr,si)|0,or=or+Math.imul(Lr,Si)|0,er=er+Math.imul(gr,ai)|0,nr=nr+Math.imul(gr,Ai)|0,nr=nr+Math.imul(Ar,ai)|0,or=or+Math.imul(Ar,Ai)|0;var Ii=(lr+er|0)+((nr&8191)<<13)|0;lr=(or+(nr>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,er=Math.imul(Rr,Yr),nr=Math.imul(Rr,Qn),nr=nr+Math.imul(xr,Yr)|0,or=Math.imul(xr,Qn),er=er+Math.imul(zn,Zn)|0,nr=nr+Math.imul(zn,bi)|0,nr=nr+Math.imul(Xn,Zn)|0,or=or+Math.imul(Xn,bi)|0,er=er+Math.imul(qr,ri)|0,nr=nr+Math.imul(qr,xi)|0,nr=nr+Math.imul(Jr,ri)|0,or=or+Math.imul(Jr,xi)|0,er=er+Math.imul($r,ni)|0,nr=nr+Math.imul($r,wi)|0,nr=nr+Math.imul(Mr,ni)|0,or=or+Math.imul(Mr,wi)|0,er=er+Math.imul(Kr,ii)|0,nr=nr+Math.imul(Kr,$i)|0,nr=nr+Math.imul(kr,ii)|0,or=or+Math.imul(kr,$i)|0,er=er+Math.imul(Xr,oi)|0,nr=nr+Math.imul(Xr,Ei)|0,nr=nr+Math.imul(Fr,oi)|0,or=or+Math.imul(Fr,Ei)|0,er=er+Math.imul(Wr,si)|0,nr=nr+Math.imul(Wr,Si)|0,nr=nr+Math.imul(Qr,si)|0,or=or+Math.imul(Qr,Si)|0,er=er+Math.imul(Cr,ai)|0,nr=nr+Math.imul(Cr,Ai)|0,nr=nr+Math.imul(Lr,ai)|0,or=or+Math.imul(Lr,Ai)|0,er=er+Math.imul(gr,fi)|0,nr=nr+Math.imul(gr,Ri)|0,nr=nr+Math.imul(Ar,fi)|0,or=or+Math.imul(Ar,Ri)|0;var Pi=(lr+er|0)+((nr&8191)<<13)|0;lr=(or+(nr>>>13)|0)+(Pi>>>26)|0,Pi&=67108863,er=Math.imul(Sr,Yr),nr=Math.imul(Sr,Qn),nr=nr+Math.imul(Gr,Yr)|0,or=Math.imul(Gr,Qn),er=er+Math.imul(Rr,Zn)|0,nr=nr+Math.imul(Rr,bi)|0,nr=nr+Math.imul(xr,Zn)|0,or=or+Math.imul(xr,bi)|0,er=er+Math.imul(zn,ri)|0,nr=nr+Math.imul(zn,xi)|0,nr=nr+Math.imul(Xn,ri)|0,or=or+Math.imul(Xn,xi)|0,er=er+Math.imul(qr,ni)|0,nr=nr+Math.imul(qr,wi)|0,nr=nr+Math.imul(Jr,ni)|0,or=or+Math.imul(Jr,wi)|0,er=er+Math.imul($r,ii)|0,nr=nr+Math.imul($r,$i)|0,nr=nr+Math.imul(Mr,ii)|0,or=or+Math.imul(Mr,$i)|0,er=er+Math.imul(Kr,oi)|0,nr=nr+Math.imul(Kr,Ei)|0,nr=nr+Math.imul(kr,oi)|0,or=or+Math.imul(kr,Ei)|0,er=er+Math.imul(Xr,si)|0,nr=nr+Math.imul(Xr,Si)|0,nr=nr+Math.imul(Fr,si)|0,or=or+Math.imul(Fr,Si)|0,er=er+Math.imul(Wr,ai)|0,nr=nr+Math.imul(Wr,Ai)|0,nr=nr+Math.imul(Qr,ai)|0,or=or+Math.imul(Qr,Ai)|0,er=er+Math.imul(Cr,fi)|0,nr=nr+Math.imul(Cr,Ri)|0,nr=nr+Math.imul(Lr,fi)|0,or=or+Math.imul(Lr,Ri)|0,er=er+Math.imul(gr,ui)|0,nr=nr+Math.imul(gr,_i)|0,nr=nr+Math.imul(Ar,ui)|0,or=or+Math.imul(Ar,_i)|0;var Oi=(lr+er|0)+((nr&8191)<<13)|0;lr=(or+(nr>>>13)|0)+(Oi>>>26)|0,Oi&=67108863,er=Math.imul(Sr,Zn),nr=Math.imul(Sr,bi),nr=nr+Math.imul(Gr,Zn)|0,or=Math.imul(Gr,bi),er=er+Math.imul(Rr,ri)|0,nr=nr+Math.imul(Rr,xi)|0,nr=nr+Math.imul(xr,ri)|0,or=or+Math.imul(xr,xi)|0,er=er+Math.imul(zn,ni)|0,nr=nr+Math.imul(zn,wi)|0,nr=nr+Math.imul(Xn,ni)|0,or=or+Math.imul(Xn,wi)|0,er=er+Math.imul(qr,ii)|0,nr=nr+Math.imul(qr,$i)|0,nr=nr+Math.imul(Jr,ii)|0,or=or+Math.imul(Jr,$i)|0,er=er+Math.imul($r,oi)|0,nr=nr+Math.imul($r,Ei)|0,nr=nr+Math.imul(Mr,oi)|0,or=or+Math.imul(Mr,Ei)|0,er=er+Math.imul(Kr,si)|0,nr=nr+Math.imul(Kr,Si)|0,nr=nr+Math.imul(kr,si)|0,or=or+Math.imul(kr,Si)|0,er=er+Math.imul(Xr,ai)|0,nr=nr+Math.imul(Xr,Ai)|0,nr=nr+Math.imul(Fr,ai)|0,or=or+Math.imul(Fr,Ai)|0,er=er+Math.imul(Wr,fi)|0,nr=nr+Math.imul(Wr,Ri)|0,nr=nr+Math.imul(Qr,fi)|0,or=or+Math.imul(Qr,Ri)|0,er=er+Math.imul(Cr,ui)|0,nr=nr+Math.imul(Cr,_i)|0,nr=nr+Math.imul(Lr,ui)|0,or=or+Math.imul(Lr,_i)|0;var Bi=(lr+er|0)+((nr&8191)<<13)|0;lr=(or+(nr>>>13)|0)+(Bi>>>26)|0,Bi&=67108863,er=Math.imul(Sr,ri),nr=Math.imul(Sr,xi),nr=nr+Math.imul(Gr,ri)|0,or=Math.imul(Gr,xi),er=er+Math.imul(Rr,ni)|0,nr=nr+Math.imul(Rr,wi)|0,nr=nr+Math.imul(xr,ni)|0,or=or+Math.imul(xr,wi)|0,er=er+Math.imul(zn,ii)|0,nr=nr+Math.imul(zn,$i)|0,nr=nr+Math.imul(Xn,ii)|0,or=or+Math.imul(Xn,$i)|0,er=er+Math.imul(qr,oi)|0,nr=nr+Math.imul(qr,Ei)|0,nr=nr+Math.imul(Jr,oi)|0,or=or+Math.imul(Jr,Ei)|0,er=er+Math.imul($r,si)|0,nr=nr+Math.imul($r,Si)|0,nr=nr+Math.imul(Mr,si)|0,or=or+Math.imul(Mr,Si)|0,er=er+Math.imul(Kr,ai)|0,nr=nr+Math.imul(Kr,Ai)|0,nr=nr+Math.imul(kr,ai)|0,or=or+Math.imul(kr,Ai)|0,er=er+Math.imul(Xr,fi)|0,nr=nr+Math.imul(Xr,Ri)|0,nr=nr+Math.imul(Fr,fi)|0,or=or+Math.imul(Fr,Ri)|0,er=er+Math.imul(Wr,ui)|0,nr=nr+Math.imul(Wr,_i)|0,nr=nr+Math.imul(Qr,ui)|0,or=or+Math.imul(Qr,_i)|0;var Li=(lr+er|0)+((nr&8191)<<13)|0;lr=(or+(nr>>>13)|0)+(Li>>>26)|0,Li&=67108863,er=Math.imul(Sr,ni),nr=Math.imul(Sr,wi),nr=nr+Math.imul(Gr,ni)|0,or=Math.imul(Gr,wi),er=er+Math.imul(Rr,ii)|0,nr=nr+Math.imul(Rr,$i)|0,nr=nr+Math.imul(xr,ii)|0,or=or+Math.imul(xr,$i)|0,er=er+Math.imul(zn,oi)|0,nr=nr+Math.imul(zn,Ei)|0,nr=nr+Math.imul(Xn,oi)|0,or=or+Math.imul(Xn,Ei)|0,er=er+Math.imul(qr,si)|0,nr=nr+Math.imul(qr,Si)|0,nr=nr+Math.imul(Jr,si)|0,or=or+Math.imul(Jr,Si)|0,er=er+Math.imul($r,ai)|0,nr=nr+Math.imul($r,Ai)|0,nr=nr+Math.imul(Mr,ai)|0,or=or+Math.imul(Mr,Ai)|0,er=er+Math.imul(Kr,fi)|0,nr=nr+Math.imul(Kr,Ri)|0,nr=nr+Math.imul(kr,fi)|0,or=or+Math.imul(kr,Ri)|0,er=er+Math.imul(Xr,ui)|0,nr=nr+Math.imul(Xr,_i)|0,nr=nr+Math.imul(Fr,ui)|0,or=or+Math.imul(Fr,_i)|0;var Di=(lr+er|0)+((nr&8191)<<13)|0;lr=(or+(nr>>>13)|0)+(Di>>>26)|0,Di&=67108863,er=Math.imul(Sr,ii),nr=Math.imul(Sr,$i),nr=nr+Math.imul(Gr,ii)|0,or=Math.imul(Gr,$i),er=er+Math.imul(Rr,oi)|0,nr=nr+Math.imul(Rr,Ei)|0,nr=nr+Math.imul(xr,oi)|0,or=or+Math.imul(xr,Ei)|0,er=er+Math.imul(zn,si)|0,nr=nr+Math.imul(zn,Si)|0,nr=nr+Math.imul(Xn,si)|0,or=or+Math.imul(Xn,Si)|0,er=er+Math.imul(qr,ai)|0,nr=nr+Math.imul(qr,Ai)|0,nr=nr+Math.imul(Jr,ai)|0,or=or+Math.imul(Jr,Ai)|0,er=er+Math.imul($r,fi)|0,nr=nr+Math.imul($r,Ri)|0,nr=nr+Math.imul(Mr,fi)|0,or=or+Math.imul(Mr,Ri)|0,er=er+Math.imul(Kr,ui)|0,nr=nr+Math.imul(Kr,_i)|0,nr=nr+Math.imul(kr,ui)|0,or=or+Math.imul(kr,_i)|0;var Fi=(lr+er|0)+((nr&8191)<<13)|0;lr=(or+(nr>>>13)|0)+(Fi>>>26)|0,Fi&=67108863,er=Math.imul(Sr,oi),nr=Math.imul(Sr,Ei),nr=nr+Math.imul(Gr,oi)|0,or=Math.imul(Gr,Ei),er=er+Math.imul(Rr,si)|0,nr=nr+Math.imul(Rr,Si)|0,nr=nr+Math.imul(xr,si)|0,or=or+Math.imul(xr,Si)|0,er=er+Math.imul(zn,ai)|0,nr=nr+Math.imul(zn,Ai)|0,nr=nr+Math.imul(Xn,ai)|0,or=or+Math.imul(Xn,Ai)|0,er=er+Math.imul(qr,fi)|0,nr=nr+Math.imul(qr,Ri)|0,nr=nr+Math.imul(Jr,fi)|0,or=or+Math.imul(Jr,Ri)|0,er=er+Math.imul($r,ui)|0,nr=nr+Math.imul($r,_i)|0,nr=nr+Math.imul(Mr,ui)|0,or=or+Math.imul(Mr,_i)|0;var Ui=(lr+er|0)+((nr&8191)<<13)|0;lr=(or+(nr>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,er=Math.imul(Sr,si),nr=Math.imul(Sr,Si),nr=nr+Math.imul(Gr,si)|0,or=Math.imul(Gr,Si),er=er+Math.imul(Rr,ai)|0,nr=nr+Math.imul(Rr,Ai)|0,nr=nr+Math.imul(xr,ai)|0,or=or+Math.imul(xr,Ai)|0,er=er+Math.imul(zn,fi)|0,nr=nr+Math.imul(zn,Ri)|0,nr=nr+Math.imul(Xn,fi)|0,or=or+Math.imul(Xn,Ri)|0,er=er+Math.imul(qr,ui)|0,nr=nr+Math.imul(qr,_i)|0,nr=nr+Math.imul(Jr,ui)|0,or=or+Math.imul(Jr,_i)|0;var ji=(lr+er|0)+((nr&8191)<<13)|0;lr=(or+(nr>>>13)|0)+(ji>>>26)|0,ji&=67108863,er=Math.imul(Sr,ai),nr=Math.imul(Sr,Ai),nr=nr+Math.imul(Gr,ai)|0,or=Math.imul(Gr,Ai),er=er+Math.imul(Rr,fi)|0,nr=nr+Math.imul(Rr,Ri)|0,nr=nr+Math.imul(xr,fi)|0,or=or+Math.imul(xr,Ri)|0,er=er+Math.imul(zn,ui)|0,nr=nr+Math.imul(zn,_i)|0,nr=nr+Math.imul(Xn,ui)|0,or=or+Math.imul(Xn,_i)|0;var Hi=(lr+er|0)+((nr&8191)<<13)|0;lr=(or+(nr>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,er=Math.imul(Sr,fi),nr=Math.imul(Sr,Ri),nr=nr+Math.imul(Gr,fi)|0,or=Math.imul(Gr,Ri),er=er+Math.imul(Rr,ui)|0,nr=nr+Math.imul(Rr,_i)|0,nr=nr+Math.imul(xr,ui)|0,or=or+Math.imul(xr,_i)|0;var Wi=(lr+er|0)+((nr&8191)<<13)|0;lr=(or+(nr>>>13)|0)+(Wi>>>26)|0,Wi&=67108863,er=Math.imul(Sr,ui),nr=Math.imul(Sr,_i),nr=nr+Math.imul(Gr,ui)|0,or=Math.imul(Gr,_i);var zi=(lr+er|0)+((nr&8191)<<13)|0;return lr=(or+(nr>>>13)|0)+(zi>>>26)|0,zi&=67108863,ur[0]=yi,ur[1]=vi,ur[2]=Ni,ur[3]=Mi,ur[4]=Ci,ur[5]=Ti,ur[6]=ki,ur[7]=Ii,ur[8]=Pi,ur[9]=Oi,ur[10]=Bi,ur[11]=Li,ur[12]=Di,ur[13]=Fi,ur[14]=Ui,ur[15]=ji,ur[16]=Hi,ur[17]=Wi,ur[18]=zi,lr!==0&&(ur[19]=lr,ce.length++),ce};Math.imul||(mr=ar);function pr(dr,tr,ve){ve.negative=tr.negative^dr.negative,ve.length=dr.length+tr.length;for(var ce=0,me=0,ir=0;ir<ve.length-1;ir++){var ur=me;me=0;for(var lr=ce&67108863,er=Math.min(ir,tr.length-1),nr=Math.max(0,ir-dr.length+1);nr<=er;nr++){var or=ir-nr,ye=dr.words[or]|0,gr=tr.words[nr]|0,Ar=ye*gr,br=Ar&67108863;ur=ur+(Ar/67108864|0)|0,br=br+lr|0,lr=br&67108863,ur=ur+(br>>>26)|0,me+=ur>>>26,ur&=67108863}ve.words[ir]=lr,ce=ur,ur=me}return ce!==0?ve.words[ir]=ce:ve.length--,ve.strip()}function yr(dr,tr,ve){var ce=new vr;return ce.mulp(dr,tr,ve)}oe.prototype.mulTo=function(tr,ve){var ce,me=this.length+tr.length;return this.length===10&&tr.length===10?ce=mr(this,tr,ve):me<63?ce=ar(this,tr,ve):me<1024?ce=pr(this,tr,ve):ce=yr(this,tr,ve),ce};function vr(dr,tr){this.x=dr,this.y=tr}vr.prototype.makeRBT=function(tr){for(var ve=new Array(tr),ce=oe.prototype._countBits(tr)-1,me=0;me<tr;me++)ve[me]=this.revBin(me,ce,tr);return ve},vr.prototype.revBin=function(tr,ve,ce){if(tr===0||tr===ce-1)return tr;for(var me=0,ir=0;ir<ve;ir++)me|=(tr&1)<<ve-ir-1,tr>>=1;return me},vr.prototype.permute=function(tr,ve,ce,me,ir,ur){for(var lr=0;lr<ur;lr++)me[lr]=ve[tr[lr]],ir[lr]=ce[tr[lr]]},vr.prototype.transform=function(tr,ve,ce,me,ir,ur){this.permute(ur,tr,ve,ce,me,ir);for(var lr=1;lr<ir;lr<<=1)for(var er=lr<<1,nr=Math.cos(2*Math.PI/er),or=Math.sin(2*Math.PI/er),ye=0;ye<ir;ye+=er)for(var gr=nr,Ar=or,br=0;br<lr;br++){var Cr=ce[ye+br],Lr=me[ye+br],Dr=ce[ye+br+lr],Wr=me[ye+br+lr],Qr=gr*Dr-Ar*Wr;Wr=gr*Wr+Ar*Dr,Dr=Qr,ce[ye+br]=Cr+Dr,me[ye+br]=Lr+Wr,ce[ye+br+lr]=Cr-Dr,me[ye+br+lr]=Lr-Wr,br!==er&&(Qr=nr*gr-or*Ar,Ar=nr*Ar+or*gr,gr=Qr)}},vr.prototype.guessLen13b=function(tr,ve){var ce=Math.max(ve,tr)|1,me=ce&1,ir=0;for(ce=ce/2|0;ce;ce=ce>>>1)ir++;return 1<<ir+1+me},vr.prototype.conjugate=function(tr,ve,ce){if(!(ce<=1))for(var me=0;me<ce/2;me++){var ir=tr[me];tr[me]=tr[ce-me-1],tr[ce-me-1]=ir,ir=ve[me],ve[me]=-ve[ce-me-1],ve[ce-me-1]=-ir}},vr.prototype.normalize13b=function(tr,ve){for(var ce=0,me=0;me<ve/2;me++){var ir=Math.round(tr[2*me+1]/ve)*8192+Math.round(tr[2*me]/ve)+ce;tr[me]=ir&67108863,ir<67108864?ce=0:ce=ir/67108864|0}return tr},vr.prototype.convert13b=function(tr,ve,ce,me){for(var ir=0,ur=0;ur<ve;ur++)ir=ir+(tr[ur]|0),ce[2*ur]=ir&8191,ir=ir>>>13,ce[2*ur+1]=ir&8191,ir=ir>>>13;for(ur=2*ve;ur<me;++ur)ce[ur]=0;ne(ir===0),ne((ir&-8192)===0)},vr.prototype.stub=function(tr){for(var ve=new Array(tr),ce=0;ce<tr;ce++)ve[ce]=0;return ve},vr.prototype.mulp=function(tr,ve,ce){var me=2*this.guessLen13b(tr.length,ve.length),ir=this.makeRBT(me),ur=this.stub(me),lr=new Array(me),er=new Array(me),nr=new Array(me),or=new Array(me),ye=new Array(me),gr=new Array(me),Ar=ce.words;Ar.length=me,this.convert13b(tr.words,tr.length,lr,me),this.convert13b(ve.words,ve.length,or,me),this.transform(lr,ur,er,nr,me,ir),this.transform(or,ur,ye,gr,me,ir);for(var br=0;br<me;br++){var Cr=er[br]*ye[br]-nr[br]*gr[br];nr[br]=er[br]*gr[br]+nr[br]*ye[br],er[br]=Cr}return this.conjugate(er,nr,me),this.transform(er,nr,Ar,ur,me,ir),this.conjugate(Ar,ur,me),this.normalize13b(Ar,me),ce.negative=tr.negative^ve.negative,ce.length=tr.length+ve.length,ce.strip()},oe.prototype.mul=function(tr){var ve=new oe(null);return ve.words=new Array(this.length+tr.length),this.mulTo(tr,ve)},oe.prototype.mulf=function(tr){var ve=new oe(null);return ve.words=new Array(this.length+tr.length),yr(this,tr,ve)},oe.prototype.imul=function(tr){return this.clone().mulTo(tr,this)},oe.prototype.imuln=function(tr){ne(typeof tr=="number"),ne(tr<67108864);for(var ve=0,ce=0;ce<this.length;ce++){var me=(this.words[ce]|0)*tr,ir=(me&67108863)+(ve&67108863);ve>>=26,ve+=me/67108864|0,ve+=ir>>>26,this.words[ce]=ir&67108863}return ve!==0&&(this.words[ce]=ve,this.length++),this},oe.prototype.muln=function(tr){return this.clone().imuln(tr)},oe.prototype.sqr=function(){return this.mul(this)},oe.prototype.isqr=function(){return this.imul(this.clone())},oe.prototype.pow=function(tr){var ve=cr(tr);if(ve.length===0)return new oe(1);for(var ce=this,me=0;me<ve.length&&ve[me]===0;me++,ce=ce.sqr());if(++me<ve.length)for(var ir=ce.sqr();me<ve.length;me++,ir=ir.sqr())ve[me]!==0&&(ce=ce.mul(ir));return ce},oe.prototype.iushln=function(tr){ne(typeof tr=="number"&&tr>=0);var ve=tr%26,ce=(tr-ve)/26,me=67108863>>>26-ve<<26-ve,ir;if(ve!==0){var ur=0;for(ir=0;ir<this.length;ir++){var lr=this.words[ir]&me,er=(this.words[ir]|0)-lr<<ve;this.words[ir]=er|ur,ur=lr>>>26-ve}ur&&(this.words[ir]=ur,this.length++)}if(ce!==0){for(ir=this.length-1;ir>=0;ir--)this.words[ir+ce]=this.words[ir];for(ir=0;ir<ce;ir++)this.words[ir]=0;this.length+=ce}return this.strip()},oe.prototype.ishln=function(tr){return ne(this.negative===0),this.iushln(tr)},oe.prototype.iushrn=function(tr,ve,ce){ne(typeof tr=="number"&&tr>=0);var me;ve?me=(ve-ve%26)/26:me=0;var ir=tr%26,ur=Math.min((tr-ir)/26,this.length),lr=67108863^67108863>>>ir<<ir,er=ce;if(me-=ur,me=Math.max(0,me),er){for(var nr=0;nr<ur;nr++)er.words[nr]=this.words[nr];er.length=ur}if(ur!==0)if(this.length>ur)for(this.length-=ur,nr=0;nr<this.length;nr++)this.words[nr]=this.words[nr+ur];else this.words[0]=0,this.length=1;var or=0;for(nr=this.length-1;nr>=0&&(or!==0||nr>=me);nr--){var ye=this.words[nr]|0;this.words[nr]=or<<26-ir|ye>>>ir,or=ye&lr}return er&&or!==0&&(er.words[er.length++]=or),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},oe.prototype.ishrn=function(tr,ve,ce){return ne(this.negative===0),this.iushrn(tr,ve,ce)},oe.prototype.shln=function(tr){return this.clone().ishln(tr)},oe.prototype.ushln=function(tr){return this.clone().iushln(tr)},oe.prototype.shrn=function(tr){return this.clone().ishrn(tr)},oe.prototype.ushrn=function(tr){return this.clone().iushrn(tr)},oe.prototype.testn=function(tr){ne(typeof tr=="number"&&tr>=0);var ve=tr%26,ce=(tr-ve)/26,me=1<<ve;if(this.length<=ce)return!1;var ir=this.words[ce];return!!(ir&me)},oe.prototype.imaskn=function(tr){ne(typeof tr=="number"&&tr>=0);var ve=tr%26,ce=(tr-ve)/26;if(ne(this.negative===0,"imaskn works only with positive numbers"),this.length<=ce)return this;if(ve!==0&&ce++,this.length=Math.min(ce,this.length),ve!==0){var me=67108863^67108863>>>ve<<ve;this.words[this.length-1]&=me}return this.strip()},oe.prototype.maskn=function(tr){return this.clone().imaskn(tr)},oe.prototype.iaddn=function(tr){return ne(typeof tr=="number"),ne(tr<67108864),tr<0?this.isubn(-tr):this.negative!==0?this.length===1&&(this.words[0]|0)<tr?(this.words[0]=tr-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(tr),this.negative=1,this):this._iaddn(tr)},oe.prototype._iaddn=function(tr){this.words[0]+=tr;for(var ve=0;ve<this.length&&this.words[ve]>=67108864;ve++)this.words[ve]-=67108864,ve===this.length-1?this.words[ve+1]=1:this.words[ve+1]++;return this.length=Math.max(this.length,ve+1),this},oe.prototype.isubn=function(tr){if(ne(typeof tr=="number"),ne(tr<67108864),tr<0)return this.iaddn(-tr);if(this.negative!==0)return this.negative=0,this.iaddn(tr),this.negative=1,this;if(this.words[0]-=tr,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ve=0;ve<this.length&&this.words[ve]<0;ve++)this.words[ve]+=67108864,this.words[ve+1]-=1;return this.strip()},oe.prototype.addn=function(tr){return this.clone().iaddn(tr)},oe.prototype.subn=function(tr){return this.clone().isubn(tr)},oe.prototype.iabs=function(){return this.negative=0,this},oe.prototype.abs=function(){return this.clone().iabs()},oe.prototype._ishlnsubmul=function(tr,ve,ce){var me=tr.length+ce,ir;this._expand(me);var ur,lr=0;for(ir=0;ir<tr.length;ir++){ur=(this.words[ir+ce]|0)+lr;var er=(tr.words[ir]|0)*ve;ur-=er&67108863,lr=(ur>>26)-(er/67108864|0),this.words[ir+ce]=ur&67108863}for(;ir<this.length-ce;ir++)ur=(this.words[ir+ce]|0)+lr,lr=ur>>26,this.words[ir+ce]=ur&67108863;if(lr===0)return this.strip();for(ne(lr===-1),lr=0,ir=0;ir<this.length;ir++)ur=-(this.words[ir]|0)+lr,lr=ur>>26,this.words[ir]=ur&67108863;return this.negative=1,this.strip()},oe.prototype._wordDiv=function(tr,ve){var ce=this.length-tr.length,me=this.clone(),ir=tr,ur=ir.words[ir.length-1]|0,lr=this._countBits(ur);ce=26-lr,ce!==0&&(ir=ir.ushln(ce),me.iushln(ce),ur=ir.words[ir.length-1]|0);var er=me.length-ir.length,nr;if(ve!=="mod"){nr=new oe(null),nr.length=er+1,nr.words=new Array(nr.length);for(var or=0;or<nr.length;or++)nr.words[or]=0}var ye=me.clone()._ishlnsubmul(ir,1,er);ye.negative===0&&(me=ye,nr&&(nr.words[er]=1));for(var gr=er-1;gr>=0;gr--){var Ar=(me.words[ir.length+gr]|0)*67108864+(me.words[ir.length+gr-1]|0);for(Ar=Math.min(Ar/ur|0,67108863),me._ishlnsubmul(ir,Ar,gr);me.negative!==0;)Ar--,me.negative=0,me._ishlnsubmul(ir,1,gr),me.isZero()||(me.negative^=1);nr&&(nr.words[gr]=Ar)}return nr&&nr.strip(),me.strip(),ve!=="div"&&ce!==0&&me.iushrn(ce),{div:nr||null,mod:me}},oe.prototype.divmod=function(tr,ve,ce){if(ne(!tr.isZero()),this.isZero())return{div:new oe(0),mod:new oe(0)};var me,ir,ur;return this.negative!==0&&tr.negative===0?(ur=this.neg().divmod(tr,ve),ve!=="mod"&&(me=ur.div.neg()),ve!=="div"&&(ir=ur.mod.neg(),ce&&ir.negative!==0&&ir.iadd(tr)),{div:me,mod:ir}):this.negative===0&&tr.negative!==0?(ur=this.divmod(tr.neg(),ve),ve!=="mod"&&(me=ur.div.neg()),{div:me,mod:ur.mod}):(this.negative&tr.negative)!==0?(ur=this.neg().divmod(tr.neg(),ve),ve!=="div"&&(ir=ur.mod.neg(),ce&&ir.negative!==0&&ir.isub(tr)),{div:ur.div,mod:ir}):tr.length>this.length||this.cmp(tr)<0?{div:new oe(0),mod:this}:tr.length===1?ve==="div"?{div:this.divn(tr.words[0]),mod:null}:ve==="mod"?{div:null,mod:new oe(this.modn(tr.words[0]))}:{div:this.divn(tr.words[0]),mod:new oe(this.modn(tr.words[0]))}:this._wordDiv(tr,ve)},oe.prototype.div=function(tr){return this.divmod(tr,"div",!1).div},oe.prototype.mod=function(tr){return this.divmod(tr,"mod",!1).mod},oe.prototype.umod=function(tr){return this.divmod(tr,"mod",!0).mod},oe.prototype.divRound=function(tr){var ve=this.divmod(tr);if(ve.mod.isZero())return ve.div;var ce=ve.div.negative!==0?ve.mod.isub(tr):ve.mod,me=tr.ushrn(1),ir=tr.andln(1),ur=ce.cmp(me);return ur<0||ir===1&&ur===0?ve.div:ve.div.negative!==0?ve.div.isubn(1):ve.div.iaddn(1)},oe.prototype.modn=function(tr){ne(tr<=67108863);for(var ve=(1<<26)%tr,ce=0,me=this.length-1;me>=0;me--)ce=(ve*ce+(this.words[me]|0))%tr;return ce},oe.prototype.idivn=function(tr){ne(tr<=67108863);for(var ve=0,ce=this.length-1;ce>=0;ce--){var me=(this.words[ce]|0)+ve*67108864;this.words[ce]=me/tr|0,ve=me%tr}return this.strip()},oe.prototype.divn=function(tr){return this.clone().idivn(tr)},oe.prototype.egcd=function(tr){ne(tr.negative===0),ne(!tr.isZero());var ve=this,ce=tr.clone();ve.negative!==0?ve=ve.umod(tr):ve=ve.clone();for(var me=new oe(1),ir=new oe(0),ur=new oe(0),lr=new oe(1),er=0;ve.isEven()&&ce.isEven();)ve.iushrn(1),ce.iushrn(1),++er;for(var nr=ce.clone(),or=ve.clone();!ve.isZero();){for(var ye=0,gr=1;(ve.words[0]&gr)===0&&ye<26;++ye,gr<<=1);if(ye>0)for(ve.iushrn(ye);ye-- >0;)(me.isOdd()||ir.isOdd())&&(me.iadd(nr),ir.isub(or)),me.iushrn(1),ir.iushrn(1);for(var Ar=0,br=1;(ce.words[0]&br)===0&&Ar<26;++Ar,br<<=1);if(Ar>0)for(ce.iushrn(Ar);Ar-- >0;)(ur.isOdd()||lr.isOdd())&&(ur.iadd(nr),lr.isub(or)),ur.iushrn(1),lr.iushrn(1);ve.cmp(ce)>=0?(ve.isub(ce),me.isub(ur),ir.isub(lr)):(ce.isub(ve),ur.isub(me),lr.isub(ir))}return{a:ur,b:lr,gcd:ce.iushln(er)}},oe.prototype._invmp=function(tr){ne(tr.negative===0),ne(!tr.isZero());var ve=this,ce=tr.clone();ve.negative!==0?ve=ve.umod(tr):ve=ve.clone();for(var me=new oe(1),ir=new oe(0),ur=ce.clone();ve.cmpn(1)>0&&ce.cmpn(1)>0;){for(var lr=0,er=1;(ve.words[0]&er)===0&&lr<26;++lr,er<<=1);if(lr>0)for(ve.iushrn(lr);lr-- >0;)me.isOdd()&&me.iadd(ur),me.iushrn(1);for(var nr=0,or=1;(ce.words[0]&or)===0&&nr<26;++nr,or<<=1);if(nr>0)for(ce.iushrn(nr);nr-- >0;)ir.isOdd()&&ir.iadd(ur),ir.iushrn(1);ve.cmp(ce)>=0?(ve.isub(ce),me.isub(ir)):(ce.isub(ve),ir.isub(me))}var ye;return ve.cmpn(1)===0?ye=me:ye=ir,ye.cmpn(0)<0&&ye.iadd(tr),ye},oe.prototype.gcd=function(tr){if(this.isZero())return tr.abs();if(tr.isZero())return this.abs();var ve=this.clone(),ce=tr.clone();ve.negative=0,ce.negative=0;for(var me=0;ve.isEven()&&ce.isEven();me++)ve.iushrn(1),ce.iushrn(1);do{for(;ve.isEven();)ve.iushrn(1);for(;ce.isEven();)ce.iushrn(1);var ir=ve.cmp(ce);if(ir<0){var ur=ve;ve=ce,ce=ur}else if(ir===0||ce.cmpn(1)===0)break;ve.isub(ce)}while(!0);return ce.iushln(me)},oe.prototype.invm=function(tr){return this.egcd(tr).a.umod(tr)},oe.prototype.isEven=function(){return(this.words[0]&1)===0},oe.prototype.isOdd=function(){return(this.words[0]&1)===1},oe.prototype.andln=function(tr){return this.words[0]&tr},oe.prototype.bincn=function(tr){ne(typeof tr=="number");var ve=tr%26,ce=(tr-ve)/26,me=1<<ve;if(this.length<=ce)return this._expand(ce+1),this.words[ce]|=me,this;for(var ir=me,ur=ce;ir!==0&&ur<this.length;ur++){var lr=this.words[ur]|0;lr+=ir,ir=lr>>>26,lr&=67108863,this.words[ur]=lr}return ir!==0&&(this.words[ur]=ir,this.length++),this},oe.prototype.isZero=function(){return this.length===1&&this.words[0]===0},oe.prototype.cmpn=function(tr){var ve=tr<0;if(this.negative!==0&&!ve)return-1;if(this.negative===0&&ve)return 1;this.strip();var ce;if(this.length>1)ce=1;else{ve&&(tr=-tr),ne(tr<=67108863,"Number is too big");var me=this.words[0]|0;ce=me===tr?0:me<tr?-1:1}return this.negative!==0?-ce|0:ce},oe.prototype.cmp=function(tr){if(this.negative!==0&&tr.negative===0)return-1;if(this.negative===0&&tr.negative!==0)return 1;var ve=this.ucmp(tr);return this.negative!==0?-ve|0:ve},oe.prototype.ucmp=function(tr){if(this.length>tr.length)return 1;if(this.length<tr.length)return-1;for(var ve=0,ce=this.length-1;ce>=0;ce--){var me=this.words[ce]|0,ir=tr.words[ce]|0;if(me!==ir){me<ir?ve=-1:me>ir&&(ve=1);break}}return ve},oe.prototype.gtn=function(tr){return this.cmpn(tr)===1},oe.prototype.gt=function(tr){return this.cmp(tr)===1},oe.prototype.gten=function(tr){return this.cmpn(tr)>=0},oe.prototype.gte=function(tr){return this.cmp(tr)>=0},oe.prototype.ltn=function(tr){return this.cmpn(tr)===-1},oe.prototype.lt=function(tr){return this.cmp(tr)===-1},oe.prototype.lten=function(tr){return this.cmpn(tr)<=0},oe.prototype.lte=function(tr){return this.cmp(tr)<=0},oe.prototype.eqn=function(tr){return this.cmpn(tr)===0},oe.prototype.eq=function(tr){return this.cmp(tr)===0},oe.red=function(tr){return new Br(tr)},oe.prototype.toRed=function(tr){return ne(!this.red,"Already a number in reduction context"),ne(this.negative===0,"red works only with positives"),tr.convertTo(this)._forceRed(tr)},oe.prototype.fromRed=function(){return ne(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},oe.prototype._forceRed=function(tr){return this.red=tr,this},oe.prototype.forceRed=function(tr){return ne(!this.red,"Already a number in reduction context"),this._forceRed(tr)},oe.prototype.redAdd=function(tr){return ne(this.red,"redAdd works only with red numbers"),this.red.add(this,tr)},oe.prototype.redIAdd=function(tr){return ne(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,tr)},oe.prototype.redSub=function(tr){return ne(this.red,"redSub works only with red numbers"),this.red.sub(this,tr)},oe.prototype.redISub=function(tr){return ne(this.red,"redISub works only with red numbers"),this.red.isub(this,tr)},oe.prototype.redShl=function(tr){return ne(this.red,"redShl works only with red numbers"),this.red.shl(this,tr)},oe.prototype.redMul=function(tr){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,tr),this.red.mul(this,tr)},oe.prototype.redIMul=function(tr){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,tr),this.red.imul(this,tr)},oe.prototype.redSqr=function(){return ne(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},oe.prototype.redISqr=function(){return ne(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},oe.prototype.redSqrt=function(){return ne(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},oe.prototype.redInvm=function(){return ne(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},oe.prototype.redNeg=function(){return ne(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},oe.prototype.redPow=function(tr){return ne(this.red&&!tr.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,tr)};var Er={k256:null,p224:null,p192:null,p25519:null};function Tr(dr,tr){this.name=dr,this.p=new oe(tr,16),this.n=this.p.bitLength(),this.k=new oe(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Tr.prototype._tmp=function(){var tr=new oe(null);return tr.words=new Array(Math.ceil(this.n/13)),tr},Tr.prototype.ireduce=function(tr){var ve=tr,ce;do this.split(ve,this.tmp),ve=this.imulK(ve),ve=ve.iadd(this.tmp),ce=ve.bitLength();while(ce>this.n);var me=ce<this.n?-1:ve.ucmp(this.p);return me===0?(ve.words[0]=0,ve.length=1):me>0?ve.isub(this.p):ve.strip!==void 0?ve.strip():ve._strip(),ve},Tr.prototype.split=function(tr,ve){tr.iushrn(this.n,0,ve)},Tr.prototype.imulK=function(tr){return tr.imul(this.k)};function Ir(){Tr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}ie(Ir,Tr),Ir.prototype.split=function(tr,ve){for(var ce=4194303,me=Math.min(tr.length,9),ir=0;ir<me;ir++)ve.words[ir]=tr.words[ir];if(ve.length=me,tr.length<=9){tr.words[0]=0,tr.length=1;return}var ur=tr.words[9];for(ve.words[ve.length++]=ur&ce,ir=10;ir<tr.length;ir++){var lr=tr.words[ir]|0;tr.words[ir-10]=(lr&ce)<<4|ur>>>22,ur=lr}ur>>>=22,tr.words[ir-10]=ur,ur===0&&tr.length>10?tr.length-=10:tr.length-=9},Ir.prototype.imulK=function(tr){tr.words[tr.length]=0,tr.words[tr.length+1]=0,tr.length+=2;for(var ve=0,ce=0;ce<tr.length;ce++){var me=tr.words[ce]|0;ve+=me*977,tr.words[ce]=ve&67108863,ve=me*64+(ve/67108864|0)}return tr.words[tr.length-1]===0&&(tr.length--,tr.words[tr.length-1]===0&&tr.length--),tr};function Or(){Tr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}ie(Or,Tr);function Hr(){Tr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}ie(Hr,Tr);function Pr(){Tr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}ie(Pr,Tr),Pr.prototype.imulK=function(tr){for(var ve=0,ce=0;ce<tr.length;ce++){var me=(tr.words[ce]|0)*19+ve,ir=me&67108863;me>>>=26,tr.words[ce]=ir,ve=me}return ve!==0&&(tr.words[tr.length++]=ve),tr},oe._prime=function(tr){if(Er[tr])return Er[tr];var ve;if(tr==="k256")ve=new Ir;else if(tr==="p224")ve=new Or;else if(tr==="p192")ve=new Hr;else if(tr==="p25519")ve=new Pr;else throw new Error("Unknown prime "+tr);return Er[tr]=ve,ve};function Br(dr){if(typeof dr=="string"){var tr=oe._prime(dr);this.m=tr.p,this.prime=tr}else ne(dr.gtn(1),"modulus must be greater than 1"),this.m=dr,this.prime=null}Br.prototype._verify1=function(tr){ne(tr.negative===0,"red works only with positives"),ne(tr.red,"red works only with red numbers")},Br.prototype._verify2=function(tr,ve){ne((tr.negative|ve.negative)===0,"red works only with positives"),ne(tr.red&&tr.red===ve.red,"red works only with red numbers")},Br.prototype.imod=function(tr){return this.prime?this.prime.ireduce(tr)._forceRed(this):tr.umod(this.m)._forceRed(this)},Br.prototype.neg=function(tr){return tr.isZero()?tr.clone():this.m.sub(tr)._forceRed(this)},Br.prototype.add=function(tr,ve){this._verify2(tr,ve);var ce=tr.add(ve);return ce.cmp(this.m)>=0&&ce.isub(this.m),ce._forceRed(this)},Br.prototype.iadd=function(tr,ve){this._verify2(tr,ve);var ce=tr.iadd(ve);return ce.cmp(this.m)>=0&&ce.isub(this.m),ce},Br.prototype.sub=function(tr,ve){this._verify2(tr,ve);var ce=tr.sub(ve);return ce.cmpn(0)<0&&ce.iadd(this.m),ce._forceRed(this)},Br.prototype.isub=function(tr,ve){this._verify2(tr,ve);var ce=tr.isub(ve);return ce.cmpn(0)<0&&ce.iadd(this.m),ce},Br.prototype.shl=function(tr,ve){return this._verify1(tr),this.imod(tr.ushln(ve))},Br.prototype.imul=function(tr,ve){return this._verify2(tr,ve),this.imod(tr.imul(ve))},Br.prototype.mul=function(tr,ve){return this._verify2(tr,ve),this.imod(tr.mul(ve))},Br.prototype.isqr=function(tr){return this.imul(tr,tr.clone())},Br.prototype.sqr=function(tr){return this.mul(tr,tr)},Br.prototype.sqrt=function(tr){if(tr.isZero())return tr.clone();var ve=this.m.andln(3);if(ne(ve%2===1),ve===3){var ce=this.m.add(new oe(1)).iushrn(2);return this.pow(tr,ce)}for(var me=this.m.subn(1),ir=0;!me.isZero()&&me.andln(1)===0;)ir++,me.iushrn(1);ne(!me.isZero());var ur=new oe(1).toRed(this),lr=ur.redNeg(),er=this.m.subn(1).iushrn(1),nr=this.m.bitLength();for(nr=new oe(2*nr*nr).toRed(this);this.pow(nr,er).cmp(lr)!==0;)nr.redIAdd(lr);for(var or=this.pow(nr,me),ye=this.pow(tr,me.addn(1).iushrn(1)),gr=this.pow(tr,me),Ar=ir;gr.cmp(ur)!==0;){for(var br=gr,Cr=0;br.cmp(ur)!==0;Cr++)br=br.redSqr();ne(Cr<Ar);var Lr=this.pow(or,new oe(1).iushln(Ar-Cr-1));ye=ye.redMul(Lr),or=Lr.redSqr(),gr=gr.redMul(or),Ar=Cr}return ye},Br.prototype.invm=function(tr){var ve=tr._invmp(this.m);return ve.negative!==0?(ve.negative=0,this.imod(ve).redNeg()):this.imod(ve)},Br.prototype.pow=function(tr,ve){if(ve.isZero())return new oe(1).toRed(this);if(ve.cmpn(1)===0)return tr.clone();var ce=4,me=new Array(1<<ce);me[0]=new oe(1).toRed(this),me[1]=tr;for(var ir=2;ir<me.length;ir++)me[ir]=this.mul(me[ir-1],tr);var ur=me[0],lr=0,er=0,nr=ve.bitLength()%26;for(nr===0&&(nr=26),ir=ve.length-1;ir>=0;ir--){for(var or=ve.words[ir],ye=nr-1;ye>=0;ye--){var gr=or>>ye&1;if(ur!==me[0]&&(ur=this.sqr(ur)),gr===0&&lr===0){er=0;continue}lr<<=1,lr|=gr,er++,!(er!==ce&&(ir!==0||ye!==0))&&(ur=this.mul(ur,me[lr]),er=0,lr=0)}nr=26}return ur},Br.prototype.convertTo=function(tr){var ve=tr.umod(this.m);return ve===tr?ve.clone():ve},Br.prototype.convertFrom=function(tr){var ve=tr.clone();return ve.red=null,ve},oe.mont=function(tr){return new Nr(tr)};function Nr(dr){Br.call(this,dr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new oe(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ie(Nr,Br),Nr.prototype.convertTo=function(tr){return this.imod(tr.ushln(this.shift))},Nr.prototype.convertFrom=function(tr){var ve=this.imod(tr.mul(this.rinv));return ve.red=null,ve},Nr.prototype.imul=function(tr,ve){if(tr.isZero()||ve.isZero())return tr.words[0]=0,tr.length=1,tr;var ce=tr.imul(ve),me=ce.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ir=ce.isub(me).iushrn(this.shift),ur=ir;return ir.cmp(this.m)>=0?ur=ir.isub(this.m):ir.cmpn(0)<0&&(ur=ir.iadd(this.m)),ur._forceRed(this)},Nr.prototype.mul=function(tr,ve){if(tr.isZero()||ve.isZero())return new oe(0)._forceRed(this);var ce=tr.mul(ve),me=ce.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ir=ce.isub(me).iushrn(this.shift),ur=ir;return ir.cmp(this.m)>=0?ur=ir.isub(this.m):ir.cmpn(0)<0&&(ur=ir.iadd(this.m)),ur._forceRed(this)},Nr.prototype.invm=function(tr){var ve=this.imod(tr._invmp(this.m).mul(this.r2));return ve._forceRed(this)}})(te,commonjsGlobal$1)})(bn$4);var _BN=bn$4.exports;const version$1s="logger/5.6.0";let _permanentCensorErrors$g=!1,_censorErrors$g=!1;const LogLevels$g={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$g=LogLevels$g.default,_globalLogger$g=null;function _checkNormalize$g(){try{const te=[];if(["NFD","NFC","NFKD","NFKC"].forEach(ee=>{try{if("test".normalize(ee)!=="test")throw new Error("bad normalize")}catch{te.push(ee)}}),te.length)throw new Error("missing "+te.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(te){return te.message}return null}const _normalizeError$g=_checkNormalize$g();var LogLevel$g;(function(te){te.DEBUG="DEBUG",te.INFO="INFO",te.WARNING="WARNING",te.ERROR="ERROR",te.OFF="OFF"})(LogLevel$g||(LogLevel$g={}));var ErrorCode$g;(function(te){te.UNKNOWN_ERROR="UNKNOWN_ERROR",te.NOT_IMPLEMENTED="NOT_IMPLEMENTED",te.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",te.NETWORK_ERROR="NETWORK_ERROR",te.SERVER_ERROR="SERVER_ERROR",te.TIMEOUT="TIMEOUT",te.BUFFER_OVERRUN="BUFFER_OVERRUN",te.NUMERIC_FAULT="NUMERIC_FAULT",te.MISSING_NEW="MISSING_NEW",te.INVALID_ARGUMENT="INVALID_ARGUMENT",te.MISSING_ARGUMENT="MISSING_ARGUMENT",te.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",te.CALL_EXCEPTION="CALL_EXCEPTION",te.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",te.NONCE_EXPIRED="NONCE_EXPIRED",te.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",te.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",te.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(ErrorCode$g||(ErrorCode$g={}));const HEX$g="0123456789abcdef";class Logger$g{constructor(ee){Object.defineProperty(this,"version",{enumerable:!0,value:ee,writable:!1})}_log(ee,re){const ne=ee.toLowerCase();LogLevels$g[ne]==null&&this.throwArgumentError("invalid log level name","logLevel",ee),!(_logLevel$g>LogLevels$g[ne])&&console.log.apply(console,re)}debug(...ee){this._log(Logger$g.levels.DEBUG,ee)}info(...ee){this._log(Logger$g.levels.INFO,ee)}warn(...ee){this._log(Logger$g.levels.WARNING,ee)}makeError(ee,re,ne){if(_censorErrors$g)return this.makeError("censored error",re,{});re||(re=Logger$g.errors.UNKNOWN_ERROR),ne||(ne={});const ie=[];Object.keys(ne).forEach(fe=>{const ue=ne[fe];try{if(ue instanceof Uint8Array){let le="";for(let pe=0;pe<ue.length;pe++)le+=HEX$g[ue[pe]>>4],le+=HEX$g[ue[pe]&15];ie.push(fe+"=Uint8Array(0x"+le+")")}else ie.push(fe+"="+JSON.stringify(ue))}catch{ie.push(fe+"="+JSON.stringify(ne[fe].toString()))}}),ie.push(`code=${re}`),ie.push(`version=${this.version}`);const oe=ee;let se="";switch(re){case ErrorCode$g.NUMERIC_FAULT:{se="NUMERIC_FAULT";const fe=ee;switch(fe){case"overflow":case"underflow":case"division-by-zero":se+="-"+fe;break;case"negative-power":case"negative-width":se+="-unsupported";break;case"unbound-bitwise-result":se+="-unbound-result";break}break}case ErrorCode$g.CALL_EXCEPTION:case ErrorCode$g.INSUFFICIENT_FUNDS:case ErrorCode$g.MISSING_NEW:case ErrorCode$g.NONCE_EXPIRED:case ErrorCode$g.REPLACEMENT_UNDERPRICED:case ErrorCode$g.TRANSACTION_REPLACED:case ErrorCode$g.UNPREDICTABLE_GAS_LIMIT:se=re;break}se&&(ee+=" [ See: https://links.ethers.org/v5-errors-"+se+" ]"),ie.length&&(ee+=" ("+ie.join(", ")+")");const ae=new Error(ee);return ae.reason=oe,ae.code=re,Object.keys(ne).forEach(function(fe){ae[fe]=ne[fe]}),ae}throwError(ee,re,ne){throw this.makeError(ee,re,ne)}throwArgumentError(ee,re,ne){return this.throwError(ee,Logger$g.errors.INVALID_ARGUMENT,{argument:re,value:ne})}assert(ee,re,ne,ie){ee||this.throwError(re,ne,ie)}assertArgument(ee,re,ne,ie){ee||this.throwArgumentError(re,ne,ie)}checkNormalize(ee){_normalizeError$g&&this.throwError("platform missing String.prototype.normalize",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$g})}checkSafeUint53(ee,re){typeof ee=="number"&&(re==null&&(re="value not safe"),(ee<0||ee>=9007199254740991)&&this.throwError(re,Logger$g.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:ee}),ee%1&&this.throwError(re,Logger$g.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:ee}))}checkArgumentCount(ee,re,ne){ne?ne=": "+ne:ne="",ee<re&&this.throwError("missing argument"+ne,Logger$g.errors.MISSING_ARGUMENT,{count:ee,expectedCount:re}),ee>re&&this.throwError("too many arguments"+ne,Logger$g.errors.UNEXPECTED_ARGUMENT,{count:ee,expectedCount:re})}checkNew(ee,re){(ee===Object||ee==null)&&this.throwError("missing new",Logger$g.errors.MISSING_NEW,{name:re.name})}checkAbstract(ee,re){ee===re?this.throwError("cannot instantiate abstract class "+JSON.stringify(re.name)+" directly; use a sub-class",Logger$g.errors.UNSUPPORTED_OPERATION,{name:ee.name,operation:"new"}):(ee===Object||ee==null)&&this.throwError("missing new",Logger$g.errors.MISSING_NEW,{name:re.name})}static globalLogger(){return _globalLogger$g||(_globalLogger$g=new Logger$g(version$1s)),_globalLogger$g}static setCensorship(ee,re){if(!ee&&re&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$g){if(!ee)return;this.globalLogger().throwError("error censorship permanent",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$g=!!ee,_permanentCensorErrors$g=!!re}static setLogLevel(ee){const re=LogLevels$g[ee.toLowerCase()];if(re==null){Logger$g.globalLogger().warn("invalid log level - "+ee);return}_logLevel$g=re}static from(ee){return new Logger$g(ee)}}Logger$g.errors=ErrorCode$g;Logger$g.levels=LogLevel$g;const version$1r="bytes/5.6.1",logger$1e=new Logger$g(version$1r);function isHexable$e(te){return!!te.toHexString}function addSlice$e(te){return te.slice||(te.slice=function(){const ee=Array.prototype.slice.call(arguments);return addSlice$e(new Uint8Array(Array.prototype.slice.apply(te,ee)))}),te}function isBytesLike$7(te){return isHexString$j(te)&&!(te.length%2)||isBytes$e(te)}function isInteger$e(te){return typeof te=="number"&&te==te&&te%1===0}function isBytes$e(te){if(te==null)return!1;if(te.constructor===Uint8Array)return!0;if(typeof te=="string"||!isInteger$e(te.length)||te.length<0)return!1;for(let ee=0;ee<te.length;ee++){const re=te[ee];if(!isInteger$e(re)||re<0||re>=256)return!1}return!0}function arrayify$e(te,ee){if(ee||(ee={}),typeof te=="number"){logger$1e.checkSafeUint53(te,"invalid arrayify value");const re=[];for(;te;)re.unshift(te&255),te=parseInt(String(te/256));return re.length===0&&re.push(0),addSlice$e(new Uint8Array(re))}if(ee.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),isHexable$e(te)&&(te=te.toHexString()),isHexString$j(te)){let re=te.substring(2);re.length%2&&(ee.hexPad==="left"?re="0"+re:ee.hexPad==="right"?re+="0":logger$1e.throwArgumentError("hex data is odd-length","value",te));const ne=[];for(let ie=0;ie<re.length;ie+=2)ne.push(parseInt(re.substring(ie,ie+2),16));return addSlice$e(new Uint8Array(ne))}return isBytes$e(te)?addSlice$e(new Uint8Array(te)):logger$1e.throwArgumentError("invalid arrayify value","value",te)}function concat$7(te){const ee=te.map(ie=>arrayify$e(ie)),re=ee.reduce((ie,oe)=>ie+oe.length,0),ne=new Uint8Array(re);return ee.reduce((ie,oe)=>(ne.set(oe,ie),ie+oe.length),0),addSlice$e(ne)}function stripZeros$3(te){let ee=arrayify$e(te);if(ee.length===0)return ee;let re=0;for(;re<ee.length&&ee[re]===0;)re++;return re&&(ee=ee.slice(re)),ee}function zeroPad$4(te,ee){te=arrayify$e(te),te.length>ee&&logger$1e.throwArgumentError("value out of range","value",arguments[0]);const re=new Uint8Array(ee);return re.set(te,ee-te.length),addSlice$e(re)}function isHexString$j(te,ee){return!(typeof te!="string"||!te.match(/^0x[0-9A-Fa-f]*$/)||ee&&te.length!==2+2*ee)}const HexCharacters$9="0123456789abcdef";function hexlify$9(te,ee){if(ee||(ee={}),typeof te=="number"){logger$1e.checkSafeUint53(te,"invalid hexlify value");let re="";for(;te;)re=HexCharacters$9[te&15]+re,te=Math.floor(te/16);return re.length?(re.length%2&&(re="0"+re),"0x"+re):"0x00"}if(typeof te=="bigint")return te=te.toString(16),te.length%2?"0x0"+te:"0x"+te;if(ee.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),isHexable$e(te))return te.toHexString();if(isHexString$j(te))return te.length%2&&(ee.hexPad==="left"?te="0x0"+te.substring(2):ee.hexPad==="right"?te+="0":logger$1e.throwArgumentError("hex data is odd-length","value",te)),te.toLowerCase();if(isBytes$e(te)){let re="0x";for(let ne=0;ne<te.length;ne++){let ie=te[ne];re+=HexCharacters$9[(ie&240)>>4]+HexCharacters$9[ie&15]}return re}return logger$1e.throwArgumentError("invalid hexlify value","value",te)}function hexDataLength$3(te){if(typeof te!="string")te=hexlify$9(te);else if(!isHexString$j(te)||te.length%2)return null;return(te.length-2)/2}function hexDataSlice$4(te,ee,re){return typeof te!="string"?te=hexlify$9(te):(!isHexString$j(te)||te.length%2)&&logger$1e.throwArgumentError("invalid hexData","value",te),ee=2+2*ee,re!=null?"0x"+te.substring(ee,2+2*re):"0x"+te.substring(ee)}function hexConcat$3(te){let ee="0x";return te.forEach(re=>{ee+=hexlify$9(re).substring(2)}),ee}function hexValue$1(te){const ee=hexStripZeros$1(hexlify$9(te,{hexPad:"left"}));return ee==="0x"?"0x0":ee}function hexStripZeros$1(te){typeof te!="string"&&(te=hexlify$9(te)),isHexString$j(te)||logger$1e.throwArgumentError("invalid hex string","value",te),te=te.substring(2);let ee=0;for(;ee<te.length&&te[ee]==="0";)ee++;return"0x"+te.substring(ee)}function hexZeroPad$5(te,ee){for(typeof te!="string"?te=hexlify$9(te):isHexString$j(te)||logger$1e.throwArgumentError("invalid hex string","value",te),te.length>2*ee+2&&logger$1e.throwArgumentError("value out of range","value",arguments[1]);te.length<2*ee+2;)te="0x0"+te.substring(2);return te}function splitSignature$4(te){const ee={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(isBytesLike$7(te)){let re=arrayify$e(te);re.length===64?(ee.v=27+(re[32]>>7),re[32]&=127,ee.r=hexlify$9(re.slice(0,32)),ee.s=hexlify$9(re.slice(32,64))):re.length===65?(ee.r=hexlify$9(re.slice(0,32)),ee.s=hexlify$9(re.slice(32,64)),ee.v=re[64]):logger$1e.throwArgumentError("invalid signature string","signature",te),ee.v<27&&(ee.v===0||ee.v===1?ee.v+=27:logger$1e.throwArgumentError("signature invalid v byte","signature",te)),ee.recoveryParam=1-ee.v%2,ee.recoveryParam&&(re[32]|=128),ee._vs=hexlify$9(re.slice(32,64))}else{if(ee.r=te.r,ee.s=te.s,ee.v=te.v,ee.recoveryParam=te.recoveryParam,ee._vs=te._vs,ee._vs!=null){const ie=zeroPad$4(arrayify$e(ee._vs),32);ee._vs=hexlify$9(ie);const oe=ie[0]>=128?1:0;ee.recoveryParam==null?ee.recoveryParam=oe:ee.recoveryParam!==oe&&logger$1e.throwArgumentError("signature recoveryParam mismatch _vs","signature",te),ie[0]&=127;const se=hexlify$9(ie);ee.s==null?ee.s=se:ee.s!==se&&logger$1e.throwArgumentError("signature v mismatch _vs","signature",te)}if(ee.recoveryParam==null)ee.v==null?logger$1e.throwArgumentError("signature missing v and recoveryParam","signature",te):ee.v===0||ee.v===1?ee.recoveryParam=ee.v:ee.recoveryParam=1-ee.v%2;else if(ee.v==null)ee.v=27+ee.recoveryParam;else{const ie=ee.v===0||ee.v===1?ee.v:1-ee.v%2;ee.recoveryParam!==ie&&logger$1e.throwArgumentError("signature recoveryParam mismatch v","signature",te)}ee.r==null||!isHexString$j(ee.r)?logger$1e.throwArgumentError("signature missing or invalid r","signature",te):ee.r=hexZeroPad$5(ee.r,32),ee.s==null||!isHexString$j(ee.s)?logger$1e.throwArgumentError("signature missing or invalid s","signature",te):ee.s=hexZeroPad$5(ee.s,32);const re=arrayify$e(ee.s);re[0]>=128&&logger$1e.throwArgumentError("signature s out of range","signature",te),ee.recoveryParam&&(re[0]|=128);const ne=hexlify$9(re);ee._vs&&(isHexString$j(ee._vs)||logger$1e.throwArgumentError("signature invalid _vs","signature",te),ee._vs=hexZeroPad$5(ee._vs,32)),ee._vs==null?ee._vs=ne:ee._vs!==ne&&logger$1e.throwArgumentError("signature _vs mismatch v and s","signature",te)}return ee.yParityAndS=ee._vs,ee.compact=ee.r+ee.yParityAndS.substring(2),ee}function joinSignature$1(te){return te=splitSignature$4(te),hexlify$9(concat$7([te.r,te.s,te.recoveryParam?"0x1c":"0x1b"]))}const version$1q="bignumber/5.6.0";var BN$l=_BN.BN;const logger$1d=new Logger$g(version$1q),_constructorGuard$9={},MAX_SAFE$4=9007199254740991;function isBigNumberish(te){return te!=null&&(BigNumber$4.isBigNumber(te)||typeof te=="number"&&te%1===0||typeof te=="string"&&!!te.match(/^-?[0-9]+$/)||isHexString$j(te)||typeof te=="bigint"||isBytes$e(te))}let _warnedToStringRadix$4=!1;class BigNumber$4{constructor(ee,re){logger$1d.checkNew(new.target,BigNumber$4),ee!==_constructorGuard$9&&logger$1d.throwError("cannot call constructor directly; use BigNumber.from",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=re,this._isBigNumber=!0,Object.freeze(this)}fromTwos(ee){return toBigNumber$4(toBN$4(this).fromTwos(ee))}toTwos(ee){return toBigNumber$4(toBN$4(this).toTwos(ee))}abs(){return this._hex[0]==="-"?BigNumber$4.from(this._hex.substring(1)):this}add(ee){return toBigNumber$4(toBN$4(this).add(toBN$4(ee)))}sub(ee){return toBigNumber$4(toBN$4(this).sub(toBN$4(ee)))}div(ee){return BigNumber$4.from(ee).isZero()&&throwFault$5("division-by-zero","div"),toBigNumber$4(toBN$4(this).div(toBN$4(ee)))}mul(ee){return toBigNumber$4(toBN$4(this).mul(toBN$4(ee)))}mod(ee){const re=toBN$4(ee);return re.isNeg()&&throwFault$5("division-by-zero","mod"),toBigNumber$4(toBN$4(this).umod(re))}pow(ee){const re=toBN$4(ee);return re.isNeg()&&throwFault$5("negative-power","pow"),toBigNumber$4(toBN$4(this).pow(re))}and(ee){const re=toBN$4(ee);return(this.isNegative()||re.isNeg())&&throwFault$5("unbound-bitwise-result","and"),toBigNumber$4(toBN$4(this).and(re))}or(ee){const re=toBN$4(ee);return(this.isNegative()||re.isNeg())&&throwFault$5("unbound-bitwise-result","or"),toBigNumber$4(toBN$4(this).or(re))}xor(ee){const re=toBN$4(ee);return(this.isNegative()||re.isNeg())&&throwFault$5("unbound-bitwise-result","xor"),toBigNumber$4(toBN$4(this).xor(re))}mask(ee){return(this.isNegative()||ee<0)&&throwFault$5("negative-width","mask"),toBigNumber$4(toBN$4(this).maskn(ee))}shl(ee){return(this.isNegative()||ee<0)&&throwFault$5("negative-width","shl"),toBigNumber$4(toBN$4(this).shln(ee))}shr(ee){return(this.isNegative()||ee<0)&&throwFault$5("negative-width","shr"),toBigNumber$4(toBN$4(this).shrn(ee))}eq(ee){return toBN$4(this).eq(toBN$4(ee))}lt(ee){return toBN$4(this).lt(toBN$4(ee))}lte(ee){return toBN$4(this).lte(toBN$4(ee))}gt(ee){return toBN$4(this).gt(toBN$4(ee))}gte(ee){return toBN$4(this).gte(toBN$4(ee))}isNegative(){return this._hex[0]==="-"}isZero(){return toBN$4(this).isZero()}toNumber(){try{return toBN$4(this).toNumber()}catch{throwFault$5("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return logger$1d.throwError("this platform does not support BigInt",Logger$g.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?_warnedToStringRadix$4||(_warnedToStringRadix$4=!0,logger$1d.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?logger$1d.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Logger$g.errors.UNEXPECTED_ARGUMENT,{}):logger$1d.throwError("BigNumber.toString does not accept parameters",Logger$g.errors.UNEXPECTED_ARGUMENT,{})),toBN$4(this).toString(10)}toHexString(){return this._hex}toJSON(ee){return{type:"BigNumber",hex:this.toHexString()}}static from(ee){if(ee instanceof BigNumber$4)return ee;if(typeof ee=="string")return ee.match(/^-?0x[0-9a-f]+$/i)?new BigNumber$4(_constructorGuard$9,toHex$5(ee)):ee.match(/^-?[0-9]+$/)?new BigNumber$4(_constructorGuard$9,toHex$5(new BN$l(ee))):logger$1d.throwArgumentError("invalid BigNumber string","value",ee);if(typeof ee=="number")return ee%1&&throwFault$5("underflow","BigNumber.from",ee),(ee>=MAX_SAFE$4||ee<=-MAX_SAFE$4)&&throwFault$5("overflow","BigNumber.from",ee),BigNumber$4.from(String(ee));const re=ee;if(typeof re=="bigint")return BigNumber$4.from(re.toString());if(isBytes$e(re))return BigNumber$4.from(hexlify$9(re));if(re)if(re.toHexString){const ne=re.toHexString();if(typeof ne=="string")return BigNumber$4.from(ne)}else{let ne=re._hex;if(ne==null&&re.type==="BigNumber"&&(ne=re.hex),typeof ne=="string"&&(isHexString$j(ne)||ne[0]==="-"&&isHexString$j(ne.substring(1))))return BigNumber$4.from(ne)}return logger$1d.throwArgumentError("invalid BigNumber value","value",ee)}static isBigNumber(ee){return!!(ee&&ee._isBigNumber)}}function toHex$5(te){if(typeof te!="string")return toHex$5(te.toString(16));if(te[0]==="-")return te=te.substring(1),te[0]==="-"&&logger$1d.throwArgumentError("invalid hex","value",te),te=toHex$5(te),te==="0x00"?te:"-"+te;if(te.substring(0,2)!=="0x"&&(te="0x"+te),te==="0x")return"0x00";for(te.length%2&&(te="0x0"+te.substring(2));te.length>4&&te.substring(0,4)==="0x00";)te="0x"+te.substring(4);return te}function toBigNumber$4(te){return BigNumber$4.from(toHex$5(te))}function toBN$4(te){const ee=BigNumber$4.from(te).toHexString();return ee[0]==="-"?new BN$l("-"+ee.substring(3),16):new BN$l(ee.substring(2),16)}function throwFault$5(te,ee,re){const ne={fault:te,operation:ee};return re!=null&&(ne.value=re),logger$1d.throwError(te,Logger$g.errors.NUMERIC_FAULT,ne)}function _base36To16$4(te){return new BN$l(te,36).toString(16)}const logger$1c=new Logger$g(version$1q),_constructorGuard$8={},Zero$4=BigNumber$4.from(0),NegativeOne$3=BigNumber$4.from(-1);function throwFault$4(te,ee,re,ne){const ie={fault:ee,operation:re};return ne!==void 0&&(ie.value=ne),logger$1c.throwError(te,Logger$g.errors.NUMERIC_FAULT,ie)}let zeros$1="0";for(;zeros$1.length<256;)zeros$1+=zeros$1;function getMultiplier(te){if(typeof te!="number")try{te=BigNumber$4.from(te).toNumber()}catch{}return typeof te=="number"&&te>=0&&te<=256&&!(te%1)?"1"+zeros$1.substring(0,te):logger$1c.throwArgumentError("invalid decimal size","decimals",te)}function formatFixed(te,ee){ee==null&&(ee=0);const re=getMultiplier(ee);te=BigNumber$4.from(te);const ne=te.lt(Zero$4);ne&&(te=te.mul(NegativeOne$3));let ie=te.mod(re).toString();for(;ie.length<re.length-1;)ie="0"+ie;ie=ie.match(/^([0-9]*[1-9]|0)(0*)/)[1];const oe=te.div(re).toString();return re.length===1?te=oe:te=oe+"."+ie,ne&&(te="-"+te),te}function parseFixed(te,ee){ee==null&&(ee=0);const re=getMultiplier(ee);(typeof te!="string"||!te.match(/^-?[0-9.]+$/))&&logger$1c.throwArgumentError("invalid decimal value","value",te);const ne=te.substring(0,1)==="-";ne&&(te=te.substring(1)),te==="."&&logger$1c.throwArgumentError("missing value","value",te);const ie=te.split(".");ie.length>2&&logger$1c.throwArgumentError("too many decimal points","value",te);let oe=ie[0],se=ie[1];for(oe||(oe="0"),se||(se="0");se[se.length-1]==="0";)se=se.substring(0,se.length-1);for(se.length>re.length-1&&throwFault$4("fractional component exceeds decimals","underflow","parseFixed"),se===""&&(se="0");se.length<re.length-1;)se+="0";const ae=BigNumber$4.from(oe),fe=BigNumber$4.from(se);let ue=ae.mul(re).add(fe);return ne&&(ue=ue.mul(NegativeOne$3)),ue}class FixedFormat{constructor(ee,re,ne,ie){ee!==_constructorGuard$8&&logger$1c.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=re,this.width=ne,this.decimals=ie,this.name=(re?"":"u")+"fixed"+String(ne)+"x"+String(ie),this._multiplier=getMultiplier(ie),Object.freeze(this)}static from(ee){if(ee instanceof FixedFormat)return ee;typeof ee=="number"&&(ee=`fixed128x${ee}`);let re=!0,ne=128,ie=18;if(typeof ee=="string"){if(ee!=="fixed")if(ee==="ufixed")re=!1;else{const oe=ee.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);oe||logger$1c.throwArgumentError("invalid fixed format","format",ee),re=oe[1]!=="u",ne=parseInt(oe[2]),ie=parseInt(oe[3])}}else if(ee){const oe=(se,ae,fe)=>ee[se]==null?fe:(typeof ee[se]!==ae&&logger$1c.throwArgumentError("invalid fixed format ("+se+" not "+ae+")","format."+se,ee[se]),ee[se]);re=oe("signed","boolean",re),ne=oe("width","number",ne),ie=oe("decimals","number",ie)}return ne%8&&logger$1c.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",ne),ie>80&&logger$1c.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",ie),new FixedFormat(_constructorGuard$8,re,ne,ie)}}class FixedNumber{constructor(ee,re,ne,ie){logger$1c.checkNew(new.target,FixedNumber),ee!==_constructorGuard$8&&logger$1c.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=ie,this._hex=re,this._value=ne,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(ee){this.format.name!==ee.format.name&&logger$1c.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",ee)}addUnsafe(ee){this._checkFormat(ee);const re=parseFixed(this._value,this.format.decimals),ne=parseFixed(ee._value,ee.format.decimals);return FixedNumber.fromValue(re.add(ne),this.format.decimals,this.format)}subUnsafe(ee){this._checkFormat(ee);const re=parseFixed(this._value,this.format.decimals),ne=parseFixed(ee._value,ee.format.decimals);return FixedNumber.fromValue(re.sub(ne),this.format.decimals,this.format)}mulUnsafe(ee){this._checkFormat(ee);const re=parseFixed(this._value,this.format.decimals),ne=parseFixed(ee._value,ee.format.decimals);return FixedNumber.fromValue(re.mul(ne).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(ee){this._checkFormat(ee);const re=parseFixed(this._value,this.format.decimals),ne=parseFixed(ee._value,ee.format.decimals);return FixedNumber.fromValue(re.mul(this.format._multiplier).div(ne),this.format.decimals,this.format)}floor(){const ee=this.toString().split(".");ee.length===1&&ee.push("0");let re=FixedNumber.from(ee[0],this.format);const ne=!ee[1].match(/^(0*)$/);return this.isNegative()&&ne&&(re=re.subUnsafe(ONE.toFormat(re.format))),re}ceiling(){const ee=this.toString().split(".");ee.length===1&&ee.push("0");let re=FixedNumber.from(ee[0],this.format);const ne=!ee[1].match(/^(0*)$/);return!this.isNegative()&&ne&&(re=re.addUnsafe(ONE.toFormat(re.format))),re}round(ee){ee==null&&(ee=0);const re=this.toString().split(".");if(re.length===1&&re.push("0"),(ee<0||ee>80||ee%1)&&logger$1c.throwArgumentError("invalid decimal count","decimals",ee),re[1].length<=ee)return this;const ne=FixedNumber.from("1"+zeros$1.substring(0,ee),this.format),ie=BUMP.toFormat(this.format);return this.mulUnsafe(ne).addUnsafe(ie).floor().divUnsafe(ne)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(ee){if(ee==null)return this._hex;ee%8&&logger$1c.throwArgumentError("invalid byte width","width",ee);const re=BigNumber$4.from(this._hex).fromTwos(this.format.width).toTwos(ee).toHexString();return hexZeroPad$5(re,ee/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(ee){return FixedNumber.fromString(this._value,ee)}static fromValue(ee,re,ne){return ne==null&&re!=null&&!isBigNumberish(re)&&(ne=re,re=null),re==null&&(re=0),ne==null&&(ne="fixed"),FixedNumber.fromString(formatFixed(ee,re),FixedFormat.from(ne))}static fromString(ee,re){re==null&&(re="fixed");const ne=FixedFormat.from(re),ie=parseFixed(ee,ne.decimals);!ne.signed&&ie.lt(Zero$4)&&throwFault$4("unsigned value cannot be negative","overflow","value",ee);let oe=null;ne.signed?oe=ie.toTwos(ne.width).toHexString():(oe=ie.toHexString(),oe=hexZeroPad$5(oe,ne.width/8));const se=formatFixed(ie,ne.decimals);return new FixedNumber(_constructorGuard$8,oe,se,ne)}static fromBytes(ee,re){re==null&&(re="fixed");const ne=FixedFormat.from(re);if(arrayify$e(ee).length>ne.width/8)throw new Error("overflow");let ie=BigNumber$4.from(ee);ne.signed&&(ie=ie.fromTwos(ne.width));const oe=ie.toTwos((ne.signed?0:1)+ne.width).toHexString(),se=formatFixed(ie,ne.decimals);return new FixedNumber(_constructorGuard$8,oe,se,ne)}static from(ee,re){if(typeof ee=="string")return FixedNumber.fromString(ee,re);if(isBytes$e(ee))return FixedNumber.fromBytes(ee,re);try{return FixedNumber.fromValue(ee,0,re)}catch(ne){if(ne.code!==Logger$g.errors.INVALID_ARGUMENT)throw ne}return logger$1c.throwArgumentError("invalid FixedNumber value","value",ee)}static isFixedNumber(ee){return!!(ee&&ee._isFixedNumber)}}const ONE=FixedNumber.from(1),BUMP=FixedNumber.from("0.5"),version$1p="properties/5.6.0";var __awaiter$f=globalThis&&globalThis.__awaiter||function(te,ee,re,ne){function ie(oe){return oe instanceof re?oe:new re(function(se){se(oe)})}return new(re||(re=Promise))(function(oe,se){function ae(le){try{ue(ne.next(le))}catch(pe){se(pe)}}function fe(le){try{ue(ne.throw(le))}catch(pe){se(pe)}}function ue(le){le.done?oe(le.value):ie(le.value).then(ae,fe)}ue((ne=ne.apply(te,ee||[])).next())})};const logger$1b=new Logger$g(version$1p);function defineReadOnly$6(te,ee,re){Object.defineProperty(te,ee,{enumerable:!0,value:re,writable:!1})}function getStatic$1(te,ee){for(let re=0;re<32;re++){if(te[ee])return te[ee];if(!te.prototype||typeof te.prototype!="object")break;te=Object.getPrototypeOf(te.prototype).constructor}return null}function resolveProperties$1(te){return __awaiter$f(this,void 0,void 0,function*(){const ee=Object.keys(te).map(ne=>{const ie=te[ne];return Promise.resolve(ie).then(oe=>({key:ne,value:oe}))});return(yield Promise.all(ee)).reduce((ne,ie)=>(ne[ie.key]=ie.value,ne),{})})}function checkProperties$2(te,ee){(!te||typeof te!="object")&&logger$1b.throwArgumentError("invalid object","object",te),Object.keys(te).forEach(re=>{ee[re]||logger$1b.throwArgumentError("invalid object key - "+re,"transaction:"+re,te)})}function shallowCopy$3(te){const ee={};for(const re in te)ee[re]=te[re];return ee}const opaque$2={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function _isFrozen$2(te){if(te==null||opaque$2[typeof te])return!0;if(Array.isArray(te)||typeof te=="object"){if(!Object.isFrozen(te))return!1;const ee=Object.keys(te);for(let re=0;re<ee.length;re++){let ne=null;try{ne=te[ee[re]]}catch{continue}if(!_isFrozen$2(ne))return!1}return!0}return logger$1b.throwArgumentError(`Cannot deepCopy ${typeof te}`,"object",te)}function _deepCopy$2(te){if(_isFrozen$2(te))return te;if(Array.isArray(te))return Object.freeze(te.map(ee=>deepCopy$2(ee)));if(typeof te=="object"){const ee={};for(const re in te){const ne=te[re];ne!==void 0&&defineReadOnly$6(ee,re,deepCopy$2(ne))}return ee}return logger$1b.throwArgumentError(`Cannot deepCopy ${typeof te}`,"object",te)}function deepCopy$2(te){return _deepCopy$2(te)}class Description$1{constructor(ee){for(const re in ee)this[re]=deepCopy$2(ee[re])}}const version$1o="abi/5.5.0",logger$1a=new Logger$g(version$1o),_constructorGuard$7={};let ModifiersBytes={calldata:!0,memory:!0,storage:!0},ModifiersNest={calldata:!0,memory:!0};function checkModifier(te,ee){if(te==="bytes"||te==="string"){if(ModifiersBytes[ee])return!0}else if(te==="address"){if(ee==="payable")return!0}else if((te.indexOf("[")>=0||te==="tuple")&&ModifiersNest[ee])return!0;return(ModifiersBytes[ee]||ee==="payable")&&logger$1a.throwArgumentError("invalid modifier","name",ee),!1}function parseParamType(te,ee){let re=te;function ne(ae){logger$1a.throwArgumentError(`unexpected character at position ${ae}`,"param",te)}te=te.replace(/\s/g," ");function ie(ae){let fe={type:"",name:"",parent:ae,state:{allowType:!0}};return ee&&(fe.indexed=!1),fe}let oe={type:"",name:"",state:{allowType:!0}},se=oe;for(let ae=0;ae<te.length;ae++){let fe=te[ae];switch(fe){case"(":se.state.allowType&&se.type===""?se.type="tuple":se.state.allowParams||ne(ae),se.state.allowType=!1,se.type=verifyType(se.type),se.components=[ie(se)],se=se.components[0];break;case")":delete se.state,se.name==="indexed"&&(ee||ne(ae),se.indexed=!0,se.name=""),checkModifier(se.type,se.name)&&(se.name=""),se.type=verifyType(se.type);let ue=se;se=se.parent,se||ne(ae),delete ue.parent,se.state.allowParams=!1,se.state.allowName=!0,se.state.allowArray=!0;break;case",":delete se.state,se.name==="indexed"&&(ee||ne(ae),se.indexed=!0,se.name=""),checkModifier(se.type,se.name)&&(se.name=""),se.type=verifyType(se.type);let le=ie(se.parent);se.parent.components.push(le),delete se.parent,se=le;break;case" ":se.state.allowType&&se.type!==""&&(se.type=verifyType(se.type),delete se.state.allowType,se.state.allowName=!0,se.state.allowParams=!0),se.state.allowName&&se.name!==""&&(se.name==="indexed"?(ee||ne(ae),se.indexed&&ne(ae),se.indexed=!0,se.name=""):checkModifier(se.type,se.name)?se.name="":se.state.allowName=!1);break;case"[":se.state.allowArray||ne(ae),se.type+=fe,se.state.allowArray=!1,se.state.allowName=!1,se.state.readArray=!0;break;case"]":se.state.readArray||ne(ae),se.type+=fe,se.state.readArray=!1,se.state.allowArray=!0,se.state.allowName=!0;break;default:se.state.allowType?(se.type+=fe,se.state.allowParams=!0,se.state.allowArray=!0):se.state.allowName?(se.name+=fe,delete se.state.allowArray):se.state.readArray?se.type+=fe:ne(ae)}}return se.parent&&logger$1a.throwArgumentError("unexpected eof","param",te),delete oe.state,se.name==="indexed"?(ee||ne(re.length-7),se.indexed&&ne(re.length-7),se.indexed=!0,se.name=""):checkModifier(se.type,se.name)&&(se.name=""),oe.type=verifyType(oe.type),oe}function populate(te,ee){for(let re in ee)defineReadOnly$6(te,re,ee[re])}const FormatTypes=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),paramTypeArray=new RegExp(/^(.*)\[([0-9]*)\]$/);class ParamType{constructor(ee,re){ee!==_constructorGuard$7&&logger$1a.throwError("use fromString",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),populate(this,re);let ne=this.type.match(paramTypeArray);ne?populate(this,{arrayLength:parseInt(ne[2]||"-1"),arrayChildren:ParamType.fromObject({type:ne[1],components:this.components}),baseType:"array"}):populate(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(ee){if(ee||(ee=FormatTypes.sighash),FormatTypes[ee]||logger$1a.throwArgumentError("invalid format type","format",ee),ee===FormatTypes.json){let ne={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(ne.indexed=this.indexed),this.components&&(ne.components=this.components.map(ie=>JSON.parse(ie.format(ee)))),JSON.stringify(ne)}let re="";return this.baseType==="array"?(re+=this.arrayChildren.format(ee),re+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(ee!==FormatTypes.sighash&&(re+=this.type),re+="("+this.components.map(ne=>ne.format(ee)).join(ee===FormatTypes.full?", ":",")+")"):re+=this.type,ee!==FormatTypes.sighash&&(this.indexed===!0&&(re+=" indexed"),ee===FormatTypes.full&&this.name&&(re+=" "+this.name)),re}static from(ee,re){return typeof ee=="string"?ParamType.fromString(ee,re):ParamType.fromObject(ee)}static fromObject(ee){return ParamType.isParamType(ee)?ee:new ParamType(_constructorGuard$7,{name:ee.name||null,type:verifyType(ee.type),indexed:ee.indexed==null?null:!!ee.indexed,components:ee.components?ee.components.map(ParamType.fromObject):null})}static fromString(ee,re){function ne(ie){return ParamType.fromObject({name:ie.name,type:ie.type,indexed:ie.indexed,components:ie.components})}return ne(parseParamType(ee,!!re))}static isParamType(ee){return!!(ee!=null&&ee._isParamType)}}function parseParams(te,ee){return splitNesting(te).map(re=>ParamType.fromString(re,ee))}class Fragment{constructor(ee,re){ee!==_constructorGuard$7&&logger$1a.throwError("use a static from method",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),populate(this,re),this._isFragment=!0,Object.freeze(this)}static from(ee){return Fragment.isFragment(ee)?ee:typeof ee=="string"?Fragment.fromString(ee):Fragment.fromObject(ee)}static fromObject(ee){if(Fragment.isFragment(ee))return ee;switch(ee.type){case"function":return FunctionFragment.fromObject(ee);case"event":return EventFragment.fromObject(ee);case"constructor":return ConstructorFragment.fromObject(ee);case"error":return ErrorFragment.fromObject(ee);case"fallback":case"receive":return null}return logger$1a.throwArgumentError("invalid fragment object","value",ee)}static fromString(ee){return ee=ee.replace(/\s/g," "),ee=ee.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),ee=ee.trim(),ee.split(" ")[0]==="event"?EventFragment.fromString(ee.substring(5).trim()):ee.split(" ")[0]==="function"?FunctionFragment.fromString(ee.substring(8).trim()):ee.split("(")[0].trim()==="constructor"?ConstructorFragment.fromString(ee.trim()):ee.split(" ")[0]==="error"?ErrorFragment.fromString(ee.substring(5).trim()):logger$1a.throwArgumentError("unsupported fragment","value",ee)}static isFragment(ee){return!!(ee&&ee._isFragment)}}class EventFragment extends Fragment{format(ee){if(ee||(ee=FormatTypes.sighash),FormatTypes[ee]||logger$1a.throwArgumentError("invalid format type","format",ee),ee===FormatTypes.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(ne=>JSON.parse(ne.format(ee)))});let re="";return ee!==FormatTypes.sighash&&(re+="event "),re+=this.name+"("+this.inputs.map(ne=>ne.format(ee)).join(ee===FormatTypes.full?", ":",")+") ",ee!==FormatTypes.sighash&&this.anonymous&&(re+="anonymous "),re.trim()}static from(ee){return typeof ee=="string"?EventFragment.fromString(ee):EventFragment.fromObject(ee)}static fromObject(ee){if(EventFragment.isEventFragment(ee))return ee;ee.type!=="event"&&logger$1a.throwArgumentError("invalid event object","value",ee);const re={name:verifyIdentifier(ee.name),anonymous:ee.anonymous,inputs:ee.inputs?ee.inputs.map(ParamType.fromObject):[],type:"event"};return new EventFragment(_constructorGuard$7,re)}static fromString(ee){let re=ee.match(regexParen);re||logger$1a.throwArgumentError("invalid event string","value",ee);let ne=!1;return re[3].split(" ").forEach(ie=>{switch(ie.trim()){case"anonymous":ne=!0;break;case"":break;default:logger$1a.warn("unknown modifier: "+ie)}}),EventFragment.fromObject({name:re[1].trim(),anonymous:ne,inputs:parseParams(re[2],!0),type:"event"})}static isEventFragment(ee){return ee&&ee._isFragment&&ee.type==="event"}}function parseGas(te,ee){ee.gas=null;let re=te.split("@");return re.length!==1?(re.length>2&&logger$1a.throwArgumentError("invalid human-readable ABI signature","value",te),re[1].match(/^[0-9]+$/)||logger$1a.throwArgumentError("invalid human-readable ABI signature gas","value",te),ee.gas=BigNumber$4.from(re[1]),re[0]):te}function parseModifiers(te,ee){ee.constant=!1,ee.payable=!1,ee.stateMutability="nonpayable",te.split(" ").forEach(re=>{switch(re.trim()){case"constant":ee.constant=!0;break;case"payable":ee.payable=!0,ee.stateMutability="payable";break;case"nonpayable":ee.payable=!1,ee.stateMutability="nonpayable";break;case"pure":ee.constant=!0,ee.stateMutability="pure";break;case"view":ee.constant=!0,ee.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+re)}})}function verifyState(te){let ee={constant:!1,payable:!0,stateMutability:"payable"};return te.stateMutability!=null?(ee.stateMutability=te.stateMutability,ee.constant=ee.stateMutability==="view"||ee.stateMutability==="pure",te.constant!=null&&!!te.constant!==ee.constant&&logger$1a.throwArgumentError("cannot have constant function with mutability "+ee.stateMutability,"value",te),ee.payable=ee.stateMutability==="payable",te.payable!=null&&!!te.payable!==ee.payable&&logger$1a.throwArgumentError("cannot have payable function with mutability "+ee.stateMutability,"value",te)):te.payable!=null?(ee.payable=!!te.payable,te.constant==null&&!ee.payable&&te.type!=="constructor"&&logger$1a.throwArgumentError("unable to determine stateMutability","value",te),ee.constant=!!te.constant,ee.constant?ee.stateMutability="view":ee.stateMutability=ee.payable?"payable":"nonpayable",ee.payable&&ee.constant&&logger$1a.throwArgumentError("cannot have constant payable function","value",te)):te.constant!=null?(ee.constant=!!te.constant,ee.payable=!ee.constant,ee.stateMutability=ee.constant?"view":"payable"):te.type!=="constructor"&&logger$1a.throwArgumentError("unable to determine stateMutability","value",te),ee}class ConstructorFragment extends Fragment{format(ee){if(ee||(ee=FormatTypes.sighash),FormatTypes[ee]||logger$1a.throwArgumentError("invalid format type","format",ee),ee===FormatTypes.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(ne=>JSON.parse(ne.format(ee)))});ee===FormatTypes.sighash&&logger$1a.throwError("cannot format a constructor for sighash",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let re="constructor("+this.inputs.map(ne=>ne.format(ee)).join(ee===FormatTypes.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(re+=this.stateMutability+" "),re.trim()}static from(ee){return typeof ee=="string"?ConstructorFragment.fromString(ee):ConstructorFragment.fromObject(ee)}static fromObject(ee){if(ConstructorFragment.isConstructorFragment(ee))return ee;ee.type!=="constructor"&&logger$1a.throwArgumentError("invalid constructor object","value",ee);let re=verifyState(ee);re.constant&&logger$1a.throwArgumentError("constructor cannot be constant","value",ee);const ne={name:null,type:ee.type,inputs:ee.inputs?ee.inputs.map(ParamType.fromObject):[],payable:re.payable,stateMutability:re.stateMutability,gas:ee.gas?BigNumber$4.from(ee.gas):null};return new ConstructorFragment(_constructorGuard$7,ne)}static fromString(ee){let re={type:"constructor"};ee=parseGas(ee,re);let ne=ee.match(regexParen);return(!ne||ne[1].trim()!=="constructor")&&logger$1a.throwArgumentError("invalid constructor string","value",ee),re.inputs=parseParams(ne[2].trim(),!1),parseModifiers(ne[3].trim(),re),ConstructorFragment.fromObject(re)}static isConstructorFragment(ee){return ee&&ee._isFragment&&ee.type==="constructor"}}class FunctionFragment extends ConstructorFragment{format(ee){if(ee||(ee=FormatTypes.sighash),FormatTypes[ee]||logger$1a.throwArgumentError("invalid format type","format",ee),ee===FormatTypes.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(ne=>JSON.parse(ne.format(ee))),outputs:this.outputs.map(ne=>JSON.parse(ne.format(ee)))});let re="";return ee!==FormatTypes.sighash&&(re+="function "),re+=this.name+"("+this.inputs.map(ne=>ne.format(ee)).join(ee===FormatTypes.full?", ":",")+") ",ee!==FormatTypes.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(re+=this.stateMutability+" "):this.constant&&(re+="view "),this.outputs&&this.outputs.length&&(re+="returns ("+this.outputs.map(ne=>ne.format(ee)).join(", ")+") "),this.gas!=null&&(re+="@"+this.gas.toString()+" ")),re.trim()}static from(ee){return typeof ee=="string"?FunctionFragment.fromString(ee):FunctionFragment.fromObject(ee)}static fromObject(ee){if(FunctionFragment.isFunctionFragment(ee))return ee;ee.type!=="function"&&logger$1a.throwArgumentError("invalid function object","value",ee);let re=verifyState(ee);const ne={type:ee.type,name:verifyIdentifier(ee.name),constant:re.constant,inputs:ee.inputs?ee.inputs.map(ParamType.fromObject):[],outputs:ee.outputs?ee.outputs.map(ParamType.fromObject):[],payable:re.payable,stateMutability:re.stateMutability,gas:ee.gas?BigNumber$4.from(ee.gas):null};return new FunctionFragment(_constructorGuard$7,ne)}static fromString(ee){let re={type:"function"};ee=parseGas(ee,re);let ne=ee.split(" returns ");ne.length>2&&logger$1a.throwArgumentError("invalid function string","value",ee);let ie=ne[0].match(regexParen);if(ie||logger$1a.throwArgumentError("invalid function signature","value",ee),re.name=ie[1].trim(),re.name&&verifyIdentifier(re.name),re.inputs=parseParams(ie[2],!1),parseModifiers(ie[3].trim(),re),ne.length>1){let oe=ne[1].match(regexParen);(oe[1].trim()!=""||oe[3].trim()!="")&&logger$1a.throwArgumentError("unexpected tokens","value",ee),re.outputs=parseParams(oe[2],!1)}else re.outputs=[];return FunctionFragment.fromObject(re)}static isFunctionFragment(ee){return ee&&ee._isFragment&&ee.type==="function"}}function checkForbidden(te){const ee=te.format();return(ee==="Error(string)"||ee==="Panic(uint256)")&&logger$1a.throwArgumentError(`cannot specify user defined ${ee} error`,"fragment",te),te}class ErrorFragment extends Fragment{format(ee){if(ee||(ee=FormatTypes.sighash),FormatTypes[ee]||logger$1a.throwArgumentError("invalid format type","format",ee),ee===FormatTypes.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(ne=>JSON.parse(ne.format(ee)))});let re="";return ee!==FormatTypes.sighash&&(re+="error "),re+=this.name+"("+this.inputs.map(ne=>ne.format(ee)).join(ee===FormatTypes.full?", ":",")+") ",re.trim()}static from(ee){return typeof ee=="string"?ErrorFragment.fromString(ee):ErrorFragment.fromObject(ee)}static fromObject(ee){if(ErrorFragment.isErrorFragment(ee))return ee;ee.type!=="error"&&logger$1a.throwArgumentError("invalid error object","value",ee);const re={type:ee.type,name:verifyIdentifier(ee.name),inputs:ee.inputs?ee.inputs.map(ParamType.fromObject):[]};return checkForbidden(new ErrorFragment(_constructorGuard$7,re))}static fromString(ee){let re={type:"error"},ne=ee.match(regexParen);return ne||logger$1a.throwArgumentError("invalid error signature","value",ee),re.name=ne[1].trim(),re.name&&verifyIdentifier(re.name),re.inputs=parseParams(ne[2],!1),checkForbidden(ErrorFragment.fromObject(re))}static isErrorFragment(ee){return ee&&ee._isFragment&&ee.type==="error"}}function verifyType(te){return te.match(/^uint($|[^1-9])/)?te="uint256"+te.substring(4):te.match(/^int($|[^1-9])/)&&(te="int256"+te.substring(3)),te}const regexIdentifier=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function verifyIdentifier(te){return(!te||!te.match(regexIdentifier))&&logger$1a.throwArgumentError(`invalid identifier "${te}"`,"value",te),te}const regexParen=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function splitNesting(te){te=te.trim();let ee=[],re="",ne=0;for(let ie=0;ie<te.length;ie++){let oe=te[ie];oe===","&&ne===0?(ee.push(re),re=""):(re+=oe,oe==="("?ne++:oe===")"&&(ne--,ne===-1&&logger$1a.throwArgumentError("unbalanced parenthesis","value",te)))}return re&&ee.push(re),ee}const logger$19=new Logger$g(version$1o);function checkResultErrors(te){const ee=[],re=function(ne,ie){if(!!Array.isArray(ie))for(let oe in ie){const se=ne.slice();se.push(oe);try{re(se,ie[oe])}catch(ae){ee.push({path:se,error:ae})}}};return re([],te),ee}class Coder{constructor(ee,re,ne,ie){this.name=ee,this.type=re,this.localName=ne,this.dynamic=ie}_throwError(ee,re){logger$19.throwArgumentError(ee,this.localName,re)}}class Writer{constructor(ee){defineReadOnly$6(this,"wordSize",ee||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(ee)}get data(){return hexConcat$3(this._data)}get length(){return this._dataLength}_writeData(ee){return this._data.push(ee),this._dataLength+=ee.length,ee.length}appendWriter(ee){return this._writeData(concat$7(ee._data))}writeBytes(ee){let re=arrayify$e(ee);const ne=re.length%this.wordSize;return ne&&(re=concat$7([re,this._padding.slice(ne)])),this._writeData(re)}_getValue(ee){let re=arrayify$e(BigNumber$4.from(ee));return re.length>this.wordSize&&logger$19.throwError("value out-of-bounds",Logger$g.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:re.length}),re.length%this.wordSize&&(re=concat$7([this._padding.slice(re.length%this.wordSize),re])),re}writeValue(ee){return this._writeData(this._getValue(ee))}writeUpdatableValue(){const ee=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,re=>{this._data[ee]=this._getValue(re)}}}class Reader{constructor(ee,re,ne,ie){defineReadOnly$6(this,"_data",arrayify$e(ee)),defineReadOnly$6(this,"wordSize",re||32),defineReadOnly$6(this,"_coerceFunc",ne),defineReadOnly$6(this,"allowLoose",ie),this._offset=0}get data(){return hexlify$9(this._data)}get consumed(){return this._offset}static coerce(ee,re){let ne=ee.match("^u?int([0-9]+)$");return ne&&parseInt(ne[1])<=48&&(re=re.toNumber()),re}coerce(ee,re){return this._coerceFunc?this._coerceFunc(ee,re):Reader.coerce(ee,re)}_peekBytes(ee,re,ne){let ie=Math.ceil(re/this.wordSize)*this.wordSize;return this._offset+ie>this._data.length&&(this.allowLoose&&ne&&this._offset+re<=this._data.length?ie=re:logger$19.throwError("data out-of-bounds",Logger$g.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+ie})),this._data.slice(this._offset,this._offset+ie)}subReader(ee){return new Reader(this._data.slice(this._offset+ee),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(ee,re){let ne=this._peekBytes(0,ee,!!re);return this._offset+=ne.length,ne.slice(0,ee)}readValue(){return BigNumber$4.from(this.readBytes(this.wordSize))}}var sha3$1={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(te){(function(){var ee="input is invalid type",re="finalize already called",ne=typeof window=="object",ie=ne?window:{};ie.JS_SHA3_NO_WINDOW&&(ne=!1);var oe=!ne&&typeof self=="object",se=!ie.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;se?ie=commonjsGlobal$1:oe&&(ie=self);var ae=!ie.JS_SHA3_NO_COMMON_JS&&!0&&te.exports,fe=!ie.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",ue="0123456789abcdef".split(""),le=[31,7936,2031616,520093696],pe=[4,1024,262144,67108864],rr=[1,256,65536,16777216],cr=[6,1536,393216,100663296],ar=[0,8,16,24],mr=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],pr=[224,256,384,512],yr=[128,256],vr=["hex","buffer","arrayBuffer","array","digest"],Er={"128":168,"256":136};(ie.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(br){return Object.prototype.toString.call(br)==="[object Array]"}),fe&&(ie.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(br){return typeof br=="object"&&br.buffer&&br.buffer.constructor===ArrayBuffer});for(var Tr=function(br,Cr,Lr){return function(Dr){return new ye(br,Cr,br).update(Dr)[Lr]()}},Ir=function(br,Cr,Lr){return function(Dr,Wr){return new ye(br,Cr,Wr).update(Dr)[Lr]()}},Or=function(br,Cr,Lr){return function(Dr,Wr,Qr,Zr){return ce["cshake"+br].update(Dr,Wr,Qr,Zr)[Lr]()}},Hr=function(br,Cr,Lr){return function(Dr,Wr,Qr,Zr){return ce["kmac"+br].update(Dr,Wr,Qr,Zr)[Lr]()}},Pr=function(br,Cr,Lr,Dr){for(var Wr=0;Wr<vr.length;++Wr){var Qr=vr[Wr];br[Qr]=Cr(Lr,Dr,Qr)}return br},Br=function(br,Cr){var Lr=Tr(br,Cr,"hex");return Lr.create=function(){return new ye(br,Cr,br)},Lr.update=function(Dr){return Lr.create().update(Dr)},Pr(Lr,Tr,br,Cr)},Nr=function(br,Cr){var Lr=Ir(br,Cr,"hex");return Lr.create=function(Dr){return new ye(br,Cr,Dr)},Lr.update=function(Dr,Wr){return Lr.create(Wr).update(Dr)},Pr(Lr,Ir,br,Cr)},dr=function(br,Cr){var Lr=Er[br],Dr=Or(br,Cr,"hex");return Dr.create=function(Wr,Qr,Zr){return!Qr&&!Zr?ce["shake"+br].create(Wr):new ye(br,Cr,Wr).bytepad([Qr,Zr],Lr)},Dr.update=function(Wr,Qr,Zr,Xr){return Dr.create(Qr,Zr,Xr).update(Wr)},Pr(Dr,Or,br,Cr)},tr=function(br,Cr){var Lr=Er[br],Dr=Hr(br,Cr,"hex");return Dr.create=function(Wr,Qr,Zr){return new gr(br,Cr,Qr).bytepad(["KMAC",Zr],Lr).bytepad([Wr],Lr)},Dr.update=function(Wr,Qr,Zr,Xr){return Dr.create(Wr,Zr,Xr).update(Qr)},Pr(Dr,Hr,br,Cr)},ve=[{name:"keccak",padding:rr,bits:pr,createMethod:Br},{name:"sha3",padding:cr,bits:pr,createMethod:Br},{name:"shake",padding:le,bits:yr,createMethod:Nr},{name:"cshake",padding:pe,bits:yr,createMethod:dr},{name:"kmac",padding:pe,bits:yr,createMethod:tr}],ce={},me=[],ir=0;ir<ve.length;++ir)for(var ur=ve[ir],lr=ur.bits,er=0;er<lr.length;++er){var nr=ur.name+"_"+lr[er];if(me.push(nr),ce[nr]=ur.createMethod(lr[er],ur.padding),ur.name!=="sha3"){var or=ur.name+lr[er];me.push(or),ce[or]=ce[nr]}}function ye(br,Cr,Lr){this.blocks=[],this.s=[],this.padding=Cr,this.outputBits=Lr,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(br<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=Lr>>5,this.extraBytes=(Lr&31)>>3;for(var Dr=0;Dr<50;++Dr)this.s[Dr]=0}ye.prototype.update=function(br){if(this.finalized)throw new Error(re);var Cr,Lr=typeof br;if(Lr!=="string"){if(Lr==="object"){if(br===null)throw new Error(ee);if(fe&&br.constructor===ArrayBuffer)br=new Uint8Array(br);else if(!Array.isArray(br)&&(!fe||!ArrayBuffer.isView(br)))throw new Error(ee)}else throw new Error(ee);Cr=!0}for(var Dr=this.blocks,Wr=this.byteCount,Qr=br.length,Zr=this.blockCount,Xr=0,Fr=this.s,Ur,Kr;Xr<Qr;){if(this.reset)for(this.reset=!1,Dr[0]=this.block,Ur=1;Ur<Zr+1;++Ur)Dr[Ur]=0;if(Cr)for(Ur=this.start;Xr<Qr&&Ur<Wr;++Xr)Dr[Ur>>2]|=br[Xr]<<ar[Ur++&3];else for(Ur=this.start;Xr<Qr&&Ur<Wr;++Xr)Kr=br.charCodeAt(Xr),Kr<128?Dr[Ur>>2]|=Kr<<ar[Ur++&3]:Kr<2048?(Dr[Ur>>2]|=(192|Kr>>6)<<ar[Ur++&3],Dr[Ur>>2]|=(128|Kr&63)<<ar[Ur++&3]):Kr<55296||Kr>=57344?(Dr[Ur>>2]|=(224|Kr>>12)<<ar[Ur++&3],Dr[Ur>>2]|=(128|Kr>>6&63)<<ar[Ur++&3],Dr[Ur>>2]|=(128|Kr&63)<<ar[Ur++&3]):(Kr=65536+((Kr&1023)<<10|br.charCodeAt(++Xr)&1023),Dr[Ur>>2]|=(240|Kr>>18)<<ar[Ur++&3],Dr[Ur>>2]|=(128|Kr>>12&63)<<ar[Ur++&3],Dr[Ur>>2]|=(128|Kr>>6&63)<<ar[Ur++&3],Dr[Ur>>2]|=(128|Kr&63)<<ar[Ur++&3]);if(this.lastByteIndex=Ur,Ur>=Wr){for(this.start=Ur-Wr,this.block=Dr[Zr],Ur=0;Ur<Zr;++Ur)Fr[Ur]^=Dr[Ur];Ar(Fr),this.reset=!0}else this.start=Ur}return this},ye.prototype.encode=function(br,Cr){var Lr=br&255,Dr=1,Wr=[Lr];for(br=br>>8,Lr=br&255;Lr>0;)Wr.unshift(Lr),br=br>>8,Lr=br&255,++Dr;return Cr?Wr.push(Dr):Wr.unshift(Dr),this.update(Wr),Wr.length},ye.prototype.encodeString=function(br){var Cr,Lr=typeof br;if(Lr!=="string"){if(Lr==="object"){if(br===null)throw new Error(ee);if(fe&&br.constructor===ArrayBuffer)br=new Uint8Array(br);else if(!Array.isArray(br)&&(!fe||!ArrayBuffer.isView(br)))throw new Error(ee)}else throw new Error(ee);Cr=!0}var Dr=0,Wr=br.length;if(Cr)Dr=Wr;else for(var Qr=0;Qr<br.length;++Qr){var Zr=br.charCodeAt(Qr);Zr<128?Dr+=1:Zr<2048?Dr+=2:Zr<55296||Zr>=57344?Dr+=3:(Zr=65536+((Zr&1023)<<10|br.charCodeAt(++Qr)&1023),Dr+=4)}return Dr+=this.encode(Dr*8),this.update(br),Dr},ye.prototype.bytepad=function(br,Cr){for(var Lr=this.encode(Cr),Dr=0;Dr<br.length;++Dr)Lr+=this.encodeString(br[Dr]);var Wr=Cr-Lr%Cr,Qr=[];return Qr.length=Wr,this.update(Qr),this},ye.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var br=this.blocks,Cr=this.lastByteIndex,Lr=this.blockCount,Dr=this.s;if(br[Cr>>2]|=this.padding[Cr&3],this.lastByteIndex===this.byteCount)for(br[0]=br[Lr],Cr=1;Cr<Lr+1;++Cr)br[Cr]=0;for(br[Lr-1]|=2147483648,Cr=0;Cr<Lr;++Cr)Dr[Cr]^=br[Cr];Ar(Dr)}},ye.prototype.toString=ye.prototype.hex=function(){this.finalize();for(var br=this.blockCount,Cr=this.s,Lr=this.outputBlocks,Dr=this.extraBytes,Wr=0,Qr=0,Zr="",Xr;Qr<Lr;){for(Wr=0;Wr<br&&Qr<Lr;++Wr,++Qr)Xr=Cr[Wr],Zr+=ue[Xr>>4&15]+ue[Xr&15]+ue[Xr>>12&15]+ue[Xr>>8&15]+ue[Xr>>20&15]+ue[Xr>>16&15]+ue[Xr>>28&15]+ue[Xr>>24&15];Qr%br===0&&(Ar(Cr),Wr=0)}return Dr&&(Xr=Cr[Wr],Zr+=ue[Xr>>4&15]+ue[Xr&15],Dr>1&&(Zr+=ue[Xr>>12&15]+ue[Xr>>8&15]),Dr>2&&(Zr+=ue[Xr>>20&15]+ue[Xr>>16&15])),Zr},ye.prototype.arrayBuffer=function(){this.finalize();var br=this.blockCount,Cr=this.s,Lr=this.outputBlocks,Dr=this.extraBytes,Wr=0,Qr=0,Zr=this.outputBits>>3,Xr;Dr?Xr=new ArrayBuffer(Lr+1<<2):Xr=new ArrayBuffer(Zr);for(var Fr=new Uint32Array(Xr);Qr<Lr;){for(Wr=0;Wr<br&&Qr<Lr;++Wr,++Qr)Fr[Qr]=Cr[Wr];Qr%br===0&&Ar(Cr)}return Dr&&(Fr[Wr]=Cr[Wr],Xr=Xr.slice(0,Zr)),Xr},ye.prototype.buffer=ye.prototype.arrayBuffer,ye.prototype.digest=ye.prototype.array=function(){this.finalize();for(var br=this.blockCount,Cr=this.s,Lr=this.outputBlocks,Dr=this.extraBytes,Wr=0,Qr=0,Zr=[],Xr,Fr;Qr<Lr;){for(Wr=0;Wr<br&&Qr<Lr;++Wr,++Qr)Xr=Qr<<2,Fr=Cr[Wr],Zr[Xr]=Fr&255,Zr[Xr+1]=Fr>>8&255,Zr[Xr+2]=Fr>>16&255,Zr[Xr+3]=Fr>>24&255;Qr%br===0&&Ar(Cr)}return Dr&&(Xr=Qr<<2,Fr=Cr[Wr],Zr[Xr]=Fr&255,Dr>1&&(Zr[Xr+1]=Fr>>8&255),Dr>2&&(Zr[Xr+2]=Fr>>16&255)),Zr};function gr(br,Cr,Lr){ye.call(this,br,Cr,Lr)}gr.prototype=new ye,gr.prototype.finalize=function(){return this.encode(this.outputBits,!0),ye.prototype.finalize.call(this)};var Ar=function(br){var Cr,Lr,Dr,Wr,Qr,Zr,Xr,Fr,Ur,Kr,kr,_r,$r,Mr,jr,qr,Jr,qn,zn,Xn,Jn,Rr,xr,wr,Sr,Gr,Vr,Yr,Qn,ei,Zn,bi,ti,ri,xi,li,ni,wi,ci,ii,$i,hi,oi,Ei,di,si,Si,pi,ai,Ai,gi,fi,Ri,mi,ui,_i,yi,vi,Ni,Mi,Ci,Ti,ki;for(Dr=0;Dr<48;Dr+=2)Wr=br[0]^br[10]^br[20]^br[30]^br[40],Qr=br[1]^br[11]^br[21]^br[31]^br[41],Zr=br[2]^br[12]^br[22]^br[32]^br[42],Xr=br[3]^br[13]^br[23]^br[33]^br[43],Fr=br[4]^br[14]^br[24]^br[34]^br[44],Ur=br[5]^br[15]^br[25]^br[35]^br[45],Kr=br[6]^br[16]^br[26]^br[36]^br[46],kr=br[7]^br[17]^br[27]^br[37]^br[47],_r=br[8]^br[18]^br[28]^br[38]^br[48],$r=br[9]^br[19]^br[29]^br[39]^br[49],Cr=_r^(Zr<<1|Xr>>>31),Lr=$r^(Xr<<1|Zr>>>31),br[0]^=Cr,br[1]^=Lr,br[10]^=Cr,br[11]^=Lr,br[20]^=Cr,br[21]^=Lr,br[30]^=Cr,br[31]^=Lr,br[40]^=Cr,br[41]^=Lr,Cr=Wr^(Fr<<1|Ur>>>31),Lr=Qr^(Ur<<1|Fr>>>31),br[2]^=Cr,br[3]^=Lr,br[12]^=Cr,br[13]^=Lr,br[22]^=Cr,br[23]^=Lr,br[32]^=Cr,br[33]^=Lr,br[42]^=Cr,br[43]^=Lr,Cr=Zr^(Kr<<1|kr>>>31),Lr=Xr^(kr<<1|Kr>>>31),br[4]^=Cr,br[5]^=Lr,br[14]^=Cr,br[15]^=Lr,br[24]^=Cr,br[25]^=Lr,br[34]^=Cr,br[35]^=Lr,br[44]^=Cr,br[45]^=Lr,Cr=Fr^(_r<<1|$r>>>31),Lr=Ur^($r<<1|_r>>>31),br[6]^=Cr,br[7]^=Lr,br[16]^=Cr,br[17]^=Lr,br[26]^=Cr,br[27]^=Lr,br[36]^=Cr,br[37]^=Lr,br[46]^=Cr,br[47]^=Lr,Cr=Kr^(Wr<<1|Qr>>>31),Lr=kr^(Qr<<1|Wr>>>31),br[8]^=Cr,br[9]^=Lr,br[18]^=Cr,br[19]^=Lr,br[28]^=Cr,br[29]^=Lr,br[38]^=Cr,br[39]^=Lr,br[48]^=Cr,br[49]^=Lr,Mr=br[0],jr=br[1],si=br[11]<<4|br[10]>>>28,Si=br[10]<<4|br[11]>>>28,Yr=br[20]<<3|br[21]>>>29,Qn=br[21]<<3|br[20]>>>29,Mi=br[31]<<9|br[30]>>>23,Ci=br[30]<<9|br[31]>>>23,hi=br[40]<<18|br[41]>>>14,oi=br[41]<<18|br[40]>>>14,ri=br[2]<<1|br[3]>>>31,xi=br[3]<<1|br[2]>>>31,qr=br[13]<<12|br[12]>>>20,Jr=br[12]<<12|br[13]>>>20,pi=br[22]<<10|br[23]>>>22,ai=br[23]<<10|br[22]>>>22,ei=br[33]<<13|br[32]>>>19,Zn=br[32]<<13|br[33]>>>19,Ti=br[42]<<2|br[43]>>>30,ki=br[43]<<2|br[42]>>>30,mi=br[5]<<30|br[4]>>>2,ui=br[4]<<30|br[5]>>>2,li=br[14]<<6|br[15]>>>26,ni=br[15]<<6|br[14]>>>26,qn=br[25]<<11|br[24]>>>21,zn=br[24]<<11|br[25]>>>21,Ai=br[34]<<15|br[35]>>>17,gi=br[35]<<15|br[34]>>>17,bi=br[45]<<29|br[44]>>>3,ti=br[44]<<29|br[45]>>>3,wr=br[6]<<28|br[7]>>>4,Sr=br[7]<<28|br[6]>>>4,_i=br[17]<<23|br[16]>>>9,yi=br[16]<<23|br[17]>>>9,wi=br[26]<<25|br[27]>>>7,ci=br[27]<<25|br[26]>>>7,Xn=br[36]<<21|br[37]>>>11,Jn=br[37]<<21|br[36]>>>11,fi=br[47]<<24|br[46]>>>8,Ri=br[46]<<24|br[47]>>>8,Ei=br[8]<<27|br[9]>>>5,di=br[9]<<27|br[8]>>>5,Gr=br[18]<<20|br[19]>>>12,Vr=br[19]<<20|br[18]>>>12,vi=br[29]<<7|br[28]>>>25,Ni=br[28]<<7|br[29]>>>25,ii=br[38]<<8|br[39]>>>24,$i=br[39]<<8|br[38]>>>24,Rr=br[48]<<14|br[49]>>>18,xr=br[49]<<14|br[48]>>>18,br[0]=Mr^~qr&qn,br[1]=jr^~Jr&zn,br[10]=wr^~Gr&Yr,br[11]=Sr^~Vr&Qn,br[20]=ri^~li&wi,br[21]=xi^~ni&ci,br[30]=Ei^~si&pi,br[31]=di^~Si&ai,br[40]=mi^~_i&vi,br[41]=ui^~yi&Ni,br[2]=qr^~qn&Xn,br[3]=Jr^~zn&Jn,br[12]=Gr^~Yr&ei,br[13]=Vr^~Qn&Zn,br[22]=li^~wi&ii,br[23]=ni^~ci&$i,br[32]=si^~pi&Ai,br[33]=Si^~ai&gi,br[42]=_i^~vi&Mi,br[43]=yi^~Ni&Ci,br[4]=qn^~Xn&Rr,br[5]=zn^~Jn&xr,br[14]=Yr^~ei&bi,br[15]=Qn^~Zn&ti,br[24]=wi^~ii&hi,br[25]=ci^~$i&oi,br[34]=pi^~Ai&fi,br[35]=ai^~gi&Ri,br[44]=vi^~Mi&Ti,br[45]=Ni^~Ci&ki,br[6]=Xn^~Rr&Mr,br[7]=Jn^~xr&jr,br[16]=ei^~bi&wr,br[17]=Zn^~ti&Sr,br[26]=ii^~hi&ri,br[27]=$i^~oi&xi,br[36]=Ai^~fi&Ei,br[37]=gi^~Ri&di,br[46]=Mi^~Ti&mi,br[47]=Ci^~ki&ui,br[8]=Rr^~Mr&qr,br[9]=xr^~jr&Jr,br[18]=bi^~wr&Gr,br[19]=ti^~Sr&Vr,br[28]=hi^~ri&li,br[29]=oi^~xi&ni,br[38]=fi^~Ei&si,br[39]=Ri^~di&Si,br[48]=Ti^~mi&_i,br[49]=ki^~ui&yi,br[0]^=mr[Dr],br[1]^=mr[Dr+1]};if(ae)te.exports=ce;else for(ir=0;ir<me.length;++ir)ie[me[ir]]=ce[me[ir]]})()})(sha3$1);var sha3=sha3$1.exports;function keccak256$6(te){return"0x"+sha3.keccak_256(arrayify$e(te))}const version$1n="rlp/5.6.0",logger$18=new Logger$g(version$1n);function arrayifyInteger$3(te){const ee=[];for(;te;)ee.unshift(te&255),te>>=8;return ee}function unarrayifyInteger$2(te,ee,re){let ne=0;for(let ie=0;ie<re;ie++)ne=ne*256+te[ee+ie];return ne}function _encode$3(te){if(Array.isArray(te)){let ne=[];if(te.forEach(function(oe){ne=ne.concat(_encode$3(oe))}),ne.length<=55)return ne.unshift(192+ne.length),ne;const ie=arrayifyInteger$3(ne.length);return ie.unshift(247+ie.length),ie.concat(ne)}isBytesLike$7(te)||logger$18.throwArgumentError("RLP object must be BytesLike","object",te);const ee=Array.prototype.slice.call(arrayify$e(te));if(ee.length===1&&ee[0]<=127)return ee;if(ee.length<=55)return ee.unshift(128+ee.length),ee;const re=arrayifyInteger$3(ee.length);return re.unshift(183+re.length),re.concat(ee)}function encode$9(te){return hexlify$9(_encode$3(te))}function _decodeChildren$2(te,ee,re,ne){const ie=[];for(;re<ee+1+ne;){const oe=_decode$3(te,re);ie.push(oe.result),re+=oe.consumed,re>ee+1+ne&&logger$18.throwError("child data too short",Logger$g.errors.BUFFER_OVERRUN,{})}return{consumed:1+ne,result:ie}}function _decode$3(te,ee){if(te.length===0&&logger$18.throwError("data too short",Logger$g.errors.BUFFER_OVERRUN,{}),te[ee]>=248){const re=te[ee]-247;ee+1+re>te.length&&logger$18.throwError("data short segment too short",Logger$g.errors.BUFFER_OVERRUN,{});const ne=unarrayifyInteger$2(te,ee+1,re);return ee+1+re+ne>te.length&&logger$18.throwError("data long segment too short",Logger$g.errors.BUFFER_OVERRUN,{}),_decodeChildren$2(te,ee,ee+1+re,re+ne)}else if(te[ee]>=192){const re=te[ee]-192;return ee+1+re>te.length&&logger$18.throwError("data array too short",Logger$g.errors.BUFFER_OVERRUN,{}),_decodeChildren$2(te,ee,ee+1,re)}else if(te[ee]>=184){const re=te[ee]-183;ee+1+re>te.length&&logger$18.throwError("data array too short",Logger$g.errors.BUFFER_OVERRUN,{});const ne=unarrayifyInteger$2(te,ee+1,re);ee+1+re+ne>te.length&&logger$18.throwError("data array too short",Logger$g.errors.BUFFER_OVERRUN,{});const ie=hexlify$9(te.slice(ee+1+re,ee+1+re+ne));return{consumed:1+re+ne,result:ie}}else if(te[ee]>=128){const re=te[ee]-128;ee+1+re>te.length&&logger$18.throwError("data too short",Logger$g.errors.BUFFER_OVERRUN,{});const ne=hexlify$9(te.slice(ee+1,ee+1+re));return{consumed:1+re,result:ne}}return{consumed:1,result:hexlify$9(te[ee])}}function decode$a(te){const ee=arrayify$e(te),re=_decode$3(ee,0);return re.consumed!==ee.length&&logger$18.throwArgumentError("invalid rlp data","data",te),re.result}const version$1m="address/5.6.0",logger$17=new Logger$g(version$1m);function getChecksumAddress$4(te){isHexString$j(te,20)||logger$17.throwArgumentError("invalid address","address",te),te=te.toLowerCase();const ee=te.substring(2).split(""),re=new Uint8Array(40);for(let ie=0;ie<40;ie++)re[ie]=ee[ie].charCodeAt(0);const ne=arrayify$e(keccak256$6(re));for(let ie=0;ie<40;ie+=2)ne[ie>>1]>>4>=8&&(ee[ie]=ee[ie].toUpperCase()),(ne[ie>>1]&15)>=8&&(ee[ie+1]=ee[ie+1].toUpperCase());return"0x"+ee.join("")}const MAX_SAFE_INTEGER$6=9007199254740991;function log10$4(te){return Math.log10?Math.log10(te):Math.log(te)/Math.LN10}const ibanLookup$4={};for(let te=0;te<10;te++)ibanLookup$4[String(te)]=String(te);for(let te=0;te<26;te++)ibanLookup$4[String.fromCharCode(65+te)]=String(10+te);const safeDigits$4=Math.floor(log10$4(MAX_SAFE_INTEGER$6));function ibanChecksum$4(te){te=te.toUpperCase(),te=te.substring(4)+te.substring(0,2)+"00";let ee=te.split("").map(ne=>ibanLookup$4[ne]).join("");for(;ee.length>=safeDigits$4;){let ne=ee.substring(0,safeDigits$4);ee=parseInt(ne,10)%97+ee.substring(ne.length)}let re=String(98-parseInt(ee,10)%97);for(;re.length<2;)re="0"+re;return re}function getAddress$4(te){let ee=null;if(typeof te!="string"&&logger$17.throwArgumentError("invalid address","address",te),te.match(/^(0x)?[0-9a-fA-F]{40}$/))te.substring(0,2)!=="0x"&&(te="0x"+te),ee=getChecksumAddress$4(te),te.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&ee!==te&&logger$17.throwArgumentError("bad address checksum","address",te);else if(te.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(te.substring(2,4)!==ibanChecksum$4(te)&&logger$17.throwArgumentError("bad icap checksum","address",te),ee=_base36To16$4(te.substring(4));ee.length<40;)ee="0"+ee;ee=getChecksumAddress$4("0x"+ee)}else logger$17.throwArgumentError("invalid address","address",te);return ee}function getContractAddress$1(te){let ee=null;try{ee=getAddress$4(te.from)}catch{logger$17.throwArgumentError("missing from address","transaction",te)}const re=stripZeros$3(arrayify$e(BigNumber$4.from(te.nonce).toHexString()));return getAddress$4(hexDataSlice$4(keccak256$6(encode$9([ee,re])),12))}class AddressCoder extends Coder{constructor(ee){super("address","address",ee,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(ee,re){try{re=getAddress$4(re)}catch(ne){this._throwError(ne.message,re)}return ee.writeValue(re)}decode(ee){return getAddress$4(hexZeroPad$5(ee.readValue().toHexString(),20))}}class AnonymousCoder extends Coder{constructor(ee){super(ee.name,ee.type,void 0,ee.dynamic);this.coder=ee}defaultValue(){return this.coder.defaultValue()}encode(ee,re){return this.coder.encode(ee,re)}decode(ee){return this.coder.decode(ee)}}const logger$16=new Logger$g(version$1o);function pack$1(te,ee,re){let ne=null;if(Array.isArray(re))ne=re;else if(re&&typeof re=="object"){let fe={};ne=ee.map(ue=>{const le=ue.localName;return le||logger$16.throwError("cannot encode object for signature with missing names",Logger$g.errors.INVALID_ARGUMENT,{argument:"values",coder:ue,value:re}),fe[le]&&logger$16.throwError("cannot encode object for signature with duplicate names",Logger$g.errors.INVALID_ARGUMENT,{argument:"values",coder:ue,value:re}),fe[le]=!0,re[le]})}else logger$16.throwArgumentError("invalid tuple value","tuple",re);ee.length!==ne.length&&logger$16.throwArgumentError("types/value length mismatch","tuple",re);let ie=new Writer(te.wordSize),oe=new Writer(te.wordSize),se=[];ee.forEach((fe,ue)=>{let le=ne[ue];if(fe.dynamic){let pe=oe.length;fe.encode(oe,le);let rr=ie.writeUpdatableValue();se.push(cr=>{rr(cr+pe)})}else fe.encode(ie,le)}),se.forEach(fe=>{fe(ie.length)});let ae=te.appendWriter(ie);return ae+=te.appendWriter(oe),ae}function unpack(te,ee){let re=[],ne=te.subReader(0);ee.forEach(oe=>{let se=null;if(oe.dynamic){let ae=te.readValue(),fe=ne.subReader(ae.toNumber());try{se=oe.decode(fe)}catch(ue){if(ue.code===Logger$g.errors.BUFFER_OVERRUN)throw ue;se=ue,se.baseType=oe.name,se.name=oe.localName,se.type=oe.type}}else try{se=oe.decode(te)}catch(ae){if(ae.code===Logger$g.errors.BUFFER_OVERRUN)throw ae;se=ae,se.baseType=oe.name,se.name=oe.localName,se.type=oe.type}se!=null&&re.push(se)});const ie=ee.reduce((oe,se)=>{const ae=se.localName;return ae&&(oe[ae]||(oe[ae]=0),oe[ae]++),oe},{});ee.forEach((oe,se)=>{let ae=oe.localName;if(!ae||ie[ae]!==1||(ae==="length"&&(ae="_length"),re[ae]!=null))return;const fe=re[se];fe instanceof Error?Object.defineProperty(re,ae,{enumerable:!0,get:()=>{throw fe}}):re[ae]=fe});for(let oe=0;oe<re.length;oe++){const se=re[oe];se instanceof Error&&Object.defineProperty(re,oe,{enumerable:!0,get:()=>{throw se}})}return Object.freeze(re)}class ArrayCoder extends Coder{constructor(ee,re,ne){const ie=ee.type+"["+(re>=0?re:"")+"]",oe=re===-1||ee.dynamic;super("array",ie,ne,oe);this.coder=ee,this.length=re}defaultValue(){const ee=this.coder.defaultValue(),re=[];for(let ne=0;ne<this.length;ne++)re.push(ee);return re}encode(ee,re){Array.isArray(re)||this._throwError("expected array value",re);let ne=this.length;ne===-1&&(ne=re.length,ee.writeValue(re.length)),logger$16.checkArgumentCount(re.length,ne,"coder array"+(this.localName?" "+this.localName:""));let ie=[];for(let oe=0;oe<re.length;oe++)ie.push(this.coder);return pack$1(ee,ie,re)}decode(ee){let re=this.length;re===-1&&(re=ee.readValue().toNumber(),re*32>ee._data.length&&logger$16.throwError("insufficient data length",Logger$g.errors.BUFFER_OVERRUN,{length:ee._data.length,count:re}));let ne=[];for(let ie=0;ie<re;ie++)ne.push(new AnonymousCoder(this.coder));return ee.coerce(this.name,unpack(ee,ne))}}class BooleanCoder extends Coder{constructor(ee){super("bool","bool",ee,!1)}defaultValue(){return!1}encode(ee,re){return ee.writeValue(re?1:0)}decode(ee){return ee.coerce(this.type,!ee.readValue().isZero())}}class DynamicBytesCoder extends Coder{constructor(ee,re){super(ee,ee,re,!0)}defaultValue(){return"0x"}encode(ee,re){re=arrayify$e(re);let ne=ee.writeValue(re.length);return ne+=ee.writeBytes(re),ne}decode(ee){return ee.readBytes(ee.readValue().toNumber(),!0)}}class BytesCoder extends DynamicBytesCoder{constructor(ee){super("bytes",ee)}decode(ee){return ee.coerce(this.name,hexlify$9(super.decode(ee)))}}class FixedBytesCoder extends Coder{constructor(ee,re){let ne="bytes"+String(ee);super(ne,ne,re,!1);this.size=ee}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(ee,re){let ne=arrayify$e(re);return ne.length!==this.size&&this._throwError("incorrect data length",re),ee.writeBytes(ne)}decode(ee){return ee.coerce(this.name,hexlify$9(ee.readBytes(this.size)))}}class NullCoder extends Coder{constructor(ee){super("null","",ee,!1)}defaultValue(){return null}encode(ee,re){return re!=null&&this._throwError("not null",re),ee.writeBytes([])}decode(ee){return ee.readBytes(0),ee.coerce(this.name,null)}}const AddressZero="0x0000000000000000000000000000000000000000",NegativeOne$2=BigNumber$4.from(-1),Zero$3=BigNumber$4.from(0),One$2=BigNumber$4.from(1),MaxUint256$2=BigNumber$4.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),HashZero$1="0x0000000000000000000000000000000000000000000000000000000000000000";class NumberCoder extends Coder{constructor(ee,re,ne){const ie=(re?"int":"uint")+ee*8;super(ie,ie,ne,!1);this.size=ee,this.signed=re}defaultValue(){return 0}encode(ee,re){let ne=BigNumber$4.from(re),ie=MaxUint256$2.mask(ee.wordSize*8);if(this.signed){let oe=ie.mask(this.size*8-1);(ne.gt(oe)||ne.lt(oe.add(One$2).mul(NegativeOne$2)))&&this._throwError("value out-of-bounds",re)}else(ne.lt(Zero$3)||ne.gt(ie.mask(this.size*8)))&&this._throwError("value out-of-bounds",re);return ne=ne.toTwos(this.size*8).mask(this.size*8),this.signed&&(ne=ne.fromTwos(this.size*8).toTwos(8*ee.wordSize)),ee.writeValue(ne)}decode(ee){let re=ee.readValue().mask(this.size*8);return this.signed&&(re=re.fromTwos(this.size*8)),ee.coerce(this.name,re)}}const version$1l="strings/5.6.0",logger$15=new Logger$g(version$1l);var UnicodeNormalizationForm$4;(function(te){te.current="",te.NFC="NFC",te.NFD="NFD",te.NFKC="NFKC",te.NFKD="NFKD"})(UnicodeNormalizationForm$4||(UnicodeNormalizationForm$4={}));var Utf8ErrorReason$4;(function(te){te.UNEXPECTED_CONTINUE="unexpected continuation byte",te.BAD_PREFIX="bad codepoint prefix",te.OVERRUN="string overrun",te.MISSING_CONTINUE="missing continuation byte",te.OUT_OF_RANGE="out of UTF-8 range",te.UTF16_SURROGATE="UTF-16 surrogate",te.OVERLONG="overlong representation"})(Utf8ErrorReason$4||(Utf8ErrorReason$4={}));function errorFunc$4(te,ee,re,ne,ie){return logger$15.throwArgumentError(`invalid codepoint at offset ${ee}; ${te}`,"bytes",re)}function ignoreFunc$4(te,ee,re,ne,ie){if(te===Utf8ErrorReason$4.BAD_PREFIX||te===Utf8ErrorReason$4.UNEXPECTED_CONTINUE){let oe=0;for(let se=ee+1;se<re.length&&re[se]>>6===2;se++)oe++;return oe}return te===Utf8ErrorReason$4.OVERRUN?re.length-ee-1:0}function replaceFunc$4(te,ee,re,ne,ie){return te===Utf8ErrorReason$4.OVERLONG?(ne.push(ie),0):(ne.push(65533),ignoreFunc$4(te,ee,re))}const Utf8ErrorFuncs$3=Object.freeze({error:errorFunc$4,ignore:ignoreFunc$4,replace:replaceFunc$4});function getUtf8CodePoints$3(te,ee){ee==null&&(ee=Utf8ErrorFuncs$3.error),te=arrayify$e(te);const re=[];let ne=0;for(;ne<te.length;){const ie=te[ne++];if(ie>>7===0){re.push(ie);continue}let oe=null,se=null;if((ie&224)===192)oe=1,se=127;else if((ie&240)===224)oe=2,se=2047;else if((ie&248)===240)oe=3,se=65535;else{(ie&192)===128?ne+=ee(Utf8ErrorReason$4.UNEXPECTED_CONTINUE,ne-1,te,re):ne+=ee(Utf8ErrorReason$4.BAD_PREFIX,ne-1,te,re);continue}if(ne-1+oe>=te.length){ne+=ee(Utf8ErrorReason$4.OVERRUN,ne-1,te,re);continue}let ae=ie&(1<<8-oe-1)-1;for(let fe=0;fe<oe;fe++){let ue=te[ne];if((ue&192)!=128){ne+=ee(Utf8ErrorReason$4.MISSING_CONTINUE,ne,te,re),ae=null;break}ae=ae<<6|ue&63,ne++}if(ae!==null){if(ae>1114111){ne+=ee(Utf8ErrorReason$4.OUT_OF_RANGE,ne-1-oe,te,re,ae);continue}if(ae>=55296&&ae<=57343){ne+=ee(Utf8ErrorReason$4.UTF16_SURROGATE,ne-1-oe,te,re,ae);continue}if(ae<=se){ne+=ee(Utf8ErrorReason$4.OVERLONG,ne-1-oe,te,re,ae);continue}re.push(ae)}}return re}function toUtf8Bytes$4(te,ee=UnicodeNormalizationForm$4.current){ee!=UnicodeNormalizationForm$4.current&&(logger$15.checkNormalize(),te=te.normalize(ee));let re=[];for(let ne=0;ne<te.length;ne++){const ie=te.charCodeAt(ne);if(ie<128)re.push(ie);else if(ie<2048)re.push(ie>>6|192),re.push(ie&63|128);else if((ie&64512)==55296){ne++;const oe=te.charCodeAt(ne);if(ne>=te.length||(oe&64512)!==56320)throw new Error("invalid utf-8 string");const se=65536+((ie&1023)<<10)+(oe&1023);re.push(se>>18|240),re.push(se>>12&63|128),re.push(se>>6&63|128),re.push(se&63|128)}else re.push(ie>>12|224),re.push(ie>>6&63|128),re.push(ie&63|128)}return arrayify$e(re)}function _toUtf8String$3(te){return te.map(ee=>ee<=65535?String.fromCharCode(ee):(ee-=65536,String.fromCharCode((ee>>10&1023)+55296,(ee&1023)+56320))).join("")}function toUtf8String$2(te,ee){return _toUtf8String$3(getUtf8CodePoints$3(te,ee))}function toUtf8CodePoints$2(te,ee=UnicodeNormalizationForm$4.current){return getUtf8CodePoints$3(toUtf8Bytes$4(te,ee))}function bytes2$2(te){if(te.length%4!==0)throw new Error("bad data");let ee=[];for(let re=0;re<te.length;re+=4)ee.push(parseInt(te.substring(re,re+4),16));return ee}function createTable$2(te,ee){ee||(ee=function(ie){return[parseInt(ie,16)]});let re=0,ne={};return te.split(",").forEach(ie=>{let oe=ie.split(":");re+=parseInt(oe[0],16),ne[re]=ee(oe[1])}),ne}function createRangeTable$2(te){let ee=0;return te.split(",").map(re=>{let ne=re.split("-");ne.length===1?ne[1]="0":ne[1]===""&&(ne[1]="1");let ie=ee+parseInt(ne[0],16);return ee=parseInt(ne[1],16),{l:ie,h:ee}})}function matchMap$2(te,ee){let re=0;for(let ne=0;ne<ee.length;ne++){let ie=ee[ne];if(re+=ie.l,te>=re&&te<=re+ie.h&&(te-re)%(ie.d||1)===0){if(ie.e&&ie.e.indexOf(te-re)!==-1)continue;return ie}}return null}const Table_A_1_ranges$2=createRangeTable$2("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Table_B_1_flags$2="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(te=>parseInt(te,16)),Table_B_2_ranges$2=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Table_B_2_lut_abs$2=createTable$2("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Table_B_2_lut_rel$2=createTable$2("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Table_B_2_complex$2=createTable$2("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",bytes2$2),Table_C_ranges$2=createRangeTable$2("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function flatten$2(te){return te.reduce((ee,re)=>(re.forEach(ne=>{ee.push(ne)}),ee),[])}function _nameprepTableA1$2(te){return!!matchMap$2(te,Table_A_1_ranges$2)}function _nameprepTableB2$2(te){let ee=matchMap$2(te,Table_B_2_ranges$2);if(ee)return[te+ee.s];let re=Table_B_2_lut_abs$2[te];if(re)return re;let ne=Table_B_2_lut_rel$2[te];if(ne)return[te+ne[0]];let ie=Table_B_2_complex$2[te];return ie||null}function _nameprepTableC$2(te){return!!matchMap$2(te,Table_C_ranges$2)}function nameprep$2(te){if(te.match(/^[a-z0-9-]*$/i)&&te.length<=59)return te.toLowerCase();let ee=toUtf8CodePoints$2(te);ee=flatten$2(ee.map(ne=>{if(Table_B_1_flags$2.indexOf(ne)>=0)return[];if(ne>=65024&&ne<=65039)return[];let ie=_nameprepTableB2$2(ne);return ie||[ne]})),ee=toUtf8CodePoints$2(_toUtf8String$3(ee),UnicodeNormalizationForm$4.NFKC),ee.forEach(ne=>{if(_nameprepTableC$2(ne))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),ee.forEach(ne=>{if(_nameprepTableA1$2(ne))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let re=_toUtf8String$3(ee);if(re.substring(0,1)==="-"||re.substring(2,4)==="--"||re.substring(re.length-1)==="-")throw new Error("invalid hyphen");if(re.length>63)throw new Error("too long");return re}class StringCoder extends DynamicBytesCoder{constructor(ee){super("string",ee)}defaultValue(){return""}encode(ee,re){return super.encode(ee,toUtf8Bytes$4(re))}decode(ee){return toUtf8String$2(super.decode(ee))}}class TupleCoder extends Coder{constructor(ee,re){let ne=!1;const ie=[];ee.forEach(se=>{se.dynamic&&(ne=!0),ie.push(se.type)});const oe="tuple("+ie.join(",")+")";super("tuple",oe,re,ne);this.coders=ee}defaultValue(){const ee=[];this.coders.forEach(ne=>{ee.push(ne.defaultValue())});const re=this.coders.reduce((ne,ie)=>{const oe=ie.localName;return oe&&(ne[oe]||(ne[oe]=0),ne[oe]++),ne},{});return this.coders.forEach((ne,ie)=>{let oe=ne.localName;!oe||re[oe]!==1||(oe==="length"&&(oe="_length"),ee[oe]==null&&(ee[oe]=ee[ie]))}),Object.freeze(ee)}encode(ee,re){return pack$1(ee,this.coders,re)}decode(ee){return ee.coerce(this.name,unpack(ee,this.coders))}}const logger$14=new Logger$g(version$1o),paramTypeBytes=new RegExp(/^bytes([0-9]*)$/),paramTypeNumber=new RegExp(/^(u?int)([0-9]*)$/);class AbiCoder{constructor(ee){logger$14.checkNew(new.target,AbiCoder),defineReadOnly$6(this,"coerceFunc",ee||null)}_getCoder(ee){switch(ee.baseType){case"address":return new AddressCoder(ee.name);case"bool":return new BooleanCoder(ee.name);case"string":return new StringCoder(ee.name);case"bytes":return new BytesCoder(ee.name);case"array":return new ArrayCoder(this._getCoder(ee.arrayChildren),ee.arrayLength,ee.name);case"tuple":return new TupleCoder((ee.components||[]).map(ne=>this._getCoder(ne)),ee.name);case"":return new NullCoder(ee.name)}let re=ee.type.match(paramTypeNumber);if(re){let ne=parseInt(re[2]||"256");return(ne===0||ne>256||ne%8!==0)&&logger$14.throwArgumentError("invalid "+re[1]+" bit length","param",ee),new NumberCoder(ne/8,re[1]==="int",ee.name)}if(re=ee.type.match(paramTypeBytes),re){let ne=parseInt(re[1]);return(ne===0||ne>32)&&logger$14.throwArgumentError("invalid bytes length","param",ee),new FixedBytesCoder(ne,ee.name)}return logger$14.throwArgumentError("invalid type","type",ee.type)}_getWordSize(){return 32}_getReader(ee,re){return new Reader(ee,this._getWordSize(),this.coerceFunc,re)}_getWriter(){return new Writer(this._getWordSize())}getDefaultValue(ee){const re=ee.map(ie=>this._getCoder(ParamType.from(ie)));return new TupleCoder(re,"_").defaultValue()}encode(ee,re){ee.length!==re.length&&logger$14.throwError("types/values length mismatch",Logger$g.errors.INVALID_ARGUMENT,{count:{types:ee.length,values:re.length},value:{types:ee,values:re}});const ne=ee.map(se=>this._getCoder(ParamType.from(se))),ie=new TupleCoder(ne,"_"),oe=this._getWriter();return ie.encode(oe,re),oe.data}decode(ee,re,ne){const ie=ee.map(se=>this._getCoder(ParamType.from(se)));return new TupleCoder(ie,"_").decode(this._getReader(arrayify$e(re),ne))}}const defaultAbiCoder=new AbiCoder;function id$2(te){return keccak256$6(toUtf8Bytes$4(te))}const version$1k="hash/5.6.0",logger$13=new Logger$g(version$1k),Zeros$2=new Uint8Array(32);Zeros$2.fill(0);const Partition$1=new RegExp("^((.*)\\.)?([^.]+)$");function namehash$1(te){typeof te!="string"&&logger$13.throwArgumentError("invalid ENS name; not a string","name",te);let ee=te,re=Zeros$2;for(;ee.length;){const ne=ee.match(Partition$1);(ne==null||ne[2]==="")&&logger$13.throwArgumentError("invalid ENS address; missing component","name",te);const ie=toUtf8Bytes$4(nameprep$2(ne[3]));re=keccak256$6(concat$7([re,keccak256$6(ie)])),ee=ne[2]||""}return hexlify$9(re)}const messagePrefix$1=`Ethereum Signed Message:
`;function hashMessage$1(te){return typeof te=="string"&&(te=toUtf8Bytes$4(te)),keccak256$6(concat$7([toUtf8Bytes$4(messagePrefix$1),toUtf8Bytes$4(String(te.length)),te]))}var __awaiter$e=globalThis&&globalThis.__awaiter||function(te,ee,re,ne){function ie(oe){return oe instanceof re?oe:new re(function(se){se(oe)})}return new(re||(re=Promise))(function(oe,se){function ae(le){try{ue(ne.next(le))}catch(pe){se(pe)}}function fe(le){try{ue(ne.throw(le))}catch(pe){se(pe)}}function ue(le){le.done?oe(le.value):ie(le.value).then(ae,fe)}ue((ne=ne.apply(te,ee||[])).next())})};const logger$12=new Logger$g(version$1k),padding$1=new Uint8Array(32);padding$1.fill(0);const NegativeOne$1=BigNumber$4.from(-1),Zero$2=BigNumber$4.from(0),One$1=BigNumber$4.from(1),MaxUint256$1=BigNumber$4.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hexPadRight$1(te){const ee=arrayify$e(te),re=ee.length%32;return re?hexConcat$3([ee,padding$1.slice(re)]):hexlify$9(ee)}const hexTrue$1=hexZeroPad$5(One$1.toHexString(),32),hexFalse$1=hexZeroPad$5(Zero$2.toHexString(),32),domainFieldTypes$1={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},domainFieldNames$1=["name","version","chainId","verifyingContract","salt"];function checkString$1(te){return function(ee){return typeof ee!="string"&&logger$12.throwArgumentError(`invalid domain value for ${JSON.stringify(te)}`,`domain.${te}`,ee),ee}}const domainChecks$1={name:checkString$1("name"),version:checkString$1("version"),chainId:function(te){try{return BigNumber$4.from(te).toString()}catch{}return logger$12.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",te)},verifyingContract:function(te){try{return getAddress$4(te).toLowerCase()}catch{}return logger$12.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",te)},salt:function(te){try{const ee=arrayify$e(te);if(ee.length!==32)throw new Error("bad length");return hexlify$9(ee)}catch{}return logger$12.throwArgumentError('invalid domain value "salt"',"domain.salt",te)}};function getBaseEncoder$1(te){{const ee=te.match(/^(u?)int(\d*)$/);if(ee){const re=ee[1]==="",ne=parseInt(ee[2]||"256");(ne%8!==0||ne>256||ee[2]&&ee[2]!==String(ne))&&logger$12.throwArgumentError("invalid numeric width","type",te);const ie=MaxUint256$1.mask(re?ne-1:ne),oe=re?ie.add(One$1).mul(NegativeOne$1):Zero$2;return function(se){const ae=BigNumber$4.from(se);return(ae.lt(oe)||ae.gt(ie))&&logger$12.throwArgumentError(`value out-of-bounds for ${te}`,"value",se),hexZeroPad$5(ae.toTwos(256).toHexString(),32)}}}{const ee=te.match(/^bytes(\d+)$/);if(ee){const re=parseInt(ee[1]);return(re===0||re>32||ee[1]!==String(re))&&logger$12.throwArgumentError("invalid bytes width","type",te),function(ne){return arrayify$e(ne).length!==re&&logger$12.throwArgumentError(`invalid length for ${te}`,"value",ne),hexPadRight$1(ne)}}}switch(te){case"address":return function(ee){return hexZeroPad$5(getAddress$4(ee),32)};case"bool":return function(ee){return ee?hexTrue$1:hexFalse$1};case"bytes":return function(ee){return keccak256$6(ee)};case"string":return function(ee){return id$2(ee)}}return null}function encodeType$1(te,ee){return`${te}(${ee.map(({name:re,type:ne})=>ne+" "+re).join(",")})`}class TypedDataEncoder$1{constructor(ee){defineReadOnly$6(this,"types",Object.freeze(deepCopy$2(ee))),defineReadOnly$6(this,"_encoderCache",{}),defineReadOnly$6(this,"_types",{});const re={},ne={},ie={};Object.keys(ee).forEach(ae=>{re[ae]={},ne[ae]=[],ie[ae]={}});for(const ae in ee){const fe={};ee[ae].forEach(ue=>{fe[ue.name]&&logger$12.throwArgumentError(`duplicate variable name ${JSON.stringify(ue.name)} in ${JSON.stringify(ae)}`,"types",ee),fe[ue.name]=!0;const le=ue.type.match(/^([^\x5b]*)(\x5b|$)/)[1];le===ae&&logger$12.throwArgumentError(`circular type reference to ${JSON.stringify(le)}`,"types",ee),!getBaseEncoder$1(le)&&(ne[le]||logger$12.throwArgumentError(`unknown type ${JSON.stringify(le)}`,"types",ee),ne[le].push(ae),re[ae][le]=!0)})}const oe=Object.keys(ne).filter(ae=>ne[ae].length===0);oe.length===0?logger$12.throwArgumentError("missing primary type","types",ee):oe.length>1&&logger$12.throwArgumentError(`ambiguous primary types or unused types: ${oe.map(ae=>JSON.stringify(ae)).join(", ")}`,"types",ee),defineReadOnly$6(this,"primaryType",oe[0]);function se(ae,fe){fe[ae]&&logger$12.throwArgumentError(`circular type reference to ${JSON.stringify(ae)}`,"types",ee),fe[ae]=!0,Object.keys(re[ae]).forEach(ue=>{!ne[ue]||(se(ue,fe),Object.keys(fe).forEach(le=>{ie[le][ue]=!0}))}),delete fe[ae]}se(this.primaryType,{});for(const ae in ie){const fe=Object.keys(ie[ae]);fe.sort(),this._types[ae]=encodeType$1(ae,ee[ae])+fe.map(ue=>encodeType$1(ue,ee[ue])).join("")}}getEncoder(ee){let re=this._encoderCache[ee];return re||(re=this._encoderCache[ee]=this._getEncoder(ee)),re}_getEncoder(ee){{const ie=getBaseEncoder$1(ee);if(ie)return ie}const re=ee.match(/^(.*)(\x5b(\d*)\x5d)$/);if(re){const ie=re[1],oe=this.getEncoder(ie),se=parseInt(re[3]);return ae=>{se>=0&&ae.length!==se&&logger$12.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",ae);let fe=ae.map(oe);return this._types[ie]&&(fe=fe.map(keccak256$6)),keccak256$6(hexConcat$3(fe))}}const ne=this.types[ee];if(ne){const ie=id$2(this._types[ee]);return oe=>{const se=ne.map(({name:ae,type:fe})=>{const ue=this.getEncoder(fe)(oe[ae]);return this._types[fe]?keccak256$6(ue):ue});return se.unshift(ie),hexConcat$3(se)}}return logger$12.throwArgumentError(`unknown type: ${ee}`,"type",ee)}encodeType(ee){const re=this._types[ee];return re||logger$12.throwArgumentError(`unknown type: ${JSON.stringify(ee)}`,"name",ee),re}encodeData(ee,re){return this.getEncoder(ee)(re)}hashStruct(ee,re){return keccak256$6(this.encodeData(ee,re))}encode(ee){return this.encodeData(this.primaryType,ee)}hash(ee){return this.hashStruct(this.primaryType,ee)}_visit(ee,re,ne){if(getBaseEncoder$1(ee))return ne(ee,re);const ie=ee.match(/^(.*)(\x5b(\d*)\x5d)$/);if(ie){const se=ie[1],ae=parseInt(ie[3]);return ae>=0&&re.length!==ae&&logger$12.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",re),re.map(fe=>this._visit(se,fe,ne))}const oe=this.types[ee];return oe?oe.reduce((se,{name:ae,type:fe})=>(se[ae]=this._visit(fe,re[ae],ne),se),{}):logger$12.throwArgumentError(`unknown type: ${ee}`,"type",ee)}visit(ee,re){return this._visit(this.primaryType,ee,re)}static from(ee){return new TypedDataEncoder$1(ee)}static getPrimaryType(ee){return TypedDataEncoder$1.from(ee).primaryType}static hashStruct(ee,re,ne){return TypedDataEncoder$1.from(re).hashStruct(ee,ne)}static hashDomain(ee){const re=[];for(const ne in ee){const ie=domainFieldTypes$1[ne];ie||logger$12.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(ne)}`,"domain",ee),re.push({name:ne,type:ie})}return re.sort((ne,ie)=>domainFieldNames$1.indexOf(ne.name)-domainFieldNames$1.indexOf(ie.name)),TypedDataEncoder$1.hashStruct("EIP712Domain",{EIP712Domain:re},ee)}static encode(ee,re,ne){return hexConcat$3(["0x1901",TypedDataEncoder$1.hashDomain(ee),TypedDataEncoder$1.from(re).hash(ne)])}static hash(ee,re,ne){return keccak256$6(TypedDataEncoder$1.encode(ee,re,ne))}static resolveNames(ee,re,ne,ie){return __awaiter$e(this,void 0,void 0,function*(){ee=shallowCopy$3(ee);const oe={};ee.verifyingContract&&!isHexString$j(ee.verifyingContract,20)&&(oe[ee.verifyingContract]="0x");const se=TypedDataEncoder$1.from(re);se.visit(ne,(ae,fe)=>(ae==="address"&&!isHexString$j(fe,20)&&(oe[fe]="0x"),fe));for(const ae in oe)oe[ae]=yield ie(ae);return ee.verifyingContract&&oe[ee.verifyingContract]&&(ee.verifyingContract=oe[ee.verifyingContract]),ne=se.visit(ne,(ae,fe)=>ae==="address"&&oe[fe]?oe[fe]:fe),{domain:ee,value:ne}})}static getPayload(ee,re,ne){TypedDataEncoder$1.hashDomain(ee);const ie={},oe=[];domainFieldNames$1.forEach(fe=>{const ue=ee[fe];ue!=null&&(ie[fe]=domainChecks$1[fe](ue),oe.push({name:fe,type:domainFieldTypes$1[fe]}))});const se=TypedDataEncoder$1.from(re),ae=shallowCopy$3(re);return ae.EIP712Domain?logger$12.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",re):ae.EIP712Domain=oe,se.encode(ne),{types:ae,domain:ie,primaryType:se.primaryType,message:se.visit(ne,(fe,ue)=>{if(fe.match(/^bytes(\d*)/))return hexlify$9(arrayify$e(ue));if(fe.match(/^u?int/))return BigNumber$4.from(ue).toString();switch(fe){case"address":return ue.toLowerCase();case"bool":return!!ue;case"string":return typeof ue!="string"&&logger$12.throwArgumentError("invalid string","value",ue),ue}return logger$12.throwArgumentError("unsupported type","type",fe)})}}}const logger$11=new Logger$g(version$1o);class LogDescription extends Description$1{}class TransactionDescription extends Description$1{}class ErrorDescription extends Description$1{}class Indexed extends Description$1{static isIndexed(ee){return!!(ee&&ee._isIndexed)}}const BuiltinErrors={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function wrapAccessError(te,ee){const re=new Error(`deferred error during ABI decoding triggered accessing ${te}`);return re.error=ee,re}class Interface{constructor(ee){logger$11.checkNew(new.target,Interface);let re=[];typeof ee=="string"?re=JSON.parse(ee):re=ee,defineReadOnly$6(this,"fragments",re.map(ne=>Fragment.from(ne)).filter(ne=>ne!=null)),defineReadOnly$6(this,"_abiCoder",getStatic$1(new.target,"getAbiCoder")()),defineReadOnly$6(this,"functions",{}),defineReadOnly$6(this,"errors",{}),defineReadOnly$6(this,"events",{}),defineReadOnly$6(this,"structs",{}),this.fragments.forEach(ne=>{let ie=null;switch(ne.type){case"constructor":if(this.deploy){logger$11.warn("duplicate definition - constructor");return}defineReadOnly$6(this,"deploy",ne);return;case"function":ie=this.functions;break;case"event":ie=this.events;break;case"error":ie=this.errors;break;default:return}let oe=ne.format();if(ie[oe]){logger$11.warn("duplicate definition - "+oe);return}ie[oe]=ne}),this.deploy||defineReadOnly$6(this,"deploy",ConstructorFragment.from({payable:!1,type:"constructor"})),defineReadOnly$6(this,"_isInterface",!0)}format(ee){ee||(ee=FormatTypes.full),ee===FormatTypes.sighash&&logger$11.throwArgumentError("interface does not support formatting sighash","format",ee);const re=this.fragments.map(ne=>ne.format(ee));return ee===FormatTypes.json?JSON.stringify(re.map(ne=>JSON.parse(ne))):re}static getAbiCoder(){return defaultAbiCoder}static getAddress(ee){return getAddress$4(ee)}static getSighash(ee){return hexDataSlice$4(id$2(ee.format()),0,4)}static getEventTopic(ee){return id$2(ee.format())}getFunction(ee){if(isHexString$j(ee)){for(const ne in this.functions)if(ee===this.getSighash(ne))return this.functions[ne];logger$11.throwArgumentError("no matching function","sighash",ee)}if(ee.indexOf("(")===-1){const ne=ee.trim(),ie=Object.keys(this.functions).filter(oe=>oe.split("(")[0]===ne);return ie.length===0?logger$11.throwArgumentError("no matching function","name",ne):ie.length>1&&logger$11.throwArgumentError("multiple matching functions","name",ne),this.functions[ie[0]]}const re=this.functions[FunctionFragment.fromString(ee).format()];return re||logger$11.throwArgumentError("no matching function","signature",ee),re}getEvent(ee){if(isHexString$j(ee)){const ne=ee.toLowerCase();for(const ie in this.events)if(ne===this.getEventTopic(ie))return this.events[ie];logger$11.throwArgumentError("no matching event","topichash",ne)}if(ee.indexOf("(")===-1){const ne=ee.trim(),ie=Object.keys(this.events).filter(oe=>oe.split("(")[0]===ne);return ie.length===0?logger$11.throwArgumentError("no matching event","name",ne):ie.length>1&&logger$11.throwArgumentError("multiple matching events","name",ne),this.events[ie[0]]}const re=this.events[EventFragment.fromString(ee).format()];return re||logger$11.throwArgumentError("no matching event","signature",ee),re}getError(ee){if(isHexString$j(ee)){const ne=getStatic$1(this.constructor,"getSighash");for(const ie in this.errors){const oe=this.errors[ie];if(ee===ne(oe))return this.errors[ie]}logger$11.throwArgumentError("no matching error","sighash",ee)}if(ee.indexOf("(")===-1){const ne=ee.trim(),ie=Object.keys(this.errors).filter(oe=>oe.split("(")[0]===ne);return ie.length===0?logger$11.throwArgumentError("no matching error","name",ne):ie.length>1&&logger$11.throwArgumentError("multiple matching errors","name",ne),this.errors[ie[0]]}const re=this.errors[FunctionFragment.fromString(ee).format()];return re||logger$11.throwArgumentError("no matching error","signature",ee),re}getSighash(ee){if(typeof ee=="string")try{ee=this.getFunction(ee)}catch(re){try{ee=this.getError(ee)}catch{throw re}}return getStatic$1(this.constructor,"getSighash")(ee)}getEventTopic(ee){return typeof ee=="string"&&(ee=this.getEvent(ee)),getStatic$1(this.constructor,"getEventTopic")(ee)}_decodeParams(ee,re){return this._abiCoder.decode(ee,re)}_encodeParams(ee,re){return this._abiCoder.encode(ee,re)}encodeDeploy(ee){return this._encodeParams(this.deploy.inputs,ee||[])}decodeErrorResult(ee,re){typeof ee=="string"&&(ee=this.getError(ee));const ne=arrayify$e(re);return hexlify$9(ne.slice(0,4))!==this.getSighash(ee)&&logger$11.throwArgumentError(`data signature does not match error ${ee.name}.`,"data",hexlify$9(ne)),this._decodeParams(ee.inputs,ne.slice(4))}encodeErrorResult(ee,re){return typeof ee=="string"&&(ee=this.getError(ee)),hexlify$9(concat$7([this.getSighash(ee),this._encodeParams(ee.inputs,re||[])]))}decodeFunctionData(ee,re){typeof ee=="string"&&(ee=this.getFunction(ee));const ne=arrayify$e(re);return hexlify$9(ne.slice(0,4))!==this.getSighash(ee)&&logger$11.throwArgumentError(`data signature does not match function ${ee.name}.`,"data",hexlify$9(ne)),this._decodeParams(ee.inputs,ne.slice(4))}encodeFunctionData(ee,re){return typeof ee=="string"&&(ee=this.getFunction(ee)),hexlify$9(concat$7([this.getSighash(ee),this._encodeParams(ee.inputs,re||[])]))}decodeFunctionResult(ee,re){typeof ee=="string"&&(ee=this.getFunction(ee));let ne=arrayify$e(re),ie=null,oe=null,se=null,ae=null;switch(ne.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(ee.outputs,ne)}catch{}break;case 4:{const fe=hexlify$9(ne.slice(0,4)),ue=BuiltinErrors[fe];if(ue)oe=this._abiCoder.decode(ue.inputs,ne.slice(4)),se=ue.name,ae=ue.signature,ue.reason&&(ie=oe[0]);else try{const le=this.getError(fe);oe=this._abiCoder.decode(le.inputs,ne.slice(4)),se=le.name,ae=le.format()}catch(le){console.log(le)}break}}return logger$11.throwError("call revert exception",Logger$g.errors.CALL_EXCEPTION,{method:ee.format(),errorArgs:oe,errorName:se,errorSignature:ae,reason:ie})}encodeFunctionResult(ee,re){return typeof ee=="string"&&(ee=this.getFunction(ee)),hexlify$9(this._abiCoder.encode(ee.outputs,re||[]))}encodeFilterTopics(ee,re){typeof ee=="string"&&(ee=this.getEvent(ee)),re.length>ee.inputs.length&&logger$11.throwError("too many arguments for "+ee.format(),Logger$g.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:re});let ne=[];ee.anonymous||ne.push(this.getEventTopic(ee));const ie=(oe,se)=>oe.type==="string"?id$2(se):oe.type==="bytes"?keccak256$6(hexlify$9(se)):(oe.type==="address"&&this._abiCoder.encode(["address"],[se]),hexZeroPad$5(hexlify$9(se),32));for(re.forEach((oe,se)=>{let ae=ee.inputs[se];if(!ae.indexed){oe!=null&&logger$11.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+ae.name,oe);return}oe==null?ne.push(null):ae.baseType==="array"||ae.baseType==="tuple"?logger$11.throwArgumentError("filtering with tuples or arrays not supported","contract."+ae.name,oe):Array.isArray(oe)?ne.push(oe.map(fe=>ie(ae,fe))):ne.push(ie(ae,oe))});ne.length&&ne[ne.length-1]===null;)ne.pop();return ne}encodeEventLog(ee,re){typeof ee=="string"&&(ee=this.getEvent(ee));const ne=[],ie=[],oe=[];return ee.anonymous||ne.push(this.getEventTopic(ee)),re.length!==ee.inputs.length&&logger$11.throwArgumentError("event arguments/values mismatch","values",re),ee.inputs.forEach((se,ae)=>{const fe=re[ae];if(se.indexed)if(se.type==="string")ne.push(id$2(fe));else if(se.type==="bytes")ne.push(keccak256$6(fe));else{if(se.baseType==="tuple"||se.baseType==="array")throw new Error("not implemented");ne.push(this._abiCoder.encode([se.type],[fe]))}else ie.push(se),oe.push(fe)}),{data:this._abiCoder.encode(ie,oe),topics:ne}}decodeEventLog(ee,re,ne){if(typeof ee=="string"&&(ee=this.getEvent(ee)),ne!=null&&!ee.anonymous){let rr=this.getEventTopic(ee);(!isHexString$j(ne[0],32)||ne[0].toLowerCase()!==rr)&&logger$11.throwError("fragment/topic mismatch",Logger$g.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:rr,value:ne[0]}),ne=ne.slice(1)}let ie=[],oe=[],se=[];ee.inputs.forEach((rr,cr)=>{rr.indexed?rr.type==="string"||rr.type==="bytes"||rr.baseType==="tuple"||rr.baseType==="array"?(ie.push(ParamType.fromObject({type:"bytes32",name:rr.name})),se.push(!0)):(ie.push(rr),se.push(!1)):(oe.push(rr),se.push(!1))});let ae=ne!=null?this._abiCoder.decode(ie,concat$7(ne)):null,fe=this._abiCoder.decode(oe,re,!0),ue=[],le=0,pe=0;ee.inputs.forEach((rr,cr)=>{if(rr.indexed)if(ae==null)ue[cr]=new Indexed({_isIndexed:!0,hash:null});else if(se[cr])ue[cr]=new Indexed({_isIndexed:!0,hash:ae[pe++]});else try{ue[cr]=ae[pe++]}catch(ar){ue[cr]=ar}else try{ue[cr]=fe[le++]}catch(ar){ue[cr]=ar}if(rr.name&&ue[rr.name]==null){const ar=ue[cr];ar instanceof Error?Object.defineProperty(ue,rr.name,{enumerable:!0,get:()=>{throw wrapAccessError(`property ${JSON.stringify(rr.name)}`,ar)}}):ue[rr.name]=ar}});for(let rr=0;rr<ue.length;rr++){const cr=ue[rr];cr instanceof Error&&Object.defineProperty(ue,rr,{enumerable:!0,get:()=>{throw wrapAccessError(`index ${rr}`,cr)}})}return Object.freeze(ue)}parseTransaction(ee){let re=this.getFunction(ee.data.substring(0,10).toLowerCase());return re?new TransactionDescription({args:this._abiCoder.decode(re.inputs,"0x"+ee.data.substring(10)),functionFragment:re,name:re.name,signature:re.format(),sighash:this.getSighash(re),value:BigNumber$4.from(ee.value||"0")}):null}parseLog(ee){let re=this.getEvent(ee.topics[0]);return!re||re.anonymous?null:new LogDescription({eventFragment:re,name:re.name,signature:re.format(),topic:this.getEventTopic(re),args:this.decodeEventLog(re,ee.data,ee.topics)})}parseError(ee){const re=hexlify$9(ee);let ne=this.getError(re.substring(0,10).toLowerCase());return ne?new ErrorDescription({args:this._abiCoder.decode(ne.inputs,"0x"+re.substring(10)),errorFragment:ne,name:ne.name,signature:ne.format(),sighash:this.getSighash(ne)}):null}static isInterface(ee){return!!(ee&&ee._isInterface)}}var lib_esm$k=Object.freeze(Object.defineProperty({__proto__:null,ConstructorFragment,ErrorFragment,EventFragment,Fragment,FunctionFragment,ParamType,FormatTypes,AbiCoder,defaultAbiCoder,Interface,Indexed,checkResultErrors,LogDescription,TransactionDescription},Symbol.toStringTag,{value:"Module"}));function detectEthereumProvider({mustBeMetaMask:te=!1,silent:ee=!1,timeout:re=3e3}={}){ie();let ne=!1;return new Promise(oe=>{window.ethereum?se():(window.addEventListener("ethereum#initialized",se,{once:!0}),setTimeout(()=>{se()},re));function se(){if(ne)return;ne=!0,window.removeEventListener("ethereum#initialized",se);const{ethereum:ae}=window;ae&&(!te||ae.isMetaMask)?oe(ae):(!ee&&console.error("@metamask/detect-provider:",te&&ae?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum."),oe(null))}});function ie(){if(typeof te!="boolean")throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if(typeof ee!="boolean")throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if(typeof re!="number")throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}}var dist$7=detectEthereumProvider,utils$s={},require$$0$4=getAugmentedNamespace(lib_esm$k);const version$1j="logger/5.6.0";let _permanentCensorErrors$f=!1,_censorErrors$f=!1;const LogLevels$f={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$f=LogLevels$f.default,_globalLogger$f=null;function _checkNormalize$f(){try{const te=[];if(["NFD","NFC","NFKD","NFKC"].forEach(ee=>{try{if("test".normalize(ee)!=="test")throw new Error("bad normalize")}catch{te.push(ee)}}),te.length)throw new Error("missing "+te.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(te){return te.message}return null}const _normalizeError$f=_checkNormalize$f();var LogLevel$f;(function(te){te.DEBUG="DEBUG",te.INFO="INFO",te.WARNING="WARNING",te.ERROR="ERROR",te.OFF="OFF"})(LogLevel$f||(LogLevel$f={}));var ErrorCode$f;(function(te){te.UNKNOWN_ERROR="UNKNOWN_ERROR",te.NOT_IMPLEMENTED="NOT_IMPLEMENTED",te.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",te.NETWORK_ERROR="NETWORK_ERROR",te.SERVER_ERROR="SERVER_ERROR",te.TIMEOUT="TIMEOUT",te.BUFFER_OVERRUN="BUFFER_OVERRUN",te.NUMERIC_FAULT="NUMERIC_FAULT",te.MISSING_NEW="MISSING_NEW",te.INVALID_ARGUMENT="INVALID_ARGUMENT",te.MISSING_ARGUMENT="MISSING_ARGUMENT",te.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",te.CALL_EXCEPTION="CALL_EXCEPTION",te.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",te.NONCE_EXPIRED="NONCE_EXPIRED",te.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",te.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",te.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(ErrorCode$f||(ErrorCode$f={}));const HEX$f="0123456789abcdef";class Logger$f{constructor(ee){Object.defineProperty(this,"version",{enumerable:!0,value:ee,writable:!1})}_log(ee,re){const ne=ee.toLowerCase();LogLevels$f[ne]==null&&this.throwArgumentError("invalid log level name","logLevel",ee),!(_logLevel$f>LogLevels$f[ne])&&console.log.apply(console,re)}debug(...ee){this._log(Logger$f.levels.DEBUG,ee)}info(...ee){this._log(Logger$f.levels.INFO,ee)}warn(...ee){this._log(Logger$f.levels.WARNING,ee)}makeError(ee,re,ne){if(_censorErrors$f)return this.makeError("censored error",re,{});re||(re=Logger$f.errors.UNKNOWN_ERROR),ne||(ne={});const ie=[];Object.keys(ne).forEach(fe=>{const ue=ne[fe];try{if(ue instanceof Uint8Array){let le="";for(let pe=0;pe<ue.length;pe++)le+=HEX$f[ue[pe]>>4],le+=HEX$f[ue[pe]&15];ie.push(fe+"=Uint8Array(0x"+le+")")}else ie.push(fe+"="+JSON.stringify(ue))}catch{ie.push(fe+"="+JSON.stringify(ne[fe].toString()))}}),ie.push(`code=${re}`),ie.push(`version=${this.version}`);const oe=ee;let se="";switch(re){case ErrorCode$f.NUMERIC_FAULT:{se="NUMERIC_FAULT";const fe=ee;switch(fe){case"overflow":case"underflow":case"division-by-zero":se+="-"+fe;break;case"negative-power":case"negative-width":se+="-unsupported";break;case"unbound-bitwise-result":se+="-unbound-result";break}break}case ErrorCode$f.CALL_EXCEPTION:case ErrorCode$f.INSUFFICIENT_FUNDS:case ErrorCode$f.MISSING_NEW:case ErrorCode$f.NONCE_EXPIRED:case ErrorCode$f.REPLACEMENT_UNDERPRICED:case ErrorCode$f.TRANSACTION_REPLACED:case ErrorCode$f.UNPREDICTABLE_GAS_LIMIT:se=re;break}se&&(ee+=" [ See: https://links.ethers.org/v5-errors-"+se+" ]"),ie.length&&(ee+=" ("+ie.join(", ")+")");const ae=new Error(ee);return ae.reason=oe,ae.code=re,Object.keys(ne).forEach(function(fe){ae[fe]=ne[fe]}),ae}throwError(ee,re,ne){throw this.makeError(ee,re,ne)}throwArgumentError(ee,re,ne){return this.throwError(ee,Logger$f.errors.INVALID_ARGUMENT,{argument:re,value:ne})}assert(ee,re,ne,ie){ee||this.throwError(re,ne,ie)}assertArgument(ee,re,ne,ie){ee||this.throwArgumentError(re,ne,ie)}checkNormalize(ee){_normalizeError$f&&this.throwError("platform missing String.prototype.normalize",Logger$f.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$f})}checkSafeUint53(ee,re){typeof ee=="number"&&(re==null&&(re="value not safe"),(ee<0||ee>=9007199254740991)&&this.throwError(re,Logger$f.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:ee}),ee%1&&this.throwError(re,Logger$f.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:ee}))}checkArgumentCount(ee,re,ne){ne?ne=": "+ne:ne="",ee<re&&this.throwError("missing argument"+ne,Logger$f.errors.MISSING_ARGUMENT,{count:ee,expectedCount:re}),ee>re&&this.throwError("too many arguments"+ne,Logger$f.errors.UNEXPECTED_ARGUMENT,{count:ee,expectedCount:re})}checkNew(ee,re){(ee===Object||ee==null)&&this.throwError("missing new",Logger$f.errors.MISSING_NEW,{name:re.name})}checkAbstract(ee,re){ee===re?this.throwError("cannot instantiate abstract class "+JSON.stringify(re.name)+" directly; use a sub-class",Logger$f.errors.UNSUPPORTED_OPERATION,{name:ee.name,operation:"new"}):(ee===Object||ee==null)&&this.throwError("missing new",Logger$f.errors.MISSING_NEW,{name:re.name})}static globalLogger(){return _globalLogger$f||(_globalLogger$f=new Logger$f(version$1j)),_globalLogger$f}static setCensorship(ee,re){if(!ee&&re&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$f.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$f){if(!ee)return;this.globalLogger().throwError("error censorship permanent",Logger$f.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$f=!!ee,_permanentCensorErrors$f=!!re}static setLogLevel(ee){const re=LogLevels$f[ee.toLowerCase()];if(re==null){Logger$f.globalLogger().warn("invalid log level - "+ee);return}_logLevel$f=re}static from(ee){return new Logger$f(ee)}}Logger$f.errors=ErrorCode$f;Logger$f.levels=LogLevel$f;const version$1i="bytes/5.6.1",logger$10=new Logger$f(version$1i);function isHexable$d(te){return!!te.toHexString}function addSlice$d(te){return te.slice||(te.slice=function(){const ee=Array.prototype.slice.call(arguments);return addSlice$d(new Uint8Array(Array.prototype.slice.apply(te,ee)))}),te}function isBytesLike$6(te){return isHexString$i(te)&&!(te.length%2)||isBytes$d(te)}function isInteger$d(te){return typeof te=="number"&&te==te&&te%1===0}function isBytes$d(te){if(te==null)return!1;if(te.constructor===Uint8Array)return!0;if(typeof te=="string"||!isInteger$d(te.length)||te.length<0)return!1;for(let ee=0;ee<te.length;ee++){const re=te[ee];if(!isInteger$d(re)||re<0||re>=256)return!1}return!0}function arrayify$d(te,ee){if(ee||(ee={}),typeof te=="number"){logger$10.checkSafeUint53(te,"invalid arrayify value");const re=[];for(;te;)re.unshift(te&255),te=parseInt(String(te/256));return re.length===0&&re.push(0),addSlice$d(new Uint8Array(re))}if(ee.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),isHexable$d(te)&&(te=te.toHexString()),isHexString$i(te)){let re=te.substring(2);re.length%2&&(ee.hexPad==="left"?re="0"+re:ee.hexPad==="right"?re+="0":logger$10.throwArgumentError("hex data is odd-length","value",te));const ne=[];for(let ie=0;ie<re.length;ie+=2)ne.push(parseInt(re.substring(ie,ie+2),16));return addSlice$d(new Uint8Array(ne))}return isBytes$d(te)?addSlice$d(new Uint8Array(te)):logger$10.throwArgumentError("invalid arrayify value","value",te)}function concat$6(te){const ee=te.map(ie=>arrayify$d(ie)),re=ee.reduce((ie,oe)=>ie+oe.length,0),ne=new Uint8Array(re);return ee.reduce((ie,oe)=>(ne.set(oe,ie),ie+oe.length),0),addSlice$d(ne)}function stripZeros$2(te){let ee=arrayify$d(te);if(ee.length===0)return ee;let re=0;for(;re<ee.length&&ee[re]===0;)re++;return re&&(ee=ee.slice(re)),ee}function isHexString$i(te,ee){return!(typeof te!="string"||!te.match(/^0x[0-9A-Fa-f]*$/)||ee&&te.length!==2+2*ee)}const HexCharacters$8="0123456789abcdef";function hexlify$8(te,ee){if(ee||(ee={}),typeof te=="number"){logger$10.checkSafeUint53(te,"invalid hexlify value");let re="";for(;te;)re=HexCharacters$8[te&15]+re,te=Math.floor(te/16);return re.length?(re.length%2&&(re="0"+re),"0x"+re):"0x00"}if(typeof te=="bigint")return te=te.toString(16),te.length%2?"0x0"+te:"0x"+te;if(ee.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),isHexable$d(te))return te.toHexString();if(isHexString$i(te))return te.length%2&&(ee.hexPad==="left"?te="0x0"+te.substring(2):ee.hexPad==="right"?te+="0":logger$10.throwArgumentError("hex data is odd-length","value",te)),te.toLowerCase();if(isBytes$d(te)){let re="0x";for(let ne=0;ne<te.length;ne++){let ie=te[ne];re+=HexCharacters$8[(ie&240)>>4]+HexCharacters$8[ie&15]}return re}return logger$10.throwArgumentError("invalid hexlify value","value",te)}function hexDataLength$2(te){if(typeof te!="string")te=hexlify$8(te);else if(!isHexString$i(te)||te.length%2)return null;return(te.length-2)/2}function hexDataSlice$3(te,ee,re){return typeof te!="string"?te=hexlify$8(te):(!isHexString$i(te)||te.length%2)&&logger$10.throwArgumentError("invalid hexData","value",te),ee=2+2*ee,re!=null?"0x"+te.substring(ee,2+2*re):"0x"+te.substring(ee)}const version$1h="bignumber/5.6.0";var BN$k=_BN.BN;const logger$$=new Logger$f(version$1h),_constructorGuard$6={},MAX_SAFE$3=9007199254740991;let _warnedToStringRadix$3=!1;class BigNumber$3{constructor(ee,re){logger$$.checkNew(new.target,BigNumber$3),ee!==_constructorGuard$6&&logger$$.throwError("cannot call constructor directly; use BigNumber.from",Logger$f.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=re,this._isBigNumber=!0,Object.freeze(this)}fromTwos(ee){return toBigNumber$3(toBN$3(this).fromTwos(ee))}toTwos(ee){return toBigNumber$3(toBN$3(this).toTwos(ee))}abs(){return this._hex[0]==="-"?BigNumber$3.from(this._hex.substring(1)):this}add(ee){return toBigNumber$3(toBN$3(this).add(toBN$3(ee)))}sub(ee){return toBigNumber$3(toBN$3(this).sub(toBN$3(ee)))}div(ee){return BigNumber$3.from(ee).isZero()&&throwFault$3("division-by-zero","div"),toBigNumber$3(toBN$3(this).div(toBN$3(ee)))}mul(ee){return toBigNumber$3(toBN$3(this).mul(toBN$3(ee)))}mod(ee){const re=toBN$3(ee);return re.isNeg()&&throwFault$3("division-by-zero","mod"),toBigNumber$3(toBN$3(this).umod(re))}pow(ee){const re=toBN$3(ee);return re.isNeg()&&throwFault$3("negative-power","pow"),toBigNumber$3(toBN$3(this).pow(re))}and(ee){const re=toBN$3(ee);return(this.isNegative()||re.isNeg())&&throwFault$3("unbound-bitwise-result","and"),toBigNumber$3(toBN$3(this).and(re))}or(ee){const re=toBN$3(ee);return(this.isNegative()||re.isNeg())&&throwFault$3("unbound-bitwise-result","or"),toBigNumber$3(toBN$3(this).or(re))}xor(ee){const re=toBN$3(ee);return(this.isNegative()||re.isNeg())&&throwFault$3("unbound-bitwise-result","xor"),toBigNumber$3(toBN$3(this).xor(re))}mask(ee){return(this.isNegative()||ee<0)&&throwFault$3("negative-width","mask"),toBigNumber$3(toBN$3(this).maskn(ee))}shl(ee){return(this.isNegative()||ee<0)&&throwFault$3("negative-width","shl"),toBigNumber$3(toBN$3(this).shln(ee))}shr(ee){return(this.isNegative()||ee<0)&&throwFault$3("negative-width","shr"),toBigNumber$3(toBN$3(this).shrn(ee))}eq(ee){return toBN$3(this).eq(toBN$3(ee))}lt(ee){return toBN$3(this).lt(toBN$3(ee))}lte(ee){return toBN$3(this).lte(toBN$3(ee))}gt(ee){return toBN$3(this).gt(toBN$3(ee))}gte(ee){return toBN$3(this).gte(toBN$3(ee))}isNegative(){return this._hex[0]==="-"}isZero(){return toBN$3(this).isZero()}toNumber(){try{return toBN$3(this).toNumber()}catch{throwFault$3("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return logger$$.throwError("this platform does not support BigInt",Logger$f.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?_warnedToStringRadix$3||(_warnedToStringRadix$3=!0,logger$$.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?logger$$.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Logger$f.errors.UNEXPECTED_ARGUMENT,{}):logger$$.throwError("BigNumber.toString does not accept parameters",Logger$f.errors.UNEXPECTED_ARGUMENT,{})),toBN$3(this).toString(10)}toHexString(){return this._hex}toJSON(ee){return{type:"BigNumber",hex:this.toHexString()}}static from(ee){if(ee instanceof BigNumber$3)return ee;if(typeof ee=="string")return ee.match(/^-?0x[0-9a-f]+$/i)?new BigNumber$3(_constructorGuard$6,toHex$4(ee)):ee.match(/^-?[0-9]+$/)?new BigNumber$3(_constructorGuard$6,toHex$4(new BN$k(ee))):logger$$.throwArgumentError("invalid BigNumber string","value",ee);if(typeof ee=="number")return ee%1&&throwFault$3("underflow","BigNumber.from",ee),(ee>=MAX_SAFE$3||ee<=-MAX_SAFE$3)&&throwFault$3("overflow","BigNumber.from",ee),BigNumber$3.from(String(ee));const re=ee;if(typeof re=="bigint")return BigNumber$3.from(re.toString());if(isBytes$d(re))return BigNumber$3.from(hexlify$8(re));if(re)if(re.toHexString){const ne=re.toHexString();if(typeof ne=="string")return BigNumber$3.from(ne)}else{let ne=re._hex;if(ne==null&&re.type==="BigNumber"&&(ne=re.hex),typeof ne=="string"&&(isHexString$i(ne)||ne[0]==="-"&&isHexString$i(ne.substring(1))))return BigNumber$3.from(ne)}return logger$$.throwArgumentError("invalid BigNumber value","value",ee)}static isBigNumber(ee){return!!(ee&&ee._isBigNumber)}}function toHex$4(te){if(typeof te!="string")return toHex$4(te.toString(16));if(te[0]==="-")return te=te.substring(1),te[0]==="-"&&logger$$.throwArgumentError("invalid hex","value",te),te=toHex$4(te),te==="0x00"?te:"-"+te;if(te.substring(0,2)!=="0x"&&(te="0x"+te),te==="0x")return"0x00";for(te.length%2&&(te="0x0"+te.substring(2));te.length>4&&te.substring(0,4)==="0x00";)te="0x"+te.substring(4);return te}function toBigNumber$3(te){return BigNumber$3.from(toHex$4(te))}function toBN$3(te){const ee=BigNumber$3.from(te).toHexString();return ee[0]==="-"?new BN$k("-"+ee.substring(3),16):new BN$k(ee.substring(2),16)}function throwFault$3(te,ee,re){const ne={fault:te,operation:ee};return re!=null&&(ne.value=re),logger$$.throwError(te,Logger$f.errors.NUMERIC_FAULT,ne)}function _base36To16$3(te){return new BN$k(te,36).toString(16)}function _base16To36(te){return new BN$k(te,16).toString(36)}function keccak256$5(te){return"0x"+sha3.keccak_256(arrayify$d(te))}const version$1g="rlp/5.6.0",logger$_=new Logger$f(version$1g);function arrayifyInteger$2(te){const ee=[];for(;te;)ee.unshift(te&255),te>>=8;return ee}function _encode$2(te){if(Array.isArray(te)){let ne=[];if(te.forEach(function(oe){ne=ne.concat(_encode$2(oe))}),ne.length<=55)return ne.unshift(192+ne.length),ne;const ie=arrayifyInteger$2(ne.length);return ie.unshift(247+ie.length),ie.concat(ne)}isBytesLike$6(te)||logger$_.throwArgumentError("RLP object must be BytesLike","object",te);const ee=Array.prototype.slice.call(arrayify$d(te));if(ee.length===1&&ee[0]<=127)return ee;if(ee.length<=55)return ee.unshift(128+ee.length),ee;const re=arrayifyInteger$2(ee.length);return re.unshift(183+re.length),re.concat(ee)}function encode$8(te){return hexlify$8(_encode$2(te))}const version$1f="address/5.5.0",logger$Z=new Logger$f(version$1f);function getChecksumAddress$3(te){isHexString$i(te,20)||logger$Z.throwArgumentError("invalid address","address",te),te=te.toLowerCase();const ee=te.substring(2).split(""),re=new Uint8Array(40);for(let ie=0;ie<40;ie++)re[ie]=ee[ie].charCodeAt(0);const ne=arrayify$d(keccak256$5(re));for(let ie=0;ie<40;ie+=2)ne[ie>>1]>>4>=8&&(ee[ie]=ee[ie].toUpperCase()),(ne[ie>>1]&15)>=8&&(ee[ie+1]=ee[ie+1].toUpperCase());return"0x"+ee.join("")}const MAX_SAFE_INTEGER$5=9007199254740991;function log10$3(te){return Math.log10?Math.log10(te):Math.log(te)/Math.LN10}const ibanLookup$3={};for(let te=0;te<10;te++)ibanLookup$3[String(te)]=String(te);for(let te=0;te<26;te++)ibanLookup$3[String.fromCharCode(65+te)]=String(10+te);const safeDigits$3=Math.floor(log10$3(MAX_SAFE_INTEGER$5));function ibanChecksum$3(te){te=te.toUpperCase(),te=te.substring(4)+te.substring(0,2)+"00";let ee=te.split("").map(ne=>ibanLookup$3[ne]).join("");for(;ee.length>=safeDigits$3;){let ne=ee.substring(0,safeDigits$3);ee=parseInt(ne,10)%97+ee.substring(ne.length)}let re=String(98-parseInt(ee,10)%97);for(;re.length<2;)re="0"+re;return re}function getAddress$3(te){let ee=null;if(typeof te!="string"&&logger$Z.throwArgumentError("invalid address","address",te),te.match(/^(0x)?[0-9a-fA-F]{40}$/))te.substring(0,2)!=="0x"&&(te="0x"+te),ee=getChecksumAddress$3(te),te.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&ee!==te&&logger$Z.throwArgumentError("bad address checksum","address",te);else if(te.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(te.substring(2,4)!==ibanChecksum$3(te)&&logger$Z.throwArgumentError("bad icap checksum","address",te),ee=_base36To16$3(te.substring(4));ee.length<40;)ee="0"+ee;ee=getChecksumAddress$3("0x"+ee)}else logger$Z.throwArgumentError("invalid address","address",te);return ee}function isAddress(te){try{return getAddress$3(te),!0}catch{}return!1}function getIcapAddress(te){let ee=_base16To36(getAddress$3(te).substring(2)).toUpperCase();for(;ee.length<30;)ee="0"+ee;return"XE"+ibanChecksum$3("XE00"+ee)+ee}function getContractAddress(te){let ee=null;try{ee=getAddress$3(te.from)}catch{logger$Z.throwArgumentError("missing from address","transaction",te)}const re=stripZeros$2(arrayify$d(BigNumber$3.from(te.nonce).toHexString()));return getAddress$3(hexDataSlice$3(keccak256$5(encode$8([ee,re])),12))}function getCreate2Address(te,ee,re){return hexDataLength$2(ee)!==32&&logger$Z.throwArgumentError("salt must be 32 bytes","salt",ee),hexDataLength$2(re)!==32&&logger$Z.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",re),getAddress$3(hexDataSlice$3(keccak256$5(concat$6(["0xff",getAddress$3(te),ee,re])),12))}var lib_esm$j=Object.freeze(Object.defineProperty({__proto__:null,getAddress:getAddress$3,isAddress,getIcapAddress,getContractAddress,getCreate2Address},Symbol.toStringTag,{value:"Module"})),require$$1$2=getAugmentedNamespace(lib_esm$j);const version$1e="logger/5.6.0";let _permanentCensorErrors$e=!1,_censorErrors$e=!1;const LogLevels$e={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$e=LogLevels$e.default,_globalLogger$e=null;function _checkNormalize$e(){try{const te=[];if(["NFD","NFC","NFKD","NFKC"].forEach(ee=>{try{if("test".normalize(ee)!=="test")throw new Error("bad normalize")}catch{te.push(ee)}}),te.length)throw new Error("missing "+te.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(te){return te.message}return null}const _normalizeError$e=_checkNormalize$e();var LogLevel$e;(function(te){te.DEBUG="DEBUG",te.INFO="INFO",te.WARNING="WARNING",te.ERROR="ERROR",te.OFF="OFF"})(LogLevel$e||(LogLevel$e={}));var ErrorCode$e;(function(te){te.UNKNOWN_ERROR="UNKNOWN_ERROR",te.NOT_IMPLEMENTED="NOT_IMPLEMENTED",te.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",te.NETWORK_ERROR="NETWORK_ERROR",te.SERVER_ERROR="SERVER_ERROR",te.TIMEOUT="TIMEOUT",te.BUFFER_OVERRUN="BUFFER_OVERRUN",te.NUMERIC_FAULT="NUMERIC_FAULT",te.MISSING_NEW="MISSING_NEW",te.INVALID_ARGUMENT="INVALID_ARGUMENT",te.MISSING_ARGUMENT="MISSING_ARGUMENT",te.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",te.CALL_EXCEPTION="CALL_EXCEPTION",te.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",te.NONCE_EXPIRED="NONCE_EXPIRED",te.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",te.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",te.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(ErrorCode$e||(ErrorCode$e={}));const HEX$e="0123456789abcdef";class Logger$e{constructor(ee){Object.defineProperty(this,"version",{enumerable:!0,value:ee,writable:!1})}_log(ee,re){const ne=ee.toLowerCase();LogLevels$e[ne]==null&&this.throwArgumentError("invalid log level name","logLevel",ee),!(_logLevel$e>LogLevels$e[ne])&&console.log.apply(console,re)}debug(...ee){this._log(Logger$e.levels.DEBUG,ee)}info(...ee){this._log(Logger$e.levels.INFO,ee)}warn(...ee){this._log(Logger$e.levels.WARNING,ee)}makeError(ee,re,ne){if(_censorErrors$e)return this.makeError("censored error",re,{});re||(re=Logger$e.errors.UNKNOWN_ERROR),ne||(ne={});const ie=[];Object.keys(ne).forEach(fe=>{const ue=ne[fe];try{if(ue instanceof Uint8Array){let le="";for(let pe=0;pe<ue.length;pe++)le+=HEX$e[ue[pe]>>4],le+=HEX$e[ue[pe]&15];ie.push(fe+"=Uint8Array(0x"+le+")")}else ie.push(fe+"="+JSON.stringify(ue))}catch{ie.push(fe+"="+JSON.stringify(ne[fe].toString()))}}),ie.push(`code=${re}`),ie.push(`version=${this.version}`);const oe=ee;let se="";switch(re){case ErrorCode$e.NUMERIC_FAULT:{se="NUMERIC_FAULT";const fe=ee;switch(fe){case"overflow":case"underflow":case"division-by-zero":se+="-"+fe;break;case"negative-power":case"negative-width":se+="-unsupported";break;case"unbound-bitwise-result":se+="-unbound-result";break}break}case ErrorCode$e.CALL_EXCEPTION:case ErrorCode$e.INSUFFICIENT_FUNDS:case ErrorCode$e.MISSING_NEW:case ErrorCode$e.NONCE_EXPIRED:case ErrorCode$e.REPLACEMENT_UNDERPRICED:case ErrorCode$e.TRANSACTION_REPLACED:case ErrorCode$e.UNPREDICTABLE_GAS_LIMIT:se=re;break}se&&(ee+=" [ See: https://links.ethers.org/v5-errors-"+se+" ]"),ie.length&&(ee+=" ("+ie.join(", ")+")");const ae=new Error(ee);return ae.reason=oe,ae.code=re,Object.keys(ne).forEach(function(fe){ae[fe]=ne[fe]}),ae}throwError(ee,re,ne){throw this.makeError(ee,re,ne)}throwArgumentError(ee,re,ne){return this.throwError(ee,Logger$e.errors.INVALID_ARGUMENT,{argument:re,value:ne})}assert(ee,re,ne,ie){ee||this.throwError(re,ne,ie)}assertArgument(ee,re,ne,ie){ee||this.throwArgumentError(re,ne,ie)}checkNormalize(ee){_normalizeError$e&&this.throwError("platform missing String.prototype.normalize",Logger$e.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$e})}checkSafeUint53(ee,re){typeof ee=="number"&&(re==null&&(re="value not safe"),(ee<0||ee>=9007199254740991)&&this.throwError(re,Logger$e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:ee}),ee%1&&this.throwError(re,Logger$e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:ee}))}checkArgumentCount(ee,re,ne){ne?ne=": "+ne:ne="",ee<re&&this.throwError("missing argument"+ne,Logger$e.errors.MISSING_ARGUMENT,{count:ee,expectedCount:re}),ee>re&&this.throwError("too many arguments"+ne,Logger$e.errors.UNEXPECTED_ARGUMENT,{count:ee,expectedCount:re})}checkNew(ee,re){(ee===Object||ee==null)&&this.throwError("missing new",Logger$e.errors.MISSING_NEW,{name:re.name})}checkAbstract(ee,re){ee===re?this.throwError("cannot instantiate abstract class "+JSON.stringify(re.name)+" directly; use a sub-class",Logger$e.errors.UNSUPPORTED_OPERATION,{name:ee.name,operation:"new"}):(ee===Object||ee==null)&&this.throwError("missing new",Logger$e.errors.MISSING_NEW,{name:re.name})}static globalLogger(){return _globalLogger$e||(_globalLogger$e=new Logger$e(version$1e)),_globalLogger$e}static setCensorship(ee,re){if(!ee&&re&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$e){if(!ee)return;this.globalLogger().throwError("error censorship permanent",Logger$e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$e=!!ee,_permanentCensorErrors$e=!!re}static setLogLevel(ee){const re=LogLevels$e[ee.toLowerCase()];if(re==null){Logger$e.globalLogger().warn("invalid log level - "+ee);return}_logLevel$e=re}static from(ee){return new Logger$e(ee)}}Logger$e.errors=ErrorCode$e;Logger$e.levels=LogLevel$e;const version$1d="bytes/5.6.1",logger$Y=new Logger$e(version$1d);function isHexable$c(te){return!!te.toHexString}function addSlice$c(te){return te.slice||(te.slice=function(){const ee=Array.prototype.slice.call(arguments);return addSlice$c(new Uint8Array(Array.prototype.slice.apply(te,ee)))}),te}function isInteger$c(te){return typeof te=="number"&&te==te&&te%1===0}function isBytes$c(te){if(te==null)return!1;if(te.constructor===Uint8Array)return!0;if(typeof te=="string"||!isInteger$c(te.length)||te.length<0)return!1;for(let ee=0;ee<te.length;ee++){const re=te[ee];if(!isInteger$c(re)||re<0||re>=256)return!1}return!0}function arrayify$c(te,ee){if(ee||(ee={}),typeof te=="number"){logger$Y.checkSafeUint53(te,"invalid arrayify value");const re=[];for(;te;)re.unshift(te&255),te=parseInt(String(te/256));return re.length===0&&re.push(0),addSlice$c(new Uint8Array(re))}if(ee.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),isHexable$c(te)&&(te=te.toHexString()),isHexString$h(te)){let re=te.substring(2);re.length%2&&(ee.hexPad==="left"?re="0"+re:ee.hexPad==="right"?re+="0":logger$Y.throwArgumentError("hex data is odd-length","value",te));const ne=[];for(let ie=0;ie<re.length;ie+=2)ne.push(parseInt(re.substring(ie,ie+2),16));return addSlice$c(new Uint8Array(ne))}return isBytes$c(te)?addSlice$c(new Uint8Array(te)):logger$Y.throwArgumentError("invalid arrayify value","value",te)}function isHexString$h(te,ee){return!(typeof te!="string"||!te.match(/^0x[0-9A-Fa-f]*$/)||ee&&te.length!==2+2*ee)}function decode$9(te){te=atob(te);const ee=[];for(let re=0;re<te.length;re++)ee.push(te.charCodeAt(re));return arrayify$c(ee)}function encode$7(te){te=arrayify$c(te);let ee="";for(let re=0;re<te.length;re++)ee+=String.fromCharCode(te[re]);return btoa(ee)}var lib_esm$i=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$9,encode:encode$7},Symbol.toStringTag,{value:"Module"})),require$$2$2=getAugmentedNamespace(lib_esm$i);const version$1c="logger/5.6.0";let _permanentCensorErrors$d=!1,_censorErrors$d=!1;const LogLevels$d={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$d=LogLevels$d.default,_globalLogger$d=null;function _checkNormalize$d(){try{const te=[];if(["NFD","NFC","NFKD","NFKC"].forEach(ee=>{try{if("test".normalize(ee)!=="test")throw new Error("bad normalize")}catch{te.push(ee)}}),te.length)throw new Error("missing "+te.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(te){return te.message}return null}const _normalizeError$d=_checkNormalize$d();var LogLevel$d;(function(te){te.DEBUG="DEBUG",te.INFO="INFO",te.WARNING="WARNING",te.ERROR="ERROR",te.OFF="OFF"})(LogLevel$d||(LogLevel$d={}));var ErrorCode$d;(function(te){te.UNKNOWN_ERROR="UNKNOWN_ERROR",te.NOT_IMPLEMENTED="NOT_IMPLEMENTED",te.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",te.NETWORK_ERROR="NETWORK_ERROR",te.SERVER_ERROR="SERVER_ERROR",te.TIMEOUT="TIMEOUT",te.BUFFER_OVERRUN="BUFFER_OVERRUN",te.NUMERIC_FAULT="NUMERIC_FAULT",te.MISSING_NEW="MISSING_NEW",te.INVALID_ARGUMENT="INVALID_ARGUMENT",te.MISSING_ARGUMENT="MISSING_ARGUMENT",te.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",te.CALL_EXCEPTION="CALL_EXCEPTION",te.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",te.NONCE_EXPIRED="NONCE_EXPIRED",te.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",te.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",te.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(ErrorCode$d||(ErrorCode$d={}));const HEX$d="0123456789abcdef";class Logger$d{constructor(ee){Object.defineProperty(this,"version",{enumerable:!0,value:ee,writable:!1})}_log(ee,re){const ne=ee.toLowerCase();LogLevels$d[ne]==null&&this.throwArgumentError("invalid log level name","logLevel",ee),!(_logLevel$d>LogLevels$d[ne])&&console.log.apply(console,re)}debug(...ee){this._log(Logger$d.levels.DEBUG,ee)}info(...ee){this._log(Logger$d.levels.INFO,ee)}warn(...ee){this._log(Logger$d.levels.WARNING,ee)}makeError(ee,re,ne){if(_censorErrors$d)return this.makeError("censored error",re,{});re||(re=Logger$d.errors.UNKNOWN_ERROR),ne||(ne={});const ie=[];Object.keys(ne).forEach(fe=>{const ue=ne[fe];try{if(ue instanceof Uint8Array){let le="";for(let pe=0;pe<ue.length;pe++)le+=HEX$d[ue[pe]>>4],le+=HEX$d[ue[pe]&15];ie.push(fe+"=Uint8Array(0x"+le+")")}else ie.push(fe+"="+JSON.stringify(ue))}catch{ie.push(fe+"="+JSON.stringify(ne[fe].toString()))}}),ie.push(`code=${re}`),ie.push(`version=${this.version}`);const oe=ee;let se="";switch(re){case ErrorCode$d.NUMERIC_FAULT:{se="NUMERIC_FAULT";const fe=ee;switch(fe){case"overflow":case"underflow":case"division-by-zero":se+="-"+fe;break;case"negative-power":case"negative-width":se+="-unsupported";break;case"unbound-bitwise-result":se+="-unbound-result";break}break}case ErrorCode$d.CALL_EXCEPTION:case ErrorCode$d.INSUFFICIENT_FUNDS:case ErrorCode$d.MISSING_NEW:case ErrorCode$d.NONCE_EXPIRED:case ErrorCode$d.REPLACEMENT_UNDERPRICED:case ErrorCode$d.TRANSACTION_REPLACED:case ErrorCode$d.UNPREDICTABLE_GAS_LIMIT:se=re;break}se&&(ee+=" [ See: https://links.ethers.org/v5-errors-"+se+" ]"),ie.length&&(ee+=" ("+ie.join(", ")+")");const ae=new Error(ee);return ae.reason=oe,ae.code=re,Object.keys(ne).forEach(function(fe){ae[fe]=ne[fe]}),ae}throwError(ee,re,ne){throw this.makeError(ee,re,ne)}throwArgumentError(ee,re,ne){return this.throwError(ee,Logger$d.errors.INVALID_ARGUMENT,{argument:re,value:ne})}assert(ee,re,ne,ie){ee||this.throwError(re,ne,ie)}assertArgument(ee,re,ne,ie){ee||this.throwArgumentError(re,ne,ie)}checkNormalize(ee){_normalizeError$d&&this.throwError("platform missing String.prototype.normalize",Logger$d.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$d})}checkSafeUint53(ee,re){typeof ee=="number"&&(re==null&&(re="value not safe"),(ee<0||ee>=9007199254740991)&&this.throwError(re,Logger$d.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:ee}),ee%1&&this.throwError(re,Logger$d.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:ee}))}checkArgumentCount(ee,re,ne){ne?ne=": "+ne:ne="",ee<re&&this.throwError("missing argument"+ne,Logger$d.errors.MISSING_ARGUMENT,{count:ee,expectedCount:re}),ee>re&&this.throwError("too many arguments"+ne,Logger$d.errors.UNEXPECTED_ARGUMENT,{count:ee,expectedCount:re})}checkNew(ee,re){(ee===Object||ee==null)&&this.throwError("missing new",Logger$d.errors.MISSING_NEW,{name:re.name})}checkAbstract(ee,re){ee===re?this.throwError("cannot instantiate abstract class "+JSON.stringify(re.name)+" directly; use a sub-class",Logger$d.errors.UNSUPPORTED_OPERATION,{name:ee.name,operation:"new"}):(ee===Object||ee==null)&&this.throwError("missing new",Logger$d.errors.MISSING_NEW,{name:re.name})}static globalLogger(){return _globalLogger$d||(_globalLogger$d=new Logger$d(version$1c)),_globalLogger$d}static setCensorship(ee,re){if(!ee&&re&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$d.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$d){if(!ee)return;this.globalLogger().throwError("error censorship permanent",Logger$d.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$d=!!ee,_permanentCensorErrors$d=!!re}static setLogLevel(ee){const re=LogLevels$d[ee.toLowerCase()];if(re==null){Logger$d.globalLogger().warn("invalid log level - "+ee);return}_logLevel$d=re}static from(ee){return new Logger$d(ee)}}Logger$d.errors=ErrorCode$d;Logger$d.levels=LogLevel$d;const version$1b="bytes/5.6.1",logger$X=new Logger$d(version$1b);function isHexable$b(te){return!!te.toHexString}function addSlice$b(te){return te.slice||(te.slice=function(){const ee=Array.prototype.slice.call(arguments);return addSlice$b(new Uint8Array(Array.prototype.slice.apply(te,ee)))}),te}function isInteger$b(te){return typeof te=="number"&&te==te&&te%1===0}function isBytes$b(te){if(te==null)return!1;if(te.constructor===Uint8Array)return!0;if(typeof te=="string"||!isInteger$b(te.length)||te.length<0)return!1;for(let ee=0;ee<te.length;ee++){const re=te[ee];if(!isInteger$b(re)||re<0||re>=256)return!1}return!0}function arrayify$b(te,ee){if(ee||(ee={}),typeof te=="number"){logger$X.checkSafeUint53(te,"invalid arrayify value");const re=[];for(;te;)re.unshift(te&255),te=parseInt(String(te/256));return re.length===0&&re.push(0),addSlice$b(new Uint8Array(re))}if(ee.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),isHexable$b(te)&&(te=te.toHexString()),isHexString$g(te)){let re=te.substring(2);re.length%2&&(ee.hexPad==="left"?re="0"+re:ee.hexPad==="right"?re+="0":logger$X.throwArgumentError("hex data is odd-length","value",te));const ne=[];for(let ie=0;ie<re.length;ie+=2)ne.push(parseInt(re.substring(ie,ie+2),16));return addSlice$b(new Uint8Array(ne))}return isBytes$b(te)?addSlice$b(new Uint8Array(te)):logger$X.throwArgumentError("invalid arrayify value","value",te)}function isHexString$g(te,ee){return!(typeof te!="string"||!te.match(/^0x[0-9A-Fa-f]*$/)||ee&&te.length!==2+2*ee)}const version$1a="properties/5.6.0";globalThis&&globalThis.__awaiter;new Logger$d(version$1a);function defineReadOnly$5(te,ee,re){Object.defineProperty(te,ee,{enumerable:!0,value:re,writable:!1})}class BaseX$2{constructor(ee){defineReadOnly$5(this,"alphabet",ee),defineReadOnly$5(this,"base",ee.length),defineReadOnly$5(this,"_alphabetMap",{}),defineReadOnly$5(this,"_leader",ee.charAt(0));for(let re=0;re<ee.length;re++)this._alphabetMap[ee.charAt(re)]=re}encode(ee){let re=arrayify$b(ee);if(re.length===0)return"";let ne=[0];for(let oe=0;oe<re.length;++oe){let se=re[oe];for(let ae=0;ae<ne.length;++ae)se+=ne[ae]<<8,ne[ae]=se%this.base,se=se/this.base|0;for(;se>0;)ne.push(se%this.base),se=se/this.base|0}let ie="";for(let oe=0;re[oe]===0&&oe<re.length-1;++oe)ie+=this._leader;for(let oe=ne.length-1;oe>=0;--oe)ie+=this.alphabet[ne[oe]];return ie}decode(ee){if(typeof ee!="string")throw new TypeError("Expected String");let re=[];if(ee.length===0)return new Uint8Array(re);re.push(0);for(let ne=0;ne<ee.length;ne++){let ie=this._alphabetMap[ee[ne]];if(ie===void 0)throw new Error("Non-base"+this.base+" character");let oe=ie;for(let se=0;se<re.length;++se)oe+=re[se]*this.base,re[se]=oe&255,oe>>=8;for(;oe>0;)re.push(oe&255),oe>>=8}for(let ne=0;ee[ne]===this._leader&&ne<ee.length-1;++ne)re.push(0);return arrayify$b(new Uint8Array(re.reverse()))}}const Base32=new BaseX$2("abcdefghijklmnopqrstuvwxyz234567"),Base58$2=new BaseX$2("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var lib_esm$h=Object.freeze(Object.defineProperty({__proto__:null,BaseX:BaseX$2,Base32,Base58:Base58$2},Symbol.toStringTag,{value:"Module"})),require$$3$2=getAugmentedNamespace(lib_esm$h);const version$19="logger/5.6.0";let _permanentCensorErrors$c=!1,_censorErrors$c=!1;const LogLevels$c={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$c=LogLevels$c.default,_globalLogger$c=null;function _checkNormalize$c(){try{const te=[];if(["NFD","NFC","NFKD","NFKC"].forEach(ee=>{try{if("test".normalize(ee)!=="test")throw new Error("bad normalize")}catch{te.push(ee)}}),te.length)throw new Error("missing "+te.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(te){return te.message}return null}const _normalizeError$c=_checkNormalize$c();var LogLevel$c;(function(te){te.DEBUG="DEBUG",te.INFO="INFO",te.WARNING="WARNING",te.ERROR="ERROR",te.OFF="OFF"})(LogLevel$c||(LogLevel$c={}));var ErrorCode$c;(function(te){te.UNKNOWN_ERROR="UNKNOWN_ERROR",te.NOT_IMPLEMENTED="NOT_IMPLEMENTED",te.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",te.NETWORK_ERROR="NETWORK_ERROR",te.SERVER_ERROR="SERVER_ERROR",te.TIMEOUT="TIMEOUT",te.BUFFER_OVERRUN="BUFFER_OVERRUN",te.NUMERIC_FAULT="NUMERIC_FAULT",te.MISSING_NEW="MISSING_NEW",te.INVALID_ARGUMENT="INVALID_ARGUMENT",te.MISSING_ARGUMENT="MISSING_ARGUMENT",te.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",te.CALL_EXCEPTION="CALL_EXCEPTION",te.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",te.NONCE_EXPIRED="NONCE_EXPIRED",te.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",te.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",te.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(ErrorCode$c||(ErrorCode$c={}));const HEX$c="0123456789abcdef";class Logger$c{constructor(ee){Object.defineProperty(this,"version",{enumerable:!0,value:ee,writable:!1})}_log(ee,re){const ne=ee.toLowerCase();LogLevels$c[ne]==null&&this.throwArgumentError("invalid log level name","logLevel",ee),!(_logLevel$c>LogLevels$c[ne])&&console.log.apply(console,re)}debug(...ee){this._log(Logger$c.levels.DEBUG,ee)}info(...ee){this._log(Logger$c.levels.INFO,ee)}warn(...ee){this._log(Logger$c.levels.WARNING,ee)}makeError(ee,re,ne){if(_censorErrors$c)return this.makeError("censored error",re,{});re||(re=Logger$c.errors.UNKNOWN_ERROR),ne||(ne={});const ie=[];Object.keys(ne).forEach(fe=>{const ue=ne[fe];try{if(ue instanceof Uint8Array){let le="";for(let pe=0;pe<ue.length;pe++)le+=HEX$c[ue[pe]>>4],le+=HEX$c[ue[pe]&15];ie.push(fe+"=Uint8Array(0x"+le+")")}else ie.push(fe+"="+JSON.stringify(ue))}catch{ie.push(fe+"="+JSON.stringify(ne[fe].toString()))}}),ie.push(`code=${re}`),ie.push(`version=${this.version}`);const oe=ee;let se="";switch(re){case ErrorCode$c.NUMERIC_FAULT:{se="NUMERIC_FAULT";const fe=ee;switch(fe){case"overflow":case"underflow":case"division-by-zero":se+="-"+fe;break;case"negative-power":case"negative-width":se+="-unsupported";break;case"unbound-bitwise-result":se+="-unbound-result";break}break}case ErrorCode$c.CALL_EXCEPTION:case ErrorCode$c.INSUFFICIENT_FUNDS:case ErrorCode$c.MISSING_NEW:case ErrorCode$c.NONCE_EXPIRED:case ErrorCode$c.REPLACEMENT_UNDERPRICED:case ErrorCode$c.TRANSACTION_REPLACED:case ErrorCode$c.UNPREDICTABLE_GAS_LIMIT:se=re;break}se&&(ee+=" [ See: https://links.ethers.org/v5-errors-"+se+" ]"),ie.length&&(ee+=" ("+ie.join(", ")+")");const ae=new Error(ee);return ae.reason=oe,ae.code=re,Object.keys(ne).forEach(function(fe){ae[fe]=ne[fe]}),ae}throwError(ee,re,ne){throw this.makeError(ee,re,ne)}throwArgumentError(ee,re,ne){return this.throwError(ee,Logger$c.errors.INVALID_ARGUMENT,{argument:re,value:ne})}assert(ee,re,ne,ie){ee||this.throwError(re,ne,ie)}assertArgument(ee,re,ne,ie){ee||this.throwArgumentError(re,ne,ie)}checkNormalize(ee){_normalizeError$c&&this.throwError("platform missing String.prototype.normalize",Logger$c.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$c})}checkSafeUint53(ee,re){typeof ee=="number"&&(re==null&&(re="value not safe"),(ee<0||ee>=9007199254740991)&&this.throwError(re,Logger$c.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:ee}),ee%1&&this.throwError(re,Logger$c.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:ee}))}checkArgumentCount(ee,re,ne){ne?ne=": "+ne:ne="",ee<re&&this.throwError("missing argument"+ne,Logger$c.errors.MISSING_ARGUMENT,{count:ee,expectedCount:re}),ee>re&&this.throwError("too many arguments"+ne,Logger$c.errors.UNEXPECTED_ARGUMENT,{count:ee,expectedCount:re})}checkNew(ee,re){(ee===Object||ee==null)&&this.throwError("missing new",Logger$c.errors.MISSING_NEW,{name:re.name})}checkAbstract(ee,re){ee===re?this.throwError("cannot instantiate abstract class "+JSON.stringify(re.name)+" directly; use a sub-class",Logger$c.errors.UNSUPPORTED_OPERATION,{name:ee.name,operation:"new"}):(ee===Object||ee==null)&&this.throwError("missing new",Logger$c.errors.MISSING_NEW,{name:re.name})}static globalLogger(){return _globalLogger$c||(_globalLogger$c=new Logger$c(version$19)),_globalLogger$c}static setCensorship(ee,re){if(!ee&&re&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$c.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$c){if(!ee)return;this.globalLogger().throwError("error censorship permanent",Logger$c.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$c=!!ee,_permanentCensorErrors$c=!!re}static setLogLevel(ee){const re=LogLevels$c[ee.toLowerCase()];if(re==null){Logger$c.globalLogger().warn("invalid log level - "+ee);return}_logLevel$c=re}static from(ee){return new Logger$c(ee)}}Logger$c.errors=ErrorCode$c;Logger$c.levels=LogLevel$c;const version$18="bytes/5.5.0",logger$W=new Logger$c(version$18);function isHexable$a(te){return!!te.toHexString}function addSlice$a(te){return te.slice||(te.slice=function(){const ee=Array.prototype.slice.call(arguments);return addSlice$a(new Uint8Array(Array.prototype.slice.apply(te,ee)))}),te}function isBytesLike$5(te){return isHexString$f(te)&&!(te.length%2)||isBytes$a(te)}function isInteger$a(te){return typeof te=="number"&&te==te&&te%1===0}function isBytes$a(te){if(te==null)return!1;if(te.constructor===Uint8Array)return!0;if(typeof te=="string"||!isInteger$a(te.length)||te.length<0)return!1;for(let ee=0;ee<te.length;ee++){const re=te[ee];if(!isInteger$a(re)||re<0||re>=256)return!1}return!0}function arrayify$a(te,ee){if(ee||(ee={}),typeof te=="number"){logger$W.checkSafeUint53(te,"invalid arrayify value");const re=[];for(;te;)re.unshift(te&255),te=parseInt(String(te/256));return re.length===0&&re.push(0),addSlice$a(new Uint8Array(re))}if(ee.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),isHexable$a(te)&&(te=te.toHexString()),isHexString$f(te)){let re=te.substring(2);re.length%2&&(ee.hexPad==="left"?re="0x0"+re.substring(2):ee.hexPad==="right"?re+="0":logger$W.throwArgumentError("hex data is odd-length","value",te));const ne=[];for(let ie=0;ie<re.length;ie+=2)ne.push(parseInt(re.substring(ie,ie+2),16));return addSlice$a(new Uint8Array(ne))}return isBytes$a(te)?addSlice$a(new Uint8Array(te)):logger$W.throwArgumentError("invalid arrayify value","value",te)}function concat$5(te){const ee=te.map(ie=>arrayify$a(ie)),re=ee.reduce((ie,oe)=>ie+oe.length,0),ne=new Uint8Array(re);return ee.reduce((ie,oe)=>(ne.set(oe,ie),ie+oe.length),0),addSlice$a(ne)}function stripZeros$1(te){let ee=arrayify$a(te);if(ee.length===0)return ee;let re=0;for(;re<ee.length&&ee[re]===0;)re++;return re&&(ee=ee.slice(re)),ee}function zeroPad$3(te,ee){te=arrayify$a(te),te.length>ee&&logger$W.throwArgumentError("value out of range","value",arguments[0]);const re=new Uint8Array(ee);return re.set(te,ee-te.length),addSlice$a(re)}function isHexString$f(te,ee){return!(typeof te!="string"||!te.match(/^0x[0-9A-Fa-f]*$/)||ee&&te.length!==2+2*ee)}const HexCharacters$7="0123456789abcdef";function hexlify$7(te,ee){if(ee||(ee={}),typeof te=="number"){logger$W.checkSafeUint53(te,"invalid hexlify value");let re="";for(;te;)re=HexCharacters$7[te&15]+re,te=Math.floor(te/16);return re.length?(re.length%2&&(re="0"+re),"0x"+re):"0x00"}if(typeof te=="bigint")return te=te.toString(16),te.length%2?"0x0"+te:"0x"+te;if(ee.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),isHexable$a(te))return te.toHexString();if(isHexString$f(te))return te.length%2&&(ee.hexPad==="left"?te="0x0"+te.substring(2):ee.hexPad==="right"?te+="0":logger$W.throwArgumentError("hex data is odd-length","value",te)),te.toLowerCase();if(isBytes$a(te)){let re="0x";for(let ne=0;ne<te.length;ne++){let ie=te[ne];re+=HexCharacters$7[(ie&240)>>4]+HexCharacters$7[ie&15]}return re}return logger$W.throwArgumentError("invalid hexlify value","value",te)}function hexDataLength$1(te){if(typeof te!="string")te=hexlify$7(te);else if(!isHexString$f(te)||te.length%2)return null;return(te.length-2)/2}function hexDataSlice$2(te,ee,re){return typeof te!="string"?te=hexlify$7(te):(!isHexString$f(te)||te.length%2)&&logger$W.throwArgumentError("invalid hexData","value",te),ee=2+2*ee,re!=null?"0x"+te.substring(ee,2+2*re):"0x"+te.substring(ee)}function hexConcat$2(te){let ee="0x";return te.forEach(re=>{ee+=hexlify$7(re).substring(2)}),ee}function hexValue(te){const ee=hexStripZeros(hexlify$7(te,{hexPad:"left"}));return ee==="0x"?"0x0":ee}function hexStripZeros(te){typeof te!="string"&&(te=hexlify$7(te)),isHexString$f(te)||logger$W.throwArgumentError("invalid hex string","value",te),te=te.substring(2);let ee=0;for(;ee<te.length&&te[ee]==="0";)ee++;return"0x"+te.substring(ee)}function hexZeroPad$4(te,ee){for(typeof te!="string"?te=hexlify$7(te):isHexString$f(te)||logger$W.throwArgumentError("invalid hex string","value",te),te.length>2*ee+2&&logger$W.throwArgumentError("value out of range","value",arguments[1]);te.length<2*ee+2;)te="0x0"+te.substring(2);return te}function splitSignature$3(te){const ee={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0};if(isBytesLike$5(te)){const re=arrayify$a(te);re.length!==65&&logger$W.throwArgumentError("invalid signature string; must be 65 bytes","signature",te),ee.r=hexlify$7(re.slice(0,32)),ee.s=hexlify$7(re.slice(32,64)),ee.v=re[64],ee.v<27&&(ee.v===0||ee.v===1?ee.v+=27:logger$W.throwArgumentError("signature invalid v byte","signature",te)),ee.recoveryParam=1-ee.v%2,ee.recoveryParam&&(re[32]|=128),ee._vs=hexlify$7(re.slice(32,64))}else{if(ee.r=te.r,ee.s=te.s,ee.v=te.v,ee.recoveryParam=te.recoveryParam,ee._vs=te._vs,ee._vs!=null){const ie=zeroPad$3(arrayify$a(ee._vs),32);ee._vs=hexlify$7(ie);const oe=ie[0]>=128?1:0;ee.recoveryParam==null?ee.recoveryParam=oe:ee.recoveryParam!==oe&&logger$W.throwArgumentError("signature recoveryParam mismatch _vs","signature",te),ie[0]&=127;const se=hexlify$7(ie);ee.s==null?ee.s=se:ee.s!==se&&logger$W.throwArgumentError("signature v mismatch _vs","signature",te)}if(ee.recoveryParam==null)ee.v==null?logger$W.throwArgumentError("signature missing v and recoveryParam","signature",te):ee.v===0||ee.v===1?ee.recoveryParam=ee.v:ee.recoveryParam=1-ee.v%2;else if(ee.v==null)ee.v=27+ee.recoveryParam;else{const ie=ee.v===0||ee.v===1?ee.v:1-ee.v%2;ee.recoveryParam!==ie&&logger$W.throwArgumentError("signature recoveryParam mismatch v","signature",te)}ee.r==null||!isHexString$f(ee.r)?logger$W.throwArgumentError("signature missing or invalid r","signature",te):ee.r=hexZeroPad$4(ee.r,32),ee.s==null||!isHexString$f(ee.s)?logger$W.throwArgumentError("signature missing or invalid s","signature",te):ee.s=hexZeroPad$4(ee.s,32);const re=arrayify$a(ee.s);re[0]>=128&&logger$W.throwArgumentError("signature s out of range","signature",te),ee.recoveryParam&&(re[0]|=128);const ne=hexlify$7(re);ee._vs&&(isHexString$f(ee._vs)||logger$W.throwArgumentError("signature invalid _vs","signature",te),ee._vs=hexZeroPad$4(ee._vs,32)),ee._vs==null?ee._vs=ne:ee._vs!==ne&&logger$W.throwArgumentError("signature _vs mismatch v and s","signature",te)}return ee}function joinSignature(te){return te=splitSignature$3(te),hexlify$7(concat$5([te.r,te.s,te.recoveryParam?"0x1c":"0x1b"]))}var lib_esm$g=Object.freeze(Object.defineProperty({__proto__:null,isBytesLike:isBytesLike$5,isBytes:isBytes$a,arrayify:arrayify$a,concat:concat$5,stripZeros:stripZeros$1,zeroPad:zeroPad$3,isHexString:isHexString$f,hexlify:hexlify$7,hexDataLength:hexDataLength$1,hexDataSlice:hexDataSlice$2,hexConcat:hexConcat$2,hexValue,hexStripZeros,hexZeroPad:hexZeroPad$4,splitSignature:splitSignature$3,joinSignature},Symbol.toStringTag,{value:"Module"})),require$$4=getAugmentedNamespace(lib_esm$g);const version$17="logger/5.6.0";let _permanentCensorErrors$b=!1,_censorErrors$b=!1;const LogLevels$b={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$b=LogLevels$b.default,_globalLogger$b=null;function _checkNormalize$b(){try{const te=[];if(["NFD","NFC","NFKD","NFKC"].forEach(ee=>{try{if("test".normalize(ee)!=="test")throw new Error("bad normalize")}catch{te.push(ee)}}),te.length)throw new Error("missing "+te.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(te){return te.message}return null}const _normalizeError$b=_checkNormalize$b();var LogLevel$b;(function(te){te.DEBUG="DEBUG",te.INFO="INFO",te.WARNING="WARNING",te.ERROR="ERROR",te.OFF="OFF"})(LogLevel$b||(LogLevel$b={}));var ErrorCode$b;(function(te){te.UNKNOWN_ERROR="UNKNOWN_ERROR",te.NOT_IMPLEMENTED="NOT_IMPLEMENTED",te.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",te.NETWORK_ERROR="NETWORK_ERROR",te.SERVER_ERROR="SERVER_ERROR",te.TIMEOUT="TIMEOUT",te.BUFFER_OVERRUN="BUFFER_OVERRUN",te.NUMERIC_FAULT="NUMERIC_FAULT",te.MISSING_NEW="MISSING_NEW",te.INVALID_ARGUMENT="INVALID_ARGUMENT",te.MISSING_ARGUMENT="MISSING_ARGUMENT",te.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",te.CALL_EXCEPTION="CALL_EXCEPTION",te.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",te.NONCE_EXPIRED="NONCE_EXPIRED",te.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",te.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",te.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(ErrorCode$b||(ErrorCode$b={}));const HEX$b="0123456789abcdef";class Logger$b{constructor(ee){Object.defineProperty(this,"version",{enumerable:!0,value:ee,writable:!1})}_log(ee,re){const ne=ee.toLowerCase();LogLevels$b[ne]==null&&this.throwArgumentError("invalid log level name","logLevel",ee),!(_logLevel$b>LogLevels$b[ne])&&console.log.apply(console,re)}debug(...ee){this._log(Logger$b.levels.DEBUG,ee)}info(...ee){this._log(Logger$b.levels.INFO,ee)}warn(...ee){this._log(Logger$b.levels.WARNING,ee)}makeError(ee,re,ne){if(_censorErrors$b)return this.makeError("censored error",re,{});re||(re=Logger$b.errors.UNKNOWN_ERROR),ne||(ne={});const ie=[];Object.keys(ne).forEach(fe=>{const ue=ne[fe];try{if(ue instanceof Uint8Array){let le="";for(let pe=0;pe<ue.length;pe++)le+=HEX$b[ue[pe]>>4],le+=HEX$b[ue[pe]&15];ie.push(fe+"=Uint8Array(0x"+le+")")}else ie.push(fe+"="+JSON.stringify(ue))}catch{ie.push(fe+"="+JSON.stringify(ne[fe].toString()))}}),ie.push(`code=${re}`),ie.push(`version=${this.version}`);const oe=ee;let se="";switch(re){case ErrorCode$b.NUMERIC_FAULT:{se="NUMERIC_FAULT";const fe=ee;switch(fe){case"overflow":case"underflow":case"division-by-zero":se+="-"+fe;break;case"negative-power":case"negative-width":se+="-unsupported";break;case"unbound-bitwise-result":se+="-unbound-result";break}break}case ErrorCode$b.CALL_EXCEPTION:case ErrorCode$b.INSUFFICIENT_FUNDS:case ErrorCode$b.MISSING_NEW:case ErrorCode$b.NONCE_EXPIRED:case ErrorCode$b.REPLACEMENT_UNDERPRICED:case ErrorCode$b.TRANSACTION_REPLACED:case ErrorCode$b.UNPREDICTABLE_GAS_LIMIT:se=re;break}se&&(ee+=" [ See: https://links.ethers.org/v5-errors-"+se+" ]"),ie.length&&(ee+=" ("+ie.join(", ")+")");const ae=new Error(ee);return ae.reason=oe,ae.code=re,Object.keys(ne).forEach(function(fe){ae[fe]=ne[fe]}),ae}throwError(ee,re,ne){throw this.makeError(ee,re,ne)}throwArgumentError(ee,re,ne){return this.throwError(ee,Logger$b.errors.INVALID_ARGUMENT,{argument:re,value:ne})}assert(ee,re,ne,ie){ee||this.throwError(re,ne,ie)}assertArgument(ee,re,ne,ie){ee||this.throwArgumentError(re,ne,ie)}checkNormalize(ee){_normalizeError$b&&this.throwError("platform missing String.prototype.normalize",Logger$b.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$b})}checkSafeUint53(ee,re){typeof ee=="number"&&(re==null&&(re="value not safe"),(ee<0||ee>=9007199254740991)&&this.throwError(re,Logger$b.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:ee}),ee%1&&this.throwError(re,Logger$b.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:ee}))}checkArgumentCount(ee,re,ne){ne?ne=": "+ne:ne="",ee<re&&this.throwError("missing argument"+ne,Logger$b.errors.MISSING_ARGUMENT,{count:ee,expectedCount:re}),ee>re&&this.throwError("too many arguments"+ne,Logger$b.errors.UNEXPECTED_ARGUMENT,{count:ee,expectedCount:re})}checkNew(ee,re){(ee===Object||ee==null)&&this.throwError("missing new",Logger$b.errors.MISSING_NEW,{name:re.name})}checkAbstract(ee,re){ee===re?this.throwError("cannot instantiate abstract class "+JSON.stringify(re.name)+" directly; use a sub-class",Logger$b.errors.UNSUPPORTED_OPERATION,{name:ee.name,operation:"new"}):(ee===Object||ee==null)&&this.throwError("missing new",Logger$b.errors.MISSING_NEW,{name:re.name})}static globalLogger(){return _globalLogger$b||(_globalLogger$b=new Logger$b(version$17)),_globalLogger$b}static setCensorship(ee,re){if(!ee&&re&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$b.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$b){if(!ee)return;this.globalLogger().throwError("error censorship permanent",Logger$b.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$b=!!ee,_permanentCensorErrors$b=!!re}static setLogLevel(ee){const re=LogLevels$b[ee.toLowerCase()];if(re==null){Logger$b.globalLogger().warn("invalid log level - "+ee);return}_logLevel$b=re}static from(ee){return new Logger$b(ee)}}Logger$b.errors=ErrorCode$b;Logger$b.levels=LogLevel$b;const version$16="bytes/5.6.1",logger$V=new Logger$b(version$16);function isHexable$9(te){return!!te.toHexString}function addSlice$9(te){return te.slice||(te.slice=function(){const ee=Array.prototype.slice.call(arguments);return addSlice$9(new Uint8Array(Array.prototype.slice.apply(te,ee)))}),te}function isInteger$9(te){return typeof te=="number"&&te==te&&te%1===0}function isBytes$9(te){if(te==null)return!1;if(te.constructor===Uint8Array)return!0;if(typeof te=="string"||!isInteger$9(te.length)||te.length<0)return!1;for(let ee=0;ee<te.length;ee++){const re=te[ee];if(!isInteger$9(re)||re<0||re>=256)return!1}return!0}function arrayify$9(te,ee){if(ee||(ee={}),typeof te=="number"){logger$V.checkSafeUint53(te,"invalid arrayify value");const re=[];for(;te;)re.unshift(te&255),te=parseInt(String(te/256));return re.length===0&&re.push(0),addSlice$9(new Uint8Array(re))}if(ee.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),isHexable$9(te)&&(te=te.toHexString()),isHexString$e(te)){let re=te.substring(2);re.length%2&&(ee.hexPad==="left"?re="0"+re:ee.hexPad==="right"?re+="0":logger$V.throwArgumentError("hex data is odd-length","value",te));const ne=[];for(let ie=0;ie<re.length;ie+=2)ne.push(parseInt(re.substring(ie,ie+2),16));return addSlice$9(new Uint8Array(ne))}return isBytes$9(te)?addSlice$9(new Uint8Array(te)):logger$V.throwArgumentError("invalid arrayify value","value",te)}function concat$4(te){const ee=te.map(ie=>arrayify$9(ie)),re=ee.reduce((ie,oe)=>ie+oe.length,0),ne=new Uint8Array(re);return ee.reduce((ie,oe)=>(ne.set(oe,ie),ie+oe.length),0),addSlice$9(ne)}function isHexString$e(te,ee){return!(typeof te!="string"||!te.match(/^0x[0-9A-Fa-f]*$/)||ee&&te.length!==2+2*ee)}const HexCharacters$6="0123456789abcdef";function hexlify$6(te,ee){if(ee||(ee={}),typeof te=="number"){logger$V.checkSafeUint53(te,"invalid hexlify value");let re="";for(;te;)re=HexCharacters$6[te&15]+re,te=Math.floor(te/16);return re.length?(re.length%2&&(re="0"+re),"0x"+re):"0x00"}if(typeof te=="bigint")return te=te.toString(16),te.length%2?"0x0"+te:"0x"+te;if(ee.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),isHexable$9(te))return te.toHexString();if(isHexString$e(te))return te.length%2&&(ee.hexPad==="left"?te="0x0"+te.substring(2):ee.hexPad==="right"?te+="0":logger$V.throwArgumentError("hex data is odd-length","value",te)),te.toLowerCase();if(isBytes$9(te)){let re="0x";for(let ne=0;ne<te.length;ne++){let ie=te[ne];re+=HexCharacters$6[(ie&240)>>4]+HexCharacters$6[ie&15]}return re}return logger$V.throwArgumentError("invalid hexlify value","value",te)}function hexConcat$1(te){let ee="0x";return te.forEach(re=>{ee+=hexlify$6(re).substring(2)}),ee}function hexZeroPad$3(te,ee){for(typeof te!="string"?te=hexlify$6(te):isHexString$e(te)||logger$V.throwArgumentError("invalid hex string","value",te),te.length>2*ee+2&&logger$V.throwArgumentError("value out of range","value",arguments[1]);te.length<2*ee+2;)te="0x0"+te.substring(2);return te}function keccak256$4(te){return"0x"+sha3.keccak_256(arrayify$9(te))}const version$15="bignumber/5.6.0";var BN$j=_BN.BN;const logger$U=new Logger$b(version$15),_constructorGuard$5={},MAX_SAFE$2=9007199254740991;let _warnedToStringRadix$2=!1;class BigNumber$2{constructor(ee,re){logger$U.checkNew(new.target,BigNumber$2),ee!==_constructorGuard$5&&logger$U.throwError("cannot call constructor directly; use BigNumber.from",Logger$b.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=re,this._isBigNumber=!0,Object.freeze(this)}fromTwos(ee){return toBigNumber$2(toBN$2(this).fromTwos(ee))}toTwos(ee){return toBigNumber$2(toBN$2(this).toTwos(ee))}abs(){return this._hex[0]==="-"?BigNumber$2.from(this._hex.substring(1)):this}add(ee){return toBigNumber$2(toBN$2(this).add(toBN$2(ee)))}sub(ee){return toBigNumber$2(toBN$2(this).sub(toBN$2(ee)))}div(ee){return BigNumber$2.from(ee).isZero()&&throwFault$2("division-by-zero","div"),toBigNumber$2(toBN$2(this).div(toBN$2(ee)))}mul(ee){return toBigNumber$2(toBN$2(this).mul(toBN$2(ee)))}mod(ee){const re=toBN$2(ee);return re.isNeg()&&throwFault$2("division-by-zero","mod"),toBigNumber$2(toBN$2(this).umod(re))}pow(ee){const re=toBN$2(ee);return re.isNeg()&&throwFault$2("negative-power","pow"),toBigNumber$2(toBN$2(this).pow(re))}and(ee){const re=toBN$2(ee);return(this.isNegative()||re.isNeg())&&throwFault$2("unbound-bitwise-result","and"),toBigNumber$2(toBN$2(this).and(re))}or(ee){const re=toBN$2(ee);return(this.isNegative()||re.isNeg())&&throwFault$2("unbound-bitwise-result","or"),toBigNumber$2(toBN$2(this).or(re))}xor(ee){const re=toBN$2(ee);return(this.isNegative()||re.isNeg())&&throwFault$2("unbound-bitwise-result","xor"),toBigNumber$2(toBN$2(this).xor(re))}mask(ee){return(this.isNegative()||ee<0)&&throwFault$2("negative-width","mask"),toBigNumber$2(toBN$2(this).maskn(ee))}shl(ee){return(this.isNegative()||ee<0)&&throwFault$2("negative-width","shl"),toBigNumber$2(toBN$2(this).shln(ee))}shr(ee){return(this.isNegative()||ee<0)&&throwFault$2("negative-width","shr"),toBigNumber$2(toBN$2(this).shrn(ee))}eq(ee){return toBN$2(this).eq(toBN$2(ee))}lt(ee){return toBN$2(this).lt(toBN$2(ee))}lte(ee){return toBN$2(this).lte(toBN$2(ee))}gt(ee){return toBN$2(this).gt(toBN$2(ee))}gte(ee){return toBN$2(this).gte(toBN$2(ee))}isNegative(){return this._hex[0]==="-"}isZero(){return toBN$2(this).isZero()}toNumber(){try{return toBN$2(this).toNumber()}catch{throwFault$2("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return logger$U.throwError("this platform does not support BigInt",Logger$b.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?_warnedToStringRadix$2||(_warnedToStringRadix$2=!0,logger$U.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?logger$U.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Logger$b.errors.UNEXPECTED_ARGUMENT,{}):logger$U.throwError("BigNumber.toString does not accept parameters",Logger$b.errors.UNEXPECTED_ARGUMENT,{})),toBN$2(this).toString(10)}toHexString(){return this._hex}toJSON(ee){return{type:"BigNumber",hex:this.toHexString()}}static from(ee){if(ee instanceof BigNumber$2)return ee;if(typeof ee=="string")return ee.match(/^-?0x[0-9a-f]+$/i)?new BigNumber$2(_constructorGuard$5,toHex$3(ee)):ee.match(/^-?[0-9]+$/)?new BigNumber$2(_constructorGuard$5,toHex$3(new BN$j(ee))):logger$U.throwArgumentError("invalid BigNumber string","value",ee);if(typeof ee=="number")return ee%1&&throwFault$2("underflow","BigNumber.from",ee),(ee>=MAX_SAFE$2||ee<=-MAX_SAFE$2)&&throwFault$2("overflow","BigNumber.from",ee),BigNumber$2.from(String(ee));const re=ee;if(typeof re=="bigint")return BigNumber$2.from(re.toString());if(isBytes$9(re))return BigNumber$2.from(hexlify$6(re));if(re)if(re.toHexString){const ne=re.toHexString();if(typeof ne=="string")return BigNumber$2.from(ne)}else{let ne=re._hex;if(ne==null&&re.type==="BigNumber"&&(ne=re.hex),typeof ne=="string"&&(isHexString$e(ne)||ne[0]==="-"&&isHexString$e(ne.substring(1))))return BigNumber$2.from(ne)}return logger$U.throwArgumentError("invalid BigNumber value","value",ee)}static isBigNumber(ee){return!!(ee&&ee._isBigNumber)}}function toHex$3(te){if(typeof te!="string")return toHex$3(te.toString(16));if(te[0]==="-")return te=te.substring(1),te[0]==="-"&&logger$U.throwArgumentError("invalid hex","value",te),te=toHex$3(te),te==="0x00"?te:"-"+te;if(te.substring(0,2)!=="0x"&&(te="0x"+te),te==="0x")return"0x00";for(te.length%2&&(te="0x0"+te.substring(2));te.length>4&&te.substring(0,4)==="0x00";)te="0x"+te.substring(4);return te}function toBigNumber$2(te){return BigNumber$2.from(toHex$3(te))}function toBN$2(te){const ee=BigNumber$2.from(te).toHexString();return ee[0]==="-"?new BN$j("-"+ee.substring(3),16):new BN$j(ee.substring(2),16)}function throwFault$2(te,ee,re){const ne={fault:te,operation:ee};return re!=null&&(ne.value=re),logger$U.throwError(te,Logger$b.errors.NUMERIC_FAULT,ne)}function _base36To16$2(te){return new BN$j(te,36).toString(16)}const version$14="strings/5.6.0",logger$T=new Logger$b(version$14);var UnicodeNormalizationForm$3;(function(te){te.current="",te.NFC="NFC",te.NFD="NFD",te.NFKC="NFKC",te.NFKD="NFKD"})(UnicodeNormalizationForm$3||(UnicodeNormalizationForm$3={}));var Utf8ErrorReason$3;(function(te){te.UNEXPECTED_CONTINUE="unexpected continuation byte",te.BAD_PREFIX="bad codepoint prefix",te.OVERRUN="string overrun",te.MISSING_CONTINUE="missing continuation byte",te.OUT_OF_RANGE="out of UTF-8 range",te.UTF16_SURROGATE="UTF-16 surrogate",te.OVERLONG="overlong representation"})(Utf8ErrorReason$3||(Utf8ErrorReason$3={}));function errorFunc$3(te,ee,re,ne,ie){return logger$T.throwArgumentError(`invalid codepoint at offset ${ee}; ${te}`,"bytes",re)}function ignoreFunc$3(te,ee,re,ne,ie){if(te===Utf8ErrorReason$3.BAD_PREFIX||te===Utf8ErrorReason$3.UNEXPECTED_CONTINUE){let oe=0;for(let se=ee+1;se<re.length&&re[se]>>6===2;se++)oe++;return oe}return te===Utf8ErrorReason$3.OVERRUN?re.length-ee-1:0}function replaceFunc$3(te,ee,re,ne,ie){return te===Utf8ErrorReason$3.OVERLONG?(ne.push(ie),0):(ne.push(65533),ignoreFunc$3(te,ee,re))}const Utf8ErrorFuncs$2=Object.freeze({error:errorFunc$3,ignore:ignoreFunc$3,replace:replaceFunc$3});function getUtf8CodePoints$2(te,ee){ee==null&&(ee=Utf8ErrorFuncs$2.error),te=arrayify$9(te);const re=[];let ne=0;for(;ne<te.length;){const ie=te[ne++];if(ie>>7===0){re.push(ie);continue}let oe=null,se=null;if((ie&224)===192)oe=1,se=127;else if((ie&240)===224)oe=2,se=2047;else if((ie&248)===240)oe=3,se=65535;else{(ie&192)===128?ne+=ee(Utf8ErrorReason$3.UNEXPECTED_CONTINUE,ne-1,te,re):ne+=ee(Utf8ErrorReason$3.BAD_PREFIX,ne-1,te,re);continue}if(ne-1+oe>=te.length){ne+=ee(Utf8ErrorReason$3.OVERRUN,ne-1,te,re);continue}let ae=ie&(1<<8-oe-1)-1;for(let fe=0;fe<oe;fe++){let ue=te[ne];if((ue&192)!=128){ne+=ee(Utf8ErrorReason$3.MISSING_CONTINUE,ne,te,re),ae=null;break}ae=ae<<6|ue&63,ne++}if(ae!==null){if(ae>1114111){ne+=ee(Utf8ErrorReason$3.OUT_OF_RANGE,ne-1-oe,te,re,ae);continue}if(ae>=55296&&ae<=57343){ne+=ee(Utf8ErrorReason$3.UTF16_SURROGATE,ne-1-oe,te,re,ae);continue}if(ae<=se){ne+=ee(Utf8ErrorReason$3.OVERLONG,ne-1-oe,te,re,ae);continue}re.push(ae)}}return re}function toUtf8Bytes$3(te,ee=UnicodeNormalizationForm$3.current){ee!=UnicodeNormalizationForm$3.current&&(logger$T.checkNormalize(),te=te.normalize(ee));let re=[];for(let ne=0;ne<te.length;ne++){const ie=te.charCodeAt(ne);if(ie<128)re.push(ie);else if(ie<2048)re.push(ie>>6|192),re.push(ie&63|128);else if((ie&64512)==55296){ne++;const oe=te.charCodeAt(ne);if(ne>=te.length||(oe&64512)!==56320)throw new Error("invalid utf-8 string");const se=65536+((ie&1023)<<10)+(oe&1023);re.push(se>>18|240),re.push(se>>12&63|128),re.push(se>>6&63|128),re.push(se&63|128)}else re.push(ie>>12|224),re.push(ie>>6&63|128),re.push(ie&63|128)}return arrayify$9(re)}function _toUtf8String$2(te){return te.map(ee=>ee<=65535?String.fromCharCode(ee):(ee-=65536,String.fromCharCode((ee>>10&1023)+55296,(ee&1023)+56320))).join("")}function toUtf8CodePoints$1(te,ee=UnicodeNormalizationForm$3.current){return getUtf8CodePoints$2(toUtf8Bytes$3(te,ee))}function bytes2$1(te){if(te.length%4!==0)throw new Error("bad data");let ee=[];for(let re=0;re<te.length;re+=4)ee.push(parseInt(te.substring(re,re+4),16));return ee}function createTable$1(te,ee){ee||(ee=function(ie){return[parseInt(ie,16)]});let re=0,ne={};return te.split(",").forEach(ie=>{let oe=ie.split(":");re+=parseInt(oe[0],16),ne[re]=ee(oe[1])}),ne}function createRangeTable$1(te){let ee=0;return te.split(",").map(re=>{let ne=re.split("-");ne.length===1?ne[1]="0":ne[1]===""&&(ne[1]="1");let ie=ee+parseInt(ne[0],16);return ee=parseInt(ne[1],16),{l:ie,h:ee}})}function matchMap$1(te,ee){let re=0;for(let ne=0;ne<ee.length;ne++){let ie=ee[ne];if(re+=ie.l,te>=re&&te<=re+ie.h&&(te-re)%(ie.d||1)===0){if(ie.e&&ie.e.indexOf(te-re)!==-1)continue;return ie}}return null}const Table_A_1_ranges$1=createRangeTable$1("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Table_B_1_flags$1="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(te=>parseInt(te,16)),Table_B_2_ranges$1=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Table_B_2_lut_abs$1=createTable$1("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Table_B_2_lut_rel$1=createTable$1("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Table_B_2_complex$1=createTable$1("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",bytes2$1),Table_C_ranges$1=createRangeTable$1("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function flatten$1(te){return te.reduce((ee,re)=>(re.forEach(ne=>{ee.push(ne)}),ee),[])}function _nameprepTableA1$1(te){return!!matchMap$1(te,Table_A_1_ranges$1)}function _nameprepTableB2$1(te){let ee=matchMap$1(te,Table_B_2_ranges$1);if(ee)return[te+ee.s];let re=Table_B_2_lut_abs$1[te];if(re)return re;let ne=Table_B_2_lut_rel$1[te];if(ne)return[te+ne[0]];let ie=Table_B_2_complex$1[te];return ie||null}function _nameprepTableC$1(te){return!!matchMap$1(te,Table_C_ranges$1)}function nameprep$1(te){if(te.match(/^[a-z0-9-]*$/i)&&te.length<=59)return te.toLowerCase();let ee=toUtf8CodePoints$1(te);ee=flatten$1(ee.map(ne=>{if(Table_B_1_flags$1.indexOf(ne)>=0)return[];if(ne>=65024&&ne<=65039)return[];let ie=_nameprepTableB2$1(ne);return ie||[ne]})),ee=toUtf8CodePoints$1(_toUtf8String$2(ee),UnicodeNormalizationForm$3.NFKC),ee.forEach(ne=>{if(_nameprepTableC$1(ne))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),ee.forEach(ne=>{if(_nameprepTableA1$1(ne))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let re=_toUtf8String$2(ee);if(re.substring(0,1)==="-"||re.substring(2,4)==="--"||re.substring(re.length-1)==="-")throw new Error("invalid hyphen");if(re.length>63)throw new Error("too long");return re}function id$1(te){return keccak256$4(toUtf8Bytes$3(te))}const version$13="hash/5.5.0",logger$S=new Logger$b(version$13),Zeros$1=new Uint8Array(32);Zeros$1.fill(0);const Partition=new RegExp("^((.*)\\.)?([^.]+)$");function isValidName(te){try{const ee=te.split(".");for(let re=0;re<ee.length;re++)if(nameprep$1(ee[re]).length===0)throw new Error("empty");return!0}catch{}return!1}function namehash(te){typeof te!="string"&&logger$S.throwArgumentError("invalid ENS name; not a string","name",te);let ee=te,re=Zeros$1;for(;ee.length;){const ne=ee.match(Partition);(ne==null||ne[2]==="")&&logger$S.throwArgumentError("invalid ENS address; missing component","name",te);const ie=toUtf8Bytes$3(nameprep$1(ne[3]));re=keccak256$4(concat$4([re,keccak256$4(ie)])),ee=ne[2]||""}return hexlify$6(re)}const messagePrefix=`Ethereum Signed Message:
`;function hashMessage(te){return typeof te=="string"&&(te=toUtf8Bytes$3(te)),keccak256$4(concat$4([toUtf8Bytes$3(messagePrefix),toUtf8Bytes$3(String(te.length)),te]))}const version$12="address/5.6.0",logger$R=new Logger$b(version$12);function getChecksumAddress$2(te){isHexString$e(te,20)||logger$R.throwArgumentError("invalid address","address",te),te=te.toLowerCase();const ee=te.substring(2).split(""),re=new Uint8Array(40);for(let ie=0;ie<40;ie++)re[ie]=ee[ie].charCodeAt(0);const ne=arrayify$9(keccak256$4(re));for(let ie=0;ie<40;ie+=2)ne[ie>>1]>>4>=8&&(ee[ie]=ee[ie].toUpperCase()),(ne[ie>>1]&15)>=8&&(ee[ie+1]=ee[ie+1].toUpperCase());return"0x"+ee.join("")}const MAX_SAFE_INTEGER$4=9007199254740991;function log10$2(te){return Math.log10?Math.log10(te):Math.log(te)/Math.LN10}const ibanLookup$2={};for(let te=0;te<10;te++)ibanLookup$2[String(te)]=String(te);for(let te=0;te<26;te++)ibanLookup$2[String.fromCharCode(65+te)]=String(10+te);const safeDigits$2=Math.floor(log10$2(MAX_SAFE_INTEGER$4));function ibanChecksum$2(te){te=te.toUpperCase(),te=te.substring(4)+te.substring(0,2)+"00";let ee=te.split("").map(ne=>ibanLookup$2[ne]).join("");for(;ee.length>=safeDigits$2;){let ne=ee.substring(0,safeDigits$2);ee=parseInt(ne,10)%97+ee.substring(ne.length)}let re=String(98-parseInt(ee,10)%97);for(;re.length<2;)re="0"+re;return re}function getAddress$2(te){let ee=null;if(typeof te!="string"&&logger$R.throwArgumentError("invalid address","address",te),te.match(/^(0x)?[0-9a-fA-F]{40}$/))te.substring(0,2)!=="0x"&&(te="0x"+te),ee=getChecksumAddress$2(te),te.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&ee!==te&&logger$R.throwArgumentError("bad address checksum","address",te);else if(te.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(te.substring(2,4)!==ibanChecksum$2(te)&&logger$R.throwArgumentError("bad icap checksum","address",te),ee=_base36To16$2(te.substring(4));ee.length<40;)ee="0"+ee;ee=getChecksumAddress$2("0x"+ee)}else logger$R.throwArgumentError("invalid address","address",te);return ee}const version$11="properties/5.6.0";globalThis&&globalThis.__awaiter;const logger$Q=new Logger$b(version$11);function defineReadOnly$4(te,ee,re){Object.defineProperty(te,ee,{enumerable:!0,value:re,writable:!1})}function shallowCopy$2(te){const ee={};for(const re in te)ee[re]=te[re];return ee}const opaque$1={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function _isFrozen$1(te){if(te==null||opaque$1[typeof te])return!0;if(Array.isArray(te)||typeof te=="object"){if(!Object.isFrozen(te))return!1;const ee=Object.keys(te);for(let re=0;re<ee.length;re++){let ne=null;try{ne=te[ee[re]]}catch{continue}if(!_isFrozen$1(ne))return!1}return!0}return logger$Q.throwArgumentError(`Cannot deepCopy ${typeof te}`,"object",te)}function _deepCopy$1(te){if(_isFrozen$1(te))return te;if(Array.isArray(te))return Object.freeze(te.map(ee=>deepCopy$1(ee)));if(typeof te=="object"){const ee={};for(const re in te){const ne=te[re];ne!==void 0&&defineReadOnly$4(ee,re,deepCopy$1(ne))}return ee}return logger$Q.throwArgumentError(`Cannot deepCopy ${typeof te}`,"object",te)}function deepCopy$1(te){return _deepCopy$1(te)}var __awaiter$d=globalThis&&globalThis.__awaiter||function(te,ee,re,ne){function ie(oe){return oe instanceof re?oe:new re(function(se){se(oe)})}return new(re||(re=Promise))(function(oe,se){function ae(le){try{ue(ne.next(le))}catch(pe){se(pe)}}function fe(le){try{ue(ne.throw(le))}catch(pe){se(pe)}}function ue(le){le.done?oe(le.value):ie(le.value).then(ae,fe)}ue((ne=ne.apply(te,ee||[])).next())})};const logger$P=new Logger$b(version$13),padding=new Uint8Array(32);padding.fill(0);const NegativeOne=BigNumber$2.from(-1),Zero$1=BigNumber$2.from(0),One=BigNumber$2.from(1),MaxUint256=BigNumber$2.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hexPadRight(te){const ee=arrayify$9(te),re=ee.length%32;return re?hexConcat$1([ee,padding.slice(re)]):hexlify$6(ee)}const hexTrue=hexZeroPad$3(One.toHexString(),32),hexFalse=hexZeroPad$3(Zero$1.toHexString(),32),domainFieldTypes={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},domainFieldNames=["name","version","chainId","verifyingContract","salt"];function checkString(te){return function(ee){return typeof ee!="string"&&logger$P.throwArgumentError(`invalid domain value for ${JSON.stringify(te)}`,`domain.${te}`,ee),ee}}const domainChecks={name:checkString("name"),version:checkString("version"),chainId:function(te){try{return BigNumber$2.from(te).toString()}catch{}return logger$P.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",te)},verifyingContract:function(te){try{return getAddress$2(te).toLowerCase()}catch{}return logger$P.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",te)},salt:function(te){try{const ee=arrayify$9(te);if(ee.length!==32)throw new Error("bad length");return hexlify$6(ee)}catch{}return logger$P.throwArgumentError('invalid domain value "salt"',"domain.salt",te)}};function getBaseEncoder(te){{const ee=te.match(/^(u?)int(\d*)$/);if(ee){const re=ee[1]==="",ne=parseInt(ee[2]||"256");(ne%8!==0||ne>256||ee[2]&&ee[2]!==String(ne))&&logger$P.throwArgumentError("invalid numeric width","type",te);const ie=MaxUint256.mask(re?ne-1:ne),oe=re?ie.add(One).mul(NegativeOne):Zero$1;return function(se){const ae=BigNumber$2.from(se);return(ae.lt(oe)||ae.gt(ie))&&logger$P.throwArgumentError(`value out-of-bounds for ${te}`,"value",se),hexZeroPad$3(ae.toTwos(256).toHexString(),32)}}}{const ee=te.match(/^bytes(\d+)$/);if(ee){const re=parseInt(ee[1]);return(re===0||re>32||ee[1]!==String(re))&&logger$P.throwArgumentError("invalid bytes width","type",te),function(ne){return arrayify$9(ne).length!==re&&logger$P.throwArgumentError(`invalid length for ${te}`,"value",ne),hexPadRight(ne)}}}switch(te){case"address":return function(ee){return hexZeroPad$3(getAddress$2(ee),32)};case"bool":return function(ee){return ee?hexTrue:hexFalse};case"bytes":return function(ee){return keccak256$4(ee)};case"string":return function(ee){return id$1(ee)}}return null}function encodeType(te,ee){return`${te}(${ee.map(({name:re,type:ne})=>ne+" "+re).join(",")})`}class TypedDataEncoder{constructor(ee){defineReadOnly$4(this,"types",Object.freeze(deepCopy$1(ee))),defineReadOnly$4(this,"_encoderCache",{}),defineReadOnly$4(this,"_types",{});const re={},ne={},ie={};Object.keys(ee).forEach(ae=>{re[ae]={},ne[ae]=[],ie[ae]={}});for(const ae in ee){const fe={};ee[ae].forEach(ue=>{fe[ue.name]&&logger$P.throwArgumentError(`duplicate variable name ${JSON.stringify(ue.name)} in ${JSON.stringify(ae)}`,"types",ee),fe[ue.name]=!0;const le=ue.type.match(/^([^\x5b]*)(\x5b|$)/)[1];le===ae&&logger$P.throwArgumentError(`circular type reference to ${JSON.stringify(le)}`,"types",ee),!getBaseEncoder(le)&&(ne[le]||logger$P.throwArgumentError(`unknown type ${JSON.stringify(le)}`,"types",ee),ne[le].push(ae),re[ae][le]=!0)})}const oe=Object.keys(ne).filter(ae=>ne[ae].length===0);oe.length===0?logger$P.throwArgumentError("missing primary type","types",ee):oe.length>1&&logger$P.throwArgumentError(`ambiguous primary types or unused types: ${oe.map(ae=>JSON.stringify(ae)).join(", ")}`,"types",ee),defineReadOnly$4(this,"primaryType",oe[0]);function se(ae,fe){fe[ae]&&logger$P.throwArgumentError(`circular type reference to ${JSON.stringify(ae)}`,"types",ee),fe[ae]=!0,Object.keys(re[ae]).forEach(ue=>{!ne[ue]||(se(ue,fe),Object.keys(fe).forEach(le=>{ie[le][ue]=!0}))}),delete fe[ae]}se(this.primaryType,{});for(const ae in ie){const fe=Object.keys(ie[ae]);fe.sort(),this._types[ae]=encodeType(ae,ee[ae])+fe.map(ue=>encodeType(ue,ee[ue])).join("")}}getEncoder(ee){let re=this._encoderCache[ee];return re||(re=this._encoderCache[ee]=this._getEncoder(ee)),re}_getEncoder(ee){{const ie=getBaseEncoder(ee);if(ie)return ie}const re=ee.match(/^(.*)(\x5b(\d*)\x5d)$/);if(re){const ie=re[1],oe=this.getEncoder(ie),se=parseInt(re[3]);return ae=>{se>=0&&ae.length!==se&&logger$P.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",ae);let fe=ae.map(oe);return this._types[ie]&&(fe=fe.map(keccak256$4)),keccak256$4(hexConcat$1(fe))}}const ne=this.types[ee];if(ne){const ie=id$1(this._types[ee]);return oe=>{const se=ne.map(({name:ae,type:fe})=>{const ue=this.getEncoder(fe)(oe[ae]);return this._types[fe]?keccak256$4(ue):ue});return se.unshift(ie),hexConcat$1(se)}}return logger$P.throwArgumentError(`unknown type: ${ee}`,"type",ee)}encodeType(ee){const re=this._types[ee];return re||logger$P.throwArgumentError(`unknown type: ${JSON.stringify(ee)}`,"name",ee),re}encodeData(ee,re){return this.getEncoder(ee)(re)}hashStruct(ee,re){return keccak256$4(this.encodeData(ee,re))}encode(ee){return this.encodeData(this.primaryType,ee)}hash(ee){return this.hashStruct(this.primaryType,ee)}_visit(ee,re,ne){if(getBaseEncoder(ee))return ne(ee,re);const ie=ee.match(/^(.*)(\x5b(\d*)\x5d)$/);if(ie){const se=ie[1],ae=parseInt(ie[3]);return ae>=0&&re.length!==ae&&logger$P.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",re),re.map(fe=>this._visit(se,fe,ne))}const oe=this.types[ee];return oe?oe.reduce((se,{name:ae,type:fe})=>(se[ae]=this._visit(fe,re[ae],ne),se),{}):logger$P.throwArgumentError(`unknown type: ${ee}`,"type",ee)}visit(ee,re){return this._visit(this.primaryType,ee,re)}static from(ee){return new TypedDataEncoder(ee)}static getPrimaryType(ee){return TypedDataEncoder.from(ee).primaryType}static hashStruct(ee,re,ne){return TypedDataEncoder.from(re).hashStruct(ee,ne)}static hashDomain(ee){const re=[];for(const ne in ee){const ie=domainFieldTypes[ne];ie||logger$P.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(ne)}`,"domain",ee),re.push({name:ne,type:ie})}return re.sort((ne,ie)=>domainFieldNames.indexOf(ne.name)-domainFieldNames.indexOf(ie.name)),TypedDataEncoder.hashStruct("EIP712Domain",{EIP712Domain:re},ee)}static encode(ee,re,ne){return hexConcat$1(["0x1901",TypedDataEncoder.hashDomain(ee),TypedDataEncoder.from(re).hash(ne)])}static hash(ee,re,ne){return keccak256$4(TypedDataEncoder.encode(ee,re,ne))}static resolveNames(ee,re,ne,ie){return __awaiter$d(this,void 0,void 0,function*(){ee=shallowCopy$2(ee);const oe={};ee.verifyingContract&&!isHexString$e(ee.verifyingContract,20)&&(oe[ee.verifyingContract]="0x");const se=TypedDataEncoder.from(re);se.visit(ne,(ae,fe)=>(ae==="address"&&!isHexString$e(fe,20)&&(oe[fe]="0x"),fe));for(const ae in oe)oe[ae]=yield ie(ae);return ee.verifyingContract&&oe[ee.verifyingContract]&&(ee.verifyingContract=oe[ee.verifyingContract]),ne=se.visit(ne,(ae,fe)=>ae==="address"&&oe[fe]?oe[fe]:fe),{domain:ee,value:ne}})}static getPayload(ee,re,ne){TypedDataEncoder.hashDomain(ee);const ie={},oe=[];domainFieldNames.forEach(fe=>{const ue=ee[fe];ue!=null&&(ie[fe]=domainChecks[fe](ue),oe.push({name:fe,type:domainFieldTypes[fe]}))});const se=TypedDataEncoder.from(re),ae=shallowCopy$2(re);return ae.EIP712Domain?logger$P.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",re):ae.EIP712Domain=oe,se.encode(ne),{types:ae,domain:ie,primaryType:se.primaryType,message:se.visit(ne,(fe,ue)=>{if(fe.match(/^bytes(\d*)/))return hexlify$6(arrayify$9(ue));if(fe.match(/^u?int/))return BigNumber$2.from(ue).toString();switch(fe){case"address":return ue.toLowerCase();case"bool":return!!ue;case"string":return typeof ue!="string"&&logger$P.throwArgumentError("invalid string","value",ue),ue}return logger$P.throwArgumentError("unsupported type","type",fe)})}}}var lib_esm$f=Object.freeze(Object.defineProperty({__proto__:null,id:id$1,namehash,isValidName,messagePrefix,hashMessage,_TypedDataEncoder:TypedDataEncoder},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(lib_esm$f);const version$10="logger/5.6.0";let _permanentCensorErrors$a=!1,_censorErrors$a=!1;const LogLevels$a={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$a=LogLevels$a.default,_globalLogger$a=null;function _checkNormalize$a(){try{const te=[];if(["NFD","NFC","NFKD","NFKC"].forEach(ee=>{try{if("test".normalize(ee)!=="test")throw new Error("bad normalize")}catch{te.push(ee)}}),te.length)throw new Error("missing "+te.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(te){return te.message}return null}const _normalizeError$a=_checkNormalize$a();var LogLevel$a;(function(te){te.DEBUG="DEBUG",te.INFO="INFO",te.WARNING="WARNING",te.ERROR="ERROR",te.OFF="OFF"})(LogLevel$a||(LogLevel$a={}));var ErrorCode$a;(function(te){te.UNKNOWN_ERROR="UNKNOWN_ERROR",te.NOT_IMPLEMENTED="NOT_IMPLEMENTED",te.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",te.NETWORK_ERROR="NETWORK_ERROR",te.SERVER_ERROR="SERVER_ERROR",te.TIMEOUT="TIMEOUT",te.BUFFER_OVERRUN="BUFFER_OVERRUN",te.NUMERIC_FAULT="NUMERIC_FAULT",te.MISSING_NEW="MISSING_NEW",te.INVALID_ARGUMENT="INVALID_ARGUMENT",te.MISSING_ARGUMENT="MISSING_ARGUMENT",te.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",te.CALL_EXCEPTION="CALL_EXCEPTION",te.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",te.NONCE_EXPIRED="NONCE_EXPIRED",te.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",te.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",te.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(ErrorCode$a||(ErrorCode$a={}));const HEX$a="0123456789abcdef";class Logger$a{constructor(ee){Object.defineProperty(this,"version",{enumerable:!0,value:ee,writable:!1})}_log(ee,re){const ne=ee.toLowerCase();LogLevels$a[ne]==null&&this.throwArgumentError("invalid log level name","logLevel",ee),!(_logLevel$a>LogLevels$a[ne])&&console.log.apply(console,re)}debug(...ee){this._log(Logger$a.levels.DEBUG,ee)}info(...ee){this._log(Logger$a.levels.INFO,ee)}warn(...ee){this._log(Logger$a.levels.WARNING,ee)}makeError(ee,re,ne){if(_censorErrors$a)return this.makeError("censored error",re,{});re||(re=Logger$a.errors.UNKNOWN_ERROR),ne||(ne={});const ie=[];Object.keys(ne).forEach(fe=>{const ue=ne[fe];try{if(ue instanceof Uint8Array){let le="";for(let pe=0;pe<ue.length;pe++)le+=HEX$a[ue[pe]>>4],le+=HEX$a[ue[pe]&15];ie.push(fe+"=Uint8Array(0x"+le+")")}else ie.push(fe+"="+JSON.stringify(ue))}catch{ie.push(fe+"="+JSON.stringify(ne[fe].toString()))}}),ie.push(`code=${re}`),ie.push(`version=${this.version}`);const oe=ee;let se="";switch(re){case ErrorCode$a.NUMERIC_FAULT:{se="NUMERIC_FAULT";const fe=ee;switch(fe){case"overflow":case"underflow":case"division-by-zero":se+="-"+fe;break;case"negative-power":case"negative-width":se+="-unsupported";break;case"unbound-bitwise-result":se+="-unbound-result";break}break}case ErrorCode$a.CALL_EXCEPTION:case ErrorCode$a.INSUFFICIENT_FUNDS:case ErrorCode$a.MISSING_NEW:case ErrorCode$a.NONCE_EXPIRED:case ErrorCode$a.REPLACEMENT_UNDERPRICED:case ErrorCode$a.TRANSACTION_REPLACED:case ErrorCode$a.UNPREDICTABLE_GAS_LIMIT:se=re;break}se&&(ee+=" [ See: https://links.ethers.org/v5-errors-"+se+" ]"),ie.length&&(ee+=" ("+ie.join(", ")+")");const ae=new Error(ee);return ae.reason=oe,ae.code=re,Object.keys(ne).forEach(function(fe){ae[fe]=ne[fe]}),ae}throwError(ee,re,ne){throw this.makeError(ee,re,ne)}throwArgumentError(ee,re,ne){return this.throwError(ee,Logger$a.errors.INVALID_ARGUMENT,{argument:re,value:ne})}assert(ee,re,ne,ie){ee||this.throwError(re,ne,ie)}assertArgument(ee,re,ne,ie){ee||this.throwArgumentError(re,ne,ie)}checkNormalize(ee){_normalizeError$a&&this.throwError("platform missing String.prototype.normalize",Logger$a.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$a})}checkSafeUint53(ee,re){typeof ee=="number"&&(re==null&&(re="value not safe"),(ee<0||ee>=9007199254740991)&&this.throwError(re,Logger$a.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:ee}),ee%1&&this.throwError(re,Logger$a.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:ee}))}checkArgumentCount(ee,re,ne){ne?ne=": "+ne:ne="",ee<re&&this.throwError("missing argument"+ne,Logger$a.errors.MISSING_ARGUMENT,{count:ee,expectedCount:re}),ee>re&&this.throwError("too many arguments"+ne,Logger$a.errors.UNEXPECTED_ARGUMENT,{count:ee,expectedCount:re})}checkNew(ee,re){(ee===Object||ee==null)&&this.throwError("missing new",Logger$a.errors.MISSING_NEW,{name:re.name})}checkAbstract(ee,re){ee===re?this.throwError("cannot instantiate abstract class "+JSON.stringify(re.name)+" directly; use a sub-class",Logger$a.errors.UNSUPPORTED_OPERATION,{name:ee.name,operation:"new"}):(ee===Object||ee==null)&&this.throwError("missing new",Logger$a.errors.MISSING_NEW,{name:re.name})}static globalLogger(){return _globalLogger$a||(_globalLogger$a=new Logger$a(version$10)),_globalLogger$a}static setCensorship(ee,re){if(!ee&&re&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$a.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$a){if(!ee)return;this.globalLogger().throwError("error censorship permanent",Logger$a.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$a=!!ee,_permanentCensorErrors$a=!!re}static setLogLevel(ee){const re=LogLevels$a[ee.toLowerCase()];if(re==null){Logger$a.globalLogger().warn("invalid log level - "+ee);return}_logLevel$a=re}static from(ee){return new Logger$a(ee)}}Logger$a.errors=ErrorCode$a;Logger$a.levels=LogLevel$a;const version$$="bytes/5.6.1",logger$O=new Logger$a(version$$);function isHexable$8(te){return!!te.toHexString}function addSlice$8(te){return te.slice||(te.slice=function(){const ee=Array.prototype.slice.call(arguments);return addSlice$8(new Uint8Array(Array.prototype.slice.apply(te,ee)))}),te}function isBytesLike$4(te){return isHexString$d(te)&&!(te.length%2)||isBytes$8(te)}function isInteger$8(te){return typeof te=="number"&&te==te&&te%1===0}function isBytes$8(te){if(te==null)return!1;if(te.constructor===Uint8Array)return!0;if(typeof te=="string"||!isInteger$8(te.length)||te.length<0)return!1;for(let ee=0;ee<te.length;ee++){const re=te[ee];if(!isInteger$8(re)||re<0||re>=256)return!1}return!0}function arrayify$8(te,ee){if(ee||(ee={}),typeof te=="number"){logger$O.checkSafeUint53(te,"invalid arrayify value");const re=[];for(;te;)re.unshift(te&255),te=parseInt(String(te/256));return re.length===0&&re.push(0),addSlice$8(new Uint8Array(re))}if(ee.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),isHexable$8(te)&&(te=te.toHexString()),isHexString$d(te)){let re=te.substring(2);re.length%2&&(ee.hexPad==="left"?re="0"+re:ee.hexPad==="right"?re+="0":logger$O.throwArgumentError("hex data is odd-length","value",te));const ne=[];for(let ie=0;ie<re.length;ie+=2)ne.push(parseInt(re.substring(ie,ie+2),16));return addSlice$8(new Uint8Array(ne))}return isBytes$8(te)?addSlice$8(new Uint8Array(te)):logger$O.throwArgumentError("invalid arrayify value","value",te)}function concat$3(te){const ee=te.map(ie=>arrayify$8(ie)),re=ee.reduce((ie,oe)=>ie+oe.length,0),ne=new Uint8Array(re);return ee.reduce((ie,oe)=>(ne.set(oe,ie),ie+oe.length),0),addSlice$8(ne)}function zeroPad$2(te,ee){te=arrayify$8(te),te.length>ee&&logger$O.throwArgumentError("value out of range","value",arguments[0]);const re=new Uint8Array(ee);return re.set(te,ee-te.length),addSlice$8(re)}function isHexString$d(te,ee){return!(typeof te!="string"||!te.match(/^0x[0-9A-Fa-f]*$/)||ee&&te.length!==2+2*ee)}const HexCharacters$5="0123456789abcdef";function hexlify$5(te,ee){if(ee||(ee={}),typeof te=="number"){logger$O.checkSafeUint53(te,"invalid hexlify value");let re="";for(;te;)re=HexCharacters$5[te&15]+re,te=Math.floor(te/16);return re.length?(re.length%2&&(re="0"+re),"0x"+re):"0x00"}if(typeof te=="bigint")return te=te.toString(16),te.length%2?"0x0"+te:"0x"+te;if(ee.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),isHexable$8(te))return te.toHexString();if(isHexString$d(te))return te.length%2&&(ee.hexPad==="left"?te="0x0"+te.substring(2):ee.hexPad==="right"?te+="0":logger$O.throwArgumentError("hex data is odd-length","value",te)),te.toLowerCase();if(isBytes$8(te)){let re="0x";for(let ne=0;ne<te.length;ne++){let ie=te[ne];re+=HexCharacters$5[(ie&240)>>4]+HexCharacters$5[ie&15]}return re}return logger$O.throwArgumentError("invalid hexlify value","value",te)}function hexDataSlice$1(te,ee,re){return typeof te!="string"?te=hexlify$5(te):(!isHexString$d(te)||te.length%2)&&logger$O.throwArgumentError("invalid hexData","value",te),ee=2+2*ee,re!=null?"0x"+te.substring(ee,2+2*re):"0x"+te.substring(ee)}function hexZeroPad$2(te,ee){for(typeof te!="string"?te=hexlify$5(te):isHexString$d(te)||logger$O.throwArgumentError("invalid hex string","value",te),te.length>2*ee+2&&logger$O.throwArgumentError("value out of range","value",arguments[1]);te.length<2*ee+2;)te="0x0"+te.substring(2);return te}function splitSignature$2(te){const ee={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(isBytesLike$4(te)){let re=arrayify$8(te);re.length===64?(ee.v=27+(re[32]>>7),re[32]&=127,ee.r=hexlify$5(re.slice(0,32)),ee.s=hexlify$5(re.slice(32,64))):re.length===65?(ee.r=hexlify$5(re.slice(0,32)),ee.s=hexlify$5(re.slice(32,64)),ee.v=re[64]):logger$O.throwArgumentError("invalid signature string","signature",te),ee.v<27&&(ee.v===0||ee.v===1?ee.v+=27:logger$O.throwArgumentError("signature invalid v byte","signature",te)),ee.recoveryParam=1-ee.v%2,ee.recoveryParam&&(re[32]|=128),ee._vs=hexlify$5(re.slice(32,64))}else{if(ee.r=te.r,ee.s=te.s,ee.v=te.v,ee.recoveryParam=te.recoveryParam,ee._vs=te._vs,ee._vs!=null){const ie=zeroPad$2(arrayify$8(ee._vs),32);ee._vs=hexlify$5(ie);const oe=ie[0]>=128?1:0;ee.recoveryParam==null?ee.recoveryParam=oe:ee.recoveryParam!==oe&&logger$O.throwArgumentError("signature recoveryParam mismatch _vs","signature",te),ie[0]&=127;const se=hexlify$5(ie);ee.s==null?ee.s=se:ee.s!==se&&logger$O.throwArgumentError("signature v mismatch _vs","signature",te)}if(ee.recoveryParam==null)ee.v==null?logger$O.throwArgumentError("signature missing v and recoveryParam","signature",te):ee.v===0||ee.v===1?ee.recoveryParam=ee.v:ee.recoveryParam=1-ee.v%2;else if(ee.v==null)ee.v=27+ee.recoveryParam;else{const ie=ee.v===0||ee.v===1?ee.v:1-ee.v%2;ee.recoveryParam!==ie&&logger$O.throwArgumentError("signature recoveryParam mismatch v","signature",te)}ee.r==null||!isHexString$d(ee.r)?logger$O.throwArgumentError("signature missing or invalid r","signature",te):ee.r=hexZeroPad$2(ee.r,32),ee.s==null||!isHexString$d(ee.s)?logger$O.throwArgumentError("signature missing or invalid s","signature",te):ee.s=hexZeroPad$2(ee.s,32);const re=arrayify$8(ee.s);re[0]>=128&&logger$O.throwArgumentError("signature s out of range","signature",te),ee.recoveryParam&&(re[0]|=128);const ne=hexlify$5(re);ee._vs&&(isHexString$d(ee._vs)||logger$O.throwArgumentError("signature invalid _vs","signature",te),ee._vs=hexZeroPad$2(ee._vs,32)),ee._vs==null?ee._vs=ne:ee._vs!==ne&&logger$O.throwArgumentError("signature _vs mismatch v and s","signature",te)}return ee.yParityAndS=ee._vs,ee.compact=ee.r+ee.yParityAndS.substring(2),ee}const version$_="properties/5.6.0";globalThis&&globalThis.__awaiter;new Logger$a(version$_);function defineReadOnly$3(te,ee,re){Object.defineProperty(te,ee,{enumerable:!0,value:re,writable:!1})}class BaseX$1{constructor(ee){defineReadOnly$3(this,"alphabet",ee),defineReadOnly$3(this,"base",ee.length),defineReadOnly$3(this,"_alphabetMap",{}),defineReadOnly$3(this,"_leader",ee.charAt(0));for(let re=0;re<ee.length;re++)this._alphabetMap[ee.charAt(re)]=re}encode(ee){let re=arrayify$8(ee);if(re.length===0)return"";let ne=[0];for(let oe=0;oe<re.length;++oe){let se=re[oe];for(let ae=0;ae<ne.length;++ae)se+=ne[ae]<<8,ne[ae]=se%this.base,se=se/this.base|0;for(;se>0;)ne.push(se%this.base),se=se/this.base|0}let ie="";for(let oe=0;re[oe]===0&&oe<re.length-1;++oe)ie+=this._leader;for(let oe=ne.length-1;oe>=0;--oe)ie+=this.alphabet[ne[oe]];return ie}decode(ee){if(typeof ee!="string")throw new TypeError("Expected String");let re=[];if(ee.length===0)return new Uint8Array(re);re.push(0);for(let ne=0;ne<ee.length;ne++){let ie=this._alphabetMap[ee[ne]];if(ie===void 0)throw new Error("Non-base"+this.base+" character");let oe=ie;for(let se=0;se<re.length;++se)oe+=re[se]*this.base,re[se]=oe&255,oe>>=8;for(;oe>0;)re.push(oe&255),oe>>=8}for(let ne=0;ee[ne]===this._leader&&ne<ee.length-1;++ne)re.push(0);return arrayify$8(new Uint8Array(re.reverse()))}}new BaseX$1("abcdefghijklmnopqrstuvwxyz234567");const Base58$1=new BaseX$1("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),version$Z="bignumber/5.6.0";var BN$i=_BN.BN;const logger$N=new Logger$a(version$Z),_constructorGuard$4={},MAX_SAFE$1=9007199254740991;let _warnedToStringRadix$1=!1;class BigNumber$1{constructor(ee,re){logger$N.checkNew(new.target,BigNumber$1),ee!==_constructorGuard$4&&logger$N.throwError("cannot call constructor directly; use BigNumber.from",Logger$a.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=re,this._isBigNumber=!0,Object.freeze(this)}fromTwos(ee){return toBigNumber$1(toBN$1(this).fromTwos(ee))}toTwos(ee){return toBigNumber$1(toBN$1(this).toTwos(ee))}abs(){return this._hex[0]==="-"?BigNumber$1.from(this._hex.substring(1)):this}add(ee){return toBigNumber$1(toBN$1(this).add(toBN$1(ee)))}sub(ee){return toBigNumber$1(toBN$1(this).sub(toBN$1(ee)))}div(ee){return BigNumber$1.from(ee).isZero()&&throwFault$1("division-by-zero","div"),toBigNumber$1(toBN$1(this).div(toBN$1(ee)))}mul(ee){return toBigNumber$1(toBN$1(this).mul(toBN$1(ee)))}mod(ee){const re=toBN$1(ee);return re.isNeg()&&throwFault$1("division-by-zero","mod"),toBigNumber$1(toBN$1(this).umod(re))}pow(ee){const re=toBN$1(ee);return re.isNeg()&&throwFault$1("negative-power","pow"),toBigNumber$1(toBN$1(this).pow(re))}and(ee){const re=toBN$1(ee);return(this.isNegative()||re.isNeg())&&throwFault$1("unbound-bitwise-result","and"),toBigNumber$1(toBN$1(this).and(re))}or(ee){const re=toBN$1(ee);return(this.isNegative()||re.isNeg())&&throwFault$1("unbound-bitwise-result","or"),toBigNumber$1(toBN$1(this).or(re))}xor(ee){const re=toBN$1(ee);return(this.isNegative()||re.isNeg())&&throwFault$1("unbound-bitwise-result","xor"),toBigNumber$1(toBN$1(this).xor(re))}mask(ee){return(this.isNegative()||ee<0)&&throwFault$1("negative-width","mask"),toBigNumber$1(toBN$1(this).maskn(ee))}shl(ee){return(this.isNegative()||ee<0)&&throwFault$1("negative-width","shl"),toBigNumber$1(toBN$1(this).shln(ee))}shr(ee){return(this.isNegative()||ee<0)&&throwFault$1("negative-width","shr"),toBigNumber$1(toBN$1(this).shrn(ee))}eq(ee){return toBN$1(this).eq(toBN$1(ee))}lt(ee){return toBN$1(this).lt(toBN$1(ee))}lte(ee){return toBN$1(this).lte(toBN$1(ee))}gt(ee){return toBN$1(this).gt(toBN$1(ee))}gte(ee){return toBN$1(this).gte(toBN$1(ee))}isNegative(){return this._hex[0]==="-"}isZero(){return toBN$1(this).isZero()}toNumber(){try{return toBN$1(this).toNumber()}catch{throwFault$1("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return logger$N.throwError("this platform does not support BigInt",Logger$a.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?_warnedToStringRadix$1||(_warnedToStringRadix$1=!0,logger$N.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?logger$N.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Logger$a.errors.UNEXPECTED_ARGUMENT,{}):logger$N.throwError("BigNumber.toString does not accept parameters",Logger$a.errors.UNEXPECTED_ARGUMENT,{})),toBN$1(this).toString(10)}toHexString(){return this._hex}toJSON(ee){return{type:"BigNumber",hex:this.toHexString()}}static from(ee){if(ee instanceof BigNumber$1)return ee;if(typeof ee=="string")return ee.match(/^-?0x[0-9a-f]+$/i)?new BigNumber$1(_constructorGuard$4,toHex$2(ee)):ee.match(/^-?[0-9]+$/)?new BigNumber$1(_constructorGuard$4,toHex$2(new BN$i(ee))):logger$N.throwArgumentError("invalid BigNumber string","value",ee);if(typeof ee=="number")return ee%1&&throwFault$1("underflow","BigNumber.from",ee),(ee>=MAX_SAFE$1||ee<=-MAX_SAFE$1)&&throwFault$1("overflow","BigNumber.from",ee),BigNumber$1.from(String(ee));const re=ee;if(typeof re=="bigint")return BigNumber$1.from(re.toString());if(isBytes$8(re))return BigNumber$1.from(hexlify$5(re));if(re)if(re.toHexString){const ne=re.toHexString();if(typeof ne=="string")return BigNumber$1.from(ne)}else{let ne=re._hex;if(ne==null&&re.type==="BigNumber"&&(ne=re.hex),typeof ne=="string"&&(isHexString$d(ne)||ne[0]==="-"&&isHexString$d(ne.substring(1))))return BigNumber$1.from(ne)}return logger$N.throwArgumentError("invalid BigNumber value","value",ee)}static isBigNumber(ee){return!!(ee&&ee._isBigNumber)}}function toHex$2(te){if(typeof te!="string")return toHex$2(te.toString(16));if(te[0]==="-")return te=te.substring(1),te[0]==="-"&&logger$N.throwArgumentError("invalid hex","value",te),te=toHex$2(te),te==="0x00"?te:"-"+te;if(te.substring(0,2)!=="0x"&&(te="0x"+te),te==="0x")return"0x00";for(te.length%2&&(te="0x0"+te.substring(2));te.length>4&&te.substring(0,4)==="0x00";)te="0x"+te.substring(4);return te}function toBigNumber$1(te){return BigNumber$1.from(toHex$2(te))}function toBN$1(te){const ee=BigNumber$1.from(te).toHexString();return ee[0]==="-"?new BN$i("-"+ee.substring(3),16):new BN$i(ee.substring(2),16)}function throwFault$1(te,ee,re){const ne={fault:te,operation:ee};return re!=null&&(ne.value=re),logger$N.throwError(te,Logger$a.errors.NUMERIC_FAULT,ne)}function _base36To16$1(te){return new BN$i(te,36).toString(16)}const version$Y="strings/5.6.0",logger$M=new Logger$a(version$Y);var UnicodeNormalizationForm$2;(function(te){te.current="",te.NFC="NFC",te.NFD="NFD",te.NFKC="NFKC",te.NFKD="NFKD"})(UnicodeNormalizationForm$2||(UnicodeNormalizationForm$2={}));var Utf8ErrorReason$2;(function(te){te.UNEXPECTED_CONTINUE="unexpected continuation byte",te.BAD_PREFIX="bad codepoint prefix",te.OVERRUN="string overrun",te.MISSING_CONTINUE="missing continuation byte",te.OUT_OF_RANGE="out of UTF-8 range",te.UTF16_SURROGATE="UTF-16 surrogate",te.OVERLONG="overlong representation"})(Utf8ErrorReason$2||(Utf8ErrorReason$2={}));function errorFunc$2(te,ee,re,ne,ie){return logger$M.throwArgumentError(`invalid codepoint at offset ${ee}; ${te}`,"bytes",re)}function ignoreFunc$2(te,ee,re,ne,ie){if(te===Utf8ErrorReason$2.BAD_PREFIX||te===Utf8ErrorReason$2.UNEXPECTED_CONTINUE){let oe=0;for(let se=ee+1;se<re.length&&re[se]>>6===2;se++)oe++;return oe}return te===Utf8ErrorReason$2.OVERRUN?re.length-ee-1:0}function replaceFunc$2(te,ee,re,ne,ie){return te===Utf8ErrorReason$2.OVERLONG?(ne.push(ie),0):(ne.push(65533),ignoreFunc$2(te,ee,re))}Object.freeze({error:errorFunc$2,ignore:ignoreFunc$2,replace:replaceFunc$2});function toUtf8Bytes$2(te,ee=UnicodeNormalizationForm$2.current){ee!=UnicodeNormalizationForm$2.current&&(logger$M.checkNormalize(),te=te.normalize(ee));let re=[];for(let ne=0;ne<te.length;ne++){const ie=te.charCodeAt(ne);if(ie<128)re.push(ie);else if(ie<2048)re.push(ie>>6|192),re.push(ie&63|128);else if((ie&64512)==55296){ne++;const oe=te.charCodeAt(ne);if(ne>=te.length||(oe&64512)!==56320)throw new Error("invalid utf-8 string");const se=65536+((ie&1023)<<10)+(oe&1023);re.push(se>>18|240),re.push(se>>12&63|128),re.push(se>>6&63|128),re.push(se&63|128)}else re.push(ie>>12|224),re.push(ie>>6&63|128),re.push(ie&63|128)}return arrayify$8(re)}var hash$4={},utils$r={},minimalisticAssert$4=assert$n;function assert$n(te,ee){if(!te)throw new Error(ee||"Assertion failed")}assert$n.equal=function(ee,re,ne){if(ee!=re)throw new Error(ne||"Assertion failed: "+ee+" != "+re)};var assert$m=minimalisticAssert$4,inherits$j=inherits_browser$5.exports;utils$r.inherits=inherits$j;function isSurrogatePair(te,ee){return(te.charCodeAt(ee)&64512)!==55296||ee<0||ee+1>=te.length?!1:(te.charCodeAt(ee+1)&64512)===56320}function toArray$1(te,ee){if(Array.isArray(te))return te.slice();if(!te)return[];var re=[];if(typeof te=="string")if(ee){if(ee==="hex")for(te=te.replace(/[^a-z0-9]+/ig,""),te.length%2!==0&&(te="0"+te),ie=0;ie<te.length;ie+=2)re.push(parseInt(te[ie]+te[ie+1],16))}else for(var ne=0,ie=0;ie<te.length;ie++){var oe=te.charCodeAt(ie);oe<128?re[ne++]=oe:oe<2048?(re[ne++]=oe>>6|192,re[ne++]=oe&63|128):isSurrogatePair(te,ie)?(oe=65536+((oe&1023)<<10)+(te.charCodeAt(++ie)&1023),re[ne++]=oe>>18|240,re[ne++]=oe>>12&63|128,re[ne++]=oe>>6&63|128,re[ne++]=oe&63|128):(re[ne++]=oe>>12|224,re[ne++]=oe>>6&63|128,re[ne++]=oe&63|128)}else for(ie=0;ie<te.length;ie++)re[ie]=te[ie]|0;return re}utils$r.toArray=toArray$1;function toHex$1(te){for(var ee="",re=0;re<te.length;re++)ee+=zero2(te[re].toString(16));return ee}utils$r.toHex=toHex$1;function htonl(te){var ee=te>>>24|te>>>8&65280|te<<8&16711680|(te&255)<<24;return ee>>>0}utils$r.htonl=htonl;function toHex32(te,ee){for(var re="",ne=0;ne<te.length;ne++){var ie=te[ne];ee==="little"&&(ie=htonl(ie)),re+=zero8(ie.toString(16))}return re}utils$r.toHex32=toHex32;function zero2(te){return te.length===1?"0"+te:te}utils$r.zero2=zero2;function zero8(te){return te.length===7?"0"+te:te.length===6?"00"+te:te.length===5?"000"+te:te.length===4?"0000"+te:te.length===3?"00000"+te:te.length===2?"000000"+te:te.length===1?"0000000"+te:te}utils$r.zero8=zero8;function join32(te,ee,re,ne){var ie=re-ee;assert$m(ie%4===0);for(var oe=new Array(ie/4),se=0,ae=ee;se<oe.length;se++,ae+=4){var fe;ne==="big"?fe=te[ae]<<24|te[ae+1]<<16|te[ae+2]<<8|te[ae+3]:fe=te[ae+3]<<24|te[ae+2]<<16|te[ae+1]<<8|te[ae],oe[se]=fe>>>0}return oe}utils$r.join32=join32;function split32(te,ee){for(var re=new Array(te.length*4),ne=0,ie=0;ne<te.length;ne++,ie+=4){var oe=te[ne];ee==="big"?(re[ie]=oe>>>24,re[ie+1]=oe>>>16&255,re[ie+2]=oe>>>8&255,re[ie+3]=oe&255):(re[ie+3]=oe>>>24,re[ie+2]=oe>>>16&255,re[ie+1]=oe>>>8&255,re[ie]=oe&255)}return re}utils$r.split32=split32;function rotr32$1(te,ee){return te>>>ee|te<<32-ee}utils$r.rotr32=rotr32$1;function rotl32$2(te,ee){return te<<ee|te>>>32-ee}utils$r.rotl32=rotl32$2;function sum32$3(te,ee){return te+ee>>>0}utils$r.sum32=sum32$3;function sum32_3$1(te,ee,re){return te+ee+re>>>0}utils$r.sum32_3=sum32_3$1;function sum32_4$2(te,ee,re,ne){return te+ee+re+ne>>>0}utils$r.sum32_4=sum32_4$2;function sum32_5$2(te,ee,re,ne,ie){return te+ee+re+ne+ie>>>0}utils$r.sum32_5=sum32_5$2;function sum64$1(te,ee,re,ne){var ie=te[ee],oe=te[ee+1],se=ne+oe>>>0,ae=(se<ne?1:0)+re+ie;te[ee]=ae>>>0,te[ee+1]=se}utils$r.sum64=sum64$1;function sum64_hi$1(te,ee,re,ne){var ie=ee+ne>>>0,oe=(ie<ee?1:0)+te+re;return oe>>>0}utils$r.sum64_hi=sum64_hi$1;function sum64_lo$1(te,ee,re,ne){var ie=ee+ne;return ie>>>0}utils$r.sum64_lo=sum64_lo$1;function sum64_4_hi$1(te,ee,re,ne,ie,oe,se,ae){var fe=0,ue=ee;ue=ue+ne>>>0,fe+=ue<ee?1:0,ue=ue+oe>>>0,fe+=ue<oe?1:0,ue=ue+ae>>>0,fe+=ue<ae?1:0;var le=te+re+ie+se+fe;return le>>>0}utils$r.sum64_4_hi=sum64_4_hi$1;function sum64_4_lo$1(te,ee,re,ne,ie,oe,se,ae){var fe=ee+ne+oe+ae;return fe>>>0}utils$r.sum64_4_lo=sum64_4_lo$1;function sum64_5_hi$1(te,ee,re,ne,ie,oe,se,ae,fe,ue){var le=0,pe=ee;pe=pe+ne>>>0,le+=pe<ee?1:0,pe=pe+oe>>>0,le+=pe<oe?1:0,pe=pe+ae>>>0,le+=pe<ae?1:0,pe=pe+ue>>>0,le+=pe<ue?1:0;var rr=te+re+ie+se+fe+le;return rr>>>0}utils$r.sum64_5_hi=sum64_5_hi$1;function sum64_5_lo$1(te,ee,re,ne,ie,oe,se,ae,fe,ue){var le=ee+ne+oe+ae+ue;return le>>>0}utils$r.sum64_5_lo=sum64_5_lo$1;function rotr64_hi$1(te,ee,re){var ne=ee<<32-re|te>>>re;return ne>>>0}utils$r.rotr64_hi=rotr64_hi$1;function rotr64_lo$1(te,ee,re){var ne=te<<32-re|ee>>>re;return ne>>>0}utils$r.rotr64_lo=rotr64_lo$1;function shr64_hi$1(te,ee,re){return te>>>re}utils$r.shr64_hi=shr64_hi$1;function shr64_lo$1(te,ee,re){var ne=te<<32-re|ee>>>re;return ne>>>0}utils$r.shr64_lo=shr64_lo$1;var common$5={},utils$q=utils$r,assert$l=minimalisticAssert$4;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$5.BlockHash=BlockHash$4;BlockHash$4.prototype.update=function(ee,re){if(ee=utils$q.toArray(ee,re),this.pending?this.pending=this.pending.concat(ee):this.pending=ee,this.pendingTotal+=ee.length,this.pending.length>=this._delta8){ee=this.pending;var ne=ee.length%this._delta8;this.pending=ee.slice(ee.length-ne,ee.length),this.pending.length===0&&(this.pending=null),ee=utils$q.join32(ee,0,ee.length-ne,this.endian);for(var ie=0;ie<ee.length;ie+=this._delta32)this._update(ee,ie,ie+this._delta32)}return this};BlockHash$4.prototype.digest=function(ee){return this.update(this._pad()),assert$l(this.pending===null),this._digest(ee)};BlockHash$4.prototype._pad=function(){var ee=this.pendingTotal,re=this._delta8,ne=re-(ee+this.padLength)%re,ie=new Array(ne+this.padLength);ie[0]=128;for(var oe=1;oe<ne;oe++)ie[oe]=0;if(ee<<=3,this.endian==="big"){for(var se=8;se<this.padLength;se++)ie[oe++]=0;ie[oe++]=0,ie[oe++]=0,ie[oe++]=0,ie[oe++]=0,ie[oe++]=ee>>>24&255,ie[oe++]=ee>>>16&255,ie[oe++]=ee>>>8&255,ie[oe++]=ee&255}else for(ie[oe++]=ee&255,ie[oe++]=ee>>>8&255,ie[oe++]=ee>>>16&255,ie[oe++]=ee>>>24&255,ie[oe++]=0,ie[oe++]=0,ie[oe++]=0,ie[oe++]=0,se=8;se<this.padLength;se++)ie[oe++]=0;return ie};var sha$2={},common$4={},utils$p=utils$r,rotr32=utils$p.rotr32;function ft_1$1(te,ee,re,ne){if(te===0)return ch32$1(ee,re,ne);if(te===1||te===3)return p32(ee,re,ne);if(te===2)return maj32$1(ee,re,ne)}common$4.ft_1=ft_1$1;function ch32$1(te,ee,re){return te&ee^~te&re}common$4.ch32=ch32$1;function maj32$1(te,ee,re){return te&ee^te&re^ee&re}common$4.maj32=maj32$1;function p32(te,ee,re){return te^ee^re}common$4.p32=p32;function s0_256$1(te){return rotr32(te,2)^rotr32(te,13)^rotr32(te,22)}common$4.s0_256=s0_256$1;function s1_256$1(te){return rotr32(te,6)^rotr32(te,11)^rotr32(te,25)}common$4.s1_256=s1_256$1;function g0_256$1(te){return rotr32(te,7)^rotr32(te,18)^te>>>3}common$4.g0_256=g0_256$1;function g1_256$1(te){return rotr32(te,17)^rotr32(te,19)^te>>>10}common$4.g1_256=g1_256$1;var utils$o=utils$r,common$3=common$5,shaCommon$1=common$4,rotl32$1=utils$o.rotl32,sum32$2=utils$o.sum32,sum32_5$1=utils$o.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$3.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$o.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function(ee,re){for(var ne=this.W,ie=0;ie<16;ie++)ne[ie]=ee[re+ie];for(;ie<ne.length;ie++)ne[ie]=rotl32$1(ne[ie-3]^ne[ie-8]^ne[ie-14]^ne[ie-16],1);var oe=this.h[0],se=this.h[1],ae=this.h[2],fe=this.h[3],ue=this.h[4];for(ie=0;ie<ne.length;ie++){var le=~~(ie/20),pe=sum32_5$1(rotl32$1(oe,5),ft_1(le,se,ae,fe),ue,ne[ie],sha1_K[le]);ue=fe,fe=ae,ae=rotl32$1(se,30),se=oe,oe=pe}this.h[0]=sum32$2(this.h[0],oe),this.h[1]=sum32$2(this.h[1],se),this.h[2]=sum32$2(this.h[2],ae),this.h[3]=sum32$2(this.h[3],fe),this.h[4]=sum32$2(this.h[4],ue)};SHA1.prototype._digest=function(ee){return ee==="hex"?utils$o.toHex32(this.h,"big"):utils$o.split32(this.h,"big")};var utils$n=utils$r,common$2=common$5,shaCommon=common$4,assert$k=minimalisticAssert$4,sum32$1=utils$n.sum32,sum32_4$1=utils$n.sum32_4,sum32_5=utils$n.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$2.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$1(){if(!(this instanceof SHA256$1))return new SHA256$1;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$n.inherits(SHA256$1,BlockHash$2);var _256=SHA256$1;SHA256$1.blockSize=512;SHA256$1.outSize=256;SHA256$1.hmacStrength=192;SHA256$1.padLength=64;SHA256$1.prototype._update=function(ee,re){for(var ne=this.W,ie=0;ie<16;ie++)ne[ie]=ee[re+ie];for(;ie<ne.length;ie++)ne[ie]=sum32_4$1(g1_256(ne[ie-2]),ne[ie-7],g0_256(ne[ie-15]),ne[ie-16]);var oe=this.h[0],se=this.h[1],ae=this.h[2],fe=this.h[3],ue=this.h[4],le=this.h[5],pe=this.h[6],rr=this.h[7];for(assert$k(this.k.length===ne.length),ie=0;ie<ne.length;ie++){var cr=sum32_5(rr,s1_256(ue),ch32(ue,le,pe),this.k[ie],ne[ie]),ar=sum32$1(s0_256(oe),maj32(oe,se,ae));rr=pe,pe=le,le=ue,ue=sum32$1(fe,cr),fe=ae,ae=se,se=oe,oe=sum32$1(cr,ar)}this.h[0]=sum32$1(this.h[0],oe),this.h[1]=sum32$1(this.h[1],se),this.h[2]=sum32$1(this.h[2],ae),this.h[3]=sum32$1(this.h[3],fe),this.h[4]=sum32$1(this.h[4],ue),this.h[5]=sum32$1(this.h[5],le),this.h[6]=sum32$1(this.h[6],pe),this.h[7]=sum32$1(this.h[7],rr)};SHA256$1.prototype._digest=function(ee){return ee==="hex"?utils$n.toHex32(this.h,"big"):utils$n.split32(this.h,"big")};var utils$m=utils$r,SHA256=_256;function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$m.inherits(SHA224,SHA256);var _224=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function(ee){return ee==="hex"?utils$m.toHex32(this.h.slice(0,7),"big"):utils$m.split32(this.h.slice(0,7),"big")};var utils$l=utils$r,common$1=common$5,assert$j=minimalisticAssert$4,rotr64_hi=utils$l.rotr64_hi,rotr64_lo=utils$l.rotr64_lo,shr64_hi=utils$l.shr64_hi,shr64_lo=utils$l.shr64_lo,sum64=utils$l.sum64,sum64_hi=utils$l.sum64_hi,sum64_lo=utils$l.sum64_lo,sum64_4_hi=utils$l.sum64_4_hi,sum64_4_lo=utils$l.sum64_4_lo,sum64_5_hi=utils$l.sum64_5_hi,sum64_5_lo=utils$l.sum64_5_lo,BlockHash$1=common$1.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$2(){if(!(this instanceof SHA512$2))return new SHA512$2;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$l.inherits(SHA512$2,BlockHash$1);var _512=SHA512$2;SHA512$2.blockSize=1024;SHA512$2.outSize=512;SHA512$2.hmacStrength=192;SHA512$2.padLength=128;SHA512$2.prototype._prepareBlock=function(ee,re){for(var ne=this.W,ie=0;ie<32;ie++)ne[ie]=ee[re+ie];for(;ie<ne.length;ie+=2){var oe=g1_512_hi(ne[ie-4],ne[ie-3]),se=g1_512_lo(ne[ie-4],ne[ie-3]),ae=ne[ie-14],fe=ne[ie-13],ue=g0_512_hi(ne[ie-30],ne[ie-29]),le=g0_512_lo(ne[ie-30],ne[ie-29]),pe=ne[ie-32],rr=ne[ie-31];ne[ie]=sum64_4_hi(oe,se,ae,fe,ue,le,pe,rr),ne[ie+1]=sum64_4_lo(oe,se,ae,fe,ue,le,pe,rr)}};SHA512$2.prototype._update=function(ee,re){this._prepareBlock(ee,re);var ne=this.W,ie=this.h[0],oe=this.h[1],se=this.h[2],ae=this.h[3],fe=this.h[4],ue=this.h[5],le=this.h[6],pe=this.h[7],rr=this.h[8],cr=this.h[9],ar=this.h[10],mr=this.h[11],pr=this.h[12],yr=this.h[13],vr=this.h[14],Er=this.h[15];assert$j(this.k.length===ne.length);for(var Tr=0;Tr<ne.length;Tr+=2){var Ir=vr,Or=Er,Hr=s1_512_hi(rr,cr),Pr=s1_512_lo(rr,cr),Br=ch64_hi(rr,cr,ar,mr,pr),Nr=ch64_lo(rr,cr,ar,mr,pr,yr),dr=this.k[Tr],tr=this.k[Tr+1],ve=ne[Tr],ce=ne[Tr+1],me=sum64_5_hi(Ir,Or,Hr,Pr,Br,Nr,dr,tr,ve,ce),ir=sum64_5_lo(Ir,Or,Hr,Pr,Br,Nr,dr,tr,ve,ce);Ir=s0_512_hi(ie,oe),Or=s0_512_lo(ie,oe),Hr=maj64_hi(ie,oe,se,ae,fe),Pr=maj64_lo(ie,oe,se,ae,fe,ue);var ur=sum64_hi(Ir,Or,Hr,Pr),lr=sum64_lo(Ir,Or,Hr,Pr);vr=pr,Er=yr,pr=ar,yr=mr,ar=rr,mr=cr,rr=sum64_hi(le,pe,me,ir),cr=sum64_lo(pe,pe,me,ir),le=fe,pe=ue,fe=se,ue=ae,se=ie,ae=oe,ie=sum64_hi(me,ir,ur,lr),oe=sum64_lo(me,ir,ur,lr)}sum64(this.h,0,ie,oe),sum64(this.h,2,se,ae),sum64(this.h,4,fe,ue),sum64(this.h,6,le,pe),sum64(this.h,8,rr,cr),sum64(this.h,10,ar,mr),sum64(this.h,12,pr,yr),sum64(this.h,14,vr,Er)};SHA512$2.prototype._digest=function(ee){return ee==="hex"?utils$l.toHex32(this.h,"big"):utils$l.split32(this.h,"big")};function ch64_hi(te,ee,re,ne,ie){var oe=te&re^~te&ie;return oe<0&&(oe+=4294967296),oe}function ch64_lo(te,ee,re,ne,ie,oe){var se=ee&ne^~ee&oe;return se<0&&(se+=4294967296),se}function maj64_hi(te,ee,re,ne,ie){var oe=te&re^te&ie^re&ie;return oe<0&&(oe+=4294967296),oe}function maj64_lo(te,ee,re,ne,ie,oe){var se=ee&ne^ee&oe^ne&oe;return se<0&&(se+=4294967296),se}function s0_512_hi(te,ee){var re=rotr64_hi(te,ee,28),ne=rotr64_hi(ee,te,2),ie=rotr64_hi(ee,te,7),oe=re^ne^ie;return oe<0&&(oe+=4294967296),oe}function s0_512_lo(te,ee){var re=rotr64_lo(te,ee,28),ne=rotr64_lo(ee,te,2),ie=rotr64_lo(ee,te,7),oe=re^ne^ie;return oe<0&&(oe+=4294967296),oe}function s1_512_hi(te,ee){var re=rotr64_hi(te,ee,14),ne=rotr64_hi(te,ee,18),ie=rotr64_hi(ee,te,9),oe=re^ne^ie;return oe<0&&(oe+=4294967296),oe}function s1_512_lo(te,ee){var re=rotr64_lo(te,ee,14),ne=rotr64_lo(te,ee,18),ie=rotr64_lo(ee,te,9),oe=re^ne^ie;return oe<0&&(oe+=4294967296),oe}function g0_512_hi(te,ee){var re=rotr64_hi(te,ee,1),ne=rotr64_hi(te,ee,8),ie=shr64_hi(te,ee,7),oe=re^ne^ie;return oe<0&&(oe+=4294967296),oe}function g0_512_lo(te,ee){var re=rotr64_lo(te,ee,1),ne=rotr64_lo(te,ee,8),ie=shr64_lo(te,ee,7),oe=re^ne^ie;return oe<0&&(oe+=4294967296),oe}function g1_512_hi(te,ee){var re=rotr64_hi(te,ee,19),ne=rotr64_hi(ee,te,29),ie=shr64_hi(te,ee,6),oe=re^ne^ie;return oe<0&&(oe+=4294967296),oe}function g1_512_lo(te,ee){var re=rotr64_lo(te,ee,19),ne=rotr64_lo(ee,te,29),ie=shr64_lo(te,ee,6),oe=re^ne^ie;return oe<0&&(oe+=4294967296),oe}var utils$k=utils$r,SHA512$1=_512;function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512$1.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$k.inherits(SHA384,SHA512$1);var _384=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function(ee){return ee==="hex"?utils$k.toHex32(this.h.slice(0,12),"big"):utils$k.split32(this.h.slice(0,12),"big")};sha$2.sha1=_1;sha$2.sha224=_224;sha$2.sha256=_256;sha$2.sha384=_384;sha$2.sha512=_512;var ripemd={},utils$j=utils$r,common=common$5,rotl32=utils$j.rotl32,sum32=utils$j.sum32,sum32_3=utils$j.sum32_3,sum32_4=utils$j.sum32_4,BlockHash=common.BlockHash;function RIPEMD160$2(){if(!(this instanceof RIPEMD160$2))return new RIPEMD160$2;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$j.inherits(RIPEMD160$2,BlockHash);ripemd.ripemd160=RIPEMD160$2;RIPEMD160$2.blockSize=512;RIPEMD160$2.outSize=160;RIPEMD160$2.hmacStrength=192;RIPEMD160$2.padLength=64;RIPEMD160$2.prototype._update=function(ee,re){for(var ne=this.h[0],ie=this.h[1],oe=this.h[2],se=this.h[3],ae=this.h[4],fe=ne,ue=ie,le=oe,pe=se,rr=ae,cr=0;cr<80;cr++){var ar=sum32(rotl32(sum32_4(ne,f$4(cr,ie,oe,se),ee[r$5[cr]+re],K$5(cr)),s$4[cr]),ae);ne=ae,ae=se,se=rotl32(oe,10),oe=ie,ie=ar,ar=sum32(rotl32(sum32_4(fe,f$4(79-cr,ue,le,pe),ee[rh[cr]+re],Kh(cr)),sh[cr]),rr),fe=rr,rr=pe,pe=rotl32(le,10),le=ue,ue=ar}ar=sum32_3(this.h[1],oe,pe),this.h[1]=sum32_3(this.h[2],se,rr),this.h[2]=sum32_3(this.h[3],ae,fe),this.h[3]=sum32_3(this.h[4],ne,ue),this.h[4]=sum32_3(this.h[0],ie,le),this.h[0]=ar};RIPEMD160$2.prototype._digest=function(ee){return ee==="hex"?utils$j.toHex32(this.h,"little"):utils$j.split32(this.h,"little")};function f$4(te,ee,re,ne){return te<=15?ee^re^ne:te<=31?ee&re|~ee&ne:te<=47?(ee|~re)^ne:te<=63?ee&ne|re&~ne:ee^(re|~ne)}function K$5(te){return te<=15?0:te<=31?1518500249:te<=47?1859775393:te<=63?2400959708:2840853838}function Kh(te){return te<=15?1352829926:te<=31?1548603684:te<=47?1836072691:te<=63?2053994217:0}var r$5=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s$4=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils$i=utils$r,assert$i=minimalisticAssert$4;function Hmac(te,ee,re){if(!(this instanceof Hmac))return new Hmac(te,ee,re);this.Hash=te,this.blockSize=te.blockSize/8,this.outSize=te.outSize/8,this.inner=null,this.outer=null,this._init(utils$i.toArray(ee,re))}var hmac=Hmac;Hmac.prototype._init=function(ee){ee.length>this.blockSize&&(ee=new this.Hash().update(ee).digest()),assert$i(ee.length<=this.blockSize);for(var re=ee.length;re<this.blockSize;re++)ee.push(0);for(re=0;re<ee.length;re++)ee[re]^=54;for(this.inner=new this.Hash().update(ee),re=0;re<ee.length;re++)ee[re]^=106;this.outer=new this.Hash().update(ee)};Hmac.prototype.update=function(ee,re){return this.inner.update(ee,re),this};Hmac.prototype.digest=function(ee){return this.outer.update(this.inner.digest()),this.outer.digest(ee)};(function(te){var ee=te;ee.utils=utils$r,ee.common=common$5,ee.sha=sha$2,ee.ripemd=ripemd,ee.hmac=hmac,ee.sha1=ee.sha.sha1,ee.sha256=ee.sha.sha256,ee.sha224=ee.sha.sha224,ee.sha384=ee.sha.sha384,ee.sha512=ee.sha.sha512,ee.ripemd160=ee.ripemd.ripemd160})(hash$4);var SupportedAlgorithm$2;(function(te){te.sha256="sha256",te.sha512="sha512"})(SupportedAlgorithm$2||(SupportedAlgorithm$2={}));const version$X="sha2/5.6.0",logger$L=new Logger$a(version$X);function ripemd160$3(te){return"0x"+hash$4.ripemd160().update(arrayify$8(te)).digest("hex")}function sha256$5(te){return"0x"+hash$4.sha256().update(arrayify$8(te)).digest("hex")}function computeHmac$2(te,ee,re){return SupportedAlgorithm$2[te]||logger$L.throwError("unsupported algorithm "+te,Logger$a.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:te}),"0x"+hash$4.hmac(hash$4[te],arrayify$8(ee)).update(arrayify$8(re)).digest("hex")}function pbkdf2$3(te,ee,re,ne,ie){te=arrayify$8(te),ee=arrayify$8(ee);let oe,se=1;const ae=new Uint8Array(ne),fe=new Uint8Array(ee.length+4);fe.set(ee);let ue,le;for(let pe=1;pe<=se;pe++){fe[ee.length]=pe>>24&255,fe[ee.length+1]=pe>>16&255,fe[ee.length+2]=pe>>8&255,fe[ee.length+3]=pe&255;let rr=arrayify$8(computeHmac$2(ie,te,fe));oe||(oe=rr.length,le=new Uint8Array(oe),se=Math.ceil(ne/oe),ue=ne-(se-1)*oe),le.set(rr);for(let mr=1;mr<re;mr++){rr=arrayify$8(computeHmac$2(ie,te,rr));for(let pr=0;pr<oe;pr++)le[pr]^=rr[pr]}const cr=(pe-1)*oe,ar=pe===se?ue:oe;ae.set(arrayify$8(le).slice(0,ar),cr)}return hexlify$5(ae)}function createCommonjsModule$4(te,ee,re){return re={path:ee,exports:{},require:function(ne,ie){return commonjsRequire$4(ne,ie==null?re.path:ie)}},te(re,re.exports),re.exports}function commonjsRequire$4(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var minimalisticAssert$3=assert$h;function assert$h(te,ee){if(!te)throw new Error(ee||"Assertion failed")}assert$h.equal=function(ee,re,ne){if(ee!=re)throw new Error(ne||"Assertion failed: "+ee+" != "+re)};var utils_1$5=createCommonjsModule$4(function(te,ee){var re=ee;function ne(se,ae){if(Array.isArray(se))return se.slice();if(!se)return[];var fe=[];if(typeof se!="string"){for(var ue=0;ue<se.length;ue++)fe[ue]=se[ue]|0;return fe}if(ae==="hex"){se=se.replace(/[^a-z0-9]+/ig,""),se.length%2!==0&&(se="0"+se);for(var ue=0;ue<se.length;ue+=2)fe.push(parseInt(se[ue]+se[ue+1],16))}else for(var ue=0;ue<se.length;ue++){var le=se.charCodeAt(ue),pe=le>>8,rr=le&255;pe?fe.push(pe,rr):fe.push(rr)}return fe}re.toArray=ne;function ie(se){return se.length===1?"0"+se:se}re.zero2=ie;function oe(se){for(var ae="",fe=0;fe<se.length;fe++)ae+=ie(se[fe].toString(16));return ae}re.toHex=oe,re.encode=function(ae,fe){return fe==="hex"?oe(ae):ae}}),utils_1$1$4=createCommonjsModule$4(function(te,ee){var re=ee;re.assert=minimalisticAssert$3,re.toArray=utils_1$5.toArray,re.zero2=utils_1$5.zero2,re.toHex=utils_1$5.toHex,re.encode=utils_1$5.encode;function ne(fe,ue,le){var pe=new Array(Math.max(fe.bitLength(),le)+1);pe.fill(0);for(var rr=1<<ue+1,cr=fe.clone(),ar=0;ar<pe.length;ar++){var mr,pr=cr.andln(rr-1);cr.isOdd()?(pr>(rr>>1)-1?mr=(rr>>1)-pr:mr=pr,cr.isubn(mr)):mr=0,pe[ar]=mr,cr.iushrn(1)}return pe}re.getNAF=ne;function ie(fe,ue){var le=[[],[]];fe=fe.clone(),ue=ue.clone();for(var pe=0,rr=0,cr;fe.cmpn(-pe)>0||ue.cmpn(-rr)>0;){var ar=fe.andln(3)+pe&3,mr=ue.andln(3)+rr&3;ar===3&&(ar=-1),mr===3&&(mr=-1);var pr;(ar&1)===0?pr=0:(cr=fe.andln(7)+pe&7,(cr===3||cr===5)&&mr===2?pr=-ar:pr=ar),le[0].push(pr);var yr;(mr&1)===0?yr=0:(cr=ue.andln(7)+rr&7,(cr===3||cr===5)&&ar===2?yr=-mr:yr=mr),le[1].push(yr),2*pe===pr+1&&(pe=1-pe),2*rr===yr+1&&(rr=1-rr),fe.iushrn(1),ue.iushrn(1)}return le}re.getJSF=ie;function oe(fe,ue,le){var pe="_"+ue;fe.prototype[ue]=function(){return this[pe]!==void 0?this[pe]:this[pe]=le.call(this)}}re.cachedProperty=oe;function se(fe){return typeof fe=="string"?re.toArray(fe,"hex"):fe}re.parseBytes=se;function ae(fe){return new _BN(fe,"hex","le")}re.intFromLE=ae}),getNAF$4=utils_1$1$4.getNAF,getJSF$4=utils_1$1$4.getJSF,assert$1$4=utils_1$1$4.assert;function BaseCurve$4(te,ee){this.type=te,this.p=new _BN(ee.p,16),this.red=ee.prime?_BN.red(ee.prime):_BN.mont(this.p),this.zero=new _BN(0).toRed(this.red),this.one=new _BN(1).toRed(this.red),this.two=new _BN(2).toRed(this.red),this.n=ee.n&&new _BN(ee.n,16),this.g=ee.g&&this.pointFromJSON(ee.g,ee.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var re=this.n&&this.p.div(this.n);!re||re.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$5=BaseCurve$4;BaseCurve$4.prototype.point=function(){throw new Error("Not implemented")};BaseCurve$4.prototype.validate=function(){throw new Error("Not implemented")};BaseCurve$4.prototype._fixedNafMul=function(ee,re){assert$1$4(ee.precomputed);var ne=ee._getDoubles(),ie=getNAF$4(re,1,this._bitLength),oe=(1<<ne.step+1)-(ne.step%2===0?2:1);oe/=3;var se=[],ae,fe;for(ae=0;ae<ie.length;ae+=ne.step){fe=0;for(var ue=ae+ne.step-1;ue>=ae;ue--)fe=(fe<<1)+ie[ue];se.push(fe)}for(var le=this.jpoint(null,null,null),pe=this.jpoint(null,null,null),rr=oe;rr>0;rr--){for(ae=0;ae<se.length;ae++)fe=se[ae],fe===rr?pe=pe.mixedAdd(ne.points[ae]):fe===-rr&&(pe=pe.mixedAdd(ne.points[ae].neg()));le=le.add(pe)}return le.toP()};BaseCurve$4.prototype._wnafMul=function(ee,re){var ne=4,ie=ee._getNAFPoints(ne);ne=ie.wnd;for(var oe=ie.points,se=getNAF$4(re,ne,this._bitLength),ae=this.jpoint(null,null,null),fe=se.length-1;fe>=0;fe--){for(var ue=0;fe>=0&&se[fe]===0;fe--)ue++;if(fe>=0&&ue++,ae=ae.dblp(ue),fe<0)break;var le=se[fe];assert$1$4(le!==0),ee.type==="affine"?le>0?ae=ae.mixedAdd(oe[le-1>>1]):ae=ae.mixedAdd(oe[-le-1>>1].neg()):le>0?ae=ae.add(oe[le-1>>1]):ae=ae.add(oe[-le-1>>1].neg())}return ee.type==="affine"?ae.toP():ae};BaseCurve$4.prototype._wnafMulAdd=function(ee,re,ne,ie,oe){var se=this._wnafT1,ae=this._wnafT2,fe=this._wnafT3,ue=0,le,pe,rr;for(le=0;le<ie;le++){rr=re[le];var cr=rr._getNAFPoints(ee);se[le]=cr.wnd,ae[le]=cr.points}for(le=ie-1;le>=1;le-=2){var ar=le-1,mr=le;if(se[ar]!==1||se[mr]!==1){fe[ar]=getNAF$4(ne[ar],se[ar],this._bitLength),fe[mr]=getNAF$4(ne[mr],se[mr],this._bitLength),ue=Math.max(fe[ar].length,ue),ue=Math.max(fe[mr].length,ue);continue}var pr=[re[ar],null,null,re[mr]];re[ar].y.cmp(re[mr].y)===0?(pr[1]=re[ar].add(re[mr]),pr[2]=re[ar].toJ().mixedAdd(re[mr].neg())):re[ar].y.cmp(re[mr].y.redNeg())===0?(pr[1]=re[ar].toJ().mixedAdd(re[mr]),pr[2]=re[ar].add(re[mr].neg())):(pr[1]=re[ar].toJ().mixedAdd(re[mr]),pr[2]=re[ar].toJ().mixedAdd(re[mr].neg()));var yr=[-3,-1,-5,-7,0,7,5,1,3],vr=getJSF$4(ne[ar],ne[mr]);for(ue=Math.max(vr[0].length,ue),fe[ar]=new Array(ue),fe[mr]=new Array(ue),pe=0;pe<ue;pe++){var Er=vr[0][pe]|0,Tr=vr[1][pe]|0;fe[ar][pe]=yr[(Er+1)*3+(Tr+1)],fe[mr][pe]=0,ae[ar]=pr}}var Ir=this.jpoint(null,null,null),Or=this._wnafT4;for(le=ue;le>=0;le--){for(var Hr=0;le>=0;){var Pr=!0;for(pe=0;pe<ie;pe++)Or[pe]=fe[pe][le]|0,Or[pe]!==0&&(Pr=!1);if(!Pr)break;Hr++,le--}if(le>=0&&Hr++,Ir=Ir.dblp(Hr),le<0)break;for(pe=0;pe<ie;pe++){var Br=Or[pe];Br!==0&&(Br>0?rr=ae[pe][Br-1>>1]:Br<0&&(rr=ae[pe][-Br-1>>1].neg()),rr.type==="affine"?Ir=Ir.mixedAdd(rr):Ir=Ir.add(rr))}}for(le=0;le<ie;le++)ae[le]=null;return oe?Ir:Ir.toP()};function BasePoint$4(te,ee){this.curve=te,this.type=ee,this.precomputed=null}BaseCurve$4.BasePoint=BasePoint$4;BasePoint$4.prototype.eq=function(){throw new Error("Not implemented")};BasePoint$4.prototype.validate=function(){return this.curve.validate(this)};BaseCurve$4.prototype.decodePoint=function(ee,re){ee=utils_1$1$4.toArray(ee,re);var ne=this.p.byteLength();if((ee[0]===4||ee[0]===6||ee[0]===7)&&ee.length-1===2*ne){ee[0]===6?assert$1$4(ee[ee.length-1]%2===0):ee[0]===7&&assert$1$4(ee[ee.length-1]%2===1);var ie=this.point(ee.slice(1,1+ne),ee.slice(1+ne,1+2*ne));return ie}else if((ee[0]===2||ee[0]===3)&&ee.length-1===ne)return this.pointFromX(ee.slice(1,1+ne),ee[0]===3);throw new Error("Unknown point format")};BasePoint$4.prototype.encodeCompressed=function(ee){return this.encode(ee,!0)};BasePoint$4.prototype._encode=function(ee){var re=this.curve.p.byteLength(),ne=this.getX().toArray("be",re);return ee?[this.getY().isEven()?2:3].concat(ne):[4].concat(ne,this.getY().toArray("be",re))};BasePoint$4.prototype.encode=function(ee,re){return utils_1$1$4.encode(this._encode(re),ee)};BasePoint$4.prototype.precompute=function(ee){if(this.precomputed)return this;var re={doubles:null,naf:null,beta:null};return re.naf=this._getNAFPoints(8),re.doubles=this._getDoubles(4,ee),re.beta=this._getBeta(),this.precomputed=re,this};BasePoint$4.prototype._hasDoubles=function(ee){if(!this.precomputed)return!1;var re=this.precomputed.doubles;return re?re.points.length>=Math.ceil((ee.bitLength()+1)/re.step):!1};BasePoint$4.prototype._getDoubles=function(ee,re){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var ne=[this],ie=this,oe=0;oe<re;oe+=ee){for(var se=0;se<ee;se++)ie=ie.dbl();ne.push(ie)}return{step:ee,points:ne}};BasePoint$4.prototype._getNAFPoints=function(ee){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var re=[this],ne=(1<<ee)-1,ie=ne===1?null:this.dbl(),oe=1;oe<ne;oe++)re[oe]=re[oe-1].add(ie);return{wnd:ee,points:re}};BasePoint$4.prototype._getBeta=function(){return null};BasePoint$4.prototype.dblp=function(ee){for(var re=this,ne=0;ne<ee;ne++)re=re.dbl();return re};var inherits_browser$4=createCommonjsModule$4(function(te){typeof Object.create=="function"?te.exports=function(re,ne){ne&&(re.super_=ne,re.prototype=Object.create(ne.prototype,{constructor:{value:re,enumerable:!1,writable:!0,configurable:!0}}))}:te.exports=function(re,ne){if(ne){re.super_=ne;var ie=function(){};ie.prototype=ne.prototype,re.prototype=new ie,re.prototype.constructor=re}}}),assert$2$4=utils_1$1$4.assert;function ShortCurve$4(te){base$5.call(this,"short",te),this.a=new _BN(te.a,16).toRed(this.red),this.b=new _BN(te.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(te),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits_browser$4(ShortCurve$4,base$5);var short_1$3=ShortCurve$4;ShortCurve$4.prototype._getEndomorphism=function(ee){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var re,ne;if(ee.beta)re=new _BN(ee.beta,16).toRed(this.red);else{var ie=this._getEndoRoots(this.p);re=ie[0].cmp(ie[1])<0?ie[0]:ie[1],re=re.toRed(this.red)}if(ee.lambda)ne=new _BN(ee.lambda,16);else{var oe=this._getEndoRoots(this.n);this.g.mul(oe[0]).x.cmp(this.g.x.redMul(re))===0?ne=oe[0]:(ne=oe[1],assert$2$4(this.g.mul(ne).x.cmp(this.g.x.redMul(re))===0))}var se;return ee.basis?se=ee.basis.map(function(ae){return{a:new _BN(ae.a,16),b:new _BN(ae.b,16)}}):se=this._getEndoBasis(ne),{beta:re,lambda:ne,basis:se}}};ShortCurve$4.prototype._getEndoRoots=function(ee){var re=ee===this.p?this.red:_BN.mont(ee),ne=new _BN(2).toRed(re).redInvm(),ie=ne.redNeg(),oe=new _BN(3).toRed(re).redNeg().redSqrt().redMul(ne),se=ie.redAdd(oe).fromRed(),ae=ie.redSub(oe).fromRed();return[se,ae]};ShortCurve$4.prototype._getEndoBasis=function(ee){for(var re=this.n.ushrn(Math.floor(this.n.bitLength()/2)),ne=ee,ie=this.n.clone(),oe=new _BN(1),se=new _BN(0),ae=new _BN(0),fe=new _BN(1),ue,le,pe,rr,cr,ar,mr,pr=0,yr,vr;ne.cmpn(0)!==0;){var Er=ie.div(ne);yr=ie.sub(Er.mul(ne)),vr=ae.sub(Er.mul(oe));var Tr=fe.sub(Er.mul(se));if(!pe&&yr.cmp(re)<0)ue=mr.neg(),le=oe,pe=yr.neg(),rr=vr;else if(pe&&++pr===2)break;mr=yr,ie=ne,ne=yr,ae=oe,oe=vr,fe=se,se=Tr}cr=yr.neg(),ar=vr;var Ir=pe.sqr().add(rr.sqr()),Or=cr.sqr().add(ar.sqr());return Or.cmp(Ir)>=0&&(cr=ue,ar=le),pe.negative&&(pe=pe.neg(),rr=rr.neg()),cr.negative&&(cr=cr.neg(),ar=ar.neg()),[{a:pe,b:rr},{a:cr,b:ar}]};ShortCurve$4.prototype._endoSplit=function(ee){var re=this.endo.basis,ne=re[0],ie=re[1],oe=ie.b.mul(ee).divRound(this.n),se=ne.b.neg().mul(ee).divRound(this.n),ae=oe.mul(ne.a),fe=se.mul(ie.a),ue=oe.mul(ne.b),le=se.mul(ie.b),pe=ee.sub(ae).sub(fe),rr=ue.add(le).neg();return{k1:pe,k2:rr}};ShortCurve$4.prototype.pointFromX=function(ee,re){ee=new _BN(ee,16),ee.red||(ee=ee.toRed(this.red));var ne=ee.redSqr().redMul(ee).redIAdd(ee.redMul(this.a)).redIAdd(this.b),ie=ne.redSqrt();if(ie.redSqr().redSub(ne).cmp(this.zero)!==0)throw new Error("invalid point");var oe=ie.fromRed().isOdd();return(re&&!oe||!re&&oe)&&(ie=ie.redNeg()),this.point(ee,ie)};ShortCurve$4.prototype.validate=function(ee){if(ee.inf)return!0;var re=ee.x,ne=ee.y,ie=this.a.redMul(re),oe=re.redSqr().redMul(re).redIAdd(ie).redIAdd(this.b);return ne.redSqr().redISub(oe).cmpn(0)===0};ShortCurve$4.prototype._endoWnafMulAdd=function(ee,re,ne){for(var ie=this._endoWnafT1,oe=this._endoWnafT2,se=0;se<ee.length;se++){var ae=this._endoSplit(re[se]),fe=ee[se],ue=fe._getBeta();ae.k1.negative&&(ae.k1.ineg(),fe=fe.neg(!0)),ae.k2.negative&&(ae.k2.ineg(),ue=ue.neg(!0)),ie[se*2]=fe,ie[se*2+1]=ue,oe[se*2]=ae.k1,oe[se*2+1]=ae.k2}for(var le=this._wnafMulAdd(1,ie,oe,se*2,ne),pe=0;pe<se*2;pe++)ie[pe]=null,oe[pe]=null;return le};function Point$6(te,ee,re,ne){base$5.BasePoint.call(this,te,"affine"),ee===null&&re===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new _BN(ee,16),this.y=new _BN(re,16),ne&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits_browser$4(Point$6,base$5.BasePoint);ShortCurve$4.prototype.point=function(ee,re,ne){return new Point$6(this,ee,re,ne)};ShortCurve$4.prototype.pointFromJSON=function(ee,re){return Point$6.fromJSON(this,ee,re)};Point$6.prototype._getBeta=function(){if(!!this.curve.endo){var ee=this.precomputed;if(ee&&ee.beta)return ee.beta;var re=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(ee){var ne=this.curve,ie=function(oe){return ne.point(oe.x.redMul(ne.endo.beta),oe.y)};ee.beta=re,re.precomputed={beta:null,naf:ee.naf&&{wnd:ee.naf.wnd,points:ee.naf.points.map(ie)},doubles:ee.doubles&&{step:ee.doubles.step,points:ee.doubles.points.map(ie)}}}return re}};Point$6.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point$6.fromJSON=function(ee,re,ne){typeof re=="string"&&(re=JSON.parse(re));var ie=ee.point(re[0],re[1],ne);if(!re[2])return ie;function oe(ae){return ee.point(ae[0],ae[1],ne)}var se=re[2];return ie.precomputed={beta:null,doubles:se.doubles&&{step:se.doubles.step,points:[ie].concat(se.doubles.points.map(oe))},naf:se.naf&&{wnd:se.naf.wnd,points:[ie].concat(se.naf.points.map(oe))}},ie};Point$6.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point$6.prototype.isInfinity=function(){return this.inf};Point$6.prototype.add=function(ee){if(this.inf)return ee;if(ee.inf)return this;if(this.eq(ee))return this.dbl();if(this.neg().eq(ee))return this.curve.point(null,null);if(this.x.cmp(ee.x)===0)return this.curve.point(null,null);var re=this.y.redSub(ee.y);re.cmpn(0)!==0&&(re=re.redMul(this.x.redSub(ee.x).redInvm()));var ne=re.redSqr().redISub(this.x).redISub(ee.x),ie=re.redMul(this.x.redSub(ne)).redISub(this.y);return this.curve.point(ne,ie)};Point$6.prototype.dbl=function(){if(this.inf)return this;var ee=this.y.redAdd(this.y);if(ee.cmpn(0)===0)return this.curve.point(null,null);var re=this.curve.a,ne=this.x.redSqr(),ie=ee.redInvm(),oe=ne.redAdd(ne).redIAdd(ne).redIAdd(re).redMul(ie),se=oe.redSqr().redISub(this.x.redAdd(this.x)),ae=oe.redMul(this.x.redSub(se)).redISub(this.y);return this.curve.point(se,ae)};Point$6.prototype.getX=function(){return this.x.fromRed()};Point$6.prototype.getY=function(){return this.y.fromRed()};Point$6.prototype.mul=function(ee){return ee=new _BN(ee,16),this.isInfinity()?this:this._hasDoubles(ee)?this.curve._fixedNafMul(this,ee):this.curve.endo?this.curve._endoWnafMulAdd([this],[ee]):this.curve._wnafMul(this,ee)};Point$6.prototype.mulAdd=function(ee,re,ne){var ie=[this,re],oe=[ee,ne];return this.curve.endo?this.curve._endoWnafMulAdd(ie,oe):this.curve._wnafMulAdd(1,ie,oe,2)};Point$6.prototype.jmulAdd=function(ee,re,ne){var ie=[this,re],oe=[ee,ne];return this.curve.endo?this.curve._endoWnafMulAdd(ie,oe,!0):this.curve._wnafMulAdd(1,ie,oe,2,!0)};Point$6.prototype.eq=function(ee){return this===ee||this.inf===ee.inf&&(this.inf||this.x.cmp(ee.x)===0&&this.y.cmp(ee.y)===0)};Point$6.prototype.neg=function(ee){if(this.inf)return this;var re=this.curve.point(this.x,this.y.redNeg());if(ee&&this.precomputed){var ne=this.precomputed,ie=function(oe){return oe.neg()};re.precomputed={naf:ne.naf&&{wnd:ne.naf.wnd,points:ne.naf.points.map(ie)},doubles:ne.doubles&&{step:ne.doubles.step,points:ne.doubles.points.map(ie)}}}return re};Point$6.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var ee=this.curve.jpoint(this.x,this.y,this.curve.one);return ee};function JPoint$4(te,ee,re,ne){base$5.BasePoint.call(this,te,"jacobian"),ee===null&&re===null&&ne===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new _BN(0)):(this.x=new _BN(ee,16),this.y=new _BN(re,16),this.z=new _BN(ne,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits_browser$4(JPoint$4,base$5.BasePoint);ShortCurve$4.prototype.jpoint=function(ee,re,ne){return new JPoint$4(this,ee,re,ne)};JPoint$4.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var ee=this.z.redInvm(),re=ee.redSqr(),ne=this.x.redMul(re),ie=this.y.redMul(re).redMul(ee);return this.curve.point(ne,ie)};JPoint$4.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint$4.prototype.add=function(ee){if(this.isInfinity())return ee;if(ee.isInfinity())return this;var re=ee.z.redSqr(),ne=this.z.redSqr(),ie=this.x.redMul(re),oe=ee.x.redMul(ne),se=this.y.redMul(re.redMul(ee.z)),ae=ee.y.redMul(ne.redMul(this.z)),fe=ie.redSub(oe),ue=se.redSub(ae);if(fe.cmpn(0)===0)return ue.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var le=fe.redSqr(),pe=le.redMul(fe),rr=ie.redMul(le),cr=ue.redSqr().redIAdd(pe).redISub(rr).redISub(rr),ar=ue.redMul(rr.redISub(cr)).redISub(se.redMul(pe)),mr=this.z.redMul(ee.z).redMul(fe);return this.curve.jpoint(cr,ar,mr)};JPoint$4.prototype.mixedAdd=function(ee){if(this.isInfinity())return ee.toJ();if(ee.isInfinity())return this;var re=this.z.redSqr(),ne=this.x,ie=ee.x.redMul(re),oe=this.y,se=ee.y.redMul(re).redMul(this.z),ae=ne.redSub(ie),fe=oe.redSub(se);if(ae.cmpn(0)===0)return fe.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ue=ae.redSqr(),le=ue.redMul(ae),pe=ne.redMul(ue),rr=fe.redSqr().redIAdd(le).redISub(pe).redISub(pe),cr=fe.redMul(pe.redISub(rr)).redISub(oe.redMul(le)),ar=this.z.redMul(ae);return this.curve.jpoint(rr,cr,ar)};JPoint$4.prototype.dblp=function(ee){if(ee===0)return this;if(this.isInfinity())return this;if(!ee)return this.dbl();var re;if(this.curve.zeroA||this.curve.threeA){var ne=this;for(re=0;re<ee;re++)ne=ne.dbl();return ne}var ie=this.curve.a,oe=this.curve.tinv,se=this.x,ae=this.y,fe=this.z,ue=fe.redSqr().redSqr(),le=ae.redAdd(ae);for(re=0;re<ee;re++){var pe=se.redSqr(),rr=le.redSqr(),cr=rr.redSqr(),ar=pe.redAdd(pe).redIAdd(pe).redIAdd(ie.redMul(ue)),mr=se.redMul(rr),pr=ar.redSqr().redISub(mr.redAdd(mr)),yr=mr.redISub(pr),vr=ar.redMul(yr);vr=vr.redIAdd(vr).redISub(cr);var Er=le.redMul(fe);re+1<ee&&(ue=ue.redMul(cr)),se=pr,fe=Er,le=vr}return this.curve.jpoint(se,le.redMul(oe),fe)};JPoint$4.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint$4.prototype._zeroDbl=function(){var ee,re,ne;if(this.zOne){var ie=this.x.redSqr(),oe=this.y.redSqr(),se=oe.redSqr(),ae=this.x.redAdd(oe).redSqr().redISub(ie).redISub(se);ae=ae.redIAdd(ae);var fe=ie.redAdd(ie).redIAdd(ie),ue=fe.redSqr().redISub(ae).redISub(ae),le=se.redIAdd(se);le=le.redIAdd(le),le=le.redIAdd(le),ee=ue,re=fe.redMul(ae.redISub(ue)).redISub(le),ne=this.y.redAdd(this.y)}else{var pe=this.x.redSqr(),rr=this.y.redSqr(),cr=rr.redSqr(),ar=this.x.redAdd(rr).redSqr().redISub(pe).redISub(cr);ar=ar.redIAdd(ar);var mr=pe.redAdd(pe).redIAdd(pe),pr=mr.redSqr(),yr=cr.redIAdd(cr);yr=yr.redIAdd(yr),yr=yr.redIAdd(yr),ee=pr.redISub(ar).redISub(ar),re=mr.redMul(ar.redISub(ee)).redISub(yr),ne=this.y.redMul(this.z),ne=ne.redIAdd(ne)}return this.curve.jpoint(ee,re,ne)};JPoint$4.prototype._threeDbl=function(){var ee,re,ne;if(this.zOne){var ie=this.x.redSqr(),oe=this.y.redSqr(),se=oe.redSqr(),ae=this.x.redAdd(oe).redSqr().redISub(ie).redISub(se);ae=ae.redIAdd(ae);var fe=ie.redAdd(ie).redIAdd(ie).redIAdd(this.curve.a),ue=fe.redSqr().redISub(ae).redISub(ae);ee=ue;var le=se.redIAdd(se);le=le.redIAdd(le),le=le.redIAdd(le),re=fe.redMul(ae.redISub(ue)).redISub(le),ne=this.y.redAdd(this.y)}else{var pe=this.z.redSqr(),rr=this.y.redSqr(),cr=this.x.redMul(rr),ar=this.x.redSub(pe).redMul(this.x.redAdd(pe));ar=ar.redAdd(ar).redIAdd(ar);var mr=cr.redIAdd(cr);mr=mr.redIAdd(mr);var pr=mr.redAdd(mr);ee=ar.redSqr().redISub(pr),ne=this.y.redAdd(this.z).redSqr().redISub(rr).redISub(pe);var yr=rr.redSqr();yr=yr.redIAdd(yr),yr=yr.redIAdd(yr),yr=yr.redIAdd(yr),re=ar.redMul(mr.redISub(ee)).redISub(yr)}return this.curve.jpoint(ee,re,ne)};JPoint$4.prototype._dbl=function(){var ee=this.curve.a,re=this.x,ne=this.y,ie=this.z,oe=ie.redSqr().redSqr(),se=re.redSqr(),ae=ne.redSqr(),fe=se.redAdd(se).redIAdd(se).redIAdd(ee.redMul(oe)),ue=re.redAdd(re);ue=ue.redIAdd(ue);var le=ue.redMul(ae),pe=fe.redSqr().redISub(le.redAdd(le)),rr=le.redISub(pe),cr=ae.redSqr();cr=cr.redIAdd(cr),cr=cr.redIAdd(cr),cr=cr.redIAdd(cr);var ar=fe.redMul(rr).redISub(cr),mr=ne.redAdd(ne).redMul(ie);return this.curve.jpoint(pe,ar,mr)};JPoint$4.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var ee=this.x.redSqr(),re=this.y.redSqr(),ne=this.z.redSqr(),ie=re.redSqr(),oe=ee.redAdd(ee).redIAdd(ee),se=oe.redSqr(),ae=this.x.redAdd(re).redSqr().redISub(ee).redISub(ie);ae=ae.redIAdd(ae),ae=ae.redAdd(ae).redIAdd(ae),ae=ae.redISub(se);var fe=ae.redSqr(),ue=ie.redIAdd(ie);ue=ue.redIAdd(ue),ue=ue.redIAdd(ue),ue=ue.redIAdd(ue);var le=oe.redIAdd(ae).redSqr().redISub(se).redISub(fe).redISub(ue),pe=re.redMul(le);pe=pe.redIAdd(pe),pe=pe.redIAdd(pe);var rr=this.x.redMul(fe).redISub(pe);rr=rr.redIAdd(rr),rr=rr.redIAdd(rr);var cr=this.y.redMul(le.redMul(ue.redISub(le)).redISub(ae.redMul(fe)));cr=cr.redIAdd(cr),cr=cr.redIAdd(cr),cr=cr.redIAdd(cr);var ar=this.z.redAdd(ae).redSqr().redISub(ne).redISub(fe);return this.curve.jpoint(rr,cr,ar)};JPoint$4.prototype.mul=function(ee,re){return ee=new _BN(ee,re),this.curve._wnafMul(this,ee)};JPoint$4.prototype.eq=function(ee){if(ee.type==="affine")return this.eq(ee.toJ());if(this===ee)return!0;var re=this.z.redSqr(),ne=ee.z.redSqr();if(this.x.redMul(ne).redISub(ee.x.redMul(re)).cmpn(0)!==0)return!1;var ie=re.redMul(this.z),oe=ne.redMul(ee.z);return this.y.redMul(oe).redISub(ee.y.redMul(ie)).cmpn(0)===0};JPoint$4.prototype.eqXToP=function(ee){var re=this.z.redSqr(),ne=ee.toRed(this.curve.red).redMul(re);if(this.x.cmp(ne)===0)return!0;for(var ie=ee.clone(),oe=this.curve.redN.redMul(re);;){if(ie.iadd(this.curve.n),ie.cmp(this.curve.p)>=0)return!1;if(ne.redIAdd(oe),this.x.cmp(ne)===0)return!0}};JPoint$4.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint$4.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var curve_1$3=createCommonjsModule$4(function(te,ee){var re=ee;re.base=base$5,re.short=short_1$3,re.mont=null,re.edwards=null}),curves_1$3=createCommonjsModule$4(function(te,ee){var re=ee,ne=utils_1$1$4.assert;function ie(ae){ae.type==="short"?this.curve=new curve_1$3.short(ae):ae.type==="edwards"?this.curve=new curve_1$3.edwards(ae):this.curve=new curve_1$3.mont(ae),this.g=this.curve.g,this.n=this.curve.n,this.hash=ae.hash,ne(this.g.validate(),"Invalid curve"),ne(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}re.PresetCurve=ie;function oe(ae,fe){Object.defineProperty(re,ae,{configurable:!0,enumerable:!0,get:function(){var ue=new ie(fe);return Object.defineProperty(re,ae,{configurable:!0,enumerable:!0,value:ue}),ue}})}oe("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash$4.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),oe("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash$4.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),oe("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash$4.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),oe("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash$4.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),oe("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash$4.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),oe("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$4.sha256,gRed:!1,g:["9"]}),oe("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$4.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var se;try{se=null.crash()}catch{se=void 0}oe("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash$4.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",se]})});function HmacDRBG$5(te){if(!(this instanceof HmacDRBG$5))return new HmacDRBG$5(te);this.hash=te.hash,this.predResist=!!te.predResist,this.outLen=this.hash.outSize,this.minEntropy=te.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var ee=utils_1$5.toArray(te.entropy,te.entropyEnc||"hex"),re=utils_1$5.toArray(te.nonce,te.nonceEnc||"hex"),ne=utils_1$5.toArray(te.pers,te.persEnc||"hex");minimalisticAssert$3(ee.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(ee,re,ne)}var hmacDrbg$4=HmacDRBG$5;HmacDRBG$5.prototype._init=function(ee,re,ne){var ie=ee.concat(re).concat(ne);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var oe=0;oe<this.V.length;oe++)this.K[oe]=0,this.V[oe]=1;this._update(ie),this._reseed=1,this.reseedInterval=281474976710656};HmacDRBG$5.prototype._hmac=function(){return new hash$4.hmac(this.hash,this.K)};HmacDRBG$5.prototype._update=function(ee){var re=this._hmac().update(this.V).update([0]);ee&&(re=re.update(ee)),this.K=re.digest(),this.V=this._hmac().update(this.V).digest(),ee&&(this.K=this._hmac().update(this.V).update([1]).update(ee).digest(),this.V=this._hmac().update(this.V).digest())};HmacDRBG$5.prototype.reseed=function(ee,re,ne,ie){typeof re!="string"&&(ie=ne,ne=re,re=null),ee=utils_1$5.toArray(ee,re),ne=utils_1$5.toArray(ne,ie),minimalisticAssert$3(ee.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(ee.concat(ne||[])),this._reseed=1};HmacDRBG$5.prototype.generate=function(ee,re,ne,ie){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof re!="string"&&(ie=ne,ne=re,re=null),ne&&(ne=utils_1$5.toArray(ne,ie||"hex"),this._update(ne));for(var oe=[];oe.length<ee;)this.V=this._hmac().update(this.V).digest(),oe=oe.concat(this.V);var se=oe.slice(0,ee);return this._update(ne),this._reseed++,utils_1$5.encode(se,re)};var assert$3$4=utils_1$1$4.assert;function KeyPair$7(te,ee){this.ec=te,this.priv=null,this.pub=null,ee.priv&&this._importPrivate(ee.priv,ee.privEnc),ee.pub&&this._importPublic(ee.pub,ee.pubEnc)}var key$5=KeyPair$7;KeyPair$7.fromPublic=function(ee,re,ne){return re instanceof KeyPair$7?re:new KeyPair$7(ee,{pub:re,pubEnc:ne})};KeyPair$7.fromPrivate=function(ee,re,ne){return re instanceof KeyPair$7?re:new KeyPair$7(ee,{priv:re,privEnc:ne})};KeyPair$7.prototype.validate=function(){var ee=this.getPublic();return ee.isInfinity()?{result:!1,reason:"Invalid public key"}:ee.validate()?ee.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};KeyPair$7.prototype.getPublic=function(ee,re){return typeof ee=="string"&&(re=ee,ee=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),re?this.pub.encode(re,ee):this.pub};KeyPair$7.prototype.getPrivate=function(ee){return ee==="hex"?this.priv.toString(16,2):this.priv};KeyPair$7.prototype._importPrivate=function(ee,re){this.priv=new _BN(ee,re||16),this.priv=this.priv.umod(this.ec.curve.n)};KeyPair$7.prototype._importPublic=function(ee,re){if(ee.x||ee.y){this.ec.curve.type==="mont"?assert$3$4(ee.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$3$4(ee.x&&ee.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(ee.x,ee.y);return}this.pub=this.ec.curve.decodePoint(ee,re)};KeyPair$7.prototype.derive=function(ee){return ee.validate()||assert$3$4(ee.validate(),"public point not validated"),ee.mul(this.priv).getX()};KeyPair$7.prototype.sign=function(ee,re,ne){return this.ec.sign(ee,this,re,ne)};KeyPair$7.prototype.verify=function(ee,re){return this.ec.verify(ee,re,this)};KeyPair$7.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var assert$4$4=utils_1$1$4.assert;function Signature$7(te,ee){if(te instanceof Signature$7)return te;this._importDER(te,ee)||(assert$4$4(te.r&&te.s,"Signature without r or s"),this.r=new _BN(te.r,16),this.s=new _BN(te.s,16),te.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=te.recoveryParam)}var signature$6=Signature$7;function Position$4(){this.place=0}function getLength$5(te,ee){var re=te[ee.place++];if(!(re&128))return re;var ne=re&15;if(ne===0||ne>4)return!1;for(var ie=0,oe=0,se=ee.place;oe<ne;oe++,se++)ie<<=8,ie|=te[se],ie>>>=0;return ie<=127?!1:(ee.place=se,ie)}function rmPadding$4(te){for(var ee=0,re=te.length-1;!te[ee]&&!(te[ee+1]&128)&&ee<re;)ee++;return ee===0?te:te.slice(ee)}Signature$7.prototype._importDER=function(ee,re){ee=utils_1$1$4.toArray(ee,re);var ne=new Position$4;if(ee[ne.place++]!==48)return!1;var ie=getLength$5(ee,ne);if(ie===!1||ie+ne.place!==ee.length||ee[ne.place++]!==2)return!1;var oe=getLength$5(ee,ne);if(oe===!1)return!1;var se=ee.slice(ne.place,oe+ne.place);if(ne.place+=oe,ee[ne.place++]!==2)return!1;var ae=getLength$5(ee,ne);if(ae===!1||ee.length!==ae+ne.place)return!1;var fe=ee.slice(ne.place,ae+ne.place);if(se[0]===0)if(se[1]&128)se=se.slice(1);else return!1;if(fe[0]===0)if(fe[1]&128)fe=fe.slice(1);else return!1;return this.r=new _BN(se),this.s=new _BN(fe),this.recoveryParam=null,!0};function constructLength$4(te,ee){if(ee<128){te.push(ee);return}var re=1+(Math.log(ee)/Math.LN2>>>3);for(te.push(re|128);--re;)te.push(ee>>>(re<<3)&255);te.push(ee)}Signature$7.prototype.toDER=function(ee){var re=this.r.toArray(),ne=this.s.toArray();for(re[0]&128&&(re=[0].concat(re)),ne[0]&128&&(ne=[0].concat(ne)),re=rmPadding$4(re),ne=rmPadding$4(ne);!ne[0]&&!(ne[1]&128);)ne=ne.slice(1);var ie=[2];constructLength$4(ie,re.length),ie=ie.concat(re),ie.push(2),constructLength$4(ie,ne.length);var oe=ie.concat(ne),se=[48];return constructLength$4(se,oe.length),se=se.concat(oe),utils_1$1$4.encode(se,ee)};var rand$4=function(){throw new Error("unsupported")},assert$5$4=utils_1$1$4.assert;function EC$7(te){if(!(this instanceof EC$7))return new EC$7(te);typeof te=="string"&&(assert$5$4(Object.prototype.hasOwnProperty.call(curves_1$3,te),"Unknown curve "+te),te=curves_1$3[te]),te instanceof curves_1$3.PresetCurve&&(te={curve:te}),this.curve=te.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=te.curve.g,this.g.precompute(te.curve.n.bitLength()+1),this.hash=te.hash||te.curve.hash}var ec$7=EC$7;EC$7.prototype.keyPair=function(ee){return new key$5(this,ee)};EC$7.prototype.keyFromPrivate=function(ee,re){return key$5.fromPrivate(this,ee,re)};EC$7.prototype.keyFromPublic=function(ee,re){return key$5.fromPublic(this,ee,re)};EC$7.prototype.genKeyPair=function(ee){ee||(ee={});for(var re=new hmacDrbg$4({hash:this.hash,pers:ee.pers,persEnc:ee.persEnc||"utf8",entropy:ee.entropy||rand$4(this.hash.hmacStrength),entropyEnc:ee.entropy&&ee.entropyEnc||"utf8",nonce:this.n.toArray()}),ne=this.n.byteLength(),ie=this.n.sub(new _BN(2));;){var oe=new _BN(re.generate(ne));if(!(oe.cmp(ie)>0))return oe.iaddn(1),this.keyFromPrivate(oe)}};EC$7.prototype._truncateToN=function(ee,re){var ne=ee.byteLength()*8-this.n.bitLength();return ne>0&&(ee=ee.ushrn(ne)),!re&&ee.cmp(this.n)>=0?ee.sub(this.n):ee};EC$7.prototype.sign=function(ee,re,ne,ie){typeof ne=="object"&&(ie=ne,ne=null),ie||(ie={}),re=this.keyFromPrivate(re,ne),ee=this._truncateToN(new _BN(ee,16));for(var oe=this.n.byteLength(),se=re.getPrivate().toArray("be",oe),ae=ee.toArray("be",oe),fe=new hmacDrbg$4({hash:this.hash,entropy:se,nonce:ae,pers:ie.pers,persEnc:ie.persEnc||"utf8"}),ue=this.n.sub(new _BN(1)),le=0;;le++){var pe=ie.k?ie.k(le):new _BN(fe.generate(this.n.byteLength()));if(pe=this._truncateToN(pe,!0),!(pe.cmpn(1)<=0||pe.cmp(ue)>=0)){var rr=this.g.mul(pe);if(!rr.isInfinity()){var cr=rr.getX(),ar=cr.umod(this.n);if(ar.cmpn(0)!==0){var mr=pe.invm(this.n).mul(ar.mul(re.getPrivate()).iadd(ee));if(mr=mr.umod(this.n),mr.cmpn(0)!==0){var pr=(rr.getY().isOdd()?1:0)|(cr.cmp(ar)!==0?2:0);return ie.canonical&&mr.cmp(this.nh)>0&&(mr=this.n.sub(mr),pr^=1),new signature$6({r:ar,s:mr,recoveryParam:pr})}}}}}};EC$7.prototype.verify=function(ee,re,ne,ie){ee=this._truncateToN(new _BN(ee,16)),ne=this.keyFromPublic(ne,ie),re=new signature$6(re,"hex");var oe=re.r,se=re.s;if(oe.cmpn(1)<0||oe.cmp(this.n)>=0||se.cmpn(1)<0||se.cmp(this.n)>=0)return!1;var ae=se.invm(this.n),fe=ae.mul(ee).umod(this.n),ue=ae.mul(oe).umod(this.n),le;return this.curve._maxwellTrick?(le=this.g.jmulAdd(fe,ne.getPublic(),ue),le.isInfinity()?!1:le.eqXToP(oe)):(le=this.g.mulAdd(fe,ne.getPublic(),ue),le.isInfinity()?!1:le.getX().umod(this.n).cmp(oe)===0)};EC$7.prototype.recoverPubKey=function(te,ee,re,ne){assert$5$4((3&re)===re,"The recovery param is more than two bits"),ee=new signature$6(ee,ne);var ie=this.n,oe=new _BN(te),se=ee.r,ae=ee.s,fe=re&1,ue=re>>1;if(se.cmp(this.curve.p.umod(this.curve.n))>=0&&ue)throw new Error("Unable to find sencond key candinate");ue?se=this.curve.pointFromX(se.add(this.curve.n),fe):se=this.curve.pointFromX(se,fe);var le=ee.r.invm(ie),pe=ie.sub(oe).mul(le).umod(ie),rr=ae.mul(le).umod(ie);return this.g.mulAdd(pe,se,rr)};EC$7.prototype.getKeyRecoveryParam=function(te,ee,re,ne){if(ee=new signature$6(ee,ne),ee.recoveryParam!==null)return ee.recoveryParam;for(var ie=0;ie<4;ie++){var oe;try{oe=this.recoverPubKey(te,ee,ie)}catch{continue}if(oe.eq(re))return ie}throw new Error("Unable to find valid recovery factor")};var elliptic_1$3=createCommonjsModule$4(function(te,ee){var re=ee;re.version="6.5.4",re.utils=utils_1$1$4,re.rand=function(){throw new Error("unsupported")},re.curve=curve_1$3,re.curves=curves_1$3,re.ec=ec$7,re.eddsa=null}),EC$1$4=elliptic_1$3.ec;const version$W="signing-key/5.6.0",logger$K=new Logger$a(version$W);let _curve$3=null;function getCurve$3(){return _curve$3||(_curve$3=new EC$1$4("secp256k1")),_curve$3}class SigningKey$3{constructor(ee){defineReadOnly$3(this,"curve","secp256k1"),defineReadOnly$3(this,"privateKey",hexlify$5(ee));const re=getCurve$3().keyFromPrivate(arrayify$8(this.privateKey));defineReadOnly$3(this,"publicKey","0x"+re.getPublic(!1,"hex")),defineReadOnly$3(this,"compressedPublicKey","0x"+re.getPublic(!0,"hex")),defineReadOnly$3(this,"_isSigningKey",!0)}_addPoint(ee){const re=getCurve$3().keyFromPublic(arrayify$8(this.publicKey)),ne=getCurve$3().keyFromPublic(arrayify$8(ee));return"0x"+re.pub.add(ne.pub).encodeCompressed("hex")}signDigest(ee){const re=getCurve$3().keyFromPrivate(arrayify$8(this.privateKey)),ne=arrayify$8(ee);ne.length!==32&&logger$K.throwArgumentError("bad digest length","digest",ee);const ie=re.sign(ne,{canonical:!0});return splitSignature$2({recoveryParam:ie.recoveryParam,r:hexZeroPad$2("0x"+ie.r.toString(16),32),s:hexZeroPad$2("0x"+ie.s.toString(16),32)})}computeSharedSecret(ee){const re=getCurve$3().keyFromPrivate(arrayify$8(this.privateKey)),ne=getCurve$3().keyFromPublic(arrayify$8(computePublicKey$3(ee)));return hexZeroPad$2("0x"+re.derive(ne.getPublic()).toString(16),32)}static isSigningKey(ee){return!!(ee&&ee._isSigningKey)}}function computePublicKey$3(te,ee){const re=arrayify$8(te);if(re.length===32){const ne=new SigningKey$3(re);return ee?"0x"+getCurve$3().keyFromPrivate(re).getPublic(!0,"hex"):ne.publicKey}else{if(re.length===33)return ee?hexlify$5(re):"0x"+getCurve$3().keyFromPublic(re).getPublic(!1,"hex");if(re.length===65)return ee?"0x"+getCurve$3().keyFromPublic(re).getPublic(!0,"hex"):hexlify$5(re)}return logger$K.throwArgumentError("invalid public or private key","key","[REDACTED]")}function keccak256$3(te){return"0x"+sha3.keccak_256(arrayify$8(te))}const version$V="address/5.6.0",logger$J=new Logger$a(version$V);function getChecksumAddress$1(te){isHexString$d(te,20)||logger$J.throwArgumentError("invalid address","address",te),te=te.toLowerCase();const ee=te.substring(2).split(""),re=new Uint8Array(40);for(let ie=0;ie<40;ie++)re[ie]=ee[ie].charCodeAt(0);const ne=arrayify$8(keccak256$3(re));for(let ie=0;ie<40;ie+=2)ne[ie>>1]>>4>=8&&(ee[ie]=ee[ie].toUpperCase()),(ne[ie>>1]&15)>=8&&(ee[ie+1]=ee[ie+1].toUpperCase());return"0x"+ee.join("")}const MAX_SAFE_INTEGER$3=9007199254740991;function log10$1(te){return Math.log10?Math.log10(te):Math.log(te)/Math.LN10}const ibanLookup$1={};for(let te=0;te<10;te++)ibanLookup$1[String(te)]=String(te);for(let te=0;te<26;te++)ibanLookup$1[String.fromCharCode(65+te)]=String(10+te);const safeDigits$1=Math.floor(log10$1(MAX_SAFE_INTEGER$3));function ibanChecksum$1(te){te=te.toUpperCase(),te=te.substring(4)+te.substring(0,2)+"00";let ee=te.split("").map(ne=>ibanLookup$1[ne]).join("");for(;ee.length>=safeDigits$1;){let ne=ee.substring(0,safeDigits$1);ee=parseInt(ne,10)%97+ee.substring(ne.length)}let re=String(98-parseInt(ee,10)%97);for(;re.length<2;)re="0"+re;return re}function getAddress$1(te){let ee=null;if(typeof te!="string"&&logger$J.throwArgumentError("invalid address","address",te),te.match(/^(0x)?[0-9a-fA-F]{40}$/))te.substring(0,2)!=="0x"&&(te="0x"+te),ee=getChecksumAddress$1(te),te.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&ee!==te&&logger$J.throwArgumentError("bad address checksum","address",te);else if(te.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(te.substring(2,4)!==ibanChecksum$1(te)&&logger$J.throwArgumentError("bad icap checksum","address",te),ee=_base36To16$1(te.substring(4));ee.length<40;)ee="0"+ee;ee=getChecksumAddress$1("0x"+ee)}else logger$J.throwArgumentError("invalid address","address",te);return ee}const version$U="transactions/5.6.0";new Logger$a(version$U);var TransactionTypes$2;(function(te){te[te.legacy=0]="legacy",te[te.eip2930=1]="eip2930",te[te.eip1559=2]="eip1559"})(TransactionTypes$2||(TransactionTypes$2={}));function computeAddress$2(te){const ee=computePublicKey$3(te);return getAddress$1(hexDataSlice$1(keccak256$3(hexDataSlice$1(ee,1)),12))}function id(te){return keccak256$3(toUtf8Bytes$2(te))}const version$T="wordlists/5.6.0",logger$I=new Logger$a(version$T);class Wordlist$1{constructor(ee){logger$I.checkAbstract(new.target,Wordlist$1),defineReadOnly$3(this,"locale",ee)}split(ee){return ee.toLowerCase().split(/ +/g)}join(ee){return ee.join(" ")}static check(ee){const re=[];for(let ne=0;ne<2048;ne++){const ie=ee.getWord(ne);if(ne!==ee.getWordIndex(ie))return"0x";re.push(ie)}return id(re.join(`
`)+`
`)}static register(ee,re){}}const words$1="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let wordlist$1=null;function loadWords$1(te){if(wordlist$1==null&&(wordlist$1=words$1.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Wordlist$1.check(te)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw wordlist$1=null,new Error("BIP39 Wordlist for en (English) FAILED")}class LangEn$1 extends Wordlist$1{constructor(){super("en")}getWord(ee){return loadWords$1(this),wordlist$1[ee]}getWordIndex(ee){return loadWords$1(this),wordlist$1.indexOf(ee)}}const langEn$1=new LangEn$1;Wordlist$1.register(langEn$1);const wordlists$1={en:langEn$1},version$S="hdnode/5.5.0",logger$H=new Logger$a(version$S),N$4=BigNumber$1.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),MasterSecret$1=toUtf8Bytes$2("Bitcoin seed"),HardenedBit$1=2147483648;function getUpperMask$1(te){return(1<<te)-1<<8-te}function getLowerMask$1(te){return(1<<te)-1}function bytes32$1(te){return hexZeroPad$2(hexlify$5(te),32)}function base58check$1(te){return Base58$1.encode(concat$3([te,hexDataSlice$1(sha256$5(sha256$5(te)),0,4)]))}function getWordlist$1(te){if(te==null)return wordlists$1.en;if(typeof te=="string"){const ee=wordlists$1[te];return ee==null&&logger$H.throwArgumentError("unknown locale","wordlist",te),ee}return te}const _constructorGuard$3={},defaultPath$1="m/44'/60'/0'/0/0";class HDNode$1{constructor(ee,re,ne,ie,oe,se,ae,fe){if(logger$H.checkNew(new.target,HDNode$1),ee!==_constructorGuard$3)throw new Error("HDNode constructor cannot be called directly");if(re){const ue=new SigningKey$3(re);defineReadOnly$3(this,"privateKey",ue.privateKey),defineReadOnly$3(this,"publicKey",ue.compressedPublicKey)}else defineReadOnly$3(this,"privateKey",null),defineReadOnly$3(this,"publicKey",hexlify$5(ne));defineReadOnly$3(this,"parentFingerprint",ie),defineReadOnly$3(this,"fingerprint",hexDataSlice$1(ripemd160$3(sha256$5(this.publicKey)),0,4)),defineReadOnly$3(this,"address",computeAddress$2(this.publicKey)),defineReadOnly$3(this,"chainCode",oe),defineReadOnly$3(this,"index",se),defineReadOnly$3(this,"depth",ae),fe==null?(defineReadOnly$3(this,"mnemonic",null),defineReadOnly$3(this,"path",null)):typeof fe=="string"?(defineReadOnly$3(this,"mnemonic",null),defineReadOnly$3(this,"path",fe)):(defineReadOnly$3(this,"mnemonic",fe),defineReadOnly$3(this,"path",fe.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return base58check$1(concat$3([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",hexlify$5(this.depth),this.parentFingerprint,hexZeroPad$2(hexlify$5(this.index),4),this.chainCode,this.privateKey!=null?concat$3(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new HDNode$1(_constructorGuard$3,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(ee){if(ee>4294967295)throw new Error("invalid index - "+String(ee));let re=this.path;re&&(re+="/"+(ee&~HardenedBit$1));const ne=new Uint8Array(37);if(ee&HardenedBit$1){if(!this.privateKey)throw new Error("cannot derive child of neutered node");ne.set(arrayify$8(this.privateKey),1),re&&(re+="'")}else ne.set(arrayify$8(this.publicKey));for(let pe=24;pe>=0;pe-=8)ne[33+(pe>>3)]=ee>>24-pe&255;const ie=arrayify$8(computeHmac$2(SupportedAlgorithm$2.sha512,this.chainCode,ne)),oe=ie.slice(0,32),se=ie.slice(32);let ae=null,fe=null;this.privateKey?ae=bytes32$1(BigNumber$1.from(oe).add(this.privateKey).mod(N$4)):fe=new SigningKey$3(hexlify$5(oe))._addPoint(this.publicKey);let ue=re;const le=this.mnemonic;return le&&(ue=Object.freeze({phrase:le.phrase,path:re,locale:le.locale||"en"})),new HDNode$1(_constructorGuard$3,ae,fe,this.fingerprint,bytes32$1(se),ee,this.depth+1,ue)}derivePath(ee){const re=ee.split("/");if(re.length===0||re[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+ee);re[0]==="m"&&re.shift();let ne=this;for(let ie=0;ie<re.length;ie++){const oe=re[ie];if(oe.match(/^[0-9]+'$/)){const se=parseInt(oe.substring(0,oe.length-1));if(se>=HardenedBit$1)throw new Error("invalid path index - "+oe);ne=ne._derive(HardenedBit$1+se)}else if(oe.match(/^[0-9]+$/)){const se=parseInt(oe);if(se>=HardenedBit$1)throw new Error("invalid path index - "+oe);ne=ne._derive(se)}else throw new Error("invalid path component - "+oe)}return ne}static _fromSeed(ee,re){const ne=arrayify$8(ee);if(ne.length<16||ne.length>64)throw new Error("invalid seed");const ie=arrayify$8(computeHmac$2(SupportedAlgorithm$2.sha512,MasterSecret$1,ne));return new HDNode$1(_constructorGuard$3,bytes32$1(ie.slice(0,32)),null,"0x00000000",bytes32$1(ie.slice(32)),0,0,re)}static fromMnemonic(ee,re,ne){return ne=getWordlist$1(ne),ee=entropyToMnemonic$1(mnemonicToEntropy$1(ee,ne),ne),HDNode$1._fromSeed(mnemonicToSeed$1(ee,re),{phrase:ee,path:"m",locale:ne.locale})}static fromSeed(ee){return HDNode$1._fromSeed(ee,null)}static fromExtendedKey(ee){const re=Base58$1.decode(ee);(re.length!==82||base58check$1(re.slice(0,78))!==ee)&&logger$H.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const ne=re[4],ie=hexlify$5(re.slice(5,9)),oe=parseInt(hexlify$5(re.slice(9,13)).substring(2),16),se=hexlify$5(re.slice(13,45)),ae=re.slice(45,78);switch(hexlify$5(re.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new HDNode$1(_constructorGuard$3,null,hexlify$5(ae),ie,se,oe,ne,null);case"0x0488ade4":case"0x04358394 ":if(ae[0]!==0)break;return new HDNode$1(_constructorGuard$3,hexlify$5(ae.slice(1)),null,ie,se,oe,ne,null)}return logger$H.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function mnemonicToSeed$1(te,ee){ee||(ee="");const re=toUtf8Bytes$2("mnemonic"+ee,UnicodeNormalizationForm$2.NFKD);return pbkdf2$3(toUtf8Bytes$2(te,UnicodeNormalizationForm$2.NFKD),re,2048,64,"sha512")}function mnemonicToEntropy$1(te,ee){ee=getWordlist$1(ee),logger$H.checkNormalize();const re=ee.split(te);if(re.length%3!==0)throw new Error("invalid mnemonic");const ne=arrayify$8(new Uint8Array(Math.ceil(11*re.length/8)));let ie=0;for(let ue=0;ue<re.length;ue++){let le=ee.getWordIndex(re[ue].normalize("NFKD"));if(le===-1)throw new Error("invalid mnemonic");for(let pe=0;pe<11;pe++)le&1<<10-pe&&(ne[ie>>3]|=1<<7-ie%8),ie++}const oe=32*re.length/3,se=re.length/3,ae=getUpperMask$1(se);if((arrayify$8(sha256$5(ne.slice(0,oe/8)))[0]&ae)!==(ne[ne.length-1]&ae))throw new Error("invalid checksum");return hexlify$5(ne.slice(0,oe/8))}function entropyToMnemonic$1(te,ee){if(ee=getWordlist$1(ee),te=arrayify$8(te),te.length%4!==0||te.length<16||te.length>32)throw new Error("invalid entropy");const re=[0];let ne=11;for(let se=0;se<te.length;se++)ne>8?(re[re.length-1]<<=8,re[re.length-1]|=te[se],ne-=8):(re[re.length-1]<<=ne,re[re.length-1]|=te[se]>>8-ne,re.push(te[se]&getLowerMask$1(8-ne)),ne+=3);const ie=te.length/4,oe=arrayify$8(sha256$5(te))[0]&getUpperMask$1(ie);return re[re.length-1]<<=ie,re[re.length-1]|=oe>>8-ie,ee.join(re.map(se=>ee.getWord(se)))}function isValidMnemonic(te,ee){try{return mnemonicToEntropy$1(te,ee),!0}catch{}return!1}function getAccountPath(te){return(typeof te!="number"||te<0||te>=HardenedBit$1||te%1)&&logger$H.throwArgumentError("invalid account index","index",te),`m/44'/60'/${te}'/0/0`}var lib_esm$e=Object.freeze(Object.defineProperty({__proto__:null,defaultPath:defaultPath$1,HDNode:HDNode$1,mnemonicToSeed:mnemonicToSeed$1,mnemonicToEntropy:mnemonicToEntropy$1,entropyToMnemonic:entropyToMnemonic$1,isValidMnemonic,getAccountPath},Symbol.toStringTag,{value:"Module"})),require$$6=getAugmentedNamespace(lib_esm$e),aesJs={exports:{}};(function(te,ee){(function(re){function ne(or){return parseInt(or)===or}function ie(or){if(!ne(or.length))return!1;for(var ye=0;ye<or.length;ye++)if(!ne(or[ye])||or[ye]<0||or[ye]>255)return!1;return!0}function oe(or,ye){if(or.buffer&&ArrayBuffer.isView(or)&&or.name==="Uint8Array")return ye&&(or.slice?or=or.slice():or=Array.prototype.slice.call(or)),or;if(Array.isArray(or)){if(!ie(or))throw new Error("Array contains invalid value: "+or);return new Uint8Array(or)}if(ne(or.length)&&ie(or))return new Uint8Array(or);throw new Error("unsupported array-like object")}function se(or){return new Uint8Array(or)}function ae(or,ye,gr,Ar,br){(Ar!=null||br!=null)&&(or.slice?or=or.slice(Ar,br):or=Array.prototype.slice.call(or,Ar,br)),ye.set(or,gr)}var fe=function(){function or(gr){var Ar=[],br=0;for(gr=encodeURI(gr);br<gr.length;){var Cr=gr.charCodeAt(br++);Cr===37?(Ar.push(parseInt(gr.substr(br,2),16)),br+=2):Ar.push(Cr)}return oe(Ar)}function ye(gr){for(var Ar=[],br=0;br<gr.length;){var Cr=gr[br];Cr<128?(Ar.push(String.fromCharCode(Cr)),br++):Cr>191&&Cr<224?(Ar.push(String.fromCharCode((Cr&31)<<6|gr[br+1]&63)),br+=2):(Ar.push(String.fromCharCode((Cr&15)<<12|(gr[br+1]&63)<<6|gr[br+2]&63)),br+=3)}return Ar.join("")}return{toBytes:or,fromBytes:ye}}(),ue=function(){function or(Ar){for(var br=[],Cr=0;Cr<Ar.length;Cr+=2)br.push(parseInt(Ar.substr(Cr,2),16));return br}var ye="0123456789abcdef";function gr(Ar){for(var br=[],Cr=0;Cr<Ar.length;Cr++){var Lr=Ar[Cr];br.push(ye[(Lr&240)>>4]+ye[Lr&15])}return br.join("")}return{toBytes:or,fromBytes:gr}}(),le={16:10,24:12,32:14},pe=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],rr=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],cr=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],ar=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],mr=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],pr=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],yr=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],vr=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],Er=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],Tr=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],Ir=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],Or=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],Hr=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],Pr=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],Br=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function Nr(or){for(var ye=[],gr=0;gr<or.length;gr+=4)ye.push(or[gr]<<24|or[gr+1]<<16|or[gr+2]<<8|or[gr+3]);return ye}var dr=function(or){if(!(this instanceof dr))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:oe(or,!0)}),this._prepare()};dr.prototype._prepare=function(){var or=le[this.key.length];if(or==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var ye=0;ye<=or;ye++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var gr=(or+1)*4,Ar=this.key.length/4,br=Nr(this.key),Cr,ye=0;ye<Ar;ye++)Cr=ye>>2,this._Ke[Cr][ye%4]=br[ye],this._Kd[or-Cr][ye%4]=br[ye];for(var Lr=0,Dr=Ar,Wr;Dr<gr;){if(Wr=br[Ar-1],br[0]^=rr[Wr>>16&255]<<24^rr[Wr>>8&255]<<16^rr[Wr&255]<<8^rr[Wr>>24&255]^pe[Lr]<<24,Lr+=1,Ar!=8)for(var ye=1;ye<Ar;ye++)br[ye]^=br[ye-1];else{for(var ye=1;ye<Ar/2;ye++)br[ye]^=br[ye-1];Wr=br[Ar/2-1],br[Ar/2]^=rr[Wr&255]^rr[Wr>>8&255]<<8^rr[Wr>>16&255]<<16^rr[Wr>>24&255]<<24;for(var ye=Ar/2+1;ye<Ar;ye++)br[ye]^=br[ye-1]}for(var ye=0,Qr,Zr;ye<Ar&&Dr<gr;)Qr=Dr>>2,Zr=Dr%4,this._Ke[Qr][Zr]=br[ye],this._Kd[or-Qr][Zr]=br[ye++],Dr++}for(var Qr=1;Qr<or;Qr++)for(var Zr=0;Zr<4;Zr++)Wr=this._Kd[Qr][Zr],this._Kd[Qr][Zr]=Or[Wr>>24&255]^Hr[Wr>>16&255]^Pr[Wr>>8&255]^Br[Wr&255]},dr.prototype.encrypt=function(or){if(or.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var ye=this._Ke.length-1,gr=[0,0,0,0],Ar=Nr(or),br=0;br<4;br++)Ar[br]^=this._Ke[0][br];for(var Cr=1;Cr<ye;Cr++){for(var br=0;br<4;br++)gr[br]=ar[Ar[br]>>24&255]^mr[Ar[(br+1)%4]>>16&255]^pr[Ar[(br+2)%4]>>8&255]^yr[Ar[(br+3)%4]&255]^this._Ke[Cr][br];Ar=gr.slice()}for(var Lr=se(16),Dr,br=0;br<4;br++)Dr=this._Ke[ye][br],Lr[4*br]=(rr[Ar[br]>>24&255]^Dr>>24)&255,Lr[4*br+1]=(rr[Ar[(br+1)%4]>>16&255]^Dr>>16)&255,Lr[4*br+2]=(rr[Ar[(br+2)%4]>>8&255]^Dr>>8)&255,Lr[4*br+3]=(rr[Ar[(br+3)%4]&255]^Dr)&255;return Lr},dr.prototype.decrypt=function(or){if(or.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var ye=this._Kd.length-1,gr=[0,0,0,0],Ar=Nr(or),br=0;br<4;br++)Ar[br]^=this._Kd[0][br];for(var Cr=1;Cr<ye;Cr++){for(var br=0;br<4;br++)gr[br]=vr[Ar[br]>>24&255]^Er[Ar[(br+3)%4]>>16&255]^Tr[Ar[(br+2)%4]>>8&255]^Ir[Ar[(br+1)%4]&255]^this._Kd[Cr][br];Ar=gr.slice()}for(var Lr=se(16),Dr,br=0;br<4;br++)Dr=this._Kd[ye][br],Lr[4*br]=(cr[Ar[br]>>24&255]^Dr>>24)&255,Lr[4*br+1]=(cr[Ar[(br+3)%4]>>16&255]^Dr>>16)&255,Lr[4*br+2]=(cr[Ar[(br+2)%4]>>8&255]^Dr>>8)&255,Lr[4*br+3]=(cr[Ar[(br+1)%4]&255]^Dr)&255;return Lr};var tr=function(or){if(!(this instanceof tr))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new dr(or)};tr.prototype.encrypt=function(or){if(or=oe(or),or.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var ye=se(or.length),gr=se(16),Ar=0;Ar<or.length;Ar+=16)ae(or,gr,0,Ar,Ar+16),gr=this._aes.encrypt(gr),ae(gr,ye,Ar);return ye},tr.prototype.decrypt=function(or){if(or=oe(or),or.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var ye=se(or.length),gr=se(16),Ar=0;Ar<or.length;Ar+=16)ae(or,gr,0,Ar,Ar+16),gr=this._aes.decrypt(gr),ae(gr,ye,Ar);return ye};var ve=function(or,ye){if(!(this instanceof ve))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!ye)ye=se(16);else if(ye.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=oe(ye,!0),this._aes=new dr(or)};ve.prototype.encrypt=function(or){if(or=oe(or),or.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var ye=se(or.length),gr=se(16),Ar=0;Ar<or.length;Ar+=16){ae(or,gr,0,Ar,Ar+16);for(var br=0;br<16;br++)gr[br]^=this._lastCipherblock[br];this._lastCipherblock=this._aes.encrypt(gr),ae(this._lastCipherblock,ye,Ar)}return ye},ve.prototype.decrypt=function(or){if(or=oe(or),or.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var ye=se(or.length),gr=se(16),Ar=0;Ar<or.length;Ar+=16){ae(or,gr,0,Ar,Ar+16),gr=this._aes.decrypt(gr);for(var br=0;br<16;br++)ye[Ar+br]=gr[br]^this._lastCipherblock[br];ae(or,this._lastCipherblock,0,Ar,Ar+16)}return ye};var ce=function(or,ye,gr){if(!(this instanceof ce))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!ye)ye=se(16);else if(ye.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");gr||(gr=1),this.segmentSize=gr,this._shiftRegister=oe(ye,!0),this._aes=new dr(or)};ce.prototype.encrypt=function(or){if(or.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var ye=oe(or,!0),gr,Ar=0;Ar<ye.length;Ar+=this.segmentSize){gr=this._aes.encrypt(this._shiftRegister);for(var br=0;br<this.segmentSize;br++)ye[Ar+br]^=gr[br];ae(this._shiftRegister,this._shiftRegister,0,this.segmentSize),ae(ye,this._shiftRegister,16-this.segmentSize,Ar,Ar+this.segmentSize)}return ye},ce.prototype.decrypt=function(or){if(or.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var ye=oe(or,!0),gr,Ar=0;Ar<ye.length;Ar+=this.segmentSize){gr=this._aes.encrypt(this._shiftRegister);for(var br=0;br<this.segmentSize;br++)ye[Ar+br]^=gr[br];ae(this._shiftRegister,this._shiftRegister,0,this.segmentSize),ae(or,this._shiftRegister,16-this.segmentSize,Ar,Ar+this.segmentSize)}return ye};var me=function(or,ye){if(!(this instanceof me))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!ye)ye=se(16);else if(ye.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=oe(ye,!0),this._lastPrecipherIndex=16,this._aes=new dr(or)};me.prototype.encrypt=function(or){for(var ye=oe(or,!0),gr=0;gr<ye.length;gr++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),ye[gr]^=this._lastPrecipher[this._lastPrecipherIndex++];return ye},me.prototype.decrypt=me.prototype.encrypt;var ir=function(or){if(!(this instanceof ir))throw Error("Counter must be instanitated with `new`");or!==0&&!or&&(or=1),typeof or=="number"?(this._counter=se(16),this.setValue(or)):this.setBytes(or)};ir.prototype.setValue=function(or){if(typeof or!="number"||parseInt(or)!=or)throw new Error("invalid counter value (must be an integer)");for(var ye=15;ye>=0;--ye)this._counter[ye]=or%256,or=or>>8},ir.prototype.setBytes=function(or){if(or=oe(or,!0),or.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=or},ir.prototype.increment=function(){for(var or=15;or>=0;or--)if(this._counter[or]===255)this._counter[or]=0;else{this._counter[or]++;break}};var ur=function(or,ye){if(!(this instanceof ur))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",ye instanceof ir||(ye=new ir(ye)),this._counter=ye,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new dr(or)};ur.prototype.encrypt=function(or){for(var ye=oe(or,!0),gr=0;gr<ye.length;gr++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),ye[gr]^=this._remainingCounter[this._remainingCounterIndex++];return ye},ur.prototype.decrypt=ur.prototype.encrypt;function lr(or){or=oe(or,!0);var ye=16-or.length%16,gr=se(or.length+ye);ae(or,gr);for(var Ar=or.length;Ar<gr.length;Ar++)gr[Ar]=ye;return gr}function er(or){if(or=oe(or,!0),or.length<16)throw new Error("PKCS#7 invalid length");var ye=or[or.length-1];if(ye>16)throw new Error("PKCS#7 padding byte out of range");for(var gr=or.length-ye,Ar=0;Ar<ye;Ar++)if(or[gr+Ar]!==ye)throw new Error("PKCS#7 invalid padding byte");var br=se(gr);return ae(or,br,0,0,gr),br}var nr={AES:dr,Counter:ir,ModeOfOperation:{ecb:tr,cbc:ve,cfb:ce,ofb:me,ctr:ur},utils:{hex:ue,utf8:fe},padding:{pkcs7:{pad:lr,strip:er}},_arrayTest:{coerceArray:oe,createArray:se,copyArray:ae}};te.exports=nr})()})(aesJs);var aes=aesJs.exports,SupportedAlgorithm$1;(function(te){te.sha256="sha256",te.sha512="sha512"})(SupportedAlgorithm$1||(SupportedAlgorithm$1={}));const version$R="sha2/5.6.0",logger$G=new Logger$g(version$R);function ripemd160$2(te){return"0x"+hash$4.ripemd160().update(arrayify$e(te)).digest("hex")}function sha256$4(te){return"0x"+hash$4.sha256().update(arrayify$e(te)).digest("hex")}function computeHmac$1(te,ee,re){return SupportedAlgorithm$1[te]||logger$G.throwError("unsupported algorithm "+te,Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:te}),"0x"+hash$4.hmac(hash$4[te],arrayify$e(ee)).update(arrayify$e(re)).digest("hex")}function pbkdf2$2(te,ee,re,ne,ie){te=arrayify$e(te),ee=arrayify$e(ee);let oe,se=1;const ae=new Uint8Array(ne),fe=new Uint8Array(ee.length+4);fe.set(ee);let ue,le;for(let pe=1;pe<=se;pe++){fe[ee.length]=pe>>24&255,fe[ee.length+1]=pe>>16&255,fe[ee.length+2]=pe>>8&255,fe[ee.length+3]=pe&255;let rr=arrayify$e(computeHmac$1(ie,te,fe));oe||(oe=rr.length,le=new Uint8Array(oe),se=Math.ceil(ne/oe),ue=ne-(se-1)*oe),le.set(rr);for(let mr=1;mr<re;mr++){rr=arrayify$e(computeHmac$1(ie,te,rr));for(let pr=0;pr<oe;pr++)le[pr]^=rr[pr]}const cr=(pe-1)*oe,ar=pe===se?ue:oe;ae.set(arrayify$e(le).slice(0,ar),cr)}return hexlify$9(ae)}const version$Q="json-wallets/5.5.0";function looseArrayify$1(te){return typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),arrayify$e(te)}function zpad$1(te,ee){for(te=String(te);te.length<ee;)te="0"+te;return te}function getPassword$1(te){return typeof te=="string"?toUtf8Bytes$4(te,UnicodeNormalizationForm$4.NFKC):arrayify$e(te)}function searchPath$1(te,ee){let re=te;const ne=ee.toLowerCase().split("/");for(let ie=0;ie<ne.length;ie++){let oe=null;for(const se in re)if(se.toLowerCase()===ne[ie]){oe=re[se];break}if(oe===null)return null;re=oe}return re}function uuidV4$1(te){const ee=arrayify$e(te);ee[6]=ee[6]&15|64,ee[8]=ee[8]&63|128;const re=hexlify$9(ee);return[re.substring(2,10),re.substring(10,14),re.substring(14,18),re.substring(18,22),re.substring(22,34)].join("-")}const logger$F=new Logger$g(version$Q);class CrowdsaleAccount$1 extends Description$1{isCrowdsaleAccount(ee){return!!(ee&&ee._isCrowdsaleAccount)}}function decrypt$5(te,ee){const re=JSON.parse(te);ee=getPassword$1(ee);const ne=getAddress$4(searchPath$1(re,"ethaddr")),ie=looseArrayify$1(searchPath$1(re,"encseed"));(!ie||ie.length%16!==0)&&logger$F.throwArgumentError("invalid encseed","json",te);const oe=arrayify$e(pbkdf2$2(ee,ee,2e3,32,"sha256")).slice(0,16),se=ie.slice(0,16),ae=ie.slice(16),fe=new aes.ModeOfOperation.cbc(oe,se),ue=aes.padding.pkcs7.strip(arrayify$e(fe.decrypt(ae)));let le="";for(let cr=0;cr<ue.length;cr++)le+=String.fromCharCode(ue[cr]);const pe=toUtf8Bytes$4(le),rr=keccak256$6(pe);return new CrowdsaleAccount$1({_isCrowdsaleAccount:!0,address:ne,privateKey:rr})}function isCrowdsaleWallet$1(te){let ee=null;try{ee=JSON.parse(te)}catch{return!1}return ee.encseed&&ee.ethaddr}function isKeystoreWallet$1(te){let ee=null;try{ee=JSON.parse(te)}catch{return!1}return!(!ee.version||parseInt(ee.version)!==ee.version||parseInt(ee.version)!==3)}function getJsonWalletAddress(te){if(isCrowdsaleWallet$1(te))try{return getAddress$4(JSON.parse(te).ethaddr)}catch{return null}if(isKeystoreWallet$1(te))try{return getAddress$4(JSON.parse(te).address)}catch{return null}return null}var scrypt$1={exports:{}};(function(te,ee){(function(re){function ie(mr){const pr=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let yr=1779033703,vr=3144134277,Er=1013904242,Tr=2773480762,Ir=1359893119,Or=2600822924,Hr=528734635,Pr=1541459225;const Br=new Uint32Array(64);function Nr(ur){let lr=0,er=ur.length;for(;er>=64;){let nr=yr,or=vr,ye=Er,gr=Tr,Ar=Ir,br=Or,Cr=Hr,Lr=Pr,Dr,Wr,Qr,Zr,Xr;for(Wr=0;Wr<16;Wr++)Qr=lr+Wr*4,Br[Wr]=(ur[Qr]&255)<<24|(ur[Qr+1]&255)<<16|(ur[Qr+2]&255)<<8|ur[Qr+3]&255;for(Wr=16;Wr<64;Wr++)Dr=Br[Wr-2],Zr=(Dr>>>17|Dr<<32-17)^(Dr>>>19|Dr<<32-19)^Dr>>>10,Dr=Br[Wr-15],Xr=(Dr>>>7|Dr<<32-7)^(Dr>>>18|Dr<<32-18)^Dr>>>3,Br[Wr]=(Zr+Br[Wr-7]|0)+(Xr+Br[Wr-16]|0)|0;for(Wr=0;Wr<64;Wr++)Zr=(((Ar>>>6|Ar<<32-6)^(Ar>>>11|Ar<<32-11)^(Ar>>>25|Ar<<32-25))+(Ar&br^~Ar&Cr)|0)+(Lr+(pr[Wr]+Br[Wr]|0)|0)|0,Xr=((nr>>>2|nr<<32-2)^(nr>>>13|nr<<32-13)^(nr>>>22|nr<<32-22))+(nr&or^nr&ye^or&ye)|0,Lr=Cr,Cr=br,br=Ar,Ar=gr+Zr|0,gr=ye,ye=or,or=nr,nr=Zr+Xr|0;yr=yr+nr|0,vr=vr+or|0,Er=Er+ye|0,Tr=Tr+gr|0,Ir=Ir+Ar|0,Or=Or+br|0,Hr=Hr+Cr|0,Pr=Pr+Lr|0,lr+=64,er-=64}}Nr(mr);let dr,tr=mr.length%64,ve=mr.length/536870912|0,ce=mr.length<<3,me=tr<56?56:120,ir=mr.slice(mr.length-tr,mr.length);for(ir.push(128),dr=tr+1;dr<me;dr++)ir.push(0);return ir.push(ve>>>24&255),ir.push(ve>>>16&255),ir.push(ve>>>8&255),ir.push(ve>>>0&255),ir.push(ce>>>24&255),ir.push(ce>>>16&255),ir.push(ce>>>8&255),ir.push(ce>>>0&255),Nr(ir),[yr>>>24&255,yr>>>16&255,yr>>>8&255,yr>>>0&255,vr>>>24&255,vr>>>16&255,vr>>>8&255,vr>>>0&255,Er>>>24&255,Er>>>16&255,Er>>>8&255,Er>>>0&255,Tr>>>24&255,Tr>>>16&255,Tr>>>8&255,Tr>>>0&255,Ir>>>24&255,Ir>>>16&255,Ir>>>8&255,Ir>>>0&255,Or>>>24&255,Or>>>16&255,Or>>>8&255,Or>>>0&255,Hr>>>24&255,Hr>>>16&255,Hr>>>8&255,Hr>>>0&255,Pr>>>24&255,Pr>>>16&255,Pr>>>8&255,Pr>>>0&255]}function oe(mr,pr,yr){mr=mr.length<=64?mr:ie(mr);const vr=64+pr.length+4,Er=new Array(vr),Tr=new Array(64);let Ir,Or=[];for(Ir=0;Ir<64;Ir++)Er[Ir]=54;for(Ir=0;Ir<mr.length;Ir++)Er[Ir]^=mr[Ir];for(Ir=0;Ir<pr.length;Ir++)Er[64+Ir]=pr[Ir];for(Ir=vr-4;Ir<vr;Ir++)Er[Ir]=0;for(Ir=0;Ir<64;Ir++)Tr[Ir]=92;for(Ir=0;Ir<mr.length;Ir++)Tr[Ir]^=mr[Ir];function Hr(){for(let Pr=vr-1;Pr>=vr-4;Pr--){if(Er[Pr]++,Er[Pr]<=255)return;Er[Pr]=0}}for(;yr>=32;)Hr(),Or=Or.concat(ie(Tr.concat(ie(Er)))),yr-=32;return yr>0&&(Hr(),Or=Or.concat(ie(Tr.concat(ie(Er))).slice(0,yr))),Or}function se(mr,pr,yr,vr,Er){let Tr;for(le(mr,(2*yr-1)*16,Er,0,16),Tr=0;Tr<2*yr;Tr++)ue(mr,Tr*16,Er,16),fe(Er,vr),le(Er,0,mr,pr+Tr*16,16);for(Tr=0;Tr<yr;Tr++)le(mr,pr+Tr*2*16,mr,Tr*16,16);for(Tr=0;Tr<yr;Tr++)le(mr,pr+(Tr*2+1)*16,mr,(Tr+yr)*16,16)}function ae(mr,pr){return mr<<pr|mr>>>32-pr}function fe(mr,pr){le(mr,0,pr,0,16);for(let yr=8;yr>0;yr-=2)pr[4]^=ae(pr[0]+pr[12],7),pr[8]^=ae(pr[4]+pr[0],9),pr[12]^=ae(pr[8]+pr[4],13),pr[0]^=ae(pr[12]+pr[8],18),pr[9]^=ae(pr[5]+pr[1],7),pr[13]^=ae(pr[9]+pr[5],9),pr[1]^=ae(pr[13]+pr[9],13),pr[5]^=ae(pr[1]+pr[13],18),pr[14]^=ae(pr[10]+pr[6],7),pr[2]^=ae(pr[14]+pr[10],9),pr[6]^=ae(pr[2]+pr[14],13),pr[10]^=ae(pr[6]+pr[2],18),pr[3]^=ae(pr[15]+pr[11],7),pr[7]^=ae(pr[3]+pr[15],9),pr[11]^=ae(pr[7]+pr[3],13),pr[15]^=ae(pr[11]+pr[7],18),pr[1]^=ae(pr[0]+pr[3],7),pr[2]^=ae(pr[1]+pr[0],9),pr[3]^=ae(pr[2]+pr[1],13),pr[0]^=ae(pr[3]+pr[2],18),pr[6]^=ae(pr[5]+pr[4],7),pr[7]^=ae(pr[6]+pr[5],9),pr[4]^=ae(pr[7]+pr[6],13),pr[5]^=ae(pr[4]+pr[7],18),pr[11]^=ae(pr[10]+pr[9],7),pr[8]^=ae(pr[11]+pr[10],9),pr[9]^=ae(pr[8]+pr[11],13),pr[10]^=ae(pr[9]+pr[8],18),pr[12]^=ae(pr[15]+pr[14],7),pr[13]^=ae(pr[12]+pr[15],9),pr[14]^=ae(pr[13]+pr[12],13),pr[15]^=ae(pr[14]+pr[13],18);for(let yr=0;yr<16;++yr)mr[yr]+=pr[yr]}function ue(mr,pr,yr,vr){for(let Er=0;Er<vr;Er++)yr[Er]^=mr[pr+Er]}function le(mr,pr,yr,vr,Er){for(;Er--;)yr[vr++]=mr[pr++]}function pe(mr){if(!mr||typeof mr.length!="number")return!1;for(let pr=0;pr<mr.length;pr++){const yr=mr[pr];if(typeof yr!="number"||yr%1||yr<0||yr>=256)return!1}return!0}function rr(mr,pr){if(typeof mr!="number"||mr%1)throw new Error("invalid "+pr);return mr}function cr(mr,pr,yr,vr,Er,Tr,Ir){if(yr=rr(yr,"N"),vr=rr(vr,"r"),Er=rr(Er,"p"),Tr=rr(Tr,"dkLen"),yr===0||(yr&yr-1)!==0)throw new Error("N must be power of 2");if(yr>2147483647/128/vr)throw new Error("N too large");if(vr>2147483647/128/Er)throw new Error("r too large");if(!pe(mr))throw new Error("password must be an array or buffer");if(mr=Array.prototype.slice.call(mr),!pe(pr))throw new Error("salt must be an array or buffer");pr=Array.prototype.slice.call(pr);let Or=oe(mr,pr,Er*128*vr);const Hr=new Uint32Array(Er*32*vr);for(let Ar=0;Ar<Hr.length;Ar++){const br=Ar*4;Hr[Ar]=(Or[br+3]&255)<<24|(Or[br+2]&255)<<16|(Or[br+1]&255)<<8|(Or[br+0]&255)<<0}const Pr=new Uint32Array(64*vr),Br=new Uint32Array(32*vr*yr),Nr=32*vr,dr=new Uint32Array(16),tr=new Uint32Array(16),ve=Er*yr*2;let ce=0,me=null,ir=!1,ur=0,lr=0,er,nr;const or=Ir?parseInt(1e3/vr):4294967295,ye=typeof setImmediate!="undefined"?setImmediate:setTimeout,gr=function(){if(ir)return Ir(new Error("cancelled"),ce/ve);let Ar;switch(ur){case 0:nr=lr*32*vr,le(Hr,nr,Pr,0,Nr),ur=1,er=0;case 1:Ar=yr-er,Ar>or&&(Ar=or);for(let Cr=0;Cr<Ar;Cr++)le(Pr,0,Br,(er+Cr)*Nr,Nr),se(Pr,Nr,vr,dr,tr);if(er+=Ar,ce+=Ar,Ir){const Cr=parseInt(1e3*ce/ve);if(Cr!==me){if(ir=Ir(null,ce/ve),ir)break;me=Cr}}if(er<yr)break;er=0,ur=2;case 2:Ar=yr-er,Ar>or&&(Ar=or);for(let Cr=0;Cr<Ar;Cr++){const Lr=(2*vr-1)*16,Dr=Pr[Lr]&yr-1;ue(Br,Dr*Nr,Pr,Nr),se(Pr,Nr,vr,dr,tr)}if(er+=Ar,ce+=Ar,Ir){const Cr=parseInt(1e3*ce/ve);if(Cr!==me){if(ir=Ir(null,ce/ve),ir)break;me=Cr}}if(er<yr)break;if(le(Pr,0,Hr,nr,Nr),lr++,lr<Er){ur=0;break}Or=[];for(let Cr=0;Cr<Hr.length;Cr++)Or.push(Hr[Cr]>>0&255),Or.push(Hr[Cr]>>8&255),Or.push(Hr[Cr]>>16&255),Or.push(Hr[Cr]>>24&255);const br=oe(mr,Or,Tr);return Ir&&Ir(null,1,br),br}Ir&&ye(gr)};if(!Ir)for(;;){const Ar=gr();if(Ar!=null)return Ar}gr()}const ar={scrypt:function(mr,pr,yr,vr,Er,Tr,Ir){return new Promise(function(Or,Hr){let Pr=0;Ir&&Ir(0),cr(mr,pr,yr,vr,Er,Tr,function(Br,Nr,dr){if(Br)Hr(Br);else if(dr)Ir&&Pr!==1&&Ir(1),Or(new Uint8Array(dr));else if(Ir&&Nr!==Pr)return Pr=Nr,Ir(Nr)})})},syncScrypt:function(mr,pr,yr,vr,Er,Tr){return new Uint8Array(cr(mr,pr,yr,vr,Er,Tr))}};te.exports=ar})()})(scrypt$1);var scrypt=scrypt$1.exports;class BaseX{constructor(ee){defineReadOnly$6(this,"alphabet",ee),defineReadOnly$6(this,"base",ee.length),defineReadOnly$6(this,"_alphabetMap",{}),defineReadOnly$6(this,"_leader",ee.charAt(0));for(let re=0;re<ee.length;re++)this._alphabetMap[ee.charAt(re)]=re}encode(ee){let re=arrayify$e(ee);if(re.length===0)return"";let ne=[0];for(let oe=0;oe<re.length;++oe){let se=re[oe];for(let ae=0;ae<ne.length;++ae)se+=ne[ae]<<8,ne[ae]=se%this.base,se=se/this.base|0;for(;se>0;)ne.push(se%this.base),se=se/this.base|0}let ie="";for(let oe=0;re[oe]===0&&oe<re.length-1;++oe)ie+=this._leader;for(let oe=ne.length-1;oe>=0;--oe)ie+=this.alphabet[ne[oe]];return ie}decode(ee){if(typeof ee!="string")throw new TypeError("Expected String");let re=[];if(ee.length===0)return new Uint8Array(re);re.push(0);for(let ne=0;ne<ee.length;ne++){let ie=this._alphabetMap[ee[ne]];if(ie===void 0)throw new Error("Non-base"+this.base+" character");let oe=ie;for(let se=0;se<re.length;++se)oe+=re[se]*this.base,re[se]=oe&255,oe>>=8;for(;oe>0;)re.push(oe&255),oe>>=8}for(let ne=0;ee[ne]===this._leader&&ne<ee.length-1;++ne)re.push(0);return arrayify$e(new Uint8Array(re.reverse()))}}new BaseX("abcdefghijklmnopqrstuvwxyz234567");const Base58=new BaseX("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function createCommonjsModule$3(te,ee,re){return re={path:ee,exports:{},require:function(ne,ie){return commonjsRequire$3(ne,ie==null?re.path:ie)}},te(re,re.exports),re.exports}function commonjsRequire$3(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var minimalisticAssert$2=assert$g;function assert$g(te,ee){if(!te)throw new Error(ee||"Assertion failed")}assert$g.equal=function(ee,re,ne){if(ee!=re)throw new Error(ne||"Assertion failed: "+ee+" != "+re)};var utils_1$4=createCommonjsModule$3(function(te,ee){var re=ee;function ne(se,ae){if(Array.isArray(se))return se.slice();if(!se)return[];var fe=[];if(typeof se!="string"){for(var ue=0;ue<se.length;ue++)fe[ue]=se[ue]|0;return fe}if(ae==="hex"){se=se.replace(/[^a-z0-9]+/ig,""),se.length%2!==0&&(se="0"+se);for(var ue=0;ue<se.length;ue+=2)fe.push(parseInt(se[ue]+se[ue+1],16))}else for(var ue=0;ue<se.length;ue++){var le=se.charCodeAt(ue),pe=le>>8,rr=le&255;pe?fe.push(pe,rr):fe.push(rr)}return fe}re.toArray=ne;function ie(se){return se.length===1?"0"+se:se}re.zero2=ie;function oe(se){for(var ae="",fe=0;fe<se.length;fe++)ae+=ie(se[fe].toString(16));return ae}re.toHex=oe,re.encode=function(ae,fe){return fe==="hex"?oe(ae):ae}}),utils_1$1$3=createCommonjsModule$3(function(te,ee){var re=ee;re.assert=minimalisticAssert$2,re.toArray=utils_1$4.toArray,re.zero2=utils_1$4.zero2,re.toHex=utils_1$4.toHex,re.encode=utils_1$4.encode;function ne(fe,ue,le){var pe=new Array(Math.max(fe.bitLength(),le)+1);pe.fill(0);for(var rr=1<<ue+1,cr=fe.clone(),ar=0;ar<pe.length;ar++){var mr,pr=cr.andln(rr-1);cr.isOdd()?(pr>(rr>>1)-1?mr=(rr>>1)-pr:mr=pr,cr.isubn(mr)):mr=0,pe[ar]=mr,cr.iushrn(1)}return pe}re.getNAF=ne;function ie(fe,ue){var le=[[],[]];fe=fe.clone(),ue=ue.clone();for(var pe=0,rr=0,cr;fe.cmpn(-pe)>0||ue.cmpn(-rr)>0;){var ar=fe.andln(3)+pe&3,mr=ue.andln(3)+rr&3;ar===3&&(ar=-1),mr===3&&(mr=-1);var pr;(ar&1)===0?pr=0:(cr=fe.andln(7)+pe&7,(cr===3||cr===5)&&mr===2?pr=-ar:pr=ar),le[0].push(pr);var yr;(mr&1)===0?yr=0:(cr=ue.andln(7)+rr&7,(cr===3||cr===5)&&ar===2?yr=-mr:yr=mr),le[1].push(yr),2*pe===pr+1&&(pe=1-pe),2*rr===yr+1&&(rr=1-rr),fe.iushrn(1),ue.iushrn(1)}return le}re.getJSF=ie;function oe(fe,ue,le){var pe="_"+ue;fe.prototype[ue]=function(){return this[pe]!==void 0?this[pe]:this[pe]=le.call(this)}}re.cachedProperty=oe;function se(fe){return typeof fe=="string"?re.toArray(fe,"hex"):fe}re.parseBytes=se;function ae(fe){return new _BN(fe,"hex","le")}re.intFromLE=ae}),getNAF$3=utils_1$1$3.getNAF,getJSF$3=utils_1$1$3.getJSF,assert$1$3=utils_1$1$3.assert;function BaseCurve$3(te,ee){this.type=te,this.p=new _BN(ee.p,16),this.red=ee.prime?_BN.red(ee.prime):_BN.mont(this.p),this.zero=new _BN(0).toRed(this.red),this.one=new _BN(1).toRed(this.red),this.two=new _BN(2).toRed(this.red),this.n=ee.n&&new _BN(ee.n,16),this.g=ee.g&&this.pointFromJSON(ee.g,ee.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var re=this.n&&this.p.div(this.n);!re||re.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$4=BaseCurve$3;BaseCurve$3.prototype.point=function(){throw new Error("Not implemented")};BaseCurve$3.prototype.validate=function(){throw new Error("Not implemented")};BaseCurve$3.prototype._fixedNafMul=function(ee,re){assert$1$3(ee.precomputed);var ne=ee._getDoubles(),ie=getNAF$3(re,1,this._bitLength),oe=(1<<ne.step+1)-(ne.step%2===0?2:1);oe/=3;var se=[],ae,fe;for(ae=0;ae<ie.length;ae+=ne.step){fe=0;for(var ue=ae+ne.step-1;ue>=ae;ue--)fe=(fe<<1)+ie[ue];se.push(fe)}for(var le=this.jpoint(null,null,null),pe=this.jpoint(null,null,null),rr=oe;rr>0;rr--){for(ae=0;ae<se.length;ae++)fe=se[ae],fe===rr?pe=pe.mixedAdd(ne.points[ae]):fe===-rr&&(pe=pe.mixedAdd(ne.points[ae].neg()));le=le.add(pe)}return le.toP()};BaseCurve$3.prototype._wnafMul=function(ee,re){var ne=4,ie=ee._getNAFPoints(ne);ne=ie.wnd;for(var oe=ie.points,se=getNAF$3(re,ne,this._bitLength),ae=this.jpoint(null,null,null),fe=se.length-1;fe>=0;fe--){for(var ue=0;fe>=0&&se[fe]===0;fe--)ue++;if(fe>=0&&ue++,ae=ae.dblp(ue),fe<0)break;var le=se[fe];assert$1$3(le!==0),ee.type==="affine"?le>0?ae=ae.mixedAdd(oe[le-1>>1]):ae=ae.mixedAdd(oe[-le-1>>1].neg()):le>0?ae=ae.add(oe[le-1>>1]):ae=ae.add(oe[-le-1>>1].neg())}return ee.type==="affine"?ae.toP():ae};BaseCurve$3.prototype._wnafMulAdd=function(ee,re,ne,ie,oe){var se=this._wnafT1,ae=this._wnafT2,fe=this._wnafT3,ue=0,le,pe,rr;for(le=0;le<ie;le++){rr=re[le];var cr=rr._getNAFPoints(ee);se[le]=cr.wnd,ae[le]=cr.points}for(le=ie-1;le>=1;le-=2){var ar=le-1,mr=le;if(se[ar]!==1||se[mr]!==1){fe[ar]=getNAF$3(ne[ar],se[ar],this._bitLength),fe[mr]=getNAF$3(ne[mr],se[mr],this._bitLength),ue=Math.max(fe[ar].length,ue),ue=Math.max(fe[mr].length,ue);continue}var pr=[re[ar],null,null,re[mr]];re[ar].y.cmp(re[mr].y)===0?(pr[1]=re[ar].add(re[mr]),pr[2]=re[ar].toJ().mixedAdd(re[mr].neg())):re[ar].y.cmp(re[mr].y.redNeg())===0?(pr[1]=re[ar].toJ().mixedAdd(re[mr]),pr[2]=re[ar].add(re[mr].neg())):(pr[1]=re[ar].toJ().mixedAdd(re[mr]),pr[2]=re[ar].toJ().mixedAdd(re[mr].neg()));var yr=[-3,-1,-5,-7,0,7,5,1,3],vr=getJSF$3(ne[ar],ne[mr]);for(ue=Math.max(vr[0].length,ue),fe[ar]=new Array(ue),fe[mr]=new Array(ue),pe=0;pe<ue;pe++){var Er=vr[0][pe]|0,Tr=vr[1][pe]|0;fe[ar][pe]=yr[(Er+1)*3+(Tr+1)],fe[mr][pe]=0,ae[ar]=pr}}var Ir=this.jpoint(null,null,null),Or=this._wnafT4;for(le=ue;le>=0;le--){for(var Hr=0;le>=0;){var Pr=!0;for(pe=0;pe<ie;pe++)Or[pe]=fe[pe][le]|0,Or[pe]!==0&&(Pr=!1);if(!Pr)break;Hr++,le--}if(le>=0&&Hr++,Ir=Ir.dblp(Hr),le<0)break;for(pe=0;pe<ie;pe++){var Br=Or[pe];Br!==0&&(Br>0?rr=ae[pe][Br-1>>1]:Br<0&&(rr=ae[pe][-Br-1>>1].neg()),rr.type==="affine"?Ir=Ir.mixedAdd(rr):Ir=Ir.add(rr))}}for(le=0;le<ie;le++)ae[le]=null;return oe?Ir:Ir.toP()};function BasePoint$3(te,ee){this.curve=te,this.type=ee,this.precomputed=null}BaseCurve$3.BasePoint=BasePoint$3;BasePoint$3.prototype.eq=function(){throw new Error("Not implemented")};BasePoint$3.prototype.validate=function(){return this.curve.validate(this)};BaseCurve$3.prototype.decodePoint=function(ee,re){ee=utils_1$1$3.toArray(ee,re);var ne=this.p.byteLength();if((ee[0]===4||ee[0]===6||ee[0]===7)&&ee.length-1===2*ne){ee[0]===6?assert$1$3(ee[ee.length-1]%2===0):ee[0]===7&&assert$1$3(ee[ee.length-1]%2===1);var ie=this.point(ee.slice(1,1+ne),ee.slice(1+ne,1+2*ne));return ie}else if((ee[0]===2||ee[0]===3)&&ee.length-1===ne)return this.pointFromX(ee.slice(1,1+ne),ee[0]===3);throw new Error("Unknown point format")};BasePoint$3.prototype.encodeCompressed=function(ee){return this.encode(ee,!0)};BasePoint$3.prototype._encode=function(ee){var re=this.curve.p.byteLength(),ne=this.getX().toArray("be",re);return ee?[this.getY().isEven()?2:3].concat(ne):[4].concat(ne,this.getY().toArray("be",re))};BasePoint$3.prototype.encode=function(ee,re){return utils_1$1$3.encode(this._encode(re),ee)};BasePoint$3.prototype.precompute=function(ee){if(this.precomputed)return this;var re={doubles:null,naf:null,beta:null};return re.naf=this._getNAFPoints(8),re.doubles=this._getDoubles(4,ee),re.beta=this._getBeta(),this.precomputed=re,this};BasePoint$3.prototype._hasDoubles=function(ee){if(!this.precomputed)return!1;var re=this.precomputed.doubles;return re?re.points.length>=Math.ceil((ee.bitLength()+1)/re.step):!1};BasePoint$3.prototype._getDoubles=function(ee,re){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var ne=[this],ie=this,oe=0;oe<re;oe+=ee){for(var se=0;se<ee;se++)ie=ie.dbl();ne.push(ie)}return{step:ee,points:ne}};BasePoint$3.prototype._getNAFPoints=function(ee){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var re=[this],ne=(1<<ee)-1,ie=ne===1?null:this.dbl(),oe=1;oe<ne;oe++)re[oe]=re[oe-1].add(ie);return{wnd:ee,points:re}};BasePoint$3.prototype._getBeta=function(){return null};BasePoint$3.prototype.dblp=function(ee){for(var re=this,ne=0;ne<ee;ne++)re=re.dbl();return re};var inherits_browser$3=createCommonjsModule$3(function(te){typeof Object.create=="function"?te.exports=function(re,ne){ne&&(re.super_=ne,re.prototype=Object.create(ne.prototype,{constructor:{value:re,enumerable:!1,writable:!0,configurable:!0}}))}:te.exports=function(re,ne){if(ne){re.super_=ne;var ie=function(){};ie.prototype=ne.prototype,re.prototype=new ie,re.prototype.constructor=re}}}),assert$2$3=utils_1$1$3.assert;function ShortCurve$3(te){base$4.call(this,"short",te),this.a=new _BN(te.a,16).toRed(this.red),this.b=new _BN(te.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(te),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits_browser$3(ShortCurve$3,base$4);var short_1$2=ShortCurve$3;ShortCurve$3.prototype._getEndomorphism=function(ee){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var re,ne;if(ee.beta)re=new _BN(ee.beta,16).toRed(this.red);else{var ie=this._getEndoRoots(this.p);re=ie[0].cmp(ie[1])<0?ie[0]:ie[1],re=re.toRed(this.red)}if(ee.lambda)ne=new _BN(ee.lambda,16);else{var oe=this._getEndoRoots(this.n);this.g.mul(oe[0]).x.cmp(this.g.x.redMul(re))===0?ne=oe[0]:(ne=oe[1],assert$2$3(this.g.mul(ne).x.cmp(this.g.x.redMul(re))===0))}var se;return ee.basis?se=ee.basis.map(function(ae){return{a:new _BN(ae.a,16),b:new _BN(ae.b,16)}}):se=this._getEndoBasis(ne),{beta:re,lambda:ne,basis:se}}};ShortCurve$3.prototype._getEndoRoots=function(ee){var re=ee===this.p?this.red:_BN.mont(ee),ne=new _BN(2).toRed(re).redInvm(),ie=ne.redNeg(),oe=new _BN(3).toRed(re).redNeg().redSqrt().redMul(ne),se=ie.redAdd(oe).fromRed(),ae=ie.redSub(oe).fromRed();return[se,ae]};ShortCurve$3.prototype._getEndoBasis=function(ee){for(var re=this.n.ushrn(Math.floor(this.n.bitLength()/2)),ne=ee,ie=this.n.clone(),oe=new _BN(1),se=new _BN(0),ae=new _BN(0),fe=new _BN(1),ue,le,pe,rr,cr,ar,mr,pr=0,yr,vr;ne.cmpn(0)!==0;){var Er=ie.div(ne);yr=ie.sub(Er.mul(ne)),vr=ae.sub(Er.mul(oe));var Tr=fe.sub(Er.mul(se));if(!pe&&yr.cmp(re)<0)ue=mr.neg(),le=oe,pe=yr.neg(),rr=vr;else if(pe&&++pr===2)break;mr=yr,ie=ne,ne=yr,ae=oe,oe=vr,fe=se,se=Tr}cr=yr.neg(),ar=vr;var Ir=pe.sqr().add(rr.sqr()),Or=cr.sqr().add(ar.sqr());return Or.cmp(Ir)>=0&&(cr=ue,ar=le),pe.negative&&(pe=pe.neg(),rr=rr.neg()),cr.negative&&(cr=cr.neg(),ar=ar.neg()),[{a:pe,b:rr},{a:cr,b:ar}]};ShortCurve$3.prototype._endoSplit=function(ee){var re=this.endo.basis,ne=re[0],ie=re[1],oe=ie.b.mul(ee).divRound(this.n),se=ne.b.neg().mul(ee).divRound(this.n),ae=oe.mul(ne.a),fe=se.mul(ie.a),ue=oe.mul(ne.b),le=se.mul(ie.b),pe=ee.sub(ae).sub(fe),rr=ue.add(le).neg();return{k1:pe,k2:rr}};ShortCurve$3.prototype.pointFromX=function(ee,re){ee=new _BN(ee,16),ee.red||(ee=ee.toRed(this.red));var ne=ee.redSqr().redMul(ee).redIAdd(ee.redMul(this.a)).redIAdd(this.b),ie=ne.redSqrt();if(ie.redSqr().redSub(ne).cmp(this.zero)!==0)throw new Error("invalid point");var oe=ie.fromRed().isOdd();return(re&&!oe||!re&&oe)&&(ie=ie.redNeg()),this.point(ee,ie)};ShortCurve$3.prototype.validate=function(ee){if(ee.inf)return!0;var re=ee.x,ne=ee.y,ie=this.a.redMul(re),oe=re.redSqr().redMul(re).redIAdd(ie).redIAdd(this.b);return ne.redSqr().redISub(oe).cmpn(0)===0};ShortCurve$3.prototype._endoWnafMulAdd=function(ee,re,ne){for(var ie=this._endoWnafT1,oe=this._endoWnafT2,se=0;se<ee.length;se++){var ae=this._endoSplit(re[se]),fe=ee[se],ue=fe._getBeta();ae.k1.negative&&(ae.k1.ineg(),fe=fe.neg(!0)),ae.k2.negative&&(ae.k2.ineg(),ue=ue.neg(!0)),ie[se*2]=fe,ie[se*2+1]=ue,oe[se*2]=ae.k1,oe[se*2+1]=ae.k2}for(var le=this._wnafMulAdd(1,ie,oe,se*2,ne),pe=0;pe<se*2;pe++)ie[pe]=null,oe[pe]=null;return le};function Point$5(te,ee,re,ne){base$4.BasePoint.call(this,te,"affine"),ee===null&&re===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new _BN(ee,16),this.y=new _BN(re,16),ne&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits_browser$3(Point$5,base$4.BasePoint);ShortCurve$3.prototype.point=function(ee,re,ne){return new Point$5(this,ee,re,ne)};ShortCurve$3.prototype.pointFromJSON=function(ee,re){return Point$5.fromJSON(this,ee,re)};Point$5.prototype._getBeta=function(){if(!!this.curve.endo){var ee=this.precomputed;if(ee&&ee.beta)return ee.beta;var re=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(ee){var ne=this.curve,ie=function(oe){return ne.point(oe.x.redMul(ne.endo.beta),oe.y)};ee.beta=re,re.precomputed={beta:null,naf:ee.naf&&{wnd:ee.naf.wnd,points:ee.naf.points.map(ie)},doubles:ee.doubles&&{step:ee.doubles.step,points:ee.doubles.points.map(ie)}}}return re}};Point$5.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point$5.fromJSON=function(ee,re,ne){typeof re=="string"&&(re=JSON.parse(re));var ie=ee.point(re[0],re[1],ne);if(!re[2])return ie;function oe(ae){return ee.point(ae[0],ae[1],ne)}var se=re[2];return ie.precomputed={beta:null,doubles:se.doubles&&{step:se.doubles.step,points:[ie].concat(se.doubles.points.map(oe))},naf:se.naf&&{wnd:se.naf.wnd,points:[ie].concat(se.naf.points.map(oe))}},ie};Point$5.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point$5.prototype.isInfinity=function(){return this.inf};Point$5.prototype.add=function(ee){if(this.inf)return ee;if(ee.inf)return this;if(this.eq(ee))return this.dbl();if(this.neg().eq(ee))return this.curve.point(null,null);if(this.x.cmp(ee.x)===0)return this.curve.point(null,null);var re=this.y.redSub(ee.y);re.cmpn(0)!==0&&(re=re.redMul(this.x.redSub(ee.x).redInvm()));var ne=re.redSqr().redISub(this.x).redISub(ee.x),ie=re.redMul(this.x.redSub(ne)).redISub(this.y);return this.curve.point(ne,ie)};Point$5.prototype.dbl=function(){if(this.inf)return this;var ee=this.y.redAdd(this.y);if(ee.cmpn(0)===0)return this.curve.point(null,null);var re=this.curve.a,ne=this.x.redSqr(),ie=ee.redInvm(),oe=ne.redAdd(ne).redIAdd(ne).redIAdd(re).redMul(ie),se=oe.redSqr().redISub(this.x.redAdd(this.x)),ae=oe.redMul(this.x.redSub(se)).redISub(this.y);return this.curve.point(se,ae)};Point$5.prototype.getX=function(){return this.x.fromRed()};Point$5.prototype.getY=function(){return this.y.fromRed()};Point$5.prototype.mul=function(ee){return ee=new _BN(ee,16),this.isInfinity()?this:this._hasDoubles(ee)?this.curve._fixedNafMul(this,ee):this.curve.endo?this.curve._endoWnafMulAdd([this],[ee]):this.curve._wnafMul(this,ee)};Point$5.prototype.mulAdd=function(ee,re,ne){var ie=[this,re],oe=[ee,ne];return this.curve.endo?this.curve._endoWnafMulAdd(ie,oe):this.curve._wnafMulAdd(1,ie,oe,2)};Point$5.prototype.jmulAdd=function(ee,re,ne){var ie=[this,re],oe=[ee,ne];return this.curve.endo?this.curve._endoWnafMulAdd(ie,oe,!0):this.curve._wnafMulAdd(1,ie,oe,2,!0)};Point$5.prototype.eq=function(ee){return this===ee||this.inf===ee.inf&&(this.inf||this.x.cmp(ee.x)===0&&this.y.cmp(ee.y)===0)};Point$5.prototype.neg=function(ee){if(this.inf)return this;var re=this.curve.point(this.x,this.y.redNeg());if(ee&&this.precomputed){var ne=this.precomputed,ie=function(oe){return oe.neg()};re.precomputed={naf:ne.naf&&{wnd:ne.naf.wnd,points:ne.naf.points.map(ie)},doubles:ne.doubles&&{step:ne.doubles.step,points:ne.doubles.points.map(ie)}}}return re};Point$5.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var ee=this.curve.jpoint(this.x,this.y,this.curve.one);return ee};function JPoint$3(te,ee,re,ne){base$4.BasePoint.call(this,te,"jacobian"),ee===null&&re===null&&ne===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new _BN(0)):(this.x=new _BN(ee,16),this.y=new _BN(re,16),this.z=new _BN(ne,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits_browser$3(JPoint$3,base$4.BasePoint);ShortCurve$3.prototype.jpoint=function(ee,re,ne){return new JPoint$3(this,ee,re,ne)};JPoint$3.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var ee=this.z.redInvm(),re=ee.redSqr(),ne=this.x.redMul(re),ie=this.y.redMul(re).redMul(ee);return this.curve.point(ne,ie)};JPoint$3.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint$3.prototype.add=function(ee){if(this.isInfinity())return ee;if(ee.isInfinity())return this;var re=ee.z.redSqr(),ne=this.z.redSqr(),ie=this.x.redMul(re),oe=ee.x.redMul(ne),se=this.y.redMul(re.redMul(ee.z)),ae=ee.y.redMul(ne.redMul(this.z)),fe=ie.redSub(oe),ue=se.redSub(ae);if(fe.cmpn(0)===0)return ue.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var le=fe.redSqr(),pe=le.redMul(fe),rr=ie.redMul(le),cr=ue.redSqr().redIAdd(pe).redISub(rr).redISub(rr),ar=ue.redMul(rr.redISub(cr)).redISub(se.redMul(pe)),mr=this.z.redMul(ee.z).redMul(fe);return this.curve.jpoint(cr,ar,mr)};JPoint$3.prototype.mixedAdd=function(ee){if(this.isInfinity())return ee.toJ();if(ee.isInfinity())return this;var re=this.z.redSqr(),ne=this.x,ie=ee.x.redMul(re),oe=this.y,se=ee.y.redMul(re).redMul(this.z),ae=ne.redSub(ie),fe=oe.redSub(se);if(ae.cmpn(0)===0)return fe.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ue=ae.redSqr(),le=ue.redMul(ae),pe=ne.redMul(ue),rr=fe.redSqr().redIAdd(le).redISub(pe).redISub(pe),cr=fe.redMul(pe.redISub(rr)).redISub(oe.redMul(le)),ar=this.z.redMul(ae);return this.curve.jpoint(rr,cr,ar)};JPoint$3.prototype.dblp=function(ee){if(ee===0)return this;if(this.isInfinity())return this;if(!ee)return this.dbl();var re;if(this.curve.zeroA||this.curve.threeA){var ne=this;for(re=0;re<ee;re++)ne=ne.dbl();return ne}var ie=this.curve.a,oe=this.curve.tinv,se=this.x,ae=this.y,fe=this.z,ue=fe.redSqr().redSqr(),le=ae.redAdd(ae);for(re=0;re<ee;re++){var pe=se.redSqr(),rr=le.redSqr(),cr=rr.redSqr(),ar=pe.redAdd(pe).redIAdd(pe).redIAdd(ie.redMul(ue)),mr=se.redMul(rr),pr=ar.redSqr().redISub(mr.redAdd(mr)),yr=mr.redISub(pr),vr=ar.redMul(yr);vr=vr.redIAdd(vr).redISub(cr);var Er=le.redMul(fe);re+1<ee&&(ue=ue.redMul(cr)),se=pr,fe=Er,le=vr}return this.curve.jpoint(se,le.redMul(oe),fe)};JPoint$3.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint$3.prototype._zeroDbl=function(){var ee,re,ne;if(this.zOne){var ie=this.x.redSqr(),oe=this.y.redSqr(),se=oe.redSqr(),ae=this.x.redAdd(oe).redSqr().redISub(ie).redISub(se);ae=ae.redIAdd(ae);var fe=ie.redAdd(ie).redIAdd(ie),ue=fe.redSqr().redISub(ae).redISub(ae),le=se.redIAdd(se);le=le.redIAdd(le),le=le.redIAdd(le),ee=ue,re=fe.redMul(ae.redISub(ue)).redISub(le),ne=this.y.redAdd(this.y)}else{var pe=this.x.redSqr(),rr=this.y.redSqr(),cr=rr.redSqr(),ar=this.x.redAdd(rr).redSqr().redISub(pe).redISub(cr);ar=ar.redIAdd(ar);var mr=pe.redAdd(pe).redIAdd(pe),pr=mr.redSqr(),yr=cr.redIAdd(cr);yr=yr.redIAdd(yr),yr=yr.redIAdd(yr),ee=pr.redISub(ar).redISub(ar),re=mr.redMul(ar.redISub(ee)).redISub(yr),ne=this.y.redMul(this.z),ne=ne.redIAdd(ne)}return this.curve.jpoint(ee,re,ne)};JPoint$3.prototype._threeDbl=function(){var ee,re,ne;if(this.zOne){var ie=this.x.redSqr(),oe=this.y.redSqr(),se=oe.redSqr(),ae=this.x.redAdd(oe).redSqr().redISub(ie).redISub(se);ae=ae.redIAdd(ae);var fe=ie.redAdd(ie).redIAdd(ie).redIAdd(this.curve.a),ue=fe.redSqr().redISub(ae).redISub(ae);ee=ue;var le=se.redIAdd(se);le=le.redIAdd(le),le=le.redIAdd(le),re=fe.redMul(ae.redISub(ue)).redISub(le),ne=this.y.redAdd(this.y)}else{var pe=this.z.redSqr(),rr=this.y.redSqr(),cr=this.x.redMul(rr),ar=this.x.redSub(pe).redMul(this.x.redAdd(pe));ar=ar.redAdd(ar).redIAdd(ar);var mr=cr.redIAdd(cr);mr=mr.redIAdd(mr);var pr=mr.redAdd(mr);ee=ar.redSqr().redISub(pr),ne=this.y.redAdd(this.z).redSqr().redISub(rr).redISub(pe);var yr=rr.redSqr();yr=yr.redIAdd(yr),yr=yr.redIAdd(yr),yr=yr.redIAdd(yr),re=ar.redMul(mr.redISub(ee)).redISub(yr)}return this.curve.jpoint(ee,re,ne)};JPoint$3.prototype._dbl=function(){var ee=this.curve.a,re=this.x,ne=this.y,ie=this.z,oe=ie.redSqr().redSqr(),se=re.redSqr(),ae=ne.redSqr(),fe=se.redAdd(se).redIAdd(se).redIAdd(ee.redMul(oe)),ue=re.redAdd(re);ue=ue.redIAdd(ue);var le=ue.redMul(ae),pe=fe.redSqr().redISub(le.redAdd(le)),rr=le.redISub(pe),cr=ae.redSqr();cr=cr.redIAdd(cr),cr=cr.redIAdd(cr),cr=cr.redIAdd(cr);var ar=fe.redMul(rr).redISub(cr),mr=ne.redAdd(ne).redMul(ie);return this.curve.jpoint(pe,ar,mr)};JPoint$3.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var ee=this.x.redSqr(),re=this.y.redSqr(),ne=this.z.redSqr(),ie=re.redSqr(),oe=ee.redAdd(ee).redIAdd(ee),se=oe.redSqr(),ae=this.x.redAdd(re).redSqr().redISub(ee).redISub(ie);ae=ae.redIAdd(ae),ae=ae.redAdd(ae).redIAdd(ae),ae=ae.redISub(se);var fe=ae.redSqr(),ue=ie.redIAdd(ie);ue=ue.redIAdd(ue),ue=ue.redIAdd(ue),ue=ue.redIAdd(ue);var le=oe.redIAdd(ae).redSqr().redISub(se).redISub(fe).redISub(ue),pe=re.redMul(le);pe=pe.redIAdd(pe),pe=pe.redIAdd(pe);var rr=this.x.redMul(fe).redISub(pe);rr=rr.redIAdd(rr),rr=rr.redIAdd(rr);var cr=this.y.redMul(le.redMul(ue.redISub(le)).redISub(ae.redMul(fe)));cr=cr.redIAdd(cr),cr=cr.redIAdd(cr),cr=cr.redIAdd(cr);var ar=this.z.redAdd(ae).redSqr().redISub(ne).redISub(fe);return this.curve.jpoint(rr,cr,ar)};JPoint$3.prototype.mul=function(ee,re){return ee=new _BN(ee,re),this.curve._wnafMul(this,ee)};JPoint$3.prototype.eq=function(ee){if(ee.type==="affine")return this.eq(ee.toJ());if(this===ee)return!0;var re=this.z.redSqr(),ne=ee.z.redSqr();if(this.x.redMul(ne).redISub(ee.x.redMul(re)).cmpn(0)!==0)return!1;var ie=re.redMul(this.z),oe=ne.redMul(ee.z);return this.y.redMul(oe).redISub(ee.y.redMul(ie)).cmpn(0)===0};JPoint$3.prototype.eqXToP=function(ee){var re=this.z.redSqr(),ne=ee.toRed(this.curve.red).redMul(re);if(this.x.cmp(ne)===0)return!0;for(var ie=ee.clone(),oe=this.curve.redN.redMul(re);;){if(ie.iadd(this.curve.n),ie.cmp(this.curve.p)>=0)return!1;if(ne.redIAdd(oe),this.x.cmp(ne)===0)return!0}};JPoint$3.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint$3.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var curve_1$2=createCommonjsModule$3(function(te,ee){var re=ee;re.base=base$4,re.short=short_1$2,re.mont=null,re.edwards=null}),curves_1$2=createCommonjsModule$3(function(te,ee){var re=ee,ne=utils_1$1$3.assert;function ie(ae){ae.type==="short"?this.curve=new curve_1$2.short(ae):ae.type==="edwards"?this.curve=new curve_1$2.edwards(ae):this.curve=new curve_1$2.mont(ae),this.g=this.curve.g,this.n=this.curve.n,this.hash=ae.hash,ne(this.g.validate(),"Invalid curve"),ne(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}re.PresetCurve=ie;function oe(ae,fe){Object.defineProperty(re,ae,{configurable:!0,enumerable:!0,get:function(){var ue=new ie(fe);return Object.defineProperty(re,ae,{configurable:!0,enumerable:!0,value:ue}),ue}})}oe("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash$4.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),oe("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash$4.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),oe("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash$4.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),oe("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash$4.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),oe("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash$4.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),oe("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$4.sha256,gRed:!1,g:["9"]}),oe("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$4.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var se;try{se=null.crash()}catch{se=void 0}oe("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash$4.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",se]})});function HmacDRBG$4(te){if(!(this instanceof HmacDRBG$4))return new HmacDRBG$4(te);this.hash=te.hash,this.predResist=!!te.predResist,this.outLen=this.hash.outSize,this.minEntropy=te.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var ee=utils_1$4.toArray(te.entropy,te.entropyEnc||"hex"),re=utils_1$4.toArray(te.nonce,te.nonceEnc||"hex"),ne=utils_1$4.toArray(te.pers,te.persEnc||"hex");minimalisticAssert$2(ee.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(ee,re,ne)}var hmacDrbg$3=HmacDRBG$4;HmacDRBG$4.prototype._init=function(ee,re,ne){var ie=ee.concat(re).concat(ne);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var oe=0;oe<this.V.length;oe++)this.K[oe]=0,this.V[oe]=1;this._update(ie),this._reseed=1,this.reseedInterval=281474976710656};HmacDRBG$4.prototype._hmac=function(){return new hash$4.hmac(this.hash,this.K)};HmacDRBG$4.prototype._update=function(ee){var re=this._hmac().update(this.V).update([0]);ee&&(re=re.update(ee)),this.K=re.digest(),this.V=this._hmac().update(this.V).digest(),ee&&(this.K=this._hmac().update(this.V).update([1]).update(ee).digest(),this.V=this._hmac().update(this.V).digest())};HmacDRBG$4.prototype.reseed=function(ee,re,ne,ie){typeof re!="string"&&(ie=ne,ne=re,re=null),ee=utils_1$4.toArray(ee,re),ne=utils_1$4.toArray(ne,ie),minimalisticAssert$2(ee.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(ee.concat(ne||[])),this._reseed=1};HmacDRBG$4.prototype.generate=function(ee,re,ne,ie){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof re!="string"&&(ie=ne,ne=re,re=null),ne&&(ne=utils_1$4.toArray(ne,ie||"hex"),this._update(ne));for(var oe=[];oe.length<ee;)this.V=this._hmac().update(this.V).digest(),oe=oe.concat(this.V);var se=oe.slice(0,ee);return this._update(ne),this._reseed++,utils_1$4.encode(se,re)};var assert$3$3=utils_1$1$3.assert;function KeyPair$6(te,ee){this.ec=te,this.priv=null,this.pub=null,ee.priv&&this._importPrivate(ee.priv,ee.privEnc),ee.pub&&this._importPublic(ee.pub,ee.pubEnc)}var key$4=KeyPair$6;KeyPair$6.fromPublic=function(ee,re,ne){return re instanceof KeyPair$6?re:new KeyPair$6(ee,{pub:re,pubEnc:ne})};KeyPair$6.fromPrivate=function(ee,re,ne){return re instanceof KeyPair$6?re:new KeyPair$6(ee,{priv:re,privEnc:ne})};KeyPair$6.prototype.validate=function(){var ee=this.getPublic();return ee.isInfinity()?{result:!1,reason:"Invalid public key"}:ee.validate()?ee.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};KeyPair$6.prototype.getPublic=function(ee,re){return typeof ee=="string"&&(re=ee,ee=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),re?this.pub.encode(re,ee):this.pub};KeyPair$6.prototype.getPrivate=function(ee){return ee==="hex"?this.priv.toString(16,2):this.priv};KeyPair$6.prototype._importPrivate=function(ee,re){this.priv=new _BN(ee,re||16),this.priv=this.priv.umod(this.ec.curve.n)};KeyPair$6.prototype._importPublic=function(ee,re){if(ee.x||ee.y){this.ec.curve.type==="mont"?assert$3$3(ee.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$3$3(ee.x&&ee.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(ee.x,ee.y);return}this.pub=this.ec.curve.decodePoint(ee,re)};KeyPair$6.prototype.derive=function(ee){return ee.validate()||assert$3$3(ee.validate(),"public point not validated"),ee.mul(this.priv).getX()};KeyPair$6.prototype.sign=function(ee,re,ne){return this.ec.sign(ee,this,re,ne)};KeyPair$6.prototype.verify=function(ee,re){return this.ec.verify(ee,re,this)};KeyPair$6.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var assert$4$3=utils_1$1$3.assert;function Signature$6(te,ee){if(te instanceof Signature$6)return te;this._importDER(te,ee)||(assert$4$3(te.r&&te.s,"Signature without r or s"),this.r=new _BN(te.r,16),this.s=new _BN(te.s,16),te.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=te.recoveryParam)}var signature$5=Signature$6;function Position$3(){this.place=0}function getLength$4(te,ee){var re=te[ee.place++];if(!(re&128))return re;var ne=re&15;if(ne===0||ne>4)return!1;for(var ie=0,oe=0,se=ee.place;oe<ne;oe++,se++)ie<<=8,ie|=te[se],ie>>>=0;return ie<=127?!1:(ee.place=se,ie)}function rmPadding$3(te){for(var ee=0,re=te.length-1;!te[ee]&&!(te[ee+1]&128)&&ee<re;)ee++;return ee===0?te:te.slice(ee)}Signature$6.prototype._importDER=function(ee,re){ee=utils_1$1$3.toArray(ee,re);var ne=new Position$3;if(ee[ne.place++]!==48)return!1;var ie=getLength$4(ee,ne);if(ie===!1||ie+ne.place!==ee.length||ee[ne.place++]!==2)return!1;var oe=getLength$4(ee,ne);if(oe===!1)return!1;var se=ee.slice(ne.place,oe+ne.place);if(ne.place+=oe,ee[ne.place++]!==2)return!1;var ae=getLength$4(ee,ne);if(ae===!1||ee.length!==ae+ne.place)return!1;var fe=ee.slice(ne.place,ae+ne.place);if(se[0]===0)if(se[1]&128)se=se.slice(1);else return!1;if(fe[0]===0)if(fe[1]&128)fe=fe.slice(1);else return!1;return this.r=new _BN(se),this.s=new _BN(fe),this.recoveryParam=null,!0};function constructLength$3(te,ee){if(ee<128){te.push(ee);return}var re=1+(Math.log(ee)/Math.LN2>>>3);for(te.push(re|128);--re;)te.push(ee>>>(re<<3)&255);te.push(ee)}Signature$6.prototype.toDER=function(ee){var re=this.r.toArray(),ne=this.s.toArray();for(re[0]&128&&(re=[0].concat(re)),ne[0]&128&&(ne=[0].concat(ne)),re=rmPadding$3(re),ne=rmPadding$3(ne);!ne[0]&&!(ne[1]&128);)ne=ne.slice(1);var ie=[2];constructLength$3(ie,re.length),ie=ie.concat(re),ie.push(2),constructLength$3(ie,ne.length);var oe=ie.concat(ne),se=[48];return constructLength$3(se,oe.length),se=se.concat(oe),utils_1$1$3.encode(se,ee)};var rand$3=function(){throw new Error("unsupported")},assert$5$3=utils_1$1$3.assert;function EC$6(te){if(!(this instanceof EC$6))return new EC$6(te);typeof te=="string"&&(assert$5$3(Object.prototype.hasOwnProperty.call(curves_1$2,te),"Unknown curve "+te),te=curves_1$2[te]),te instanceof curves_1$2.PresetCurve&&(te={curve:te}),this.curve=te.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=te.curve.g,this.g.precompute(te.curve.n.bitLength()+1),this.hash=te.hash||te.curve.hash}var ec$6=EC$6;EC$6.prototype.keyPair=function(ee){return new key$4(this,ee)};EC$6.prototype.keyFromPrivate=function(ee,re){return key$4.fromPrivate(this,ee,re)};EC$6.prototype.keyFromPublic=function(ee,re){return key$4.fromPublic(this,ee,re)};EC$6.prototype.genKeyPair=function(ee){ee||(ee={});for(var re=new hmacDrbg$3({hash:this.hash,pers:ee.pers,persEnc:ee.persEnc||"utf8",entropy:ee.entropy||rand$3(this.hash.hmacStrength),entropyEnc:ee.entropy&&ee.entropyEnc||"utf8",nonce:this.n.toArray()}),ne=this.n.byteLength(),ie=this.n.sub(new _BN(2));;){var oe=new _BN(re.generate(ne));if(!(oe.cmp(ie)>0))return oe.iaddn(1),this.keyFromPrivate(oe)}};EC$6.prototype._truncateToN=function(ee,re){var ne=ee.byteLength()*8-this.n.bitLength();return ne>0&&(ee=ee.ushrn(ne)),!re&&ee.cmp(this.n)>=0?ee.sub(this.n):ee};EC$6.prototype.sign=function(ee,re,ne,ie){typeof ne=="object"&&(ie=ne,ne=null),ie||(ie={}),re=this.keyFromPrivate(re,ne),ee=this._truncateToN(new _BN(ee,16));for(var oe=this.n.byteLength(),se=re.getPrivate().toArray("be",oe),ae=ee.toArray("be",oe),fe=new hmacDrbg$3({hash:this.hash,entropy:se,nonce:ae,pers:ie.pers,persEnc:ie.persEnc||"utf8"}),ue=this.n.sub(new _BN(1)),le=0;;le++){var pe=ie.k?ie.k(le):new _BN(fe.generate(this.n.byteLength()));if(pe=this._truncateToN(pe,!0),!(pe.cmpn(1)<=0||pe.cmp(ue)>=0)){var rr=this.g.mul(pe);if(!rr.isInfinity()){var cr=rr.getX(),ar=cr.umod(this.n);if(ar.cmpn(0)!==0){var mr=pe.invm(this.n).mul(ar.mul(re.getPrivate()).iadd(ee));if(mr=mr.umod(this.n),mr.cmpn(0)!==0){var pr=(rr.getY().isOdd()?1:0)|(cr.cmp(ar)!==0?2:0);return ie.canonical&&mr.cmp(this.nh)>0&&(mr=this.n.sub(mr),pr^=1),new signature$5({r:ar,s:mr,recoveryParam:pr})}}}}}};EC$6.prototype.verify=function(ee,re,ne,ie){ee=this._truncateToN(new _BN(ee,16)),ne=this.keyFromPublic(ne,ie),re=new signature$5(re,"hex");var oe=re.r,se=re.s;if(oe.cmpn(1)<0||oe.cmp(this.n)>=0||se.cmpn(1)<0||se.cmp(this.n)>=0)return!1;var ae=se.invm(this.n),fe=ae.mul(ee).umod(this.n),ue=ae.mul(oe).umod(this.n),le;return this.curve._maxwellTrick?(le=this.g.jmulAdd(fe,ne.getPublic(),ue),le.isInfinity()?!1:le.eqXToP(oe)):(le=this.g.mulAdd(fe,ne.getPublic(),ue),le.isInfinity()?!1:le.getX().umod(this.n).cmp(oe)===0)};EC$6.prototype.recoverPubKey=function(te,ee,re,ne){assert$5$3((3&re)===re,"The recovery param is more than two bits"),ee=new signature$5(ee,ne);var ie=this.n,oe=new _BN(te),se=ee.r,ae=ee.s,fe=re&1,ue=re>>1;if(se.cmp(this.curve.p.umod(this.curve.n))>=0&&ue)throw new Error("Unable to find sencond key candinate");ue?se=this.curve.pointFromX(se.add(this.curve.n),fe):se=this.curve.pointFromX(se,fe);var le=ee.r.invm(ie),pe=ie.sub(oe).mul(le).umod(ie),rr=ae.mul(le).umod(ie);return this.g.mulAdd(pe,se,rr)};EC$6.prototype.getKeyRecoveryParam=function(te,ee,re,ne){if(ee=new signature$5(ee,ne),ee.recoveryParam!==null)return ee.recoveryParam;for(var ie=0;ie<4;ie++){var oe;try{oe=this.recoverPubKey(te,ee,ie)}catch{continue}if(oe.eq(re))return ie}throw new Error("Unable to find valid recovery factor")};var elliptic_1$2=createCommonjsModule$3(function(te,ee){var re=ee;re.version="6.5.4",re.utils=utils_1$1$3,re.rand=function(){throw new Error("unsupported")},re.curve=curve_1$2,re.curves=curves_1$2,re.ec=ec$6,re.eddsa=null}),EC$1$3=elliptic_1$2.ec;const version$P="signing-key/5.6.0",logger$E=new Logger$g(version$P);let _curve$2=null;function getCurve$2(){return _curve$2||(_curve$2=new EC$1$3("secp256k1")),_curve$2}class SigningKey$2{constructor(ee){defineReadOnly$6(this,"curve","secp256k1"),defineReadOnly$6(this,"privateKey",hexlify$9(ee));const re=getCurve$2().keyFromPrivate(arrayify$e(this.privateKey));defineReadOnly$6(this,"publicKey","0x"+re.getPublic(!1,"hex")),defineReadOnly$6(this,"compressedPublicKey","0x"+re.getPublic(!0,"hex")),defineReadOnly$6(this,"_isSigningKey",!0)}_addPoint(ee){const re=getCurve$2().keyFromPublic(arrayify$e(this.publicKey)),ne=getCurve$2().keyFromPublic(arrayify$e(ee));return"0x"+re.pub.add(ne.pub).encodeCompressed("hex")}signDigest(ee){const re=getCurve$2().keyFromPrivate(arrayify$e(this.privateKey)),ne=arrayify$e(ee);ne.length!==32&&logger$E.throwArgumentError("bad digest length","digest",ee);const ie=re.sign(ne,{canonical:!0});return splitSignature$4({recoveryParam:ie.recoveryParam,r:hexZeroPad$5("0x"+ie.r.toString(16),32),s:hexZeroPad$5("0x"+ie.s.toString(16),32)})}computeSharedSecret(ee){const re=getCurve$2().keyFromPrivate(arrayify$e(this.privateKey)),ne=getCurve$2().keyFromPublic(arrayify$e(computePublicKey$2(ee)));return hexZeroPad$5("0x"+re.derive(ne.getPublic()).toString(16),32)}static isSigningKey(ee){return!!(ee&&ee._isSigningKey)}}function recoverPublicKey$3(te,ee){const re=splitSignature$4(ee),ne={r:arrayify$e(re.r),s:arrayify$e(re.s)};return"0x"+getCurve$2().recoverPubKey(arrayify$e(te),ne,re.recoveryParam).encode("hex",!1)}function computePublicKey$2(te,ee){const re=arrayify$e(te);if(re.length===32){const ne=new SigningKey$2(re);return ee?"0x"+getCurve$2().keyFromPrivate(re).getPublic(!0,"hex"):ne.publicKey}else{if(re.length===33)return ee?hexlify$9(re):"0x"+getCurve$2().keyFromPublic(re).getPublic(!1,"hex");if(re.length===65)return ee?"0x"+getCurve$2().keyFromPublic(re).getPublic(!0,"hex"):hexlify$9(re)}return logger$E.throwArgumentError("invalid public or private key","key","[REDACTED]")}const version$O="transactions/5.6.0",logger$D=new Logger$g(version$O);var TransactionTypes$1;(function(te){te[te.legacy=0]="legacy",te[te.eip2930=1]="eip2930",te[te.eip1559=2]="eip1559"})(TransactionTypes$1||(TransactionTypes$1={}));function handleAddress$1(te){return te==="0x"?null:getAddress$4(te)}function handleNumber$1(te){return te==="0x"?Zero$3:BigNumber$4.from(te)}const transactionFields$1=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],allowedTransactionKeys$3={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function computeAddress$1(te){const ee=computePublicKey$2(te);return getAddress$4(hexDataSlice$4(keccak256$6(hexDataSlice$4(ee,1)),12))}function recoverAddress$1(te,ee){return computeAddress$1(recoverPublicKey$3(arrayify$e(te),ee))}function formatNumber$1(te,ee){const re=stripZeros$3(BigNumber$4.from(te).toHexString());return re.length>32&&logger$D.throwArgumentError("invalid length for "+ee,"transaction:"+ee,te),re}function accessSetify$1(te,ee){return{address:getAddress$4(te),storageKeys:(ee||[]).map((re,ne)=>(hexDataLength$3(re)!==32&&logger$D.throwArgumentError("invalid access list storageKey",`accessList[${te}:${ne}]`,re),re.toLowerCase()))}}function accessListify$1(te){if(Array.isArray(te))return te.map((re,ne)=>Array.isArray(re)?(re.length>2&&logger$D.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${ne}]`,re),accessSetify$1(re[0],re[1])):accessSetify$1(re.address,re.storageKeys));const ee=Object.keys(te).map(re=>{const ne=te[re].reduce((ie,oe)=>(ie[oe]=!0,ie),{});return accessSetify$1(re,Object.keys(ne).sort())});return ee.sort((re,ne)=>re.address.localeCompare(ne.address)),ee}function formatAccessList$1(te){return accessListify$1(te).map(ee=>[ee.address,ee.storageKeys])}function _serializeEip1559$1(te,ee){if(te.gasPrice!=null){const ne=BigNumber$4.from(te.gasPrice),ie=BigNumber$4.from(te.maxFeePerGas||0);ne.eq(ie)||logger$D.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:ne,maxFeePerGas:ie})}const re=[formatNumber$1(te.chainId||0,"chainId"),formatNumber$1(te.nonce||0,"nonce"),formatNumber$1(te.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber$1(te.maxFeePerGas||0,"maxFeePerGas"),formatNumber$1(te.gasLimit||0,"gasLimit"),te.to!=null?getAddress$4(te.to):"0x",formatNumber$1(te.value||0,"value"),te.data||"0x",formatAccessList$1(te.accessList||[])];if(ee){const ne=splitSignature$4(ee);re.push(formatNumber$1(ne.recoveryParam,"recoveryParam")),re.push(stripZeros$3(ne.r)),re.push(stripZeros$3(ne.s))}return hexConcat$3(["0x02",encode$9(re)])}function _serializeEip2930$1(te,ee){const re=[formatNumber$1(te.chainId||0,"chainId"),formatNumber$1(te.nonce||0,"nonce"),formatNumber$1(te.gasPrice||0,"gasPrice"),formatNumber$1(te.gasLimit||0,"gasLimit"),te.to!=null?getAddress$4(te.to):"0x",formatNumber$1(te.value||0,"value"),te.data||"0x",formatAccessList$1(te.accessList||[])];if(ee){const ne=splitSignature$4(ee);re.push(formatNumber$1(ne.recoveryParam,"recoveryParam")),re.push(stripZeros$3(ne.r)),re.push(stripZeros$3(ne.s))}return hexConcat$3(["0x01",encode$9(re)])}function _serialize$1(te,ee){checkProperties$2(te,allowedTransactionKeys$3);const re=[];transactionFields$1.forEach(function(se){let ae=te[se.name]||[];const fe={};se.numeric&&(fe.hexPad="left"),ae=arrayify$e(hexlify$9(ae,fe)),se.length&&ae.length!==se.length&&ae.length>0&&logger$D.throwArgumentError("invalid length for "+se.name,"transaction:"+se.name,ae),se.maxLength&&(ae=stripZeros$3(ae),ae.length>se.maxLength&&logger$D.throwArgumentError("invalid length for "+se.name,"transaction:"+se.name,ae)),re.push(hexlify$9(ae))});let ne=0;if(te.chainId!=null?(ne=te.chainId,typeof ne!="number"&&logger$D.throwArgumentError("invalid transaction.chainId","transaction",te)):ee&&!isBytesLike$7(ee)&&ee.v>28&&(ne=Math.floor((ee.v-35)/2)),ne!==0&&(re.push(hexlify$9(ne)),re.push("0x"),re.push("0x")),!ee)return encode$9(re);const ie=splitSignature$4(ee);let oe=27+ie.recoveryParam;return ne!==0?(re.pop(),re.pop(),re.pop(),oe+=ne*2+8,ie.v>28&&ie.v!==oe&&logger$D.throwArgumentError("transaction.chainId/signature.v mismatch","signature",ee)):ie.v!==oe&&logger$D.throwArgumentError("transaction.chainId/signature.v mismatch","signature",ee),re.push(hexlify$9(oe)),re.push(stripZeros$3(arrayify$e(ie.r))),re.push(stripZeros$3(arrayify$e(ie.s))),encode$9(re)}function serialize$1(te,ee){if(te.type==null||te.type===0)return te.accessList!=null&&logger$D.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",te),_serialize$1(te,ee);switch(te.type){case 1:return _serializeEip2930$1(te,ee);case 2:return _serializeEip1559$1(te,ee)}return logger$D.throwError(`unsupported transaction type: ${te.type}`,Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:te.type})}function _parseEipSignature$1(te,ee,re){try{const ne=handleNumber$1(ee[0]).toNumber();if(ne!==0&&ne!==1)throw new Error("bad recid");te.v=ne}catch{logger$D.throwArgumentError("invalid v for transaction type: 1","v",ee[0])}te.r=hexZeroPad$5(ee[1],32),te.s=hexZeroPad$5(ee[2],32);try{const ne=keccak256$6(re(te));te.from=recoverAddress$1(ne,{r:te.r,s:te.s,recoveryParam:te.v})}catch(ne){console.log(ne)}}function _parseEip1559$1(te){const ee=decode$a(te.slice(1));ee.length!==9&&ee.length!==12&&logger$D.throwArgumentError("invalid component count for transaction type: 2","payload",hexlify$9(te));const re=handleNumber$1(ee[2]),ne=handleNumber$1(ee[3]),ie={type:2,chainId:handleNumber$1(ee[0]).toNumber(),nonce:handleNumber$1(ee[1]).toNumber(),maxPriorityFeePerGas:re,maxFeePerGas:ne,gasPrice:null,gasLimit:handleNumber$1(ee[4]),to:handleAddress$1(ee[5]),value:handleNumber$1(ee[6]),data:ee[7],accessList:accessListify$1(ee[8])};return ee.length===9||(ie.hash=keccak256$6(te),_parseEipSignature$1(ie,ee.slice(9),_serializeEip1559$1)),ie}function _parseEip2930$1(te){const ee=decode$a(te.slice(1));ee.length!==8&&ee.length!==11&&logger$D.throwArgumentError("invalid component count for transaction type: 1","payload",hexlify$9(te));const re={type:1,chainId:handleNumber$1(ee[0]).toNumber(),nonce:handleNumber$1(ee[1]).toNumber(),gasPrice:handleNumber$1(ee[2]),gasLimit:handleNumber$1(ee[3]),to:handleAddress$1(ee[4]),value:handleNumber$1(ee[5]),data:ee[6],accessList:accessListify$1(ee[7])};return ee.length===8||(re.hash=keccak256$6(te),_parseEipSignature$1(re,ee.slice(8),_serializeEip2930$1)),re}function _parse$1(te){const ee=decode$a(te);ee.length!==9&&ee.length!==6&&logger$D.throwArgumentError("invalid raw transaction","rawTransaction",te);const re={nonce:handleNumber$1(ee[0]).toNumber(),gasPrice:handleNumber$1(ee[1]),gasLimit:handleNumber$1(ee[2]),to:handleAddress$1(ee[3]),value:handleNumber$1(ee[4]),data:ee[5],chainId:0};if(ee.length===6)return re;try{re.v=BigNumber$4.from(ee[6]).toNumber()}catch(ne){return console.log(ne),re}if(re.r=hexZeroPad$5(ee[7],32),re.s=hexZeroPad$5(ee[8],32),BigNumber$4.from(re.r).isZero()&&BigNumber$4.from(re.s).isZero())re.chainId=re.v,re.v=0;else{re.chainId=Math.floor((re.v-35)/2),re.chainId<0&&(re.chainId=0);let ne=re.v-27;const ie=ee.slice(0,6);re.chainId!==0&&(ie.push(hexlify$9(re.chainId)),ie.push("0x"),ie.push("0x"),ne-=re.chainId*2+8);const oe=keccak256$6(encode$9(ie));try{re.from=recoverAddress$1(oe,{r:hexlify$9(re.r),s:hexlify$9(re.s),recoveryParam:ne})}catch(se){console.log(se)}re.hash=keccak256$6(te)}return re.type=null,re}function parse$3(te){const ee=arrayify$e(te);if(ee[0]>127)return _parse$1(ee);switch(ee[0]){case 1:return _parseEip2930$1(ee);case 2:return _parseEip1559$1(ee)}return logger$D.throwError(`unsupported transaction type: ${ee[0]}`,Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:ee[0]})}const version$N="wordlists/5.6.0",logger$C=new Logger$g(version$N);class Wordlist{constructor(ee){logger$C.checkAbstract(new.target,Wordlist),defineReadOnly$6(this,"locale",ee)}split(ee){return ee.toLowerCase().split(/ +/g)}join(ee){return ee.join(" ")}static check(ee){const re=[];for(let ne=0;ne<2048;ne++){const ie=ee.getWord(ne);if(ne!==ee.getWordIndex(ie))return"0x";re.push(ie)}return id$2(re.join(`
`)+`
`)}static register(ee,re){}}const words="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let wordlist=null;function loadWords(te){if(wordlist==null&&(wordlist=words.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Wordlist.check(te)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw wordlist=null,new Error("BIP39 Wordlist for en (English) FAILED")}class LangEn extends Wordlist{constructor(){super("en")}getWord(ee){return loadWords(this),wordlist[ee]}getWordIndex(ee){return loadWords(this),wordlist.indexOf(ee)}}const langEn=new LangEn;Wordlist.register(langEn);const wordlists={en:langEn},version$M="hdnode/5.6.0",logger$B=new Logger$g(version$M),N$3=BigNumber$4.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),MasterSecret=toUtf8Bytes$4("Bitcoin seed"),HardenedBit=2147483648;function getUpperMask(te){return(1<<te)-1<<8-te}function getLowerMask(te){return(1<<te)-1}function bytes32(te){return hexZeroPad$5(hexlify$9(te),32)}function base58check(te){return Base58.encode(concat$7([te,hexDataSlice$4(sha256$4(sha256$4(te)),0,4)]))}function getWordlist(te){if(te==null)return wordlists.en;if(typeof te=="string"){const ee=wordlists[te];return ee==null&&logger$B.throwArgumentError("unknown locale","wordlist",te),ee}return te}const _constructorGuard$2={},defaultPath="m/44'/60'/0'/0/0";class HDNode{constructor(ee,re,ne,ie,oe,se,ae,fe){if(logger$B.checkNew(new.target,HDNode),ee!==_constructorGuard$2)throw new Error("HDNode constructor cannot be called directly");if(re){const ue=new SigningKey$2(re);defineReadOnly$6(this,"privateKey",ue.privateKey),defineReadOnly$6(this,"publicKey",ue.compressedPublicKey)}else defineReadOnly$6(this,"privateKey",null),defineReadOnly$6(this,"publicKey",hexlify$9(ne));defineReadOnly$6(this,"parentFingerprint",ie),defineReadOnly$6(this,"fingerprint",hexDataSlice$4(ripemd160$2(sha256$4(this.publicKey)),0,4)),defineReadOnly$6(this,"address",computeAddress$1(this.publicKey)),defineReadOnly$6(this,"chainCode",oe),defineReadOnly$6(this,"index",se),defineReadOnly$6(this,"depth",ae),fe==null?(defineReadOnly$6(this,"mnemonic",null),defineReadOnly$6(this,"path",null)):typeof fe=="string"?(defineReadOnly$6(this,"mnemonic",null),defineReadOnly$6(this,"path",fe)):(defineReadOnly$6(this,"mnemonic",fe),defineReadOnly$6(this,"path",fe.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return base58check(concat$7([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",hexlify$9(this.depth),this.parentFingerprint,hexZeroPad$5(hexlify$9(this.index),4),this.chainCode,this.privateKey!=null?concat$7(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new HDNode(_constructorGuard$2,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(ee){if(ee>4294967295)throw new Error("invalid index - "+String(ee));let re=this.path;re&&(re+="/"+(ee&~HardenedBit));const ne=new Uint8Array(37);if(ee&HardenedBit){if(!this.privateKey)throw new Error("cannot derive child of neutered node");ne.set(arrayify$e(this.privateKey),1),re&&(re+="'")}else ne.set(arrayify$e(this.publicKey));for(let pe=24;pe>=0;pe-=8)ne[33+(pe>>3)]=ee>>24-pe&255;const ie=arrayify$e(computeHmac$1(SupportedAlgorithm$1.sha512,this.chainCode,ne)),oe=ie.slice(0,32),se=ie.slice(32);let ae=null,fe=null;this.privateKey?ae=bytes32(BigNumber$4.from(oe).add(this.privateKey).mod(N$3)):fe=new SigningKey$2(hexlify$9(oe))._addPoint(this.publicKey);let ue=re;const le=this.mnemonic;return le&&(ue=Object.freeze({phrase:le.phrase,path:re,locale:le.locale||"en"})),new HDNode(_constructorGuard$2,ae,fe,this.fingerprint,bytes32(se),ee,this.depth+1,ue)}derivePath(ee){const re=ee.split("/");if(re.length===0||re[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+ee);re[0]==="m"&&re.shift();let ne=this;for(let ie=0;ie<re.length;ie++){const oe=re[ie];if(oe.match(/^[0-9]+'$/)){const se=parseInt(oe.substring(0,oe.length-1));if(se>=HardenedBit)throw new Error("invalid path index - "+oe);ne=ne._derive(HardenedBit+se)}else if(oe.match(/^[0-9]+$/)){const se=parseInt(oe);if(se>=HardenedBit)throw new Error("invalid path index - "+oe);ne=ne._derive(se)}else throw new Error("invalid path component - "+oe)}return ne}static _fromSeed(ee,re){const ne=arrayify$e(ee);if(ne.length<16||ne.length>64)throw new Error("invalid seed");const ie=arrayify$e(computeHmac$1(SupportedAlgorithm$1.sha512,MasterSecret,ne));return new HDNode(_constructorGuard$2,bytes32(ie.slice(0,32)),null,"0x00000000",bytes32(ie.slice(32)),0,0,re)}static fromMnemonic(ee,re,ne){return ne=getWordlist(ne),ee=entropyToMnemonic(mnemonicToEntropy(ee,ne),ne),HDNode._fromSeed(mnemonicToSeed(ee,re),{phrase:ee,path:"m",locale:ne.locale})}static fromSeed(ee){return HDNode._fromSeed(ee,null)}static fromExtendedKey(ee){const re=Base58.decode(ee);(re.length!==82||base58check(re.slice(0,78))!==ee)&&logger$B.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const ne=re[4],ie=hexlify$9(re.slice(5,9)),oe=parseInt(hexlify$9(re.slice(9,13)).substring(2),16),se=hexlify$9(re.slice(13,45)),ae=re.slice(45,78);switch(hexlify$9(re.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new HDNode(_constructorGuard$2,null,hexlify$9(ae),ie,se,oe,ne,null);case"0x0488ade4":case"0x04358394 ":if(ae[0]!==0)break;return new HDNode(_constructorGuard$2,hexlify$9(ae.slice(1)),null,ie,se,oe,ne,null)}return logger$B.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function mnemonicToSeed(te,ee){ee||(ee="");const re=toUtf8Bytes$4("mnemonic"+ee,UnicodeNormalizationForm$4.NFKD);return pbkdf2$2(toUtf8Bytes$4(te,UnicodeNormalizationForm$4.NFKD),re,2048,64,"sha512")}function mnemonicToEntropy(te,ee){ee=getWordlist(ee),logger$B.checkNormalize();const re=ee.split(te);if(re.length%3!==0)throw new Error("invalid mnemonic");const ne=arrayify$e(new Uint8Array(Math.ceil(11*re.length/8)));let ie=0;for(let ue=0;ue<re.length;ue++){let le=ee.getWordIndex(re[ue].normalize("NFKD"));if(le===-1)throw new Error("invalid mnemonic");for(let pe=0;pe<11;pe++)le&1<<10-pe&&(ne[ie>>3]|=1<<7-ie%8),ie++}const oe=32*re.length/3,se=re.length/3,ae=getUpperMask(se);if((arrayify$e(sha256$4(ne.slice(0,oe/8)))[0]&ae)!==(ne[ne.length-1]&ae))throw new Error("invalid checksum");return hexlify$9(ne.slice(0,oe/8))}function entropyToMnemonic(te,ee){if(ee=getWordlist(ee),te=arrayify$e(te),te.length%4!==0||te.length<16||te.length>32)throw new Error("invalid entropy");const re=[0];let ne=11;for(let se=0;se<te.length;se++)ne>8?(re[re.length-1]<<=8,re[re.length-1]|=te[se],ne-=8):(re[re.length-1]<<=ne,re[re.length-1]|=te[se]>>8-ne,re.push(te[se]&getLowerMask(8-ne)),ne+=3);const ie=te.length/4,oe=arrayify$e(sha256$4(te))[0]&getUpperMask(ie);return re[re.length-1]<<=ie,re[re.length-1]|=oe>>8-ie,ee.join(re.map(se=>ee.getWord(se)))}const version$L="random/5.6.0",logger$A=new Logger$g(version$L);function getGlobal(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")}const anyGlobal$1=getGlobal();let crypto$5=anyGlobal$1.crypto||anyGlobal$1.msCrypto;(!crypto$5||!crypto$5.getRandomValues)&&(logger$A.warn("WARNING: Missing strong random number source"),crypto$5={getRandomValues:function(te){return logger$A.throwError("no secure random source avaialble",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function randomBytes$3(te){(te<=0||te>1024||te%1||te!=te)&&logger$A.throwArgumentError("invalid length","length",te);const ee=new Uint8Array(te);return crypto$5.getRandomValues(ee),arrayify$e(ee)}var __awaiter$c=globalThis&&globalThis.__awaiter||function(te,ee,re,ne){function ie(oe){return oe instanceof re?oe:new re(function(se){se(oe)})}return new(re||(re=Promise))(function(oe,se){function ae(le){try{ue(ne.next(le))}catch(pe){se(pe)}}function fe(le){try{ue(ne.throw(le))}catch(pe){se(pe)}}function ue(le){le.done?oe(le.value):ie(le.value).then(ae,fe)}ue((ne=ne.apply(te,ee||[])).next())})};const logger$z=new Logger$g(version$Q);function hasMnemonic$2(te){return te!=null&&te.mnemonic&&te.mnemonic.phrase}class KeystoreAccount$1 extends Description$1{isKeystoreAccount(ee){return!!(ee&&ee._isKeystoreAccount)}}function _decrypt$1(te,ee,re){if(searchPath$1(te,"crypto/cipher")==="aes-128-ctr"){const ie=looseArrayify$1(searchPath$1(te,"crypto/cipherparams/iv")),oe=new aes.Counter(ie),se=new aes.ModeOfOperation.ctr(ee,oe);return arrayify$e(se.decrypt(re))}return null}function _getAccount$1(te,ee){const re=looseArrayify$1(searchPath$1(te,"crypto/ciphertext"));if(hexlify$9(keccak256$6(concat$7([ee.slice(16,32),re]))).substring(2)!==searchPath$1(te,"crypto/mac").toLowerCase())throw new Error("invalid password");const ie=_decrypt$1(te,ee.slice(0,16),re);ie||logger$z.throwError("unsupported cipher",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const oe=ee.slice(32,64),se=computeAddress$1(ie);if(te.address){let fe=te.address.toLowerCase();if(fe.substring(0,2)!=="0x"&&(fe="0x"+fe),getAddress$4(fe)!==se)throw new Error("address mismatch")}const ae={_isKeystoreAccount:!0,address:se,privateKey:hexlify$9(ie)};if(searchPath$1(te,"x-ethers/version")==="0.1"){const fe=looseArrayify$1(searchPath$1(te,"x-ethers/mnemonicCiphertext")),ue=looseArrayify$1(searchPath$1(te,"x-ethers/mnemonicCounter")),le=new aes.Counter(ue),pe=new aes.ModeOfOperation.ctr(oe,le),rr=searchPath$1(te,"x-ethers/path")||defaultPath,cr=searchPath$1(te,"x-ethers/locale")||"en",ar=arrayify$e(pe.decrypt(fe));try{const mr=entropyToMnemonic(ar,cr),pr=HDNode.fromMnemonic(mr,null,cr).derivePath(rr);if(pr.privateKey!=ae.privateKey)throw new Error("mnemonic mismatch");ae.mnemonic=pr.mnemonic}catch(mr){if(mr.code!==Logger$g.errors.INVALID_ARGUMENT||mr.argument!=="wordlist")throw mr}}return new KeystoreAccount$1(ae)}function pbkdf2Sync$1(te,ee,re,ne,ie){return arrayify$e(pbkdf2$2(te,ee,re,ne,ie))}function pbkdf2$1(te,ee,re,ne,ie){return Promise.resolve(pbkdf2Sync$1(te,ee,re,ne,ie))}function _computeKdfKey$1(te,ee,re,ne,ie){const oe=getPassword$1(ee),se=searchPath$1(te,"crypto/kdf");if(se&&typeof se=="string"){const ae=function(fe,ue){return logger$z.throwArgumentError("invalid key-derivation function parameters",fe,ue)};if(se.toLowerCase()==="scrypt"){const fe=looseArrayify$1(searchPath$1(te,"crypto/kdfparams/salt")),ue=parseInt(searchPath$1(te,"crypto/kdfparams/n")),le=parseInt(searchPath$1(te,"crypto/kdfparams/r")),pe=parseInt(searchPath$1(te,"crypto/kdfparams/p"));(!ue||!le||!pe)&&ae("kdf",se),(ue&ue-1)!==0&&ae("N",ue);const rr=parseInt(searchPath$1(te,"crypto/kdfparams/dklen"));return rr!==32&&ae("dklen",rr),ne(oe,fe,ue,le,pe,64,ie)}else if(se.toLowerCase()==="pbkdf2"){const fe=looseArrayify$1(searchPath$1(te,"crypto/kdfparams/salt"));let ue=null;const le=searchPath$1(te,"crypto/kdfparams/prf");le==="hmac-sha256"?ue="sha256":le==="hmac-sha512"?ue="sha512":ae("prf",le);const pe=parseInt(searchPath$1(te,"crypto/kdfparams/c")),rr=parseInt(searchPath$1(te,"crypto/kdfparams/dklen"));return rr!==32&&ae("dklen",rr),re(oe,fe,pe,rr,ue)}}return logger$z.throwArgumentError("unsupported key-derivation function","kdf",se)}function decryptSync$1(te,ee){const re=JSON.parse(te),ne=_computeKdfKey$1(re,ee,pbkdf2Sync$1,scrypt.syncScrypt);return _getAccount$1(re,ne)}function decrypt$4(te,ee,re){return __awaiter$c(this,void 0,void 0,function*(){const ne=JSON.parse(te),ie=yield _computeKdfKey$1(ne,ee,pbkdf2$1,scrypt.scrypt,re);return _getAccount$1(ne,ie)})}function encrypt$3(te,ee,re,ne){try{if(getAddress$4(te.address)!==computeAddress$1(te.privateKey))throw new Error("address/privateKey mismatch");if(hasMnemonic$2(te)){const pr=te.mnemonic;if(HDNode.fromMnemonic(pr.phrase,null,pr.locale).derivePath(pr.path||defaultPath).privateKey!=te.privateKey)throw new Error("mnemonic mismatch")}}catch(pr){return Promise.reject(pr)}typeof re=="function"&&!ne&&(ne=re,re={}),re||(re={});const ie=arrayify$e(te.privateKey),oe=getPassword$1(ee);let se=null,ae=null,fe=null;if(hasMnemonic$2(te)){const pr=te.mnemonic;se=arrayify$e(mnemonicToEntropy(pr.phrase,pr.locale||"en")),ae=pr.path||defaultPath,fe=pr.locale||"en"}let ue=re.client;ue||(ue="ethers.js");let le=null;re.salt?le=arrayify$e(re.salt):le=randomBytes$3(32);let pe=null;if(re.iv){if(pe=arrayify$e(re.iv),pe.length!==16)throw new Error("invalid iv")}else pe=randomBytes$3(16);let rr=null;if(re.uuid){if(rr=arrayify$e(re.uuid),rr.length!==16)throw new Error("invalid uuid")}else rr=randomBytes$3(16);let cr=1<<17,ar=8,mr=1;return re.scrypt&&(re.scrypt.N&&(cr=re.scrypt.N),re.scrypt.r&&(ar=re.scrypt.r),re.scrypt.p&&(mr=re.scrypt.p)),scrypt.scrypt(oe,le,cr,ar,mr,64,ne).then(pr=>{pr=arrayify$e(pr);const yr=pr.slice(0,16),vr=pr.slice(16,32),Er=pr.slice(32,64),Tr=new aes.Counter(pe),Ir=new aes.ModeOfOperation.ctr(yr,Tr),Or=arrayify$e(Ir.encrypt(ie)),Hr=keccak256$6(concat$7([vr,Or])),Pr={address:te.address.substring(2).toLowerCase(),id:uuidV4$1(rr),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:hexlify$9(pe).substring(2)},ciphertext:hexlify$9(Or).substring(2),kdf:"scrypt",kdfparams:{salt:hexlify$9(le).substring(2),n:cr,dklen:32,p:mr,r:ar},mac:Hr.substring(2)}};if(se){const Br=randomBytes$3(16),Nr=new aes.Counter(Br),dr=new aes.ModeOfOperation.ctr(Er,Nr),tr=arrayify$e(dr.encrypt(se)),ve=new Date,ce=ve.getUTCFullYear()+"-"+zpad$1(ve.getUTCMonth()+1,2)+"-"+zpad$1(ve.getUTCDate(),2)+"T"+zpad$1(ve.getUTCHours(),2)+"-"+zpad$1(ve.getUTCMinutes(),2)+"-"+zpad$1(ve.getUTCSeconds(),2)+".0Z";Pr["x-ethers"]={client:ue,gethFilename:"UTC--"+ce+"--"+Pr.address,mnemonicCounter:hexlify$9(Br).substring(2),mnemonicCiphertext:hexlify$9(tr).substring(2),path:ae,locale:fe,version:"0.1"}}return JSON.stringify(Pr)})}function decryptJsonWallet$1(te,ee,re){if(isCrowdsaleWallet$1(te)){re&&re(0);const ne=decrypt$5(te,ee);return re&&re(1),Promise.resolve(ne)}return isKeystoreWallet$1(te)?decrypt$4(te,ee,re):Promise.reject(new Error("invalid JSON wallet"))}function decryptJsonWalletSync$1(te,ee){if(isCrowdsaleWallet$1(te))return decrypt$5(te,ee);if(isKeystoreWallet$1(te))return decryptSync$1(te,ee);throw new Error("invalid JSON wallet")}var lib_esm$d=Object.freeze(Object.defineProperty({__proto__:null,decryptCrowdsale:decrypt$5,decryptKeystore:decrypt$4,decryptKeystoreSync:decryptSync$1,encryptKeystore:encrypt$3,isCrowdsaleWallet:isCrowdsaleWallet$1,isKeystoreWallet:isKeystoreWallet$1,getJsonWalletAddress,decryptJsonWallet:decryptJsonWallet$1,decryptJsonWalletSync:decryptJsonWalletSync$1},Symbol.toStringTag,{value:"Module"})),require$$7$1=getAugmentedNamespace(lib_esm$d);const version$K="logger/5.6.0";let _permanentCensorErrors$9=!1,_censorErrors$9=!1;const LogLevels$9={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$9=LogLevels$9.default,_globalLogger$9=null;function _checkNormalize$9(){try{const te=[];if(["NFD","NFC","NFKD","NFKC"].forEach(ee=>{try{if("test".normalize(ee)!=="test")throw new Error("bad normalize")}catch{te.push(ee)}}),te.length)throw new Error("missing "+te.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(te){return te.message}return null}const _normalizeError$9=_checkNormalize$9();var LogLevel$9;(function(te){te.DEBUG="DEBUG",te.INFO="INFO",te.WARNING="WARNING",te.ERROR="ERROR",te.OFF="OFF"})(LogLevel$9||(LogLevel$9={}));var ErrorCode$9;(function(te){te.UNKNOWN_ERROR="UNKNOWN_ERROR",te.NOT_IMPLEMENTED="NOT_IMPLEMENTED",te.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",te.NETWORK_ERROR="NETWORK_ERROR",te.SERVER_ERROR="SERVER_ERROR",te.TIMEOUT="TIMEOUT",te.BUFFER_OVERRUN="BUFFER_OVERRUN",te.NUMERIC_FAULT="NUMERIC_FAULT",te.MISSING_NEW="MISSING_NEW",te.INVALID_ARGUMENT="INVALID_ARGUMENT",te.MISSING_ARGUMENT="MISSING_ARGUMENT",te.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",te.CALL_EXCEPTION="CALL_EXCEPTION",te.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",te.NONCE_EXPIRED="NONCE_EXPIRED",te.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",te.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",te.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(ErrorCode$9||(ErrorCode$9={}));const HEX$9="0123456789abcdef";class Logger$9{constructor(ee){Object.defineProperty(this,"version",{enumerable:!0,value:ee,writable:!1})}_log(ee,re){const ne=ee.toLowerCase();LogLevels$9[ne]==null&&this.throwArgumentError("invalid log level name","logLevel",ee),!(_logLevel$9>LogLevels$9[ne])&&console.log.apply(console,re)}debug(...ee){this._log(Logger$9.levels.DEBUG,ee)}info(...ee){this._log(Logger$9.levels.INFO,ee)}warn(...ee){this._log(Logger$9.levels.WARNING,ee)}makeError(ee,re,ne){if(_censorErrors$9)return this.makeError("censored error",re,{});re||(re=Logger$9.errors.UNKNOWN_ERROR),ne||(ne={});const ie=[];Object.keys(ne).forEach(fe=>{const ue=ne[fe];try{if(ue instanceof Uint8Array){let le="";for(let pe=0;pe<ue.length;pe++)le+=HEX$9[ue[pe]>>4],le+=HEX$9[ue[pe]&15];ie.push(fe+"=Uint8Array(0x"+le+")")}else ie.push(fe+"="+JSON.stringify(ue))}catch{ie.push(fe+"="+JSON.stringify(ne[fe].toString()))}}),ie.push(`code=${re}`),ie.push(`version=${this.version}`);const oe=ee;let se="";switch(re){case ErrorCode$9.NUMERIC_FAULT:{se="NUMERIC_FAULT";const fe=ee;switch(fe){case"overflow":case"underflow":case"division-by-zero":se+="-"+fe;break;case"negative-power":case"negative-width":se+="-unsupported";break;case"unbound-bitwise-result":se+="-unbound-result";break}break}case ErrorCode$9.CALL_EXCEPTION:case ErrorCode$9.INSUFFICIENT_FUNDS:case ErrorCode$9.MISSING_NEW:case ErrorCode$9.NONCE_EXPIRED:case ErrorCode$9.REPLACEMENT_UNDERPRICED:case ErrorCode$9.TRANSACTION_REPLACED:case ErrorCode$9.UNPREDICTABLE_GAS_LIMIT:se=re;break}se&&(ee+=" [ See: https://links.ethers.org/v5-errors-"+se+" ]"),ie.length&&(ee+=" ("+ie.join(", ")+")");const ae=new Error(ee);return ae.reason=oe,ae.code=re,Object.keys(ne).forEach(function(fe){ae[fe]=ne[fe]}),ae}throwError(ee,re,ne){throw this.makeError(ee,re,ne)}throwArgumentError(ee,re,ne){return this.throwError(ee,Logger$9.errors.INVALID_ARGUMENT,{argument:re,value:ne})}assert(ee,re,ne,ie){ee||this.throwError(re,ne,ie)}assertArgument(ee,re,ne,ie){ee||this.throwArgumentError(re,ne,ie)}checkNormalize(ee){_normalizeError$9&&this.throwError("platform missing String.prototype.normalize",Logger$9.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$9})}checkSafeUint53(ee,re){typeof ee=="number"&&(re==null&&(re="value not safe"),(ee<0||ee>=9007199254740991)&&this.throwError(re,Logger$9.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:ee}),ee%1&&this.throwError(re,Logger$9.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:ee}))}checkArgumentCount(ee,re,ne){ne?ne=": "+ne:ne="",ee<re&&this.throwError("missing argument"+ne,Logger$9.errors.MISSING_ARGUMENT,{count:ee,expectedCount:re}),ee>re&&this.throwError("too many arguments"+ne,Logger$9.errors.UNEXPECTED_ARGUMENT,{count:ee,expectedCount:re})}checkNew(ee,re){(ee===Object||ee==null)&&this.throwError("missing new",Logger$9.errors.MISSING_NEW,{name:re.name})}checkAbstract(ee,re){ee===re?this.throwError("cannot instantiate abstract class "+JSON.stringify(re.name)+" directly; use a sub-class",Logger$9.errors.UNSUPPORTED_OPERATION,{name:ee.name,operation:"new"}):(ee===Object||ee==null)&&this.throwError("missing new",Logger$9.errors.MISSING_NEW,{name:re.name})}static globalLogger(){return _globalLogger$9||(_globalLogger$9=new Logger$9(version$K)),_globalLogger$9}static setCensorship(ee,re){if(!ee&&re&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$9.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$9){if(!ee)return;this.globalLogger().throwError("error censorship permanent",Logger$9.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$9=!!ee,_permanentCensorErrors$9=!!re}static setLogLevel(ee){const re=LogLevels$9[ee.toLowerCase()];if(re==null){Logger$9.globalLogger().warn("invalid log level - "+ee);return}_logLevel$9=re}static from(ee){return new Logger$9(ee)}}Logger$9.errors=ErrorCode$9;Logger$9.levels=LogLevel$9;const version$J="bytes/5.6.1",logger$y=new Logger$9(version$J);function isHexable$7(te){return!!te.toHexString}function addSlice$7(te){return te.slice||(te.slice=function(){const ee=Array.prototype.slice.call(arguments);return addSlice$7(new Uint8Array(Array.prototype.slice.apply(te,ee)))}),te}function isInteger$7(te){return typeof te=="number"&&te==te&&te%1===0}function isBytes$7(te){if(te==null)return!1;if(te.constructor===Uint8Array)return!0;if(typeof te=="string"||!isInteger$7(te.length)||te.length<0)return!1;for(let ee=0;ee<te.length;ee++){const re=te[ee];if(!isInteger$7(re)||re<0||re>=256)return!1}return!0}function arrayify$7(te,ee){if(ee||(ee={}),typeof te=="number"){logger$y.checkSafeUint53(te,"invalid arrayify value");const re=[];for(;te;)re.unshift(te&255),te=parseInt(String(te/256));return re.length===0&&re.push(0),addSlice$7(new Uint8Array(re))}if(ee.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),isHexable$7(te)&&(te=te.toHexString()),isHexString$c(te)){let re=te.substring(2);re.length%2&&(ee.hexPad==="left"?re="0"+re:ee.hexPad==="right"?re+="0":logger$y.throwArgumentError("hex data is odd-length","value",te));const ne=[];for(let ie=0;ie<re.length;ie+=2)ne.push(parseInt(re.substring(ie,ie+2),16));return addSlice$7(new Uint8Array(ne))}return isBytes$7(te)?addSlice$7(new Uint8Array(te)):logger$y.throwArgumentError("invalid arrayify value","value",te)}function isHexString$c(te,ee){return!(typeof te!="string"||!te.match(/^0x[0-9A-Fa-f]*$/)||ee&&te.length!==2+2*ee)}function keccak256$2(te){return"0x"+sha3.keccak_256(arrayify$7(te))}var lib_esm$c=Object.freeze(Object.defineProperty({__proto__:null,keccak256:keccak256$2},Symbol.toStringTag,{value:"Module"})),require$$8=getAugmentedNamespace(lib_esm$c);const version$I="logger/5.5.0";let _permanentCensorErrors$8=!1,_censorErrors$8=!1;const LogLevels$8={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$8=LogLevels$8.default,_globalLogger$8=null;function _checkNormalize$8(){try{const te=[];if(["NFD","NFC","NFKD","NFKC"].forEach(ee=>{try{if("test".normalize(ee)!=="test")throw new Error("bad normalize")}catch{te.push(ee)}}),te.length)throw new Error("missing "+te.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(te){return te.message}return null}const _normalizeError$8=_checkNormalize$8();var LogLevel$8;(function(te){te.DEBUG="DEBUG",te.INFO="INFO",te.WARNING="WARNING",te.ERROR="ERROR",te.OFF="OFF"})(LogLevel$8||(LogLevel$8={}));var ErrorCode$8;(function(te){te.UNKNOWN_ERROR="UNKNOWN_ERROR",te.NOT_IMPLEMENTED="NOT_IMPLEMENTED",te.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",te.NETWORK_ERROR="NETWORK_ERROR",te.SERVER_ERROR="SERVER_ERROR",te.TIMEOUT="TIMEOUT",te.BUFFER_OVERRUN="BUFFER_OVERRUN",te.NUMERIC_FAULT="NUMERIC_FAULT",te.MISSING_NEW="MISSING_NEW",te.INVALID_ARGUMENT="INVALID_ARGUMENT",te.MISSING_ARGUMENT="MISSING_ARGUMENT",te.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",te.CALL_EXCEPTION="CALL_EXCEPTION",te.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",te.NONCE_EXPIRED="NONCE_EXPIRED",te.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",te.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",te.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(ErrorCode$8||(ErrorCode$8={}));const HEX$8="0123456789abcdef";class Logger$8{constructor(ee){Object.defineProperty(this,"version",{enumerable:!0,value:ee,writable:!1})}_log(ee,re){const ne=ee.toLowerCase();LogLevels$8[ne]==null&&this.throwArgumentError("invalid log level name","logLevel",ee),!(_logLevel$8>LogLevels$8[ne])&&console.log.apply(console,re)}debug(...ee){this._log(Logger$8.levels.DEBUG,ee)}info(...ee){this._log(Logger$8.levels.INFO,ee)}warn(...ee){this._log(Logger$8.levels.WARNING,ee)}makeError(ee,re,ne){if(_censorErrors$8)return this.makeError("censored error",re,{});re||(re=Logger$8.errors.UNKNOWN_ERROR),ne||(ne={});const ie=[];Object.keys(ne).forEach(ae=>{const fe=ne[ae];try{if(fe instanceof Uint8Array){let ue="";for(let le=0;le<fe.length;le++)ue+=HEX$8[fe[le]>>4],ue+=HEX$8[fe[le]&15];ie.push(ae+"=Uint8Array(0x"+ue+")")}else ie.push(ae+"="+JSON.stringify(fe))}catch{ie.push(ae+"="+JSON.stringify(ne[ae].toString()))}}),ie.push(`code=${re}`),ie.push(`version=${this.version}`);const oe=ee;ie.length&&(ee+=" ("+ie.join(", ")+")");const se=new Error(ee);return se.reason=oe,se.code=re,Object.keys(ne).forEach(function(ae){se[ae]=ne[ae]}),se}throwError(ee,re,ne){throw this.makeError(ee,re,ne)}throwArgumentError(ee,re,ne){return this.throwError(ee,Logger$8.errors.INVALID_ARGUMENT,{argument:re,value:ne})}assert(ee,re,ne,ie){ee||this.throwError(re,ne,ie)}assertArgument(ee,re,ne,ie){ee||this.throwArgumentError(re,ne,ie)}checkNormalize(ee){_normalizeError$8&&this.throwError("platform missing String.prototype.normalize",Logger$8.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$8})}checkSafeUint53(ee,re){typeof ee=="number"&&(re==null&&(re="value not safe"),(ee<0||ee>=9007199254740991)&&this.throwError(re,Logger$8.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:ee}),ee%1&&this.throwError(re,Logger$8.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:ee}))}checkArgumentCount(ee,re,ne){ne?ne=": "+ne:ne="",ee<re&&this.throwError("missing argument"+ne,Logger$8.errors.MISSING_ARGUMENT,{count:ee,expectedCount:re}),ee>re&&this.throwError("too many arguments"+ne,Logger$8.errors.UNEXPECTED_ARGUMENT,{count:ee,expectedCount:re})}checkNew(ee,re){(ee===Object||ee==null)&&this.throwError("missing new",Logger$8.errors.MISSING_NEW,{name:re.name})}checkAbstract(ee,re){ee===re?this.throwError("cannot instantiate abstract class "+JSON.stringify(re.name)+" directly; use a sub-class",Logger$8.errors.UNSUPPORTED_OPERATION,{name:ee.name,operation:"new"}):(ee===Object||ee==null)&&this.throwError("missing new",Logger$8.errors.MISSING_NEW,{name:re.name})}static globalLogger(){return _globalLogger$8||(_globalLogger$8=new Logger$8(version$I)),_globalLogger$8}static setCensorship(ee,re){if(!ee&&re&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$8.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$8){if(!ee)return;this.globalLogger().throwError("error censorship permanent",Logger$8.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$8=!!ee,_permanentCensorErrors$8=!!re}static setLogLevel(ee){const re=LogLevels$8[ee.toLowerCase()];if(re==null){Logger$8.globalLogger().warn("invalid log level - "+ee);return}_logLevel$8=re}static from(ee){return new Logger$8(ee)}}Logger$8.errors=ErrorCode$8;Logger$8.levels=LogLevel$8;var lib_esm$b=Object.freeze(Object.defineProperty({__proto__:null,get LogLevel(){return LogLevel$8},get ErrorCode(){return ErrorCode$8},Logger:Logger$8},Symbol.toStringTag,{value:"Module"})),require$$9=getAugmentedNamespace(lib_esm$b);const version$H="logger/5.6.0";let _permanentCensorErrors$7=!1,_censorErrors$7=!1;const LogLevels$7={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$7=LogLevels$7.default,_globalLogger$7=null;function _checkNormalize$7(){try{const te=[];if(["NFD","NFC","NFKD","NFKC"].forEach(ee=>{try{if("test".normalize(ee)!=="test")throw new Error("bad normalize")}catch{te.push(ee)}}),te.length)throw new Error("missing "+te.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(te){return te.message}return null}const _normalizeError$7=_checkNormalize$7();var LogLevel$7;(function(te){te.DEBUG="DEBUG",te.INFO="INFO",te.WARNING="WARNING",te.ERROR="ERROR",te.OFF="OFF"})(LogLevel$7||(LogLevel$7={}));var ErrorCode$7;(function(te){te.UNKNOWN_ERROR="UNKNOWN_ERROR",te.NOT_IMPLEMENTED="NOT_IMPLEMENTED",te.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",te.NETWORK_ERROR="NETWORK_ERROR",te.SERVER_ERROR="SERVER_ERROR",te.TIMEOUT="TIMEOUT",te.BUFFER_OVERRUN="BUFFER_OVERRUN",te.NUMERIC_FAULT="NUMERIC_FAULT",te.MISSING_NEW="MISSING_NEW",te.INVALID_ARGUMENT="INVALID_ARGUMENT",te.MISSING_ARGUMENT="MISSING_ARGUMENT",te.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",te.CALL_EXCEPTION="CALL_EXCEPTION",te.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",te.NONCE_EXPIRED="NONCE_EXPIRED",te.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",te.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",te.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(ErrorCode$7||(ErrorCode$7={}));const HEX$7="0123456789abcdef";class Logger$7{constructor(ee){Object.defineProperty(this,"version",{enumerable:!0,value:ee,writable:!1})}_log(ee,re){const ne=ee.toLowerCase();LogLevels$7[ne]==null&&this.throwArgumentError("invalid log level name","logLevel",ee),!(_logLevel$7>LogLevels$7[ne])&&console.log.apply(console,re)}debug(...ee){this._log(Logger$7.levels.DEBUG,ee)}info(...ee){this._log(Logger$7.levels.INFO,ee)}warn(...ee){this._log(Logger$7.levels.WARNING,ee)}makeError(ee,re,ne){if(_censorErrors$7)return this.makeError("censored error",re,{});re||(re=Logger$7.errors.UNKNOWN_ERROR),ne||(ne={});const ie=[];Object.keys(ne).forEach(fe=>{const ue=ne[fe];try{if(ue instanceof Uint8Array){let le="";for(let pe=0;pe<ue.length;pe++)le+=HEX$7[ue[pe]>>4],le+=HEX$7[ue[pe]&15];ie.push(fe+"=Uint8Array(0x"+le+")")}else ie.push(fe+"="+JSON.stringify(ue))}catch{ie.push(fe+"="+JSON.stringify(ne[fe].toString()))}}),ie.push(`code=${re}`),ie.push(`version=${this.version}`);const oe=ee;let se="";switch(re){case ErrorCode$7.NUMERIC_FAULT:{se="NUMERIC_FAULT";const fe=ee;switch(fe){case"overflow":case"underflow":case"division-by-zero":se+="-"+fe;break;case"negative-power":case"negative-width":se+="-unsupported";break;case"unbound-bitwise-result":se+="-unbound-result";break}break}case ErrorCode$7.CALL_EXCEPTION:case ErrorCode$7.INSUFFICIENT_FUNDS:case ErrorCode$7.MISSING_NEW:case ErrorCode$7.NONCE_EXPIRED:case ErrorCode$7.REPLACEMENT_UNDERPRICED:case ErrorCode$7.TRANSACTION_REPLACED:case ErrorCode$7.UNPREDICTABLE_GAS_LIMIT:se=re;break}se&&(ee+=" [ See: https://links.ethers.org/v5-errors-"+se+" ]"),ie.length&&(ee+=" ("+ie.join(", ")+")");const ae=new Error(ee);return ae.reason=oe,ae.code=re,Object.keys(ne).forEach(function(fe){ae[fe]=ne[fe]}),ae}throwError(ee,re,ne){throw this.makeError(ee,re,ne)}throwArgumentError(ee,re,ne){return this.throwError(ee,Logger$7.errors.INVALID_ARGUMENT,{argument:re,value:ne})}assert(ee,re,ne,ie){ee||this.throwError(re,ne,ie)}assertArgument(ee,re,ne,ie){ee||this.throwArgumentError(re,ne,ie)}checkNormalize(ee){_normalizeError$7&&this.throwError("platform missing String.prototype.normalize",Logger$7.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$7})}checkSafeUint53(ee,re){typeof ee=="number"&&(re==null&&(re="value not safe"),(ee<0||ee>=9007199254740991)&&this.throwError(re,Logger$7.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:ee}),ee%1&&this.throwError(re,Logger$7.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:ee}))}checkArgumentCount(ee,re,ne){ne?ne=": "+ne:ne="",ee<re&&this.throwError("missing argument"+ne,Logger$7.errors.MISSING_ARGUMENT,{count:ee,expectedCount:re}),ee>re&&this.throwError("too many arguments"+ne,Logger$7.errors.UNEXPECTED_ARGUMENT,{count:ee,expectedCount:re})}checkNew(ee,re){(ee===Object||ee==null)&&this.throwError("missing new",Logger$7.errors.MISSING_NEW,{name:re.name})}checkAbstract(ee,re){ee===re?this.throwError("cannot instantiate abstract class "+JSON.stringify(re.name)+" directly; use a sub-class",Logger$7.errors.UNSUPPORTED_OPERATION,{name:ee.name,operation:"new"}):(ee===Object||ee==null)&&this.throwError("missing new",Logger$7.errors.MISSING_NEW,{name:re.name})}static globalLogger(){return _globalLogger$7||(_globalLogger$7=new Logger$7(version$H)),_globalLogger$7}static setCensorship(ee,re){if(!ee&&re&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$7.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$7){if(!ee)return;this.globalLogger().throwError("error censorship permanent",Logger$7.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$7=!!ee,_permanentCensorErrors$7=!!re}static setLogLevel(ee){const re=LogLevels$7[ee.toLowerCase()];if(re==null){Logger$7.globalLogger().warn("invalid log level - "+ee);return}_logLevel$7=re}static from(ee){return new Logger$7(ee)}}Logger$7.errors=ErrorCode$7;Logger$7.levels=LogLevel$7;const version$G="bytes/5.6.1",logger$x=new Logger$7(version$G);function isHexable$6(te){return!!te.toHexString}function addSlice$6(te){return te.slice||(te.slice=function(){const ee=Array.prototype.slice.call(arguments);return addSlice$6(new Uint8Array(Array.prototype.slice.apply(te,ee)))}),te}function isInteger$6(te){return typeof te=="number"&&te==te&&te%1===0}function isBytes$6(te){if(te==null)return!1;if(te.constructor===Uint8Array)return!0;if(typeof te=="string"||!isInteger$6(te.length)||te.length<0)return!1;for(let ee=0;ee<te.length;ee++){const re=te[ee];if(!isInteger$6(re)||re<0||re>=256)return!1}return!0}function arrayify$6(te,ee){if(ee||(ee={}),typeof te=="number"){logger$x.checkSafeUint53(te,"invalid arrayify value");const re=[];for(;te;)re.unshift(te&255),te=parseInt(String(te/256));return re.length===0&&re.push(0),addSlice$6(new Uint8Array(re))}if(ee.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),isHexable$6(te)&&(te=te.toHexString()),isHexString$b(te)){let re=te.substring(2);re.length%2&&(ee.hexPad==="left"?re="0"+re:ee.hexPad==="right"?re+="0":logger$x.throwArgumentError("hex data is odd-length","value",te));const ne=[];for(let ie=0;ie<re.length;ie+=2)ne.push(parseInt(re.substring(ie,ie+2),16));return addSlice$6(new Uint8Array(ne))}return isBytes$6(te)?addSlice$6(new Uint8Array(te)):logger$x.throwArgumentError("invalid arrayify value","value",te)}function isHexString$b(te,ee){return!(typeof te!="string"||!te.match(/^0x[0-9A-Fa-f]*$/)||ee&&te.length!==2+2*ee)}var SupportedAlgorithm;(function(te){te.sha256="sha256",te.sha512="sha512"})(SupportedAlgorithm||(SupportedAlgorithm={}));const version$F="sha2/5.5.0",logger$w=new Logger$7(version$F);function ripemd160$1(te){return"0x"+hash$4.ripemd160().update(arrayify$6(te)).digest("hex")}function sha256$3(te){return"0x"+hash$4.sha256().update(arrayify$6(te)).digest("hex")}function sha512$1(te){return"0x"+hash$4.sha512().update(arrayify$6(te)).digest("hex")}function computeHmac(te,ee,re){return SupportedAlgorithm[te]||logger$w.throwError("unsupported algorithm "+te,Logger$7.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:te}),"0x"+hash$4.hmac(hash$4[te],arrayify$6(ee)).update(arrayify$6(re)).digest("hex")}var lib_esm$a=Object.freeze(Object.defineProperty({__proto__:null,computeHmac,ripemd160:ripemd160$1,sha256:sha256$3,sha512:sha512$1,get SupportedAlgorithm(){return SupportedAlgorithm}},Symbol.toStringTag,{value:"Module"})),require$$10=getAugmentedNamespace(lib_esm$a);const version$E="solidity/5.5.0",regexBytes=new RegExp("^bytes([0-9]+)$"),regexNumber=new RegExp("^(u?int)([0-9]*)$"),regexArray=new RegExp("^(.*)\\[([0-9]*)\\]$"),Zeros="0000000000000000000000000000000000000000000000000000000000000000",logger$v=new Logger$g(version$E);function _pack(te,ee,re){switch(te){case"address":return re?zeroPad$4(ee,32):arrayify$e(ee);case"string":return toUtf8Bytes$4(ee);case"bytes":return arrayify$e(ee);case"bool":return ee=ee?"0x01":"0x00",re?zeroPad$4(ee,32):arrayify$e(ee)}let ne=te.match(regexNumber);if(ne){let ie=parseInt(ne[2]||"256");return(ne[2]&&String(ie)!==ne[2]||ie%8!==0||ie===0||ie>256)&&logger$v.throwArgumentError("invalid number type","type",te),re&&(ie=256),ee=BigNumber$4.from(ee).toTwos(ie),zeroPad$4(ee,ie/8)}if(ne=te.match(regexBytes),ne){const ie=parseInt(ne[1]);return(String(ie)!==ne[1]||ie===0||ie>32)&&logger$v.throwArgumentError("invalid bytes type","type",te),arrayify$e(ee).byteLength!==ie&&logger$v.throwArgumentError(`invalid value for ${te}`,"value",ee),re?arrayify$e((ee+Zeros).substring(0,66)):ee}if(ne=te.match(regexArray),ne&&Array.isArray(ee)){const ie=ne[1];parseInt(ne[2]||String(ee.length))!=ee.length&&logger$v.throwArgumentError(`invalid array length for ${te}`,"value",ee);const se=[];return ee.forEach(function(ae){se.push(_pack(ie,ae,!0))}),concat$7(se)}return logger$v.throwArgumentError("invalid type","type",te)}function pack(te,ee){te.length!=ee.length&&logger$v.throwArgumentError("wrong number of values; expected ${ types.length }","values",ee);const re=[];return te.forEach(function(ne,ie){re.push(_pack(ne,ee[ie]))}),hexlify$9(concat$7(re))}function keccak256$1(te,ee){return keccak256$6(pack(te,ee))}function sha256$2(te,ee){return sha256$4(pack(te,ee))}var lib_esm$9=Object.freeze(Object.defineProperty({__proto__:null,pack,keccak256:keccak256$1,sha256:sha256$2},Symbol.toStringTag,{value:"Module"})),require$$11=getAugmentedNamespace(lib_esm$9);const version$D="logger/5.6.0";let _permanentCensorErrors$6=!1,_censorErrors$6=!1;const LogLevels$6={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$6=LogLevels$6.default,_globalLogger$6=null;function _checkNormalize$6(){try{const te=[];if(["NFD","NFC","NFKD","NFKC"].forEach(ee=>{try{if("test".normalize(ee)!=="test")throw new Error("bad normalize")}catch{te.push(ee)}}),te.length)throw new Error("missing "+te.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(te){return te.message}return null}const _normalizeError$6=_checkNormalize$6();var LogLevel$6;(function(te){te.DEBUG="DEBUG",te.INFO="INFO",te.WARNING="WARNING",te.ERROR="ERROR",te.OFF="OFF"})(LogLevel$6||(LogLevel$6={}));var ErrorCode$6;(function(te){te.UNKNOWN_ERROR="UNKNOWN_ERROR",te.NOT_IMPLEMENTED="NOT_IMPLEMENTED",te.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",te.NETWORK_ERROR="NETWORK_ERROR",te.SERVER_ERROR="SERVER_ERROR",te.TIMEOUT="TIMEOUT",te.BUFFER_OVERRUN="BUFFER_OVERRUN",te.NUMERIC_FAULT="NUMERIC_FAULT",te.MISSING_NEW="MISSING_NEW",te.INVALID_ARGUMENT="INVALID_ARGUMENT",te.MISSING_ARGUMENT="MISSING_ARGUMENT",te.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",te.CALL_EXCEPTION="CALL_EXCEPTION",te.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",te.NONCE_EXPIRED="NONCE_EXPIRED",te.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",te.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",te.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(ErrorCode$6||(ErrorCode$6={}));const HEX$6="0123456789abcdef";class Logger$6{constructor(ee){Object.defineProperty(this,"version",{enumerable:!0,value:ee,writable:!1})}_log(ee,re){const ne=ee.toLowerCase();LogLevels$6[ne]==null&&this.throwArgumentError("invalid log level name","logLevel",ee),!(_logLevel$6>LogLevels$6[ne])&&console.log.apply(console,re)}debug(...ee){this._log(Logger$6.levels.DEBUG,ee)}info(...ee){this._log(Logger$6.levels.INFO,ee)}warn(...ee){this._log(Logger$6.levels.WARNING,ee)}makeError(ee,re,ne){if(_censorErrors$6)return this.makeError("censored error",re,{});re||(re=Logger$6.errors.UNKNOWN_ERROR),ne||(ne={});const ie=[];Object.keys(ne).forEach(fe=>{const ue=ne[fe];try{if(ue instanceof Uint8Array){let le="";for(let pe=0;pe<ue.length;pe++)le+=HEX$6[ue[pe]>>4],le+=HEX$6[ue[pe]&15];ie.push(fe+"=Uint8Array(0x"+le+")")}else ie.push(fe+"="+JSON.stringify(ue))}catch{ie.push(fe+"="+JSON.stringify(ne[fe].toString()))}}),ie.push(`code=${re}`),ie.push(`version=${this.version}`);const oe=ee;let se="";switch(re){case ErrorCode$6.NUMERIC_FAULT:{se="NUMERIC_FAULT";const fe=ee;switch(fe){case"overflow":case"underflow":case"division-by-zero":se+="-"+fe;break;case"negative-power":case"negative-width":se+="-unsupported";break;case"unbound-bitwise-result":se+="-unbound-result";break}break}case ErrorCode$6.CALL_EXCEPTION:case ErrorCode$6.INSUFFICIENT_FUNDS:case ErrorCode$6.MISSING_NEW:case ErrorCode$6.NONCE_EXPIRED:case ErrorCode$6.REPLACEMENT_UNDERPRICED:case ErrorCode$6.TRANSACTION_REPLACED:case ErrorCode$6.UNPREDICTABLE_GAS_LIMIT:se=re;break}se&&(ee+=" [ See: https://links.ethers.org/v5-errors-"+se+" ]"),ie.length&&(ee+=" ("+ie.join(", ")+")");const ae=new Error(ee);return ae.reason=oe,ae.code=re,Object.keys(ne).forEach(function(fe){ae[fe]=ne[fe]}),ae}throwError(ee,re,ne){throw this.makeError(ee,re,ne)}throwArgumentError(ee,re,ne){return this.throwError(ee,Logger$6.errors.INVALID_ARGUMENT,{argument:re,value:ne})}assert(ee,re,ne,ie){ee||this.throwError(re,ne,ie)}assertArgument(ee,re,ne,ie){ee||this.throwArgumentError(re,ne,ie)}checkNormalize(ee){_normalizeError$6&&this.throwError("platform missing String.prototype.normalize",Logger$6.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$6})}checkSafeUint53(ee,re){typeof ee=="number"&&(re==null&&(re="value not safe"),(ee<0||ee>=9007199254740991)&&this.throwError(re,Logger$6.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:ee}),ee%1&&this.throwError(re,Logger$6.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:ee}))}checkArgumentCount(ee,re,ne){ne?ne=": "+ne:ne="",ee<re&&this.throwError("missing argument"+ne,Logger$6.errors.MISSING_ARGUMENT,{count:ee,expectedCount:re}),ee>re&&this.throwError("too many arguments"+ne,Logger$6.errors.UNEXPECTED_ARGUMENT,{count:ee,expectedCount:re})}checkNew(ee,re){(ee===Object||ee==null)&&this.throwError("missing new",Logger$6.errors.MISSING_NEW,{name:re.name})}checkAbstract(ee,re){ee===re?this.throwError("cannot instantiate abstract class "+JSON.stringify(re.name)+" directly; use a sub-class",Logger$6.errors.UNSUPPORTED_OPERATION,{name:ee.name,operation:"new"}):(ee===Object||ee==null)&&this.throwError("missing new",Logger$6.errors.MISSING_NEW,{name:re.name})}static globalLogger(){return _globalLogger$6||(_globalLogger$6=new Logger$6(version$D)),_globalLogger$6}static setCensorship(ee,re){if(!ee&&re&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$6.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$6){if(!ee)return;this.globalLogger().throwError("error censorship permanent",Logger$6.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$6=!!ee,_permanentCensorErrors$6=!!re}static setLogLevel(ee){const re=LogLevels$6[ee.toLowerCase()];if(re==null){Logger$6.globalLogger().warn("invalid log level - "+ee);return}_logLevel$6=re}static from(ee){return new Logger$6(ee)}}Logger$6.errors=ErrorCode$6;Logger$6.levels=LogLevel$6;const version$C="bytes/5.6.1",logger$u=new Logger$6(version$C);function isHexable$5(te){return!!te.toHexString}function addSlice$5(te){return te.slice||(te.slice=function(){const ee=Array.prototype.slice.call(arguments);return addSlice$5(new Uint8Array(Array.prototype.slice.apply(te,ee)))}),te}function isInteger$5(te){return typeof te=="number"&&te==te&&te%1===0}function isBytes$5(te){if(te==null)return!1;if(te.constructor===Uint8Array)return!0;if(typeof te=="string"||!isInteger$5(te.length)||te.length<0)return!1;for(let ee=0;ee<te.length;ee++){const re=te[ee];if(!isInteger$5(re)||re<0||re>=256)return!1}return!0}function arrayify$5(te,ee){if(ee||(ee={}),typeof te=="number"){logger$u.checkSafeUint53(te,"invalid arrayify value");const re=[];for(;te;)re.unshift(te&255),te=parseInt(String(te/256));return re.length===0&&re.push(0),addSlice$5(new Uint8Array(re))}if(ee.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),isHexable$5(te)&&(te=te.toHexString()),isHexString$a(te)){let re=te.substring(2);re.length%2&&(ee.hexPad==="left"?re="0"+re:ee.hexPad==="right"?re+="0":logger$u.throwArgumentError("hex data is odd-length","value",te));const ne=[];for(let ie=0;ie<re.length;ie+=2)ne.push(parseInt(re.substring(ie,ie+2),16));return addSlice$5(new Uint8Array(ne))}return isBytes$5(te)?addSlice$5(new Uint8Array(te)):logger$u.throwArgumentError("invalid arrayify value","value",te)}function isHexString$a(te,ee){return!(typeof te!="string"||!te.match(/^0x[0-9A-Fa-f]*$/)||ee&&te.length!==2+2*ee)}const version$B="random/5.5.0",logger$t=new Logger$6(version$B);let anyGlobal=null;try{if(anyGlobal=window,anyGlobal==null)throw new Error("try next")}catch{try{if(anyGlobal=global,anyGlobal==null)throw new Error("try next")}catch{anyGlobal={}}}let crypto$4=anyGlobal.crypto||anyGlobal.msCrypto;(!crypto$4||!crypto$4.getRandomValues)&&(logger$t.warn("WARNING: Missing strong random number source"),crypto$4={getRandomValues:function(te){return logger$t.throwError("no secure random source avaialble",Logger$6.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function randomBytes$2(te){(te<=0||te>1024||te%1||te!=te)&&logger$t.throwArgumentError("invalid length","length",te);const ee=new Uint8Array(te);return crypto$4.getRandomValues(ee),arrayify$5(ee)}function shuffled(te){te=te.slice();for(let ee=te.length-1;ee>0;ee--){const re=Math.floor(Math.random()*(ee+1)),ne=te[ee];te[ee]=te[re],te[re]=ne}return te}var lib_esm$8=Object.freeze(Object.defineProperty({__proto__:null,randomBytes:randomBytes$2,shuffled},Symbol.toStringTag,{value:"Module"})),require$$12=getAugmentedNamespace(lib_esm$8);const version$A="logger/5.6.0";let _permanentCensorErrors$5=!1,_censorErrors$5=!1;const LogLevels$5={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$5=LogLevels$5.default,_globalLogger$5=null;function _checkNormalize$5(){try{const te=[];if(["NFD","NFC","NFKD","NFKC"].forEach(ee=>{try{if("test".normalize(ee)!=="test")throw new Error("bad normalize")}catch{te.push(ee)}}),te.length)throw new Error("missing "+te.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(te){return te.message}return null}const _normalizeError$5=_checkNormalize$5();var LogLevel$5;(function(te){te.DEBUG="DEBUG",te.INFO="INFO",te.WARNING="WARNING",te.ERROR="ERROR",te.OFF="OFF"})(LogLevel$5||(LogLevel$5={}));var ErrorCode$5;(function(te){te.UNKNOWN_ERROR="UNKNOWN_ERROR",te.NOT_IMPLEMENTED="NOT_IMPLEMENTED",te.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",te.NETWORK_ERROR="NETWORK_ERROR",te.SERVER_ERROR="SERVER_ERROR",te.TIMEOUT="TIMEOUT",te.BUFFER_OVERRUN="BUFFER_OVERRUN",te.NUMERIC_FAULT="NUMERIC_FAULT",te.MISSING_NEW="MISSING_NEW",te.INVALID_ARGUMENT="INVALID_ARGUMENT",te.MISSING_ARGUMENT="MISSING_ARGUMENT",te.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",te.CALL_EXCEPTION="CALL_EXCEPTION",te.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",te.NONCE_EXPIRED="NONCE_EXPIRED",te.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",te.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",te.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(ErrorCode$5||(ErrorCode$5={}));const HEX$5="0123456789abcdef";class Logger$5{constructor(ee){Object.defineProperty(this,"version",{enumerable:!0,value:ee,writable:!1})}_log(ee,re){const ne=ee.toLowerCase();LogLevels$5[ne]==null&&this.throwArgumentError("invalid log level name","logLevel",ee),!(_logLevel$5>LogLevels$5[ne])&&console.log.apply(console,re)}debug(...ee){this._log(Logger$5.levels.DEBUG,ee)}info(...ee){this._log(Logger$5.levels.INFO,ee)}warn(...ee){this._log(Logger$5.levels.WARNING,ee)}makeError(ee,re,ne){if(_censorErrors$5)return this.makeError("censored error",re,{});re||(re=Logger$5.errors.UNKNOWN_ERROR),ne||(ne={});const ie=[];Object.keys(ne).forEach(fe=>{const ue=ne[fe];try{if(ue instanceof Uint8Array){let le="";for(let pe=0;pe<ue.length;pe++)le+=HEX$5[ue[pe]>>4],le+=HEX$5[ue[pe]&15];ie.push(fe+"=Uint8Array(0x"+le+")")}else ie.push(fe+"="+JSON.stringify(ue))}catch{ie.push(fe+"="+JSON.stringify(ne[fe].toString()))}}),ie.push(`code=${re}`),ie.push(`version=${this.version}`);const oe=ee;let se="";switch(re){case ErrorCode$5.NUMERIC_FAULT:{se="NUMERIC_FAULT";const fe=ee;switch(fe){case"overflow":case"underflow":case"division-by-zero":se+="-"+fe;break;case"negative-power":case"negative-width":se+="-unsupported";break;case"unbound-bitwise-result":se+="-unbound-result";break}break}case ErrorCode$5.CALL_EXCEPTION:case ErrorCode$5.INSUFFICIENT_FUNDS:case ErrorCode$5.MISSING_NEW:case ErrorCode$5.NONCE_EXPIRED:case ErrorCode$5.REPLACEMENT_UNDERPRICED:case ErrorCode$5.TRANSACTION_REPLACED:case ErrorCode$5.UNPREDICTABLE_GAS_LIMIT:se=re;break}se&&(ee+=" [ See: https://links.ethers.org/v5-errors-"+se+" ]"),ie.length&&(ee+=" ("+ie.join(", ")+")");const ae=new Error(ee);return ae.reason=oe,ae.code=re,Object.keys(ne).forEach(function(fe){ae[fe]=ne[fe]}),ae}throwError(ee,re,ne){throw this.makeError(ee,re,ne)}throwArgumentError(ee,re,ne){return this.throwError(ee,Logger$5.errors.INVALID_ARGUMENT,{argument:re,value:ne})}assert(ee,re,ne,ie){ee||this.throwError(re,ne,ie)}assertArgument(ee,re,ne,ie){ee||this.throwArgumentError(re,ne,ie)}checkNormalize(ee){_normalizeError$5&&this.throwError("platform missing String.prototype.normalize",Logger$5.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$5})}checkSafeUint53(ee,re){typeof ee=="number"&&(re==null&&(re="value not safe"),(ee<0||ee>=9007199254740991)&&this.throwError(re,Logger$5.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:ee}),ee%1&&this.throwError(re,Logger$5.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:ee}))}checkArgumentCount(ee,re,ne){ne?ne=": "+ne:ne="",ee<re&&this.throwError("missing argument"+ne,Logger$5.errors.MISSING_ARGUMENT,{count:ee,expectedCount:re}),ee>re&&this.throwError("too many arguments"+ne,Logger$5.errors.UNEXPECTED_ARGUMENT,{count:ee,expectedCount:re})}checkNew(ee,re){(ee===Object||ee==null)&&this.throwError("missing new",Logger$5.errors.MISSING_NEW,{name:re.name})}checkAbstract(ee,re){ee===re?this.throwError("cannot instantiate abstract class "+JSON.stringify(re.name)+" directly; use a sub-class",Logger$5.errors.UNSUPPORTED_OPERATION,{name:ee.name,operation:"new"}):(ee===Object||ee==null)&&this.throwError("missing new",Logger$5.errors.MISSING_NEW,{name:re.name})}static globalLogger(){return _globalLogger$5||(_globalLogger$5=new Logger$5(version$A)),_globalLogger$5}static setCensorship(ee,re){if(!ee&&re&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$5.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$5){if(!ee)return;this.globalLogger().throwError("error censorship permanent",Logger$5.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$5=!!ee,_permanentCensorErrors$5=!!re}static setLogLevel(ee){const re=LogLevels$5[ee.toLowerCase()];if(re==null){Logger$5.globalLogger().warn("invalid log level - "+ee);return}_logLevel$5=re}static from(ee){return new Logger$5(ee)}}Logger$5.errors=ErrorCode$5;Logger$5.levels=LogLevel$5;const version$z="properties/5.5.0";var __awaiter$b=globalThis&&globalThis.__awaiter||function(te,ee,re,ne){function ie(oe){return oe instanceof re?oe:new re(function(se){se(oe)})}return new(re||(re=Promise))(function(oe,se){function ae(le){try{ue(ne.next(le))}catch(pe){se(pe)}}function fe(le){try{ue(ne.throw(le))}catch(pe){se(pe)}}function ue(le){le.done?oe(le.value):ie(le.value).then(ae,fe)}ue((ne=ne.apply(te,ee||[])).next())})};const logger$s=new Logger$5(version$z);function defineReadOnly$2(te,ee,re){Object.defineProperty(te,ee,{enumerable:!0,value:re,writable:!1})}function getStatic(te,ee){for(let re=0;re<32;re++){if(te[ee])return te[ee];if(!te.prototype||typeof te.prototype!="object")break;te=Object.getPrototypeOf(te.prototype).constructor}return null}function resolveProperties(te){return __awaiter$b(this,void 0,void 0,function*(){const ee=Object.keys(te).map(ne=>{const ie=te[ne];return Promise.resolve(ie).then(oe=>({key:ne,value:oe}))});return(yield Promise.all(ee)).reduce((ne,ie)=>(ne[ie.key]=ie.value,ne),{})})}function checkProperties$1(te,ee){(!te||typeof te!="object")&&logger$s.throwArgumentError("invalid object","object",te),Object.keys(te).forEach(re=>{ee[re]||logger$s.throwArgumentError("invalid object key - "+re,"transaction:"+re,te)})}function shallowCopy$1(te){const ee={};for(const re in te)ee[re]=te[re];return ee}const opaque={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function _isFrozen(te){if(te==null||opaque[typeof te])return!0;if(Array.isArray(te)||typeof te=="object"){if(!Object.isFrozen(te))return!1;const ee=Object.keys(te);for(let re=0;re<ee.length;re++){let ne=null;try{ne=te[ee[re]]}catch{continue}if(!_isFrozen(ne))return!1}return!0}return logger$s.throwArgumentError(`Cannot deepCopy ${typeof te}`,"object",te)}function _deepCopy(te){if(_isFrozen(te))return te;if(Array.isArray(te))return Object.freeze(te.map(ee=>deepCopy(ee)));if(typeof te=="object"){const ee={};for(const re in te){const ne=te[re];ne!==void 0&&defineReadOnly$2(ee,re,deepCopy(ne))}return ee}return logger$s.throwArgumentError(`Cannot deepCopy ${typeof te}`,"object",te)}function deepCopy(te){return _deepCopy(te)}class Description{constructor(ee){for(const re in ee)this[re]=deepCopy(ee[re])}}var lib_esm$7=Object.freeze(Object.defineProperty({__proto__:null,defineReadOnly:defineReadOnly$2,getStatic,resolveProperties,checkProperties:checkProperties$1,shallowCopy:shallowCopy$1,deepCopy,Description},Symbol.toStringTag,{value:"Module"})),require$$13=getAugmentedNamespace(lib_esm$7);const version$y="logger/5.6.0";let _permanentCensorErrors$4=!1,_censorErrors$4=!1;const LogLevels$4={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$4=LogLevels$4.default,_globalLogger$4=null;function _checkNormalize$4(){try{const te=[];if(["NFD","NFC","NFKD","NFKC"].forEach(ee=>{try{if("test".normalize(ee)!=="test")throw new Error("bad normalize")}catch{te.push(ee)}}),te.length)throw new Error("missing "+te.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(te){return te.message}return null}const _normalizeError$4=_checkNormalize$4();var LogLevel$4;(function(te){te.DEBUG="DEBUG",te.INFO="INFO",te.WARNING="WARNING",te.ERROR="ERROR",te.OFF="OFF"})(LogLevel$4||(LogLevel$4={}));var ErrorCode$4;(function(te){te.UNKNOWN_ERROR="UNKNOWN_ERROR",te.NOT_IMPLEMENTED="NOT_IMPLEMENTED",te.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",te.NETWORK_ERROR="NETWORK_ERROR",te.SERVER_ERROR="SERVER_ERROR",te.TIMEOUT="TIMEOUT",te.BUFFER_OVERRUN="BUFFER_OVERRUN",te.NUMERIC_FAULT="NUMERIC_FAULT",te.MISSING_NEW="MISSING_NEW",te.INVALID_ARGUMENT="INVALID_ARGUMENT",te.MISSING_ARGUMENT="MISSING_ARGUMENT",te.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",te.CALL_EXCEPTION="CALL_EXCEPTION",te.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",te.NONCE_EXPIRED="NONCE_EXPIRED",te.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",te.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",te.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(ErrorCode$4||(ErrorCode$4={}));const HEX$4="0123456789abcdef";class Logger$4{constructor(ee){Object.defineProperty(this,"version",{enumerable:!0,value:ee,writable:!1})}_log(ee,re){const ne=ee.toLowerCase();LogLevels$4[ne]==null&&this.throwArgumentError("invalid log level name","logLevel",ee),!(_logLevel$4>LogLevels$4[ne])&&console.log.apply(console,re)}debug(...ee){this._log(Logger$4.levels.DEBUG,ee)}info(...ee){this._log(Logger$4.levels.INFO,ee)}warn(...ee){this._log(Logger$4.levels.WARNING,ee)}makeError(ee,re,ne){if(_censorErrors$4)return this.makeError("censored error",re,{});re||(re=Logger$4.errors.UNKNOWN_ERROR),ne||(ne={});const ie=[];Object.keys(ne).forEach(fe=>{const ue=ne[fe];try{if(ue instanceof Uint8Array){let le="";for(let pe=0;pe<ue.length;pe++)le+=HEX$4[ue[pe]>>4],le+=HEX$4[ue[pe]&15];ie.push(fe+"=Uint8Array(0x"+le+")")}else ie.push(fe+"="+JSON.stringify(ue))}catch{ie.push(fe+"="+JSON.stringify(ne[fe].toString()))}}),ie.push(`code=${re}`),ie.push(`version=${this.version}`);const oe=ee;let se="";switch(re){case ErrorCode$4.NUMERIC_FAULT:{se="NUMERIC_FAULT";const fe=ee;switch(fe){case"overflow":case"underflow":case"division-by-zero":se+="-"+fe;break;case"negative-power":case"negative-width":se+="-unsupported";break;case"unbound-bitwise-result":se+="-unbound-result";break}break}case ErrorCode$4.CALL_EXCEPTION:case ErrorCode$4.INSUFFICIENT_FUNDS:case ErrorCode$4.MISSING_NEW:case ErrorCode$4.NONCE_EXPIRED:case ErrorCode$4.REPLACEMENT_UNDERPRICED:case ErrorCode$4.TRANSACTION_REPLACED:case ErrorCode$4.UNPREDICTABLE_GAS_LIMIT:se=re;break}se&&(ee+=" [ See: https://links.ethers.org/v5-errors-"+se+" ]"),ie.length&&(ee+=" ("+ie.join(", ")+")");const ae=new Error(ee);return ae.reason=oe,ae.code=re,Object.keys(ne).forEach(function(fe){ae[fe]=ne[fe]}),ae}throwError(ee,re,ne){throw this.makeError(ee,re,ne)}throwArgumentError(ee,re,ne){return this.throwError(ee,Logger$4.errors.INVALID_ARGUMENT,{argument:re,value:ne})}assert(ee,re,ne,ie){ee||this.throwError(re,ne,ie)}assertArgument(ee,re,ne,ie){ee||this.throwArgumentError(re,ne,ie)}checkNormalize(ee){_normalizeError$4&&this.throwError("platform missing String.prototype.normalize",Logger$4.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$4})}checkSafeUint53(ee,re){typeof ee=="number"&&(re==null&&(re="value not safe"),(ee<0||ee>=9007199254740991)&&this.throwError(re,Logger$4.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:ee}),ee%1&&this.throwError(re,Logger$4.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:ee}))}checkArgumentCount(ee,re,ne){ne?ne=": "+ne:ne="",ee<re&&this.throwError("missing argument"+ne,Logger$4.errors.MISSING_ARGUMENT,{count:ee,expectedCount:re}),ee>re&&this.throwError("too many arguments"+ne,Logger$4.errors.UNEXPECTED_ARGUMENT,{count:ee,expectedCount:re})}checkNew(ee,re){(ee===Object||ee==null)&&this.throwError("missing new",Logger$4.errors.MISSING_NEW,{name:re.name})}checkAbstract(ee,re){ee===re?this.throwError("cannot instantiate abstract class "+JSON.stringify(re.name)+" directly; use a sub-class",Logger$4.errors.UNSUPPORTED_OPERATION,{name:ee.name,operation:"new"}):(ee===Object||ee==null)&&this.throwError("missing new",Logger$4.errors.MISSING_NEW,{name:re.name})}static globalLogger(){return _globalLogger$4||(_globalLogger$4=new Logger$4(version$y)),_globalLogger$4}static setCensorship(ee,re){if(!ee&&re&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$4.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$4){if(!ee)return;this.globalLogger().throwError("error censorship permanent",Logger$4.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$4=!!ee,_permanentCensorErrors$4=!!re}static setLogLevel(ee){const re=LogLevels$4[ee.toLowerCase()];if(re==null){Logger$4.globalLogger().warn("invalid log level - "+ee);return}_logLevel$4=re}static from(ee){return new Logger$4(ee)}}Logger$4.errors=ErrorCode$4;Logger$4.levels=LogLevel$4;const version$x="bytes/5.6.1",logger$r=new Logger$4(version$x);function isHexable$4(te){return!!te.toHexString}function addSlice$4(te){return te.slice||(te.slice=function(){const ee=Array.prototype.slice.call(arguments);return addSlice$4(new Uint8Array(Array.prototype.slice.apply(te,ee)))}),te}function isBytesLike$3(te){return isHexString$9(te)&&!(te.length%2)||isBytes$4(te)}function isInteger$4(te){return typeof te=="number"&&te==te&&te%1===0}function isBytes$4(te){if(te==null)return!1;if(te.constructor===Uint8Array)return!0;if(typeof te=="string"||!isInteger$4(te.length)||te.length<0)return!1;for(let ee=0;ee<te.length;ee++){const re=te[ee];if(!isInteger$4(re)||re<0||re>=256)return!1}return!0}function arrayify$4(te,ee){if(ee||(ee={}),typeof te=="number"){logger$r.checkSafeUint53(te,"invalid arrayify value");const re=[];for(;te;)re.unshift(te&255),te=parseInt(String(te/256));return re.length===0&&re.push(0),addSlice$4(new Uint8Array(re))}if(ee.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),isHexable$4(te)&&(te=te.toHexString()),isHexString$9(te)){let re=te.substring(2);re.length%2&&(ee.hexPad==="left"?re="0"+re:ee.hexPad==="right"?re+="0":logger$r.throwArgumentError("hex data is odd-length","value",te));const ne=[];for(let ie=0;ie<re.length;ie+=2)ne.push(parseInt(re.substring(ie,ie+2),16));return addSlice$4(new Uint8Array(ne))}return isBytes$4(te)?addSlice$4(new Uint8Array(te)):logger$r.throwArgumentError("invalid arrayify value","value",te)}function isHexString$9(te,ee){return!(typeof te!="string"||!te.match(/^0x[0-9A-Fa-f]*$/)||ee&&te.length!==2+2*ee)}const HexCharacters$4="0123456789abcdef";function hexlify$4(te,ee){if(ee||(ee={}),typeof te=="number"){logger$r.checkSafeUint53(te,"invalid hexlify value");let re="";for(;te;)re=HexCharacters$4[te&15]+re,te=Math.floor(te/16);return re.length?(re.length%2&&(re="0"+re),"0x"+re):"0x00"}if(typeof te=="bigint")return te=te.toString(16),te.length%2?"0x0"+te:"0x"+te;if(ee.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),isHexable$4(te))return te.toHexString();if(isHexString$9(te))return te.length%2&&(ee.hexPad==="left"?te="0x0"+te.substring(2):ee.hexPad==="right"?te+="0":logger$r.throwArgumentError("hex data is odd-length","value",te)),te.toLowerCase();if(isBytes$4(te)){let re="0x";for(let ne=0;ne<te.length;ne++){let ie=te[ne];re+=HexCharacters$4[(ie&240)>>4]+HexCharacters$4[ie&15]}return re}return logger$r.throwArgumentError("invalid hexlify value","value",te)}const version$w="rlp/5.5.0",logger$q=new Logger$4(version$w);function arrayifyInteger$1(te){const ee=[];for(;te;)ee.unshift(te&255),te>>=8;return ee}function unarrayifyInteger$1(te,ee,re){let ne=0;for(let ie=0;ie<re;ie++)ne=ne*256+te[ee+ie];return ne}function _encode$1(te){if(Array.isArray(te)){let ne=[];if(te.forEach(function(oe){ne=ne.concat(_encode$1(oe))}),ne.length<=55)return ne.unshift(192+ne.length),ne;const ie=arrayifyInteger$1(ne.length);return ie.unshift(247+ie.length),ie.concat(ne)}isBytesLike$3(te)||logger$q.throwArgumentError("RLP object must be BytesLike","object",te);const ee=Array.prototype.slice.call(arrayify$4(te));if(ee.length===1&&ee[0]<=127)return ee;if(ee.length<=55)return ee.unshift(128+ee.length),ee;const re=arrayifyInteger$1(ee.length);return re.unshift(183+re.length),re.concat(ee)}function encode$6(te){return hexlify$4(_encode$1(te))}function _decodeChildren$1(te,ee,re,ne){const ie=[];for(;re<ee+1+ne;){const oe=_decode$2(te,re);ie.push(oe.result),re+=oe.consumed,re>ee+1+ne&&logger$q.throwError("child data too short",Logger$4.errors.BUFFER_OVERRUN,{})}return{consumed:1+ne,result:ie}}function _decode$2(te,ee){if(te.length===0&&logger$q.throwError("data too short",Logger$4.errors.BUFFER_OVERRUN,{}),te[ee]>=248){const re=te[ee]-247;ee+1+re>te.length&&logger$q.throwError("data short segment too short",Logger$4.errors.BUFFER_OVERRUN,{});const ne=unarrayifyInteger$1(te,ee+1,re);return ee+1+re+ne>te.length&&logger$q.throwError("data long segment too short",Logger$4.errors.BUFFER_OVERRUN,{}),_decodeChildren$1(te,ee,ee+1+re,re+ne)}else if(te[ee]>=192){const re=te[ee]-192;return ee+1+re>te.length&&logger$q.throwError("data array too short",Logger$4.errors.BUFFER_OVERRUN,{}),_decodeChildren$1(te,ee,ee+1,re)}else if(te[ee]>=184){const re=te[ee]-183;ee+1+re>te.length&&logger$q.throwError("data array too short",Logger$4.errors.BUFFER_OVERRUN,{});const ne=unarrayifyInteger$1(te,ee+1,re);ee+1+re+ne>te.length&&logger$q.throwError("data array too short",Logger$4.errors.BUFFER_OVERRUN,{});const ie=hexlify$4(te.slice(ee+1+re,ee+1+re+ne));return{consumed:1+re+ne,result:ie}}else if(te[ee]>=128){const re=te[ee]-128;ee+1+re>te.length&&logger$q.throwError("data too short",Logger$4.errors.BUFFER_OVERRUN,{});const ne=hexlify$4(te.slice(ee+1,ee+1+re));return{consumed:1+re,result:ne}}return{consumed:1,result:hexlify$4(te[ee])}}function decode$8(te){const ee=arrayify$4(te),re=_decode$2(ee,0);return re.consumed!==ee.length&&logger$q.throwArgumentError("invalid rlp data","data",te),re.result}var lib_esm$6=Object.freeze(Object.defineProperty({__proto__:null,encode:encode$6,decode:decode$8},Symbol.toStringTag,{value:"Module"})),require$$14=getAugmentedNamespace(lib_esm$6);function createCommonjsModule$2(te,ee,re){return re={path:ee,exports:{},require:function(ne,ie){return commonjsRequire$2(ne,ie==null?re.path:ie)}},te(re,re.exports),re.exports}function commonjsRequire$2(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var minimalisticAssert$1=assert$f;function assert$f(te,ee){if(!te)throw new Error(ee||"Assertion failed")}assert$f.equal=function(ee,re,ne){if(ee!=re)throw new Error(ne||"Assertion failed: "+ee+" != "+re)};var utils_1$3=createCommonjsModule$2(function(te,ee){var re=ee;function ne(se,ae){if(Array.isArray(se))return se.slice();if(!se)return[];var fe=[];if(typeof se!="string"){for(var ue=0;ue<se.length;ue++)fe[ue]=se[ue]|0;return fe}if(ae==="hex"){se=se.replace(/[^a-z0-9]+/ig,""),se.length%2!==0&&(se="0"+se);for(var ue=0;ue<se.length;ue+=2)fe.push(parseInt(se[ue]+se[ue+1],16))}else for(var ue=0;ue<se.length;ue++){var le=se.charCodeAt(ue),pe=le>>8,rr=le&255;pe?fe.push(pe,rr):fe.push(rr)}return fe}re.toArray=ne;function ie(se){return se.length===1?"0"+se:se}re.zero2=ie;function oe(se){for(var ae="",fe=0;fe<se.length;fe++)ae+=ie(se[fe].toString(16));return ae}re.toHex=oe,re.encode=function(ae,fe){return fe==="hex"?oe(ae):ae}}),utils_1$1$2=createCommonjsModule$2(function(te,ee){var re=ee;re.assert=minimalisticAssert$1,re.toArray=utils_1$3.toArray,re.zero2=utils_1$3.zero2,re.toHex=utils_1$3.toHex,re.encode=utils_1$3.encode;function ne(fe,ue,le){var pe=new Array(Math.max(fe.bitLength(),le)+1);pe.fill(0);for(var rr=1<<ue+1,cr=fe.clone(),ar=0;ar<pe.length;ar++){var mr,pr=cr.andln(rr-1);cr.isOdd()?(pr>(rr>>1)-1?mr=(rr>>1)-pr:mr=pr,cr.isubn(mr)):mr=0,pe[ar]=mr,cr.iushrn(1)}return pe}re.getNAF=ne;function ie(fe,ue){var le=[[],[]];fe=fe.clone(),ue=ue.clone();for(var pe=0,rr=0,cr;fe.cmpn(-pe)>0||ue.cmpn(-rr)>0;){var ar=fe.andln(3)+pe&3,mr=ue.andln(3)+rr&3;ar===3&&(ar=-1),mr===3&&(mr=-1);var pr;(ar&1)===0?pr=0:(cr=fe.andln(7)+pe&7,(cr===3||cr===5)&&mr===2?pr=-ar:pr=ar),le[0].push(pr);var yr;(mr&1)===0?yr=0:(cr=ue.andln(7)+rr&7,(cr===3||cr===5)&&ar===2?yr=-mr:yr=mr),le[1].push(yr),2*pe===pr+1&&(pe=1-pe),2*rr===yr+1&&(rr=1-rr),fe.iushrn(1),ue.iushrn(1)}return le}re.getJSF=ie;function oe(fe,ue,le){var pe="_"+ue;fe.prototype[ue]=function(){return this[pe]!==void 0?this[pe]:this[pe]=le.call(this)}}re.cachedProperty=oe;function se(fe){return typeof fe=="string"?re.toArray(fe,"hex"):fe}re.parseBytes=se;function ae(fe){return new _BN(fe,"hex","le")}re.intFromLE=ae}),getNAF$2=utils_1$1$2.getNAF,getJSF$2=utils_1$1$2.getJSF,assert$1$2=utils_1$1$2.assert;function BaseCurve$2(te,ee){this.type=te,this.p=new _BN(ee.p,16),this.red=ee.prime?_BN.red(ee.prime):_BN.mont(this.p),this.zero=new _BN(0).toRed(this.red),this.one=new _BN(1).toRed(this.red),this.two=new _BN(2).toRed(this.red),this.n=ee.n&&new _BN(ee.n,16),this.g=ee.g&&this.pointFromJSON(ee.g,ee.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var re=this.n&&this.p.div(this.n);!re||re.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$3=BaseCurve$2;BaseCurve$2.prototype.point=function(){throw new Error("Not implemented")};BaseCurve$2.prototype.validate=function(){throw new Error("Not implemented")};BaseCurve$2.prototype._fixedNafMul=function(ee,re){assert$1$2(ee.precomputed);var ne=ee._getDoubles(),ie=getNAF$2(re,1,this._bitLength),oe=(1<<ne.step+1)-(ne.step%2===0?2:1);oe/=3;var se=[],ae,fe;for(ae=0;ae<ie.length;ae+=ne.step){fe=0;for(var ue=ae+ne.step-1;ue>=ae;ue--)fe=(fe<<1)+ie[ue];se.push(fe)}for(var le=this.jpoint(null,null,null),pe=this.jpoint(null,null,null),rr=oe;rr>0;rr--){for(ae=0;ae<se.length;ae++)fe=se[ae],fe===rr?pe=pe.mixedAdd(ne.points[ae]):fe===-rr&&(pe=pe.mixedAdd(ne.points[ae].neg()));le=le.add(pe)}return le.toP()};BaseCurve$2.prototype._wnafMul=function(ee,re){var ne=4,ie=ee._getNAFPoints(ne);ne=ie.wnd;for(var oe=ie.points,se=getNAF$2(re,ne,this._bitLength),ae=this.jpoint(null,null,null),fe=se.length-1;fe>=0;fe--){for(var ue=0;fe>=0&&se[fe]===0;fe--)ue++;if(fe>=0&&ue++,ae=ae.dblp(ue),fe<0)break;var le=se[fe];assert$1$2(le!==0),ee.type==="affine"?le>0?ae=ae.mixedAdd(oe[le-1>>1]):ae=ae.mixedAdd(oe[-le-1>>1].neg()):le>0?ae=ae.add(oe[le-1>>1]):ae=ae.add(oe[-le-1>>1].neg())}return ee.type==="affine"?ae.toP():ae};BaseCurve$2.prototype._wnafMulAdd=function(ee,re,ne,ie,oe){var se=this._wnafT1,ae=this._wnafT2,fe=this._wnafT3,ue=0,le,pe,rr;for(le=0;le<ie;le++){rr=re[le];var cr=rr._getNAFPoints(ee);se[le]=cr.wnd,ae[le]=cr.points}for(le=ie-1;le>=1;le-=2){var ar=le-1,mr=le;if(se[ar]!==1||se[mr]!==1){fe[ar]=getNAF$2(ne[ar],se[ar],this._bitLength),fe[mr]=getNAF$2(ne[mr],se[mr],this._bitLength),ue=Math.max(fe[ar].length,ue),ue=Math.max(fe[mr].length,ue);continue}var pr=[re[ar],null,null,re[mr]];re[ar].y.cmp(re[mr].y)===0?(pr[1]=re[ar].add(re[mr]),pr[2]=re[ar].toJ().mixedAdd(re[mr].neg())):re[ar].y.cmp(re[mr].y.redNeg())===0?(pr[1]=re[ar].toJ().mixedAdd(re[mr]),pr[2]=re[ar].add(re[mr].neg())):(pr[1]=re[ar].toJ().mixedAdd(re[mr]),pr[2]=re[ar].toJ().mixedAdd(re[mr].neg()));var yr=[-3,-1,-5,-7,0,7,5,1,3],vr=getJSF$2(ne[ar],ne[mr]);for(ue=Math.max(vr[0].length,ue),fe[ar]=new Array(ue),fe[mr]=new Array(ue),pe=0;pe<ue;pe++){var Er=vr[0][pe]|0,Tr=vr[1][pe]|0;fe[ar][pe]=yr[(Er+1)*3+(Tr+1)],fe[mr][pe]=0,ae[ar]=pr}}var Ir=this.jpoint(null,null,null),Or=this._wnafT4;for(le=ue;le>=0;le--){for(var Hr=0;le>=0;){var Pr=!0;for(pe=0;pe<ie;pe++)Or[pe]=fe[pe][le]|0,Or[pe]!==0&&(Pr=!1);if(!Pr)break;Hr++,le--}if(le>=0&&Hr++,Ir=Ir.dblp(Hr),le<0)break;for(pe=0;pe<ie;pe++){var Br=Or[pe];Br!==0&&(Br>0?rr=ae[pe][Br-1>>1]:Br<0&&(rr=ae[pe][-Br-1>>1].neg()),rr.type==="affine"?Ir=Ir.mixedAdd(rr):Ir=Ir.add(rr))}}for(le=0;le<ie;le++)ae[le]=null;return oe?Ir:Ir.toP()};function BasePoint$2(te,ee){this.curve=te,this.type=ee,this.precomputed=null}BaseCurve$2.BasePoint=BasePoint$2;BasePoint$2.prototype.eq=function(){throw new Error("Not implemented")};BasePoint$2.prototype.validate=function(){return this.curve.validate(this)};BaseCurve$2.prototype.decodePoint=function(ee,re){ee=utils_1$1$2.toArray(ee,re);var ne=this.p.byteLength();if((ee[0]===4||ee[0]===6||ee[0]===7)&&ee.length-1===2*ne){ee[0]===6?assert$1$2(ee[ee.length-1]%2===0):ee[0]===7&&assert$1$2(ee[ee.length-1]%2===1);var ie=this.point(ee.slice(1,1+ne),ee.slice(1+ne,1+2*ne));return ie}else if((ee[0]===2||ee[0]===3)&&ee.length-1===ne)return this.pointFromX(ee.slice(1,1+ne),ee[0]===3);throw new Error("Unknown point format")};BasePoint$2.prototype.encodeCompressed=function(ee){return this.encode(ee,!0)};BasePoint$2.prototype._encode=function(ee){var re=this.curve.p.byteLength(),ne=this.getX().toArray("be",re);return ee?[this.getY().isEven()?2:3].concat(ne):[4].concat(ne,this.getY().toArray("be",re))};BasePoint$2.prototype.encode=function(ee,re){return utils_1$1$2.encode(this._encode(re),ee)};BasePoint$2.prototype.precompute=function(ee){if(this.precomputed)return this;var re={doubles:null,naf:null,beta:null};return re.naf=this._getNAFPoints(8),re.doubles=this._getDoubles(4,ee),re.beta=this._getBeta(),this.precomputed=re,this};BasePoint$2.prototype._hasDoubles=function(ee){if(!this.precomputed)return!1;var re=this.precomputed.doubles;return re?re.points.length>=Math.ceil((ee.bitLength()+1)/re.step):!1};BasePoint$2.prototype._getDoubles=function(ee,re){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var ne=[this],ie=this,oe=0;oe<re;oe+=ee){for(var se=0;se<ee;se++)ie=ie.dbl();ne.push(ie)}return{step:ee,points:ne}};BasePoint$2.prototype._getNAFPoints=function(ee){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var re=[this],ne=(1<<ee)-1,ie=ne===1?null:this.dbl(),oe=1;oe<ne;oe++)re[oe]=re[oe-1].add(ie);return{wnd:ee,points:re}};BasePoint$2.prototype._getBeta=function(){return null};BasePoint$2.prototype.dblp=function(ee){for(var re=this,ne=0;ne<ee;ne++)re=re.dbl();return re};var inherits_browser$2=createCommonjsModule$2(function(te){typeof Object.create=="function"?te.exports=function(re,ne){ne&&(re.super_=ne,re.prototype=Object.create(ne.prototype,{constructor:{value:re,enumerable:!1,writable:!0,configurable:!0}}))}:te.exports=function(re,ne){if(ne){re.super_=ne;var ie=function(){};ie.prototype=ne.prototype,re.prototype=new ie,re.prototype.constructor=re}}}),assert$2$2=utils_1$1$2.assert;function ShortCurve$2(te){base$3.call(this,"short",te),this.a=new _BN(te.a,16).toRed(this.red),this.b=new _BN(te.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(te),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits_browser$2(ShortCurve$2,base$3);var short_1$1=ShortCurve$2;ShortCurve$2.prototype._getEndomorphism=function(ee){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var re,ne;if(ee.beta)re=new _BN(ee.beta,16).toRed(this.red);else{var ie=this._getEndoRoots(this.p);re=ie[0].cmp(ie[1])<0?ie[0]:ie[1],re=re.toRed(this.red)}if(ee.lambda)ne=new _BN(ee.lambda,16);else{var oe=this._getEndoRoots(this.n);this.g.mul(oe[0]).x.cmp(this.g.x.redMul(re))===0?ne=oe[0]:(ne=oe[1],assert$2$2(this.g.mul(ne).x.cmp(this.g.x.redMul(re))===0))}var se;return ee.basis?se=ee.basis.map(function(ae){return{a:new _BN(ae.a,16),b:new _BN(ae.b,16)}}):se=this._getEndoBasis(ne),{beta:re,lambda:ne,basis:se}}};ShortCurve$2.prototype._getEndoRoots=function(ee){var re=ee===this.p?this.red:_BN.mont(ee),ne=new _BN(2).toRed(re).redInvm(),ie=ne.redNeg(),oe=new _BN(3).toRed(re).redNeg().redSqrt().redMul(ne),se=ie.redAdd(oe).fromRed(),ae=ie.redSub(oe).fromRed();return[se,ae]};ShortCurve$2.prototype._getEndoBasis=function(ee){for(var re=this.n.ushrn(Math.floor(this.n.bitLength()/2)),ne=ee,ie=this.n.clone(),oe=new _BN(1),se=new _BN(0),ae=new _BN(0),fe=new _BN(1),ue,le,pe,rr,cr,ar,mr,pr=0,yr,vr;ne.cmpn(0)!==0;){var Er=ie.div(ne);yr=ie.sub(Er.mul(ne)),vr=ae.sub(Er.mul(oe));var Tr=fe.sub(Er.mul(se));if(!pe&&yr.cmp(re)<0)ue=mr.neg(),le=oe,pe=yr.neg(),rr=vr;else if(pe&&++pr===2)break;mr=yr,ie=ne,ne=yr,ae=oe,oe=vr,fe=se,se=Tr}cr=yr.neg(),ar=vr;var Ir=pe.sqr().add(rr.sqr()),Or=cr.sqr().add(ar.sqr());return Or.cmp(Ir)>=0&&(cr=ue,ar=le),pe.negative&&(pe=pe.neg(),rr=rr.neg()),cr.negative&&(cr=cr.neg(),ar=ar.neg()),[{a:pe,b:rr},{a:cr,b:ar}]};ShortCurve$2.prototype._endoSplit=function(ee){var re=this.endo.basis,ne=re[0],ie=re[1],oe=ie.b.mul(ee).divRound(this.n),se=ne.b.neg().mul(ee).divRound(this.n),ae=oe.mul(ne.a),fe=se.mul(ie.a),ue=oe.mul(ne.b),le=se.mul(ie.b),pe=ee.sub(ae).sub(fe),rr=ue.add(le).neg();return{k1:pe,k2:rr}};ShortCurve$2.prototype.pointFromX=function(ee,re){ee=new _BN(ee,16),ee.red||(ee=ee.toRed(this.red));var ne=ee.redSqr().redMul(ee).redIAdd(ee.redMul(this.a)).redIAdd(this.b),ie=ne.redSqrt();if(ie.redSqr().redSub(ne).cmp(this.zero)!==0)throw new Error("invalid point");var oe=ie.fromRed().isOdd();return(re&&!oe||!re&&oe)&&(ie=ie.redNeg()),this.point(ee,ie)};ShortCurve$2.prototype.validate=function(ee){if(ee.inf)return!0;var re=ee.x,ne=ee.y,ie=this.a.redMul(re),oe=re.redSqr().redMul(re).redIAdd(ie).redIAdd(this.b);return ne.redSqr().redISub(oe).cmpn(0)===0};ShortCurve$2.prototype._endoWnafMulAdd=function(ee,re,ne){for(var ie=this._endoWnafT1,oe=this._endoWnafT2,se=0;se<ee.length;se++){var ae=this._endoSplit(re[se]),fe=ee[se],ue=fe._getBeta();ae.k1.negative&&(ae.k1.ineg(),fe=fe.neg(!0)),ae.k2.negative&&(ae.k2.ineg(),ue=ue.neg(!0)),ie[se*2]=fe,ie[se*2+1]=ue,oe[se*2]=ae.k1,oe[se*2+1]=ae.k2}for(var le=this._wnafMulAdd(1,ie,oe,se*2,ne),pe=0;pe<se*2;pe++)ie[pe]=null,oe[pe]=null;return le};function Point$4(te,ee,re,ne){base$3.BasePoint.call(this,te,"affine"),ee===null&&re===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new _BN(ee,16),this.y=new _BN(re,16),ne&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits_browser$2(Point$4,base$3.BasePoint);ShortCurve$2.prototype.point=function(ee,re,ne){return new Point$4(this,ee,re,ne)};ShortCurve$2.prototype.pointFromJSON=function(ee,re){return Point$4.fromJSON(this,ee,re)};Point$4.prototype._getBeta=function(){if(!!this.curve.endo){var ee=this.precomputed;if(ee&&ee.beta)return ee.beta;var re=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(ee){var ne=this.curve,ie=function(oe){return ne.point(oe.x.redMul(ne.endo.beta),oe.y)};ee.beta=re,re.precomputed={beta:null,naf:ee.naf&&{wnd:ee.naf.wnd,points:ee.naf.points.map(ie)},doubles:ee.doubles&&{step:ee.doubles.step,points:ee.doubles.points.map(ie)}}}return re}};Point$4.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point$4.fromJSON=function(ee,re,ne){typeof re=="string"&&(re=JSON.parse(re));var ie=ee.point(re[0],re[1],ne);if(!re[2])return ie;function oe(ae){return ee.point(ae[0],ae[1],ne)}var se=re[2];return ie.precomputed={beta:null,doubles:se.doubles&&{step:se.doubles.step,points:[ie].concat(se.doubles.points.map(oe))},naf:se.naf&&{wnd:se.naf.wnd,points:[ie].concat(se.naf.points.map(oe))}},ie};Point$4.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point$4.prototype.isInfinity=function(){return this.inf};Point$4.prototype.add=function(ee){if(this.inf)return ee;if(ee.inf)return this;if(this.eq(ee))return this.dbl();if(this.neg().eq(ee))return this.curve.point(null,null);if(this.x.cmp(ee.x)===0)return this.curve.point(null,null);var re=this.y.redSub(ee.y);re.cmpn(0)!==0&&(re=re.redMul(this.x.redSub(ee.x).redInvm()));var ne=re.redSqr().redISub(this.x).redISub(ee.x),ie=re.redMul(this.x.redSub(ne)).redISub(this.y);return this.curve.point(ne,ie)};Point$4.prototype.dbl=function(){if(this.inf)return this;var ee=this.y.redAdd(this.y);if(ee.cmpn(0)===0)return this.curve.point(null,null);var re=this.curve.a,ne=this.x.redSqr(),ie=ee.redInvm(),oe=ne.redAdd(ne).redIAdd(ne).redIAdd(re).redMul(ie),se=oe.redSqr().redISub(this.x.redAdd(this.x)),ae=oe.redMul(this.x.redSub(se)).redISub(this.y);return this.curve.point(se,ae)};Point$4.prototype.getX=function(){return this.x.fromRed()};Point$4.prototype.getY=function(){return this.y.fromRed()};Point$4.prototype.mul=function(ee){return ee=new _BN(ee,16),this.isInfinity()?this:this._hasDoubles(ee)?this.curve._fixedNafMul(this,ee):this.curve.endo?this.curve._endoWnafMulAdd([this],[ee]):this.curve._wnafMul(this,ee)};Point$4.prototype.mulAdd=function(ee,re,ne){var ie=[this,re],oe=[ee,ne];return this.curve.endo?this.curve._endoWnafMulAdd(ie,oe):this.curve._wnafMulAdd(1,ie,oe,2)};Point$4.prototype.jmulAdd=function(ee,re,ne){var ie=[this,re],oe=[ee,ne];return this.curve.endo?this.curve._endoWnafMulAdd(ie,oe,!0):this.curve._wnafMulAdd(1,ie,oe,2,!0)};Point$4.prototype.eq=function(ee){return this===ee||this.inf===ee.inf&&(this.inf||this.x.cmp(ee.x)===0&&this.y.cmp(ee.y)===0)};Point$4.prototype.neg=function(ee){if(this.inf)return this;var re=this.curve.point(this.x,this.y.redNeg());if(ee&&this.precomputed){var ne=this.precomputed,ie=function(oe){return oe.neg()};re.precomputed={naf:ne.naf&&{wnd:ne.naf.wnd,points:ne.naf.points.map(ie)},doubles:ne.doubles&&{step:ne.doubles.step,points:ne.doubles.points.map(ie)}}}return re};Point$4.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var ee=this.curve.jpoint(this.x,this.y,this.curve.one);return ee};function JPoint$2(te,ee,re,ne){base$3.BasePoint.call(this,te,"jacobian"),ee===null&&re===null&&ne===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new _BN(0)):(this.x=new _BN(ee,16),this.y=new _BN(re,16),this.z=new _BN(ne,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits_browser$2(JPoint$2,base$3.BasePoint);ShortCurve$2.prototype.jpoint=function(ee,re,ne){return new JPoint$2(this,ee,re,ne)};JPoint$2.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var ee=this.z.redInvm(),re=ee.redSqr(),ne=this.x.redMul(re),ie=this.y.redMul(re).redMul(ee);return this.curve.point(ne,ie)};JPoint$2.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint$2.prototype.add=function(ee){if(this.isInfinity())return ee;if(ee.isInfinity())return this;var re=ee.z.redSqr(),ne=this.z.redSqr(),ie=this.x.redMul(re),oe=ee.x.redMul(ne),se=this.y.redMul(re.redMul(ee.z)),ae=ee.y.redMul(ne.redMul(this.z)),fe=ie.redSub(oe),ue=se.redSub(ae);if(fe.cmpn(0)===0)return ue.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var le=fe.redSqr(),pe=le.redMul(fe),rr=ie.redMul(le),cr=ue.redSqr().redIAdd(pe).redISub(rr).redISub(rr),ar=ue.redMul(rr.redISub(cr)).redISub(se.redMul(pe)),mr=this.z.redMul(ee.z).redMul(fe);return this.curve.jpoint(cr,ar,mr)};JPoint$2.prototype.mixedAdd=function(ee){if(this.isInfinity())return ee.toJ();if(ee.isInfinity())return this;var re=this.z.redSqr(),ne=this.x,ie=ee.x.redMul(re),oe=this.y,se=ee.y.redMul(re).redMul(this.z),ae=ne.redSub(ie),fe=oe.redSub(se);if(ae.cmpn(0)===0)return fe.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ue=ae.redSqr(),le=ue.redMul(ae),pe=ne.redMul(ue),rr=fe.redSqr().redIAdd(le).redISub(pe).redISub(pe),cr=fe.redMul(pe.redISub(rr)).redISub(oe.redMul(le)),ar=this.z.redMul(ae);return this.curve.jpoint(rr,cr,ar)};JPoint$2.prototype.dblp=function(ee){if(ee===0)return this;if(this.isInfinity())return this;if(!ee)return this.dbl();var re;if(this.curve.zeroA||this.curve.threeA){var ne=this;for(re=0;re<ee;re++)ne=ne.dbl();return ne}var ie=this.curve.a,oe=this.curve.tinv,se=this.x,ae=this.y,fe=this.z,ue=fe.redSqr().redSqr(),le=ae.redAdd(ae);for(re=0;re<ee;re++){var pe=se.redSqr(),rr=le.redSqr(),cr=rr.redSqr(),ar=pe.redAdd(pe).redIAdd(pe).redIAdd(ie.redMul(ue)),mr=se.redMul(rr),pr=ar.redSqr().redISub(mr.redAdd(mr)),yr=mr.redISub(pr),vr=ar.redMul(yr);vr=vr.redIAdd(vr).redISub(cr);var Er=le.redMul(fe);re+1<ee&&(ue=ue.redMul(cr)),se=pr,fe=Er,le=vr}return this.curve.jpoint(se,le.redMul(oe),fe)};JPoint$2.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint$2.prototype._zeroDbl=function(){var ee,re,ne;if(this.zOne){var ie=this.x.redSqr(),oe=this.y.redSqr(),se=oe.redSqr(),ae=this.x.redAdd(oe).redSqr().redISub(ie).redISub(se);ae=ae.redIAdd(ae);var fe=ie.redAdd(ie).redIAdd(ie),ue=fe.redSqr().redISub(ae).redISub(ae),le=se.redIAdd(se);le=le.redIAdd(le),le=le.redIAdd(le),ee=ue,re=fe.redMul(ae.redISub(ue)).redISub(le),ne=this.y.redAdd(this.y)}else{var pe=this.x.redSqr(),rr=this.y.redSqr(),cr=rr.redSqr(),ar=this.x.redAdd(rr).redSqr().redISub(pe).redISub(cr);ar=ar.redIAdd(ar);var mr=pe.redAdd(pe).redIAdd(pe),pr=mr.redSqr(),yr=cr.redIAdd(cr);yr=yr.redIAdd(yr),yr=yr.redIAdd(yr),ee=pr.redISub(ar).redISub(ar),re=mr.redMul(ar.redISub(ee)).redISub(yr),ne=this.y.redMul(this.z),ne=ne.redIAdd(ne)}return this.curve.jpoint(ee,re,ne)};JPoint$2.prototype._threeDbl=function(){var ee,re,ne;if(this.zOne){var ie=this.x.redSqr(),oe=this.y.redSqr(),se=oe.redSqr(),ae=this.x.redAdd(oe).redSqr().redISub(ie).redISub(se);ae=ae.redIAdd(ae);var fe=ie.redAdd(ie).redIAdd(ie).redIAdd(this.curve.a),ue=fe.redSqr().redISub(ae).redISub(ae);ee=ue;var le=se.redIAdd(se);le=le.redIAdd(le),le=le.redIAdd(le),re=fe.redMul(ae.redISub(ue)).redISub(le),ne=this.y.redAdd(this.y)}else{var pe=this.z.redSqr(),rr=this.y.redSqr(),cr=this.x.redMul(rr),ar=this.x.redSub(pe).redMul(this.x.redAdd(pe));ar=ar.redAdd(ar).redIAdd(ar);var mr=cr.redIAdd(cr);mr=mr.redIAdd(mr);var pr=mr.redAdd(mr);ee=ar.redSqr().redISub(pr),ne=this.y.redAdd(this.z).redSqr().redISub(rr).redISub(pe);var yr=rr.redSqr();yr=yr.redIAdd(yr),yr=yr.redIAdd(yr),yr=yr.redIAdd(yr),re=ar.redMul(mr.redISub(ee)).redISub(yr)}return this.curve.jpoint(ee,re,ne)};JPoint$2.prototype._dbl=function(){var ee=this.curve.a,re=this.x,ne=this.y,ie=this.z,oe=ie.redSqr().redSqr(),se=re.redSqr(),ae=ne.redSqr(),fe=se.redAdd(se).redIAdd(se).redIAdd(ee.redMul(oe)),ue=re.redAdd(re);ue=ue.redIAdd(ue);var le=ue.redMul(ae),pe=fe.redSqr().redISub(le.redAdd(le)),rr=le.redISub(pe),cr=ae.redSqr();cr=cr.redIAdd(cr),cr=cr.redIAdd(cr),cr=cr.redIAdd(cr);var ar=fe.redMul(rr).redISub(cr),mr=ne.redAdd(ne).redMul(ie);return this.curve.jpoint(pe,ar,mr)};JPoint$2.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var ee=this.x.redSqr(),re=this.y.redSqr(),ne=this.z.redSqr(),ie=re.redSqr(),oe=ee.redAdd(ee).redIAdd(ee),se=oe.redSqr(),ae=this.x.redAdd(re).redSqr().redISub(ee).redISub(ie);ae=ae.redIAdd(ae),ae=ae.redAdd(ae).redIAdd(ae),ae=ae.redISub(se);var fe=ae.redSqr(),ue=ie.redIAdd(ie);ue=ue.redIAdd(ue),ue=ue.redIAdd(ue),ue=ue.redIAdd(ue);var le=oe.redIAdd(ae).redSqr().redISub(se).redISub(fe).redISub(ue),pe=re.redMul(le);pe=pe.redIAdd(pe),pe=pe.redIAdd(pe);var rr=this.x.redMul(fe).redISub(pe);rr=rr.redIAdd(rr),rr=rr.redIAdd(rr);var cr=this.y.redMul(le.redMul(ue.redISub(le)).redISub(ae.redMul(fe)));cr=cr.redIAdd(cr),cr=cr.redIAdd(cr),cr=cr.redIAdd(cr);var ar=this.z.redAdd(ae).redSqr().redISub(ne).redISub(fe);return this.curve.jpoint(rr,cr,ar)};JPoint$2.prototype.mul=function(ee,re){return ee=new _BN(ee,re),this.curve._wnafMul(this,ee)};JPoint$2.prototype.eq=function(ee){if(ee.type==="affine")return this.eq(ee.toJ());if(this===ee)return!0;var re=this.z.redSqr(),ne=ee.z.redSqr();if(this.x.redMul(ne).redISub(ee.x.redMul(re)).cmpn(0)!==0)return!1;var ie=re.redMul(this.z),oe=ne.redMul(ee.z);return this.y.redMul(oe).redISub(ee.y.redMul(ie)).cmpn(0)===0};JPoint$2.prototype.eqXToP=function(ee){var re=this.z.redSqr(),ne=ee.toRed(this.curve.red).redMul(re);if(this.x.cmp(ne)===0)return!0;for(var ie=ee.clone(),oe=this.curve.redN.redMul(re);;){if(ie.iadd(this.curve.n),ie.cmp(this.curve.p)>=0)return!1;if(ne.redIAdd(oe),this.x.cmp(ne)===0)return!0}};JPoint$2.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint$2.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var curve_1$1=createCommonjsModule$2(function(te,ee){var re=ee;re.base=base$3,re.short=short_1$1,re.mont=null,re.edwards=null}),curves_1$1=createCommonjsModule$2(function(te,ee){var re=ee,ne=utils_1$1$2.assert;function ie(ae){ae.type==="short"?this.curve=new curve_1$1.short(ae):ae.type==="edwards"?this.curve=new curve_1$1.edwards(ae):this.curve=new curve_1$1.mont(ae),this.g=this.curve.g,this.n=this.curve.n,this.hash=ae.hash,ne(this.g.validate(),"Invalid curve"),ne(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}re.PresetCurve=ie;function oe(ae,fe){Object.defineProperty(re,ae,{configurable:!0,enumerable:!0,get:function(){var ue=new ie(fe);return Object.defineProperty(re,ae,{configurable:!0,enumerable:!0,value:ue}),ue}})}oe("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash$4.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),oe("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash$4.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),oe("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash$4.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),oe("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash$4.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),oe("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash$4.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),oe("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$4.sha256,gRed:!1,g:["9"]}),oe("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$4.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var se;try{se=null.crash()}catch{se=void 0}oe("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash$4.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",se]})});function HmacDRBG$3(te){if(!(this instanceof HmacDRBG$3))return new HmacDRBG$3(te);this.hash=te.hash,this.predResist=!!te.predResist,this.outLen=this.hash.outSize,this.minEntropy=te.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var ee=utils_1$3.toArray(te.entropy,te.entropyEnc||"hex"),re=utils_1$3.toArray(te.nonce,te.nonceEnc||"hex"),ne=utils_1$3.toArray(te.pers,te.persEnc||"hex");minimalisticAssert$1(ee.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(ee,re,ne)}var hmacDrbg$2=HmacDRBG$3;HmacDRBG$3.prototype._init=function(ee,re,ne){var ie=ee.concat(re).concat(ne);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var oe=0;oe<this.V.length;oe++)this.K[oe]=0,this.V[oe]=1;this._update(ie),this._reseed=1,this.reseedInterval=281474976710656};HmacDRBG$3.prototype._hmac=function(){return new hash$4.hmac(this.hash,this.K)};HmacDRBG$3.prototype._update=function(ee){var re=this._hmac().update(this.V).update([0]);ee&&(re=re.update(ee)),this.K=re.digest(),this.V=this._hmac().update(this.V).digest(),ee&&(this.K=this._hmac().update(this.V).update([1]).update(ee).digest(),this.V=this._hmac().update(this.V).digest())};HmacDRBG$3.prototype.reseed=function(ee,re,ne,ie){typeof re!="string"&&(ie=ne,ne=re,re=null),ee=utils_1$3.toArray(ee,re),ne=utils_1$3.toArray(ne,ie),minimalisticAssert$1(ee.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(ee.concat(ne||[])),this._reseed=1};HmacDRBG$3.prototype.generate=function(ee,re,ne,ie){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof re!="string"&&(ie=ne,ne=re,re=null),ne&&(ne=utils_1$3.toArray(ne,ie||"hex"),this._update(ne));for(var oe=[];oe.length<ee;)this.V=this._hmac().update(this.V).digest(),oe=oe.concat(this.V);var se=oe.slice(0,ee);return this._update(ne),this._reseed++,utils_1$3.encode(se,re)};var assert$3$2=utils_1$1$2.assert;function KeyPair$5(te,ee){this.ec=te,this.priv=null,this.pub=null,ee.priv&&this._importPrivate(ee.priv,ee.privEnc),ee.pub&&this._importPublic(ee.pub,ee.pubEnc)}var key$3=KeyPair$5;KeyPair$5.fromPublic=function(ee,re,ne){return re instanceof KeyPair$5?re:new KeyPair$5(ee,{pub:re,pubEnc:ne})};KeyPair$5.fromPrivate=function(ee,re,ne){return re instanceof KeyPair$5?re:new KeyPair$5(ee,{priv:re,privEnc:ne})};KeyPair$5.prototype.validate=function(){var ee=this.getPublic();return ee.isInfinity()?{result:!1,reason:"Invalid public key"}:ee.validate()?ee.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};KeyPair$5.prototype.getPublic=function(ee,re){return typeof ee=="string"&&(re=ee,ee=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),re?this.pub.encode(re,ee):this.pub};KeyPair$5.prototype.getPrivate=function(ee){return ee==="hex"?this.priv.toString(16,2):this.priv};KeyPair$5.prototype._importPrivate=function(ee,re){this.priv=new _BN(ee,re||16),this.priv=this.priv.umod(this.ec.curve.n)};KeyPair$5.prototype._importPublic=function(ee,re){if(ee.x||ee.y){this.ec.curve.type==="mont"?assert$3$2(ee.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$3$2(ee.x&&ee.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(ee.x,ee.y);return}this.pub=this.ec.curve.decodePoint(ee,re)};KeyPair$5.prototype.derive=function(ee){return ee.validate()||assert$3$2(ee.validate(),"public point not validated"),ee.mul(this.priv).getX()};KeyPair$5.prototype.sign=function(ee,re,ne){return this.ec.sign(ee,this,re,ne)};KeyPair$5.prototype.verify=function(ee,re){return this.ec.verify(ee,re,this)};KeyPair$5.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var assert$4$2=utils_1$1$2.assert;function Signature$5(te,ee){if(te instanceof Signature$5)return te;this._importDER(te,ee)||(assert$4$2(te.r&&te.s,"Signature without r or s"),this.r=new _BN(te.r,16),this.s=new _BN(te.s,16),te.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=te.recoveryParam)}var signature$4=Signature$5;function Position$2(){this.place=0}function getLength$3(te,ee){var re=te[ee.place++];if(!(re&128))return re;var ne=re&15;if(ne===0||ne>4)return!1;for(var ie=0,oe=0,se=ee.place;oe<ne;oe++,se++)ie<<=8,ie|=te[se],ie>>>=0;return ie<=127?!1:(ee.place=se,ie)}function rmPadding$2(te){for(var ee=0,re=te.length-1;!te[ee]&&!(te[ee+1]&128)&&ee<re;)ee++;return ee===0?te:te.slice(ee)}Signature$5.prototype._importDER=function(ee,re){ee=utils_1$1$2.toArray(ee,re);var ne=new Position$2;if(ee[ne.place++]!==48)return!1;var ie=getLength$3(ee,ne);if(ie===!1||ie+ne.place!==ee.length||ee[ne.place++]!==2)return!1;var oe=getLength$3(ee,ne);if(oe===!1)return!1;var se=ee.slice(ne.place,oe+ne.place);if(ne.place+=oe,ee[ne.place++]!==2)return!1;var ae=getLength$3(ee,ne);if(ae===!1||ee.length!==ae+ne.place)return!1;var fe=ee.slice(ne.place,ae+ne.place);if(se[0]===0)if(se[1]&128)se=se.slice(1);else return!1;if(fe[0]===0)if(fe[1]&128)fe=fe.slice(1);else return!1;return this.r=new _BN(se),this.s=new _BN(fe),this.recoveryParam=null,!0};function constructLength$2(te,ee){if(ee<128){te.push(ee);return}var re=1+(Math.log(ee)/Math.LN2>>>3);for(te.push(re|128);--re;)te.push(ee>>>(re<<3)&255);te.push(ee)}Signature$5.prototype.toDER=function(ee){var re=this.r.toArray(),ne=this.s.toArray();for(re[0]&128&&(re=[0].concat(re)),ne[0]&128&&(ne=[0].concat(ne)),re=rmPadding$2(re),ne=rmPadding$2(ne);!ne[0]&&!(ne[1]&128);)ne=ne.slice(1);var ie=[2];constructLength$2(ie,re.length),ie=ie.concat(re),ie.push(2),constructLength$2(ie,ne.length);var oe=ie.concat(ne),se=[48];return constructLength$2(se,oe.length),se=se.concat(oe),utils_1$1$2.encode(se,ee)};var rand$2=function(){throw new Error("unsupported")},assert$5$2=utils_1$1$2.assert;function EC$5(te){if(!(this instanceof EC$5))return new EC$5(te);typeof te=="string"&&(assert$5$2(Object.prototype.hasOwnProperty.call(curves_1$1,te),"Unknown curve "+te),te=curves_1$1[te]),te instanceof curves_1$1.PresetCurve&&(te={curve:te}),this.curve=te.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=te.curve.g,this.g.precompute(te.curve.n.bitLength()+1),this.hash=te.hash||te.curve.hash}var ec$5=EC$5;EC$5.prototype.keyPair=function(ee){return new key$3(this,ee)};EC$5.prototype.keyFromPrivate=function(ee,re){return key$3.fromPrivate(this,ee,re)};EC$5.prototype.keyFromPublic=function(ee,re){return key$3.fromPublic(this,ee,re)};EC$5.prototype.genKeyPair=function(ee){ee||(ee={});for(var re=new hmacDrbg$2({hash:this.hash,pers:ee.pers,persEnc:ee.persEnc||"utf8",entropy:ee.entropy||rand$2(this.hash.hmacStrength),entropyEnc:ee.entropy&&ee.entropyEnc||"utf8",nonce:this.n.toArray()}),ne=this.n.byteLength(),ie=this.n.sub(new _BN(2));;){var oe=new _BN(re.generate(ne));if(!(oe.cmp(ie)>0))return oe.iaddn(1),this.keyFromPrivate(oe)}};EC$5.prototype._truncateToN=function(ee,re){var ne=ee.byteLength()*8-this.n.bitLength();return ne>0&&(ee=ee.ushrn(ne)),!re&&ee.cmp(this.n)>=0?ee.sub(this.n):ee};EC$5.prototype.sign=function(ee,re,ne,ie){typeof ne=="object"&&(ie=ne,ne=null),ie||(ie={}),re=this.keyFromPrivate(re,ne),ee=this._truncateToN(new _BN(ee,16));for(var oe=this.n.byteLength(),se=re.getPrivate().toArray("be",oe),ae=ee.toArray("be",oe),fe=new hmacDrbg$2({hash:this.hash,entropy:se,nonce:ae,pers:ie.pers,persEnc:ie.persEnc||"utf8"}),ue=this.n.sub(new _BN(1)),le=0;;le++){var pe=ie.k?ie.k(le):new _BN(fe.generate(this.n.byteLength()));if(pe=this._truncateToN(pe,!0),!(pe.cmpn(1)<=0||pe.cmp(ue)>=0)){var rr=this.g.mul(pe);if(!rr.isInfinity()){var cr=rr.getX(),ar=cr.umod(this.n);if(ar.cmpn(0)!==0){var mr=pe.invm(this.n).mul(ar.mul(re.getPrivate()).iadd(ee));if(mr=mr.umod(this.n),mr.cmpn(0)!==0){var pr=(rr.getY().isOdd()?1:0)|(cr.cmp(ar)!==0?2:0);return ie.canonical&&mr.cmp(this.nh)>0&&(mr=this.n.sub(mr),pr^=1),new signature$4({r:ar,s:mr,recoveryParam:pr})}}}}}};EC$5.prototype.verify=function(ee,re,ne,ie){ee=this._truncateToN(new _BN(ee,16)),ne=this.keyFromPublic(ne,ie),re=new signature$4(re,"hex");var oe=re.r,se=re.s;if(oe.cmpn(1)<0||oe.cmp(this.n)>=0||se.cmpn(1)<0||se.cmp(this.n)>=0)return!1;var ae=se.invm(this.n),fe=ae.mul(ee).umod(this.n),ue=ae.mul(oe).umod(this.n),le;return this.curve._maxwellTrick?(le=this.g.jmulAdd(fe,ne.getPublic(),ue),le.isInfinity()?!1:le.eqXToP(oe)):(le=this.g.mulAdd(fe,ne.getPublic(),ue),le.isInfinity()?!1:le.getX().umod(this.n).cmp(oe)===0)};EC$5.prototype.recoverPubKey=function(te,ee,re,ne){assert$5$2((3&re)===re,"The recovery param is more than two bits"),ee=new signature$4(ee,ne);var ie=this.n,oe=new _BN(te),se=ee.r,ae=ee.s,fe=re&1,ue=re>>1;if(se.cmp(this.curve.p.umod(this.curve.n))>=0&&ue)throw new Error("Unable to find sencond key candinate");ue?se=this.curve.pointFromX(se.add(this.curve.n),fe):se=this.curve.pointFromX(se,fe);var le=ee.r.invm(ie),pe=ie.sub(oe).mul(le).umod(ie),rr=ae.mul(le).umod(ie);return this.g.mulAdd(pe,se,rr)};EC$5.prototype.getKeyRecoveryParam=function(te,ee,re,ne){if(ee=new signature$4(ee,ne),ee.recoveryParam!==null)return ee.recoveryParam;for(var ie=0;ie<4;ie++){var oe;try{oe=this.recoverPubKey(te,ee,ie)}catch{continue}if(oe.eq(re))return ie}throw new Error("Unable to find valid recovery factor")};var elliptic_1$1=createCommonjsModule$2(function(te,ee){var re=ee;re.version="6.5.4",re.utils=utils_1$1$2,re.rand=function(){throw new Error("unsupported")},re.curve=curve_1$1,re.curves=curves_1$1,re.ec=ec$5,re.eddsa=null}),EC$1$2=elliptic_1$1.ec;const version$v="logger/5.6.0";let _permanentCensorErrors$3=!1,_censorErrors$3=!1;const LogLevels$3={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$3=LogLevels$3.default,_globalLogger$3=null;function _checkNormalize$3(){try{const te=[];if(["NFD","NFC","NFKD","NFKC"].forEach(ee=>{try{if("test".normalize(ee)!=="test")throw new Error("bad normalize")}catch{te.push(ee)}}),te.length)throw new Error("missing "+te.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(te){return te.message}return null}const _normalizeError$3=_checkNormalize$3();var LogLevel$3;(function(te){te.DEBUG="DEBUG",te.INFO="INFO",te.WARNING="WARNING",te.ERROR="ERROR",te.OFF="OFF"})(LogLevel$3||(LogLevel$3={}));var ErrorCode$3;(function(te){te.UNKNOWN_ERROR="UNKNOWN_ERROR",te.NOT_IMPLEMENTED="NOT_IMPLEMENTED",te.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",te.NETWORK_ERROR="NETWORK_ERROR",te.SERVER_ERROR="SERVER_ERROR",te.TIMEOUT="TIMEOUT",te.BUFFER_OVERRUN="BUFFER_OVERRUN",te.NUMERIC_FAULT="NUMERIC_FAULT",te.MISSING_NEW="MISSING_NEW",te.INVALID_ARGUMENT="INVALID_ARGUMENT",te.MISSING_ARGUMENT="MISSING_ARGUMENT",te.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",te.CALL_EXCEPTION="CALL_EXCEPTION",te.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",te.NONCE_EXPIRED="NONCE_EXPIRED",te.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",te.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",te.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(ErrorCode$3||(ErrorCode$3={}));const HEX$3="0123456789abcdef";class Logger$3{constructor(ee){Object.defineProperty(this,"version",{enumerable:!0,value:ee,writable:!1})}_log(ee,re){const ne=ee.toLowerCase();LogLevels$3[ne]==null&&this.throwArgumentError("invalid log level name","logLevel",ee),!(_logLevel$3>LogLevels$3[ne])&&console.log.apply(console,re)}debug(...ee){this._log(Logger$3.levels.DEBUG,ee)}info(...ee){this._log(Logger$3.levels.INFO,ee)}warn(...ee){this._log(Logger$3.levels.WARNING,ee)}makeError(ee,re,ne){if(_censorErrors$3)return this.makeError("censored error",re,{});re||(re=Logger$3.errors.UNKNOWN_ERROR),ne||(ne={});const ie=[];Object.keys(ne).forEach(fe=>{const ue=ne[fe];try{if(ue instanceof Uint8Array){let le="";for(let pe=0;pe<ue.length;pe++)le+=HEX$3[ue[pe]>>4],le+=HEX$3[ue[pe]&15];ie.push(fe+"=Uint8Array(0x"+le+")")}else ie.push(fe+"="+JSON.stringify(ue))}catch{ie.push(fe+"="+JSON.stringify(ne[fe].toString()))}}),ie.push(`code=${re}`),ie.push(`version=${this.version}`);const oe=ee;let se="";switch(re){case ErrorCode$3.NUMERIC_FAULT:{se="NUMERIC_FAULT";const fe=ee;switch(fe){case"overflow":case"underflow":case"division-by-zero":se+="-"+fe;break;case"negative-power":case"negative-width":se+="-unsupported";break;case"unbound-bitwise-result":se+="-unbound-result";break}break}case ErrorCode$3.CALL_EXCEPTION:case ErrorCode$3.INSUFFICIENT_FUNDS:case ErrorCode$3.MISSING_NEW:case ErrorCode$3.NONCE_EXPIRED:case ErrorCode$3.REPLACEMENT_UNDERPRICED:case ErrorCode$3.TRANSACTION_REPLACED:case ErrorCode$3.UNPREDICTABLE_GAS_LIMIT:se=re;break}se&&(ee+=" [ See: https://links.ethers.org/v5-errors-"+se+" ]"),ie.length&&(ee+=" ("+ie.join(", ")+")");const ae=new Error(ee);return ae.reason=oe,ae.code=re,Object.keys(ne).forEach(function(fe){ae[fe]=ne[fe]}),ae}throwError(ee,re,ne){throw this.makeError(ee,re,ne)}throwArgumentError(ee,re,ne){return this.throwError(ee,Logger$3.errors.INVALID_ARGUMENT,{argument:re,value:ne})}assert(ee,re,ne,ie){ee||this.throwError(re,ne,ie)}assertArgument(ee,re,ne,ie){ee||this.throwArgumentError(re,ne,ie)}checkNormalize(ee){_normalizeError$3&&this.throwError("platform missing String.prototype.normalize",Logger$3.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$3})}checkSafeUint53(ee,re){typeof ee=="number"&&(re==null&&(re="value not safe"),(ee<0||ee>=9007199254740991)&&this.throwError(re,Logger$3.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:ee}),ee%1&&this.throwError(re,Logger$3.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:ee}))}checkArgumentCount(ee,re,ne){ne?ne=": "+ne:ne="",ee<re&&this.throwError("missing argument"+ne,Logger$3.errors.MISSING_ARGUMENT,{count:ee,expectedCount:re}),ee>re&&this.throwError("too many arguments"+ne,Logger$3.errors.UNEXPECTED_ARGUMENT,{count:ee,expectedCount:re})}checkNew(ee,re){(ee===Object||ee==null)&&this.throwError("missing new",Logger$3.errors.MISSING_NEW,{name:re.name})}checkAbstract(ee,re){ee===re?this.throwError("cannot instantiate abstract class "+JSON.stringify(re.name)+" directly; use a sub-class",Logger$3.errors.UNSUPPORTED_OPERATION,{name:ee.name,operation:"new"}):(ee===Object||ee==null)&&this.throwError("missing new",Logger$3.errors.MISSING_NEW,{name:re.name})}static globalLogger(){return _globalLogger$3||(_globalLogger$3=new Logger$3(version$v)),_globalLogger$3}static setCensorship(ee,re){if(!ee&&re&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$3.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$3){if(!ee)return;this.globalLogger().throwError("error censorship permanent",Logger$3.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$3=!!ee,_permanentCensorErrors$3=!!re}static setLogLevel(ee){const re=LogLevels$3[ee.toLowerCase()];if(re==null){Logger$3.globalLogger().warn("invalid log level - "+ee);return}_logLevel$3=re}static from(ee){return new Logger$3(ee)}}Logger$3.errors=ErrorCode$3;Logger$3.levels=LogLevel$3;const version$u="bytes/5.6.1",logger$p=new Logger$3(version$u);function isHexable$3(te){return!!te.toHexString}function addSlice$3(te){return te.slice||(te.slice=function(){const ee=Array.prototype.slice.call(arguments);return addSlice$3(new Uint8Array(Array.prototype.slice.apply(te,ee)))}),te}function isBytesLike$2(te){return isHexString$8(te)&&!(te.length%2)||isBytes$3(te)}function isInteger$3(te){return typeof te=="number"&&te==te&&te%1===0}function isBytes$3(te){if(te==null)return!1;if(te.constructor===Uint8Array)return!0;if(typeof te=="string"||!isInteger$3(te.length)||te.length<0)return!1;for(let ee=0;ee<te.length;ee++){const re=te[ee];if(!isInteger$3(re)||re<0||re>=256)return!1}return!0}function arrayify$3(te,ee){if(ee||(ee={}),typeof te=="number"){logger$p.checkSafeUint53(te,"invalid arrayify value");const re=[];for(;te;)re.unshift(te&255),te=parseInt(String(te/256));return re.length===0&&re.push(0),addSlice$3(new Uint8Array(re))}if(ee.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),isHexable$3(te)&&(te=te.toHexString()),isHexString$8(te)){let re=te.substring(2);re.length%2&&(ee.hexPad==="left"?re="0"+re:ee.hexPad==="right"?re+="0":logger$p.throwArgumentError("hex data is odd-length","value",te));const ne=[];for(let ie=0;ie<re.length;ie+=2)ne.push(parseInt(re.substring(ie,ie+2),16));return addSlice$3(new Uint8Array(ne))}return isBytes$3(te)?addSlice$3(new Uint8Array(te)):logger$p.throwArgumentError("invalid arrayify value","value",te)}function zeroPad$1(te,ee){te=arrayify$3(te),te.length>ee&&logger$p.throwArgumentError("value out of range","value",arguments[0]);const re=new Uint8Array(ee);return re.set(te,ee-te.length),addSlice$3(re)}function isHexString$8(te,ee){return!(typeof te!="string"||!te.match(/^0x[0-9A-Fa-f]*$/)||ee&&te.length!==2+2*ee)}const HexCharacters$3="0123456789abcdef";function hexlify$3(te,ee){if(ee||(ee={}),typeof te=="number"){logger$p.checkSafeUint53(te,"invalid hexlify value");let re="";for(;te;)re=HexCharacters$3[te&15]+re,te=Math.floor(te/16);return re.length?(re.length%2&&(re="0"+re),"0x"+re):"0x00"}if(typeof te=="bigint")return te=te.toString(16),te.length%2?"0x0"+te:"0x"+te;if(ee.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),isHexable$3(te))return te.toHexString();if(isHexString$8(te))return te.length%2&&(ee.hexPad==="left"?te="0x0"+te.substring(2):ee.hexPad==="right"?te+="0":logger$p.throwArgumentError("hex data is odd-length","value",te)),te.toLowerCase();if(isBytes$3(te)){let re="0x";for(let ne=0;ne<te.length;ne++){let ie=te[ne];re+=HexCharacters$3[(ie&240)>>4]+HexCharacters$3[ie&15]}return re}return logger$p.throwArgumentError("invalid hexlify value","value",te)}function hexZeroPad$1(te,ee){for(typeof te!="string"?te=hexlify$3(te):isHexString$8(te)||logger$p.throwArgumentError("invalid hex string","value",te),te.length>2*ee+2&&logger$p.throwArgumentError("value out of range","value",arguments[1]);te.length<2*ee+2;)te="0x0"+te.substring(2);return te}function splitSignature$1(te){const ee={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(isBytesLike$2(te)){let re=arrayify$3(te);re.length===64?(ee.v=27+(re[32]>>7),re[32]&=127,ee.r=hexlify$3(re.slice(0,32)),ee.s=hexlify$3(re.slice(32,64))):re.length===65?(ee.r=hexlify$3(re.slice(0,32)),ee.s=hexlify$3(re.slice(32,64)),ee.v=re[64]):logger$p.throwArgumentError("invalid signature string","signature",te),ee.v<27&&(ee.v===0||ee.v===1?ee.v+=27:logger$p.throwArgumentError("signature invalid v byte","signature",te)),ee.recoveryParam=1-ee.v%2,ee.recoveryParam&&(re[32]|=128),ee._vs=hexlify$3(re.slice(32,64))}else{if(ee.r=te.r,ee.s=te.s,ee.v=te.v,ee.recoveryParam=te.recoveryParam,ee._vs=te._vs,ee._vs!=null){const ie=zeroPad$1(arrayify$3(ee._vs),32);ee._vs=hexlify$3(ie);const oe=ie[0]>=128?1:0;ee.recoveryParam==null?ee.recoveryParam=oe:ee.recoveryParam!==oe&&logger$p.throwArgumentError("signature recoveryParam mismatch _vs","signature",te),ie[0]&=127;const se=hexlify$3(ie);ee.s==null?ee.s=se:ee.s!==se&&logger$p.throwArgumentError("signature v mismatch _vs","signature",te)}if(ee.recoveryParam==null)ee.v==null?logger$p.throwArgumentError("signature missing v and recoveryParam","signature",te):ee.v===0||ee.v===1?ee.recoveryParam=ee.v:ee.recoveryParam=1-ee.v%2;else if(ee.v==null)ee.v=27+ee.recoveryParam;else{const ie=ee.v===0||ee.v===1?ee.v:1-ee.v%2;ee.recoveryParam!==ie&&logger$p.throwArgumentError("signature recoveryParam mismatch v","signature",te)}ee.r==null||!isHexString$8(ee.r)?logger$p.throwArgumentError("signature missing or invalid r","signature",te):ee.r=hexZeroPad$1(ee.r,32),ee.s==null||!isHexString$8(ee.s)?logger$p.throwArgumentError("signature missing or invalid s","signature",te):ee.s=hexZeroPad$1(ee.s,32);const re=arrayify$3(ee.s);re[0]>=128&&logger$p.throwArgumentError("signature s out of range","signature",te),ee.recoveryParam&&(re[0]|=128);const ne=hexlify$3(re);ee._vs&&(isHexString$8(ee._vs)||logger$p.throwArgumentError("signature invalid _vs","signature",te),ee._vs=hexZeroPad$1(ee._vs,32)),ee._vs==null?ee._vs=ne:ee._vs!==ne&&logger$p.throwArgumentError("signature _vs mismatch v and s","signature",te)}return ee.yParityAndS=ee._vs,ee.compact=ee.r+ee.yParityAndS.substring(2),ee}const version$t="properties/5.6.0";globalThis&&globalThis.__awaiter;new Logger$3(version$t);function defineReadOnly$1(te,ee,re){Object.defineProperty(te,ee,{enumerable:!0,value:re,writable:!1})}const version$s="signing-key/5.5.0",logger$o=new Logger$3(version$s);let _curve$1=null;function getCurve$1(){return _curve$1||(_curve$1=new EC$1$2("secp256k1")),_curve$1}class SigningKey$1{constructor(ee){defineReadOnly$1(this,"curve","secp256k1"),defineReadOnly$1(this,"privateKey",hexlify$3(ee));const re=getCurve$1().keyFromPrivate(arrayify$3(this.privateKey));defineReadOnly$1(this,"publicKey","0x"+re.getPublic(!1,"hex")),defineReadOnly$1(this,"compressedPublicKey","0x"+re.getPublic(!0,"hex")),defineReadOnly$1(this,"_isSigningKey",!0)}_addPoint(ee){const re=getCurve$1().keyFromPublic(arrayify$3(this.publicKey)),ne=getCurve$1().keyFromPublic(arrayify$3(ee));return"0x"+re.pub.add(ne.pub).encodeCompressed("hex")}signDigest(ee){const re=getCurve$1().keyFromPrivate(arrayify$3(this.privateKey)),ne=arrayify$3(ee);ne.length!==32&&logger$o.throwArgumentError("bad digest length","digest",ee);const ie=re.sign(ne,{canonical:!0});return splitSignature$1({recoveryParam:ie.recoveryParam,r:hexZeroPad$1("0x"+ie.r.toString(16),32),s:hexZeroPad$1("0x"+ie.s.toString(16),32)})}computeSharedSecret(ee){const re=getCurve$1().keyFromPrivate(arrayify$3(this.privateKey)),ne=getCurve$1().keyFromPublic(arrayify$3(computePublicKey$1(ee)));return hexZeroPad$1("0x"+re.derive(ne.getPublic()).toString(16),32)}static isSigningKey(ee){return!!(ee&&ee._isSigningKey)}}function recoverPublicKey$2(te,ee){const re=splitSignature$1(ee),ne={r:arrayify$3(re.r),s:arrayify$3(re.s)};return"0x"+getCurve$1().recoverPubKey(arrayify$3(te),ne,re.recoveryParam).encode("hex",!1)}function computePublicKey$1(te,ee){const re=arrayify$3(te);if(re.length===32){const ne=new SigningKey$1(re);return ee?"0x"+getCurve$1().keyFromPrivate(re).getPublic(!0,"hex"):ne.publicKey}else{if(re.length===33)return ee?hexlify$3(re):"0x"+getCurve$1().keyFromPublic(re).getPublic(!1,"hex");if(re.length===65)return ee?"0x"+getCurve$1().keyFromPublic(re).getPublic(!0,"hex"):hexlify$3(re)}return logger$o.throwArgumentError("invalid public or private key","key","[REDACTED]")}var lib_esm$5=Object.freeze(Object.defineProperty({__proto__:null,SigningKey:SigningKey$1,recoverPublicKey:recoverPublicKey$2,computePublicKey:computePublicKey$1},Symbol.toStringTag,{value:"Module"})),require$$15=getAugmentedNamespace(lib_esm$5);const version$r="logger/5.6.0";let _permanentCensorErrors$2=!1,_censorErrors$2=!1;const LogLevels$2={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$2=LogLevels$2.default,_globalLogger$2=null;function _checkNormalize$2(){try{const te=[];if(["NFD","NFC","NFKD","NFKC"].forEach(ee=>{try{if("test".normalize(ee)!=="test")throw new Error("bad normalize")}catch{te.push(ee)}}),te.length)throw new Error("missing "+te.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(te){return te.message}return null}const _normalizeError$2=_checkNormalize$2();var LogLevel$2;(function(te){te.DEBUG="DEBUG",te.INFO="INFO",te.WARNING="WARNING",te.ERROR="ERROR",te.OFF="OFF"})(LogLevel$2||(LogLevel$2={}));var ErrorCode$2;(function(te){te.UNKNOWN_ERROR="UNKNOWN_ERROR",te.NOT_IMPLEMENTED="NOT_IMPLEMENTED",te.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",te.NETWORK_ERROR="NETWORK_ERROR",te.SERVER_ERROR="SERVER_ERROR",te.TIMEOUT="TIMEOUT",te.BUFFER_OVERRUN="BUFFER_OVERRUN",te.NUMERIC_FAULT="NUMERIC_FAULT",te.MISSING_NEW="MISSING_NEW",te.INVALID_ARGUMENT="INVALID_ARGUMENT",te.MISSING_ARGUMENT="MISSING_ARGUMENT",te.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",te.CALL_EXCEPTION="CALL_EXCEPTION",te.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",te.NONCE_EXPIRED="NONCE_EXPIRED",te.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",te.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",te.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(ErrorCode$2||(ErrorCode$2={}));const HEX$2="0123456789abcdef";class Logger$2{constructor(ee){Object.defineProperty(this,"version",{enumerable:!0,value:ee,writable:!1})}_log(ee,re){const ne=ee.toLowerCase();LogLevels$2[ne]==null&&this.throwArgumentError("invalid log level name","logLevel",ee),!(_logLevel$2>LogLevels$2[ne])&&console.log.apply(console,re)}debug(...ee){this._log(Logger$2.levels.DEBUG,ee)}info(...ee){this._log(Logger$2.levels.INFO,ee)}warn(...ee){this._log(Logger$2.levels.WARNING,ee)}makeError(ee,re,ne){if(_censorErrors$2)return this.makeError("censored error",re,{});re||(re=Logger$2.errors.UNKNOWN_ERROR),ne||(ne={});const ie=[];Object.keys(ne).forEach(fe=>{const ue=ne[fe];try{if(ue instanceof Uint8Array){let le="";for(let pe=0;pe<ue.length;pe++)le+=HEX$2[ue[pe]>>4],le+=HEX$2[ue[pe]&15];ie.push(fe+"=Uint8Array(0x"+le+")")}else ie.push(fe+"="+JSON.stringify(ue))}catch{ie.push(fe+"="+JSON.stringify(ne[fe].toString()))}}),ie.push(`code=${re}`),ie.push(`version=${this.version}`);const oe=ee;let se="";switch(re){case ErrorCode$2.NUMERIC_FAULT:{se="NUMERIC_FAULT";const fe=ee;switch(fe){case"overflow":case"underflow":case"division-by-zero":se+="-"+fe;break;case"negative-power":case"negative-width":se+="-unsupported";break;case"unbound-bitwise-result":se+="-unbound-result";break}break}case ErrorCode$2.CALL_EXCEPTION:case ErrorCode$2.INSUFFICIENT_FUNDS:case ErrorCode$2.MISSING_NEW:case ErrorCode$2.NONCE_EXPIRED:case ErrorCode$2.REPLACEMENT_UNDERPRICED:case ErrorCode$2.TRANSACTION_REPLACED:case ErrorCode$2.UNPREDICTABLE_GAS_LIMIT:se=re;break}se&&(ee+=" [ See: https://links.ethers.org/v5-errors-"+se+" ]"),ie.length&&(ee+=" ("+ie.join(", ")+")");const ae=new Error(ee);return ae.reason=oe,ae.code=re,Object.keys(ne).forEach(function(fe){ae[fe]=ne[fe]}),ae}throwError(ee,re,ne){throw this.makeError(ee,re,ne)}throwArgumentError(ee,re,ne){return this.throwError(ee,Logger$2.errors.INVALID_ARGUMENT,{argument:re,value:ne})}assert(ee,re,ne,ie){ee||this.throwError(re,ne,ie)}assertArgument(ee,re,ne,ie){ee||this.throwArgumentError(re,ne,ie)}checkNormalize(ee){_normalizeError$2&&this.throwError("platform missing String.prototype.normalize",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$2})}checkSafeUint53(ee,re){typeof ee=="number"&&(re==null&&(re="value not safe"),(ee<0||ee>=9007199254740991)&&this.throwError(re,Logger$2.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:ee}),ee%1&&this.throwError(re,Logger$2.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:ee}))}checkArgumentCount(ee,re,ne){ne?ne=": "+ne:ne="",ee<re&&this.throwError("missing argument"+ne,Logger$2.errors.MISSING_ARGUMENT,{count:ee,expectedCount:re}),ee>re&&this.throwError("too many arguments"+ne,Logger$2.errors.UNEXPECTED_ARGUMENT,{count:ee,expectedCount:re})}checkNew(ee,re){(ee===Object||ee==null)&&this.throwError("missing new",Logger$2.errors.MISSING_NEW,{name:re.name})}checkAbstract(ee,re){ee===re?this.throwError("cannot instantiate abstract class "+JSON.stringify(re.name)+" directly; use a sub-class",Logger$2.errors.UNSUPPORTED_OPERATION,{name:ee.name,operation:"new"}):(ee===Object||ee==null)&&this.throwError("missing new",Logger$2.errors.MISSING_NEW,{name:re.name})}static globalLogger(){return _globalLogger$2||(_globalLogger$2=new Logger$2(version$r)),_globalLogger$2}static setCensorship(ee,re){if(!ee&&re&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$2){if(!ee)return;this.globalLogger().throwError("error censorship permanent",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$2=!!ee,_permanentCensorErrors$2=!!re}static setLogLevel(ee){const re=LogLevels$2[ee.toLowerCase()];if(re==null){Logger$2.globalLogger().warn("invalid log level - "+ee);return}_logLevel$2=re}static from(ee){return new Logger$2(ee)}}Logger$2.errors=ErrorCode$2;Logger$2.levels=LogLevel$2;const version$q="bytes/5.6.1",logger$n=new Logger$2(version$q);function isHexable$2(te){return!!te.toHexString}function addSlice$2(te){return te.slice||(te.slice=function(){const ee=Array.prototype.slice.call(arguments);return addSlice$2(new Uint8Array(Array.prototype.slice.apply(te,ee)))}),te}function isInteger$2(te){return typeof te=="number"&&te==te&&te%1===0}function isBytes$2(te){if(te==null)return!1;if(te.constructor===Uint8Array)return!0;if(typeof te=="string"||!isInteger$2(te.length)||te.length<0)return!1;for(let ee=0;ee<te.length;ee++){const re=te[ee];if(!isInteger$2(re)||re<0||re>=256)return!1}return!0}function arrayify$2(te,ee){if(ee||(ee={}),typeof te=="number"){logger$n.checkSafeUint53(te,"invalid arrayify value");const re=[];for(;te;)re.unshift(te&255),te=parseInt(String(te/256));return re.length===0&&re.push(0),addSlice$2(new Uint8Array(re))}if(ee.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),isHexable$2(te)&&(te=te.toHexString()),isHexString$7(te)){let re=te.substring(2);re.length%2&&(ee.hexPad==="left"?re="0"+re:ee.hexPad==="right"?re+="0":logger$n.throwArgumentError("hex data is odd-length","value",te));const ne=[];for(let ie=0;ie<re.length;ie+=2)ne.push(parseInt(re.substring(ie,ie+2),16));return addSlice$2(new Uint8Array(ne))}return isBytes$2(te)?addSlice$2(new Uint8Array(te)):logger$n.throwArgumentError("invalid arrayify value","value",te)}function concat$2(te){const ee=te.map(ie=>arrayify$2(ie)),re=ee.reduce((ie,oe)=>ie+oe.length,0),ne=new Uint8Array(re);return ee.reduce((ie,oe)=>(ne.set(oe,ie),ie+oe.length),0),addSlice$2(ne)}function isHexString$7(te,ee){return!(typeof te!="string"||!te.match(/^0x[0-9A-Fa-f]*$/)||ee&&te.length!==2+2*ee)}const HexCharacters$2="0123456789abcdef";function hexlify$2(te,ee){if(ee||(ee={}),typeof te=="number"){logger$n.checkSafeUint53(te,"invalid hexlify value");let re="";for(;te;)re=HexCharacters$2[te&15]+re,te=Math.floor(te/16);return re.length?(re.length%2&&(re="0"+re),"0x"+re):"0x00"}if(typeof te=="bigint")return te=te.toString(16),te.length%2?"0x0"+te:"0x"+te;if(ee.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),isHexable$2(te))return te.toHexString();if(isHexString$7(te))return te.length%2&&(ee.hexPad==="left"?te="0x0"+te.substring(2):ee.hexPad==="right"?te+="0":logger$n.throwArgumentError("hex data is odd-length","value",te)),te.toLowerCase();if(isBytes$2(te)){let re="0x";for(let ne=0;ne<te.length;ne++){let ie=te[ne];re+=HexCharacters$2[(ie&240)>>4]+HexCharacters$2[ie&15]}return re}return logger$n.throwArgumentError("invalid hexlify value","value",te)}const HashZero="0x0000000000000000000000000000000000000000000000000000000000000000",version$p="strings/5.5.0",logger$m=new Logger$2(version$p);var UnicodeNormalizationForm$1;(function(te){te.current="",te.NFC="NFC",te.NFD="NFD",te.NFKC="NFKC",te.NFKD="NFKD"})(UnicodeNormalizationForm$1||(UnicodeNormalizationForm$1={}));var Utf8ErrorReason$1;(function(te){te.UNEXPECTED_CONTINUE="unexpected continuation byte",te.BAD_PREFIX="bad codepoint prefix",te.OVERRUN="string overrun",te.MISSING_CONTINUE="missing continuation byte",te.OUT_OF_RANGE="out of UTF-8 range",te.UTF16_SURROGATE="UTF-16 surrogate",te.OVERLONG="overlong representation"})(Utf8ErrorReason$1||(Utf8ErrorReason$1={}));function errorFunc$1(te,ee,re,ne,ie){return logger$m.throwArgumentError(`invalid codepoint at offset ${ee}; ${te}`,"bytes",re)}function ignoreFunc$1(te,ee,re,ne,ie){if(te===Utf8ErrorReason$1.BAD_PREFIX||te===Utf8ErrorReason$1.UNEXPECTED_CONTINUE){let oe=0;for(let se=ee+1;se<re.length&&re[se]>>6===2;se++)oe++;return oe}return te===Utf8ErrorReason$1.OVERRUN?re.length-ee-1:0}function replaceFunc$1(te,ee,re,ne,ie){return te===Utf8ErrorReason$1.OVERLONG?(ne.push(ie),0):(ne.push(65533),ignoreFunc$1(te,ee,re))}const Utf8ErrorFuncs$1=Object.freeze({error:errorFunc$1,ignore:ignoreFunc$1,replace:replaceFunc$1});function getUtf8CodePoints$1(te,ee){ee==null&&(ee=Utf8ErrorFuncs$1.error),te=arrayify$2(te);const re=[];let ne=0;for(;ne<te.length;){const ie=te[ne++];if(ie>>7===0){re.push(ie);continue}let oe=null,se=null;if((ie&224)===192)oe=1,se=127;else if((ie&240)===224)oe=2,se=2047;else if((ie&248)===240)oe=3,se=65535;else{(ie&192)===128?ne+=ee(Utf8ErrorReason$1.UNEXPECTED_CONTINUE,ne-1,te,re):ne+=ee(Utf8ErrorReason$1.BAD_PREFIX,ne-1,te,re);continue}if(ne-1+oe>=te.length){ne+=ee(Utf8ErrorReason$1.OVERRUN,ne-1,te,re);continue}let ae=ie&(1<<8-oe-1)-1;for(let fe=0;fe<oe;fe++){let ue=te[ne];if((ue&192)!=128){ne+=ee(Utf8ErrorReason$1.MISSING_CONTINUE,ne,te,re),ae=null;break}ae=ae<<6|ue&63,ne++}if(ae!==null){if(ae>1114111){ne+=ee(Utf8ErrorReason$1.OUT_OF_RANGE,ne-1-oe,te,re,ae);continue}if(ae>=55296&&ae<=57343){ne+=ee(Utf8ErrorReason$1.UTF16_SURROGATE,ne-1-oe,te,re,ae);continue}if(ae<=se){ne+=ee(Utf8ErrorReason$1.OVERLONG,ne-1-oe,te,re,ae);continue}re.push(ae)}}return re}function toUtf8Bytes$1(te,ee=UnicodeNormalizationForm$1.current){ee!=UnicodeNormalizationForm$1.current&&(logger$m.checkNormalize(),te=te.normalize(ee));let re=[];for(let ne=0;ne<te.length;ne++){const ie=te.charCodeAt(ne);if(ie<128)re.push(ie);else if(ie<2048)re.push(ie>>6|192),re.push(ie&63|128);else if((ie&64512)==55296){ne++;const oe=te.charCodeAt(ne);if(ne>=te.length||(oe&64512)!==56320)throw new Error("invalid utf-8 string");const se=65536+((ie&1023)<<10)+(oe&1023);re.push(se>>18|240),re.push(se>>12&63|128),re.push(se>>6&63|128),re.push(se&63|128)}else re.push(ie>>12|224),re.push(ie>>6&63|128),re.push(ie&63|128)}return arrayify$2(re)}function escapeChar(te){const ee="0000"+te.toString(16);return"\\u"+ee.substring(ee.length-4)}function _toEscapedUtf8String(te,ee){return'"'+getUtf8CodePoints$1(te,ee).map(re=>{if(re<256){switch(re){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(re>=32&&re<127)return String.fromCharCode(re)}return re<=65535?escapeChar(re):(re-=65536,escapeChar((re>>10&1023)+55296)+escapeChar((re&1023)+56320))}).join("")+'"'}function _toUtf8String$1(te){return te.map(ee=>ee<=65535?String.fromCharCode(ee):(ee-=65536,String.fromCharCode((ee>>10&1023)+55296,(ee&1023)+56320))).join("")}function toUtf8String$1(te,ee){return _toUtf8String$1(getUtf8CodePoints$1(te,ee))}function toUtf8CodePoints(te,ee=UnicodeNormalizationForm$1.current){return getUtf8CodePoints$1(toUtf8Bytes$1(te,ee))}function formatBytes32String(te){const ee=toUtf8Bytes$1(te);if(ee.length>31)throw new Error("bytes32 string must be less than 32 bytes");return hexlify$2(concat$2([ee,HashZero]).slice(0,32))}function parseBytes32String(te){const ee=arrayify$2(te);if(ee.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(ee[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let re=31;for(;ee[re-1]===0;)re--;return toUtf8String$1(ee.slice(0,re))}function bytes2(te){if(te.length%4!==0)throw new Error("bad data");let ee=[];for(let re=0;re<te.length;re+=4)ee.push(parseInt(te.substring(re,re+4),16));return ee}function createTable(te,ee){ee||(ee=function(ie){return[parseInt(ie,16)]});let re=0,ne={};return te.split(",").forEach(ie=>{let oe=ie.split(":");re+=parseInt(oe[0],16),ne[re]=ee(oe[1])}),ne}function createRangeTable(te){let ee=0;return te.split(",").map(re=>{let ne=re.split("-");ne.length===1?ne[1]="0":ne[1]===""&&(ne[1]="1");let ie=ee+parseInt(ne[0],16);return ee=parseInt(ne[1],16),{l:ie,h:ee}})}function matchMap(te,ee){let re=0;for(let ne=0;ne<ee.length;ne++){let ie=ee[ne];if(re+=ie.l,te>=re&&te<=re+ie.h&&(te-re)%(ie.d||1)===0){if(ie.e&&ie.e.indexOf(te-re)!==-1)continue;return ie}}return null}const Table_A_1_ranges=createRangeTable("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Table_B_1_flags="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(te=>parseInt(te,16)),Table_B_2_ranges=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Table_B_2_lut_abs=createTable("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Table_B_2_lut_rel=createTable("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Table_B_2_complex=createTable("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",bytes2),Table_C_ranges=createRangeTable("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function flatten(te){return te.reduce((ee,re)=>(re.forEach(ne=>{ee.push(ne)}),ee),[])}function _nameprepTableA1(te){return!!matchMap(te,Table_A_1_ranges)}function _nameprepTableB2(te){let ee=matchMap(te,Table_B_2_ranges);if(ee)return[te+ee.s];let re=Table_B_2_lut_abs[te];if(re)return re;let ne=Table_B_2_lut_rel[te];if(ne)return[te+ne[0]];let ie=Table_B_2_complex[te];return ie||null}function _nameprepTableC(te){return!!matchMap(te,Table_C_ranges)}function nameprep(te){if(te.match(/^[a-z0-9-]*$/i)&&te.length<=59)return te.toLowerCase();let ee=toUtf8CodePoints(te);ee=flatten(ee.map(ne=>{if(Table_B_1_flags.indexOf(ne)>=0)return[];if(ne>=65024&&ne<=65039)return[];let ie=_nameprepTableB2(ne);return ie||[ne]})),ee=toUtf8CodePoints(_toUtf8String$1(ee),UnicodeNormalizationForm$1.NFKC),ee.forEach(ne=>{if(_nameprepTableC(ne))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),ee.forEach(ne=>{if(_nameprepTableA1(ne))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let re=_toUtf8String$1(ee);if(re.substring(0,1)==="-"||re.substring(2,4)==="--"||re.substring(re.length-1)==="-")throw new Error("invalid hyphen");if(re.length>63)throw new Error("too long");return re}var lib_esm$4=Object.freeze(Object.defineProperty({__proto__:null,_toEscapedUtf8String,toUtf8Bytes:toUtf8Bytes$1,toUtf8CodePoints,toUtf8String:toUtf8String$1,Utf8ErrorFuncs:Utf8ErrorFuncs$1,get Utf8ErrorReason(){return Utf8ErrorReason$1},get UnicodeNormalizationForm(){return UnicodeNormalizationForm$1},formatBytes32String,parseBytes32String,nameprep},Symbol.toStringTag,{value:"Module"})),require$$16=getAugmentedNamespace(lib_esm$4);const version$o="logger/5.6.0";let _permanentCensorErrors$1=!1,_censorErrors$1=!1;const LogLevels$1={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$1=LogLevels$1.default,_globalLogger$1=null;function _checkNormalize$1(){try{const te=[];if(["NFD","NFC","NFKD","NFKC"].forEach(ee=>{try{if("test".normalize(ee)!=="test")throw new Error("bad normalize")}catch{te.push(ee)}}),te.length)throw new Error("missing "+te.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(te){return te.message}return null}const _normalizeError$1=_checkNormalize$1();var LogLevel$1;(function(te){te.DEBUG="DEBUG",te.INFO="INFO",te.WARNING="WARNING",te.ERROR="ERROR",te.OFF="OFF"})(LogLevel$1||(LogLevel$1={}));var ErrorCode$1;(function(te){te.UNKNOWN_ERROR="UNKNOWN_ERROR",te.NOT_IMPLEMENTED="NOT_IMPLEMENTED",te.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",te.NETWORK_ERROR="NETWORK_ERROR",te.SERVER_ERROR="SERVER_ERROR",te.TIMEOUT="TIMEOUT",te.BUFFER_OVERRUN="BUFFER_OVERRUN",te.NUMERIC_FAULT="NUMERIC_FAULT",te.MISSING_NEW="MISSING_NEW",te.INVALID_ARGUMENT="INVALID_ARGUMENT",te.MISSING_ARGUMENT="MISSING_ARGUMENT",te.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",te.CALL_EXCEPTION="CALL_EXCEPTION",te.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",te.NONCE_EXPIRED="NONCE_EXPIRED",te.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",te.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",te.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(ErrorCode$1||(ErrorCode$1={}));const HEX$1="0123456789abcdef";class Logger$1{constructor(ee){Object.defineProperty(this,"version",{enumerable:!0,value:ee,writable:!1})}_log(ee,re){const ne=ee.toLowerCase();LogLevels$1[ne]==null&&this.throwArgumentError("invalid log level name","logLevel",ee),!(_logLevel$1>LogLevels$1[ne])&&console.log.apply(console,re)}debug(...ee){this._log(Logger$1.levels.DEBUG,ee)}info(...ee){this._log(Logger$1.levels.INFO,ee)}warn(...ee){this._log(Logger$1.levels.WARNING,ee)}makeError(ee,re,ne){if(_censorErrors$1)return this.makeError("censored error",re,{});re||(re=Logger$1.errors.UNKNOWN_ERROR),ne||(ne={});const ie=[];Object.keys(ne).forEach(fe=>{const ue=ne[fe];try{if(ue instanceof Uint8Array){let le="";for(let pe=0;pe<ue.length;pe++)le+=HEX$1[ue[pe]>>4],le+=HEX$1[ue[pe]&15];ie.push(fe+"=Uint8Array(0x"+le+")")}else ie.push(fe+"="+JSON.stringify(ue))}catch{ie.push(fe+"="+JSON.stringify(ne[fe].toString()))}}),ie.push(`code=${re}`),ie.push(`version=${this.version}`);const oe=ee;let se="";switch(re){case ErrorCode$1.NUMERIC_FAULT:{se="NUMERIC_FAULT";const fe=ee;switch(fe){case"overflow":case"underflow":case"division-by-zero":se+="-"+fe;break;case"negative-power":case"negative-width":se+="-unsupported";break;case"unbound-bitwise-result":se+="-unbound-result";break}break}case ErrorCode$1.CALL_EXCEPTION:case ErrorCode$1.INSUFFICIENT_FUNDS:case ErrorCode$1.MISSING_NEW:case ErrorCode$1.NONCE_EXPIRED:case ErrorCode$1.REPLACEMENT_UNDERPRICED:case ErrorCode$1.TRANSACTION_REPLACED:case ErrorCode$1.UNPREDICTABLE_GAS_LIMIT:se=re;break}se&&(ee+=" [ See: https://links.ethers.org/v5-errors-"+se+" ]"),ie.length&&(ee+=" ("+ie.join(", ")+")");const ae=new Error(ee);return ae.reason=oe,ae.code=re,Object.keys(ne).forEach(function(fe){ae[fe]=ne[fe]}),ae}throwError(ee,re,ne){throw this.makeError(ee,re,ne)}throwArgumentError(ee,re,ne){return this.throwError(ee,Logger$1.errors.INVALID_ARGUMENT,{argument:re,value:ne})}assert(ee,re,ne,ie){ee||this.throwError(re,ne,ie)}assertArgument(ee,re,ne,ie){ee||this.throwArgumentError(re,ne,ie)}checkNormalize(ee){_normalizeError$1&&this.throwError("platform missing String.prototype.normalize",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$1})}checkSafeUint53(ee,re){typeof ee=="number"&&(re==null&&(re="value not safe"),(ee<0||ee>=9007199254740991)&&this.throwError(re,Logger$1.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:ee}),ee%1&&this.throwError(re,Logger$1.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:ee}))}checkArgumentCount(ee,re,ne){ne?ne=": "+ne:ne="",ee<re&&this.throwError("missing argument"+ne,Logger$1.errors.MISSING_ARGUMENT,{count:ee,expectedCount:re}),ee>re&&this.throwError("too many arguments"+ne,Logger$1.errors.UNEXPECTED_ARGUMENT,{count:ee,expectedCount:re})}checkNew(ee,re){(ee===Object||ee==null)&&this.throwError("missing new",Logger$1.errors.MISSING_NEW,{name:re.name})}checkAbstract(ee,re){ee===re?this.throwError("cannot instantiate abstract class "+JSON.stringify(re.name)+" directly; use a sub-class",Logger$1.errors.UNSUPPORTED_OPERATION,{name:ee.name,operation:"new"}):(ee===Object||ee==null)&&this.throwError("missing new",Logger$1.errors.MISSING_NEW,{name:re.name})}static globalLogger(){return _globalLogger$1||(_globalLogger$1=new Logger$1(version$o)),_globalLogger$1}static setCensorship(ee,re){if(!ee&&re&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$1){if(!ee)return;this.globalLogger().throwError("error censorship permanent",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$1=!!ee,_permanentCensorErrors$1=!!re}static setLogLevel(ee){const re=LogLevels$1[ee.toLowerCase()];if(re==null){Logger$1.globalLogger().warn("invalid log level - "+ee);return}_logLevel$1=re}static from(ee){return new Logger$1(ee)}}Logger$1.errors=ErrorCode$1;Logger$1.levels=LogLevel$1;const version$n="bytes/5.6.1",logger$l=new Logger$1(version$n);function isHexable$1(te){return!!te.toHexString}function addSlice$1(te){return te.slice||(te.slice=function(){const ee=Array.prototype.slice.call(arguments);return addSlice$1(new Uint8Array(Array.prototype.slice.apply(te,ee)))}),te}function isBytesLike$1(te){return isHexString$6(te)&&!(te.length%2)||isBytes$1(te)}function isInteger$1(te){return typeof te=="number"&&te==te&&te%1===0}function isBytes$1(te){if(te==null)return!1;if(te.constructor===Uint8Array)return!0;if(typeof te=="string"||!isInteger$1(te.length)||te.length<0)return!1;for(let ee=0;ee<te.length;ee++){const re=te[ee];if(!isInteger$1(re)||re<0||re>=256)return!1}return!0}function arrayify$1(te,ee){if(ee||(ee={}),typeof te=="number"){logger$l.checkSafeUint53(te,"invalid arrayify value");const re=[];for(;te;)re.unshift(te&255),te=parseInt(String(te/256));return re.length===0&&re.push(0),addSlice$1(new Uint8Array(re))}if(ee.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),isHexable$1(te)&&(te=te.toHexString()),isHexString$6(te)){let re=te.substring(2);re.length%2&&(ee.hexPad==="left"?re="0"+re:ee.hexPad==="right"?re+="0":logger$l.throwArgumentError("hex data is odd-length","value",te));const ne=[];for(let ie=0;ie<re.length;ie+=2)ne.push(parseInt(re.substring(ie,ie+2),16));return addSlice$1(new Uint8Array(ne))}return isBytes$1(te)?addSlice$1(new Uint8Array(te)):logger$l.throwArgumentError("invalid arrayify value","value",te)}function stripZeros(te){let ee=arrayify$1(te);if(ee.length===0)return ee;let re=0;for(;re<ee.length&&ee[re]===0;)re++;return re&&(ee=ee.slice(re)),ee}function zeroPad(te,ee){te=arrayify$1(te),te.length>ee&&logger$l.throwArgumentError("value out of range","value",arguments[0]);const re=new Uint8Array(ee);return re.set(te,ee-te.length),addSlice$1(re)}function isHexString$6(te,ee){return!(typeof te!="string"||!te.match(/^0x[0-9A-Fa-f]*$/)||ee&&te.length!==2+2*ee)}const HexCharacters$1="0123456789abcdef";function hexlify$1(te,ee){if(ee||(ee={}),typeof te=="number"){logger$l.checkSafeUint53(te,"invalid hexlify value");let re="";for(;te;)re=HexCharacters$1[te&15]+re,te=Math.floor(te/16);return re.length?(re.length%2&&(re="0"+re),"0x"+re):"0x00"}if(typeof te=="bigint")return te=te.toString(16),te.length%2?"0x0"+te:"0x"+te;if(ee.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),isHexable$1(te))return te.toHexString();if(isHexString$6(te))return te.length%2&&(ee.hexPad==="left"?te="0x0"+te.substring(2):ee.hexPad==="right"?te+="0":logger$l.throwArgumentError("hex data is odd-length","value",te)),te.toLowerCase();if(isBytes$1(te)){let re="0x";for(let ne=0;ne<te.length;ne++){let ie=te[ne];re+=HexCharacters$1[(ie&240)>>4]+HexCharacters$1[ie&15]}return re}return logger$l.throwArgumentError("invalid hexlify value","value",te)}function hexDataLength(te){if(typeof te!="string")te=hexlify$1(te);else if(!isHexString$6(te)||te.length%2)return null;return(te.length-2)/2}function hexDataSlice(te,ee,re){return typeof te!="string"?te=hexlify$1(te):(!isHexString$6(te)||te.length%2)&&logger$l.throwArgumentError("invalid hexData","value",te),ee=2+2*ee,re!=null?"0x"+te.substring(ee,2+2*re):"0x"+te.substring(ee)}function hexConcat(te){let ee="0x";return te.forEach(re=>{ee+=hexlify$1(re).substring(2)}),ee}function hexZeroPad(te,ee){for(typeof te!="string"?te=hexlify$1(te):isHexString$6(te)||logger$l.throwArgumentError("invalid hex string","value",te),te.length>2*ee+2&&logger$l.throwArgumentError("value out of range","value",arguments[1]);te.length<2*ee+2;)te="0x0"+te.substring(2);return te}function splitSignature(te){const ee={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(isBytesLike$1(te)){let re=arrayify$1(te);re.length===64?(ee.v=27+(re[32]>>7),re[32]&=127,ee.r=hexlify$1(re.slice(0,32)),ee.s=hexlify$1(re.slice(32,64))):re.length===65?(ee.r=hexlify$1(re.slice(0,32)),ee.s=hexlify$1(re.slice(32,64)),ee.v=re[64]):logger$l.throwArgumentError("invalid signature string","signature",te),ee.v<27&&(ee.v===0||ee.v===1?ee.v+=27:logger$l.throwArgumentError("signature invalid v byte","signature",te)),ee.recoveryParam=1-ee.v%2,ee.recoveryParam&&(re[32]|=128),ee._vs=hexlify$1(re.slice(32,64))}else{if(ee.r=te.r,ee.s=te.s,ee.v=te.v,ee.recoveryParam=te.recoveryParam,ee._vs=te._vs,ee._vs!=null){const ie=zeroPad(arrayify$1(ee._vs),32);ee._vs=hexlify$1(ie);const oe=ie[0]>=128?1:0;ee.recoveryParam==null?ee.recoveryParam=oe:ee.recoveryParam!==oe&&logger$l.throwArgumentError("signature recoveryParam mismatch _vs","signature",te),ie[0]&=127;const se=hexlify$1(ie);ee.s==null?ee.s=se:ee.s!==se&&logger$l.throwArgumentError("signature v mismatch _vs","signature",te)}if(ee.recoveryParam==null)ee.v==null?logger$l.throwArgumentError("signature missing v and recoveryParam","signature",te):ee.v===0||ee.v===1?ee.recoveryParam=ee.v:ee.recoveryParam=1-ee.v%2;else if(ee.v==null)ee.v=27+ee.recoveryParam;else{const ie=ee.v===0||ee.v===1?ee.v:1-ee.v%2;ee.recoveryParam!==ie&&logger$l.throwArgumentError("signature recoveryParam mismatch v","signature",te)}ee.r==null||!isHexString$6(ee.r)?logger$l.throwArgumentError("signature missing or invalid r","signature",te):ee.r=hexZeroPad(ee.r,32),ee.s==null||!isHexString$6(ee.s)?logger$l.throwArgumentError("signature missing or invalid s","signature",te):ee.s=hexZeroPad(ee.s,32);const re=arrayify$1(ee.s);re[0]>=128&&logger$l.throwArgumentError("signature s out of range","signature",te),ee.recoveryParam&&(re[0]|=128);const ne=hexlify$1(re);ee._vs&&(isHexString$6(ee._vs)||logger$l.throwArgumentError("signature invalid _vs","signature",te),ee._vs=hexZeroPad(ee._vs,32)),ee._vs==null?ee._vs=ne:ee._vs!==ne&&logger$l.throwArgumentError("signature _vs mismatch v and s","signature",te)}return ee.yParityAndS=ee._vs,ee.compact=ee.r+ee.yParityAndS.substring(2),ee}const version$m="bignumber/5.6.0";var BN$h=_BN.BN;const logger$k=new Logger$1(version$m),_constructorGuard$1={},MAX_SAFE=9007199254740991;let _warnedToStringRadix=!1;class BigNumber{constructor(ee,re){logger$k.checkNew(new.target,BigNumber),ee!==_constructorGuard$1&&logger$k.throwError("cannot call constructor directly; use BigNumber.from",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=re,this._isBigNumber=!0,Object.freeze(this)}fromTwos(ee){return toBigNumber(toBN(this).fromTwos(ee))}toTwos(ee){return toBigNumber(toBN(this).toTwos(ee))}abs(){return this._hex[0]==="-"?BigNumber.from(this._hex.substring(1)):this}add(ee){return toBigNumber(toBN(this).add(toBN(ee)))}sub(ee){return toBigNumber(toBN(this).sub(toBN(ee)))}div(ee){return BigNumber.from(ee).isZero()&&throwFault("division-by-zero","div"),toBigNumber(toBN(this).div(toBN(ee)))}mul(ee){return toBigNumber(toBN(this).mul(toBN(ee)))}mod(ee){const re=toBN(ee);return re.isNeg()&&throwFault("division-by-zero","mod"),toBigNumber(toBN(this).umod(re))}pow(ee){const re=toBN(ee);return re.isNeg()&&throwFault("negative-power","pow"),toBigNumber(toBN(this).pow(re))}and(ee){const re=toBN(ee);return(this.isNegative()||re.isNeg())&&throwFault("unbound-bitwise-result","and"),toBigNumber(toBN(this).and(re))}or(ee){const re=toBN(ee);return(this.isNegative()||re.isNeg())&&throwFault("unbound-bitwise-result","or"),toBigNumber(toBN(this).or(re))}xor(ee){const re=toBN(ee);return(this.isNegative()||re.isNeg())&&throwFault("unbound-bitwise-result","xor"),toBigNumber(toBN(this).xor(re))}mask(ee){return(this.isNegative()||ee<0)&&throwFault("negative-width","mask"),toBigNumber(toBN(this).maskn(ee))}shl(ee){return(this.isNegative()||ee<0)&&throwFault("negative-width","shl"),toBigNumber(toBN(this).shln(ee))}shr(ee){return(this.isNegative()||ee<0)&&throwFault("negative-width","shr"),toBigNumber(toBN(this).shrn(ee))}eq(ee){return toBN(this).eq(toBN(ee))}lt(ee){return toBN(this).lt(toBN(ee))}lte(ee){return toBN(this).lte(toBN(ee))}gt(ee){return toBN(this).gt(toBN(ee))}gte(ee){return toBN(this).gte(toBN(ee))}isNegative(){return this._hex[0]==="-"}isZero(){return toBN(this).isZero()}toNumber(){try{return toBN(this).toNumber()}catch{throwFault("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return logger$k.throwError("this platform does not support BigInt",Logger$1.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?_warnedToStringRadix||(_warnedToStringRadix=!0,logger$k.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?logger$k.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Logger$1.errors.UNEXPECTED_ARGUMENT,{}):logger$k.throwError("BigNumber.toString does not accept parameters",Logger$1.errors.UNEXPECTED_ARGUMENT,{})),toBN(this).toString(10)}toHexString(){return this._hex}toJSON(ee){return{type:"BigNumber",hex:this.toHexString()}}static from(ee){if(ee instanceof BigNumber)return ee;if(typeof ee=="string")return ee.match(/^-?0x[0-9a-f]+$/i)?new BigNumber(_constructorGuard$1,toHex(ee)):ee.match(/^-?[0-9]+$/)?new BigNumber(_constructorGuard$1,toHex(new BN$h(ee))):logger$k.throwArgumentError("invalid BigNumber string","value",ee);if(typeof ee=="number")return ee%1&&throwFault("underflow","BigNumber.from",ee),(ee>=MAX_SAFE||ee<=-MAX_SAFE)&&throwFault("overflow","BigNumber.from",ee),BigNumber.from(String(ee));const re=ee;if(typeof re=="bigint")return BigNumber.from(re.toString());if(isBytes$1(re))return BigNumber.from(hexlify$1(re));if(re)if(re.toHexString){const ne=re.toHexString();if(typeof ne=="string")return BigNumber.from(ne)}else{let ne=re._hex;if(ne==null&&re.type==="BigNumber"&&(ne=re.hex),typeof ne=="string"&&(isHexString$6(ne)||ne[0]==="-"&&isHexString$6(ne.substring(1))))return BigNumber.from(ne)}return logger$k.throwArgumentError("invalid BigNumber value","value",ee)}static isBigNumber(ee){return!!(ee&&ee._isBigNumber)}}function toHex(te){if(typeof te!="string")return toHex(te.toString(16));if(te[0]==="-")return te=te.substring(1),te[0]==="-"&&logger$k.throwArgumentError("invalid hex","value",te),te=toHex(te),te==="0x00"?te:"-"+te;if(te.substring(0,2)!=="0x"&&(te="0x"+te),te==="0x")return"0x00";for(te.length%2&&(te="0x0"+te.substring(2));te.length>4&&te.substring(0,4)==="0x00";)te="0x"+te.substring(4);return te}function toBigNumber(te){return BigNumber.from(toHex(te))}function toBN(te){const ee=BigNumber.from(te).toHexString();return ee[0]==="-"?new BN$h("-"+ee.substring(3),16):new BN$h(ee.substring(2),16)}function throwFault(te,ee,re){const ne={fault:te,operation:ee};return re!=null&&(ne.value=re),logger$k.throwError(te,Logger$1.errors.NUMERIC_FAULT,ne)}function _base36To16(te){return new BN$h(te,36).toString(16)}function keccak256(te){return"0x"+sha3.keccak_256(arrayify$1(te))}const version$l="rlp/5.6.0",logger$j=new Logger$1(version$l);function arrayifyInteger(te){const ee=[];for(;te;)ee.unshift(te&255),te>>=8;return ee}function unarrayifyInteger(te,ee,re){let ne=0;for(let ie=0;ie<re;ie++)ne=ne*256+te[ee+ie];return ne}function _encode(te){if(Array.isArray(te)){let ne=[];if(te.forEach(function(oe){ne=ne.concat(_encode(oe))}),ne.length<=55)return ne.unshift(192+ne.length),ne;const ie=arrayifyInteger(ne.length);return ie.unshift(247+ie.length),ie.concat(ne)}isBytesLike$1(te)||logger$j.throwArgumentError("RLP object must be BytesLike","object",te);const ee=Array.prototype.slice.call(arrayify$1(te));if(ee.length===1&&ee[0]<=127)return ee;if(ee.length<=55)return ee.unshift(128+ee.length),ee;const re=arrayifyInteger(ee.length);return re.unshift(183+re.length),re.concat(ee)}function encode$5(te){return hexlify$1(_encode(te))}function _decodeChildren(te,ee,re,ne){const ie=[];for(;re<ee+1+ne;){const oe=_decode$1(te,re);ie.push(oe.result),re+=oe.consumed,re>ee+1+ne&&logger$j.throwError("child data too short",Logger$1.errors.BUFFER_OVERRUN,{})}return{consumed:1+ne,result:ie}}function _decode$1(te,ee){if(te.length===0&&logger$j.throwError("data too short",Logger$1.errors.BUFFER_OVERRUN,{}),te[ee]>=248){const re=te[ee]-247;ee+1+re>te.length&&logger$j.throwError("data short segment too short",Logger$1.errors.BUFFER_OVERRUN,{});const ne=unarrayifyInteger(te,ee+1,re);return ee+1+re+ne>te.length&&logger$j.throwError("data long segment too short",Logger$1.errors.BUFFER_OVERRUN,{}),_decodeChildren(te,ee,ee+1+re,re+ne)}else if(te[ee]>=192){const re=te[ee]-192;return ee+1+re>te.length&&logger$j.throwError("data array too short",Logger$1.errors.BUFFER_OVERRUN,{}),_decodeChildren(te,ee,ee+1,re)}else if(te[ee]>=184){const re=te[ee]-183;ee+1+re>te.length&&logger$j.throwError("data array too short",Logger$1.errors.BUFFER_OVERRUN,{});const ne=unarrayifyInteger(te,ee+1,re);ee+1+re+ne>te.length&&logger$j.throwError("data array too short",Logger$1.errors.BUFFER_OVERRUN,{});const ie=hexlify$1(te.slice(ee+1+re,ee+1+re+ne));return{consumed:1+re+ne,result:ie}}else if(te[ee]>=128){const re=te[ee]-128;ee+1+re>te.length&&logger$j.throwError("data too short",Logger$1.errors.BUFFER_OVERRUN,{});const ne=hexlify$1(te.slice(ee+1,ee+1+re));return{consumed:1+re,result:ne}}return{consumed:1,result:hexlify$1(te[ee])}}function decode$7(te){const ee=arrayify$1(te),re=_decode$1(ee,0);return re.consumed!==ee.length&&logger$j.throwArgumentError("invalid rlp data","data",te),re.result}const version$k="address/5.6.0",logger$i=new Logger$1(version$k);function getChecksumAddress(te){isHexString$6(te,20)||logger$i.throwArgumentError("invalid address","address",te),te=te.toLowerCase();const ee=te.substring(2).split(""),re=new Uint8Array(40);for(let ie=0;ie<40;ie++)re[ie]=ee[ie].charCodeAt(0);const ne=arrayify$1(keccak256(re));for(let ie=0;ie<40;ie+=2)ne[ie>>1]>>4>=8&&(ee[ie]=ee[ie].toUpperCase()),(ne[ie>>1]&15)>=8&&(ee[ie+1]=ee[ie+1].toUpperCase());return"0x"+ee.join("")}const MAX_SAFE_INTEGER$2=9007199254740991;function log10(te){return Math.log10?Math.log10(te):Math.log(te)/Math.LN10}const ibanLookup={};for(let te=0;te<10;te++)ibanLookup[String(te)]=String(te);for(let te=0;te<26;te++)ibanLookup[String.fromCharCode(65+te)]=String(10+te);const safeDigits=Math.floor(log10(MAX_SAFE_INTEGER$2));function ibanChecksum(te){te=te.toUpperCase(),te=te.substring(4)+te.substring(0,2)+"00";let ee=te.split("").map(ne=>ibanLookup[ne]).join("");for(;ee.length>=safeDigits;){let ne=ee.substring(0,safeDigits);ee=parseInt(ne,10)%97+ee.substring(ne.length)}let re=String(98-parseInt(ee,10)%97);for(;re.length<2;)re="0"+re;return re}function getAddress(te){let ee=null;if(typeof te!="string"&&logger$i.throwArgumentError("invalid address","address",te),te.match(/^(0x)?[0-9a-fA-F]{40}$/))te.substring(0,2)!=="0x"&&(te="0x"+te),ee=getChecksumAddress(te),te.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&ee!==te&&logger$i.throwArgumentError("bad address checksum","address",te);else if(te.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(te.substring(2,4)!==ibanChecksum(te)&&logger$i.throwArgumentError("bad icap checksum","address",te),ee=_base36To16(te.substring(4));ee.length<40;)ee="0"+ee;ee=getChecksumAddress("0x"+ee)}else logger$i.throwArgumentError("invalid address","address",te);return ee}const Zero=BigNumber.from(0),version$j="properties/5.6.0";globalThis&&globalThis.__awaiter;const logger$h=new Logger$1(version$j);function defineReadOnly(te,ee,re){Object.defineProperty(te,ee,{enumerable:!0,value:re,writable:!1})}function checkProperties(te,ee){(!te||typeof te!="object")&&logger$h.throwArgumentError("invalid object","object",te),Object.keys(te).forEach(re=>{ee[re]||logger$h.throwArgumentError("invalid object key - "+re,"transaction:"+re,te)})}function createCommonjsModule$1(te,ee,re){return re={path:ee,exports:{},require:function(ne,ie){return commonjsRequire$1(ne,ie==null?re.path:ie)}},te(re,re.exports),re.exports}function commonjsRequire$1(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var minimalisticAssert=assert$e;function assert$e(te,ee){if(!te)throw new Error(ee||"Assertion failed")}assert$e.equal=function(ee,re,ne){if(ee!=re)throw new Error(ne||"Assertion failed: "+ee+" != "+re)};var utils_1$2=createCommonjsModule$1(function(te,ee){var re=ee;function ne(se,ae){if(Array.isArray(se))return se.slice();if(!se)return[];var fe=[];if(typeof se!="string"){for(var ue=0;ue<se.length;ue++)fe[ue]=se[ue]|0;return fe}if(ae==="hex"){se=se.replace(/[^a-z0-9]+/ig,""),se.length%2!==0&&(se="0"+se);for(var ue=0;ue<se.length;ue+=2)fe.push(parseInt(se[ue]+se[ue+1],16))}else for(var ue=0;ue<se.length;ue++){var le=se.charCodeAt(ue),pe=le>>8,rr=le&255;pe?fe.push(pe,rr):fe.push(rr)}return fe}re.toArray=ne;function ie(se){return se.length===1?"0"+se:se}re.zero2=ie;function oe(se){for(var ae="",fe=0;fe<se.length;fe++)ae+=ie(se[fe].toString(16));return ae}re.toHex=oe,re.encode=function(ae,fe){return fe==="hex"?oe(ae):ae}}),utils_1$1$1=createCommonjsModule$1(function(te,ee){var re=ee;re.assert=minimalisticAssert,re.toArray=utils_1$2.toArray,re.zero2=utils_1$2.zero2,re.toHex=utils_1$2.toHex,re.encode=utils_1$2.encode;function ne(fe,ue,le){var pe=new Array(Math.max(fe.bitLength(),le)+1);pe.fill(0);for(var rr=1<<ue+1,cr=fe.clone(),ar=0;ar<pe.length;ar++){var mr,pr=cr.andln(rr-1);cr.isOdd()?(pr>(rr>>1)-1?mr=(rr>>1)-pr:mr=pr,cr.isubn(mr)):mr=0,pe[ar]=mr,cr.iushrn(1)}return pe}re.getNAF=ne;function ie(fe,ue){var le=[[],[]];fe=fe.clone(),ue=ue.clone();for(var pe=0,rr=0,cr;fe.cmpn(-pe)>0||ue.cmpn(-rr)>0;){var ar=fe.andln(3)+pe&3,mr=ue.andln(3)+rr&3;ar===3&&(ar=-1),mr===3&&(mr=-1);var pr;(ar&1)===0?pr=0:(cr=fe.andln(7)+pe&7,(cr===3||cr===5)&&mr===2?pr=-ar:pr=ar),le[0].push(pr);var yr;(mr&1)===0?yr=0:(cr=ue.andln(7)+rr&7,(cr===3||cr===5)&&ar===2?yr=-mr:yr=mr),le[1].push(yr),2*pe===pr+1&&(pe=1-pe),2*rr===yr+1&&(rr=1-rr),fe.iushrn(1),ue.iushrn(1)}return le}re.getJSF=ie;function oe(fe,ue,le){var pe="_"+ue;fe.prototype[ue]=function(){return this[pe]!==void 0?this[pe]:this[pe]=le.call(this)}}re.cachedProperty=oe;function se(fe){return typeof fe=="string"?re.toArray(fe,"hex"):fe}re.parseBytes=se;function ae(fe){return new _BN(fe,"hex","le")}re.intFromLE=ae}),getNAF$1=utils_1$1$1.getNAF,getJSF$1=utils_1$1$1.getJSF,assert$1$1=utils_1$1$1.assert;function BaseCurve$1(te,ee){this.type=te,this.p=new _BN(ee.p,16),this.red=ee.prime?_BN.red(ee.prime):_BN.mont(this.p),this.zero=new _BN(0).toRed(this.red),this.one=new _BN(1).toRed(this.red),this.two=new _BN(2).toRed(this.red),this.n=ee.n&&new _BN(ee.n,16),this.g=ee.g&&this.pointFromJSON(ee.g,ee.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var re=this.n&&this.p.div(this.n);!re||re.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$2=BaseCurve$1;BaseCurve$1.prototype.point=function(){throw new Error("Not implemented")};BaseCurve$1.prototype.validate=function(){throw new Error("Not implemented")};BaseCurve$1.prototype._fixedNafMul=function(ee,re){assert$1$1(ee.precomputed);var ne=ee._getDoubles(),ie=getNAF$1(re,1,this._bitLength),oe=(1<<ne.step+1)-(ne.step%2===0?2:1);oe/=3;var se=[],ae,fe;for(ae=0;ae<ie.length;ae+=ne.step){fe=0;for(var ue=ae+ne.step-1;ue>=ae;ue--)fe=(fe<<1)+ie[ue];se.push(fe)}for(var le=this.jpoint(null,null,null),pe=this.jpoint(null,null,null),rr=oe;rr>0;rr--){for(ae=0;ae<se.length;ae++)fe=se[ae],fe===rr?pe=pe.mixedAdd(ne.points[ae]):fe===-rr&&(pe=pe.mixedAdd(ne.points[ae].neg()));le=le.add(pe)}return le.toP()};BaseCurve$1.prototype._wnafMul=function(ee,re){var ne=4,ie=ee._getNAFPoints(ne);ne=ie.wnd;for(var oe=ie.points,se=getNAF$1(re,ne,this._bitLength),ae=this.jpoint(null,null,null),fe=se.length-1;fe>=0;fe--){for(var ue=0;fe>=0&&se[fe]===0;fe--)ue++;if(fe>=0&&ue++,ae=ae.dblp(ue),fe<0)break;var le=se[fe];assert$1$1(le!==0),ee.type==="affine"?le>0?ae=ae.mixedAdd(oe[le-1>>1]):ae=ae.mixedAdd(oe[-le-1>>1].neg()):le>0?ae=ae.add(oe[le-1>>1]):ae=ae.add(oe[-le-1>>1].neg())}return ee.type==="affine"?ae.toP():ae};BaseCurve$1.prototype._wnafMulAdd=function(ee,re,ne,ie,oe){var se=this._wnafT1,ae=this._wnafT2,fe=this._wnafT3,ue=0,le,pe,rr;for(le=0;le<ie;le++){rr=re[le];var cr=rr._getNAFPoints(ee);se[le]=cr.wnd,ae[le]=cr.points}for(le=ie-1;le>=1;le-=2){var ar=le-1,mr=le;if(se[ar]!==1||se[mr]!==1){fe[ar]=getNAF$1(ne[ar],se[ar],this._bitLength),fe[mr]=getNAF$1(ne[mr],se[mr],this._bitLength),ue=Math.max(fe[ar].length,ue),ue=Math.max(fe[mr].length,ue);continue}var pr=[re[ar],null,null,re[mr]];re[ar].y.cmp(re[mr].y)===0?(pr[1]=re[ar].add(re[mr]),pr[2]=re[ar].toJ().mixedAdd(re[mr].neg())):re[ar].y.cmp(re[mr].y.redNeg())===0?(pr[1]=re[ar].toJ().mixedAdd(re[mr]),pr[2]=re[ar].add(re[mr].neg())):(pr[1]=re[ar].toJ().mixedAdd(re[mr]),pr[2]=re[ar].toJ().mixedAdd(re[mr].neg()));var yr=[-3,-1,-5,-7,0,7,5,1,3],vr=getJSF$1(ne[ar],ne[mr]);for(ue=Math.max(vr[0].length,ue),fe[ar]=new Array(ue),fe[mr]=new Array(ue),pe=0;pe<ue;pe++){var Er=vr[0][pe]|0,Tr=vr[1][pe]|0;fe[ar][pe]=yr[(Er+1)*3+(Tr+1)],fe[mr][pe]=0,ae[ar]=pr}}var Ir=this.jpoint(null,null,null),Or=this._wnafT4;for(le=ue;le>=0;le--){for(var Hr=0;le>=0;){var Pr=!0;for(pe=0;pe<ie;pe++)Or[pe]=fe[pe][le]|0,Or[pe]!==0&&(Pr=!1);if(!Pr)break;Hr++,le--}if(le>=0&&Hr++,Ir=Ir.dblp(Hr),le<0)break;for(pe=0;pe<ie;pe++){var Br=Or[pe];Br!==0&&(Br>0?rr=ae[pe][Br-1>>1]:Br<0&&(rr=ae[pe][-Br-1>>1].neg()),rr.type==="affine"?Ir=Ir.mixedAdd(rr):Ir=Ir.add(rr))}}for(le=0;le<ie;le++)ae[le]=null;return oe?Ir:Ir.toP()};function BasePoint$1(te,ee){this.curve=te,this.type=ee,this.precomputed=null}BaseCurve$1.BasePoint=BasePoint$1;BasePoint$1.prototype.eq=function(){throw new Error("Not implemented")};BasePoint$1.prototype.validate=function(){return this.curve.validate(this)};BaseCurve$1.prototype.decodePoint=function(ee,re){ee=utils_1$1$1.toArray(ee,re);var ne=this.p.byteLength();if((ee[0]===4||ee[0]===6||ee[0]===7)&&ee.length-1===2*ne){ee[0]===6?assert$1$1(ee[ee.length-1]%2===0):ee[0]===7&&assert$1$1(ee[ee.length-1]%2===1);var ie=this.point(ee.slice(1,1+ne),ee.slice(1+ne,1+2*ne));return ie}else if((ee[0]===2||ee[0]===3)&&ee.length-1===ne)return this.pointFromX(ee.slice(1,1+ne),ee[0]===3);throw new Error("Unknown point format")};BasePoint$1.prototype.encodeCompressed=function(ee){return this.encode(ee,!0)};BasePoint$1.prototype._encode=function(ee){var re=this.curve.p.byteLength(),ne=this.getX().toArray("be",re);return ee?[this.getY().isEven()?2:3].concat(ne):[4].concat(ne,this.getY().toArray("be",re))};BasePoint$1.prototype.encode=function(ee,re){return utils_1$1$1.encode(this._encode(re),ee)};BasePoint$1.prototype.precompute=function(ee){if(this.precomputed)return this;var re={doubles:null,naf:null,beta:null};return re.naf=this._getNAFPoints(8),re.doubles=this._getDoubles(4,ee),re.beta=this._getBeta(),this.precomputed=re,this};BasePoint$1.prototype._hasDoubles=function(ee){if(!this.precomputed)return!1;var re=this.precomputed.doubles;return re?re.points.length>=Math.ceil((ee.bitLength()+1)/re.step):!1};BasePoint$1.prototype._getDoubles=function(ee,re){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var ne=[this],ie=this,oe=0;oe<re;oe+=ee){for(var se=0;se<ee;se++)ie=ie.dbl();ne.push(ie)}return{step:ee,points:ne}};BasePoint$1.prototype._getNAFPoints=function(ee){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var re=[this],ne=(1<<ee)-1,ie=ne===1?null:this.dbl(),oe=1;oe<ne;oe++)re[oe]=re[oe-1].add(ie);return{wnd:ee,points:re}};BasePoint$1.prototype._getBeta=function(){return null};BasePoint$1.prototype.dblp=function(ee){for(var re=this,ne=0;ne<ee;ne++)re=re.dbl();return re};var inherits_browser$1=createCommonjsModule$1(function(te){typeof Object.create=="function"?te.exports=function(re,ne){ne&&(re.super_=ne,re.prototype=Object.create(ne.prototype,{constructor:{value:re,enumerable:!1,writable:!0,configurable:!0}}))}:te.exports=function(re,ne){if(ne){re.super_=ne;var ie=function(){};ie.prototype=ne.prototype,re.prototype=new ie,re.prototype.constructor=re}}}),assert$2$1=utils_1$1$1.assert;function ShortCurve$1(te){base$2.call(this,"short",te),this.a=new _BN(te.a,16).toRed(this.red),this.b=new _BN(te.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(te),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits_browser$1(ShortCurve$1,base$2);var short_1=ShortCurve$1;ShortCurve$1.prototype._getEndomorphism=function(ee){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var re,ne;if(ee.beta)re=new _BN(ee.beta,16).toRed(this.red);else{var ie=this._getEndoRoots(this.p);re=ie[0].cmp(ie[1])<0?ie[0]:ie[1],re=re.toRed(this.red)}if(ee.lambda)ne=new _BN(ee.lambda,16);else{var oe=this._getEndoRoots(this.n);this.g.mul(oe[0]).x.cmp(this.g.x.redMul(re))===0?ne=oe[0]:(ne=oe[1],assert$2$1(this.g.mul(ne).x.cmp(this.g.x.redMul(re))===0))}var se;return ee.basis?se=ee.basis.map(function(ae){return{a:new _BN(ae.a,16),b:new _BN(ae.b,16)}}):se=this._getEndoBasis(ne),{beta:re,lambda:ne,basis:se}}};ShortCurve$1.prototype._getEndoRoots=function(ee){var re=ee===this.p?this.red:_BN.mont(ee),ne=new _BN(2).toRed(re).redInvm(),ie=ne.redNeg(),oe=new _BN(3).toRed(re).redNeg().redSqrt().redMul(ne),se=ie.redAdd(oe).fromRed(),ae=ie.redSub(oe).fromRed();return[se,ae]};ShortCurve$1.prototype._getEndoBasis=function(ee){for(var re=this.n.ushrn(Math.floor(this.n.bitLength()/2)),ne=ee,ie=this.n.clone(),oe=new _BN(1),se=new _BN(0),ae=new _BN(0),fe=new _BN(1),ue,le,pe,rr,cr,ar,mr,pr=0,yr,vr;ne.cmpn(0)!==0;){var Er=ie.div(ne);yr=ie.sub(Er.mul(ne)),vr=ae.sub(Er.mul(oe));var Tr=fe.sub(Er.mul(se));if(!pe&&yr.cmp(re)<0)ue=mr.neg(),le=oe,pe=yr.neg(),rr=vr;else if(pe&&++pr===2)break;mr=yr,ie=ne,ne=yr,ae=oe,oe=vr,fe=se,se=Tr}cr=yr.neg(),ar=vr;var Ir=pe.sqr().add(rr.sqr()),Or=cr.sqr().add(ar.sqr());return Or.cmp(Ir)>=0&&(cr=ue,ar=le),pe.negative&&(pe=pe.neg(),rr=rr.neg()),cr.negative&&(cr=cr.neg(),ar=ar.neg()),[{a:pe,b:rr},{a:cr,b:ar}]};ShortCurve$1.prototype._endoSplit=function(ee){var re=this.endo.basis,ne=re[0],ie=re[1],oe=ie.b.mul(ee).divRound(this.n),se=ne.b.neg().mul(ee).divRound(this.n),ae=oe.mul(ne.a),fe=se.mul(ie.a),ue=oe.mul(ne.b),le=se.mul(ie.b),pe=ee.sub(ae).sub(fe),rr=ue.add(le).neg();return{k1:pe,k2:rr}};ShortCurve$1.prototype.pointFromX=function(ee,re){ee=new _BN(ee,16),ee.red||(ee=ee.toRed(this.red));var ne=ee.redSqr().redMul(ee).redIAdd(ee.redMul(this.a)).redIAdd(this.b),ie=ne.redSqrt();if(ie.redSqr().redSub(ne).cmp(this.zero)!==0)throw new Error("invalid point");var oe=ie.fromRed().isOdd();return(re&&!oe||!re&&oe)&&(ie=ie.redNeg()),this.point(ee,ie)};ShortCurve$1.prototype.validate=function(ee){if(ee.inf)return!0;var re=ee.x,ne=ee.y,ie=this.a.redMul(re),oe=re.redSqr().redMul(re).redIAdd(ie).redIAdd(this.b);return ne.redSqr().redISub(oe).cmpn(0)===0};ShortCurve$1.prototype._endoWnafMulAdd=function(ee,re,ne){for(var ie=this._endoWnafT1,oe=this._endoWnafT2,se=0;se<ee.length;se++){var ae=this._endoSplit(re[se]),fe=ee[se],ue=fe._getBeta();ae.k1.negative&&(ae.k1.ineg(),fe=fe.neg(!0)),ae.k2.negative&&(ae.k2.ineg(),ue=ue.neg(!0)),ie[se*2]=fe,ie[se*2+1]=ue,oe[se*2]=ae.k1,oe[se*2+1]=ae.k2}for(var le=this._wnafMulAdd(1,ie,oe,se*2,ne),pe=0;pe<se*2;pe++)ie[pe]=null,oe[pe]=null;return le};function Point$3(te,ee,re,ne){base$2.BasePoint.call(this,te,"affine"),ee===null&&re===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new _BN(ee,16),this.y=new _BN(re,16),ne&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits_browser$1(Point$3,base$2.BasePoint);ShortCurve$1.prototype.point=function(ee,re,ne){return new Point$3(this,ee,re,ne)};ShortCurve$1.prototype.pointFromJSON=function(ee,re){return Point$3.fromJSON(this,ee,re)};Point$3.prototype._getBeta=function(){if(!!this.curve.endo){var ee=this.precomputed;if(ee&&ee.beta)return ee.beta;var re=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(ee){var ne=this.curve,ie=function(oe){return ne.point(oe.x.redMul(ne.endo.beta),oe.y)};ee.beta=re,re.precomputed={beta:null,naf:ee.naf&&{wnd:ee.naf.wnd,points:ee.naf.points.map(ie)},doubles:ee.doubles&&{step:ee.doubles.step,points:ee.doubles.points.map(ie)}}}return re}};Point$3.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point$3.fromJSON=function(ee,re,ne){typeof re=="string"&&(re=JSON.parse(re));var ie=ee.point(re[0],re[1],ne);if(!re[2])return ie;function oe(ae){return ee.point(ae[0],ae[1],ne)}var se=re[2];return ie.precomputed={beta:null,doubles:se.doubles&&{step:se.doubles.step,points:[ie].concat(se.doubles.points.map(oe))},naf:se.naf&&{wnd:se.naf.wnd,points:[ie].concat(se.naf.points.map(oe))}},ie};Point$3.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point$3.prototype.isInfinity=function(){return this.inf};Point$3.prototype.add=function(ee){if(this.inf)return ee;if(ee.inf)return this;if(this.eq(ee))return this.dbl();if(this.neg().eq(ee))return this.curve.point(null,null);if(this.x.cmp(ee.x)===0)return this.curve.point(null,null);var re=this.y.redSub(ee.y);re.cmpn(0)!==0&&(re=re.redMul(this.x.redSub(ee.x).redInvm()));var ne=re.redSqr().redISub(this.x).redISub(ee.x),ie=re.redMul(this.x.redSub(ne)).redISub(this.y);return this.curve.point(ne,ie)};Point$3.prototype.dbl=function(){if(this.inf)return this;var ee=this.y.redAdd(this.y);if(ee.cmpn(0)===0)return this.curve.point(null,null);var re=this.curve.a,ne=this.x.redSqr(),ie=ee.redInvm(),oe=ne.redAdd(ne).redIAdd(ne).redIAdd(re).redMul(ie),se=oe.redSqr().redISub(this.x.redAdd(this.x)),ae=oe.redMul(this.x.redSub(se)).redISub(this.y);return this.curve.point(se,ae)};Point$3.prototype.getX=function(){return this.x.fromRed()};Point$3.prototype.getY=function(){return this.y.fromRed()};Point$3.prototype.mul=function(ee){return ee=new _BN(ee,16),this.isInfinity()?this:this._hasDoubles(ee)?this.curve._fixedNafMul(this,ee):this.curve.endo?this.curve._endoWnafMulAdd([this],[ee]):this.curve._wnafMul(this,ee)};Point$3.prototype.mulAdd=function(ee,re,ne){var ie=[this,re],oe=[ee,ne];return this.curve.endo?this.curve._endoWnafMulAdd(ie,oe):this.curve._wnafMulAdd(1,ie,oe,2)};Point$3.prototype.jmulAdd=function(ee,re,ne){var ie=[this,re],oe=[ee,ne];return this.curve.endo?this.curve._endoWnafMulAdd(ie,oe,!0):this.curve._wnafMulAdd(1,ie,oe,2,!0)};Point$3.prototype.eq=function(ee){return this===ee||this.inf===ee.inf&&(this.inf||this.x.cmp(ee.x)===0&&this.y.cmp(ee.y)===0)};Point$3.prototype.neg=function(ee){if(this.inf)return this;var re=this.curve.point(this.x,this.y.redNeg());if(ee&&this.precomputed){var ne=this.precomputed,ie=function(oe){return oe.neg()};re.precomputed={naf:ne.naf&&{wnd:ne.naf.wnd,points:ne.naf.points.map(ie)},doubles:ne.doubles&&{step:ne.doubles.step,points:ne.doubles.points.map(ie)}}}return re};Point$3.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var ee=this.curve.jpoint(this.x,this.y,this.curve.one);return ee};function JPoint$1(te,ee,re,ne){base$2.BasePoint.call(this,te,"jacobian"),ee===null&&re===null&&ne===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new _BN(0)):(this.x=new _BN(ee,16),this.y=new _BN(re,16),this.z=new _BN(ne,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits_browser$1(JPoint$1,base$2.BasePoint);ShortCurve$1.prototype.jpoint=function(ee,re,ne){return new JPoint$1(this,ee,re,ne)};JPoint$1.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var ee=this.z.redInvm(),re=ee.redSqr(),ne=this.x.redMul(re),ie=this.y.redMul(re).redMul(ee);return this.curve.point(ne,ie)};JPoint$1.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint$1.prototype.add=function(ee){if(this.isInfinity())return ee;if(ee.isInfinity())return this;var re=ee.z.redSqr(),ne=this.z.redSqr(),ie=this.x.redMul(re),oe=ee.x.redMul(ne),se=this.y.redMul(re.redMul(ee.z)),ae=ee.y.redMul(ne.redMul(this.z)),fe=ie.redSub(oe),ue=se.redSub(ae);if(fe.cmpn(0)===0)return ue.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var le=fe.redSqr(),pe=le.redMul(fe),rr=ie.redMul(le),cr=ue.redSqr().redIAdd(pe).redISub(rr).redISub(rr),ar=ue.redMul(rr.redISub(cr)).redISub(se.redMul(pe)),mr=this.z.redMul(ee.z).redMul(fe);return this.curve.jpoint(cr,ar,mr)};JPoint$1.prototype.mixedAdd=function(ee){if(this.isInfinity())return ee.toJ();if(ee.isInfinity())return this;var re=this.z.redSqr(),ne=this.x,ie=ee.x.redMul(re),oe=this.y,se=ee.y.redMul(re).redMul(this.z),ae=ne.redSub(ie),fe=oe.redSub(se);if(ae.cmpn(0)===0)return fe.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ue=ae.redSqr(),le=ue.redMul(ae),pe=ne.redMul(ue),rr=fe.redSqr().redIAdd(le).redISub(pe).redISub(pe),cr=fe.redMul(pe.redISub(rr)).redISub(oe.redMul(le)),ar=this.z.redMul(ae);return this.curve.jpoint(rr,cr,ar)};JPoint$1.prototype.dblp=function(ee){if(ee===0)return this;if(this.isInfinity())return this;if(!ee)return this.dbl();var re;if(this.curve.zeroA||this.curve.threeA){var ne=this;for(re=0;re<ee;re++)ne=ne.dbl();return ne}var ie=this.curve.a,oe=this.curve.tinv,se=this.x,ae=this.y,fe=this.z,ue=fe.redSqr().redSqr(),le=ae.redAdd(ae);for(re=0;re<ee;re++){var pe=se.redSqr(),rr=le.redSqr(),cr=rr.redSqr(),ar=pe.redAdd(pe).redIAdd(pe).redIAdd(ie.redMul(ue)),mr=se.redMul(rr),pr=ar.redSqr().redISub(mr.redAdd(mr)),yr=mr.redISub(pr),vr=ar.redMul(yr);vr=vr.redIAdd(vr).redISub(cr);var Er=le.redMul(fe);re+1<ee&&(ue=ue.redMul(cr)),se=pr,fe=Er,le=vr}return this.curve.jpoint(se,le.redMul(oe),fe)};JPoint$1.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint$1.prototype._zeroDbl=function(){var ee,re,ne;if(this.zOne){var ie=this.x.redSqr(),oe=this.y.redSqr(),se=oe.redSqr(),ae=this.x.redAdd(oe).redSqr().redISub(ie).redISub(se);ae=ae.redIAdd(ae);var fe=ie.redAdd(ie).redIAdd(ie),ue=fe.redSqr().redISub(ae).redISub(ae),le=se.redIAdd(se);le=le.redIAdd(le),le=le.redIAdd(le),ee=ue,re=fe.redMul(ae.redISub(ue)).redISub(le),ne=this.y.redAdd(this.y)}else{var pe=this.x.redSqr(),rr=this.y.redSqr(),cr=rr.redSqr(),ar=this.x.redAdd(rr).redSqr().redISub(pe).redISub(cr);ar=ar.redIAdd(ar);var mr=pe.redAdd(pe).redIAdd(pe),pr=mr.redSqr(),yr=cr.redIAdd(cr);yr=yr.redIAdd(yr),yr=yr.redIAdd(yr),ee=pr.redISub(ar).redISub(ar),re=mr.redMul(ar.redISub(ee)).redISub(yr),ne=this.y.redMul(this.z),ne=ne.redIAdd(ne)}return this.curve.jpoint(ee,re,ne)};JPoint$1.prototype._threeDbl=function(){var ee,re,ne;if(this.zOne){var ie=this.x.redSqr(),oe=this.y.redSqr(),se=oe.redSqr(),ae=this.x.redAdd(oe).redSqr().redISub(ie).redISub(se);ae=ae.redIAdd(ae);var fe=ie.redAdd(ie).redIAdd(ie).redIAdd(this.curve.a),ue=fe.redSqr().redISub(ae).redISub(ae);ee=ue;var le=se.redIAdd(se);le=le.redIAdd(le),le=le.redIAdd(le),re=fe.redMul(ae.redISub(ue)).redISub(le),ne=this.y.redAdd(this.y)}else{var pe=this.z.redSqr(),rr=this.y.redSqr(),cr=this.x.redMul(rr),ar=this.x.redSub(pe).redMul(this.x.redAdd(pe));ar=ar.redAdd(ar).redIAdd(ar);var mr=cr.redIAdd(cr);mr=mr.redIAdd(mr);var pr=mr.redAdd(mr);ee=ar.redSqr().redISub(pr),ne=this.y.redAdd(this.z).redSqr().redISub(rr).redISub(pe);var yr=rr.redSqr();yr=yr.redIAdd(yr),yr=yr.redIAdd(yr),yr=yr.redIAdd(yr),re=ar.redMul(mr.redISub(ee)).redISub(yr)}return this.curve.jpoint(ee,re,ne)};JPoint$1.prototype._dbl=function(){var ee=this.curve.a,re=this.x,ne=this.y,ie=this.z,oe=ie.redSqr().redSqr(),se=re.redSqr(),ae=ne.redSqr(),fe=se.redAdd(se).redIAdd(se).redIAdd(ee.redMul(oe)),ue=re.redAdd(re);ue=ue.redIAdd(ue);var le=ue.redMul(ae),pe=fe.redSqr().redISub(le.redAdd(le)),rr=le.redISub(pe),cr=ae.redSqr();cr=cr.redIAdd(cr),cr=cr.redIAdd(cr),cr=cr.redIAdd(cr);var ar=fe.redMul(rr).redISub(cr),mr=ne.redAdd(ne).redMul(ie);return this.curve.jpoint(pe,ar,mr)};JPoint$1.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var ee=this.x.redSqr(),re=this.y.redSqr(),ne=this.z.redSqr(),ie=re.redSqr(),oe=ee.redAdd(ee).redIAdd(ee),se=oe.redSqr(),ae=this.x.redAdd(re).redSqr().redISub(ee).redISub(ie);ae=ae.redIAdd(ae),ae=ae.redAdd(ae).redIAdd(ae),ae=ae.redISub(se);var fe=ae.redSqr(),ue=ie.redIAdd(ie);ue=ue.redIAdd(ue),ue=ue.redIAdd(ue),ue=ue.redIAdd(ue);var le=oe.redIAdd(ae).redSqr().redISub(se).redISub(fe).redISub(ue),pe=re.redMul(le);pe=pe.redIAdd(pe),pe=pe.redIAdd(pe);var rr=this.x.redMul(fe).redISub(pe);rr=rr.redIAdd(rr),rr=rr.redIAdd(rr);var cr=this.y.redMul(le.redMul(ue.redISub(le)).redISub(ae.redMul(fe)));cr=cr.redIAdd(cr),cr=cr.redIAdd(cr),cr=cr.redIAdd(cr);var ar=this.z.redAdd(ae).redSqr().redISub(ne).redISub(fe);return this.curve.jpoint(rr,cr,ar)};JPoint$1.prototype.mul=function(ee,re){return ee=new _BN(ee,re),this.curve._wnafMul(this,ee)};JPoint$1.prototype.eq=function(ee){if(ee.type==="affine")return this.eq(ee.toJ());if(this===ee)return!0;var re=this.z.redSqr(),ne=ee.z.redSqr();if(this.x.redMul(ne).redISub(ee.x.redMul(re)).cmpn(0)!==0)return!1;var ie=re.redMul(this.z),oe=ne.redMul(ee.z);return this.y.redMul(oe).redISub(ee.y.redMul(ie)).cmpn(0)===0};JPoint$1.prototype.eqXToP=function(ee){var re=this.z.redSqr(),ne=ee.toRed(this.curve.red).redMul(re);if(this.x.cmp(ne)===0)return!0;for(var ie=ee.clone(),oe=this.curve.redN.redMul(re);;){if(ie.iadd(this.curve.n),ie.cmp(this.curve.p)>=0)return!1;if(ne.redIAdd(oe),this.x.cmp(ne)===0)return!0}};JPoint$1.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint$1.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var curve_1=createCommonjsModule$1(function(te,ee){var re=ee;re.base=base$2,re.short=short_1,re.mont=null,re.edwards=null}),curves_1=createCommonjsModule$1(function(te,ee){var re=ee,ne=utils_1$1$1.assert;function ie(ae){ae.type==="short"?this.curve=new curve_1.short(ae):ae.type==="edwards"?this.curve=new curve_1.edwards(ae):this.curve=new curve_1.mont(ae),this.g=this.curve.g,this.n=this.curve.n,this.hash=ae.hash,ne(this.g.validate(),"Invalid curve"),ne(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}re.PresetCurve=ie;function oe(ae,fe){Object.defineProperty(re,ae,{configurable:!0,enumerable:!0,get:function(){var ue=new ie(fe);return Object.defineProperty(re,ae,{configurable:!0,enumerable:!0,value:ue}),ue}})}oe("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash$4.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),oe("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash$4.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),oe("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash$4.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),oe("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash$4.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),oe("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash$4.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),oe("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$4.sha256,gRed:!1,g:["9"]}),oe("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$4.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var se;try{se=null.crash()}catch{se=void 0}oe("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash$4.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",se]})});function HmacDRBG$2(te){if(!(this instanceof HmacDRBG$2))return new HmacDRBG$2(te);this.hash=te.hash,this.predResist=!!te.predResist,this.outLen=this.hash.outSize,this.minEntropy=te.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var ee=utils_1$2.toArray(te.entropy,te.entropyEnc||"hex"),re=utils_1$2.toArray(te.nonce,te.nonceEnc||"hex"),ne=utils_1$2.toArray(te.pers,te.persEnc||"hex");minimalisticAssert(ee.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(ee,re,ne)}var hmacDrbg$1=HmacDRBG$2;HmacDRBG$2.prototype._init=function(ee,re,ne){var ie=ee.concat(re).concat(ne);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var oe=0;oe<this.V.length;oe++)this.K[oe]=0,this.V[oe]=1;this._update(ie),this._reseed=1,this.reseedInterval=281474976710656};HmacDRBG$2.prototype._hmac=function(){return new hash$4.hmac(this.hash,this.K)};HmacDRBG$2.prototype._update=function(ee){var re=this._hmac().update(this.V).update([0]);ee&&(re=re.update(ee)),this.K=re.digest(),this.V=this._hmac().update(this.V).digest(),ee&&(this.K=this._hmac().update(this.V).update([1]).update(ee).digest(),this.V=this._hmac().update(this.V).digest())};HmacDRBG$2.prototype.reseed=function(ee,re,ne,ie){typeof re!="string"&&(ie=ne,ne=re,re=null),ee=utils_1$2.toArray(ee,re),ne=utils_1$2.toArray(ne,ie),minimalisticAssert(ee.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(ee.concat(ne||[])),this._reseed=1};HmacDRBG$2.prototype.generate=function(ee,re,ne,ie){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof re!="string"&&(ie=ne,ne=re,re=null),ne&&(ne=utils_1$2.toArray(ne,ie||"hex"),this._update(ne));for(var oe=[];oe.length<ee;)this.V=this._hmac().update(this.V).digest(),oe=oe.concat(this.V);var se=oe.slice(0,ee);return this._update(ne),this._reseed++,utils_1$2.encode(se,re)};var assert$3$1=utils_1$1$1.assert;function KeyPair$4(te,ee){this.ec=te,this.priv=null,this.pub=null,ee.priv&&this._importPrivate(ee.priv,ee.privEnc),ee.pub&&this._importPublic(ee.pub,ee.pubEnc)}var key$2=KeyPair$4;KeyPair$4.fromPublic=function(ee,re,ne){return re instanceof KeyPair$4?re:new KeyPair$4(ee,{pub:re,pubEnc:ne})};KeyPair$4.fromPrivate=function(ee,re,ne){return re instanceof KeyPair$4?re:new KeyPair$4(ee,{priv:re,privEnc:ne})};KeyPair$4.prototype.validate=function(){var ee=this.getPublic();return ee.isInfinity()?{result:!1,reason:"Invalid public key"}:ee.validate()?ee.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};KeyPair$4.prototype.getPublic=function(ee,re){return typeof ee=="string"&&(re=ee,ee=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),re?this.pub.encode(re,ee):this.pub};KeyPair$4.prototype.getPrivate=function(ee){return ee==="hex"?this.priv.toString(16,2):this.priv};KeyPair$4.prototype._importPrivate=function(ee,re){this.priv=new _BN(ee,re||16),this.priv=this.priv.umod(this.ec.curve.n)};KeyPair$4.prototype._importPublic=function(ee,re){if(ee.x||ee.y){this.ec.curve.type==="mont"?assert$3$1(ee.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$3$1(ee.x&&ee.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(ee.x,ee.y);return}this.pub=this.ec.curve.decodePoint(ee,re)};KeyPair$4.prototype.derive=function(ee){return ee.validate()||assert$3$1(ee.validate(),"public point not validated"),ee.mul(this.priv).getX()};KeyPair$4.prototype.sign=function(ee,re,ne){return this.ec.sign(ee,this,re,ne)};KeyPair$4.prototype.verify=function(ee,re){return this.ec.verify(ee,re,this)};KeyPair$4.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var assert$4$1=utils_1$1$1.assert;function Signature$4(te,ee){if(te instanceof Signature$4)return te;this._importDER(te,ee)||(assert$4$1(te.r&&te.s,"Signature without r or s"),this.r=new _BN(te.r,16),this.s=new _BN(te.s,16),te.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=te.recoveryParam)}var signature$3=Signature$4;function Position$1(){this.place=0}function getLength$2(te,ee){var re=te[ee.place++];if(!(re&128))return re;var ne=re&15;if(ne===0||ne>4)return!1;for(var ie=0,oe=0,se=ee.place;oe<ne;oe++,se++)ie<<=8,ie|=te[se],ie>>>=0;return ie<=127?!1:(ee.place=se,ie)}function rmPadding$1(te){for(var ee=0,re=te.length-1;!te[ee]&&!(te[ee+1]&128)&&ee<re;)ee++;return ee===0?te:te.slice(ee)}Signature$4.prototype._importDER=function(ee,re){ee=utils_1$1$1.toArray(ee,re);var ne=new Position$1;if(ee[ne.place++]!==48)return!1;var ie=getLength$2(ee,ne);if(ie===!1||ie+ne.place!==ee.length||ee[ne.place++]!==2)return!1;var oe=getLength$2(ee,ne);if(oe===!1)return!1;var se=ee.slice(ne.place,oe+ne.place);if(ne.place+=oe,ee[ne.place++]!==2)return!1;var ae=getLength$2(ee,ne);if(ae===!1||ee.length!==ae+ne.place)return!1;var fe=ee.slice(ne.place,ae+ne.place);if(se[0]===0)if(se[1]&128)se=se.slice(1);else return!1;if(fe[0]===0)if(fe[1]&128)fe=fe.slice(1);else return!1;return this.r=new _BN(se),this.s=new _BN(fe),this.recoveryParam=null,!0};function constructLength$1(te,ee){if(ee<128){te.push(ee);return}var re=1+(Math.log(ee)/Math.LN2>>>3);for(te.push(re|128);--re;)te.push(ee>>>(re<<3)&255);te.push(ee)}Signature$4.prototype.toDER=function(ee){var re=this.r.toArray(),ne=this.s.toArray();for(re[0]&128&&(re=[0].concat(re)),ne[0]&128&&(ne=[0].concat(ne)),re=rmPadding$1(re),ne=rmPadding$1(ne);!ne[0]&&!(ne[1]&128);)ne=ne.slice(1);var ie=[2];constructLength$1(ie,re.length),ie=ie.concat(re),ie.push(2),constructLength$1(ie,ne.length);var oe=ie.concat(ne),se=[48];return constructLength$1(se,oe.length),se=se.concat(oe),utils_1$1$1.encode(se,ee)};var rand$1=function(){throw new Error("unsupported")},assert$5$1=utils_1$1$1.assert;function EC$4(te){if(!(this instanceof EC$4))return new EC$4(te);typeof te=="string"&&(assert$5$1(Object.prototype.hasOwnProperty.call(curves_1,te),"Unknown curve "+te),te=curves_1[te]),te instanceof curves_1.PresetCurve&&(te={curve:te}),this.curve=te.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=te.curve.g,this.g.precompute(te.curve.n.bitLength()+1),this.hash=te.hash||te.curve.hash}var ec$4=EC$4;EC$4.prototype.keyPair=function(ee){return new key$2(this,ee)};EC$4.prototype.keyFromPrivate=function(ee,re){return key$2.fromPrivate(this,ee,re)};EC$4.prototype.keyFromPublic=function(ee,re){return key$2.fromPublic(this,ee,re)};EC$4.prototype.genKeyPair=function(ee){ee||(ee={});for(var re=new hmacDrbg$1({hash:this.hash,pers:ee.pers,persEnc:ee.persEnc||"utf8",entropy:ee.entropy||rand$1(this.hash.hmacStrength),entropyEnc:ee.entropy&&ee.entropyEnc||"utf8",nonce:this.n.toArray()}),ne=this.n.byteLength(),ie=this.n.sub(new _BN(2));;){var oe=new _BN(re.generate(ne));if(!(oe.cmp(ie)>0))return oe.iaddn(1),this.keyFromPrivate(oe)}};EC$4.prototype._truncateToN=function(ee,re){var ne=ee.byteLength()*8-this.n.bitLength();return ne>0&&(ee=ee.ushrn(ne)),!re&&ee.cmp(this.n)>=0?ee.sub(this.n):ee};EC$4.prototype.sign=function(ee,re,ne,ie){typeof ne=="object"&&(ie=ne,ne=null),ie||(ie={}),re=this.keyFromPrivate(re,ne),ee=this._truncateToN(new _BN(ee,16));for(var oe=this.n.byteLength(),se=re.getPrivate().toArray("be",oe),ae=ee.toArray("be",oe),fe=new hmacDrbg$1({hash:this.hash,entropy:se,nonce:ae,pers:ie.pers,persEnc:ie.persEnc||"utf8"}),ue=this.n.sub(new _BN(1)),le=0;;le++){var pe=ie.k?ie.k(le):new _BN(fe.generate(this.n.byteLength()));if(pe=this._truncateToN(pe,!0),!(pe.cmpn(1)<=0||pe.cmp(ue)>=0)){var rr=this.g.mul(pe);if(!rr.isInfinity()){var cr=rr.getX(),ar=cr.umod(this.n);if(ar.cmpn(0)!==0){var mr=pe.invm(this.n).mul(ar.mul(re.getPrivate()).iadd(ee));if(mr=mr.umod(this.n),mr.cmpn(0)!==0){var pr=(rr.getY().isOdd()?1:0)|(cr.cmp(ar)!==0?2:0);return ie.canonical&&mr.cmp(this.nh)>0&&(mr=this.n.sub(mr),pr^=1),new signature$3({r:ar,s:mr,recoveryParam:pr})}}}}}};EC$4.prototype.verify=function(ee,re,ne,ie){ee=this._truncateToN(new _BN(ee,16)),ne=this.keyFromPublic(ne,ie),re=new signature$3(re,"hex");var oe=re.r,se=re.s;if(oe.cmpn(1)<0||oe.cmp(this.n)>=0||se.cmpn(1)<0||se.cmp(this.n)>=0)return!1;var ae=se.invm(this.n),fe=ae.mul(ee).umod(this.n),ue=ae.mul(oe).umod(this.n),le;return this.curve._maxwellTrick?(le=this.g.jmulAdd(fe,ne.getPublic(),ue),le.isInfinity()?!1:le.eqXToP(oe)):(le=this.g.mulAdd(fe,ne.getPublic(),ue),le.isInfinity()?!1:le.getX().umod(this.n).cmp(oe)===0)};EC$4.prototype.recoverPubKey=function(te,ee,re,ne){assert$5$1((3&re)===re,"The recovery param is more than two bits"),ee=new signature$3(ee,ne);var ie=this.n,oe=new _BN(te),se=ee.r,ae=ee.s,fe=re&1,ue=re>>1;if(se.cmp(this.curve.p.umod(this.curve.n))>=0&&ue)throw new Error("Unable to find sencond key candinate");ue?se=this.curve.pointFromX(se.add(this.curve.n),fe):se=this.curve.pointFromX(se,fe);var le=ee.r.invm(ie),pe=ie.sub(oe).mul(le).umod(ie),rr=ae.mul(le).umod(ie);return this.g.mulAdd(pe,se,rr)};EC$4.prototype.getKeyRecoveryParam=function(te,ee,re,ne){if(ee=new signature$3(ee,ne),ee.recoveryParam!==null)return ee.recoveryParam;for(var ie=0;ie<4;ie++){var oe;try{oe=this.recoverPubKey(te,ee,ie)}catch{continue}if(oe.eq(re))return ie}throw new Error("Unable to find valid recovery factor")};var elliptic_1=createCommonjsModule$1(function(te,ee){var re=ee;re.version="6.5.4",re.utils=utils_1$1$1,re.rand=function(){throw new Error("unsupported")},re.curve=curve_1,re.curves=curves_1,re.ec=ec$4,re.eddsa=null}),EC$1$1=elliptic_1.ec;const version$i="signing-key/5.6.0",logger$g=new Logger$1(version$i);let _curve=null;function getCurve(){return _curve||(_curve=new EC$1$1("secp256k1")),_curve}class SigningKey{constructor(ee){defineReadOnly(this,"curve","secp256k1"),defineReadOnly(this,"privateKey",hexlify$1(ee));const re=getCurve().keyFromPrivate(arrayify$1(this.privateKey));defineReadOnly(this,"publicKey","0x"+re.getPublic(!1,"hex")),defineReadOnly(this,"compressedPublicKey","0x"+re.getPublic(!0,"hex")),defineReadOnly(this,"_isSigningKey",!0)}_addPoint(ee){const re=getCurve().keyFromPublic(arrayify$1(this.publicKey)),ne=getCurve().keyFromPublic(arrayify$1(ee));return"0x"+re.pub.add(ne.pub).encodeCompressed("hex")}signDigest(ee){const re=getCurve().keyFromPrivate(arrayify$1(this.privateKey)),ne=arrayify$1(ee);ne.length!==32&&logger$g.throwArgumentError("bad digest length","digest",ee);const ie=re.sign(ne,{canonical:!0});return splitSignature({recoveryParam:ie.recoveryParam,r:hexZeroPad("0x"+ie.r.toString(16),32),s:hexZeroPad("0x"+ie.s.toString(16),32)})}computeSharedSecret(ee){const re=getCurve().keyFromPrivate(arrayify$1(this.privateKey)),ne=getCurve().keyFromPublic(arrayify$1(computePublicKey(ee)));return hexZeroPad("0x"+re.derive(ne.getPublic()).toString(16),32)}static isSigningKey(ee){return!!(ee&&ee._isSigningKey)}}function recoverPublicKey$1(te,ee){const re=splitSignature(ee),ne={r:arrayify$1(re.r),s:arrayify$1(re.s)};return"0x"+getCurve().recoverPubKey(arrayify$1(te),ne,re.recoveryParam).encode("hex",!1)}function computePublicKey(te,ee){const re=arrayify$1(te);if(re.length===32){const ne=new SigningKey(re);return ee?"0x"+getCurve().keyFromPrivate(re).getPublic(!0,"hex"):ne.publicKey}else{if(re.length===33)return ee?hexlify$1(re):"0x"+getCurve().keyFromPublic(re).getPublic(!1,"hex");if(re.length===65)return ee?"0x"+getCurve().keyFromPublic(re).getPublic(!0,"hex"):hexlify$1(re)}return logger$g.throwArgumentError("invalid public or private key","key","[REDACTED]")}const version$h="transactions/5.5.0",logger$f=new Logger$1(version$h);var TransactionTypes;(function(te){te[te.legacy=0]="legacy",te[te.eip2930=1]="eip2930",te[te.eip1559=2]="eip1559"})(TransactionTypes||(TransactionTypes={}));function handleAddress(te){return te==="0x"?null:getAddress(te)}function handleNumber(te){return te==="0x"?Zero:BigNumber.from(te)}const transactionFields=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],allowedTransactionKeys$2={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function computeAddress(te){const ee=computePublicKey(te);return getAddress(hexDataSlice(keccak256(hexDataSlice(ee,1)),12))}function recoverAddress(te,ee){return computeAddress(recoverPublicKey$1(arrayify$1(te),ee))}function formatNumber(te,ee){const re=stripZeros(BigNumber.from(te).toHexString());return re.length>32&&logger$f.throwArgumentError("invalid length for "+ee,"transaction:"+ee,te),re}function accessSetify(te,ee){return{address:getAddress(te),storageKeys:(ee||[]).map((re,ne)=>(hexDataLength(re)!==32&&logger$f.throwArgumentError("invalid access list storageKey",`accessList[${te}:${ne}]`,re),re.toLowerCase()))}}function accessListify(te){if(Array.isArray(te))return te.map((re,ne)=>Array.isArray(re)?(re.length>2&&logger$f.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${ne}]`,re),accessSetify(re[0],re[1])):accessSetify(re.address,re.storageKeys));const ee=Object.keys(te).map(re=>{const ne=te[re].reduce((ie,oe)=>(ie[oe]=!0,ie),{});return accessSetify(re,Object.keys(ne).sort())});return ee.sort((re,ne)=>re.address.localeCompare(ne.address)),ee}function formatAccessList(te){return accessListify(te).map(ee=>[ee.address,ee.storageKeys])}function _serializeEip1559(te,ee){if(te.gasPrice!=null){const ne=BigNumber.from(te.gasPrice),ie=BigNumber.from(te.maxFeePerGas||0);ne.eq(ie)||logger$f.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:ne,maxFeePerGas:ie})}const re=[formatNumber(te.chainId||0,"chainId"),formatNumber(te.nonce||0,"nonce"),formatNumber(te.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(te.maxFeePerGas||0,"maxFeePerGas"),formatNumber(te.gasLimit||0,"gasLimit"),te.to!=null?getAddress(te.to):"0x",formatNumber(te.value||0,"value"),te.data||"0x",formatAccessList(te.accessList||[])];if(ee){const ne=splitSignature(ee);re.push(formatNumber(ne.recoveryParam,"recoveryParam")),re.push(stripZeros(ne.r)),re.push(stripZeros(ne.s))}return hexConcat(["0x02",encode$5(re)])}function _serializeEip2930(te,ee){const re=[formatNumber(te.chainId||0,"chainId"),formatNumber(te.nonce||0,"nonce"),formatNumber(te.gasPrice||0,"gasPrice"),formatNumber(te.gasLimit||0,"gasLimit"),te.to!=null?getAddress(te.to):"0x",formatNumber(te.value||0,"value"),te.data||"0x",formatAccessList(te.accessList||[])];if(ee){const ne=splitSignature(ee);re.push(formatNumber(ne.recoveryParam,"recoveryParam")),re.push(stripZeros(ne.r)),re.push(stripZeros(ne.s))}return hexConcat(["0x01",encode$5(re)])}function _serialize(te,ee){checkProperties(te,allowedTransactionKeys$2);const re=[];transactionFields.forEach(function(se){let ae=te[se.name]||[];const fe={};se.numeric&&(fe.hexPad="left"),ae=arrayify$1(hexlify$1(ae,fe)),se.length&&ae.length!==se.length&&ae.length>0&&logger$f.throwArgumentError("invalid length for "+se.name,"transaction:"+se.name,ae),se.maxLength&&(ae=stripZeros(ae),ae.length>se.maxLength&&logger$f.throwArgumentError("invalid length for "+se.name,"transaction:"+se.name,ae)),re.push(hexlify$1(ae))});let ne=0;if(te.chainId!=null?(ne=te.chainId,typeof ne!="number"&&logger$f.throwArgumentError("invalid transaction.chainId","transaction",te)):ee&&!isBytesLike$1(ee)&&ee.v>28&&(ne=Math.floor((ee.v-35)/2)),ne!==0&&(re.push(hexlify$1(ne)),re.push("0x"),re.push("0x")),!ee)return encode$5(re);const ie=splitSignature(ee);let oe=27+ie.recoveryParam;return ne!==0?(re.pop(),re.pop(),re.pop(),oe+=ne*2+8,ie.v>28&&ie.v!==oe&&logger$f.throwArgumentError("transaction.chainId/signature.v mismatch","signature",ee)):ie.v!==oe&&logger$f.throwArgumentError("transaction.chainId/signature.v mismatch","signature",ee),re.push(hexlify$1(oe)),re.push(stripZeros(arrayify$1(ie.r))),re.push(stripZeros(arrayify$1(ie.s))),encode$5(re)}function serialize(te,ee){if(te.type==null||te.type===0)return te.accessList!=null&&logger$f.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",te),_serialize(te,ee);switch(te.type){case 1:return _serializeEip2930(te,ee);case 2:return _serializeEip1559(te,ee)}return logger$f.throwError(`unsupported transaction type: ${te.type}`,Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:te.type})}function _parseEipSignature(te,ee,re){try{const ne=handleNumber(ee[0]).toNumber();if(ne!==0&&ne!==1)throw new Error("bad recid");te.v=ne}catch{logger$f.throwArgumentError("invalid v for transaction type: 1","v",ee[0])}te.r=hexZeroPad(ee[1],32),te.s=hexZeroPad(ee[2],32);try{const ne=keccak256(re(te));te.from=recoverAddress(ne,{r:te.r,s:te.s,recoveryParam:te.v})}catch(ne){console.log(ne)}}function _parseEip1559(te){const ee=decode$7(te.slice(1));ee.length!==9&&ee.length!==12&&logger$f.throwArgumentError("invalid component count for transaction type: 2","payload",hexlify$1(te));const re=handleNumber(ee[2]),ne=handleNumber(ee[3]),ie={type:2,chainId:handleNumber(ee[0]).toNumber(),nonce:handleNumber(ee[1]).toNumber(),maxPriorityFeePerGas:re,maxFeePerGas:ne,gasPrice:null,gasLimit:handleNumber(ee[4]),to:handleAddress(ee[5]),value:handleNumber(ee[6]),data:ee[7],accessList:accessListify(ee[8])};return ee.length===9||(ie.hash=keccak256(te),_parseEipSignature(ie,ee.slice(9),_serializeEip1559)),ie}function _parseEip2930(te){const ee=decode$7(te.slice(1));ee.length!==8&&ee.length!==11&&logger$f.throwArgumentError("invalid component count for transaction type: 1","payload",hexlify$1(te));const re={type:1,chainId:handleNumber(ee[0]).toNumber(),nonce:handleNumber(ee[1]).toNumber(),gasPrice:handleNumber(ee[2]),gasLimit:handleNumber(ee[3]),to:handleAddress(ee[4]),value:handleNumber(ee[5]),data:ee[6],accessList:accessListify(ee[7])};return ee.length===8||(re.hash=keccak256(te),_parseEipSignature(re,ee.slice(8),_serializeEip2930)),re}function _parse(te){const ee=decode$7(te);ee.length!==9&&ee.length!==6&&logger$f.throwArgumentError("invalid raw transaction","rawTransaction",te);const re={nonce:handleNumber(ee[0]).toNumber(),gasPrice:handleNumber(ee[1]),gasLimit:handleNumber(ee[2]),to:handleAddress(ee[3]),value:handleNumber(ee[4]),data:ee[5],chainId:0};if(ee.length===6)return re;try{re.v=BigNumber.from(ee[6]).toNumber()}catch(ne){return console.log(ne),re}if(re.r=hexZeroPad(ee[7],32),re.s=hexZeroPad(ee[8],32),BigNumber.from(re.r).isZero()&&BigNumber.from(re.s).isZero())re.chainId=re.v,re.v=0;else{re.chainId=Math.floor((re.v-35)/2),re.chainId<0&&(re.chainId=0);let ne=re.v-27;const ie=ee.slice(0,6);re.chainId!==0&&(ie.push(hexlify$1(re.chainId)),ie.push("0x"),ie.push("0x"),ne-=re.chainId*2+8);const oe=keccak256(encode$5(ie));try{re.from=recoverAddress(oe,{r:hexlify$1(re.r),s:hexlify$1(re.s),recoveryParam:ne})}catch(se){console.log(se)}re.hash=keccak256(te)}return re.type=null,re}function parse$2(te){const ee=arrayify$1(te);if(ee[0]>127)return _parse(ee);switch(ee[0]){case 1:return _parseEip2930(ee);case 2:return _parseEip1559(ee)}return logger$f.throwError(`unsupported transaction type: ${ee[0]}`,Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:ee[0]})}var lib_esm$3=Object.freeze(Object.defineProperty({__proto__:null,get TransactionTypes(){return TransactionTypes},computeAddress,recoverAddress,accessListify,serialize,parse:parse$2},Symbol.toStringTag,{value:"Module"})),require$$17=getAugmentedNamespace(lib_esm$3);const version$g="units/5.5.0",logger$e=new Logger$g(version$g),names$1=["wei","kwei","mwei","gwei","szabo","finney","ether"];function commify(te){const ee=String(te).split(".");(ee.length>2||!ee[0].match(/^-?[0-9]*$/)||ee[1]&&!ee[1].match(/^[0-9]*$/)||te==="."||te==="-.")&&logger$e.throwArgumentError("invalid value","value",te);let re=ee[0],ne="";for(re.substring(0,1)==="-"&&(ne="-",re=re.substring(1));re.substring(0,1)==="0";)re=re.substring(1);re===""&&(re="0");let ie="";for(ee.length===2&&(ie="."+(ee[1]||"0"));ie.length>2&&ie[ie.length-1]==="0";)ie=ie.substring(0,ie.length-1);const oe=[];for(;re.length;)if(re.length<=3){oe.unshift(re);break}else{const se=re.length-3;oe.unshift(re.substring(se)),re=re.substring(0,se)}return ne+oe.join(",")+ie}function formatUnits(te,ee){if(typeof ee=="string"){const re=names$1.indexOf(ee);re!==-1&&(ee=3*re)}return formatFixed(te,ee!=null?ee:18)}function parseUnits(te,ee){if(typeof te!="string"&&logger$e.throwArgumentError("value must be a string","value",te),typeof ee=="string"){const re=names$1.indexOf(ee);re!==-1&&(ee=3*re)}return parseFixed(te,ee!=null?ee:18)}function formatEther(te){return formatUnits(te,18)}function parseEther(te){return parseUnits(te,18)}var lib_esm$2=Object.freeze(Object.defineProperty({__proto__:null,commify,formatUnits,parseUnits,formatEther,parseEther},Symbol.toStringTag,{value:"Module"})),require$$18=getAugmentedNamespace(lib_esm$2);const version$f="abstract-provider/5.6.0";var __awaiter$a=globalThis&&globalThis.__awaiter||function(te,ee,re,ne){function ie(oe){return oe instanceof re?oe:new re(function(se){se(oe)})}return new(re||(re=Promise))(function(oe,se){function ae(le){try{ue(ne.next(le))}catch(pe){se(pe)}}function fe(le){try{ue(ne.throw(le))}catch(pe){se(pe)}}function ue(le){le.done?oe(le.value):ie(le.value).then(ae,fe)}ue((ne=ne.apply(te,ee||[])).next())})};const logger$d=new Logger$g(version$f);class ForkEvent extends Description$1{static isForkEvent(ee){return!!(ee&&ee._isForkEvent)}}class Provider{constructor(){logger$d.checkAbstract(new.target,Provider),defineReadOnly$6(this,"_isProvider",!0)}getFeeData(){return __awaiter$a(this,void 0,void 0,function*(){const{block:ee,gasPrice:re}=yield resolveProperties$1({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(oe=>null)});let ne=null,ie=null;return ee&&ee.baseFeePerGas&&(ie=BigNumber$4.from("1500000000"),ne=ee.baseFeePerGas.mul(2).add(ie)),{maxFeePerGas:ne,maxPriorityFeePerGas:ie,gasPrice:re}})}addListener(ee,re){return this.on(ee,re)}removeListener(ee,re){return this.off(ee,re)}static isProvider(ee){return!!(ee&&ee._isProvider)}}const version$e="abstract-signer/5.6.0";var __awaiter$9=globalThis&&globalThis.__awaiter||function(te,ee,re,ne){function ie(oe){return oe instanceof re?oe:new re(function(se){se(oe)})}return new(re||(re=Promise))(function(oe,se){function ae(le){try{ue(ne.next(le))}catch(pe){se(pe)}}function fe(le){try{ue(ne.throw(le))}catch(pe){se(pe)}}function ue(le){le.done?oe(le.value):ie(le.value).then(ae,fe)}ue((ne=ne.apply(te,ee||[])).next())})};const logger$c=new Logger$g(version$e),allowedTransactionKeys$1=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],forwardErrors=[Logger$g.errors.INSUFFICIENT_FUNDS,Logger$g.errors.NONCE_EXPIRED,Logger$g.errors.REPLACEMENT_UNDERPRICED];class Signer{constructor(){logger$c.checkAbstract(new.target,Signer),defineReadOnly$6(this,"_isSigner",!0)}getBalance(ee){return __awaiter$9(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),ee)})}getTransactionCount(ee){return __awaiter$9(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),ee)})}estimateGas(ee){return __awaiter$9(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const re=yield resolveProperties$1(this.checkTransaction(ee));return yield this.provider.estimateGas(re)})}call(ee,re){return __awaiter$9(this,void 0,void 0,function*(){this._checkProvider("call");const ne=yield resolveProperties$1(this.checkTransaction(ee));return yield this.provider.call(ne,re)})}sendTransaction(ee){return __awaiter$9(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const re=yield this.populateTransaction(ee),ne=yield this.signTransaction(re);return yield this.provider.sendTransaction(ne)})}getChainId(){return __awaiter$9(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return __awaiter$9(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return __awaiter$9(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(ee){return __awaiter$9(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(ee)})}checkTransaction(ee){for(const ne in ee)allowedTransactionKeys$1.indexOf(ne)===-1&&logger$c.throwArgumentError("invalid transaction key: "+ne,"transaction",ee);const re=shallowCopy$3(ee);return re.from==null?re.from=this.getAddress():re.from=Promise.all([Promise.resolve(re.from),this.getAddress()]).then(ne=>(ne[0].toLowerCase()!==ne[1].toLowerCase()&&logger$c.throwArgumentError("from address mismatch","transaction",ee),ne[0])),re}populateTransaction(ee){return __awaiter$9(this,void 0,void 0,function*(){const re=yield resolveProperties$1(this.checkTransaction(ee));re.to!=null&&(re.to=Promise.resolve(re.to).then(ie=>__awaiter$9(this,void 0,void 0,function*(){if(ie==null)return null;const oe=yield this.resolveName(ie);return oe==null&&logger$c.throwArgumentError("provided ENS name resolves to null","tx.to",ie),oe})),re.to.catch(ie=>{}));const ne=re.maxFeePerGas!=null||re.maxPriorityFeePerGas!=null;if(re.gasPrice!=null&&(re.type===2||ne)?logger$c.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",ee):(re.type===0||re.type===1)&&ne&&logger$c.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",ee),(re.type===2||re.type==null)&&re.maxFeePerGas!=null&&re.maxPriorityFeePerGas!=null)re.type=2;else if(re.type===0||re.type===1)re.gasPrice==null&&(re.gasPrice=this.getGasPrice());else{const ie=yield this.getFeeData();if(re.type==null)if(ie.maxFeePerGas!=null&&ie.maxPriorityFeePerGas!=null)if(re.type=2,re.gasPrice!=null){const oe=re.gasPrice;delete re.gasPrice,re.maxFeePerGas=oe,re.maxPriorityFeePerGas=oe}else re.maxFeePerGas==null&&(re.maxFeePerGas=ie.maxFeePerGas),re.maxPriorityFeePerGas==null&&(re.maxPriorityFeePerGas=ie.maxPriorityFeePerGas);else ie.gasPrice!=null?(ne&&logger$c.throwError("network does not support EIP-1559",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),re.gasPrice==null&&(re.gasPrice=ie.gasPrice),re.type=0):logger$c.throwError("failed to get consistent fee data",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else re.type===2&&(re.maxFeePerGas==null&&(re.maxFeePerGas=ie.maxFeePerGas),re.maxPriorityFeePerGas==null&&(re.maxPriorityFeePerGas=ie.maxPriorityFeePerGas))}return re.nonce==null&&(re.nonce=this.getTransactionCount("pending")),re.gasLimit==null&&(re.gasLimit=this.estimateGas(re).catch(ie=>{if(forwardErrors.indexOf(ie.code)>=0)throw ie;return logger$c.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger$g.errors.UNPREDICTABLE_GAS_LIMIT,{error:ie,tx:re})})),re.chainId==null?re.chainId=this.getChainId():re.chainId=Promise.all([Promise.resolve(re.chainId),this.getChainId()]).then(ie=>(ie[1]!==0&&ie[0]!==ie[1]&&logger$c.throwArgumentError("chainId address mismatch","transaction",ee),ie[0])),yield resolveProperties$1(re)})}_checkProvider(ee){this.provider||logger$c.throwError("missing provider",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:ee||"_checkProvider"})}static isSigner(ee){return!!(ee&&ee._isSigner)}}const version$d="json-wallets/5.6.0";function looseArrayify(te){return typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),arrayify$e(te)}function zpad(te,ee){for(te=String(te);te.length<ee;)te="0"+te;return te}function getPassword(te){return typeof te=="string"?toUtf8Bytes$4(te,UnicodeNormalizationForm$4.NFKC):arrayify$e(te)}function searchPath(te,ee){let re=te;const ne=ee.toLowerCase().split("/");for(let ie=0;ie<ne.length;ie++){let oe=null;for(const se in re)if(se.toLowerCase()===ne[ie]){oe=re[se];break}if(oe===null)return null;re=oe}return re}function uuidV4(te){const ee=arrayify$e(te);ee[6]=ee[6]&15|64,ee[8]=ee[8]&63|128;const re=hexlify$9(ee);return[re.substring(2,10),re.substring(10,14),re.substring(14,18),re.substring(18,22),re.substring(22,34)].join("-")}const logger$b=new Logger$g(version$d);class CrowdsaleAccount extends Description$1{isCrowdsaleAccount(ee){return!!(ee&&ee._isCrowdsaleAccount)}}function decrypt$3(te,ee){const re=JSON.parse(te);ee=getPassword(ee);const ne=getAddress$4(searchPath(re,"ethaddr")),ie=looseArrayify(searchPath(re,"encseed"));(!ie||ie.length%16!==0)&&logger$b.throwArgumentError("invalid encseed","json",te);const oe=arrayify$e(pbkdf2$2(ee,ee,2e3,32,"sha256")).slice(0,16),se=ie.slice(0,16),ae=ie.slice(16),fe=new aes.ModeOfOperation.cbc(oe,se),ue=aes.padding.pkcs7.strip(arrayify$e(fe.decrypt(ae)));let le="";for(let cr=0;cr<ue.length;cr++)le+=String.fromCharCode(ue[cr]);const pe=toUtf8Bytes$4(le),rr=keccak256$6(pe);return new CrowdsaleAccount({_isCrowdsaleAccount:!0,address:ne,privateKey:rr})}function isCrowdsaleWallet(te){let ee=null;try{ee=JSON.parse(te)}catch{return!1}return ee.encseed&&ee.ethaddr}function isKeystoreWallet(te){let ee=null;try{ee=JSON.parse(te)}catch{return!1}return!(!ee.version||parseInt(ee.version)!==ee.version||parseInt(ee.version)!==3)}var __awaiter$8=globalThis&&globalThis.__awaiter||function(te,ee,re,ne){function ie(oe){return oe instanceof re?oe:new re(function(se){se(oe)})}return new(re||(re=Promise))(function(oe,se){function ae(le){try{ue(ne.next(le))}catch(pe){se(pe)}}function fe(le){try{ue(ne.throw(le))}catch(pe){se(pe)}}function ue(le){le.done?oe(le.value):ie(le.value).then(ae,fe)}ue((ne=ne.apply(te,ee||[])).next())})};const logger$a=new Logger$g(version$d);function hasMnemonic$1(te){return te!=null&&te.mnemonic&&te.mnemonic.phrase}class KeystoreAccount extends Description$1{isKeystoreAccount(ee){return!!(ee&&ee._isKeystoreAccount)}}function _decrypt(te,ee,re){if(searchPath(te,"crypto/cipher")==="aes-128-ctr"){const ie=looseArrayify(searchPath(te,"crypto/cipherparams/iv")),oe=new aes.Counter(ie),se=new aes.ModeOfOperation.ctr(ee,oe);return arrayify$e(se.decrypt(re))}return null}function _getAccount(te,ee){const re=looseArrayify(searchPath(te,"crypto/ciphertext"));if(hexlify$9(keccak256$6(concat$7([ee.slice(16,32),re]))).substring(2)!==searchPath(te,"crypto/mac").toLowerCase())throw new Error("invalid password");const ie=_decrypt(te,ee.slice(0,16),re);ie||logger$a.throwError("unsupported cipher",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const oe=ee.slice(32,64),se=computeAddress$1(ie);if(te.address){let fe=te.address.toLowerCase();if(fe.substring(0,2)!=="0x"&&(fe="0x"+fe),getAddress$4(fe)!==se)throw new Error("address mismatch")}const ae={_isKeystoreAccount:!0,address:se,privateKey:hexlify$9(ie)};if(searchPath(te,"x-ethers/version")==="0.1"){const fe=looseArrayify(searchPath(te,"x-ethers/mnemonicCiphertext")),ue=looseArrayify(searchPath(te,"x-ethers/mnemonicCounter")),le=new aes.Counter(ue),pe=new aes.ModeOfOperation.ctr(oe,le),rr=searchPath(te,"x-ethers/path")||defaultPath,cr=searchPath(te,"x-ethers/locale")||"en",ar=arrayify$e(pe.decrypt(fe));try{const mr=entropyToMnemonic(ar,cr),pr=HDNode.fromMnemonic(mr,null,cr).derivePath(rr);if(pr.privateKey!=ae.privateKey)throw new Error("mnemonic mismatch");ae.mnemonic=pr.mnemonic}catch(mr){if(mr.code!==Logger$g.errors.INVALID_ARGUMENT||mr.argument!=="wordlist")throw mr}}return new KeystoreAccount(ae)}function pbkdf2Sync(te,ee,re,ne,ie){return arrayify$e(pbkdf2$2(te,ee,re,ne,ie))}function pbkdf2(te,ee,re,ne,ie){return Promise.resolve(pbkdf2Sync(te,ee,re,ne,ie))}function _computeKdfKey(te,ee,re,ne,ie){const oe=getPassword(ee),se=searchPath(te,"crypto/kdf");if(se&&typeof se=="string"){const ae=function(fe,ue){return logger$a.throwArgumentError("invalid key-derivation function parameters",fe,ue)};if(se.toLowerCase()==="scrypt"){const fe=looseArrayify(searchPath(te,"crypto/kdfparams/salt")),ue=parseInt(searchPath(te,"crypto/kdfparams/n")),le=parseInt(searchPath(te,"crypto/kdfparams/r")),pe=parseInt(searchPath(te,"crypto/kdfparams/p"));(!ue||!le||!pe)&&ae("kdf",se),(ue&ue-1)!==0&&ae("N",ue);const rr=parseInt(searchPath(te,"crypto/kdfparams/dklen"));return rr!==32&&ae("dklen",rr),ne(oe,fe,ue,le,pe,64,ie)}else if(se.toLowerCase()==="pbkdf2"){const fe=looseArrayify(searchPath(te,"crypto/kdfparams/salt"));let ue=null;const le=searchPath(te,"crypto/kdfparams/prf");le==="hmac-sha256"?ue="sha256":le==="hmac-sha512"?ue="sha512":ae("prf",le);const pe=parseInt(searchPath(te,"crypto/kdfparams/c")),rr=parseInt(searchPath(te,"crypto/kdfparams/dklen"));return rr!==32&&ae("dklen",rr),re(oe,fe,pe,rr,ue)}}return logger$a.throwArgumentError("unsupported key-derivation function","kdf",se)}function decryptSync(te,ee){const re=JSON.parse(te),ne=_computeKdfKey(re,ee,pbkdf2Sync,scrypt.syncScrypt);return _getAccount(re,ne)}function decrypt$2(te,ee,re){return __awaiter$8(this,void 0,void 0,function*(){const ne=JSON.parse(te),ie=yield _computeKdfKey(ne,ee,pbkdf2,scrypt.scrypt,re);return _getAccount(ne,ie)})}function encrypt$2(te,ee,re,ne){try{if(getAddress$4(te.address)!==computeAddress$1(te.privateKey))throw new Error("address/privateKey mismatch");if(hasMnemonic$1(te)){const pr=te.mnemonic;if(HDNode.fromMnemonic(pr.phrase,null,pr.locale).derivePath(pr.path||defaultPath).privateKey!=te.privateKey)throw new Error("mnemonic mismatch")}}catch(pr){return Promise.reject(pr)}typeof re=="function"&&!ne&&(ne=re,re={}),re||(re={});const ie=arrayify$e(te.privateKey),oe=getPassword(ee);let se=null,ae=null,fe=null;if(hasMnemonic$1(te)){const pr=te.mnemonic;se=arrayify$e(mnemonicToEntropy(pr.phrase,pr.locale||"en")),ae=pr.path||defaultPath,fe=pr.locale||"en"}let ue=re.client;ue||(ue="ethers.js");let le=null;re.salt?le=arrayify$e(re.salt):le=randomBytes$3(32);let pe=null;if(re.iv){if(pe=arrayify$e(re.iv),pe.length!==16)throw new Error("invalid iv")}else pe=randomBytes$3(16);let rr=null;if(re.uuid){if(rr=arrayify$e(re.uuid),rr.length!==16)throw new Error("invalid uuid")}else rr=randomBytes$3(16);let cr=1<<17,ar=8,mr=1;return re.scrypt&&(re.scrypt.N&&(cr=re.scrypt.N),re.scrypt.r&&(ar=re.scrypt.r),re.scrypt.p&&(mr=re.scrypt.p)),scrypt.scrypt(oe,le,cr,ar,mr,64,ne).then(pr=>{pr=arrayify$e(pr);const yr=pr.slice(0,16),vr=pr.slice(16,32),Er=pr.slice(32,64),Tr=new aes.Counter(pe),Ir=new aes.ModeOfOperation.ctr(yr,Tr),Or=arrayify$e(Ir.encrypt(ie)),Hr=keccak256$6(concat$7([vr,Or])),Pr={address:te.address.substring(2).toLowerCase(),id:uuidV4(rr),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:hexlify$9(pe).substring(2)},ciphertext:hexlify$9(Or).substring(2),kdf:"scrypt",kdfparams:{salt:hexlify$9(le).substring(2),n:cr,dklen:32,p:mr,r:ar},mac:Hr.substring(2)}};if(se){const Br=randomBytes$3(16),Nr=new aes.Counter(Br),dr=new aes.ModeOfOperation.ctr(Er,Nr),tr=arrayify$e(dr.encrypt(se)),ve=new Date,ce=ve.getUTCFullYear()+"-"+zpad(ve.getUTCMonth()+1,2)+"-"+zpad(ve.getUTCDate(),2)+"T"+zpad(ve.getUTCHours(),2)+"-"+zpad(ve.getUTCMinutes(),2)+"-"+zpad(ve.getUTCSeconds(),2)+".0Z";Pr["x-ethers"]={client:ue,gethFilename:"UTC--"+ce+"--"+Pr.address,mnemonicCounter:hexlify$9(Br).substring(2),mnemonicCiphertext:hexlify$9(tr).substring(2),path:ae,locale:fe,version:"0.1"}}return JSON.stringify(Pr)})}function decryptJsonWallet(te,ee,re){if(isCrowdsaleWallet(te)){re&&re(0);const ne=decrypt$3(te,ee);return re&&re(1),Promise.resolve(ne)}return isKeystoreWallet(te)?decrypt$2(te,ee,re):Promise.reject(new Error("invalid JSON wallet"))}function decryptJsonWalletSync(te,ee){if(isCrowdsaleWallet(te))return decrypt$3(te,ee);if(isKeystoreWallet(te))return decryptSync(te,ee);throw new Error("invalid JSON wallet")}const version$c="wallet/5.5.0";var __awaiter$7=globalThis&&globalThis.__awaiter||function(te,ee,re,ne){function ie(oe){return oe instanceof re?oe:new re(function(se){se(oe)})}return new(re||(re=Promise))(function(oe,se){function ae(le){try{ue(ne.next(le))}catch(pe){se(pe)}}function fe(le){try{ue(ne.throw(le))}catch(pe){se(pe)}}function ue(le){le.done?oe(le.value):ie(le.value).then(ae,fe)}ue((ne=ne.apply(te,ee||[])).next())})};const logger$9=new Logger$g(version$c);function isAccount(te){return te!=null&&isHexString$j(te.privateKey,32)&&te.address!=null}function hasMnemonic(te){const ee=te.mnemonic;return ee&&ee.phrase}class Wallet extends Signer{constructor(ee,re){logger$9.checkNew(new.target,Wallet);super();if(isAccount(ee)){const ne=new SigningKey$2(ee.privateKey);if(defineReadOnly$6(this,"_signingKey",()=>ne),defineReadOnly$6(this,"address",computeAddress$1(this.publicKey)),this.address!==getAddress$4(ee.address)&&logger$9.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),hasMnemonic(ee)){const ie=ee.mnemonic;defineReadOnly$6(this,"_mnemonic",()=>({phrase:ie.phrase,path:ie.path||defaultPath,locale:ie.locale||"en"}));const oe=this.mnemonic,se=HDNode.fromMnemonic(oe.phrase,null,oe.locale).derivePath(oe.path);computeAddress$1(se.privateKey)!==this.address&&logger$9.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else defineReadOnly$6(this,"_mnemonic",()=>null)}else{if(SigningKey$2.isSigningKey(ee))ee.curve!=="secp256k1"&&logger$9.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),defineReadOnly$6(this,"_signingKey",()=>ee);else{typeof ee=="string"&&ee.match(/^[0-9a-f]*$/i)&&ee.length===64&&(ee="0x"+ee);const ne=new SigningKey$2(ee);defineReadOnly$6(this,"_signingKey",()=>ne)}defineReadOnly$6(this,"_mnemonic",()=>null),defineReadOnly$6(this,"address",computeAddress$1(this.publicKey))}re&&!Provider.isProvider(re)&&logger$9.throwArgumentError("invalid provider","provider",re),defineReadOnly$6(this,"provider",re||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(ee){return new Wallet(this,ee)}signTransaction(ee){return resolveProperties$1(ee).then(re=>{re.from!=null&&(getAddress$4(re.from)!==this.address&&logger$9.throwArgumentError("transaction from address mismatch","transaction.from",ee.from),delete re.from);const ne=this._signingKey().signDigest(keccak256$6(serialize$1(re)));return serialize$1(re,ne)})}signMessage(ee){return __awaiter$7(this,void 0,void 0,function*(){return joinSignature$1(this._signingKey().signDigest(hashMessage$1(ee)))})}_signTypedData(ee,re,ne){return __awaiter$7(this,void 0,void 0,function*(){const ie=yield TypedDataEncoder$1.resolveNames(ee,re,ne,oe=>(this.provider==null&&logger$9.throwError("cannot resolve ENS names without a provider",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:oe}),this.provider.resolveName(oe)));return joinSignature$1(this._signingKey().signDigest(TypedDataEncoder$1.hash(ie.domain,re,ie.value)))})}encrypt(ee,re,ne){if(typeof re=="function"&&!ne&&(ne=re,re={}),ne&&typeof ne!="function")throw new Error("invalid callback");return re||(re={}),encrypt$2(this,ee,re,ne)}static createRandom(ee){let re=randomBytes$3(16);ee||(ee={}),ee.extraEntropy&&(re=arrayify$e(hexDataSlice$4(keccak256$6(concat$7([re,ee.extraEntropy])),0,16)));const ne=entropyToMnemonic(re,ee.locale);return Wallet.fromMnemonic(ne,ee.path,ee.locale)}static fromEncryptedJson(ee,re,ne){return decryptJsonWallet(ee,re,ne).then(ie=>new Wallet(ie))}static fromEncryptedJsonSync(ee,re){return new Wallet(decryptJsonWalletSync(ee,re))}static fromMnemonic(ee,re,ne){return re||(re=defaultPath),new Wallet(HDNode.fromMnemonic(ee,null,ne).derivePath(re))}}function verifyMessage(te,ee){return recoverAddress$1(hashMessage$1(te),ee)}function verifyTypedData(te,ee,re,ne){return recoverAddress$1(TypedDataEncoder$1.hash(te,ee,re),ne)}var lib_esm$1=Object.freeze(Object.defineProperty({__proto__:null,Wallet,verifyMessage,verifyTypedData},Symbol.toStringTag,{value:"Module"})),require$$19=getAugmentedNamespace(lib_esm$1);const version$b="logger/5.6.0";let _permanentCensorErrors=!1,_censorErrors=!1;const LogLevels={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel=LogLevels.default,_globalLogger=null;function _checkNormalize(){try{const te=[];if(["NFD","NFC","NFKD","NFKC"].forEach(ee=>{try{if("test".normalize(ee)!=="test")throw new Error("bad normalize")}catch{te.push(ee)}}),te.length)throw new Error("missing "+te.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(te){return te.message}return null}const _normalizeError=_checkNormalize();var LogLevel;(function(te){te.DEBUG="DEBUG",te.INFO="INFO",te.WARNING="WARNING",te.ERROR="ERROR",te.OFF="OFF"})(LogLevel||(LogLevel={}));var ErrorCode;(function(te){te.UNKNOWN_ERROR="UNKNOWN_ERROR",te.NOT_IMPLEMENTED="NOT_IMPLEMENTED",te.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",te.NETWORK_ERROR="NETWORK_ERROR",te.SERVER_ERROR="SERVER_ERROR",te.TIMEOUT="TIMEOUT",te.BUFFER_OVERRUN="BUFFER_OVERRUN",te.NUMERIC_FAULT="NUMERIC_FAULT",te.MISSING_NEW="MISSING_NEW",te.INVALID_ARGUMENT="INVALID_ARGUMENT",te.MISSING_ARGUMENT="MISSING_ARGUMENT",te.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",te.CALL_EXCEPTION="CALL_EXCEPTION",te.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",te.NONCE_EXPIRED="NONCE_EXPIRED",te.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",te.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",te.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(ErrorCode||(ErrorCode={}));const HEX="0123456789abcdef";class Logger{constructor(ee){Object.defineProperty(this,"version",{enumerable:!0,value:ee,writable:!1})}_log(ee,re){const ne=ee.toLowerCase();LogLevels[ne]==null&&this.throwArgumentError("invalid log level name","logLevel",ee),!(_logLevel>LogLevels[ne])&&console.log.apply(console,re)}debug(...ee){this._log(Logger.levels.DEBUG,ee)}info(...ee){this._log(Logger.levels.INFO,ee)}warn(...ee){this._log(Logger.levels.WARNING,ee)}makeError(ee,re,ne){if(_censorErrors)return this.makeError("censored error",re,{});re||(re=Logger.errors.UNKNOWN_ERROR),ne||(ne={});const ie=[];Object.keys(ne).forEach(fe=>{const ue=ne[fe];try{if(ue instanceof Uint8Array){let le="";for(let pe=0;pe<ue.length;pe++)le+=HEX[ue[pe]>>4],le+=HEX[ue[pe]&15];ie.push(fe+"=Uint8Array(0x"+le+")")}else ie.push(fe+"="+JSON.stringify(ue))}catch{ie.push(fe+"="+JSON.stringify(ne[fe].toString()))}}),ie.push(`code=${re}`),ie.push(`version=${this.version}`);const oe=ee;let se="";switch(re){case ErrorCode.NUMERIC_FAULT:{se="NUMERIC_FAULT";const fe=ee;switch(fe){case"overflow":case"underflow":case"division-by-zero":se+="-"+fe;break;case"negative-power":case"negative-width":se+="-unsupported";break;case"unbound-bitwise-result":se+="-unbound-result";break}break}case ErrorCode.CALL_EXCEPTION:case ErrorCode.INSUFFICIENT_FUNDS:case ErrorCode.MISSING_NEW:case ErrorCode.NONCE_EXPIRED:case ErrorCode.REPLACEMENT_UNDERPRICED:case ErrorCode.TRANSACTION_REPLACED:case ErrorCode.UNPREDICTABLE_GAS_LIMIT:se=re;break}se&&(ee+=" [ See: https://links.ethers.org/v5-errors-"+se+" ]"),ie.length&&(ee+=" ("+ie.join(", ")+")");const ae=new Error(ee);return ae.reason=oe,ae.code=re,Object.keys(ne).forEach(function(fe){ae[fe]=ne[fe]}),ae}throwError(ee,re,ne){throw this.makeError(ee,re,ne)}throwArgumentError(ee,re,ne){return this.throwError(ee,Logger.errors.INVALID_ARGUMENT,{argument:re,value:ne})}assert(ee,re,ne,ie){ee||this.throwError(re,ne,ie)}assertArgument(ee,re,ne,ie){ee||this.throwArgumentError(re,ne,ie)}checkNormalize(ee){_normalizeError&&this.throwError("platform missing String.prototype.normalize",Logger.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError})}checkSafeUint53(ee,re){typeof ee=="number"&&(re==null&&(re="value not safe"),(ee<0||ee>=9007199254740991)&&this.throwError(re,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:ee}),ee%1&&this.throwError(re,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:ee}))}checkArgumentCount(ee,re,ne){ne?ne=": "+ne:ne="",ee<re&&this.throwError("missing argument"+ne,Logger.errors.MISSING_ARGUMENT,{count:ee,expectedCount:re}),ee>re&&this.throwError("too many arguments"+ne,Logger.errors.UNEXPECTED_ARGUMENT,{count:ee,expectedCount:re})}checkNew(ee,re){(ee===Object||ee==null)&&this.throwError("missing new",Logger.errors.MISSING_NEW,{name:re.name})}checkAbstract(ee,re){ee===re?this.throwError("cannot instantiate abstract class "+JSON.stringify(re.name)+" directly; use a sub-class",Logger.errors.UNSUPPORTED_OPERATION,{name:ee.name,operation:"new"}):(ee===Object||ee==null)&&this.throwError("missing new",Logger.errors.MISSING_NEW,{name:re.name})}static globalLogger(){return _globalLogger||(_globalLogger=new Logger(version$b)),_globalLogger}static setCensorship(ee,re){if(!ee&&re&&this.globalLogger().throwError("cannot permanently disable censorship",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors){if(!ee)return;this.globalLogger().throwError("error censorship permanent",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors=!!ee,_permanentCensorErrors=!!re}static setLogLevel(ee){const re=LogLevels[ee.toLowerCase()];if(re==null){Logger.globalLogger().warn("invalid log level - "+ee);return}_logLevel=re}static from(ee){return new Logger(ee)}}Logger.errors=ErrorCode;Logger.levels=LogLevel;const version$a="bytes/5.6.1",logger$8=new Logger(version$a);function isHexable(te){return!!te.toHexString}function addSlice(te){return te.slice||(te.slice=function(){const ee=Array.prototype.slice.call(arguments);return addSlice(new Uint8Array(Array.prototype.slice.apply(te,ee)))}),te}function isBytesLike(te){return isHexString$5(te)&&!(te.length%2)||isBytes(te)}function isInteger(te){return typeof te=="number"&&te==te&&te%1===0}function isBytes(te){if(te==null)return!1;if(te.constructor===Uint8Array)return!0;if(typeof te=="string"||!isInteger(te.length)||te.length<0)return!1;for(let ee=0;ee<te.length;ee++){const re=te[ee];if(!isInteger(re)||re<0||re>=256)return!1}return!0}function arrayify(te,ee){if(ee||(ee={}),typeof te=="number"){logger$8.checkSafeUint53(te,"invalid arrayify value");const re=[];for(;te;)re.unshift(te&255),te=parseInt(String(te/256));return re.length===0&&re.push(0),addSlice(new Uint8Array(re))}if(ee.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),isHexable(te)&&(te=te.toHexString()),isHexString$5(te)){let re=te.substring(2);re.length%2&&(ee.hexPad==="left"?re="0"+re:ee.hexPad==="right"?re+="0":logger$8.throwArgumentError("hex data is odd-length","value",te));const ne=[];for(let ie=0;ie<re.length;ie+=2)ne.push(parseInt(re.substring(ie,ie+2),16));return addSlice(new Uint8Array(ne))}return isBytes(te)?addSlice(new Uint8Array(te)):logger$8.throwArgumentError("invalid arrayify value","value",te)}function isHexString$5(te,ee){return!(typeof te!="string"||!te.match(/^0x[0-9A-Fa-f]*$/)||ee&&te.length!==2+2*ee)}const HexCharacters="0123456789abcdef";function hexlify(te,ee){if(ee||(ee={}),typeof te=="number"){logger$8.checkSafeUint53(te,"invalid hexlify value");let re="";for(;te;)re=HexCharacters[te&15]+re,te=Math.floor(te/16);return re.length?(re.length%2&&(re="0"+re),"0x"+re):"0x00"}if(typeof te=="bigint")return te=te.toString(16),te.length%2?"0x0"+te:"0x"+te;if(ee.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),isHexable(te))return te.toHexString();if(isHexString$5(te))return te.length%2&&(ee.hexPad==="left"?te="0x0"+te.substring(2):ee.hexPad==="right"?te+="0":logger$8.throwArgumentError("hex data is odd-length","value",te)),te.toLowerCase();if(isBytes(te)){let re="0x";for(let ne=0;ne<te.length;ne++){let ie=te[ne];re+=HexCharacters[(ie&240)>>4]+HexCharacters[ie&15]}return re}return logger$8.throwArgumentError("invalid hexlify value","value",te)}function decode$6(te){te=atob(te);const ee=[];for(let re=0;re<te.length;re++)ee.push(te.charCodeAt(re));return arrayify(ee)}function encode$4(te){te=arrayify(te);let ee="";for(let re=0;re<te.length;re++)ee+=String.fromCharCode(te[re]);return btoa(ee)}const version$9="properties/5.6.0";globalThis&&globalThis.__awaiter;new Logger(version$9);function shallowCopy(te){const ee={};for(const re in te)ee[re]=te[re];return ee}const version$8="strings/5.6.0",logger$7=new Logger(version$8);var UnicodeNormalizationForm;(function(te){te.current="",te.NFC="NFC",te.NFD="NFD",te.NFKC="NFKC",te.NFKD="NFKD"})(UnicodeNormalizationForm||(UnicodeNormalizationForm={}));var Utf8ErrorReason;(function(te){te.UNEXPECTED_CONTINUE="unexpected continuation byte",te.BAD_PREFIX="bad codepoint prefix",te.OVERRUN="string overrun",te.MISSING_CONTINUE="missing continuation byte",te.OUT_OF_RANGE="out of UTF-8 range",te.UTF16_SURROGATE="UTF-16 surrogate",te.OVERLONG="overlong representation"})(Utf8ErrorReason||(Utf8ErrorReason={}));function errorFunc(te,ee,re,ne,ie){return logger$7.throwArgumentError(`invalid codepoint at offset ${ee}; ${te}`,"bytes",re)}function ignoreFunc(te,ee,re,ne,ie){if(te===Utf8ErrorReason.BAD_PREFIX||te===Utf8ErrorReason.UNEXPECTED_CONTINUE){let oe=0;for(let se=ee+1;se<re.length&&re[se]>>6===2;se++)oe++;return oe}return te===Utf8ErrorReason.OVERRUN?re.length-ee-1:0}function replaceFunc(te,ee,re,ne,ie){return te===Utf8ErrorReason.OVERLONG?(ne.push(ie),0):(ne.push(65533),ignoreFunc(te,ee,re))}const Utf8ErrorFuncs=Object.freeze({error:errorFunc,ignore:ignoreFunc,replace:replaceFunc});function getUtf8CodePoints(te,ee){ee==null&&(ee=Utf8ErrorFuncs.error),te=arrayify(te);const re=[];let ne=0;for(;ne<te.length;){const ie=te[ne++];if(ie>>7===0){re.push(ie);continue}let oe=null,se=null;if((ie&224)===192)oe=1,se=127;else if((ie&240)===224)oe=2,se=2047;else if((ie&248)===240)oe=3,se=65535;else{(ie&192)===128?ne+=ee(Utf8ErrorReason.UNEXPECTED_CONTINUE,ne-1,te,re):ne+=ee(Utf8ErrorReason.BAD_PREFIX,ne-1,te,re);continue}if(ne-1+oe>=te.length){ne+=ee(Utf8ErrorReason.OVERRUN,ne-1,te,re);continue}let ae=ie&(1<<8-oe-1)-1;for(let fe=0;fe<oe;fe++){let ue=te[ne];if((ue&192)!=128){ne+=ee(Utf8ErrorReason.MISSING_CONTINUE,ne,te,re),ae=null;break}ae=ae<<6|ue&63,ne++}if(ae!==null){if(ae>1114111){ne+=ee(Utf8ErrorReason.OUT_OF_RANGE,ne-1-oe,te,re,ae);continue}if(ae>=55296&&ae<=57343){ne+=ee(Utf8ErrorReason.UTF16_SURROGATE,ne-1-oe,te,re,ae);continue}if(ae<=se){ne+=ee(Utf8ErrorReason.OVERLONG,ne-1-oe,te,re,ae);continue}re.push(ae)}}return re}function toUtf8Bytes(te,ee=UnicodeNormalizationForm.current){ee!=UnicodeNormalizationForm.current&&(logger$7.checkNormalize(),te=te.normalize(ee));let re=[];for(let ne=0;ne<te.length;ne++){const ie=te.charCodeAt(ne);if(ie<128)re.push(ie);else if(ie<2048)re.push(ie>>6|192),re.push(ie&63|128);else if((ie&64512)==55296){ne++;const oe=te.charCodeAt(ne);if(ne>=te.length||(oe&64512)!==56320)throw new Error("invalid utf-8 string");const se=65536+((ie&1023)<<10)+(oe&1023);re.push(se>>18|240),re.push(se>>12&63|128),re.push(se>>6&63|128),re.push(se&63|128)}else re.push(ie>>12|224),re.push(ie>>6&63|128),re.push(ie&63|128)}return arrayify(re)}function _toUtf8String(te){return te.map(ee=>ee<=65535?String.fromCharCode(ee):(ee-=65536,String.fromCharCode((ee>>10&1023)+55296,(ee&1023)+56320))).join("")}function toUtf8String(te,ee){return _toUtf8String(getUtf8CodePoints(te,ee))}const version$7="web/5.5.1";var __awaiter$6=globalThis&&globalThis.__awaiter||function(te,ee,re,ne){function ie(oe){return oe instanceof re?oe:new re(function(se){se(oe)})}return new(re||(re=Promise))(function(oe,se){function ae(le){try{ue(ne.next(le))}catch(pe){se(pe)}}function fe(le){try{ue(ne.throw(le))}catch(pe){se(pe)}}function ue(le){le.done?oe(le.value):ie(le.value).then(ae,fe)}ue((ne=ne.apply(te,ee||[])).next())})};function getUrl$1(te,ee){return __awaiter$6(this,void 0,void 0,function*(){ee==null&&(ee={});const re={method:ee.method||"GET",headers:ee.headers||{},body:ee.body||void 0};ee.skipFetchSetup!==!0&&(re.mode="cors",re.cache="no-cache",re.credentials="same-origin",re.redirect="follow",re.referrer="client");const ne=yield fetch(te,re),ie=yield ne.arrayBuffer(),oe={};return ne.headers.forEach?ne.headers.forEach((se,ae)=>{oe[ae.toLowerCase()]=se}):ne.headers.keys().forEach(se=>{oe[se.toLowerCase()]=ne.headers.get(se)}),{headers:oe,statusCode:ne.status,statusMessage:ne.statusText,body:arrayify(new Uint8Array(ie))}})}var __awaiter$5=globalThis&&globalThis.__awaiter||function(te,ee,re,ne){function ie(oe){return oe instanceof re?oe:new re(function(se){se(oe)})}return new(re||(re=Promise))(function(oe,se){function ae(le){try{ue(ne.next(le))}catch(pe){se(pe)}}function fe(le){try{ue(ne.throw(le))}catch(pe){se(pe)}}function ue(le){le.done?oe(le.value):ie(le.value).then(ae,fe)}ue((ne=ne.apply(te,ee||[])).next())})};const logger$6=new Logger(version$7);function staller$1(te){return new Promise(ee=>{setTimeout(ee,te)})}function bodyify$1(te,ee){if(te==null)return null;if(typeof te=="string")return te;if(isBytesLike(te)){if(ee&&(ee.split("/")[0]==="text"||ee.split(";")[0].trim()==="application/json"))try{return toUtf8String(te)}catch{}return hexlify(te)}return te}function _fetchData$1(te,ee,re){const ne=typeof te=="object"&&te.throttleLimit!=null?te.throttleLimit:12;logger$6.assertArgument(ne>0&&ne%1===0,"invalid connection throttle limit","connection.throttleLimit",ne);const ie=typeof te=="object"?te.throttleCallback:null,oe=typeof te=="object"&&typeof te.throttleSlotInterval=="number"?te.throttleSlotInterval:100;logger$6.assertArgument(oe>0&&oe%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",oe);const se={};let ae=null;const fe={method:"GET"};let ue=!1,le=2*60*1e3;if(typeof te=="string")ae=te;else if(typeof te=="object"){if((te==null||te.url==null)&&logger$6.throwArgumentError("missing URL","connection.url",te),ae=te.url,typeof te.timeout=="number"&&te.timeout>0&&(le=te.timeout),te.headers)for(const pr in te.headers)se[pr.toLowerCase()]={key:pr,value:String(te.headers[pr])},["if-none-match","if-modified-since"].indexOf(pr.toLowerCase())>=0&&(ue=!0);if(fe.allowGzip=!!te.allowGzip,te.user!=null&&te.password!=null){ae.substring(0,6)!=="https:"&&te.allowInsecureAuthentication!==!0&&logger$6.throwError("basic authentication requires a secure https url",Logger.errors.INVALID_ARGUMENT,{argument:"url",url:ae,user:te.user,password:"[REDACTED]"});const pr=te.user+":"+te.password;se.authorization={key:"Authorization",value:"Basic "+encode$4(toUtf8Bytes(pr))}}}const pe=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),rr=ae?ae.match(pe):null;if(rr)try{const pr={statusCode:200,statusMessage:"OK",headers:{"content-type":rr[1]},body:decode$6(rr[2])};let yr=pr.body;return re&&(yr=re(pr.body,pr)),Promise.resolve(yr)}catch(pr){logger$6.throwError("processing response error",Logger.errors.SERVER_ERROR,{body:bodyify$1(rr[1],rr[2]),error:pr,requestBody:null,requestMethod:"GET",url:ae})}ee&&(fe.method="POST",fe.body=ee,se["content-type"]==null&&(se["content-type"]={key:"Content-Type",value:"application/octet-stream"}),se["content-length"]==null&&(se["content-length"]={key:"Content-Length",value:String(ee.length)}));const cr={};Object.keys(se).forEach(pr=>{const yr=se[pr];cr[yr.key]=yr.value}),fe.headers=cr;const ar=function(){let pr=null;return{promise:new Promise(function(Er,Tr){le&&(pr=setTimeout(()=>{pr!=null&&(pr=null,Tr(logger$6.makeError("timeout",Logger.errors.TIMEOUT,{requestBody:bodyify$1(fe.body,cr["content-type"]),requestMethod:fe.method,timeout:le,url:ae})))},le))}),cancel:function(){pr!=null&&(clearTimeout(pr),pr=null)}}}(),mr=function(){return __awaiter$5(this,void 0,void 0,function*(){for(let pr=0;pr<ne;pr++){let yr=null;try{if(yr=yield getUrl$1(ae,fe),pr<ne){if(yr.statusCode===301||yr.statusCode===302){const Er=yr.headers.location||"";if(fe.method==="GET"&&Er.match(/^https:/)){ae=yr.headers.location;continue}}else if(yr.statusCode===429){let Er=!0;if(ie&&(Er=yield ie(pr,ae)),Er){let Tr=0;const Ir=yr.headers["retry-after"];typeof Ir=="string"&&Ir.match(/^[1-9][0-9]*$/)?Tr=parseInt(Ir)*1e3:Tr=oe*parseInt(String(Math.random()*Math.pow(2,pr))),yield staller$1(Tr);continue}}}}catch(Er){yr=Er.response,yr==null&&(ar.cancel(),logger$6.throwError("missing response",Logger.errors.SERVER_ERROR,{requestBody:bodyify$1(fe.body,cr["content-type"]),requestMethod:fe.method,serverError:Er,url:ae}))}let vr=yr.body;if(ue&&yr.statusCode===304?vr=null:(yr.statusCode<200||yr.statusCode>=300)&&(ar.cancel(),logger$6.throwError("bad response",Logger.errors.SERVER_ERROR,{status:yr.statusCode,headers:yr.headers,body:bodyify$1(vr,yr.headers?yr.headers["content-type"]:null),requestBody:bodyify$1(fe.body,cr["content-type"]),requestMethod:fe.method,url:ae})),re)try{const Er=yield re(vr,yr);return ar.cancel(),Er}catch(Er){if(Er.throttleRetry&&pr<ne){let Tr=!0;if(ie&&(Tr=yield ie(pr,ae)),Tr){const Ir=oe*parseInt(String(Math.random()*Math.pow(2,pr)));yield staller$1(Ir);continue}}ar.cancel(),logger$6.throwError("processing response error",Logger.errors.SERVER_ERROR,{body:bodyify$1(vr,yr.headers?yr.headers["content-type"]:null),error:Er,requestBody:bodyify$1(fe.body,cr["content-type"]),requestMethod:fe.method,url:ae})}return ar.cancel(),vr}return logger$6.throwError("failed response",Logger.errors.SERVER_ERROR,{requestBody:bodyify$1(fe.body,cr["content-type"]),requestMethod:fe.method,url:ae})})}();return Promise.race([ar.promise,mr])}function fetchJson$1(te,ee,re){let ne=(oe,se)=>{let ae=null;if(oe!=null)try{ae=JSON.parse(toUtf8String(oe))}catch(fe){logger$6.throwError("invalid JSON",Logger.errors.SERVER_ERROR,{body:oe,error:fe})}return re&&(ae=re(ae,se)),ae},ie=null;if(ee!=null){ie=toUtf8Bytes(ee);const oe=typeof te=="string"?{url:te}:shallowCopy(te);oe.headers?Object.keys(oe.headers).filter(ae=>ae.toLowerCase()==="content-type").length!==0||(oe.headers=shallowCopy(oe.headers),oe.headers["content-type"]="application/json"):oe.headers={"content-type":"application/json"},te=oe}return _fetchData$1(te,ie,ne)}function poll$1(te,ee){return ee||(ee={}),ee=shallowCopy(ee),ee.floor==null&&(ee.floor=0),ee.ceiling==null&&(ee.ceiling=1e4),ee.interval==null&&(ee.interval=250),new Promise(function(re,ne){let ie=null,oe=!1;const se=()=>oe?!1:(oe=!0,ie&&clearTimeout(ie),!0);ee.timeout&&(ie=setTimeout(()=>{se()&&ne(new Error("timeout"))},ee.timeout));const ae=ee.retryLimit;let fe=0;function ue(){return te().then(function(le){if(le!==void 0)se()&&re(le);else if(ee.oncePoll)ee.oncePoll.once("poll",ue);else if(ee.onceBlock)ee.onceBlock.once("block",ue);else if(!oe){if(fe++,fe>ae){se()&&ne(new Error("retry limit reached"));return}let pe=ee.interval*parseInt(String(Math.random()*Math.pow(2,fe)));pe<ee.floor&&(pe=ee.floor),pe>ee.ceiling&&(pe=ee.ceiling),setTimeout(ue,pe)}return null},function(le){se()&&ne(le)})}ue()})}var lib_esm=Object.freeze(Object.defineProperty({__proto__:null,_fetchData:_fetchData$1,fetchJson:fetchJson$1,poll:poll$1},Symbol.toStringTag,{value:"Module"})),require$$20=getAugmentedNamespace(lib_esm);(function(te){var ee=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(dr,tr,ve,ce){ce===void 0&&(ce=ve),Object.defineProperty(dr,ce,{enumerable:!0,get:function(){return tr[ve]}})}:function(dr,tr,ve,ce){ce===void 0&&(ce=ve),dr[ce]=tr[ve]}),re=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(dr,tr){Object.defineProperty(dr,"default",{enumerable:!0,value:tr})}:function(dr,tr){dr.default=tr}),ne=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(dr){if(dr&&dr.__esModule)return dr;var tr={};if(dr!=null)for(var ve in dr)ve!=="default"&&Object.prototype.hasOwnProperty.call(dr,ve)&&ee(tr,dr,ve);return re(tr,dr),tr};Object.defineProperty(te,"__esModule",{value:!0}),te.formatBytes32String=te.Utf8ErrorFuncs=te.toUtf8String=te.toUtf8CodePoints=te.toUtf8Bytes=te._toEscapedUtf8String=te.nameprep=te.hexDataSlice=te.hexDataLength=te.hexZeroPad=te.hexValue=te.hexStripZeros=te.hexConcat=te.isHexString=te.hexlify=te.base64=te.base58=te.TransactionDescription=te.LogDescription=te.Interface=te.SigningKey=te.HDNode=te.defaultPath=te.isBytesLike=te.isBytes=te.zeroPad=te.stripZeros=te.concat=te.arrayify=te.shallowCopy=te.resolveProperties=te.getStatic=te.defineReadOnly=te.deepCopy=te.checkProperties=te.poll=te.fetchJson=te._fetchData=te.RLP=te.Logger=te.checkResultErrors=te.FormatTypes=te.ParamType=te.FunctionFragment=te.EventFragment=te.ErrorFragment=te.ConstructorFragment=te.Fragment=te.defaultAbiCoder=te.AbiCoder=void 0,te.Indexed=te.Utf8ErrorReason=te.UnicodeNormalizationForm=te.SupportedAlgorithm=te.mnemonicToSeed=te.isValidMnemonic=te.entropyToMnemonic=te.mnemonicToEntropy=te.getAccountPath=te.verifyTypedData=te.verifyMessage=te.recoverPublicKey=te.computePublicKey=te.recoverAddress=te.computeAddress=te.getJsonWalletAddress=te.TransactionTypes=te.serializeTransaction=te.parseTransaction=te.accessListify=te.joinSignature=te.splitSignature=te.soliditySha256=te.solidityKeccak256=te.solidityPack=te.shuffled=te.randomBytes=te.sha512=te.sha256=te.ripemd160=te.keccak256=te.computeHmac=te.commify=te.parseUnits=te.formatUnits=te.parseEther=te.formatEther=te.isAddress=te.getCreate2Address=te.getContractAddress=te.getIcapAddress=te.getAddress=te._TypedDataEncoder=te.id=te.isValidName=te.namehash=te.hashMessage=te.parseBytes32String=void 0;var ie=require$$0$4;Object.defineProperty(te,"AbiCoder",{enumerable:!0,get:function(){return ie.AbiCoder}}),Object.defineProperty(te,"checkResultErrors",{enumerable:!0,get:function(){return ie.checkResultErrors}}),Object.defineProperty(te,"ConstructorFragment",{enumerable:!0,get:function(){return ie.ConstructorFragment}}),Object.defineProperty(te,"defaultAbiCoder",{enumerable:!0,get:function(){return ie.defaultAbiCoder}}),Object.defineProperty(te,"ErrorFragment",{enumerable:!0,get:function(){return ie.ErrorFragment}}),Object.defineProperty(te,"EventFragment",{enumerable:!0,get:function(){return ie.EventFragment}}),Object.defineProperty(te,"FormatTypes",{enumerable:!0,get:function(){return ie.FormatTypes}}),Object.defineProperty(te,"Fragment",{enumerable:!0,get:function(){return ie.Fragment}}),Object.defineProperty(te,"FunctionFragment",{enumerable:!0,get:function(){return ie.FunctionFragment}}),Object.defineProperty(te,"Indexed",{enumerable:!0,get:function(){return ie.Indexed}}),Object.defineProperty(te,"Interface",{enumerable:!0,get:function(){return ie.Interface}}),Object.defineProperty(te,"LogDescription",{enumerable:!0,get:function(){return ie.LogDescription}}),Object.defineProperty(te,"ParamType",{enumerable:!0,get:function(){return ie.ParamType}}),Object.defineProperty(te,"TransactionDescription",{enumerable:!0,get:function(){return ie.TransactionDescription}});var oe=require$$1$2;Object.defineProperty(te,"getAddress",{enumerable:!0,get:function(){return oe.getAddress}}),Object.defineProperty(te,"getCreate2Address",{enumerable:!0,get:function(){return oe.getCreate2Address}}),Object.defineProperty(te,"getContractAddress",{enumerable:!0,get:function(){return oe.getContractAddress}}),Object.defineProperty(te,"getIcapAddress",{enumerable:!0,get:function(){return oe.getIcapAddress}}),Object.defineProperty(te,"isAddress",{enumerable:!0,get:function(){return oe.isAddress}});var se=ne(require$$2$2);te.base64=se;var ae=require$$3$2;Object.defineProperty(te,"base58",{enumerable:!0,get:function(){return ae.Base58}});var fe=require$$4;Object.defineProperty(te,"arrayify",{enumerable:!0,get:function(){return fe.arrayify}}),Object.defineProperty(te,"concat",{enumerable:!0,get:function(){return fe.concat}}),Object.defineProperty(te,"hexConcat",{enumerable:!0,get:function(){return fe.hexConcat}}),Object.defineProperty(te,"hexDataSlice",{enumerable:!0,get:function(){return fe.hexDataSlice}}),Object.defineProperty(te,"hexDataLength",{enumerable:!0,get:function(){return fe.hexDataLength}}),Object.defineProperty(te,"hexlify",{enumerable:!0,get:function(){return fe.hexlify}}),Object.defineProperty(te,"hexStripZeros",{enumerable:!0,get:function(){return fe.hexStripZeros}}),Object.defineProperty(te,"hexValue",{enumerable:!0,get:function(){return fe.hexValue}}),Object.defineProperty(te,"hexZeroPad",{enumerable:!0,get:function(){return fe.hexZeroPad}}),Object.defineProperty(te,"isBytes",{enumerable:!0,get:function(){return fe.isBytes}}),Object.defineProperty(te,"isBytesLike",{enumerable:!0,get:function(){return fe.isBytesLike}}),Object.defineProperty(te,"isHexString",{enumerable:!0,get:function(){return fe.isHexString}}),Object.defineProperty(te,"joinSignature",{enumerable:!0,get:function(){return fe.joinSignature}}),Object.defineProperty(te,"zeroPad",{enumerable:!0,get:function(){return fe.zeroPad}}),Object.defineProperty(te,"splitSignature",{enumerable:!0,get:function(){return fe.splitSignature}}),Object.defineProperty(te,"stripZeros",{enumerable:!0,get:function(){return fe.stripZeros}});var ue=require$$5;Object.defineProperty(te,"_TypedDataEncoder",{enumerable:!0,get:function(){return ue._TypedDataEncoder}}),Object.defineProperty(te,"hashMessage",{enumerable:!0,get:function(){return ue.hashMessage}}),Object.defineProperty(te,"id",{enumerable:!0,get:function(){return ue.id}}),Object.defineProperty(te,"isValidName",{enumerable:!0,get:function(){return ue.isValidName}}),Object.defineProperty(te,"namehash",{enumerable:!0,get:function(){return ue.namehash}});var le=require$$6;Object.defineProperty(te,"defaultPath",{enumerable:!0,get:function(){return le.defaultPath}}),Object.defineProperty(te,"entropyToMnemonic",{enumerable:!0,get:function(){return le.entropyToMnemonic}}),Object.defineProperty(te,"getAccountPath",{enumerable:!0,get:function(){return le.getAccountPath}}),Object.defineProperty(te,"HDNode",{enumerable:!0,get:function(){return le.HDNode}}),Object.defineProperty(te,"isValidMnemonic",{enumerable:!0,get:function(){return le.isValidMnemonic}}),Object.defineProperty(te,"mnemonicToEntropy",{enumerable:!0,get:function(){return le.mnemonicToEntropy}}),Object.defineProperty(te,"mnemonicToSeed",{enumerable:!0,get:function(){return le.mnemonicToSeed}});var pe=require$$7$1;Object.defineProperty(te,"getJsonWalletAddress",{enumerable:!0,get:function(){return pe.getJsonWalletAddress}});var rr=require$$8;Object.defineProperty(te,"keccak256",{enumerable:!0,get:function(){return rr.keccak256}});var cr=require$$9;Object.defineProperty(te,"Logger",{enumerable:!0,get:function(){return cr.Logger}});var ar=require$$10;Object.defineProperty(te,"computeHmac",{enumerable:!0,get:function(){return ar.computeHmac}}),Object.defineProperty(te,"ripemd160",{enumerable:!0,get:function(){return ar.ripemd160}}),Object.defineProperty(te,"sha256",{enumerable:!0,get:function(){return ar.sha256}}),Object.defineProperty(te,"sha512",{enumerable:!0,get:function(){return ar.sha512}});var mr=require$$11;Object.defineProperty(te,"solidityKeccak256",{enumerable:!0,get:function(){return mr.keccak256}}),Object.defineProperty(te,"solidityPack",{enumerable:!0,get:function(){return mr.pack}}),Object.defineProperty(te,"soliditySha256",{enumerable:!0,get:function(){return mr.sha256}});var pr=require$$12;Object.defineProperty(te,"randomBytes",{enumerable:!0,get:function(){return pr.randomBytes}}),Object.defineProperty(te,"shuffled",{enumerable:!0,get:function(){return pr.shuffled}});var yr=require$$13;Object.defineProperty(te,"checkProperties",{enumerable:!0,get:function(){return yr.checkProperties}}),Object.defineProperty(te,"deepCopy",{enumerable:!0,get:function(){return yr.deepCopy}}),Object.defineProperty(te,"defineReadOnly",{enumerable:!0,get:function(){return yr.defineReadOnly}}),Object.defineProperty(te,"getStatic",{enumerable:!0,get:function(){return yr.getStatic}}),Object.defineProperty(te,"resolveProperties",{enumerable:!0,get:function(){return yr.resolveProperties}}),Object.defineProperty(te,"shallowCopy",{enumerable:!0,get:function(){return yr.shallowCopy}});var vr=ne(require$$14);te.RLP=vr;var Er=require$$15;Object.defineProperty(te,"computePublicKey",{enumerable:!0,get:function(){return Er.computePublicKey}}),Object.defineProperty(te,"recoverPublicKey",{enumerable:!0,get:function(){return Er.recoverPublicKey}}),Object.defineProperty(te,"SigningKey",{enumerable:!0,get:function(){return Er.SigningKey}});var Tr=require$$16;Object.defineProperty(te,"formatBytes32String",{enumerable:!0,get:function(){return Tr.formatBytes32String}}),Object.defineProperty(te,"nameprep",{enumerable:!0,get:function(){return Tr.nameprep}}),Object.defineProperty(te,"parseBytes32String",{enumerable:!0,get:function(){return Tr.parseBytes32String}}),Object.defineProperty(te,"_toEscapedUtf8String",{enumerable:!0,get:function(){return Tr._toEscapedUtf8String}}),Object.defineProperty(te,"toUtf8Bytes",{enumerable:!0,get:function(){return Tr.toUtf8Bytes}}),Object.defineProperty(te,"toUtf8CodePoints",{enumerable:!0,get:function(){return Tr.toUtf8CodePoints}}),Object.defineProperty(te,"toUtf8String",{enumerable:!0,get:function(){return Tr.toUtf8String}}),Object.defineProperty(te,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return Tr.Utf8ErrorFuncs}});var Ir=require$$17;Object.defineProperty(te,"accessListify",{enumerable:!0,get:function(){return Ir.accessListify}}),Object.defineProperty(te,"computeAddress",{enumerable:!0,get:function(){return Ir.computeAddress}}),Object.defineProperty(te,"parseTransaction",{enumerable:!0,get:function(){return Ir.parse}}),Object.defineProperty(te,"recoverAddress",{enumerable:!0,get:function(){return Ir.recoverAddress}}),Object.defineProperty(te,"serializeTransaction",{enumerable:!0,get:function(){return Ir.serialize}}),Object.defineProperty(te,"TransactionTypes",{enumerable:!0,get:function(){return Ir.TransactionTypes}});var Or=require$$18;Object.defineProperty(te,"commify",{enumerable:!0,get:function(){return Or.commify}}),Object.defineProperty(te,"formatEther",{enumerable:!0,get:function(){return Or.formatEther}}),Object.defineProperty(te,"parseEther",{enumerable:!0,get:function(){return Or.parseEther}}),Object.defineProperty(te,"formatUnits",{enumerable:!0,get:function(){return Or.formatUnits}}),Object.defineProperty(te,"parseUnits",{enumerable:!0,get:function(){return Or.parseUnits}});var Hr=require$$19;Object.defineProperty(te,"verifyMessage",{enumerable:!0,get:function(){return Hr.verifyMessage}}),Object.defineProperty(te,"verifyTypedData",{enumerable:!0,get:function(){return Hr.verifyTypedData}});var Pr=require$$20;Object.defineProperty(te,"_fetchData",{enumerable:!0,get:function(){return Pr._fetchData}}),Object.defineProperty(te,"fetchJson",{enumerable:!0,get:function(){return Pr.fetchJson}}),Object.defineProperty(te,"poll",{enumerable:!0,get:function(){return Pr.poll}});var Br=require$$10;Object.defineProperty(te,"SupportedAlgorithm",{enumerable:!0,get:function(){return Br.SupportedAlgorithm}});var Nr=require$$16;Object.defineProperty(te,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return Nr.UnicodeNormalizationForm}}),Object.defineProperty(te,"Utf8ErrorReason",{enumerable:!0,get:function(){return Nr.Utf8ErrorReason}})})(utils$s);var events$1={exports:{}},R$2=typeof Reflect=="object"?Reflect:null,ReflectApply$1=R$2&&typeof R$2.apply=="function"?R$2.apply:function(ee,re,ne){return Function.prototype.apply.call(ee,re,ne)},ReflectOwnKeys;R$2&&typeof R$2.ownKeys=="function"?ReflectOwnKeys=R$2.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(ee){return Object.getOwnPropertyNames(ee).concat(Object.getOwnPropertySymbols(ee))}:ReflectOwnKeys=function(ee){return Object.getOwnPropertyNames(ee)};function ProcessEmitWarning(te){console&&console.warn&&console.warn(te)}var NumberIsNaN=Number.isNaN||function(ee){return ee!==ee};function EventEmitter$4(){EventEmitter$4.init.call(this)}events$1.exports=EventEmitter$4;events$1.exports.once=once$5;EventEmitter$4.EventEmitter=EventEmitter$4;EventEmitter$4.prototype._events=void 0;EventEmitter$4.prototype._eventsCount=0;EventEmitter$4.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(te){if(typeof te!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof te)}Object.defineProperty(EventEmitter$4,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(te){if(typeof te!="number"||te<0||NumberIsNaN(te))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+te+".");defaultMaxListeners=te}});EventEmitter$4.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter$4.prototype.setMaxListeners=function(ee){if(typeof ee!="number"||ee<0||NumberIsNaN(ee))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+ee+".");return this._maxListeners=ee,this};function _getMaxListeners(te){return te._maxListeners===void 0?EventEmitter$4.defaultMaxListeners:te._maxListeners}EventEmitter$4.prototype.getMaxListeners=function(){return _getMaxListeners(this)};EventEmitter$4.prototype.emit=function(ee){for(var re=[],ne=1;ne<arguments.length;ne++)re.push(arguments[ne]);var ie=ee==="error",oe=this._events;if(oe!==void 0)ie=ie&&oe.error===void 0;else if(!ie)return!1;if(ie){var se;if(re.length>0&&(se=re[0]),se instanceof Error)throw se;var ae=new Error("Unhandled error."+(se?" ("+se.message+")":""));throw ae.context=se,ae}var fe=oe[ee];if(fe===void 0)return!1;if(typeof fe=="function")ReflectApply$1(fe,this,re);else for(var ue=fe.length,le=arrayClone$2(fe,ue),ne=0;ne<ue;++ne)ReflectApply$1(le[ne],this,re);return!0};function _addListener(te,ee,re,ne){var ie,oe,se;if(checkListener(re),oe=te._events,oe===void 0?(oe=te._events=Object.create(null),te._eventsCount=0):(oe.newListener!==void 0&&(te.emit("newListener",ee,re.listener?re.listener:re),oe=te._events),se=oe[ee]),se===void 0)se=oe[ee]=re,++te._eventsCount;else if(typeof se=="function"?se=oe[ee]=ne?[re,se]:[se,re]:ne?se.unshift(re):se.push(re),ie=_getMaxListeners(te),ie>0&&se.length>ie&&!se.warned){se.warned=!0;var ae=new Error("Possible EventEmitter memory leak detected. "+se.length+" "+String(ee)+" listeners added. Use emitter.setMaxListeners() to increase limit");ae.name="MaxListenersExceededWarning",ae.emitter=te,ae.type=ee,ae.count=se.length,ProcessEmitWarning(ae)}return te}EventEmitter$4.prototype.addListener=function(ee,re){return _addListener(this,ee,re,!1)};EventEmitter$4.prototype.on=EventEmitter$4.prototype.addListener;EventEmitter$4.prototype.prependListener=function(ee,re){return _addListener(this,ee,re,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(te,ee,re){var ne={fired:!1,wrapFn:void 0,target:te,type:ee,listener:re},ie=onceWrapper.bind(ne);return ie.listener=re,ne.wrapFn=ie,ie}EventEmitter$4.prototype.once=function(ee,re){return checkListener(re),this.on(ee,_onceWrap(this,ee,re)),this};EventEmitter$4.prototype.prependOnceListener=function(ee,re){return checkListener(re),this.prependListener(ee,_onceWrap(this,ee,re)),this};EventEmitter$4.prototype.removeListener=function(ee,re){var ne,ie,oe,se,ae;if(checkListener(re),ie=this._events,ie===void 0)return this;if(ne=ie[ee],ne===void 0)return this;if(ne===re||ne.listener===re)--this._eventsCount===0?this._events=Object.create(null):(delete ie[ee],ie.removeListener&&this.emit("removeListener",ee,ne.listener||re));else if(typeof ne!="function"){for(oe=-1,se=ne.length-1;se>=0;se--)if(ne[se]===re||ne[se].listener===re){ae=ne[se].listener,oe=se;break}if(oe<0)return this;oe===0?ne.shift():spliceOne(ne,oe),ne.length===1&&(ie[ee]=ne[0]),ie.removeListener!==void 0&&this.emit("removeListener",ee,ae||re)}return this};EventEmitter$4.prototype.off=EventEmitter$4.prototype.removeListener;EventEmitter$4.prototype.removeAllListeners=function(ee){var re,ne,ie;if(ne=this._events,ne===void 0)return this;if(ne.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):ne[ee]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete ne[ee]),this;if(arguments.length===0){var oe=Object.keys(ne),se;for(ie=0;ie<oe.length;++ie)se=oe[ie],se!=="removeListener"&&this.removeAllListeners(se);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(re=ne[ee],typeof re=="function")this.removeListener(ee,re);else if(re!==void 0)for(ie=re.length-1;ie>=0;ie--)this.removeListener(ee,re[ie]);return this};function _listeners(te,ee,re){var ne=te._events;if(ne===void 0)return[];var ie=ne[ee];return ie===void 0?[]:typeof ie=="function"?re?[ie.listener||ie]:[ie]:re?unwrapListeners(ie):arrayClone$2(ie,ie.length)}EventEmitter$4.prototype.listeners=function(ee){return _listeners(this,ee,!0)};EventEmitter$4.prototype.rawListeners=function(ee){return _listeners(this,ee,!1)};EventEmitter$4.listenerCount=function(te,ee){return typeof te.listenerCount=="function"?te.listenerCount(ee):listenerCount.call(te,ee)};EventEmitter$4.prototype.listenerCount=listenerCount;function listenerCount(te){var ee=this._events;if(ee!==void 0){var re=ee[te];if(typeof re=="function")return 1;if(re!==void 0)return re.length}return 0}EventEmitter$4.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone$2(te,ee){for(var re=new Array(ee),ne=0;ne<ee;++ne)re[ne]=te[ne];return re}function spliceOne(te,ee){for(;ee+1<te.length;ee++)te[ee]=te[ee+1];te.pop()}function unwrapListeners(te){for(var ee=new Array(te.length),re=0;re<ee.length;++re)ee[re]=te[re].listener||te[re];return ee}function once$5(te,ee){return new Promise(function(re,ne){function ie(se){te.removeListener(ee,oe),ne(se)}function oe(){typeof te.removeListener=="function"&&te.removeListener("error",ie),re([].slice.call(arguments))}eventTargetAgnosticAddListener(te,ee,oe,{once:!0}),ee!=="error"&&addErrorHandlerIfEventEmitter(te,ie,{once:!0})})}function addErrorHandlerIfEventEmitter(te,ee,re){typeof te.on=="function"&&eventTargetAgnosticAddListener(te,"error",ee,re)}function eventTargetAgnosticAddListener(te,ee,re,ne){if(typeof te.on=="function")ne.once?te.once(ee,re):te.on(ee,re);else if(typeof te.addEventListener=="function")te.addEventListener(ee,function ie(oe){ne.once&&te.removeEventListener(ee,ie),re(oe)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof te)}var dist$6={},keccak$3={},hashUtils={};Object.defineProperty(hashUtils,"__esModule",{value:!0});function createHashFunction(te){return function(ee){var re=te();return re.update(ee),buffer$2.Buffer.from(re.digest())}}hashUtils.createHashFunction=createHashFunction;var readableBrowser$1={exports:{}},streamBrowser$1=events$1.exports.EventEmitter,__viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0$3=getAugmentedNamespace(__viteBrowserExternal$1);function ownKeys$1(te,ee){var re=Object.keys(te);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(te);ee&&(ne=ne.filter(function(ie){return Object.getOwnPropertyDescriptor(te,ie).enumerable})),re.push.apply(re,ne)}return re}function _objectSpread$1(te){for(var ee=1;ee<arguments.length;ee++){var re=arguments[ee]!=null?arguments[ee]:{};ee%2?ownKeys$1(Object(re),!0).forEach(function(ne){_defineProperty$3(te,ne,re[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(re)):ownKeys$1(Object(re)).forEach(function(ne){Object.defineProperty(te,ne,Object.getOwnPropertyDescriptor(re,ne))})}return te}function _defineProperty$3(te,ee,re){return ee in te?Object.defineProperty(te,ee,{value:re,enumerable:!0,configurable:!0,writable:!0}):te[ee]=re,te}function _classCallCheck$2(te,ee){if(!(te instanceof ee))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(te,ee){for(var re=0;re<ee.length;re++){var ne=ee[re];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(te,ne.key,ne)}}function _createClass$1(te,ee,re){return ee&&_defineProperties$1(te.prototype,ee),re&&_defineProperties$1(te,re),te}var _require$5=buffer$2,Buffer$m=_require$5.Buffer,_require2$1=require$$0$3,inspect$2=_require2$1.inspect,custom$1=inspect$2&&inspect$2.custom||"inspect";function copyBuffer$1(te,ee,re){Buffer$m.prototype.copy.call(te,ee,re)}var buffer_list$1=function(){function te(){_classCallCheck$2(this,te),this.head=null,this.tail=null,this.length=0}return _createClass$1(te,[{key:"push",value:function(re){var ne={data:re,next:null};this.length>0?this.tail.next=ne:this.head=ne,this.tail=ne,++this.length}},{key:"unshift",value:function(re){var ne={data:re,next:this.head};this.length===0&&(this.tail=ne),this.head=ne,++this.length}},{key:"shift",value:function(){if(this.length!==0){var re=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,re}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(re){if(this.length===0)return"";for(var ne=this.head,ie=""+ne.data;ne=ne.next;)ie+=re+ne.data;return ie}},{key:"concat",value:function(re){if(this.length===0)return Buffer$m.alloc(0);for(var ne=Buffer$m.allocUnsafe(re>>>0),ie=this.head,oe=0;ie;)copyBuffer$1(ie.data,ne,oe),oe+=ie.data.length,ie=ie.next;return ne}},{key:"consume",value:function(re,ne){var ie;return re<this.head.data.length?(ie=this.head.data.slice(0,re),this.head.data=this.head.data.slice(re)):re===this.head.data.length?ie=this.shift():ie=ne?this._getString(re):this._getBuffer(re),ie}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(re){var ne=this.head,ie=1,oe=ne.data;for(re-=oe.length;ne=ne.next;){var se=ne.data,ae=re>se.length?se.length:re;if(ae===se.length?oe+=se:oe+=se.slice(0,re),re-=ae,re===0){ae===se.length?(++ie,ne.next?this.head=ne.next:this.head=this.tail=null):(this.head=ne,ne.data=se.slice(ae));break}++ie}return this.length-=ie,oe}},{key:"_getBuffer",value:function(re){var ne=Buffer$m.allocUnsafe(re),ie=this.head,oe=1;for(ie.data.copy(ne),re-=ie.data.length;ie=ie.next;){var se=ie.data,ae=re>se.length?se.length:re;if(se.copy(ne,ne.length-re,0,ae),re-=ae,re===0){ae===se.length?(++oe,ie.next?this.head=ie.next:this.head=this.tail=null):(this.head=ie,ie.data=se.slice(ae));break}++oe}return this.length-=oe,ne}},{key:custom$1,value:function(re,ne){return inspect$2(this,_objectSpread$1({},ne,{depth:0,customInspect:!1}))}}]),te}();function destroy$1(te,ee){var re=this,ne=this._readableState&&this._readableState.destroyed,ie=this._writableState&&this._writableState.destroyed;return ne||ie?(ee?ee(te):te&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(emitErrorNT$1,this,te)):process.nextTick(emitErrorNT$1,this,te)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(te||null,function(oe){!ee&&oe?re._writableState?re._writableState.errorEmitted?process.nextTick(emitCloseNT$1,re):(re._writableState.errorEmitted=!0,process.nextTick(emitErrorAndCloseNT$1,re,oe)):process.nextTick(emitErrorAndCloseNT$1,re,oe):ee?(process.nextTick(emitCloseNT$1,re),ee(oe)):process.nextTick(emitCloseNT$1,re)}),this)}function emitErrorAndCloseNT$1(te,ee){emitErrorNT$1(te,ee),emitCloseNT$1(te)}function emitCloseNT$1(te){te._writableState&&!te._writableState.emitClose||te._readableState&&!te._readableState.emitClose||te.emit("close")}function undestroy$1(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT$1(te,ee){te.emit("error",ee)}function errorOrDestroy$5(te,ee){var re=te._readableState,ne=te._writableState;re&&re.autoDestroy||ne&&ne.autoDestroy?te.destroy(ee):te.emit("error",ee)}var destroy_1$1={destroy:destroy$1,undestroy:undestroy$1,errorOrDestroy:errorOrDestroy$5},errorsBrowser$1={};function _inheritsLoose$1(te,ee){te.prototype=Object.create(ee.prototype),te.prototype.constructor=te,te.__proto__=ee}var codes$1={};function createErrorType$1(te,ee,re){re||(re=Error);function ne(oe,se,ae){return typeof ee=="string"?ee:ee(oe,se,ae)}var ie=function(oe){_inheritsLoose$1(se,oe);function se(ae,fe,ue){return oe.call(this,ne(ae,fe,ue))||this}return se}(re);ie.prototype.name=re.name,ie.prototype.code=te,codes$1[te]=ie}function oneOf$1(te,ee){if(Array.isArray(te)){var re=te.length;return te=te.map(function(ne){return String(ne)}),re>2?"one of ".concat(ee," ").concat(te.slice(0,re-1).join(", "),", or ")+te[re-1]:re===2?"one of ".concat(ee," ").concat(te[0]," or ").concat(te[1]):"of ".concat(ee," ").concat(te[0])}else return"of ".concat(ee," ").concat(String(te))}function startsWith$1(te,ee,re){return te.substr(!re||re<0?0:+re,ee.length)===ee}function endsWith$1(te,ee,re){return(re===void 0||re>te.length)&&(re=te.length),te.substring(re-ee.length,re)===ee}function includes$1(te,ee,re){return typeof re!="number"&&(re=0),re+ee.length>te.length?!1:te.indexOf(ee,re)!==-1}createErrorType$1("ERR_INVALID_OPT_VALUE",function(te,ee){return'The value "'+ee+'" is invalid for option "'+te+'"'},TypeError);createErrorType$1("ERR_INVALID_ARG_TYPE",function(te,ee,re){var ne;typeof ee=="string"&&startsWith$1(ee,"not ")?(ne="must not be",ee=ee.replace(/^not /,"")):ne="must be";var ie;if(endsWith$1(te," argument"))ie="The ".concat(te," ").concat(ne," ").concat(oneOf$1(ee,"type"));else{var oe=includes$1(te,".")?"property":"argument";ie='The "'.concat(te,'" ').concat(oe," ").concat(ne," ").concat(oneOf$1(ee,"type"))}return ie+=". Received type ".concat(typeof re),ie},TypeError);createErrorType$1("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");createErrorType$1("ERR_METHOD_NOT_IMPLEMENTED",function(te){return"The "+te+" method is not implemented"});createErrorType$1("ERR_STREAM_PREMATURE_CLOSE","Premature close");createErrorType$1("ERR_STREAM_DESTROYED",function(te){return"Cannot call "+te+" after a stream was destroyed"});createErrorType$1("ERR_MULTIPLE_CALLBACK","Callback called multiple times");createErrorType$1("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");createErrorType$1("ERR_STREAM_WRITE_AFTER_END","write after end");createErrorType$1("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);createErrorType$1("ERR_UNKNOWN_ENCODING",function(te){return"Unknown encoding: "+te},TypeError);createErrorType$1("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");errorsBrowser$1.codes=codes$1;var ERR_INVALID_OPT_VALUE$1=errorsBrowser$1.codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom$1(te,ee,re){return te.highWaterMark!=null?te.highWaterMark:ee?te[re]:null}function getHighWaterMark$5(te,ee,re,ne){var ie=highWaterMarkFrom$1(ee,ne,re);if(ie!=null){if(!(isFinite(ie)&&Math.floor(ie)===ie)||ie<0){var oe=ne?re:"highWaterMark";throw new ERR_INVALID_OPT_VALUE$1(oe,ie)}return Math.floor(ie)}return te.objectMode?16:16*1024}var state$1={getHighWaterMark:getHighWaterMark$5},browser$4=deprecate;function deprecate(te,ee){if(config$1("noDeprecation"))return te;var re=!1;function ne(){if(!re){if(config$1("throwDeprecation"))throw new Error(ee);config$1("traceDeprecation")?console.trace(ee):console.warn(ee),re=!0}return te.apply(this,arguments)}return ne}function config$1(te){try{if(!commonjsGlobal$1.localStorage)return!1}catch{return!1}var ee=commonjsGlobal$1.localStorage[te];return ee==null?!1:String(ee).toLowerCase()==="true"}var _stream_writable$1=Writable$3;function CorkedRequest$1(te){var ee=this;this.next=null,this.entry=null,this.finish=function(){onCorkedFinish$1(ee,te)}}var Duplex$7;Writable$3.WritableState=WritableState$1;var internalUtil$1={deprecate:browser$4},Stream$3=streamBrowser$1,Buffer$l=buffer$2.Buffer,OurUint8Array$3=commonjsGlobal$1.Uint8Array||function(){};function _uint8ArrayToBuffer$3(te){return Buffer$l.from(te)}function _isUint8Array$3(te){return Buffer$l.isBuffer(te)||te instanceof OurUint8Array$3}var destroyImpl$3=destroy_1$1,_require$4=state$1,getHighWaterMark$4=_require$4.getHighWaterMark,_require$codes$7=errorsBrowser$1.codes,ERR_INVALID_ARG_TYPE$3=_require$codes$7.ERR_INVALID_ARG_TYPE,ERR_METHOD_NOT_IMPLEMENTED$5=_require$codes$7.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK$3=_require$codes$7.ERR_MULTIPLE_CALLBACK,ERR_STREAM_CANNOT_PIPE$1=_require$codes$7.ERR_STREAM_CANNOT_PIPE,ERR_STREAM_DESTROYED$3=_require$codes$7.ERR_STREAM_DESTROYED,ERR_STREAM_NULL_VALUES$1=_require$codes$7.ERR_STREAM_NULL_VALUES,ERR_STREAM_WRITE_AFTER_END$1=_require$codes$7.ERR_STREAM_WRITE_AFTER_END,ERR_UNKNOWN_ENCODING$1=_require$codes$7.ERR_UNKNOWN_ENCODING,errorOrDestroy$4=destroyImpl$3.errorOrDestroy;inherits_browser$5.exports(Writable$3,Stream$3);function nop$1(){}function WritableState$1(te,ee,re){Duplex$7=Duplex$7||_stream_duplex$1,te=te||{},typeof re!="boolean"&&(re=ee instanceof Duplex$7),this.objectMode=!!te.objectMode,re&&(this.objectMode=this.objectMode||!!te.writableObjectMode),this.highWaterMark=getHighWaterMark$4(this,te,"writableHighWaterMark",re),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ne=te.decodeStrings===!1;this.decodeStrings=!ne,this.defaultEncoding=te.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ie){onwrite$1(ee,ie)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=te.emitClose!==!1,this.autoDestroy=!!te.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest$1(this)}WritableState$1.prototype.getBuffer=function(){for(var ee=this.bufferedRequest,re=[];ee;)re.push(ee),ee=ee.next;return re};(function(){try{Object.defineProperty(WritableState$1.prototype,"buffer",{get:internalUtil$1.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var realHasInstance$1;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(realHasInstance$1=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable$3,Symbol.hasInstance,{value:function(ee){return realHasInstance$1.call(this,ee)?!0:this!==Writable$3?!1:ee&&ee._writableState instanceof WritableState$1}})):realHasInstance$1=function(ee){return ee instanceof this};function Writable$3(te){Duplex$7=Duplex$7||_stream_duplex$1;var ee=this instanceof Duplex$7;if(!ee&&!realHasInstance$1.call(Writable$3,this))return new Writable$3(te);this._writableState=new WritableState$1(te,this,ee),this.writable=!0,te&&(typeof te.write=="function"&&(this._write=te.write),typeof te.writev=="function"&&(this._writev=te.writev),typeof te.destroy=="function"&&(this._destroy=te.destroy),typeof te.final=="function"&&(this._final=te.final)),Stream$3.call(this)}Writable$3.prototype.pipe=function(){errorOrDestroy$4(this,new ERR_STREAM_CANNOT_PIPE$1)};function writeAfterEnd$1(te,ee){var re=new ERR_STREAM_WRITE_AFTER_END$1;errorOrDestroy$4(te,re),process.nextTick(ee,re)}function validChunk$1(te,ee,re,ne){var ie;return re===null?ie=new ERR_STREAM_NULL_VALUES$1:typeof re!="string"&&!ee.objectMode&&(ie=new ERR_INVALID_ARG_TYPE$3("chunk",["string","Buffer"],re)),ie?(errorOrDestroy$4(te,ie),process.nextTick(ne,ie),!1):!0}Writable$3.prototype.write=function(te,ee,re){var ne=this._writableState,ie=!1,oe=!ne.objectMode&&_isUint8Array$3(te);return oe&&!Buffer$l.isBuffer(te)&&(te=_uint8ArrayToBuffer$3(te)),typeof ee=="function"&&(re=ee,ee=null),oe?ee="buffer":ee||(ee=ne.defaultEncoding),typeof re!="function"&&(re=nop$1),ne.ending?writeAfterEnd$1(this,re):(oe||validChunk$1(this,ne,te,re))&&(ne.pendingcb++,ie=writeOrBuffer$1(this,ne,oe,te,ee,re)),ie};Writable$3.prototype.cork=function(){this._writableState.corked++};Writable$3.prototype.uncork=function(){var te=this._writableState;te.corked&&(te.corked--,!te.writing&&!te.corked&&!te.bufferProcessing&&te.bufferedRequest&&clearBuffer$1(this,te))};Writable$3.prototype.setDefaultEncoding=function(ee){if(typeof ee=="string"&&(ee=ee.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ee+"").toLowerCase())>-1))throw new ERR_UNKNOWN_ENCODING$1(ee);return this._writableState.defaultEncoding=ee,this};Object.defineProperty(Writable$3.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function decodeChunk$1(te,ee,re){return!te.objectMode&&te.decodeStrings!==!1&&typeof ee=="string"&&(ee=Buffer$l.from(ee,re)),ee}Object.defineProperty(Writable$3.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function writeOrBuffer$1(te,ee,re,ne,ie,oe){if(!re){var se=decodeChunk$1(ee,ne,ie);ne!==se&&(re=!0,ie="buffer",ne=se)}var ae=ee.objectMode?1:ne.length;ee.length+=ae;var fe=ee.length<ee.highWaterMark;if(fe||(ee.needDrain=!0),ee.writing||ee.corked){var ue=ee.lastBufferedRequest;ee.lastBufferedRequest={chunk:ne,encoding:ie,isBuf:re,callback:oe,next:null},ue?ue.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else doWrite$1(te,ee,!1,ae,ne,ie,oe);return fe}function doWrite$1(te,ee,re,ne,ie,oe,se){ee.writelen=ne,ee.writecb=se,ee.writing=!0,ee.sync=!0,ee.destroyed?ee.onwrite(new ERR_STREAM_DESTROYED$3("write")):re?te._writev(ie,ee.onwrite):te._write(ie,oe,ee.onwrite),ee.sync=!1}function onwriteError$1(te,ee,re,ne,ie){--ee.pendingcb,re?(process.nextTick(ie,ne),process.nextTick(finishMaybe$1,te,ee),te._writableState.errorEmitted=!0,errorOrDestroy$4(te,ne)):(ie(ne),te._writableState.errorEmitted=!0,errorOrDestroy$4(te,ne),finishMaybe$1(te,ee))}function onwriteStateUpdate$1(te){te.writing=!1,te.writecb=null,te.length-=te.writelen,te.writelen=0}function onwrite$1(te,ee){var re=te._writableState,ne=re.sync,ie=re.writecb;if(typeof ie!="function")throw new ERR_MULTIPLE_CALLBACK$3;if(onwriteStateUpdate$1(re),ee)onwriteError$1(te,re,ne,ee,ie);else{var oe=needFinish$1(re)||te.destroyed;!oe&&!re.corked&&!re.bufferProcessing&&re.bufferedRequest&&clearBuffer$1(te,re),ne?process.nextTick(afterWrite$1,te,re,oe,ie):afterWrite$1(te,re,oe,ie)}}function afterWrite$1(te,ee,re,ne){re||onwriteDrain$1(te,ee),ee.pendingcb--,ne(),finishMaybe$1(te,ee)}function onwriteDrain$1(te,ee){ee.length===0&&ee.needDrain&&(ee.needDrain=!1,te.emit("drain"))}function clearBuffer$1(te,ee){ee.bufferProcessing=!0;var re=ee.bufferedRequest;if(te._writev&&re&&re.next){var ne=ee.bufferedRequestCount,ie=new Array(ne),oe=ee.corkedRequestsFree;oe.entry=re;for(var se=0,ae=!0;re;)ie[se]=re,re.isBuf||(ae=!1),re=re.next,se+=1;ie.allBuffers=ae,doWrite$1(te,ee,!0,ee.length,ie,"",oe.finish),ee.pendingcb++,ee.lastBufferedRequest=null,oe.next?(ee.corkedRequestsFree=oe.next,oe.next=null):ee.corkedRequestsFree=new CorkedRequest$1(ee),ee.bufferedRequestCount=0}else{for(;re;){var fe=re.chunk,ue=re.encoding,le=re.callback,pe=ee.objectMode?1:fe.length;if(doWrite$1(te,ee,!1,pe,fe,ue,le),re=re.next,ee.bufferedRequestCount--,ee.writing)break}re===null&&(ee.lastBufferedRequest=null)}ee.bufferedRequest=re,ee.bufferProcessing=!1}Writable$3.prototype._write=function(te,ee,re){re(new ERR_METHOD_NOT_IMPLEMENTED$5("_write()"))};Writable$3.prototype._writev=null;Writable$3.prototype.end=function(te,ee,re){var ne=this._writableState;return typeof te=="function"?(re=te,te=null,ee=null):typeof ee=="function"&&(re=ee,ee=null),te!=null&&this.write(te,ee),ne.corked&&(ne.corked=1,this.uncork()),ne.ending||endWritable$1(this,ne,re),this};Object.defineProperty(Writable$3.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function needFinish$1(te){return te.ending&&te.length===0&&te.bufferedRequest===null&&!te.finished&&!te.writing}function callFinal$1(te,ee){te._final(function(re){ee.pendingcb--,re&&errorOrDestroy$4(te,re),ee.prefinished=!0,te.emit("prefinish"),finishMaybe$1(te,ee)})}function prefinish$3(te,ee){!ee.prefinished&&!ee.finalCalled&&(typeof te._final=="function"&&!ee.destroyed?(ee.pendingcb++,ee.finalCalled=!0,process.nextTick(callFinal$1,te,ee)):(ee.prefinished=!0,te.emit("prefinish")))}function finishMaybe$1(te,ee){var re=needFinish$1(ee);if(re&&(prefinish$3(te,ee),ee.pendingcb===0&&(ee.finished=!0,te.emit("finish"),ee.autoDestroy))){var ne=te._readableState;(!ne||ne.autoDestroy&&ne.endEmitted)&&te.destroy()}return re}function endWritable$1(te,ee,re){ee.ending=!0,finishMaybe$1(te,ee),re&&(ee.finished?process.nextTick(re):te.once("finish",re)),ee.ended=!0,te.writable=!1}function onCorkedFinish$1(te,ee,re){var ne=te.entry;for(te.entry=null;ne;){var ie=ne.callback;ee.pendingcb--,ie(re),ne=ne.next}ee.corkedRequestsFree.next=te}Object.defineProperty(Writable$3.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ee){!this._writableState||(this._writableState.destroyed=ee)}});Writable$3.prototype.destroy=destroyImpl$3.destroy;Writable$3.prototype._undestroy=destroyImpl$3.undestroy;Writable$3.prototype._destroy=function(te,ee){ee(te)};var objectKeys$3=Object.keys||function(te){var ee=[];for(var re in te)ee.push(re);return ee},_stream_duplex$1=Duplex$6,Readable$3=_stream_readable$1,Writable$2=_stream_writable$1;inherits_browser$5.exports(Duplex$6,Readable$3);for(var keys$2=objectKeys$3(Writable$2.prototype),v$5=0;v$5<keys$2.length;v$5++){var method$1=keys$2[v$5];Duplex$6.prototype[method$1]||(Duplex$6.prototype[method$1]=Writable$2.prototype[method$1])}function Duplex$6(te){if(!(this instanceof Duplex$6))return new Duplex$6(te);Readable$3.call(this,te),Writable$2.call(this,te),this.allowHalfOpen=!0,te&&(te.readable===!1&&(this.readable=!1),te.writable===!1&&(this.writable=!1),te.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",onend$1)))}Object.defineProperty(Duplex$6.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Duplex$6.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Duplex$6.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function onend$1(){this._writableState.ended||process.nextTick(onEndNT$1,this)}function onEndNT$1(te){te.end()}Object.defineProperty(Duplex$6.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(ee){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=ee,this._writableState.destroyed=ee)}});var string_decoder$2={},safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(te,ee){var re=buffer$2,ne=re.Buffer;function ie(se,ae){for(var fe in se)ae[fe]=se[fe]}ne.from&&ne.alloc&&ne.allocUnsafe&&ne.allocUnsafeSlow?te.exports=re:(ie(re,ee),ee.Buffer=oe);function oe(se,ae,fe){return ne(se,ae,fe)}oe.prototype=Object.create(ne.prototype),ie(ne,oe),oe.from=function(se,ae,fe){if(typeof se=="number")throw new TypeError("Argument must not be a number");return ne(se,ae,fe)},oe.alloc=function(se,ae,fe){if(typeof se!="number")throw new TypeError("Argument must be a number");var ue=ne(se);return ae!==void 0?typeof fe=="string"?ue.fill(ae,fe):ue.fill(ae):ue.fill(0),ue},oe.allocUnsafe=function(se){if(typeof se!="number")throw new TypeError("Argument must be a number");return ne(se)},oe.allocUnsafeSlow=function(se){if(typeof se!="number")throw new TypeError("Argument must be a number");return re.SlowBuffer(se)}})(safeBuffer,safeBuffer.exports);var Buffer$k=safeBuffer.exports.Buffer,isEncoding$1=Buffer$k.isEncoding||function(te){switch(te=""+te,te&&te.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _normalizeEncoding$1(te){if(!te)return"utf8";for(var ee;;)switch(te){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return te;default:if(ee)return;te=(""+te).toLowerCase(),ee=!0}}function normalizeEncoding$1(te){var ee=_normalizeEncoding$1(te);if(typeof ee!="string"&&(Buffer$k.isEncoding===isEncoding$1||!isEncoding$1(te)))throw new Error("Unknown encoding: "+te);return ee||te}string_decoder$2.StringDecoder=StringDecoder$5;function StringDecoder$5(te){this.encoding=normalizeEncoding$1(te);var ee;switch(this.encoding){case"utf16le":this.text=utf16Text$1,this.end=utf16End$1,ee=4;break;case"utf8":this.fillLast=utf8FillLast$1,ee=4;break;case"base64":this.text=base64Text$1,this.end=base64End$1,ee=3;break;default:this.write=simpleWrite$1,this.end=simpleEnd$1;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer$k.allocUnsafe(ee)}StringDecoder$5.prototype.write=function(te){if(te.length===0)return"";var ee,re;if(this.lastNeed){if(ee=this.fillLast(te),ee===void 0)return"";re=this.lastNeed,this.lastNeed=0}else re=0;return re<te.length?ee?ee+this.text(te,re):this.text(te,re):ee||""};StringDecoder$5.prototype.end=utf8End$1;StringDecoder$5.prototype.text=utf8Text$1;StringDecoder$5.prototype.fillLast=function(te){if(this.lastNeed<=te.length)return te.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);te.copy(this.lastChar,this.lastTotal-this.lastNeed,0,te.length),this.lastNeed-=te.length};function utf8CheckByte$1(te){return te<=127?0:te>>5===6?2:te>>4===14?3:te>>3===30?4:te>>6===2?-1:-2}function utf8CheckIncomplete$1(te,ee,re){var ne=ee.length-1;if(ne<re)return 0;var ie=utf8CheckByte$1(ee[ne]);return ie>=0?(ie>0&&(te.lastNeed=ie-1),ie):--ne<re||ie===-2?0:(ie=utf8CheckByte$1(ee[ne]),ie>=0?(ie>0&&(te.lastNeed=ie-2),ie):--ne<re||ie===-2?0:(ie=utf8CheckByte$1(ee[ne]),ie>=0?(ie>0&&(ie===2?ie=0:te.lastNeed=ie-3),ie):0))}function utf8CheckExtraBytes$1(te,ee,re){if((ee[0]&192)!==128)return te.lastNeed=0,"\uFFFD";if(te.lastNeed>1&&ee.length>1){if((ee[1]&192)!==128)return te.lastNeed=1,"\uFFFD";if(te.lastNeed>2&&ee.length>2&&(ee[2]&192)!==128)return te.lastNeed=2,"\uFFFD"}}function utf8FillLast$1(te){var ee=this.lastTotal-this.lastNeed,re=utf8CheckExtraBytes$1(this,te);if(re!==void 0)return re;if(this.lastNeed<=te.length)return te.copy(this.lastChar,ee,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);te.copy(this.lastChar,ee,0,te.length),this.lastNeed-=te.length}function utf8Text$1(te,ee){var re=utf8CheckIncomplete$1(this,te,ee);if(!this.lastNeed)return te.toString("utf8",ee);this.lastTotal=re;var ne=te.length-(re-this.lastNeed);return te.copy(this.lastChar,0,ne),te.toString("utf8",ee,ne)}function utf8End$1(te){var ee=te&&te.length?this.write(te):"";return this.lastNeed?ee+"\uFFFD":ee}function utf16Text$1(te,ee){if((te.length-ee)%2===0){var re=te.toString("utf16le",ee);if(re){var ne=re.charCodeAt(re.length-1);if(ne>=55296&&ne<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=te[te.length-2],this.lastChar[1]=te[te.length-1],re.slice(0,-1)}return re}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=te[te.length-1],te.toString("utf16le",ee,te.length-1)}function utf16End$1(te){var ee=te&&te.length?this.write(te):"";if(this.lastNeed){var re=this.lastTotal-this.lastNeed;return ee+this.lastChar.toString("utf16le",0,re)}return ee}function base64Text$1(te,ee){var re=(te.length-ee)%3;return re===0?te.toString("base64",ee):(this.lastNeed=3-re,this.lastTotal=3,re===1?this.lastChar[0]=te[te.length-1]:(this.lastChar[0]=te[te.length-2],this.lastChar[1]=te[te.length-1]),te.toString("base64",ee,te.length-re))}function base64End$1(te){var ee=te&&te.length?this.write(te):"";return this.lastNeed?ee+this.lastChar.toString("base64",0,3-this.lastNeed):ee}function simpleWrite$1(te){return te.toString(this.encoding)}function simpleEnd$1(te){return te&&te.length?this.write(te):""}var ERR_STREAM_PREMATURE_CLOSE$1=errorsBrowser$1.codes.ERR_STREAM_PREMATURE_CLOSE;function once$4(te){var ee=!1;return function(){if(!ee){ee=!0;for(var re=arguments.length,ne=new Array(re),ie=0;ie<re;ie++)ne[ie]=arguments[ie];te.apply(this,ne)}}}function noop$8(){}function isRequest$3(te){return te.setHeader&&typeof te.abort=="function"}function eos$3(te,ee,re){if(typeof ee=="function")return eos$3(te,null,ee);ee||(ee={}),re=once$4(re||noop$8);var ne=ee.readable||ee.readable!==!1&&te.readable,ie=ee.writable||ee.writable!==!1&&te.writable,oe=function(){te.writable||ae()},se=te._writableState&&te._writableState.finished,ae=function(){ie=!1,se=!0,ne||re.call(te)},fe=te._readableState&&te._readableState.endEmitted,ue=function(){ne=!1,fe=!0,ie||re.call(te)},le=function(ar){re.call(te,ar)},pe=function(){var ar;if(ne&&!fe)return(!te._readableState||!te._readableState.ended)&&(ar=new ERR_STREAM_PREMATURE_CLOSE$1),re.call(te,ar);if(ie&&!se)return(!te._writableState||!te._writableState.ended)&&(ar=new ERR_STREAM_PREMATURE_CLOSE$1),re.call(te,ar)},rr=function(){te.req.on("finish",ae)};return isRequest$3(te)?(te.on("complete",ae),te.on("abort",pe),te.req?rr():te.on("request",rr)):ie&&!te._writableState&&(te.on("end",oe),te.on("close",oe)),te.on("end",ue),te.on("finish",ae),ee.error!==!1&&te.on("error",le),te.on("close",pe),function(){te.removeListener("complete",ae),te.removeListener("abort",pe),te.removeListener("request",rr),te.req&&te.req.removeListener("finish",ae),te.removeListener("end",oe),te.removeListener("close",oe),te.removeListener("finish",ae),te.removeListener("end",ue),te.removeListener("error",le),te.removeListener("close",pe)}}var endOfStream$1=eos$3,_Object$setPrototypeO$1;function _defineProperty$2(te,ee,re){return ee in te?Object.defineProperty(te,ee,{value:re,enumerable:!0,configurable:!0,writable:!0}):te[ee]=re,te}var finished$1=endOfStream$1,kLastResolve$1=Symbol("lastResolve"),kLastReject$1=Symbol("lastReject"),kError$1=Symbol("error"),kEnded$1=Symbol("ended"),kLastPromise$1=Symbol("lastPromise"),kHandlePromise$1=Symbol("handlePromise"),kStream$1=Symbol("stream");function createIterResult$1(te,ee){return{value:te,done:ee}}function readAndResolve$1(te){var ee=te[kLastResolve$1];if(ee!==null){var re=te[kStream$1].read();re!==null&&(te[kLastPromise$1]=null,te[kLastResolve$1]=null,te[kLastReject$1]=null,ee(createIterResult$1(re,!1)))}}function onReadable$1(te){process.nextTick(readAndResolve$1,te)}function wrapForNext$1(te,ee){return function(re,ne){te.then(function(){if(ee[kEnded$1]){re(createIterResult$1(void 0,!0));return}ee[kHandlePromise$1](re,ne)},ne)}}var AsyncIteratorPrototype$1=Object.getPrototypeOf(function(){}),ReadableStreamAsyncIteratorPrototype$1=Object.setPrototypeOf((_Object$setPrototypeO$1={get stream(){return this[kStream$1]},next:function(){var ee=this,re=this[kError$1];if(re!==null)return Promise.reject(re);if(this[kEnded$1])return Promise.resolve(createIterResult$1(void 0,!0));if(this[kStream$1].destroyed)return new Promise(function(se,ae){process.nextTick(function(){ee[kError$1]?ae(ee[kError$1]):se(createIterResult$1(void 0,!0))})});var ne=this[kLastPromise$1],ie;if(ne)ie=new Promise(wrapForNext$1(ne,this));else{var oe=this[kStream$1].read();if(oe!==null)return Promise.resolve(createIterResult$1(oe,!1));ie=new Promise(this[kHandlePromise$1])}return this[kLastPromise$1]=ie,ie}},_defineProperty$2(_Object$setPrototypeO$1,Symbol.asyncIterator,function(){return this}),_defineProperty$2(_Object$setPrototypeO$1,"return",function(){var ee=this;return new Promise(function(re,ne){ee[kStream$1].destroy(null,function(ie){if(ie){ne(ie);return}re(createIterResult$1(void 0,!0))})})}),_Object$setPrototypeO$1),AsyncIteratorPrototype$1),createReadableStreamAsyncIterator$3=function(ee){var re,ne=Object.create(ReadableStreamAsyncIteratorPrototype$1,(re={},_defineProperty$2(re,kStream$1,{value:ee,writable:!0}),_defineProperty$2(re,kLastResolve$1,{value:null,writable:!0}),_defineProperty$2(re,kLastReject$1,{value:null,writable:!0}),_defineProperty$2(re,kError$1,{value:null,writable:!0}),_defineProperty$2(re,kEnded$1,{value:ee._readableState.endEmitted,writable:!0}),_defineProperty$2(re,kHandlePromise$1,{value:function(oe,se){var ae=ne[kStream$1].read();ae?(ne[kLastPromise$1]=null,ne[kLastResolve$1]=null,ne[kLastReject$1]=null,oe(createIterResult$1(ae,!1))):(ne[kLastResolve$1]=oe,ne[kLastReject$1]=se)},writable:!0}),re));return ne[kLastPromise$1]=null,finished$1(ee,function(ie){if(ie&&ie.code!=="ERR_STREAM_PREMATURE_CLOSE"){var oe=ne[kLastReject$1];oe!==null&&(ne[kLastPromise$1]=null,ne[kLastResolve$1]=null,ne[kLastReject$1]=null,oe(ie)),ne[kError$1]=ie;return}var se=ne[kLastResolve$1];se!==null&&(ne[kLastPromise$1]=null,ne[kLastResolve$1]=null,ne[kLastReject$1]=null,se(createIterResult$1(void 0,!0))),ne[kEnded$1]=!0}),ee.on("readable",onReadable$1.bind(null,ne)),ne},async_iterator$1=createReadableStreamAsyncIterator$3,fromBrowser$1=function(){throw new Error("Readable.from is not available in the browser")},_stream_readable$1=Readable$2,Duplex$5;Readable$2.ReadableState=ReadableState$1;events$1.exports.EventEmitter;var EElistenerCount$1=function(ee,re){return ee.listeners(re).length},Stream$2=streamBrowser$1,Buffer$j=buffer$2.Buffer,OurUint8Array$2=commonjsGlobal$1.Uint8Array||function(){};function _uint8ArrayToBuffer$2(te){return Buffer$j.from(te)}function _isUint8Array$2(te){return Buffer$j.isBuffer(te)||te instanceof OurUint8Array$2}var debugUtil$1=require$$0$3,debug$1;debugUtil$1&&debugUtil$1.debuglog?debug$1=debugUtil$1.debuglog("stream"):debug$1=function(){};var BufferList$1=buffer_list$1,destroyImpl$2=destroy_1$1,_require$3=state$1,getHighWaterMark$3=_require$3.getHighWaterMark,_require$codes$6=errorsBrowser$1.codes,ERR_INVALID_ARG_TYPE$2=_require$codes$6.ERR_INVALID_ARG_TYPE,ERR_STREAM_PUSH_AFTER_EOF$1=_require$codes$6.ERR_STREAM_PUSH_AFTER_EOF,ERR_METHOD_NOT_IMPLEMENTED$4=_require$codes$6.ERR_METHOD_NOT_IMPLEMENTED,ERR_STREAM_UNSHIFT_AFTER_END_EVENT$1=_require$codes$6.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,StringDecoder$4,createReadableStreamAsyncIterator$2,from$3;inherits_browser$5.exports(Readable$2,Stream$2);var errorOrDestroy$3=destroyImpl$2.errorOrDestroy,kProxyEvents$1=["error","close","destroy","pause","resume"];function prependListener$1(te,ee,re){if(typeof te.prependListener=="function")return te.prependListener(ee,re);!te._events||!te._events[ee]?te.on(ee,re):Array.isArray(te._events[ee])?te._events[ee].unshift(re):te._events[ee]=[re,te._events[ee]]}function ReadableState$1(te,ee,re){Duplex$5=Duplex$5||_stream_duplex$1,te=te||{},typeof re!="boolean"&&(re=ee instanceof Duplex$5),this.objectMode=!!te.objectMode,re&&(this.objectMode=this.objectMode||!!te.readableObjectMode),this.highWaterMark=getHighWaterMark$3(this,te,"readableHighWaterMark",re),this.buffer=new BufferList$1,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=te.emitClose!==!1,this.autoDestroy=!!te.autoDestroy,this.destroyed=!1,this.defaultEncoding=te.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,te.encoding&&(StringDecoder$4||(StringDecoder$4=string_decoder$2.StringDecoder),this.decoder=new StringDecoder$4(te.encoding),this.encoding=te.encoding)}function Readable$2(te){if(Duplex$5=Duplex$5||_stream_duplex$1,!(this instanceof Readable$2))return new Readable$2(te);var ee=this instanceof Duplex$5;this._readableState=new ReadableState$1(te,this,ee),this.readable=!0,te&&(typeof te.read=="function"&&(this._read=te.read),typeof te.destroy=="function"&&(this._destroy=te.destroy)),Stream$2.call(this)}Object.defineProperty(Readable$2.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ee){!this._readableState||(this._readableState.destroyed=ee)}});Readable$2.prototype.destroy=destroyImpl$2.destroy;Readable$2.prototype._undestroy=destroyImpl$2.undestroy;Readable$2.prototype._destroy=function(te,ee){ee(te)};Readable$2.prototype.push=function(te,ee){var re=this._readableState,ne;return re.objectMode?ne=!0:typeof te=="string"&&(ee=ee||re.defaultEncoding,ee!==re.encoding&&(te=Buffer$j.from(te,ee),ee=""),ne=!0),readableAddChunk$1(this,te,ee,!1,ne)};Readable$2.prototype.unshift=function(te){return readableAddChunk$1(this,te,null,!0,!1)};function readableAddChunk$1(te,ee,re,ne,ie){debug$1("readableAddChunk",ee);var oe=te._readableState;if(ee===null)oe.reading=!1,onEofChunk$1(te,oe);else{var se;if(ie||(se=chunkInvalid$1(oe,ee)),se)errorOrDestroy$3(te,se);else if(oe.objectMode||ee&&ee.length>0)if(typeof ee!="string"&&!oe.objectMode&&Object.getPrototypeOf(ee)!==Buffer$j.prototype&&(ee=_uint8ArrayToBuffer$2(ee)),ne)oe.endEmitted?errorOrDestroy$3(te,new ERR_STREAM_UNSHIFT_AFTER_END_EVENT$1):addChunk$1(te,oe,ee,!0);else if(oe.ended)errorOrDestroy$3(te,new ERR_STREAM_PUSH_AFTER_EOF$1);else{if(oe.destroyed)return!1;oe.reading=!1,oe.decoder&&!re?(ee=oe.decoder.write(ee),oe.objectMode||ee.length!==0?addChunk$1(te,oe,ee,!1):maybeReadMore$1(te,oe)):addChunk$1(te,oe,ee,!1)}else ne||(oe.reading=!1,maybeReadMore$1(te,oe))}return!oe.ended&&(oe.length<oe.highWaterMark||oe.length===0)}function addChunk$1(te,ee,re,ne){ee.flowing&&ee.length===0&&!ee.sync?(ee.awaitDrain=0,te.emit("data",re)):(ee.length+=ee.objectMode?1:re.length,ne?ee.buffer.unshift(re):ee.buffer.push(re),ee.needReadable&&emitReadable$1(te)),maybeReadMore$1(te,ee)}function chunkInvalid$1(te,ee){var re;return!_isUint8Array$2(ee)&&typeof ee!="string"&&ee!==void 0&&!te.objectMode&&(re=new ERR_INVALID_ARG_TYPE$2("chunk",["string","Buffer","Uint8Array"],ee)),re}Readable$2.prototype.isPaused=function(){return this._readableState.flowing===!1};Readable$2.prototype.setEncoding=function(te){StringDecoder$4||(StringDecoder$4=string_decoder$2.StringDecoder);var ee=new StringDecoder$4(te);this._readableState.decoder=ee,this._readableState.encoding=this._readableState.decoder.encoding;for(var re=this._readableState.buffer.head,ne="";re!==null;)ne+=ee.write(re.data),re=re.next;return this._readableState.buffer.clear(),ne!==""&&this._readableState.buffer.push(ne),this._readableState.length=ne.length,this};var MAX_HWM$1=1073741824;function computeNewHighWaterMark$1(te){return te>=MAX_HWM$1?te=MAX_HWM$1:(te--,te|=te>>>1,te|=te>>>2,te|=te>>>4,te|=te>>>8,te|=te>>>16,te++),te}function howMuchToRead$1(te,ee){return te<=0||ee.length===0&&ee.ended?0:ee.objectMode?1:te!==te?ee.flowing&&ee.length?ee.buffer.head.data.length:ee.length:(te>ee.highWaterMark&&(ee.highWaterMark=computeNewHighWaterMark$1(te)),te<=ee.length?te:ee.ended?ee.length:(ee.needReadable=!0,0))}Readable$2.prototype.read=function(te){debug$1("read",te),te=parseInt(te,10);var ee=this._readableState,re=te;if(te!==0&&(ee.emittedReadable=!1),te===0&&ee.needReadable&&((ee.highWaterMark!==0?ee.length>=ee.highWaterMark:ee.length>0)||ee.ended))return debug$1("read: emitReadable",ee.length,ee.ended),ee.length===0&&ee.ended?endReadable$1(this):emitReadable$1(this),null;if(te=howMuchToRead$1(te,ee),te===0&&ee.ended)return ee.length===0&&endReadable$1(this),null;var ne=ee.needReadable;debug$1("need readable",ne),(ee.length===0||ee.length-te<ee.highWaterMark)&&(ne=!0,debug$1("length less than watermark",ne)),ee.ended||ee.reading?(ne=!1,debug$1("reading or ended",ne)):ne&&(debug$1("do read"),ee.reading=!0,ee.sync=!0,ee.length===0&&(ee.needReadable=!0),this._read(ee.highWaterMark),ee.sync=!1,ee.reading||(te=howMuchToRead$1(re,ee)));var ie;return te>0?ie=fromList$1(te,ee):ie=null,ie===null?(ee.needReadable=ee.length<=ee.highWaterMark,te=0):(ee.length-=te,ee.awaitDrain=0),ee.length===0&&(ee.ended||(ee.needReadable=!0),re!==te&&ee.ended&&endReadable$1(this)),ie!==null&&this.emit("data",ie),ie};function onEofChunk$1(te,ee){if(debug$1("onEofChunk"),!ee.ended){if(ee.decoder){var re=ee.decoder.end();re&&re.length&&(ee.buffer.push(re),ee.length+=ee.objectMode?1:re.length)}ee.ended=!0,ee.sync?emitReadable$1(te):(ee.needReadable=!1,ee.emittedReadable||(ee.emittedReadable=!0,emitReadable_$1(te)))}}function emitReadable$1(te){var ee=te._readableState;debug$1("emitReadable",ee.needReadable,ee.emittedReadable),ee.needReadable=!1,ee.emittedReadable||(debug$1("emitReadable",ee.flowing),ee.emittedReadable=!0,process.nextTick(emitReadable_$1,te))}function emitReadable_$1(te){var ee=te._readableState;debug$1("emitReadable_",ee.destroyed,ee.length,ee.ended),!ee.destroyed&&(ee.length||ee.ended)&&(te.emit("readable"),ee.emittedReadable=!1),ee.needReadable=!ee.flowing&&!ee.ended&&ee.length<=ee.highWaterMark,flow$1(te)}function maybeReadMore$1(te,ee){ee.readingMore||(ee.readingMore=!0,process.nextTick(maybeReadMore_$1,te,ee))}function maybeReadMore_$1(te,ee){for(;!ee.reading&&!ee.ended&&(ee.length<ee.highWaterMark||ee.flowing&&ee.length===0);){var re=ee.length;if(debug$1("maybeReadMore read 0"),te.read(0),re===ee.length)break}ee.readingMore=!1}Readable$2.prototype._read=function(te){errorOrDestroy$3(this,new ERR_METHOD_NOT_IMPLEMENTED$4("_read()"))};Readable$2.prototype.pipe=function(te,ee){var re=this,ne=this._readableState;switch(ne.pipesCount){case 0:ne.pipes=te;break;case 1:ne.pipes=[ne.pipes,te];break;default:ne.pipes.push(te);break}ne.pipesCount+=1,debug$1("pipe count=%d opts=%j",ne.pipesCount,ee);var ie=(!ee||ee.end!==!1)&&te!==process.stdout&&te!==process.stderr,oe=ie?ae:mr;ne.endEmitted?process.nextTick(oe):re.once("end",oe),te.on("unpipe",se);function se(pr,yr){debug$1("onunpipe"),pr===re&&yr&&yr.hasUnpiped===!1&&(yr.hasUnpiped=!0,le())}function ae(){debug$1("onend"),te.end()}var fe=pipeOnDrain$1(re);te.on("drain",fe);var ue=!1;function le(){debug$1("cleanup"),te.removeListener("close",cr),te.removeListener("finish",ar),te.removeListener("drain",fe),te.removeListener("error",rr),te.removeListener("unpipe",se),re.removeListener("end",ae),re.removeListener("end",mr),re.removeListener("data",pe),ue=!0,ne.awaitDrain&&(!te._writableState||te._writableState.needDrain)&&fe()}re.on("data",pe);function pe(pr){debug$1("ondata");var yr=te.write(pr);debug$1("dest.write",yr),yr===!1&&((ne.pipesCount===1&&ne.pipes===te||ne.pipesCount>1&&indexOf$1(ne.pipes,te)!==-1)&&!ue&&(debug$1("false write response, pause",ne.awaitDrain),ne.awaitDrain++),re.pause())}function rr(pr){debug$1("onerror",pr),mr(),te.removeListener("error",rr),EElistenerCount$1(te,"error")===0&&errorOrDestroy$3(te,pr)}prependListener$1(te,"error",rr);function cr(){te.removeListener("finish",ar),mr()}te.once("close",cr);function ar(){debug$1("onfinish"),te.removeListener("close",cr),mr()}te.once("finish",ar);function mr(){debug$1("unpipe"),re.unpipe(te)}return te.emit("pipe",re),ne.flowing||(debug$1("pipe resume"),re.resume()),te};function pipeOnDrain$1(te){return function(){var re=te._readableState;debug$1("pipeOnDrain",re.awaitDrain),re.awaitDrain&&re.awaitDrain--,re.awaitDrain===0&&EElistenerCount$1(te,"data")&&(re.flowing=!0,flow$1(te))}}Readable$2.prototype.unpipe=function(te){var ee=this._readableState,re={hasUnpiped:!1};if(ee.pipesCount===0)return this;if(ee.pipesCount===1)return te&&te!==ee.pipes?this:(te||(te=ee.pipes),ee.pipes=null,ee.pipesCount=0,ee.flowing=!1,te&&te.emit("unpipe",this,re),this);if(!te){var ne=ee.pipes,ie=ee.pipesCount;ee.pipes=null,ee.pipesCount=0,ee.flowing=!1;for(var oe=0;oe<ie;oe++)ne[oe].emit("unpipe",this,{hasUnpiped:!1});return this}var se=indexOf$1(ee.pipes,te);return se===-1?this:(ee.pipes.splice(se,1),ee.pipesCount-=1,ee.pipesCount===1&&(ee.pipes=ee.pipes[0]),te.emit("unpipe",this,re),this)};Readable$2.prototype.on=function(te,ee){var re=Stream$2.prototype.on.call(this,te,ee),ne=this._readableState;return te==="data"?(ne.readableListening=this.listenerCount("readable")>0,ne.flowing!==!1&&this.resume()):te==="readable"&&!ne.endEmitted&&!ne.readableListening&&(ne.readableListening=ne.needReadable=!0,ne.flowing=!1,ne.emittedReadable=!1,debug$1("on readable",ne.length,ne.reading),ne.length?emitReadable$1(this):ne.reading||process.nextTick(nReadingNextTick$1,this)),re};Readable$2.prototype.addListener=Readable$2.prototype.on;Readable$2.prototype.removeListener=function(te,ee){var re=Stream$2.prototype.removeListener.call(this,te,ee);return te==="readable"&&process.nextTick(updateReadableListening$1,this),re};Readable$2.prototype.removeAllListeners=function(te){var ee=Stream$2.prototype.removeAllListeners.apply(this,arguments);return(te==="readable"||te===void 0)&&process.nextTick(updateReadableListening$1,this),ee};function updateReadableListening$1(te){var ee=te._readableState;ee.readableListening=te.listenerCount("readable")>0,ee.resumeScheduled&&!ee.paused?ee.flowing=!0:te.listenerCount("data")>0&&te.resume()}function nReadingNextTick$1(te){debug$1("readable nexttick read 0"),te.read(0)}Readable$2.prototype.resume=function(){var te=this._readableState;return te.flowing||(debug$1("resume"),te.flowing=!te.readableListening,resume$1(this,te)),te.paused=!1,this};function resume$1(te,ee){ee.resumeScheduled||(ee.resumeScheduled=!0,process.nextTick(resume_$1,te,ee))}function resume_$1(te,ee){debug$1("resume",ee.reading),ee.reading||te.read(0),ee.resumeScheduled=!1,te.emit("resume"),flow$1(te),ee.flowing&&!ee.reading&&te.read(0)}Readable$2.prototype.pause=function(){return debug$1("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(debug$1("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function flow$1(te){var ee=te._readableState;for(debug$1("flow",ee.flowing);ee.flowing&&te.read()!==null;);}Readable$2.prototype.wrap=function(te){var ee=this,re=this._readableState,ne=!1;te.on("end",function(){if(debug$1("wrapped end"),re.decoder&&!re.ended){var se=re.decoder.end();se&&se.length&&ee.push(se)}ee.push(null)}),te.on("data",function(se){if(debug$1("wrapped data"),re.decoder&&(se=re.decoder.write(se)),!(re.objectMode&&se==null)&&!(!re.objectMode&&(!se||!se.length))){var ae=ee.push(se);ae||(ne=!0,te.pause())}});for(var ie in te)this[ie]===void 0&&typeof te[ie]=="function"&&(this[ie]=function(ae){return function(){return te[ae].apply(te,arguments)}}(ie));for(var oe=0;oe<kProxyEvents$1.length;oe++)te.on(kProxyEvents$1[oe],this.emit.bind(this,kProxyEvents$1[oe]));return this._read=function(se){debug$1("wrapped _read",se),ne&&(ne=!1,te.resume())},this};typeof Symbol=="function"&&(Readable$2.prototype[Symbol.asyncIterator]=function(){return createReadableStreamAsyncIterator$2===void 0&&(createReadableStreamAsyncIterator$2=async_iterator$1),createReadableStreamAsyncIterator$2(this)});Object.defineProperty(Readable$2.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Readable$2.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Readable$2.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ee){this._readableState&&(this._readableState.flowing=ee)}});Readable$2._fromList=fromList$1;Object.defineProperty(Readable$2.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function fromList$1(te,ee){if(ee.length===0)return null;var re;return ee.objectMode?re=ee.buffer.shift():!te||te>=ee.length?(ee.decoder?re=ee.buffer.join(""):ee.buffer.length===1?re=ee.buffer.first():re=ee.buffer.concat(ee.length),ee.buffer.clear()):re=ee.buffer.consume(te,ee.decoder),re}function endReadable$1(te){var ee=te._readableState;debug$1("endReadable",ee.endEmitted),ee.endEmitted||(ee.ended=!0,process.nextTick(endReadableNT$1,ee,te))}function endReadableNT$1(te,ee){if(debug$1("endReadableNT",te.endEmitted,te.length),!te.endEmitted&&te.length===0&&(te.endEmitted=!0,ee.readable=!1,ee.emit("end"),te.autoDestroy)){var re=ee._writableState;(!re||re.autoDestroy&&re.finished)&&ee.destroy()}}typeof Symbol=="function"&&(Readable$2.from=function(te,ee){return from$3===void 0&&(from$3=fromBrowser$1),from$3(Readable$2,te,ee)});function indexOf$1(te,ee){for(var re=0,ne=te.length;re<ne;re++)if(te[re]===ee)return re;return-1}var _stream_transform$1=Transform$7,_require$codes$5=errorsBrowser$1.codes,ERR_METHOD_NOT_IMPLEMENTED$3=_require$codes$5.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK$2=_require$codes$5.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING$1=_require$codes$5.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0$1=_require$codes$5.ERR_TRANSFORM_WITH_LENGTH_0,Duplex$4=_stream_duplex$1;inherits_browser$5.exports(Transform$7,Duplex$4);function afterTransform$1(te,ee){var re=this._transformState;re.transforming=!1;var ne=re.writecb;if(ne===null)return this.emit("error",new ERR_MULTIPLE_CALLBACK$2);re.writechunk=null,re.writecb=null,ee!=null&&this.push(ee),ne(te);var ie=this._readableState;ie.reading=!1,(ie.needReadable||ie.length<ie.highWaterMark)&&this._read(ie.highWaterMark)}function Transform$7(te){if(!(this instanceof Transform$7))return new Transform$7(te);Duplex$4.call(this,te),this._transformState={afterTransform:afterTransform$1.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,te&&(typeof te.transform=="function"&&(this._transform=te.transform),typeof te.flush=="function"&&(this._flush=te.flush)),this.on("prefinish",prefinish$2)}function prefinish$2(){var te=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(ee,re){done$1(te,ee,re)}):done$1(this,null,null)}Transform$7.prototype.push=function(te,ee){return this._transformState.needTransform=!1,Duplex$4.prototype.push.call(this,te,ee)};Transform$7.prototype._transform=function(te,ee,re){re(new ERR_METHOD_NOT_IMPLEMENTED$3("_transform()"))};Transform$7.prototype._write=function(te,ee,re){var ne=this._transformState;if(ne.writecb=re,ne.writechunk=te,ne.writeencoding=ee,!ne.transforming){var ie=this._readableState;(ne.needTransform||ie.needReadable||ie.length<ie.highWaterMark)&&this._read(ie.highWaterMark)}};Transform$7.prototype._read=function(te){var ee=this._transformState;ee.writechunk!==null&&!ee.transforming?(ee.transforming=!0,this._transform(ee.writechunk,ee.writeencoding,ee.afterTransform)):ee.needTransform=!0};Transform$7.prototype._destroy=function(te,ee){Duplex$4.prototype._destroy.call(this,te,function(re){ee(re)})};function done$1(te,ee,re){if(ee)return te.emit("error",ee);if(re!=null&&te.push(re),te._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0$1;if(te._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING$1;return te.push(null)}var _stream_passthrough$1=PassThrough$1,Transform$6=_stream_transform$1;inherits_browser$5.exports(PassThrough$1,Transform$6);function PassThrough$1(te){if(!(this instanceof PassThrough$1))return new PassThrough$1(te);Transform$6.call(this,te)}PassThrough$1.prototype._transform=function(te,ee,re){re(null,te)};var eos$2;function once$3(te){var ee=!1;return function(){ee||(ee=!0,te.apply(void 0,arguments))}}var _require$codes$4=errorsBrowser$1.codes,ERR_MISSING_ARGS$1=_require$codes$4.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED$2=_require$codes$4.ERR_STREAM_DESTROYED;function noop$7(te){if(te)throw te}function isRequest$2(te){return te.setHeader&&typeof te.abort=="function"}function destroyer$1(te,ee,re,ne){ne=once$3(ne);var ie=!1;te.on("close",function(){ie=!0}),eos$2===void 0&&(eos$2=endOfStream$1),eos$2(te,{readable:ee,writable:re},function(se){if(se)return ne(se);ie=!0,ne()});var oe=!1;return function(se){if(!ie&&!oe){if(oe=!0,isRequest$2(te))return te.abort();if(typeof te.destroy=="function")return te.destroy();ne(se||new ERR_STREAM_DESTROYED$2("pipe"))}}}function call$1(te){te()}function pipe$2(te,ee){return te.pipe(ee)}function popCallback$1(te){return!te.length||typeof te[te.length-1]!="function"?noop$7:te.pop()}function pipeline$1(){for(var te=arguments.length,ee=new Array(te),re=0;re<te;re++)ee[re]=arguments[re];var ne=popCallback$1(ee);if(Array.isArray(ee[0])&&(ee=ee[0]),ee.length<2)throw new ERR_MISSING_ARGS$1("streams");var ie,oe=ee.map(function(se,ae){var fe=ae<ee.length-1,ue=ae>0;return destroyer$1(se,fe,ue,function(le){ie||(ie=le),le&&oe.forEach(call$1),!fe&&(oe.forEach(call$1),ne(ie))})});return ee.reduce(pipe$2)}var pipeline_1$1=pipeline$1;(function(te,ee){ee=te.exports=_stream_readable$1,ee.Stream=ee,ee.Readable=ee,ee.Writable=_stream_writable$1,ee.Duplex=_stream_duplex$1,ee.Transform=_stream_transform$1,ee.PassThrough=_stream_passthrough$1,ee.finished=endOfStream$1,ee.pipeline=pipeline_1$1})(readableBrowser$1,readableBrowser$1.exports);const{Transform:Transform$5}=readableBrowser$1.exports;var keccak$2=te=>class Yi extends Transform$5{constructor(re,ne,ie,oe,se){super(se);this._rate=re,this._capacity=ne,this._delimitedSuffix=ie,this._hashBitLength=oe,this._options=se,this._state=new te,this._state.initialize(re,ne),this._finalized=!1}_transform(re,ne,ie){let oe=null;try{this.update(re,ne)}catch(se){oe=se}ie(oe)}_flush(re){let ne=null;try{this.push(this.digest())}catch(ie){ne=ie}re(ne)}update(re,ne){if(!buffer$2.Buffer.isBuffer(re)&&typeof re!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return buffer$2.Buffer.isBuffer(re)||(re=buffer$2.Buffer.from(re,ne)),this._state.absorb(re),this}digest(re){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let ne=this._state.squeeze(this._hashBitLength/8);return re!==void 0&&(ne=ne.toString(re)),this._resetState(),ne}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const re=new Yi(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(re._state),re._finalized=this._finalized,re}};const{Transform:Transform$4}=readableBrowser$1.exports;var shake=te=>class Xi extends Transform$4{constructor(re,ne,ie,oe){super(oe);this._rate=re,this._capacity=ne,this._delimitedSuffix=ie,this._options=oe,this._state=new te,this._state.initialize(re,ne),this._finalized=!1}_transform(re,ne,ie){let oe=null;try{this.update(re,ne)}catch(se){oe=se}ie(oe)}_flush(){}_read(re){this.push(this.squeeze(re))}update(re,ne){if(!buffer$2.Buffer.isBuffer(re)&&typeof re!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return buffer$2.Buffer.isBuffer(re)||(re=buffer$2.Buffer.from(re,ne)),this._state.absorb(re),this}squeeze(re,ne){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let ie=this._state.squeeze(re);return ne!==void 0&&(ie=ie.toString(ne)),ie}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const re=new Xi(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(re._state),re._finalized=this._finalized,re}};const createKeccak=keccak$2,createShake=shake;var api=function(te){const ee=createKeccak(te),re=createShake(te);return function(ne,ie){switch(typeof ne=="string"?ne.toLowerCase():ne){case"keccak224":return new ee(1152,448,null,224,ie);case"keccak256":return new ee(1088,512,null,256,ie);case"keccak384":return new ee(832,768,null,384,ie);case"keccak512":return new ee(576,1024,null,512,ie);case"sha3-224":return new ee(1152,448,6,224,ie);case"sha3-256":return new ee(1088,512,6,256,ie);case"sha3-384":return new ee(832,768,6,384,ie);case"sha3-512":return new ee(576,1024,6,512,ie);case"shake128":return new re(1344,256,31,ie);case"shake256":return new re(1088,512,31,ie);default:throw new Error("Invald algorithm: "+ne)}}},keccakStateUnroll={};const P1600_ROUND_CONSTANTS=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];keccakStateUnroll.p1600=function(te){for(let ee=0;ee<24;++ee){const re=te[0]^te[10]^te[20]^te[30]^te[40],ne=te[1]^te[11]^te[21]^te[31]^te[41],ie=te[2]^te[12]^te[22]^te[32]^te[42],oe=te[3]^te[13]^te[23]^te[33]^te[43],se=te[4]^te[14]^te[24]^te[34]^te[44],ae=te[5]^te[15]^te[25]^te[35]^te[45],fe=te[6]^te[16]^te[26]^te[36]^te[46],ue=te[7]^te[17]^te[27]^te[37]^te[47],le=te[8]^te[18]^te[28]^te[38]^te[48],pe=te[9]^te[19]^te[29]^te[39]^te[49];let rr=le^(ie<<1|oe>>>31),cr=pe^(oe<<1|ie>>>31);const ar=te[0]^rr,mr=te[1]^cr,pr=te[10]^rr,yr=te[11]^cr,vr=te[20]^rr,Er=te[21]^cr,Tr=te[30]^rr,Ir=te[31]^cr,Or=te[40]^rr,Hr=te[41]^cr;rr=re^(se<<1|ae>>>31),cr=ne^(ae<<1|se>>>31);const Pr=te[2]^rr,Br=te[3]^cr,Nr=te[12]^rr,dr=te[13]^cr,tr=te[22]^rr,ve=te[23]^cr,ce=te[32]^rr,me=te[33]^cr,ir=te[42]^rr,ur=te[43]^cr;rr=ie^(fe<<1|ue>>>31),cr=oe^(ue<<1|fe>>>31);const lr=te[4]^rr,er=te[5]^cr,nr=te[14]^rr,or=te[15]^cr,ye=te[24]^rr,gr=te[25]^cr,Ar=te[34]^rr,br=te[35]^cr,Cr=te[44]^rr,Lr=te[45]^cr;rr=se^(le<<1|pe>>>31),cr=ae^(pe<<1|le>>>31);const Dr=te[6]^rr,Wr=te[7]^cr,Qr=te[16]^rr,Zr=te[17]^cr,Xr=te[26]^rr,Fr=te[27]^cr,Ur=te[36]^rr,Kr=te[37]^cr,kr=te[46]^rr,_r=te[47]^cr;rr=fe^(re<<1|ne>>>31),cr=ue^(ne<<1|re>>>31);const $r=te[8]^rr,Mr=te[9]^cr,jr=te[18]^rr,qr=te[19]^cr,Jr=te[28]^rr,qn=te[29]^cr,zn=te[38]^rr,Xn=te[39]^cr,Jn=te[48]^rr,Rr=te[49]^cr,xr=ar,wr=mr,Sr=yr<<4|pr>>>28,Gr=pr<<4|yr>>>28,Vr=vr<<3|Er>>>29,Yr=Er<<3|vr>>>29,Qn=Ir<<9|Tr>>>23,ei=Tr<<9|Ir>>>23,Zn=Or<<18|Hr>>>14,bi=Hr<<18|Or>>>14,ti=Pr<<1|Br>>>31,ri=Br<<1|Pr>>>31,xi=dr<<12|Nr>>>20,li=Nr<<12|dr>>>20,ni=tr<<10|ve>>>22,wi=ve<<10|tr>>>22,ci=me<<13|ce>>>19,ii=ce<<13|me>>>19,$i=ir<<2|ur>>>30,hi=ur<<2|ir>>>30,oi=er<<30|lr>>>2,Ei=lr<<30|er>>>2,di=nr<<6|or>>>26,si=or<<6|nr>>>26,Si=gr<<11|ye>>>21,pi=ye<<11|gr>>>21,ai=Ar<<15|br>>>17,Ai=br<<15|Ar>>>17,gi=Lr<<29|Cr>>>3,fi=Cr<<29|Lr>>>3,Ri=Dr<<28|Wr>>>4,mi=Wr<<28|Dr>>>4,ui=Zr<<23|Qr>>>9,_i=Qr<<23|Zr>>>9,yi=Xr<<25|Fr>>>7,vi=Fr<<25|Xr>>>7,Ni=Ur<<21|Kr>>>11,Mi=Kr<<21|Ur>>>11,Ci=_r<<24|kr>>>8,Ti=kr<<24|_r>>>8,ki=$r<<27|Mr>>>5,Ii=Mr<<27|$r>>>5,Pi=jr<<20|qr>>>12,Oi=qr<<20|jr>>>12,Bi=qn<<7|Jr>>>25,Li=Jr<<7|qn>>>25,Di=zn<<8|Xn>>>24,Fi=Xn<<8|zn>>>24,Ui=Jn<<14|Rr>>>18,ji=Rr<<14|Jn>>>18;te[0]=xr^~xi&Si,te[1]=wr^~li&pi,te[10]=Ri^~Pi&Vr,te[11]=mi^~Oi&Yr,te[20]=ti^~di&yi,te[21]=ri^~si&vi,te[30]=ki^~Sr&ni,te[31]=Ii^~Gr&wi,te[40]=oi^~ui&Bi,te[41]=Ei^~_i&Li,te[2]=xi^~Si&Ni,te[3]=li^~pi&Mi,te[12]=Pi^~Vr&ci,te[13]=Oi^~Yr&ii,te[22]=di^~yi&Di,te[23]=si^~vi&Fi,te[32]=Sr^~ni&ai,te[33]=Gr^~wi&Ai,te[42]=ui^~Bi&Qn,te[43]=_i^~Li&ei,te[4]=Si^~Ni&Ui,te[5]=pi^~Mi&ji,te[14]=Vr^~ci&gi,te[15]=Yr^~ii&fi,te[24]=yi^~Di&Zn,te[25]=vi^~Fi&bi,te[34]=ni^~ai&Ci,te[35]=wi^~Ai&Ti,te[44]=Bi^~Qn&$i,te[45]=Li^~ei&hi,te[6]=Ni^~Ui&xr,te[7]=Mi^~ji&wr,te[16]=ci^~gi&Ri,te[17]=ii^~fi&mi,te[26]=Di^~Zn&ti,te[27]=Fi^~bi&ri,te[36]=ai^~Ci&ki,te[37]=Ai^~Ti&Ii,te[46]=Qn^~$i&oi,te[47]=ei^~hi&Ei,te[8]=Ui^~xr&xi,te[9]=ji^~wr&li,te[18]=gi^~Ri&Pi,te[19]=fi^~mi&Oi,te[28]=Zn^~ti&di,te[29]=bi^~ri&si,te[38]=Ci^~ki&Sr,te[39]=Ti^~Ii&Gr,te[48]=$i^~oi&ui,te[49]=hi^~Ei&_i,te[0]^=P1600_ROUND_CONSTANTS[ee*2],te[1]^=P1600_ROUND_CONSTANTS[ee*2+1]}};const keccakState=keccakStateUnroll;function Keccak(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Keccak.prototype.initialize=function(te,ee){for(let re=0;re<50;++re)this.state[re]=0;this.blockSize=te/8,this.count=0,this.squeezing=!1};Keccak.prototype.absorb=function(te){for(let ee=0;ee<te.length;++ee)this.state[~~(this.count/4)]^=te[ee]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(keccakState.p1600(this.state),this.count=0)};Keccak.prototype.absorbLastFewBits=function(te){this.state[~~(this.count/4)]^=te<<8*(this.count%4),(te&128)!==0&&this.count===this.blockSize-1&&keccakState.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),keccakState.p1600(this.state),this.count=0,this.squeezing=!0};Keccak.prototype.squeeze=function(te){this.squeezing||this.absorbLastFewBits(1);const ee=buffer$2.Buffer.alloc(te);for(let re=0;re<te;++re)ee[re]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(keccakState.p1600(this.state),this.count=0);return ee};Keccak.prototype.copy=function(te){for(let ee=0;ee<50;++ee)te.state[ee]=this.state[ee];te.blockSize=this.blockSize,te.count=this.count,te.squeezing=this.squeezing};var keccak$1=Keccak,js=api(keccak$1);Object.defineProperty(keccak$3,"__esModule",{value:!0});var hash_utils_1=hashUtils,createKeccakHash$1=js;keccak$3.keccak224=hash_utils_1.createHashFunction(function(){return createKeccakHash$1("keccak224")});keccak$3.keccak256=hash_utils_1.createHashFunction(function(){return createKeccakHash$1("keccak256")});keccak$3.keccak384=hash_utils_1.createHashFunction(function(){return createKeccakHash$1("keccak384")});keccak$3.keccak512=hash_utils_1.createHashFunction(function(){return createKeccakHash$1("keccak512")});var secp256k1$2={};const errors$3={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function assert$d(te,ee){if(!te)throw new Error(ee)}function isUint8Array(te,ee,re){if(assert$d(ee instanceof Uint8Array,`Expected ${te} to be an Uint8Array`),re!==void 0)if(Array.isArray(re)){const ne=re.join(", "),ie=`Expected ${te} to be an Uint8Array with length [${ne}]`;assert$d(re.includes(ee.length),ie)}else{const ne=`Expected ${te} to be an Uint8Array with length ${re}`;assert$d(ee.length===re,ne)}}function isCompressed(te){assert$d(toTypeString(te)==="Boolean","Expected compressed to be a Boolean")}function getAssertedOutput(te=re=>new Uint8Array(re),ee){return typeof te=="function"&&(te=te(ee)),isUint8Array("output",te,ee),te}function toTypeString(te){return Object.prototype.toString.call(te).slice(8,-1)}var lib$3=te=>({contextRandomize(ee){switch(assert$d(ee===null||ee instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),ee!==null&&isUint8Array("seed",ee,32),te.contextRandomize(ee)){case 1:throw new Error(errors$3.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(ee){return isUint8Array("private key",ee,32),te.privateKeyVerify(ee)===0},privateKeyNegate(ee){switch(isUint8Array("private key",ee,32),te.privateKeyNegate(ee)){case 0:return ee;case 1:throw new Error(errors$3.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(ee,re){switch(isUint8Array("private key",ee,32),isUint8Array("tweak",re,32),te.privateKeyTweakAdd(ee,re)){case 0:return ee;case 1:throw new Error(errors$3.TWEAK_ADD)}},privateKeyTweakMul(ee,re){switch(isUint8Array("private key",ee,32),isUint8Array("tweak",re,32),te.privateKeyTweakMul(ee,re)){case 0:return ee;case 1:throw new Error(errors$3.TWEAK_MUL)}},publicKeyVerify(ee){return isUint8Array("public key",ee,[33,65]),te.publicKeyVerify(ee)===0},publicKeyCreate(ee,re=!0,ne){switch(isUint8Array("private key",ee,32),isCompressed(re),ne=getAssertedOutput(ne,re?33:65),te.publicKeyCreate(ne,ee)){case 0:return ne;case 1:throw new Error(errors$3.SECKEY_INVALID);case 2:throw new Error(errors$3.PUBKEY_SERIALIZE)}},publicKeyConvert(ee,re=!0,ne){switch(isUint8Array("public key",ee,[33,65]),isCompressed(re),ne=getAssertedOutput(ne,re?33:65),te.publicKeyConvert(ne,ee)){case 0:return ne;case 1:throw new Error(errors$3.PUBKEY_PARSE);case 2:throw new Error(errors$3.PUBKEY_SERIALIZE)}},publicKeyNegate(ee,re=!0,ne){switch(isUint8Array("public key",ee,[33,65]),isCompressed(re),ne=getAssertedOutput(ne,re?33:65),te.publicKeyNegate(ne,ee)){case 0:return ne;case 1:throw new Error(errors$3.PUBKEY_PARSE);case 2:throw new Error(errors$3.IMPOSSIBLE_CASE);case 3:throw new Error(errors$3.PUBKEY_SERIALIZE)}},publicKeyCombine(ee,re=!0,ne){assert$d(Array.isArray(ee),"Expected public keys to be an Array"),assert$d(ee.length>0,"Expected public keys array will have more than zero items");for(const ie of ee)isUint8Array("public key",ie,[33,65]);switch(isCompressed(re),ne=getAssertedOutput(ne,re?33:65),te.publicKeyCombine(ne,ee)){case 0:return ne;case 1:throw new Error(errors$3.PUBKEY_PARSE);case 2:throw new Error(errors$3.PUBKEY_COMBINE);case 3:throw new Error(errors$3.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(ee,re,ne=!0,ie){switch(isUint8Array("public key",ee,[33,65]),isUint8Array("tweak",re,32),isCompressed(ne),ie=getAssertedOutput(ie,ne?33:65),te.publicKeyTweakAdd(ie,ee,re)){case 0:return ie;case 1:throw new Error(errors$3.PUBKEY_PARSE);case 2:throw new Error(errors$3.TWEAK_ADD)}},publicKeyTweakMul(ee,re,ne=!0,ie){switch(isUint8Array("public key",ee,[33,65]),isUint8Array("tweak",re,32),isCompressed(ne),ie=getAssertedOutput(ie,ne?33:65),te.publicKeyTweakMul(ie,ee,re)){case 0:return ie;case 1:throw new Error(errors$3.PUBKEY_PARSE);case 2:throw new Error(errors$3.TWEAK_MUL)}},signatureNormalize(ee){switch(isUint8Array("signature",ee,64),te.signatureNormalize(ee)){case 0:return ee;case 1:throw new Error(errors$3.SIG_PARSE)}},signatureExport(ee,re){isUint8Array("signature",ee,64),re=getAssertedOutput(re,72);const ne={output:re,outputlen:72};switch(te.signatureExport(ne,ee)){case 0:return re.slice(0,ne.outputlen);case 1:throw new Error(errors$3.SIG_PARSE);case 2:throw new Error(errors$3.IMPOSSIBLE_CASE)}},signatureImport(ee,re){switch(isUint8Array("signature",ee),re=getAssertedOutput(re,64),te.signatureImport(re,ee)){case 0:return re;case 1:throw new Error(errors$3.SIG_PARSE);case 2:throw new Error(errors$3.IMPOSSIBLE_CASE)}},ecdsaSign(ee,re,ne={},ie){isUint8Array("message",ee,32),isUint8Array("private key",re,32),assert$d(toTypeString(ne)==="Object","Expected options to be an Object"),ne.data!==void 0&&isUint8Array("options.data",ne.data),ne.noncefn!==void 0&&assert$d(toTypeString(ne.noncefn)==="Function","Expected options.noncefn to be a Function"),ie=getAssertedOutput(ie,64);const oe={signature:ie,recid:null};switch(te.ecdsaSign(oe,ee,re,ne.data,ne.noncefn)){case 0:return oe;case 1:throw new Error(errors$3.SIGN);case 2:throw new Error(errors$3.IMPOSSIBLE_CASE)}},ecdsaVerify(ee,re,ne){switch(isUint8Array("signature",ee,64),isUint8Array("message",re,32),isUint8Array("public key",ne,[33,65]),te.ecdsaVerify(ee,re,ne)){case 0:return!0;case 3:return!1;case 1:throw new Error(errors$3.SIG_PARSE);case 2:throw new Error(errors$3.PUBKEY_PARSE)}},ecdsaRecover(ee,re,ne,ie=!0,oe){switch(isUint8Array("signature",ee,64),assert$d(toTypeString(re)==="Number"&&re>=0&&re<=3,"Expected recovery id to be a Number within interval [0, 3]"),isUint8Array("message",ne,32),isCompressed(ie),oe=getAssertedOutput(oe,ie?33:65),te.ecdsaRecover(oe,ee,re,ne)){case 0:return oe;case 1:throw new Error(errors$3.SIG_PARSE);case 2:throw new Error(errors$3.RECOVER);case 3:throw new Error(errors$3.IMPOSSIBLE_CASE)}},ecdh(ee,re,ne={},ie){switch(isUint8Array("public key",ee,[33,65]),isUint8Array("private key",re,32),assert$d(toTypeString(ne)==="Object","Expected options to be an Object"),ne.data!==void 0&&isUint8Array("options.data",ne.data),ne.hashfn!==void 0?(assert$d(toTypeString(ne.hashfn)==="Function","Expected options.hashfn to be a Function"),ne.xbuf!==void 0&&isUint8Array("options.xbuf",ne.xbuf,32),ne.ybuf!==void 0&&isUint8Array("options.ybuf",ne.ybuf,32),isUint8Array("output",ie)):ie=getAssertedOutput(ie,32),te.ecdh(ie,ee,re,ne.data,ne.hashfn,ne.xbuf,ne.ybuf)){case 0:return ie;case 1:throw new Error(errors$3.PUBKEY_PARSE);case 2:throw new Error(errors$3.ECDH)}}}),elliptic$2={};const name$1="elliptic",version$6="6.5.4",description$1="EC cryptography",main$1="lib/elliptic.js",files=["lib"],scripts$1={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository$1={type:"git",url:"git@github.com:indutny/elliptic"},keywords$1=["EC","Elliptic","curve","Cryptography"],author$1="Fedor Indutny <fedor@indutny.com>",license$1="MIT",bugs={url:"https://github.com/indutny/elliptic/issues"},homepage="https://github.com/indutny/elliptic",devDependencies$1={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies$1={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"};var require$$0$2={name:name$1,version:version$6,description:description$1,main:main$1,files,scripts:scripts$1,repository:repository$1,keywords:keywords$1,author:author$1,license:license$1,bugs,homepage,devDependencies:devDependencies$1,dependencies:dependencies$1},utils$h={},utils$g={};(function(te){var ee=te;function re(oe,se){if(Array.isArray(oe))return oe.slice();if(!oe)return[];var ae=[];if(typeof oe!="string"){for(var fe=0;fe<oe.length;fe++)ae[fe]=oe[fe]|0;return ae}if(se==="hex"){oe=oe.replace(/[^a-z0-9]+/ig,""),oe.length%2!==0&&(oe="0"+oe);for(var fe=0;fe<oe.length;fe+=2)ae.push(parseInt(oe[fe]+oe[fe+1],16))}else for(var fe=0;fe<oe.length;fe++){var ue=oe.charCodeAt(fe),le=ue>>8,pe=ue&255;le?ae.push(le,pe):ae.push(pe)}return ae}ee.toArray=re;function ne(oe){return oe.length===1?"0"+oe:oe}ee.zero2=ne;function ie(oe){for(var se="",ae=0;ae<oe.length;ae++)se+=ne(oe[ae].toString(16));return se}ee.toHex=ie,ee.encode=function(se,ae){return ae==="hex"?ie(se):se}})(utils$g);(function(te){var ee=te,re=bn$4.exports,ne=minimalisticAssert$4,ie=utils$g;ee.assert=ne,ee.toArray=ie.toArray,ee.zero2=ie.zero2,ee.toHex=ie.toHex,ee.encode=ie.encode;function oe(le,pe,rr){var cr=new Array(Math.max(le.bitLength(),rr)+1);cr.fill(0);for(var ar=1<<pe+1,mr=le.clone(),pr=0;pr<cr.length;pr++){var yr,vr=mr.andln(ar-1);mr.isOdd()?(vr>(ar>>1)-1?yr=(ar>>1)-vr:yr=vr,mr.isubn(yr)):yr=0,cr[pr]=yr,mr.iushrn(1)}return cr}ee.getNAF=oe;function se(le,pe){var rr=[[],[]];le=le.clone(),pe=pe.clone();for(var cr=0,ar=0,mr;le.cmpn(-cr)>0||pe.cmpn(-ar)>0;){var pr=le.andln(3)+cr&3,yr=pe.andln(3)+ar&3;pr===3&&(pr=-1),yr===3&&(yr=-1);var vr;(pr&1)===0?vr=0:(mr=le.andln(7)+cr&7,(mr===3||mr===5)&&yr===2?vr=-pr:vr=pr),rr[0].push(vr);var Er;(yr&1)===0?Er=0:(mr=pe.andln(7)+ar&7,(mr===3||mr===5)&&pr===2?Er=-yr:Er=yr),rr[1].push(Er),2*cr===vr+1&&(cr=1-cr),2*ar===Er+1&&(ar=1-ar),le.iushrn(1),pe.iushrn(1)}return rr}ee.getJSF=se;function ae(le,pe,rr){var cr="_"+pe;le.prototype[pe]=function(){return this[cr]!==void 0?this[cr]:this[cr]=rr.call(this)}}ee.cachedProperty=ae;function fe(le){return typeof le=="string"?ee.toArray(le,"hex"):le}ee.parseBytes=fe;function ue(le){return new re(le,"hex","le")}ee.intFromLE=ue})(utils$h);var brorand={exports:{}},r$4;brorand.exports=function(ee){return r$4||(r$4=new Rand(null)),r$4.generate(ee)};function Rand(te){this.rand=te}brorand.exports.Rand=Rand;Rand.prototype.generate=function(ee){return this._rand(ee)};Rand.prototype._rand=function(ee){if(this.rand.getBytes)return this.rand.getBytes(ee);for(var re=new Uint8Array(ee),ne=0;ne<re.length;ne++)re[ne]=this.rand.getByte();return re};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Rand.prototype._rand=function(ee){var re=new Uint8Array(ee);return self.crypto.getRandomValues(re),re}:self.msCrypto&&self.msCrypto.getRandomValues?Rand.prototype._rand=function(ee){var re=new Uint8Array(ee);return self.msCrypto.getRandomValues(re),re}:typeof window=="object"&&(Rand.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var crypto$3=require("crypto");if(typeof crypto$3.randomBytes!="function")throw new Error("Not supported");Rand.prototype._rand=function(ee){return crypto$3.randomBytes(ee)}}catch{}var curve={},BN$g=bn$4.exports,utils$f=utils$h,getNAF=utils$f.getNAF,getJSF=utils$f.getJSF,assert$c=utils$f.assert;function BaseCurve(te,ee){this.type=te,this.p=new BN$g(ee.p,16),this.red=ee.prime?BN$g.red(ee.prime):BN$g.mont(this.p),this.zero=new BN$g(0).toRed(this.red),this.one=new BN$g(1).toRed(this.red),this.two=new BN$g(2).toRed(this.red),this.n=ee.n&&new BN$g(ee.n,16),this.g=ee.g&&this.pointFromJSON(ee.g,ee.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var re=this.n&&this.p.div(this.n);!re||re.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$1=BaseCurve;BaseCurve.prototype.point=function(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function(ee,re){assert$c(ee.precomputed);var ne=ee._getDoubles(),ie=getNAF(re,1,this._bitLength),oe=(1<<ne.step+1)-(ne.step%2===0?2:1);oe/=3;var se=[],ae,fe;for(ae=0;ae<ie.length;ae+=ne.step){fe=0;for(var ue=ae+ne.step-1;ue>=ae;ue--)fe=(fe<<1)+ie[ue];se.push(fe)}for(var le=this.jpoint(null,null,null),pe=this.jpoint(null,null,null),rr=oe;rr>0;rr--){for(ae=0;ae<se.length;ae++)fe=se[ae],fe===rr?pe=pe.mixedAdd(ne.points[ae]):fe===-rr&&(pe=pe.mixedAdd(ne.points[ae].neg()));le=le.add(pe)}return le.toP()};BaseCurve.prototype._wnafMul=function(ee,re){var ne=4,ie=ee._getNAFPoints(ne);ne=ie.wnd;for(var oe=ie.points,se=getNAF(re,ne,this._bitLength),ae=this.jpoint(null,null,null),fe=se.length-1;fe>=0;fe--){for(var ue=0;fe>=0&&se[fe]===0;fe--)ue++;if(fe>=0&&ue++,ae=ae.dblp(ue),fe<0)break;var le=se[fe];assert$c(le!==0),ee.type==="affine"?le>0?ae=ae.mixedAdd(oe[le-1>>1]):ae=ae.mixedAdd(oe[-le-1>>1].neg()):le>0?ae=ae.add(oe[le-1>>1]):ae=ae.add(oe[-le-1>>1].neg())}return ee.type==="affine"?ae.toP():ae};BaseCurve.prototype._wnafMulAdd=function(ee,re,ne,ie,oe){var se=this._wnafT1,ae=this._wnafT2,fe=this._wnafT3,ue=0,le,pe,rr;for(le=0;le<ie;le++){rr=re[le];var cr=rr._getNAFPoints(ee);se[le]=cr.wnd,ae[le]=cr.points}for(le=ie-1;le>=1;le-=2){var ar=le-1,mr=le;if(se[ar]!==1||se[mr]!==1){fe[ar]=getNAF(ne[ar],se[ar],this._bitLength),fe[mr]=getNAF(ne[mr],se[mr],this._bitLength),ue=Math.max(fe[ar].length,ue),ue=Math.max(fe[mr].length,ue);continue}var pr=[re[ar],null,null,re[mr]];re[ar].y.cmp(re[mr].y)===0?(pr[1]=re[ar].add(re[mr]),pr[2]=re[ar].toJ().mixedAdd(re[mr].neg())):re[ar].y.cmp(re[mr].y.redNeg())===0?(pr[1]=re[ar].toJ().mixedAdd(re[mr]),pr[2]=re[ar].add(re[mr].neg())):(pr[1]=re[ar].toJ().mixedAdd(re[mr]),pr[2]=re[ar].toJ().mixedAdd(re[mr].neg()));var yr=[-3,-1,-5,-7,0,7,5,1,3],vr=getJSF(ne[ar],ne[mr]);for(ue=Math.max(vr[0].length,ue),fe[ar]=new Array(ue),fe[mr]=new Array(ue),pe=0;pe<ue;pe++){var Er=vr[0][pe]|0,Tr=vr[1][pe]|0;fe[ar][pe]=yr[(Er+1)*3+(Tr+1)],fe[mr][pe]=0,ae[ar]=pr}}var Ir=this.jpoint(null,null,null),Or=this._wnafT4;for(le=ue;le>=0;le--){for(var Hr=0;le>=0;){var Pr=!0;for(pe=0;pe<ie;pe++)Or[pe]=fe[pe][le]|0,Or[pe]!==0&&(Pr=!1);if(!Pr)break;Hr++,le--}if(le>=0&&Hr++,Ir=Ir.dblp(Hr),le<0)break;for(pe=0;pe<ie;pe++){var Br=Or[pe];Br!==0&&(Br>0?rr=ae[pe][Br-1>>1]:Br<0&&(rr=ae[pe][-Br-1>>1].neg()),rr.type==="affine"?Ir=Ir.mixedAdd(rr):Ir=Ir.add(rr))}}for(le=0;le<ie;le++)ae[le]=null;return oe?Ir:Ir.toP()};function BasePoint(te,ee){this.curve=te,this.type=ee,this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function(){throw new Error("Not implemented")};BasePoint.prototype.validate=function(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function(ee,re){ee=utils$f.toArray(ee,re);var ne=this.p.byteLength();if((ee[0]===4||ee[0]===6||ee[0]===7)&&ee.length-1===2*ne){ee[0]===6?assert$c(ee[ee.length-1]%2===0):ee[0]===7&&assert$c(ee[ee.length-1]%2===1);var ie=this.point(ee.slice(1,1+ne),ee.slice(1+ne,1+2*ne));return ie}else if((ee[0]===2||ee[0]===3)&&ee.length-1===ne)return this.pointFromX(ee.slice(1,1+ne),ee[0]===3);throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function(ee){return this.encode(ee,!0)};BasePoint.prototype._encode=function(ee){var re=this.curve.p.byteLength(),ne=this.getX().toArray("be",re);return ee?[this.getY().isEven()?2:3].concat(ne):[4].concat(ne,this.getY().toArray("be",re))};BasePoint.prototype.encode=function(ee,re){return utils$f.encode(this._encode(re),ee)};BasePoint.prototype.precompute=function(ee){if(this.precomputed)return this;var re={doubles:null,naf:null,beta:null};return re.naf=this._getNAFPoints(8),re.doubles=this._getDoubles(4,ee),re.beta=this._getBeta(),this.precomputed=re,this};BasePoint.prototype._hasDoubles=function(ee){if(!this.precomputed)return!1;var re=this.precomputed.doubles;return re?re.points.length>=Math.ceil((ee.bitLength()+1)/re.step):!1};BasePoint.prototype._getDoubles=function(ee,re){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var ne=[this],ie=this,oe=0;oe<re;oe+=ee){for(var se=0;se<ee;se++)ie=ie.dbl();ne.push(ie)}return{step:ee,points:ne}};BasePoint.prototype._getNAFPoints=function(ee){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var re=[this],ne=(1<<ee)-1,ie=ne===1?null:this.dbl(),oe=1;oe<ne;oe++)re[oe]=re[oe-1].add(ie);return{wnd:ee,points:re}};BasePoint.prototype._getBeta=function(){return null};BasePoint.prototype.dblp=function(ee){for(var re=this,ne=0;ne<ee;ne++)re=re.dbl();return re};var utils$e=utils$h,BN$f=bn$4.exports,inherits$i=inherits_browser$5.exports,Base$3=base$1,assert$b=utils$e.assert;function ShortCurve(te){Base$3.call(this,"short",te),this.a=new BN$f(te.a,16).toRed(this.red),this.b=new BN$f(te.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(te),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits$i(ShortCurve,Base$3);var short=ShortCurve;ShortCurve.prototype._getEndomorphism=function(ee){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var re,ne;if(ee.beta)re=new BN$f(ee.beta,16).toRed(this.red);else{var ie=this._getEndoRoots(this.p);re=ie[0].cmp(ie[1])<0?ie[0]:ie[1],re=re.toRed(this.red)}if(ee.lambda)ne=new BN$f(ee.lambda,16);else{var oe=this._getEndoRoots(this.n);this.g.mul(oe[0]).x.cmp(this.g.x.redMul(re))===0?ne=oe[0]:(ne=oe[1],assert$b(this.g.mul(ne).x.cmp(this.g.x.redMul(re))===0))}var se;return ee.basis?se=ee.basis.map(function(ae){return{a:new BN$f(ae.a,16),b:new BN$f(ae.b,16)}}):se=this._getEndoBasis(ne),{beta:re,lambda:ne,basis:se}}};ShortCurve.prototype._getEndoRoots=function(ee){var re=ee===this.p?this.red:BN$f.mont(ee),ne=new BN$f(2).toRed(re).redInvm(),ie=ne.redNeg(),oe=new BN$f(3).toRed(re).redNeg().redSqrt().redMul(ne),se=ie.redAdd(oe).fromRed(),ae=ie.redSub(oe).fromRed();return[se,ae]};ShortCurve.prototype._getEndoBasis=function(ee){for(var re=this.n.ushrn(Math.floor(this.n.bitLength()/2)),ne=ee,ie=this.n.clone(),oe=new BN$f(1),se=new BN$f(0),ae=new BN$f(0),fe=new BN$f(1),ue,le,pe,rr,cr,ar,mr,pr=0,yr,vr;ne.cmpn(0)!==0;){var Er=ie.div(ne);yr=ie.sub(Er.mul(ne)),vr=ae.sub(Er.mul(oe));var Tr=fe.sub(Er.mul(se));if(!pe&&yr.cmp(re)<0)ue=mr.neg(),le=oe,pe=yr.neg(),rr=vr;else if(pe&&++pr===2)break;mr=yr,ie=ne,ne=yr,ae=oe,oe=vr,fe=se,se=Tr}cr=yr.neg(),ar=vr;var Ir=pe.sqr().add(rr.sqr()),Or=cr.sqr().add(ar.sqr());return Or.cmp(Ir)>=0&&(cr=ue,ar=le),pe.negative&&(pe=pe.neg(),rr=rr.neg()),cr.negative&&(cr=cr.neg(),ar=ar.neg()),[{a:pe,b:rr},{a:cr,b:ar}]};ShortCurve.prototype._endoSplit=function(ee){var re=this.endo.basis,ne=re[0],ie=re[1],oe=ie.b.mul(ee).divRound(this.n),se=ne.b.neg().mul(ee).divRound(this.n),ae=oe.mul(ne.a),fe=se.mul(ie.a),ue=oe.mul(ne.b),le=se.mul(ie.b),pe=ee.sub(ae).sub(fe),rr=ue.add(le).neg();return{k1:pe,k2:rr}};ShortCurve.prototype.pointFromX=function(ee,re){ee=new BN$f(ee,16),ee.red||(ee=ee.toRed(this.red));var ne=ee.redSqr().redMul(ee).redIAdd(ee.redMul(this.a)).redIAdd(this.b),ie=ne.redSqrt();if(ie.redSqr().redSub(ne).cmp(this.zero)!==0)throw new Error("invalid point");var oe=ie.fromRed().isOdd();return(re&&!oe||!re&&oe)&&(ie=ie.redNeg()),this.point(ee,ie)};ShortCurve.prototype.validate=function(ee){if(ee.inf)return!0;var re=ee.x,ne=ee.y,ie=this.a.redMul(re),oe=re.redSqr().redMul(re).redIAdd(ie).redIAdd(this.b);return ne.redSqr().redISub(oe).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function(ee,re,ne){for(var ie=this._endoWnafT1,oe=this._endoWnafT2,se=0;se<ee.length;se++){var ae=this._endoSplit(re[se]),fe=ee[se],ue=fe._getBeta();ae.k1.negative&&(ae.k1.ineg(),fe=fe.neg(!0)),ae.k2.negative&&(ae.k2.ineg(),ue=ue.neg(!0)),ie[se*2]=fe,ie[se*2+1]=ue,oe[se*2]=ae.k1,oe[se*2+1]=ae.k2}for(var le=this._wnafMulAdd(1,ie,oe,se*2,ne),pe=0;pe<se*2;pe++)ie[pe]=null,oe[pe]=null;return le};function Point$2(te,ee,re,ne){Base$3.BasePoint.call(this,te,"affine"),ee===null&&re===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$f(ee,16),this.y=new BN$f(re,16),ne&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits$i(Point$2,Base$3.BasePoint);ShortCurve.prototype.point=function(ee,re,ne){return new Point$2(this,ee,re,ne)};ShortCurve.prototype.pointFromJSON=function(ee,re){return Point$2.fromJSON(this,ee,re)};Point$2.prototype._getBeta=function(){if(!!this.curve.endo){var ee=this.precomputed;if(ee&&ee.beta)return ee.beta;var re=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(ee){var ne=this.curve,ie=function(oe){return ne.point(oe.x.redMul(ne.endo.beta),oe.y)};ee.beta=re,re.precomputed={beta:null,naf:ee.naf&&{wnd:ee.naf.wnd,points:ee.naf.points.map(ie)},doubles:ee.doubles&&{step:ee.doubles.step,points:ee.doubles.points.map(ie)}}}return re}};Point$2.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point$2.fromJSON=function(ee,re,ne){typeof re=="string"&&(re=JSON.parse(re));var ie=ee.point(re[0],re[1],ne);if(!re[2])return ie;function oe(ae){return ee.point(ae[0],ae[1],ne)}var se=re[2];return ie.precomputed={beta:null,doubles:se.doubles&&{step:se.doubles.step,points:[ie].concat(se.doubles.points.map(oe))},naf:se.naf&&{wnd:se.naf.wnd,points:[ie].concat(se.naf.points.map(oe))}},ie};Point$2.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point$2.prototype.isInfinity=function(){return this.inf};Point$2.prototype.add=function(ee){if(this.inf)return ee;if(ee.inf)return this;if(this.eq(ee))return this.dbl();if(this.neg().eq(ee))return this.curve.point(null,null);if(this.x.cmp(ee.x)===0)return this.curve.point(null,null);var re=this.y.redSub(ee.y);re.cmpn(0)!==0&&(re=re.redMul(this.x.redSub(ee.x).redInvm()));var ne=re.redSqr().redISub(this.x).redISub(ee.x),ie=re.redMul(this.x.redSub(ne)).redISub(this.y);return this.curve.point(ne,ie)};Point$2.prototype.dbl=function(){if(this.inf)return this;var ee=this.y.redAdd(this.y);if(ee.cmpn(0)===0)return this.curve.point(null,null);var re=this.curve.a,ne=this.x.redSqr(),ie=ee.redInvm(),oe=ne.redAdd(ne).redIAdd(ne).redIAdd(re).redMul(ie),se=oe.redSqr().redISub(this.x.redAdd(this.x)),ae=oe.redMul(this.x.redSub(se)).redISub(this.y);return this.curve.point(se,ae)};Point$2.prototype.getX=function(){return this.x.fromRed()};Point$2.prototype.getY=function(){return this.y.fromRed()};Point$2.prototype.mul=function(ee){return ee=new BN$f(ee,16),this.isInfinity()?this:this._hasDoubles(ee)?this.curve._fixedNafMul(this,ee):this.curve.endo?this.curve._endoWnafMulAdd([this],[ee]):this.curve._wnafMul(this,ee)};Point$2.prototype.mulAdd=function(ee,re,ne){var ie=[this,re],oe=[ee,ne];return this.curve.endo?this.curve._endoWnafMulAdd(ie,oe):this.curve._wnafMulAdd(1,ie,oe,2)};Point$2.prototype.jmulAdd=function(ee,re,ne){var ie=[this,re],oe=[ee,ne];return this.curve.endo?this.curve._endoWnafMulAdd(ie,oe,!0):this.curve._wnafMulAdd(1,ie,oe,2,!0)};Point$2.prototype.eq=function(ee){return this===ee||this.inf===ee.inf&&(this.inf||this.x.cmp(ee.x)===0&&this.y.cmp(ee.y)===0)};Point$2.prototype.neg=function(ee){if(this.inf)return this;var re=this.curve.point(this.x,this.y.redNeg());if(ee&&this.precomputed){var ne=this.precomputed,ie=function(oe){return oe.neg()};re.precomputed={naf:ne.naf&&{wnd:ne.naf.wnd,points:ne.naf.points.map(ie)},doubles:ne.doubles&&{step:ne.doubles.step,points:ne.doubles.points.map(ie)}}}return re};Point$2.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var ee=this.curve.jpoint(this.x,this.y,this.curve.one);return ee};function JPoint(te,ee,re,ne){Base$3.BasePoint.call(this,te,"jacobian"),ee===null&&re===null&&ne===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$f(0)):(this.x=new BN$f(ee,16),this.y=new BN$f(re,16),this.z=new BN$f(ne,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits$i(JPoint,Base$3.BasePoint);ShortCurve.prototype.jpoint=function(ee,re,ne){return new JPoint(this,ee,re,ne)};JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var ee=this.z.redInvm(),re=ee.redSqr(),ne=this.x.redMul(re),ie=this.y.redMul(re).redMul(ee);return this.curve.point(ne,ie)};JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function(ee){if(this.isInfinity())return ee;if(ee.isInfinity())return this;var re=ee.z.redSqr(),ne=this.z.redSqr(),ie=this.x.redMul(re),oe=ee.x.redMul(ne),se=this.y.redMul(re.redMul(ee.z)),ae=ee.y.redMul(ne.redMul(this.z)),fe=ie.redSub(oe),ue=se.redSub(ae);if(fe.cmpn(0)===0)return ue.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var le=fe.redSqr(),pe=le.redMul(fe),rr=ie.redMul(le),cr=ue.redSqr().redIAdd(pe).redISub(rr).redISub(rr),ar=ue.redMul(rr.redISub(cr)).redISub(se.redMul(pe)),mr=this.z.redMul(ee.z).redMul(fe);return this.curve.jpoint(cr,ar,mr)};JPoint.prototype.mixedAdd=function(ee){if(this.isInfinity())return ee.toJ();if(ee.isInfinity())return this;var re=this.z.redSqr(),ne=this.x,ie=ee.x.redMul(re),oe=this.y,se=ee.y.redMul(re).redMul(this.z),ae=ne.redSub(ie),fe=oe.redSub(se);if(ae.cmpn(0)===0)return fe.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ue=ae.redSqr(),le=ue.redMul(ae),pe=ne.redMul(ue),rr=fe.redSqr().redIAdd(le).redISub(pe).redISub(pe),cr=fe.redMul(pe.redISub(rr)).redISub(oe.redMul(le)),ar=this.z.redMul(ae);return this.curve.jpoint(rr,cr,ar)};JPoint.prototype.dblp=function(ee){if(ee===0)return this;if(this.isInfinity())return this;if(!ee)return this.dbl();var re;if(this.curve.zeroA||this.curve.threeA){var ne=this;for(re=0;re<ee;re++)ne=ne.dbl();return ne}var ie=this.curve.a,oe=this.curve.tinv,se=this.x,ae=this.y,fe=this.z,ue=fe.redSqr().redSqr(),le=ae.redAdd(ae);for(re=0;re<ee;re++){var pe=se.redSqr(),rr=le.redSqr(),cr=rr.redSqr(),ar=pe.redAdd(pe).redIAdd(pe).redIAdd(ie.redMul(ue)),mr=se.redMul(rr),pr=ar.redSqr().redISub(mr.redAdd(mr)),yr=mr.redISub(pr),vr=ar.redMul(yr);vr=vr.redIAdd(vr).redISub(cr);var Er=le.redMul(fe);re+1<ee&&(ue=ue.redMul(cr)),se=pr,fe=Er,le=vr}return this.curve.jpoint(se,le.redMul(oe),fe)};JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint.prototype._zeroDbl=function(){var ee,re,ne;if(this.zOne){var ie=this.x.redSqr(),oe=this.y.redSqr(),se=oe.redSqr(),ae=this.x.redAdd(oe).redSqr().redISub(ie).redISub(se);ae=ae.redIAdd(ae);var fe=ie.redAdd(ie).redIAdd(ie),ue=fe.redSqr().redISub(ae).redISub(ae),le=se.redIAdd(se);le=le.redIAdd(le),le=le.redIAdd(le),ee=ue,re=fe.redMul(ae.redISub(ue)).redISub(le),ne=this.y.redAdd(this.y)}else{var pe=this.x.redSqr(),rr=this.y.redSqr(),cr=rr.redSqr(),ar=this.x.redAdd(rr).redSqr().redISub(pe).redISub(cr);ar=ar.redIAdd(ar);var mr=pe.redAdd(pe).redIAdd(pe),pr=mr.redSqr(),yr=cr.redIAdd(cr);yr=yr.redIAdd(yr),yr=yr.redIAdd(yr),ee=pr.redISub(ar).redISub(ar),re=mr.redMul(ar.redISub(ee)).redISub(yr),ne=this.y.redMul(this.z),ne=ne.redIAdd(ne)}return this.curve.jpoint(ee,re,ne)};JPoint.prototype._threeDbl=function(){var ee,re,ne;if(this.zOne){var ie=this.x.redSqr(),oe=this.y.redSqr(),se=oe.redSqr(),ae=this.x.redAdd(oe).redSqr().redISub(ie).redISub(se);ae=ae.redIAdd(ae);var fe=ie.redAdd(ie).redIAdd(ie).redIAdd(this.curve.a),ue=fe.redSqr().redISub(ae).redISub(ae);ee=ue;var le=se.redIAdd(se);le=le.redIAdd(le),le=le.redIAdd(le),re=fe.redMul(ae.redISub(ue)).redISub(le),ne=this.y.redAdd(this.y)}else{var pe=this.z.redSqr(),rr=this.y.redSqr(),cr=this.x.redMul(rr),ar=this.x.redSub(pe).redMul(this.x.redAdd(pe));ar=ar.redAdd(ar).redIAdd(ar);var mr=cr.redIAdd(cr);mr=mr.redIAdd(mr);var pr=mr.redAdd(mr);ee=ar.redSqr().redISub(pr),ne=this.y.redAdd(this.z).redSqr().redISub(rr).redISub(pe);var yr=rr.redSqr();yr=yr.redIAdd(yr),yr=yr.redIAdd(yr),yr=yr.redIAdd(yr),re=ar.redMul(mr.redISub(ee)).redISub(yr)}return this.curve.jpoint(ee,re,ne)};JPoint.prototype._dbl=function(){var ee=this.curve.a,re=this.x,ne=this.y,ie=this.z,oe=ie.redSqr().redSqr(),se=re.redSqr(),ae=ne.redSqr(),fe=se.redAdd(se).redIAdd(se).redIAdd(ee.redMul(oe)),ue=re.redAdd(re);ue=ue.redIAdd(ue);var le=ue.redMul(ae),pe=fe.redSqr().redISub(le.redAdd(le)),rr=le.redISub(pe),cr=ae.redSqr();cr=cr.redIAdd(cr),cr=cr.redIAdd(cr),cr=cr.redIAdd(cr);var ar=fe.redMul(rr).redISub(cr),mr=ne.redAdd(ne).redMul(ie);return this.curve.jpoint(pe,ar,mr)};JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var ee=this.x.redSqr(),re=this.y.redSqr(),ne=this.z.redSqr(),ie=re.redSqr(),oe=ee.redAdd(ee).redIAdd(ee),se=oe.redSqr(),ae=this.x.redAdd(re).redSqr().redISub(ee).redISub(ie);ae=ae.redIAdd(ae),ae=ae.redAdd(ae).redIAdd(ae),ae=ae.redISub(se);var fe=ae.redSqr(),ue=ie.redIAdd(ie);ue=ue.redIAdd(ue),ue=ue.redIAdd(ue),ue=ue.redIAdd(ue);var le=oe.redIAdd(ae).redSqr().redISub(se).redISub(fe).redISub(ue),pe=re.redMul(le);pe=pe.redIAdd(pe),pe=pe.redIAdd(pe);var rr=this.x.redMul(fe).redISub(pe);rr=rr.redIAdd(rr),rr=rr.redIAdd(rr);var cr=this.y.redMul(le.redMul(ue.redISub(le)).redISub(ae.redMul(fe)));cr=cr.redIAdd(cr),cr=cr.redIAdd(cr),cr=cr.redIAdd(cr);var ar=this.z.redAdd(ae).redSqr().redISub(ne).redISub(fe);return this.curve.jpoint(rr,cr,ar)};JPoint.prototype.mul=function(ee,re){return ee=new BN$f(ee,re),this.curve._wnafMul(this,ee)};JPoint.prototype.eq=function(ee){if(ee.type==="affine")return this.eq(ee.toJ());if(this===ee)return!0;var re=this.z.redSqr(),ne=ee.z.redSqr();if(this.x.redMul(ne).redISub(ee.x.redMul(re)).cmpn(0)!==0)return!1;var ie=re.redMul(this.z),oe=ne.redMul(ee.z);return this.y.redMul(oe).redISub(ee.y.redMul(ie)).cmpn(0)===0};JPoint.prototype.eqXToP=function(ee){var re=this.z.redSqr(),ne=ee.toRed(this.curve.red).redMul(re);if(this.x.cmp(ne)===0)return!0;for(var ie=ee.clone(),oe=this.curve.redN.redMul(re);;){if(ie.iadd(this.curve.n),ie.cmp(this.curve.p)>=0)return!1;if(ne.redIAdd(oe),this.x.cmp(ne)===0)return!0}};JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var BN$e=bn$4.exports,inherits$h=inherits_browser$5.exports,Base$2=base$1,utils$d=utils$h;function MontCurve(te){Base$2.call(this,"mont",te),this.a=new BN$e(te.a,16).toRed(this.red),this.b=new BN$e(te.b,16).toRed(this.red),this.i4=new BN$e(4).toRed(this.red).redInvm(),this.two=new BN$e(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}inherits$h(MontCurve,Base$2);var mont=MontCurve;MontCurve.prototype.validate=function(ee){var re=ee.normalize().x,ne=re.redSqr(),ie=ne.redMul(re).redAdd(ne.redMul(this.a)).redAdd(re),oe=ie.redSqrt();return oe.redSqr().cmp(ie)===0};function Point$1(te,ee,re){Base$2.BasePoint.call(this,te,"projective"),ee===null&&re===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN$e(ee,16),this.z=new BN$e(re,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}inherits$h(Point$1,Base$2.BasePoint);MontCurve.prototype.decodePoint=function(ee,re){return this.point(utils$d.toArray(ee,re),1)};MontCurve.prototype.point=function(ee,re){return new Point$1(this,ee,re)};MontCurve.prototype.pointFromJSON=function(ee){return Point$1.fromJSON(this,ee)};Point$1.prototype.precompute=function(){};Point$1.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Point$1.fromJSON=function(ee,re){return new Point$1(ee,re[0],re[1]||ee.one)};Point$1.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point$1.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Point$1.prototype.dbl=function(){var ee=this.x.redAdd(this.z),re=ee.redSqr(),ne=this.x.redSub(this.z),ie=ne.redSqr(),oe=re.redSub(ie),se=re.redMul(ie),ae=oe.redMul(ie.redAdd(this.curve.a24.redMul(oe)));return this.curve.point(se,ae)};Point$1.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.diffAdd=function(ee,re){var ne=this.x.redAdd(this.z),ie=this.x.redSub(this.z),oe=ee.x.redAdd(ee.z),se=ee.x.redSub(ee.z),ae=se.redMul(ne),fe=oe.redMul(ie),ue=re.z.redMul(ae.redAdd(fe).redSqr()),le=re.x.redMul(ae.redISub(fe).redSqr());return this.curve.point(ue,le)};Point$1.prototype.mul=function(ee){for(var re=ee.clone(),ne=this,ie=this.curve.point(null,null),oe=this,se=[];re.cmpn(0)!==0;re.iushrn(1))se.push(re.andln(1));for(var ae=se.length-1;ae>=0;ae--)se[ae]===0?(ne=ne.diffAdd(ie,oe),ie=ie.dbl()):(ie=ne.diffAdd(ie,oe),ne=ne.dbl());return ie};Point$1.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.eq=function(ee){return this.getX().cmp(ee.getX())===0};Point$1.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Point$1.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var utils$c=utils$h,BN$d=bn$4.exports,inherits$g=inherits_browser$5.exports,Base$1=base$1,assert$a=utils$c.assert;function EdwardsCurve(te){this.twisted=(te.a|0)!==1,this.mOneA=this.twisted&&(te.a|0)===-1,this.extended=this.mOneA,Base$1.call(this,"edwards",te),this.a=new BN$d(te.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN$d(te.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN$d(te.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert$a(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(te.c|0)===1}inherits$g(EdwardsCurve,Base$1);var edwards=EdwardsCurve;EdwardsCurve.prototype._mulA=function(ee){return this.mOneA?ee.redNeg():this.a.redMul(ee)};EdwardsCurve.prototype._mulC=function(ee){return this.oneC?ee:this.c.redMul(ee)};EdwardsCurve.prototype.jpoint=function(ee,re,ne,ie){return this.point(ee,re,ne,ie)};EdwardsCurve.prototype.pointFromX=function(ee,re){ee=new BN$d(ee,16),ee.red||(ee=ee.toRed(this.red));var ne=ee.redSqr(),ie=this.c2.redSub(this.a.redMul(ne)),oe=this.one.redSub(this.c2.redMul(this.d).redMul(ne)),se=ie.redMul(oe.redInvm()),ae=se.redSqrt();if(ae.redSqr().redSub(se).cmp(this.zero)!==0)throw new Error("invalid point");var fe=ae.fromRed().isOdd();return(re&&!fe||!re&&fe)&&(ae=ae.redNeg()),this.point(ee,ae)};EdwardsCurve.prototype.pointFromY=function(ee,re){ee=new BN$d(ee,16),ee.red||(ee=ee.toRed(this.red));var ne=ee.redSqr(),ie=ne.redSub(this.c2),oe=ne.redMul(this.d).redMul(this.c2).redSub(this.a),se=ie.redMul(oe.redInvm());if(se.cmp(this.zero)===0){if(re)throw new Error("invalid point");return this.point(this.zero,ee)}var ae=se.redSqrt();if(ae.redSqr().redSub(se).cmp(this.zero)!==0)throw new Error("invalid point");return ae.fromRed().isOdd()!==re&&(ae=ae.redNeg()),this.point(ae,ee)};EdwardsCurve.prototype.validate=function(ee){if(ee.isInfinity())return!0;ee.normalize();var re=ee.x.redSqr(),ne=ee.y.redSqr(),ie=re.redMul(this.a).redAdd(ne),oe=this.c2.redMul(this.one.redAdd(this.d.redMul(re).redMul(ne)));return ie.cmp(oe)===0};function Point(te,ee,re,ne,ie){Base$1.BasePoint.call(this,te,"projective"),ee===null&&re===null&&ne===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN$d(ee,16),this.y=new BN$d(re,16),this.z=ne?new BN$d(ne,16):this.curve.one,this.t=ie&&new BN$d(ie,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}inherits$g(Point,Base$1.BasePoint);EdwardsCurve.prototype.pointFromJSON=function(ee){return Point.fromJSON(this,ee)};EdwardsCurve.prototype.point=function(ee,re,ne,ie){return new Point(this,ee,re,ne,ie)};Point.fromJSON=function(ee,re){return new Point(ee,re[0],re[1],re[2])};Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Point.prototype._extDbl=function(){var ee=this.x.redSqr(),re=this.y.redSqr(),ne=this.z.redSqr();ne=ne.redIAdd(ne);var ie=this.curve._mulA(ee),oe=this.x.redAdd(this.y).redSqr().redISub(ee).redISub(re),se=ie.redAdd(re),ae=se.redSub(ne),fe=ie.redSub(re),ue=oe.redMul(ae),le=se.redMul(fe),pe=oe.redMul(fe),rr=ae.redMul(se);return this.curve.point(ue,le,rr,pe)};Point.prototype._projDbl=function(){var ee=this.x.redAdd(this.y).redSqr(),re=this.x.redSqr(),ne=this.y.redSqr(),ie,oe,se,ae,fe,ue;if(this.curve.twisted){ae=this.curve._mulA(re);var le=ae.redAdd(ne);this.zOne?(ie=ee.redSub(re).redSub(ne).redMul(le.redSub(this.curve.two)),oe=le.redMul(ae.redSub(ne)),se=le.redSqr().redSub(le).redSub(le)):(fe=this.z.redSqr(),ue=le.redSub(fe).redISub(fe),ie=ee.redSub(re).redISub(ne).redMul(ue),oe=le.redMul(ae.redSub(ne)),se=le.redMul(ue))}else ae=re.redAdd(ne),fe=this.curve._mulC(this.z).redSqr(),ue=ae.redSub(fe).redSub(fe),ie=this.curve._mulC(ee.redISub(ae)).redMul(ue),oe=this.curve._mulC(ae).redMul(re.redISub(ne)),se=ae.redMul(ue);return this.curve.point(ie,oe,se)};Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Point.prototype._extAdd=function(ee){var re=this.y.redSub(this.x).redMul(ee.y.redSub(ee.x)),ne=this.y.redAdd(this.x).redMul(ee.y.redAdd(ee.x)),ie=this.t.redMul(this.curve.dd).redMul(ee.t),oe=this.z.redMul(ee.z.redAdd(ee.z)),se=ne.redSub(re),ae=oe.redSub(ie),fe=oe.redAdd(ie),ue=ne.redAdd(re),le=se.redMul(ae),pe=fe.redMul(ue),rr=se.redMul(ue),cr=ae.redMul(fe);return this.curve.point(le,pe,cr,rr)};Point.prototype._projAdd=function(ee){var re=this.z.redMul(ee.z),ne=re.redSqr(),ie=this.x.redMul(ee.x),oe=this.y.redMul(ee.y),se=this.curve.d.redMul(ie).redMul(oe),ae=ne.redSub(se),fe=ne.redAdd(se),ue=this.x.redAdd(this.y).redMul(ee.x.redAdd(ee.y)).redISub(ie).redISub(oe),le=re.redMul(ae).redMul(ue),pe,rr;return this.curve.twisted?(pe=re.redMul(fe).redMul(oe.redSub(this.curve._mulA(ie))),rr=ae.redMul(fe)):(pe=re.redMul(fe).redMul(oe.redSub(ie)),rr=this.curve._mulC(ae).redMul(fe)),this.curve.point(le,pe,rr)};Point.prototype.add=function(ee){return this.isInfinity()?ee:ee.isInfinity()?this:this.curve.extended?this._extAdd(ee):this._projAdd(ee)};Point.prototype.mul=function(ee){return this._hasDoubles(ee)?this.curve._fixedNafMul(this,ee):this.curve._wnafMul(this,ee)};Point.prototype.mulAdd=function(ee,re,ne){return this.curve._wnafMulAdd(1,[this,re],[ee,ne],2,!1)};Point.prototype.jmulAdd=function(ee,re,ne){return this.curve._wnafMulAdd(1,[this,re],[ee,ne],2,!0)};Point.prototype.normalize=function(){if(this.zOne)return this;var ee=this.z.redInvm();return this.x=this.x.redMul(ee),this.y=this.y.redMul(ee),this.t&&(this.t=this.t.redMul(ee)),this.z=this.curve.one,this.zOne=!0,this};Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Point.prototype.eq=function(ee){return this===ee||this.getX().cmp(ee.getX())===0&&this.getY().cmp(ee.getY())===0};Point.prototype.eqXToP=function(ee){var re=ee.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(re)===0)return!0;for(var ne=ee.clone(),ie=this.curve.redN.redMul(this.z);;){if(ne.iadd(this.curve.n),ne.cmp(this.curve.p)>=0)return!1;if(re.redIAdd(ie),this.x.cmp(re)===0)return!0}};Point.prototype.toP=Point.prototype.normalize;Point.prototype.mixedAdd=Point.prototype.add;(function(te){var ee=te;ee.base=base$1,ee.short=short,ee.mont=mont,ee.edwards=edwards})(curve);var curves$2={};(function(te){var ee=te,re=hash$4,ne=curve,ie=utils$h,oe=ie.assert;function se(ue){ue.type==="short"?this.curve=new ne.short(ue):ue.type==="edwards"?this.curve=new ne.edwards(ue):this.curve=new ne.mont(ue),this.g=this.curve.g,this.n=this.curve.n,this.hash=ue.hash,oe(this.g.validate(),"Invalid curve"),oe(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}ee.PresetCurve=se;function ae(ue,le){Object.defineProperty(ee,ue,{configurable:!0,enumerable:!0,get:function(){var pe=new se(le);return Object.defineProperty(ee,ue,{configurable:!0,enumerable:!0,value:pe}),pe}})}ae("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:re.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),ae("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:re.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),ae("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:re.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),ae("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:re.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),ae("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:re.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),ae("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:re.sha256,gRed:!1,g:["9"]}),ae("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:re.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var fe;try{fe=require("./precomputed/secp256k1")}catch{fe=void 0}ae("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:re.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",fe]})})(curves$2);var hash$3=hash$4,utils$b=utils$g,assert$9=minimalisticAssert$4;function HmacDRBG$1(te){if(!(this instanceof HmacDRBG$1))return new HmacDRBG$1(te);this.hash=te.hash,this.predResist=!!te.predResist,this.outLen=this.hash.outSize,this.minEntropy=te.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var ee=utils$b.toArray(te.entropy,te.entropyEnc||"hex"),re=utils$b.toArray(te.nonce,te.nonceEnc||"hex"),ne=utils$b.toArray(te.pers,te.persEnc||"hex");assert$9(ee.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(ee,re,ne)}var hmacDrbg=HmacDRBG$1;HmacDRBG$1.prototype._init=function(ee,re,ne){var ie=ee.concat(re).concat(ne);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var oe=0;oe<this.V.length;oe++)this.K[oe]=0,this.V[oe]=1;this._update(ie),this._reseed=1,this.reseedInterval=281474976710656};HmacDRBG$1.prototype._hmac=function(){return new hash$3.hmac(this.hash,this.K)};HmacDRBG$1.prototype._update=function(ee){var re=this._hmac().update(this.V).update([0]);ee&&(re=re.update(ee)),this.K=re.digest(),this.V=this._hmac().update(this.V).digest(),ee&&(this.K=this._hmac().update(this.V).update([1]).update(ee).digest(),this.V=this._hmac().update(this.V).digest())};HmacDRBG$1.prototype.reseed=function(ee,re,ne,ie){typeof re!="string"&&(ie=ne,ne=re,re=null),ee=utils$b.toArray(ee,re),ne=utils$b.toArray(ne,ie),assert$9(ee.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(ee.concat(ne||[])),this._reseed=1};HmacDRBG$1.prototype.generate=function(ee,re,ne,ie){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof re!="string"&&(ie=ne,ne=re,re=null),ne&&(ne=utils$b.toArray(ne,ie||"hex"),this._update(ne));for(var oe=[];oe.length<ee;)this.V=this._hmac().update(this.V).digest(),oe=oe.concat(this.V);var se=oe.slice(0,ee);return this._update(ne),this._reseed++,utils$b.encode(se,re)};var BN$c=bn$4.exports,utils$a=utils$h,assert$8=utils$a.assert;function KeyPair$3(te,ee){this.ec=te,this.priv=null,this.pub=null,ee.priv&&this._importPrivate(ee.priv,ee.privEnc),ee.pub&&this._importPublic(ee.pub,ee.pubEnc)}var key$1=KeyPair$3;KeyPair$3.fromPublic=function(ee,re,ne){return re instanceof KeyPair$3?re:new KeyPair$3(ee,{pub:re,pubEnc:ne})};KeyPair$3.fromPrivate=function(ee,re,ne){return re instanceof KeyPair$3?re:new KeyPair$3(ee,{priv:re,privEnc:ne})};KeyPair$3.prototype.validate=function(){var ee=this.getPublic();return ee.isInfinity()?{result:!1,reason:"Invalid public key"}:ee.validate()?ee.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};KeyPair$3.prototype.getPublic=function(ee,re){return typeof ee=="string"&&(re=ee,ee=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),re?this.pub.encode(re,ee):this.pub};KeyPair$3.prototype.getPrivate=function(ee){return ee==="hex"?this.priv.toString(16,2):this.priv};KeyPair$3.prototype._importPrivate=function(ee,re){this.priv=new BN$c(ee,re||16),this.priv=this.priv.umod(this.ec.curve.n)};KeyPair$3.prototype._importPublic=function(ee,re){if(ee.x||ee.y){this.ec.curve.type==="mont"?assert$8(ee.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$8(ee.x&&ee.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(ee.x,ee.y);return}this.pub=this.ec.curve.decodePoint(ee,re)};KeyPair$3.prototype.derive=function(ee){return ee.validate()||assert$8(ee.validate(),"public point not validated"),ee.mul(this.priv).getX()};KeyPair$3.prototype.sign=function(ee,re,ne){return this.ec.sign(ee,this,re,ne)};KeyPair$3.prototype.verify=function(ee,re){return this.ec.verify(ee,re,this)};KeyPair$3.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var BN$b=bn$4.exports,utils$9=utils$h,assert$7=utils$9.assert;function Signature$3(te,ee){if(te instanceof Signature$3)return te;this._importDER(te,ee)||(assert$7(te.r&&te.s,"Signature without r or s"),this.r=new BN$b(te.r,16),this.s=new BN$b(te.s,16),te.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=te.recoveryParam)}var signature$2=Signature$3;function Position(){this.place=0}function getLength$1(te,ee){var re=te[ee.place++];if(!(re&128))return re;var ne=re&15;if(ne===0||ne>4)return!1;for(var ie=0,oe=0,se=ee.place;oe<ne;oe++,se++)ie<<=8,ie|=te[se],ie>>>=0;return ie<=127?!1:(ee.place=se,ie)}function rmPadding(te){for(var ee=0,re=te.length-1;!te[ee]&&!(te[ee+1]&128)&&ee<re;)ee++;return ee===0?te:te.slice(ee)}Signature$3.prototype._importDER=function(ee,re){ee=utils$9.toArray(ee,re);var ne=new Position;if(ee[ne.place++]!==48)return!1;var ie=getLength$1(ee,ne);if(ie===!1||ie+ne.place!==ee.length||ee[ne.place++]!==2)return!1;var oe=getLength$1(ee,ne);if(oe===!1)return!1;var se=ee.slice(ne.place,oe+ne.place);if(ne.place+=oe,ee[ne.place++]!==2)return!1;var ae=getLength$1(ee,ne);if(ae===!1||ee.length!==ae+ne.place)return!1;var fe=ee.slice(ne.place,ae+ne.place);if(se[0]===0)if(se[1]&128)se=se.slice(1);else return!1;if(fe[0]===0)if(fe[1]&128)fe=fe.slice(1);else return!1;return this.r=new BN$b(se),this.s=new BN$b(fe),this.recoveryParam=null,!0};function constructLength(te,ee){if(ee<128){te.push(ee);return}var re=1+(Math.log(ee)/Math.LN2>>>3);for(te.push(re|128);--re;)te.push(ee>>>(re<<3)&255);te.push(ee)}Signature$3.prototype.toDER=function(ee){var re=this.r.toArray(),ne=this.s.toArray();for(re[0]&128&&(re=[0].concat(re)),ne[0]&128&&(ne=[0].concat(ne)),re=rmPadding(re),ne=rmPadding(ne);!ne[0]&&!(ne[1]&128);)ne=ne.slice(1);var ie=[2];constructLength(ie,re.length),ie=ie.concat(re),ie.push(2),constructLength(ie,ne.length);var oe=ie.concat(ne),se=[48];return constructLength(se,oe.length),se=se.concat(oe),utils$9.encode(se,ee)};var BN$a=bn$4.exports,HmacDRBG=hmacDrbg,utils$8=utils$h,curves$1=curves$2,rand=brorand.exports,assert$6=utils$8.assert,KeyPair$2=key$1,Signature$2=signature$2;function EC$3(te){if(!(this instanceof EC$3))return new EC$3(te);typeof te=="string"&&(assert$6(Object.prototype.hasOwnProperty.call(curves$1,te),"Unknown curve "+te),te=curves$1[te]),te instanceof curves$1.PresetCurve&&(te={curve:te}),this.curve=te.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=te.curve.g,this.g.precompute(te.curve.n.bitLength()+1),this.hash=te.hash||te.curve.hash}var ec$3=EC$3;EC$3.prototype.keyPair=function(ee){return new KeyPair$2(this,ee)};EC$3.prototype.keyFromPrivate=function(ee,re){return KeyPair$2.fromPrivate(this,ee,re)};EC$3.prototype.keyFromPublic=function(ee,re){return KeyPair$2.fromPublic(this,ee,re)};EC$3.prototype.genKeyPair=function(ee){ee||(ee={});for(var re=new HmacDRBG({hash:this.hash,pers:ee.pers,persEnc:ee.persEnc||"utf8",entropy:ee.entropy||rand(this.hash.hmacStrength),entropyEnc:ee.entropy&&ee.entropyEnc||"utf8",nonce:this.n.toArray()}),ne=this.n.byteLength(),ie=this.n.sub(new BN$a(2));;){var oe=new BN$a(re.generate(ne));if(!(oe.cmp(ie)>0))return oe.iaddn(1),this.keyFromPrivate(oe)}};EC$3.prototype._truncateToN=function(ee,re){var ne=ee.byteLength()*8-this.n.bitLength();return ne>0&&(ee=ee.ushrn(ne)),!re&&ee.cmp(this.n)>=0?ee.sub(this.n):ee};EC$3.prototype.sign=function(ee,re,ne,ie){typeof ne=="object"&&(ie=ne,ne=null),ie||(ie={}),re=this.keyFromPrivate(re,ne),ee=this._truncateToN(new BN$a(ee,16));for(var oe=this.n.byteLength(),se=re.getPrivate().toArray("be",oe),ae=ee.toArray("be",oe),fe=new HmacDRBG({hash:this.hash,entropy:se,nonce:ae,pers:ie.pers,persEnc:ie.persEnc||"utf8"}),ue=this.n.sub(new BN$a(1)),le=0;;le++){var pe=ie.k?ie.k(le):new BN$a(fe.generate(this.n.byteLength()));if(pe=this._truncateToN(pe,!0),!(pe.cmpn(1)<=0||pe.cmp(ue)>=0)){var rr=this.g.mul(pe);if(!rr.isInfinity()){var cr=rr.getX(),ar=cr.umod(this.n);if(ar.cmpn(0)!==0){var mr=pe.invm(this.n).mul(ar.mul(re.getPrivate()).iadd(ee));if(mr=mr.umod(this.n),mr.cmpn(0)!==0){var pr=(rr.getY().isOdd()?1:0)|(cr.cmp(ar)!==0?2:0);return ie.canonical&&mr.cmp(this.nh)>0&&(mr=this.n.sub(mr),pr^=1),new Signature$2({r:ar,s:mr,recoveryParam:pr})}}}}}};EC$3.prototype.verify=function(ee,re,ne,ie){ee=this._truncateToN(new BN$a(ee,16)),ne=this.keyFromPublic(ne,ie),re=new Signature$2(re,"hex");var oe=re.r,se=re.s;if(oe.cmpn(1)<0||oe.cmp(this.n)>=0||se.cmpn(1)<0||se.cmp(this.n)>=0)return!1;var ae=se.invm(this.n),fe=ae.mul(ee).umod(this.n),ue=ae.mul(oe).umod(this.n),le;return this.curve._maxwellTrick?(le=this.g.jmulAdd(fe,ne.getPublic(),ue),le.isInfinity()?!1:le.eqXToP(oe)):(le=this.g.mulAdd(fe,ne.getPublic(),ue),le.isInfinity()?!1:le.getX().umod(this.n).cmp(oe)===0)};EC$3.prototype.recoverPubKey=function(te,ee,re,ne){assert$6((3&re)===re,"The recovery param is more than two bits"),ee=new Signature$2(ee,ne);var ie=this.n,oe=new BN$a(te),se=ee.r,ae=ee.s,fe=re&1,ue=re>>1;if(se.cmp(this.curve.p.umod(this.curve.n))>=0&&ue)throw new Error("Unable to find sencond key candinate");ue?se=this.curve.pointFromX(se.add(this.curve.n),fe):se=this.curve.pointFromX(se,fe);var le=ee.r.invm(ie),pe=ie.sub(oe).mul(le).umod(ie),rr=ae.mul(le).umod(ie);return this.g.mulAdd(pe,se,rr)};EC$3.prototype.getKeyRecoveryParam=function(te,ee,re,ne){if(ee=new Signature$2(ee,ne),ee.recoveryParam!==null)return ee.recoveryParam;for(var ie=0;ie<4;ie++){var oe;try{oe=this.recoverPubKey(te,ee,ie)}catch{continue}if(oe.eq(re))return ie}throw new Error("Unable to find valid recovery factor")};var utils$7=utils$h,assert$5=utils$7.assert,parseBytes$2=utils$7.parseBytes,cachedProperty$1=utils$7.cachedProperty;function KeyPair$1(te,ee){this.eddsa=te,this._secret=parseBytes$2(ee.secret),te.isPoint(ee.pub)?this._pub=ee.pub:this._pubBytes=parseBytes$2(ee.pub)}KeyPair$1.fromPublic=function(ee,re){return re instanceof KeyPair$1?re:new KeyPair$1(ee,{pub:re})};KeyPair$1.fromSecret=function(ee,re){return re instanceof KeyPair$1?re:new KeyPair$1(ee,{secret:re})};KeyPair$1.prototype.secret=function(){return this._secret};cachedProperty$1(KeyPair$1,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});cachedProperty$1(KeyPair$1,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});cachedProperty$1(KeyPair$1,"privBytes",function(){var ee=this.eddsa,re=this.hash(),ne=ee.encodingLength-1,ie=re.slice(0,ee.encodingLength);return ie[0]&=248,ie[ne]&=127,ie[ne]|=64,ie});cachedProperty$1(KeyPair$1,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});cachedProperty$1(KeyPair$1,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});cachedProperty$1(KeyPair$1,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});KeyPair$1.prototype.sign=function(ee){return assert$5(this._secret,"KeyPair can only verify"),this.eddsa.sign(ee,this)};KeyPair$1.prototype.verify=function(ee,re){return this.eddsa.verify(ee,re,this)};KeyPair$1.prototype.getSecret=function(ee){return assert$5(this._secret,"KeyPair is public only"),utils$7.encode(this.secret(),ee)};KeyPair$1.prototype.getPublic=function(ee){return utils$7.encode(this.pubBytes(),ee)};var key=KeyPair$1,BN$9=bn$4.exports,utils$6=utils$h,assert$4=utils$6.assert,cachedProperty=utils$6.cachedProperty,parseBytes$1=utils$6.parseBytes;function Signature$1(te,ee){this.eddsa=te,typeof ee!="object"&&(ee=parseBytes$1(ee)),Array.isArray(ee)&&(ee={R:ee.slice(0,te.encodingLength),S:ee.slice(te.encodingLength)}),assert$4(ee.R&&ee.S,"Signature without R or S"),te.isPoint(ee.R)&&(this._R=ee.R),ee.S instanceof BN$9&&(this._S=ee.S),this._Rencoded=Array.isArray(ee.R)?ee.R:ee.Rencoded,this._Sencoded=Array.isArray(ee.S)?ee.S:ee.Sencoded}cachedProperty(Signature$1,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});cachedProperty(Signature$1,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});cachedProperty(Signature$1,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});cachedProperty(Signature$1,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Signature$1.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Signature$1.prototype.toHex=function(){return utils$6.encode(this.toBytes(),"hex").toUpperCase()};var signature$1=Signature$1,hash$2=hash$4,curves=curves$2,utils$5=utils$h,assert$3=utils$5.assert,parseBytes=utils$5.parseBytes,KeyPair=key,Signature=signature$1;function EDDSA(te){if(assert$3(te==="ed25519","only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(te);te=curves[te].curve,this.curve=te,this.g=te.g,this.g.precompute(te.n.bitLength()+1),this.pointClass=te.point().constructor,this.encodingLength=Math.ceil(te.n.bitLength()/8),this.hash=hash$2.sha512}var eddsa=EDDSA;EDDSA.prototype.sign=function(ee,re){ee=parseBytes(ee);var ne=this.keyFromSecret(re),ie=this.hashInt(ne.messagePrefix(),ee),oe=this.g.mul(ie),se=this.encodePoint(oe),ae=this.hashInt(se,ne.pubBytes(),ee).mul(ne.priv()),fe=ie.add(ae).umod(this.curve.n);return this.makeSignature({R:oe,S:fe,Rencoded:se})};EDDSA.prototype.verify=function(ee,re,ne){ee=parseBytes(ee),re=this.makeSignature(re);var ie=this.keyFromPublic(ne),oe=this.hashInt(re.Rencoded(),ie.pubBytes(),ee),se=this.g.mul(re.S()),ae=re.R().add(ie.pub().mul(oe));return ae.eq(se)};EDDSA.prototype.hashInt=function(){for(var ee=this.hash(),re=0;re<arguments.length;re++)ee.update(arguments[re]);return utils$5.intFromLE(ee.digest()).umod(this.curve.n)};EDDSA.prototype.keyFromPublic=function(ee){return KeyPair.fromPublic(this,ee)};EDDSA.prototype.keyFromSecret=function(ee){return KeyPair.fromSecret(this,ee)};EDDSA.prototype.makeSignature=function(ee){return ee instanceof Signature?ee:new Signature(this,ee)};EDDSA.prototype.encodePoint=function(ee){var re=ee.getY().toArray("le",this.encodingLength);return re[this.encodingLength-1]|=ee.getX().isOdd()?128:0,re};EDDSA.prototype.decodePoint=function(ee){ee=utils$5.parseBytes(ee);var re=ee.length-1,ne=ee.slice(0,re).concat(ee[re]&-129),ie=(ee[re]&128)!==0,oe=utils$5.intFromLE(ne);return this.curve.pointFromY(oe,ie)};EDDSA.prototype.encodeInt=function(ee){return ee.toArray("le",this.encodingLength)};EDDSA.prototype.decodeInt=function(ee){return utils$5.intFromLE(ee)};EDDSA.prototype.isPoint=function(ee){return ee instanceof this.pointClass};(function(te){var ee=te;ee.version=require$$0$2.version,ee.utils=utils$h,ee.rand=brorand.exports,ee.curve=curve,ee.curves=curves$2,ee.ec=ec$3,ee.eddsa=eddsa})(elliptic$2);const EC$2=elliptic$2.ec,ec$2=new EC$2("secp256k1"),ecparams$2=ec$2.curve,BN$8=ecparams$2.n.constructor;function loadCompressedPublicKey(te,ee){let re=new BN$8(ee);if(re.cmp(ecparams$2.p)>=0)return null;re=re.toRed(ecparams$2.red);let ne=re.redSqr().redIMul(re).redIAdd(ecparams$2.b).redSqrt();return te===3!==ne.isOdd()&&(ne=ne.redNeg()),ec$2.keyPair({pub:{x:re,y:ne}})}function loadUncompressedPublicKey(te,ee,re){let ne=new BN$8(ee),ie=new BN$8(re);if(ne.cmp(ecparams$2.p)>=0||ie.cmp(ecparams$2.p)>=0||(ne=ne.toRed(ecparams$2.red),ie=ie.toRed(ecparams$2.red),(te===6||te===7)&&ie.isOdd()!==(te===7)))return null;const oe=ne.redSqr().redIMul(ne);return ie.redSqr().redISub(oe.redIAdd(ecparams$2.b)).isZero()?ec$2.keyPair({pub:{x:ne,y:ie}}):null}function loadPublicKey(te){const ee=te[0];switch(ee){case 2:case 3:return te.length!==33?null:loadCompressedPublicKey(ee,te.subarray(1,33));case 4:case 6:case 7:return te.length!==65?null:loadUncompressedPublicKey(ee,te.subarray(1,33),te.subarray(33,65));default:return null}}function savePublicKey(te,ee){const re=ee.encode(null,te.length===33);for(let ne=0;ne<te.length;++ne)te[ne]=re[ne]}var elliptic$1={contextRandomize(){return 0},privateKeyVerify(te){const ee=new BN$8(te);return ee.cmp(ecparams$2.n)<0&&!ee.isZero()?0:1},privateKeyNegate(te){const ee=new BN$8(te),re=ecparams$2.n.sub(ee).umod(ecparams$2.n).toArrayLike(Uint8Array,"be",32);return te.set(re),0},privateKeyTweakAdd(te,ee){const re=new BN$8(ee);if(re.cmp(ecparams$2.n)>=0||(re.iadd(new BN$8(te)),re.cmp(ecparams$2.n)>=0&&re.isub(ecparams$2.n),re.isZero()))return 1;const ne=re.toArrayLike(Uint8Array,"be",32);return te.set(ne),0},privateKeyTweakMul(te,ee){let re=new BN$8(ee);if(re.cmp(ecparams$2.n)>=0||re.isZero())return 1;re.imul(new BN$8(te)),re.cmp(ecparams$2.n)>=0&&(re=re.umod(ecparams$2.n));const ne=re.toArrayLike(Uint8Array,"be",32);return te.set(ne),0},publicKeyVerify(te){return loadPublicKey(te)===null?1:0},publicKeyCreate(te,ee){const re=new BN$8(ee);if(re.cmp(ecparams$2.n)>=0||re.isZero())return 1;const ne=ec$2.keyFromPrivate(ee).getPublic();return savePublicKey(te,ne),0},publicKeyConvert(te,ee){const re=loadPublicKey(ee);if(re===null)return 1;const ne=re.getPublic();return savePublicKey(te,ne),0},publicKeyNegate(te,ee){const re=loadPublicKey(ee);if(re===null)return 1;const ne=re.getPublic();return ne.y=ne.y.redNeg(),savePublicKey(te,ne),0},publicKeyCombine(te,ee){const re=new Array(ee.length);for(let ie=0;ie<ee.length;++ie)if(re[ie]=loadPublicKey(ee[ie]),re[ie]===null)return 1;let ne=re[0].getPublic();for(let ie=1;ie<re.length;++ie)ne=ne.add(re[ie].pub);return ne.isInfinity()?2:(savePublicKey(te,ne),0)},publicKeyTweakAdd(te,ee,re){const ne=loadPublicKey(ee);if(ne===null)return 1;if(re=new BN$8(re),re.cmp(ecparams$2.n)>=0)return 2;const ie=ne.getPublic().add(ecparams$2.g.mul(re));return ie.isInfinity()?2:(savePublicKey(te,ie),0)},publicKeyTweakMul(te,ee,re){const ne=loadPublicKey(ee);if(ne===null)return 1;if(re=new BN$8(re),re.cmp(ecparams$2.n)>=0||re.isZero())return 2;const ie=ne.getPublic().mul(re);return savePublicKey(te,ie),0},signatureNormalize(te){const ee=new BN$8(te.subarray(0,32)),re=new BN$8(te.subarray(32,64));return ee.cmp(ecparams$2.n)>=0||re.cmp(ecparams$2.n)>=0?1:(re.cmp(ec$2.nh)===1&&te.set(ecparams$2.n.sub(re).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(te,ee){const re=ee.subarray(0,32),ne=ee.subarray(32,64);if(new BN$8(re).cmp(ecparams$2.n)>=0||new BN$8(ne).cmp(ecparams$2.n)>=0)return 1;const{output:ie}=te;let oe=ie.subarray(4,4+33);oe[0]=0,oe.set(re,1);let se=33,ae=0;for(;se>1&&oe[ae]===0&&!(oe[ae+1]&128);--se,++ae);if(oe=oe.subarray(ae),oe[0]&128||se>1&&oe[0]===0&&!(oe[1]&128))return 1;let fe=ie.subarray(6+33,6+33+33);fe[0]=0,fe.set(ne,1);let ue=33,le=0;for(;ue>1&&fe[le]===0&&!(fe[le+1]&128);--ue,++le);return fe=fe.subarray(le),fe[0]&128||ue>1&&fe[0]===0&&!(fe[1]&128)?1:(te.outputlen=6+se+ue,ie[0]=48,ie[1]=te.outputlen-2,ie[2]=2,ie[3]=oe.length,ie.set(oe,4),ie[4+se]=2,ie[5+se]=fe.length,ie.set(fe,6+se),0)},signatureImport(te,ee){if(ee.length<8||ee.length>72||ee[0]!==48||ee[1]!==ee.length-2||ee[2]!==2)return 1;const re=ee[3];if(re===0||5+re>=ee.length||ee[4+re]!==2)return 1;const ne=ee[5+re];if(ne===0||6+re+ne!==ee.length||ee[4]&128||re>1&&ee[4]===0&&!(ee[5]&128)||ee[re+6]&128||ne>1&&ee[re+6]===0&&!(ee[re+7]&128))return 1;let ie=ee.subarray(4,4+re);if(ie.length===33&&ie[0]===0&&(ie=ie.subarray(1)),ie.length>32)return 1;let oe=ee.subarray(6+re);if(oe.length===33&&oe[0]===0&&(oe=oe.slice(1)),oe.length>32)throw new Error("S length is too long");let se=new BN$8(ie);se.cmp(ecparams$2.n)>=0&&(se=new BN$8(0));let ae=new BN$8(ee.subarray(6+re));return ae.cmp(ecparams$2.n)>=0&&(ae=new BN$8(0)),te.set(se.toArrayLike(Uint8Array,"be",32),0),te.set(ae.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(te,ee,re,ne,ie){if(ie){const ae=ie;ie=fe=>{const ue=ae(ee,re,null,ne,fe);if(!(ue instanceof Uint8Array&&ue.length===32))throw new Error("This is the way");return new BN$8(ue)}}const oe=new BN$8(re);if(oe.cmp(ecparams$2.n)>=0||oe.isZero())return 1;let se;try{se=ec$2.sign(ee,re,{canonical:!0,k:ie,pers:ne})}catch{return 1}return te.signature.set(se.r.toArrayLike(Uint8Array,"be",32),0),te.signature.set(se.s.toArrayLike(Uint8Array,"be",32),32),te.recid=se.recoveryParam,0},ecdsaVerify(te,ee,re){const ne={r:te.subarray(0,32),s:te.subarray(32,64)},ie=new BN$8(ne.r),oe=new BN$8(ne.s);if(ie.cmp(ecparams$2.n)>=0||oe.cmp(ecparams$2.n)>=0)return 1;if(oe.cmp(ec$2.nh)===1||ie.isZero()||oe.isZero())return 3;const se=loadPublicKey(re);if(se===null)return 2;const ae=se.getPublic();return ec$2.verify(ee,ne,ae)?0:3},ecdsaRecover(te,ee,re,ne){const ie={r:ee.slice(0,32),s:ee.slice(32,64)},oe=new BN$8(ie.r),se=new BN$8(ie.s);if(oe.cmp(ecparams$2.n)>=0||se.cmp(ecparams$2.n)>=0)return 1;if(oe.isZero()||se.isZero())return 2;let ae;try{ae=ec$2.recoverPubKey(ne,ie,re)}catch{return 2}return savePublicKey(te,ae),0},ecdh(te,ee,re,ne,ie,oe,se){const ae=loadPublicKey(ee);if(ae===null)return 1;const fe=new BN$8(re);if(fe.cmp(ecparams$2.n)>=0||fe.isZero())return 2;const ue=ae.getPublic().mul(fe);if(ie===void 0){const le=ue.encode(null,!0),pe=ec$2.hash().update(le).digest();for(let rr=0;rr<32;++rr)te[rr]=pe[rr]}else{oe||(oe=new Uint8Array(32));const le=ue.getX().toArray("be",32);for(let ar=0;ar<32;++ar)oe[ar]=le[ar];se||(se=new Uint8Array(32));const pe=ue.getY().toArray("be",32);for(let ar=0;ar<32;++ar)se[ar]=pe[ar];const rr=ie(oe,se,ne);if(!(rr instanceof Uint8Array&&rr.length===te.length))return 2;te.set(rr)}return 0}},elliptic=lib$3(elliptic$1),random={},browser$3={exports:{}},MAX_BYTES=65536,MAX_UINT32=4294967295;function oldBrowser(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Buffer$i=safeBuffer.exports.Buffer,crypto$2=commonjsGlobal$1.crypto||commonjsGlobal$1.msCrypto;crypto$2&&crypto$2.getRandomValues?browser$3.exports=randomBytes$1:browser$3.exports=oldBrowser;function randomBytes$1(te,ee){if(te>MAX_UINT32)throw new RangeError("requested too many random bytes");var re=Buffer$i.allocUnsafe(te);if(te>0)if(te>MAX_BYTES)for(var ne=0;ne<te;ne+=MAX_BYTES)crypto$2.getRandomValues(re.slice(ne,ne+MAX_BYTES));else crypto$2.getRandomValues(re);return typeof ee=="function"?process.nextTick(function(){ee(null,re)}):re}Object.defineProperty(random,"__esModule",{value:!0});var randombytes=browser$3.exports;function getRandomBytes(te){return new Promise(function(ee,re){randombytes(te,function(ne,ie){if(ne){re(ne);return}ee(ie)})})}random.getRandomBytes=getRandomBytes;function getRandomBytesSync(te){return randombytes(te)}random.getRandomBytesSync=getRandomBytesSync;(function(te){var ee=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ue,le,pe,rr){function cr(ar){return ar instanceof pe?ar:new pe(function(mr){mr(ar)})}return new(pe||(pe=Promise))(function(ar,mr){function pr(Er){try{vr(rr.next(Er))}catch(Tr){mr(Tr)}}function yr(Er){try{vr(rr.throw(Er))}catch(Tr){mr(Tr)}}function vr(Er){Er.done?ar(Er.value):cr(Er.value).then(pr,yr)}vr((rr=rr.apply(ue,le||[])).next())})},re=commonjsGlobal$1&&commonjsGlobal$1.__generator||function(ue,le){var pe={label:0,sent:function(){if(ar[0]&1)throw ar[1];return ar[1]},trys:[],ops:[]},rr,cr,ar,mr;return mr={next:pr(0),throw:pr(1),return:pr(2)},typeof Symbol=="function"&&(mr[Symbol.iterator]=function(){return this}),mr;function pr(vr){return function(Er){return yr([vr,Er])}}function yr(vr){if(rr)throw new TypeError("Generator is already executing.");for(;pe;)try{if(rr=1,cr&&(ar=vr[0]&2?cr.return:vr[0]?cr.throw||((ar=cr.return)&&ar.call(cr),0):cr.next)&&!(ar=ar.call(cr,vr[1])).done)return ar;switch(cr=0,ar&&(vr=[vr[0]&2,ar.value]),vr[0]){case 0:case 1:ar=vr;break;case 4:return pe.label++,{value:vr[1],done:!1};case 5:pe.label++,cr=vr[1],vr=[0];continue;case 7:vr=pe.ops.pop(),pe.trys.pop();continue;default:if(ar=pe.trys,!(ar=ar.length>0&&ar[ar.length-1])&&(vr[0]===6||vr[0]===2)){pe=0;continue}if(vr[0]===3&&(!ar||vr[1]>ar[0]&&vr[1]<ar[3])){pe.label=vr[1];break}if(vr[0]===6&&pe.label<ar[1]){pe.label=ar[1],ar=vr;break}if(ar&&pe.label<ar[2]){pe.label=ar[2],pe.ops.push(vr);break}ar[2]&&pe.ops.pop(),pe.trys.pop();continue}vr=le.call(ue,pe)}catch(Er){vr=[6,Er],cr=0}finally{rr=ar=0}if(vr[0]&5)throw vr[1];return{value:vr[0]?vr[1]:void 0,done:!0}}};function ne(ue){for(var le in ue)te.hasOwnProperty(le)||(te[le]=ue[le])}Object.defineProperty(te,"__esModule",{value:!0});var ie=elliptic,oe=random,se=32;function ae(){return ee(this,void 0,void 0,function(){var ue;return re(this,function(le){switch(le.label){case 0:return[4,oe.getRandomBytes(se)];case 1:return ue=le.sent(),ie.privateKeyVerify(ue)?[2,ue]:[3,0];case 2:return[2]}})})}te.createPrivateKey=ae;function fe(){for(;;){var ue=oe.getRandomBytesSync(se);if(ie.privateKeyVerify(ue))return ue}}te.createPrivateKeySync=fe,ne(elliptic)})(secp256k1$2);var secp256k1Lib={},BN$7=bn$4.exports,EC$1=elliptic$2.ec,ec$1=new EC$1("secp256k1"),ecparams$1=ec$1.curve;secp256k1Lib.privateKeyExport=function(te,ee){var re=new BN$7(te);if(re.ucmp(ecparams$1.n)>=0)throw new Error("couldn't export to DER format");var ne=ec$1.g.mul(re);return toPublicKey$1(ne.getX(),ne.getY(),ee)};secp256k1Lib.privateKeyModInverse=function(te){var ee=new BN$7(te);if(ee.ucmp(ecparams$1.n)>=0||ee.isZero())throw new Error("private key range is invalid");return ee.invm(ecparams$1.n).toArrayLike(buffer$2.Buffer,"be",32)};secp256k1Lib.signatureImport=function(te){var ee=new BN$7(te.r);ee.ucmp(ecparams$1.n)>=0&&(ee=new BN$7(0));var re=new BN$7(te.s);return re.ucmp(ecparams$1.n)>=0&&(re=new BN$7(0)),buffer$2.Buffer.concat([ee.toArrayLike(buffer$2.Buffer,"be",32),re.toArrayLike(buffer$2.Buffer,"be",32)])};secp256k1Lib.ecdhUnsafe=function(te,ee,re){var ne=ec$1.keyFromPublic(te),ie=new BN$7(ee);if(ie.ucmp(ecparams$1.n)>=0||ie.isZero())throw new Error("scalar was invalid (zero or overflow)");var oe=ne.pub.mul(ie);return toPublicKey$1(oe.getX(),oe.getY(),re)};var toPublicKey$1=function(ee,re,ne){var ie=void 0;return ne?(ie=buffer$2.Buffer.alloc(33),ie[0]=re.isOdd()?3:2,ee.toArrayLike(buffer$2.Buffer,"be",32).copy(ie,1)):(ie=buffer$2.Buffer.alloc(65),ie[0]=4,ee.toArrayLike(buffer$2.Buffer,"be",32).copy(ie,1),re.toArrayLike(buffer$2.Buffer,"be",32).copy(ie,33)),ie},der$2={},EC_PRIVKEY_EXPORT_DER_COMPRESSED$1=buffer$2.Buffer.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),EC_PRIVKEY_EXPORT_DER_UNCOMPRESSED$1=buffer$2.Buffer.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);der$2.privateKeyExport=function(te,ee,re){var ne=buffer$2.Buffer.from(re?EC_PRIVKEY_EXPORT_DER_COMPRESSED$1:EC_PRIVKEY_EXPORT_DER_UNCOMPRESSED$1);return te.copy(ne,re?8:9),ee.copy(ne,re?181:214),ne};der$2.privateKeyImport=function(te){var ee=te.length,re=0;if(ee<re+1||te[re]!==48||(re+=1,ee<re+1||!(te[re]&128)))return null;var ne=te[re]&127;if(re+=1,ne<1||ne>2||ee<re+ne)return null;var ie=te[re+ne-1]|(ne>1?te[re+ne-2]<<8:0);return re+=ne,ee<re+ie||ee<re+3||te[re]!==2||te[re+1]!==1||te[re+2]!==1||(re+=3,ee<re+2||te[re]!==4||te[re+1]>32||ee<re+2+te[re+1])?null:te.slice(re+2,re+2+te[re+1])};der$2.signatureImportLax=function(te){var ee=buffer$2.Buffer.alloc(32,0),re=buffer$2.Buffer.alloc(32,0),ne=te.length,ie=0;if(te[ie++]!==48)return null;var oe=te[ie++];if(oe&128&&(ie+=oe-128,ie>ne)||te[ie++]!==2)return null;var se=te[ie++];if(se&128){if(oe=se-128,ie+oe>ne)return null;for(;oe>0&&te[ie]===0;ie+=1,oe-=1);for(se=0;oe>0;ie+=1,oe-=1)se=(se<<8)+te[ie]}if(se>ne-ie)return null;var ae=ie;if(ie+=se,te[ie++]!==2)return null;var fe=te[ie++];if(fe&128){if(oe=fe-128,ie+oe>ne)return null;for(;oe>0&&te[ie]===0;ie+=1,oe-=1);for(fe=0;oe>0;ie+=1,oe-=1)fe=(fe<<8)+te[ie]}if(fe>ne-ie)return null;var ue=ie;for(ie+=fe;se>0&&te[ae]===0;se-=1,ae+=1);if(se>32)return null;var le=te.slice(ae,ae+se);for(le.copy(ee,32-le.length);fe>0&&te[ue]===0;fe-=1,ue+=1);if(fe>32)return null;var pe=te.slice(ue,ue+fe);return pe.copy(re,32-pe.length),{r:ee,s:re}};var secp256k1$1=secp256k1$2,secp256k1v3=secp256k1Lib,der$1=der$2,privateKeyVerify=function(ee){return ee.length!==32?!1:secp256k1$1.privateKeyVerify(Uint8Array.from(ee))},privateKeyExport=function(ee,re){if(ee.length!==32)throw new RangeError("private key length is invalid");var ne=secp256k1v3.privateKeyExport(ee,re);return der$1.privateKeyExport(ee,ne,re)},privateKeyImport=function(ee){if(ee=der$1.privateKeyImport(ee),ee!==null&&ee.length===32&&privateKeyVerify(ee))return ee;throw new Error("couldn't import from DER format")},privateKeyNegate=function(ee){return buffer$2.Buffer.from(secp256k1$1.privateKeyNegate(Uint8Array.from(ee)))},privateKeyModInverse=function(ee){if(ee.length!==32)throw new Error("private key length is invalid");return buffer$2.Buffer.from(secp256k1v3.privateKeyModInverse(Uint8Array.from(ee)))},privateKeyTweakAdd=function(ee,re){return buffer$2.Buffer.from(secp256k1$1.privateKeyTweakAdd(Uint8Array.from(ee),re))},privateKeyTweakMul=function(ee,re){return buffer$2.Buffer.from(secp256k1$1.privateKeyTweakMul(Uint8Array.from(ee),Uint8Array.from(re)))},publicKeyCreate=function(ee,re){return buffer$2.Buffer.from(secp256k1$1.publicKeyCreate(Uint8Array.from(ee),re))},publicKeyConvert=function(ee,re){return buffer$2.Buffer.from(secp256k1$1.publicKeyConvert(Uint8Array.from(ee),re))},publicKeyVerify=function(ee){return ee.length!==33&&ee.length!==65?!1:secp256k1$1.publicKeyVerify(Uint8Array.from(ee))},publicKeyTweakAdd=function(ee,re,ne){return buffer$2.Buffer.from(secp256k1$1.publicKeyTweakAdd(Uint8Array.from(ee),Uint8Array.from(re),ne))},publicKeyTweakMul=function(ee,re,ne){return buffer$2.Buffer.from(secp256k1$1.publicKeyTweakMul(Uint8Array.from(ee),Uint8Array.from(re),ne))},publicKeyCombine=function(ee,re){var ne=[];return ee.forEach(function(ie){ne.push(Uint8Array.from(ie))}),buffer$2.Buffer.from(secp256k1$1.publicKeyCombine(ne,re))},signatureNormalize=function(ee){return buffer$2.Buffer.from(secp256k1$1.signatureNormalize(Uint8Array.from(ee)))},signatureExport=function(ee){return buffer$2.Buffer.from(secp256k1$1.signatureExport(Uint8Array.from(ee)))},signatureImport=function(ee){return buffer$2.Buffer.from(secp256k1$1.signatureImport(Uint8Array.from(ee)))},signatureImportLax=function(ee){if(ee.length===0)throw new RangeError("signature length is invalid");var re=der$1.signatureImportLax(ee);if(re===null)throw new Error("couldn't parse DER signature");return secp256k1v3.signatureImport(re)},sign=function(ee,re,ne){if(ne===null)throw new TypeError("options should be an Object");var ie=void 0;if(ne){if(ie={},ne.data===null)throw new TypeError("options.data should be a Buffer");if(ne.data){if(ne.data.length!==32)throw new RangeError("options.data length is invalid");ie.data=new Uint8Array(ne.data)}if(ne.noncefn===null)throw new TypeError("options.noncefn should be a Function");ne.noncefn&&(ie.noncefn=function(se,ae,fe,ue,le){var pe=fe!=null?buffer$2.Buffer.from(fe):null,rr=ue!=null?buffer$2.Buffer.from(ue):null,cr=buffer$2.Buffer.from("");return ne.noncefn&&(cr=ne.noncefn(buffer$2.Buffer.from(se),buffer$2.Buffer.from(ae),pe,rr,le)),Uint8Array.from(cr)})}var oe=secp256k1$1.ecdsaSign(Uint8Array.from(ee),Uint8Array.from(re),ie);return{signature:buffer$2.Buffer.from(oe.signature),recovery:oe.recid}},verify=function(ee,re,ne){return secp256k1$1.ecdsaVerify(Uint8Array.from(re),Uint8Array.from(ee),ne)},recover=function(ee,re,ne,ie){return buffer$2.Buffer.from(secp256k1$1.ecdsaRecover(Uint8Array.from(re),ne,Uint8Array.from(ee),ie))},ecdh=function(ee,re){return buffer$2.Buffer.from(secp256k1$1.ecdh(Uint8Array.from(ee),Uint8Array.from(re),{}))},ecdhUnsafe=function(ee,re,ne){if(ee.length!==33&&ee.length!==65)throw new RangeError("public key length is invalid");if(re.length!==32)throw new RangeError("private key length is invalid");return buffer$2.Buffer.from(secp256k1v3.ecdhUnsafe(Uint8Array.from(ee),Uint8Array.from(re),ne))},secp256k1Adapter={privateKeyVerify,privateKeyExport,privateKeyImport,privateKeyNegate,privateKeyModInverse,privateKeyTweakAdd,privateKeyTweakMul,publicKeyCreate,publicKeyConvert,publicKeyVerify,publicKeyTweakAdd,publicKeyTweakMul,publicKeyCombine,signatureNormalize,signatureExport,signatureImport,signatureImportLax,sign,verify,recover,ecdh,ecdhUnsafe},assert$2={exports:{}};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty$6=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(te){if(te==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(te)}function shouldUseNative(){try{if(!Object.assign)return!1;var te=new String("abc");if(te[5]="de",Object.getOwnPropertyNames(te)[0]==="5")return!1;for(var ee={},re=0;re<10;re++)ee["_"+String.fromCharCode(re)]=re;var ne=Object.getOwnPropertyNames(ee).map(function(oe){return ee[oe]});if(ne.join("")!=="0123456789")return!1;var ie={};return"abcdefghijklmnopqrst".split("").forEach(function(oe){ie[oe]=oe}),Object.keys(Object.assign({},ie)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var objectAssign$1=shouldUseNative()?Object.assign:function(te,ee){for(var re,ne=toObject(te),ie,oe=1;oe<arguments.length;oe++){re=Object(arguments[oe]);for(var se in re)hasOwnProperty$6.call(re,se)&&(ne[se]=re[se]);if(getOwnPropertySymbols){ie=getOwnPropertySymbols(re);for(var ae=0;ae<ie.length;ae++)propIsEnumerable.call(re,ie[ae])&&(ne[ie[ae]]=re[ie[ae]])}}return ne},util$8={},isBufferBrowser=function(ee){return ee&&typeof ee=="object"&&typeof ee.copy=="function"&&typeof ee.fill=="function"&&typeof ee.readUInt8=="function"},inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(ee,re){ee.super_=re,ee.prototype=Object.create(re.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}})}:inherits_browser.exports=function(ee,re){ee.super_=re;var ne=function(){};ne.prototype=re.prototype,ee.prototype=new ne,ee.prototype.constructor=ee};(function(te){var ee=/%[sdj%]/g;te.format=function(ur){if(!Er(ur)){for(var lr=[],er=0;er<arguments.length;er++)lr.push(ie(arguments[er]));return lr.join(" ")}for(var er=1,nr=arguments,or=nr.length,ye=String(ur).replace(ee,function(Ar){if(Ar==="%%")return"%";if(er>=or)return Ar;switch(Ar){case"%s":return String(nr[er++]);case"%d":return Number(nr[er++]);case"%j":try{return JSON.stringify(nr[er++])}catch{return"[Circular]"}default:return Ar}}),gr=nr[er];er<or;gr=nr[++er])pr(gr)||!Hr(gr)?ye+=" "+gr:ye+=" "+ie(gr);return ye},te.deprecate=function(ur,lr){if(Ir(commonjsGlobal$1.process))return function(){return te.deprecate(ur,lr).apply(this,arguments)};if(process.noDeprecation===!0)return ur;var er=!1;function nr(){if(!er){if(process.throwDeprecation)throw new Error(lr);process.traceDeprecation?console.trace(lr):console.error(lr),er=!0}return ur.apply(this,arguments)}return nr};var re={},ne;te.debuglog=function(ur){if(Ir(ne)&&(ne={}.NODE_DEBUG||""),ur=ur.toUpperCase(),!re[ur])if(new RegExp("\\b"+ur+"\\b","i").test(ne)){var lr=process.pid;re[ur]=function(){var er=te.format.apply(te,arguments);console.error("%s %d: %s",ur,lr,er)}}else re[ur]=function(){};return re[ur]};function ie(ur,lr){var er={seen:[],stylize:se};return arguments.length>=3&&(er.depth=arguments[2]),arguments.length>=4&&(er.colors=arguments[3]),mr(lr)?er.showHidden=lr:lr&&te._extend(er,lr),Ir(er.showHidden)&&(er.showHidden=!1),Ir(er.depth)&&(er.depth=2),Ir(er.colors)&&(er.colors=!1),Ir(er.customInspect)&&(er.customInspect=!0),er.colors&&(er.stylize=oe),fe(er,ur,er.depth)}te.inspect=ie,ie.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},ie.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function oe(ur,lr){var er=ie.styles[lr];return er?"\x1B["+ie.colors[er][0]+"m"+ur+"\x1B["+ie.colors[er][1]+"m":ur}function se(ur,lr){return ur}function ae(ur){var lr={};return ur.forEach(function(er,nr){lr[er]=!0}),lr}function fe(ur,lr,er){if(ur.customInspect&&lr&&Nr(lr.inspect)&&lr.inspect!==te.inspect&&!(lr.constructor&&lr.constructor.prototype===lr)){var nr=lr.inspect(er,ur);return Er(nr)||(nr=fe(ur,nr,er)),nr}var or=ue(ur,lr);if(or)return or;var ye=Object.keys(lr),gr=ae(ye);if(ur.showHidden&&(ye=Object.getOwnPropertyNames(lr)),Br(lr)&&(ye.indexOf("message")>=0||ye.indexOf("description")>=0))return le(lr);if(ye.length===0){if(Nr(lr)){var Ar=lr.name?": "+lr.name:"";return ur.stylize("[Function"+Ar+"]","special")}if(Or(lr))return ur.stylize(RegExp.prototype.toString.call(lr),"regexp");if(Pr(lr))return ur.stylize(Date.prototype.toString.call(lr),"date");if(Br(lr))return le(lr)}var br="",Cr=!1,Lr=["{","}"];if(ar(lr)&&(Cr=!0,Lr=["[","]"]),Nr(lr)){var Dr=lr.name?": "+lr.name:"";br=" [Function"+Dr+"]"}if(Or(lr)&&(br=" "+RegExp.prototype.toString.call(lr)),Pr(lr)&&(br=" "+Date.prototype.toUTCString.call(lr)),Br(lr)&&(br=" "+le(lr)),ye.length===0&&(!Cr||lr.length==0))return Lr[0]+br+Lr[1];if(er<0)return Or(lr)?ur.stylize(RegExp.prototype.toString.call(lr),"regexp"):ur.stylize("[Object]","special");ur.seen.push(lr);var Wr;return Cr?Wr=pe(ur,lr,er,gr,ye):Wr=ye.map(function(Qr){return rr(ur,lr,er,gr,Qr,Cr)}),ur.seen.pop(),cr(Wr,br,Lr)}function ue(ur,lr){if(Ir(lr))return ur.stylize("undefined","undefined");if(Er(lr)){var er="'"+JSON.stringify(lr).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ur.stylize(er,"string")}if(vr(lr))return ur.stylize(""+lr,"number");if(mr(lr))return ur.stylize(""+lr,"boolean");if(pr(lr))return ur.stylize("null","null")}function le(ur){return"["+Error.prototype.toString.call(ur)+"]"}function pe(ur,lr,er,nr,or){for(var ye=[],gr=0,Ar=lr.length;gr<Ar;++gr)ir(lr,String(gr))?ye.push(rr(ur,lr,er,nr,String(gr),!0)):ye.push("");return or.forEach(function(br){br.match(/^\d+$/)||ye.push(rr(ur,lr,er,nr,br,!0))}),ye}function rr(ur,lr,er,nr,or,ye){var gr,Ar,br;if(br=Object.getOwnPropertyDescriptor(lr,or)||{value:lr[or]},br.get?br.set?Ar=ur.stylize("[Getter/Setter]","special"):Ar=ur.stylize("[Getter]","special"):br.set&&(Ar=ur.stylize("[Setter]","special")),ir(nr,or)||(gr="["+or+"]"),Ar||(ur.seen.indexOf(br.value)<0?(pr(er)?Ar=fe(ur,br.value,null):Ar=fe(ur,br.value,er-1),Ar.indexOf(`
`)>-1&&(ye?Ar=Ar.split(`
`).map(function(Cr){return"  "+Cr}).join(`
`).substr(2):Ar=`
`+Ar.split(`
`).map(function(Cr){return"   "+Cr}).join(`
`))):Ar=ur.stylize("[Circular]","special")),Ir(gr)){if(ye&&or.match(/^\d+$/))return Ar;gr=JSON.stringify(""+or),gr.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(gr=gr.substr(1,gr.length-2),gr=ur.stylize(gr,"name")):(gr=gr.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),gr=ur.stylize(gr,"string"))}return gr+": "+Ar}function cr(ur,lr,er){var nr=ur.reduce(function(or,ye){return ye.indexOf(`
`)>=0,or+ye.replace(/\u001b\[\d\d?m/g,"").length+1},0);return nr>60?er[0]+(lr===""?"":lr+`
 `)+" "+ur.join(`,
  `)+" "+er[1]:er[0]+lr+" "+ur.join(", ")+" "+er[1]}function ar(ur){return Array.isArray(ur)}te.isArray=ar;function mr(ur){return typeof ur=="boolean"}te.isBoolean=mr;function pr(ur){return ur===null}te.isNull=pr;function yr(ur){return ur==null}te.isNullOrUndefined=yr;function vr(ur){return typeof ur=="number"}te.isNumber=vr;function Er(ur){return typeof ur=="string"}te.isString=Er;function Tr(ur){return typeof ur=="symbol"}te.isSymbol=Tr;function Ir(ur){return ur===void 0}te.isUndefined=Ir;function Or(ur){return Hr(ur)&&tr(ur)==="[object RegExp]"}te.isRegExp=Or;function Hr(ur){return typeof ur=="object"&&ur!==null}te.isObject=Hr;function Pr(ur){return Hr(ur)&&tr(ur)==="[object Date]"}te.isDate=Pr;function Br(ur){return Hr(ur)&&(tr(ur)==="[object Error]"||ur instanceof Error)}te.isError=Br;function Nr(ur){return typeof ur=="function"}te.isFunction=Nr;function dr(ur){return ur===null||typeof ur=="boolean"||typeof ur=="number"||typeof ur=="string"||typeof ur=="symbol"||typeof ur=="undefined"}te.isPrimitive=dr,te.isBuffer=isBufferBrowser;function tr(ur){return Object.prototype.toString.call(ur)}function ve(ur){return ur<10?"0"+ur.toString(10):ur.toString(10)}var ce=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function me(){var ur=new Date,lr=[ve(ur.getHours()),ve(ur.getMinutes()),ve(ur.getSeconds())].join(":");return[ur.getDate(),ce[ur.getMonth()],lr].join(" ")}te.log=function(){console.log("%s - %s",me(),te.format.apply(te,arguments))},te.inherits=inherits_browser.exports,te._extend=function(ur,lr){if(!lr||!Hr(lr))return ur;for(var er=Object.keys(lr),nr=er.length;nr--;)ur[er[nr]]=lr[er[nr]];return ur};function ir(ur,lr){return Object.prototype.hasOwnProperty.call(ur,lr)}})(util$8);var objectAssign=objectAssign$1;/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function compare(te,ee){if(te===ee)return 0;for(var re=te.length,ne=ee.length,ie=0,oe=Math.min(re,ne);ie<oe;++ie)if(te[ie]!==ee[ie]){re=te[ie],ne=ee[ie];break}return re<ne?-1:ne<re?1:0}function isBuffer$2(te){return commonjsGlobal$1.Buffer&&typeof commonjsGlobal$1.Buffer.isBuffer=="function"?commonjsGlobal$1.Buffer.isBuffer(te):!!(te!=null&&te._isBuffer)}var util$7=util$8,hasOwn=Object.prototype.hasOwnProperty,pSlice=Array.prototype.slice,functionsHaveNames=function(){return function(){}.name==="foo"}();function pToString(te){return Object.prototype.toString.call(te)}function isView(te){return isBuffer$2(te)||typeof commonjsGlobal$1.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(te):te?!!(te instanceof DataView||te.buffer&&te.buffer instanceof ArrayBuffer):!1}var assert$1=assert$2.exports=ok,regex$1=/\s*function\s+([^\(\s]*)\s*/;function getName(te){if(!!util$7.isFunction(te)){if(functionsHaveNames)return te.name;var ee=te.toString(),re=ee.match(regex$1);return re&&re[1]}}assert$1.AssertionError=function(ee){this.name="AssertionError",this.actual=ee.actual,this.expected=ee.expected,this.operator=ee.operator,ee.message?(this.message=ee.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var re=ee.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,re);else{var ne=new Error;if(ne.stack){var ie=ne.stack,oe=getName(re),se=ie.indexOf(`
`+oe);if(se>=0){var ae=ie.indexOf(`
`,se+1);ie=ie.substring(ae+1)}this.stack=ie}}};util$7.inherits(assert$1.AssertionError,Error);function truncate(te,ee){return typeof te=="string"?te.length<ee?te:te.slice(0,ee):te}function inspect$1(te){if(functionsHaveNames||!util$7.isFunction(te))return util$7.inspect(te);var ee=getName(te),re=ee?": "+ee:"";return"[Function"+re+"]"}function getMessage(te){return truncate(inspect$1(te.actual),128)+" "+te.operator+" "+truncate(inspect$1(te.expected),128)}function fail(te,ee,re,ne,ie){throw new assert$1.AssertionError({message:re,actual:te,expected:ee,operator:ne,stackStartFunction:ie})}assert$1.fail=fail;function ok(te,ee){te||fail(te,!0,ee,"==",assert$1.ok)}assert$1.ok=ok;assert$1.equal=function(ee,re,ne){ee!=re&&fail(ee,re,ne,"==",assert$1.equal)};assert$1.notEqual=function(ee,re,ne){ee==re&&fail(ee,re,ne,"!=",assert$1.notEqual)};assert$1.deepEqual=function(ee,re,ne){_deepEqual(ee,re,!1)||fail(ee,re,ne,"deepEqual",assert$1.deepEqual)};assert$1.deepStrictEqual=function(ee,re,ne){_deepEqual(ee,re,!0)||fail(ee,re,ne,"deepStrictEqual",assert$1.deepStrictEqual)};function _deepEqual(te,ee,re,ne){if(te===ee)return!0;if(isBuffer$2(te)&&isBuffer$2(ee))return compare(te,ee)===0;if(util$7.isDate(te)&&util$7.isDate(ee))return te.getTime()===ee.getTime();if(util$7.isRegExp(te)&&util$7.isRegExp(ee))return te.source===ee.source&&te.global===ee.global&&te.multiline===ee.multiline&&te.lastIndex===ee.lastIndex&&te.ignoreCase===ee.ignoreCase;if((te===null||typeof te!="object")&&(ee===null||typeof ee!="object"))return re?te===ee:te==ee;if(isView(te)&&isView(ee)&&pToString(te)===pToString(ee)&&!(te instanceof Float32Array||te instanceof Float64Array))return compare(new Uint8Array(te.buffer),new Uint8Array(ee.buffer))===0;if(isBuffer$2(te)!==isBuffer$2(ee))return!1;ne=ne||{actual:[],expected:[]};var ie=ne.actual.indexOf(te);return ie!==-1&&ie===ne.expected.indexOf(ee)?!0:(ne.actual.push(te),ne.expected.push(ee),objEquiv(te,ee,re,ne))}function isArguments$2(te){return Object.prototype.toString.call(te)=="[object Arguments]"}function objEquiv(te,ee,re,ne){if(te==null||ee===null||ee===void 0)return!1;if(util$7.isPrimitive(te)||util$7.isPrimitive(ee))return te===ee;if(re&&Object.getPrototypeOf(te)!==Object.getPrototypeOf(ee))return!1;var ie=isArguments$2(te),oe=isArguments$2(ee);if(ie&&!oe||!ie&&oe)return!1;if(ie)return te=pSlice.call(te),ee=pSlice.call(ee),_deepEqual(te,ee,re);var se=objectKeys$2(te),ae=objectKeys$2(ee),fe,ue;if(se.length!==ae.length)return!1;for(se.sort(),ae.sort(),ue=se.length-1;ue>=0;ue--)if(se[ue]!==ae[ue])return!1;for(ue=se.length-1;ue>=0;ue--)if(fe=se[ue],!_deepEqual(te[fe],ee[fe],re,ne))return!1;return!0}assert$1.notDeepEqual=function(ee,re,ne){_deepEqual(ee,re,!1)&&fail(ee,re,ne,"notDeepEqual",assert$1.notDeepEqual)};assert$1.notDeepStrictEqual=notDeepStrictEqual;function notDeepStrictEqual(te,ee,re){_deepEqual(te,ee,!0)&&fail(te,ee,re,"notDeepStrictEqual",notDeepStrictEqual)}assert$1.strictEqual=function(ee,re,ne){ee!==re&&fail(ee,re,ne,"===",assert$1.strictEqual)};assert$1.notStrictEqual=function(ee,re,ne){ee===re&&fail(ee,re,ne,"!==",assert$1.notStrictEqual)};function expectedException(te,ee){if(!te||!ee)return!1;if(Object.prototype.toString.call(ee)=="[object RegExp]")return ee.test(te);try{if(te instanceof ee)return!0}catch{}return Error.isPrototypeOf(ee)?!1:ee.call({},te)===!0}function _tryBlock(te){var ee;try{te()}catch(re){ee=re}return ee}function _throws(te,ee,re,ne){var ie;if(typeof ee!="function")throw new TypeError('"block" argument must be a function');typeof re=="string"&&(ne=re,re=null),ie=_tryBlock(ee),ne=(re&&re.name?" ("+re.name+").":".")+(ne?" "+ne:"."),te&&!ie&&fail(ie,re,"Missing expected exception"+ne);var oe=typeof ne=="string",se=!te&&util$7.isError(ie),ae=!te&&ie&&!re;if((se&&oe&&expectedException(ie,re)||ae)&&fail(ie,re,"Got unwanted exception"+ne),te&&ie&&re&&!expectedException(ie,re)||!te&&ie)throw ie}assert$1.throws=function(te,ee,re){_throws(!0,te,ee,re)};assert$1.doesNotThrow=function(te,ee,re){_throws(!1,te,ee,re)};assert$1.ifError=function(te){if(te)throw te};function strict(te,ee){te||fail(te,!0,ee,"==",strict)}assert$1.strict=objectAssign(strict,assert$1,{equal:assert$1.strictEqual,deepEqual:assert$1.deepStrictEqual,notEqual:assert$1.notStrictEqual,notDeepEqual:assert$1.notDeepStrictEqual});assert$1.strict.strict=assert$1.strict;var objectKeys$2=Object.keys||function(te){var ee=[];for(var re in te)hasOwn.call(te,re)&&ee.push(re);return ee},dist_browser={},bn$3={exports:{}};(function(te){(function(ee,re){function ne(ve,ce){if(!ve)throw new Error(ce||"Assertion failed")}function ie(ve,ce){ve.super_=ce;var me=function(){};me.prototype=ce.prototype,ve.prototype=new me,ve.prototype.constructor=ve}function oe(ve,ce,me){if(oe.isBN(ve))return ve;this.negative=0,this.words=null,this.length=0,this.red=null,ve!==null&&((ce==="le"||ce==="be")&&(me=ce,ce=10),this._init(ve||0,ce||10,me||"be"))}typeof ee=="object"?ee.exports=oe:re.BN=oe,oe.BN=oe,oe.wordSize=26;var se;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?se=window.Buffer:se=require("buffer").Buffer}catch{}oe.isBN=function(ce){return ce instanceof oe?!0:ce!==null&&typeof ce=="object"&&ce.constructor.wordSize===oe.wordSize&&Array.isArray(ce.words)},oe.max=function(ce,me){return ce.cmp(me)>0?ce:me},oe.min=function(ce,me){return ce.cmp(me)<0?ce:me},oe.prototype._init=function(ce,me,ir){if(typeof ce=="number")return this._initNumber(ce,me,ir);if(typeof ce=="object")return this._initArray(ce,me,ir);me==="hex"&&(me=16),ne(me===(me|0)&&me>=2&&me<=36),ce=ce.toString().replace(/\s+/g,"");var ur=0;ce[0]==="-"&&(ur++,this.negative=1),ur<ce.length&&(me===16?this._parseHex(ce,ur,ir):(this._parseBase(ce,me,ur),ir==="le"&&this._initArray(this.toArray(),me,ir)))},oe.prototype._initNumber=function(ce,me,ir){ce<0&&(this.negative=1,ce=-ce),ce<67108864?(this.words=[ce&67108863],this.length=1):ce<4503599627370496?(this.words=[ce&67108863,ce/67108864&67108863],this.length=2):(ne(ce<9007199254740992),this.words=[ce&67108863,ce/67108864&67108863,1],this.length=3),ir==="le"&&this._initArray(this.toArray(),me,ir)},oe.prototype._initArray=function(ce,me,ir){if(ne(typeof ce.length=="number"),ce.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(ce.length/3),this.words=new Array(this.length);for(var ur=0;ur<this.length;ur++)this.words[ur]=0;var lr,er,nr=0;if(ir==="be")for(ur=ce.length-1,lr=0;ur>=0;ur-=3)er=ce[ur]|ce[ur-1]<<8|ce[ur-2]<<16,this.words[lr]|=er<<nr&67108863,this.words[lr+1]=er>>>26-nr&67108863,nr+=24,nr>=26&&(nr-=26,lr++);else if(ir==="le")for(ur=0,lr=0;ur<ce.length;ur+=3)er=ce[ur]|ce[ur+1]<<8|ce[ur+2]<<16,this.words[lr]|=er<<nr&67108863,this.words[lr+1]=er>>>26-nr&67108863,nr+=24,nr>=26&&(nr-=26,lr++);return this._strip()};function ae(ve,ce){var me=ve.charCodeAt(ce);if(me>=48&&me<=57)return me-48;if(me>=65&&me<=70)return me-55;if(me>=97&&me<=102)return me-87;ne(!1,"Invalid character in "+ve)}function fe(ve,ce,me){var ir=ae(ve,me);return me-1>=ce&&(ir|=ae(ve,me-1)<<4),ir}oe.prototype._parseHex=function(ce,me,ir){this.length=Math.ceil((ce.length-me)/6),this.words=new Array(this.length);for(var ur=0;ur<this.length;ur++)this.words[ur]=0;var lr=0,er=0,nr;if(ir==="be")for(ur=ce.length-1;ur>=me;ur-=2)nr=fe(ce,me,ur)<<lr,this.words[er]|=nr&67108863,lr>=18?(lr-=18,er+=1,this.words[er]|=nr>>>26):lr+=8;else{var or=ce.length-me;for(ur=or%2===0?me+1:me;ur<ce.length;ur+=2)nr=fe(ce,me,ur)<<lr,this.words[er]|=nr&67108863,lr>=18?(lr-=18,er+=1,this.words[er]|=nr>>>26):lr+=8}this._strip()};function ue(ve,ce,me,ir){for(var ur=0,lr=0,er=Math.min(ve.length,me),nr=ce;nr<er;nr++){var or=ve.charCodeAt(nr)-48;ur*=ir,or>=49?lr=or-49+10:or>=17?lr=or-17+10:lr=or,ne(or>=0&&lr<ir,"Invalid character"),ur+=lr}return ur}oe.prototype._parseBase=function(ce,me,ir){this.words=[0],this.length=1;for(var ur=0,lr=1;lr<=67108863;lr*=me)ur++;ur--,lr=lr/me|0;for(var er=ce.length-ir,nr=er%ur,or=Math.min(er,er-nr)+ir,ye=0,gr=ir;gr<or;gr+=ur)ye=ue(ce,gr,gr+ur,me),this.imuln(lr),this.words[0]+ye<67108864?this.words[0]+=ye:this._iaddn(ye);if(nr!==0){var Ar=1;for(ye=ue(ce,gr,ce.length,me),gr=0;gr<nr;gr++)Ar*=me;this.imuln(Ar),this.words[0]+ye<67108864?this.words[0]+=ye:this._iaddn(ye)}this._strip()},oe.prototype.copy=function(ce){ce.words=new Array(this.length);for(var me=0;me<this.length;me++)ce.words[me]=this.words[me];ce.length=this.length,ce.negative=this.negative,ce.red=this.red};function le(ve,ce){ve.words=ce.words,ve.length=ce.length,ve.negative=ce.negative,ve.red=ce.red}if(oe.prototype._move=function(ce){le(ce,this)},oe.prototype.clone=function(){var ce=new oe(null);return this.copy(ce),ce},oe.prototype._expand=function(ce){for(;this.length<ce;)this.words[this.length++]=0;return this},oe.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},oe.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{oe.prototype[Symbol.for("nodejs.util.inspect.custom")]=pe}catch{oe.prototype.inspect=pe}else oe.prototype.inspect=pe;function pe(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var rr=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],cr=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ar=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];oe.prototype.toString=function(ce,me){ce=ce||10,me=me|0||1;var ir;if(ce===16||ce==="hex"){ir="";for(var ur=0,lr=0,er=0;er<this.length;er++){var nr=this.words[er],or=((nr<<ur|lr)&16777215).toString(16);lr=nr>>>24-ur&16777215,lr!==0||er!==this.length-1?ir=rr[6-or.length]+or+ir:ir=or+ir,ur+=2,ur>=26&&(ur-=26,er--)}for(lr!==0&&(ir=lr.toString(16)+ir);ir.length%me!==0;)ir="0"+ir;return this.negative!==0&&(ir="-"+ir),ir}if(ce===(ce|0)&&ce>=2&&ce<=36){var ye=cr[ce],gr=ar[ce];ir="";var Ar=this.clone();for(Ar.negative=0;!Ar.isZero();){var br=Ar.modrn(gr).toString(ce);Ar=Ar.idivn(gr),Ar.isZero()?ir=br+ir:ir=rr[ye-br.length]+br+ir}for(this.isZero()&&(ir="0"+ir);ir.length%me!==0;)ir="0"+ir;return this.negative!==0&&(ir="-"+ir),ir}ne(!1,"Base should be between 2 and 36")},oe.prototype.toNumber=function(){var ce=this.words[0];return this.length===2?ce+=this.words[1]*67108864:this.length===3&&this.words[2]===1?ce+=4503599627370496+this.words[1]*67108864:this.length>2&&ne(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-ce:ce},oe.prototype.toJSON=function(){return this.toString(16,2)},se&&(oe.prototype.toBuffer=function(ce,me){return this.toArrayLike(se,ce,me)}),oe.prototype.toArray=function(ce,me){return this.toArrayLike(Array,ce,me)};var mr=function(ce,me){return ce.allocUnsafe?ce.allocUnsafe(me):new ce(me)};oe.prototype.toArrayLike=function(ce,me,ir){this._strip();var ur=this.byteLength(),lr=ir||Math.max(1,ur);ne(ur<=lr,"byte array longer than desired length"),ne(lr>0,"Requested array length <= 0");var er=mr(ce,lr),nr=me==="le"?"LE":"BE";return this["_toArrayLike"+nr](er,ur),er},oe.prototype._toArrayLikeLE=function(ce,me){for(var ir=0,ur=0,lr=0,er=0;lr<this.length;lr++){var nr=this.words[lr]<<er|ur;ce[ir++]=nr&255,ir<ce.length&&(ce[ir++]=nr>>8&255),ir<ce.length&&(ce[ir++]=nr>>16&255),er===6?(ir<ce.length&&(ce[ir++]=nr>>24&255),ur=0,er=0):(ur=nr>>>24,er+=2)}if(ir<ce.length)for(ce[ir++]=ur;ir<ce.length;)ce[ir++]=0},oe.prototype._toArrayLikeBE=function(ce,me){for(var ir=ce.length-1,ur=0,lr=0,er=0;lr<this.length;lr++){var nr=this.words[lr]<<er|ur;ce[ir--]=nr&255,ir>=0&&(ce[ir--]=nr>>8&255),ir>=0&&(ce[ir--]=nr>>16&255),er===6?(ir>=0&&(ce[ir--]=nr>>24&255),ur=0,er=0):(ur=nr>>>24,er+=2)}if(ir>=0)for(ce[ir--]=ur;ir>=0;)ce[ir--]=0},Math.clz32?oe.prototype._countBits=function(ce){return 32-Math.clz32(ce)}:oe.prototype._countBits=function(ce){var me=ce,ir=0;return me>=4096&&(ir+=13,me>>>=13),me>=64&&(ir+=7,me>>>=7),me>=8&&(ir+=4,me>>>=4),me>=2&&(ir+=2,me>>>=2),ir+me},oe.prototype._zeroBits=function(ce){if(ce===0)return 26;var me=ce,ir=0;return(me&8191)===0&&(ir+=13,me>>>=13),(me&127)===0&&(ir+=7,me>>>=7),(me&15)===0&&(ir+=4,me>>>=4),(me&3)===0&&(ir+=2,me>>>=2),(me&1)===0&&ir++,ir},oe.prototype.bitLength=function(){var ce=this.words[this.length-1],me=this._countBits(ce);return(this.length-1)*26+me};function pr(ve){for(var ce=new Array(ve.bitLength()),me=0;me<ce.length;me++){var ir=me/26|0,ur=me%26;ce[me]=ve.words[ir]>>>ur&1}return ce}oe.prototype.zeroBits=function(){if(this.isZero())return 0;for(var ce=0,me=0;me<this.length;me++){var ir=this._zeroBits(this.words[me]);if(ce+=ir,ir!==26)break}return ce},oe.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},oe.prototype.toTwos=function(ce){return this.negative!==0?this.abs().inotn(ce).iaddn(1):this.clone()},oe.prototype.fromTwos=function(ce){return this.testn(ce-1)?this.notn(ce).iaddn(1).ineg():this.clone()},oe.prototype.isNeg=function(){return this.negative!==0},oe.prototype.neg=function(){return this.clone().ineg()},oe.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},oe.prototype.iuor=function(ce){for(;this.length<ce.length;)this.words[this.length++]=0;for(var me=0;me<ce.length;me++)this.words[me]=this.words[me]|ce.words[me];return this._strip()},oe.prototype.ior=function(ce){return ne((this.negative|ce.negative)===0),this.iuor(ce)},oe.prototype.or=function(ce){return this.length>ce.length?this.clone().ior(ce):ce.clone().ior(this)},oe.prototype.uor=function(ce){return this.length>ce.length?this.clone().iuor(ce):ce.clone().iuor(this)},oe.prototype.iuand=function(ce){var me;this.length>ce.length?me=ce:me=this;for(var ir=0;ir<me.length;ir++)this.words[ir]=this.words[ir]&ce.words[ir];return this.length=me.length,this._strip()},oe.prototype.iand=function(ce){return ne((this.negative|ce.negative)===0),this.iuand(ce)},oe.prototype.and=function(ce){return this.length>ce.length?this.clone().iand(ce):ce.clone().iand(this)},oe.prototype.uand=function(ce){return this.length>ce.length?this.clone().iuand(ce):ce.clone().iuand(this)},oe.prototype.iuxor=function(ce){var me,ir;this.length>ce.length?(me=this,ir=ce):(me=ce,ir=this);for(var ur=0;ur<ir.length;ur++)this.words[ur]=me.words[ur]^ir.words[ur];if(this!==me)for(;ur<me.length;ur++)this.words[ur]=me.words[ur];return this.length=me.length,this._strip()},oe.prototype.ixor=function(ce){return ne((this.negative|ce.negative)===0),this.iuxor(ce)},oe.prototype.xor=function(ce){return this.length>ce.length?this.clone().ixor(ce):ce.clone().ixor(this)},oe.prototype.uxor=function(ce){return this.length>ce.length?this.clone().iuxor(ce):ce.clone().iuxor(this)},oe.prototype.inotn=function(ce){ne(typeof ce=="number"&&ce>=0);var me=Math.ceil(ce/26)|0,ir=ce%26;this._expand(me),ir>0&&me--;for(var ur=0;ur<me;ur++)this.words[ur]=~this.words[ur]&67108863;return ir>0&&(this.words[ur]=~this.words[ur]&67108863>>26-ir),this._strip()},oe.prototype.notn=function(ce){return this.clone().inotn(ce)},oe.prototype.setn=function(ce,me){ne(typeof ce=="number"&&ce>=0);var ir=ce/26|0,ur=ce%26;return this._expand(ir+1),me?this.words[ir]=this.words[ir]|1<<ur:this.words[ir]=this.words[ir]&~(1<<ur),this._strip()},oe.prototype.iadd=function(ce){var me;if(this.negative!==0&&ce.negative===0)return this.negative=0,me=this.isub(ce),this.negative^=1,this._normSign();if(this.negative===0&&ce.negative!==0)return ce.negative=0,me=this.isub(ce),ce.negative=1,me._normSign();var ir,ur;this.length>ce.length?(ir=this,ur=ce):(ir=ce,ur=this);for(var lr=0,er=0;er<ur.length;er++)me=(ir.words[er]|0)+(ur.words[er]|0)+lr,this.words[er]=me&67108863,lr=me>>>26;for(;lr!==0&&er<ir.length;er++)me=(ir.words[er]|0)+lr,this.words[er]=me&67108863,lr=me>>>26;if(this.length=ir.length,lr!==0)this.words[this.length]=lr,this.length++;else if(ir!==this)for(;er<ir.length;er++)this.words[er]=ir.words[er];return this},oe.prototype.add=function(ce){var me;return ce.negative!==0&&this.negative===0?(ce.negative=0,me=this.sub(ce),ce.negative^=1,me):ce.negative===0&&this.negative!==0?(this.negative=0,me=ce.sub(this),this.negative=1,me):this.length>ce.length?this.clone().iadd(ce):ce.clone().iadd(this)},oe.prototype.isub=function(ce){if(ce.negative!==0){ce.negative=0;var me=this.iadd(ce);return ce.negative=1,me._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(ce),this.negative=1,this._normSign();var ir=this.cmp(ce);if(ir===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ur,lr;ir>0?(ur=this,lr=ce):(ur=ce,lr=this);for(var er=0,nr=0;nr<lr.length;nr++)me=(ur.words[nr]|0)-(lr.words[nr]|0)+er,er=me>>26,this.words[nr]=me&67108863;for(;er!==0&&nr<ur.length;nr++)me=(ur.words[nr]|0)+er,er=me>>26,this.words[nr]=me&67108863;if(er===0&&nr<ur.length&&ur!==this)for(;nr<ur.length;nr++)this.words[nr]=ur.words[nr];return this.length=Math.max(this.length,nr),ur!==this&&(this.negative=1),this._strip()},oe.prototype.sub=function(ce){return this.clone().isub(ce)};function yr(ve,ce,me){me.negative=ce.negative^ve.negative;var ir=ve.length+ce.length|0;me.length=ir,ir=ir-1|0;var ur=ve.words[0]|0,lr=ce.words[0]|0,er=ur*lr,nr=er&67108863,or=er/67108864|0;me.words[0]=nr;for(var ye=1;ye<ir;ye++){for(var gr=or>>>26,Ar=or&67108863,br=Math.min(ye,ce.length-1),Cr=Math.max(0,ye-ve.length+1);Cr<=br;Cr++){var Lr=ye-Cr|0;ur=ve.words[Lr]|0,lr=ce.words[Cr]|0,er=ur*lr+Ar,gr+=er/67108864|0,Ar=er&67108863}me.words[ye]=Ar|0,or=gr|0}return or!==0?me.words[ye]=or|0:me.length--,me._strip()}var vr=function(ce,me,ir){var ur=ce.words,lr=me.words,er=ir.words,nr=0,or,ye,gr,Ar=ur[0]|0,br=Ar&8191,Cr=Ar>>>13,Lr=ur[1]|0,Dr=Lr&8191,Wr=Lr>>>13,Qr=ur[2]|0,Zr=Qr&8191,Xr=Qr>>>13,Fr=ur[3]|0,Ur=Fr&8191,Kr=Fr>>>13,kr=ur[4]|0,_r=kr&8191,$r=kr>>>13,Mr=ur[5]|0,jr=Mr&8191,qr=Mr>>>13,Jr=ur[6]|0,qn=Jr&8191,zn=Jr>>>13,Xn=ur[7]|0,Jn=Xn&8191,Rr=Xn>>>13,xr=ur[8]|0,wr=xr&8191,Sr=xr>>>13,Gr=ur[9]|0,Vr=Gr&8191,Yr=Gr>>>13,Qn=lr[0]|0,ei=Qn&8191,Zn=Qn>>>13,bi=lr[1]|0,ti=bi&8191,ri=bi>>>13,xi=lr[2]|0,li=xi&8191,ni=xi>>>13,wi=lr[3]|0,ci=wi&8191,ii=wi>>>13,$i=lr[4]|0,hi=$i&8191,oi=$i>>>13,Ei=lr[5]|0,di=Ei&8191,si=Ei>>>13,Si=lr[6]|0,pi=Si&8191,ai=Si>>>13,Ai=lr[7]|0,gi=Ai&8191,fi=Ai>>>13,Ri=lr[8]|0,mi=Ri&8191,ui=Ri>>>13,_i=lr[9]|0,yi=_i&8191,vi=_i>>>13;ir.negative=ce.negative^me.negative,ir.length=19,or=Math.imul(br,ei),ye=Math.imul(br,Zn),ye=ye+Math.imul(Cr,ei)|0,gr=Math.imul(Cr,Zn);var Ni=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,or=Math.imul(Dr,ei),ye=Math.imul(Dr,Zn),ye=ye+Math.imul(Wr,ei)|0,gr=Math.imul(Wr,Zn),or=or+Math.imul(br,ti)|0,ye=ye+Math.imul(br,ri)|0,ye=ye+Math.imul(Cr,ti)|0,gr=gr+Math.imul(Cr,ri)|0;var Mi=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,or=Math.imul(Zr,ei),ye=Math.imul(Zr,Zn),ye=ye+Math.imul(Xr,ei)|0,gr=Math.imul(Xr,Zn),or=or+Math.imul(Dr,ti)|0,ye=ye+Math.imul(Dr,ri)|0,ye=ye+Math.imul(Wr,ti)|0,gr=gr+Math.imul(Wr,ri)|0,or=or+Math.imul(br,li)|0,ye=ye+Math.imul(br,ni)|0,ye=ye+Math.imul(Cr,li)|0,gr=gr+Math.imul(Cr,ni)|0;var Ci=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(Ci>>>26)|0,Ci&=67108863,or=Math.imul(Ur,ei),ye=Math.imul(Ur,Zn),ye=ye+Math.imul(Kr,ei)|0,gr=Math.imul(Kr,Zn),or=or+Math.imul(Zr,ti)|0,ye=ye+Math.imul(Zr,ri)|0,ye=ye+Math.imul(Xr,ti)|0,gr=gr+Math.imul(Xr,ri)|0,or=or+Math.imul(Dr,li)|0,ye=ye+Math.imul(Dr,ni)|0,ye=ye+Math.imul(Wr,li)|0,gr=gr+Math.imul(Wr,ni)|0,or=or+Math.imul(br,ci)|0,ye=ye+Math.imul(br,ii)|0,ye=ye+Math.imul(Cr,ci)|0,gr=gr+Math.imul(Cr,ii)|0;var Ti=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,or=Math.imul(_r,ei),ye=Math.imul(_r,Zn),ye=ye+Math.imul($r,ei)|0,gr=Math.imul($r,Zn),or=or+Math.imul(Ur,ti)|0,ye=ye+Math.imul(Ur,ri)|0,ye=ye+Math.imul(Kr,ti)|0,gr=gr+Math.imul(Kr,ri)|0,or=or+Math.imul(Zr,li)|0,ye=ye+Math.imul(Zr,ni)|0,ye=ye+Math.imul(Xr,li)|0,gr=gr+Math.imul(Xr,ni)|0,or=or+Math.imul(Dr,ci)|0,ye=ye+Math.imul(Dr,ii)|0,ye=ye+Math.imul(Wr,ci)|0,gr=gr+Math.imul(Wr,ii)|0,or=or+Math.imul(br,hi)|0,ye=ye+Math.imul(br,oi)|0,ye=ye+Math.imul(Cr,hi)|0,gr=gr+Math.imul(Cr,oi)|0;var ki=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(ki>>>26)|0,ki&=67108863,or=Math.imul(jr,ei),ye=Math.imul(jr,Zn),ye=ye+Math.imul(qr,ei)|0,gr=Math.imul(qr,Zn),or=or+Math.imul(_r,ti)|0,ye=ye+Math.imul(_r,ri)|0,ye=ye+Math.imul($r,ti)|0,gr=gr+Math.imul($r,ri)|0,or=or+Math.imul(Ur,li)|0,ye=ye+Math.imul(Ur,ni)|0,ye=ye+Math.imul(Kr,li)|0,gr=gr+Math.imul(Kr,ni)|0,or=or+Math.imul(Zr,ci)|0,ye=ye+Math.imul(Zr,ii)|0,ye=ye+Math.imul(Xr,ci)|0,gr=gr+Math.imul(Xr,ii)|0,or=or+Math.imul(Dr,hi)|0,ye=ye+Math.imul(Dr,oi)|0,ye=ye+Math.imul(Wr,hi)|0,gr=gr+Math.imul(Wr,oi)|0,or=or+Math.imul(br,di)|0,ye=ye+Math.imul(br,si)|0,ye=ye+Math.imul(Cr,di)|0,gr=gr+Math.imul(Cr,si)|0;var Ii=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,or=Math.imul(qn,ei),ye=Math.imul(qn,Zn),ye=ye+Math.imul(zn,ei)|0,gr=Math.imul(zn,Zn),or=or+Math.imul(jr,ti)|0,ye=ye+Math.imul(jr,ri)|0,ye=ye+Math.imul(qr,ti)|0,gr=gr+Math.imul(qr,ri)|0,or=or+Math.imul(_r,li)|0,ye=ye+Math.imul(_r,ni)|0,ye=ye+Math.imul($r,li)|0,gr=gr+Math.imul($r,ni)|0,or=or+Math.imul(Ur,ci)|0,ye=ye+Math.imul(Ur,ii)|0,ye=ye+Math.imul(Kr,ci)|0,gr=gr+Math.imul(Kr,ii)|0,or=or+Math.imul(Zr,hi)|0,ye=ye+Math.imul(Zr,oi)|0,ye=ye+Math.imul(Xr,hi)|0,gr=gr+Math.imul(Xr,oi)|0,or=or+Math.imul(Dr,di)|0,ye=ye+Math.imul(Dr,si)|0,ye=ye+Math.imul(Wr,di)|0,gr=gr+Math.imul(Wr,si)|0,or=or+Math.imul(br,pi)|0,ye=ye+Math.imul(br,ai)|0,ye=ye+Math.imul(Cr,pi)|0,gr=gr+Math.imul(Cr,ai)|0;var Pi=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(Pi>>>26)|0,Pi&=67108863,or=Math.imul(Jn,ei),ye=Math.imul(Jn,Zn),ye=ye+Math.imul(Rr,ei)|0,gr=Math.imul(Rr,Zn),or=or+Math.imul(qn,ti)|0,ye=ye+Math.imul(qn,ri)|0,ye=ye+Math.imul(zn,ti)|0,gr=gr+Math.imul(zn,ri)|0,or=or+Math.imul(jr,li)|0,ye=ye+Math.imul(jr,ni)|0,ye=ye+Math.imul(qr,li)|0,gr=gr+Math.imul(qr,ni)|0,or=or+Math.imul(_r,ci)|0,ye=ye+Math.imul(_r,ii)|0,ye=ye+Math.imul($r,ci)|0,gr=gr+Math.imul($r,ii)|0,or=or+Math.imul(Ur,hi)|0,ye=ye+Math.imul(Ur,oi)|0,ye=ye+Math.imul(Kr,hi)|0,gr=gr+Math.imul(Kr,oi)|0,or=or+Math.imul(Zr,di)|0,ye=ye+Math.imul(Zr,si)|0,ye=ye+Math.imul(Xr,di)|0,gr=gr+Math.imul(Xr,si)|0,or=or+Math.imul(Dr,pi)|0,ye=ye+Math.imul(Dr,ai)|0,ye=ye+Math.imul(Wr,pi)|0,gr=gr+Math.imul(Wr,ai)|0,or=or+Math.imul(br,gi)|0,ye=ye+Math.imul(br,fi)|0,ye=ye+Math.imul(Cr,gi)|0,gr=gr+Math.imul(Cr,fi)|0;var Oi=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(Oi>>>26)|0,Oi&=67108863,or=Math.imul(wr,ei),ye=Math.imul(wr,Zn),ye=ye+Math.imul(Sr,ei)|0,gr=Math.imul(Sr,Zn),or=or+Math.imul(Jn,ti)|0,ye=ye+Math.imul(Jn,ri)|0,ye=ye+Math.imul(Rr,ti)|0,gr=gr+Math.imul(Rr,ri)|0,or=or+Math.imul(qn,li)|0,ye=ye+Math.imul(qn,ni)|0,ye=ye+Math.imul(zn,li)|0,gr=gr+Math.imul(zn,ni)|0,or=or+Math.imul(jr,ci)|0,ye=ye+Math.imul(jr,ii)|0,ye=ye+Math.imul(qr,ci)|0,gr=gr+Math.imul(qr,ii)|0,or=or+Math.imul(_r,hi)|0,ye=ye+Math.imul(_r,oi)|0,ye=ye+Math.imul($r,hi)|0,gr=gr+Math.imul($r,oi)|0,or=or+Math.imul(Ur,di)|0,ye=ye+Math.imul(Ur,si)|0,ye=ye+Math.imul(Kr,di)|0,gr=gr+Math.imul(Kr,si)|0,or=or+Math.imul(Zr,pi)|0,ye=ye+Math.imul(Zr,ai)|0,ye=ye+Math.imul(Xr,pi)|0,gr=gr+Math.imul(Xr,ai)|0,or=or+Math.imul(Dr,gi)|0,ye=ye+Math.imul(Dr,fi)|0,ye=ye+Math.imul(Wr,gi)|0,gr=gr+Math.imul(Wr,fi)|0,or=or+Math.imul(br,mi)|0,ye=ye+Math.imul(br,ui)|0,ye=ye+Math.imul(Cr,mi)|0,gr=gr+Math.imul(Cr,ui)|0;var Bi=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(Bi>>>26)|0,Bi&=67108863,or=Math.imul(Vr,ei),ye=Math.imul(Vr,Zn),ye=ye+Math.imul(Yr,ei)|0,gr=Math.imul(Yr,Zn),or=or+Math.imul(wr,ti)|0,ye=ye+Math.imul(wr,ri)|0,ye=ye+Math.imul(Sr,ti)|0,gr=gr+Math.imul(Sr,ri)|0,or=or+Math.imul(Jn,li)|0,ye=ye+Math.imul(Jn,ni)|0,ye=ye+Math.imul(Rr,li)|0,gr=gr+Math.imul(Rr,ni)|0,or=or+Math.imul(qn,ci)|0,ye=ye+Math.imul(qn,ii)|0,ye=ye+Math.imul(zn,ci)|0,gr=gr+Math.imul(zn,ii)|0,or=or+Math.imul(jr,hi)|0,ye=ye+Math.imul(jr,oi)|0,ye=ye+Math.imul(qr,hi)|0,gr=gr+Math.imul(qr,oi)|0,or=or+Math.imul(_r,di)|0,ye=ye+Math.imul(_r,si)|0,ye=ye+Math.imul($r,di)|0,gr=gr+Math.imul($r,si)|0,or=or+Math.imul(Ur,pi)|0,ye=ye+Math.imul(Ur,ai)|0,ye=ye+Math.imul(Kr,pi)|0,gr=gr+Math.imul(Kr,ai)|0,or=or+Math.imul(Zr,gi)|0,ye=ye+Math.imul(Zr,fi)|0,ye=ye+Math.imul(Xr,gi)|0,gr=gr+Math.imul(Xr,fi)|0,or=or+Math.imul(Dr,mi)|0,ye=ye+Math.imul(Dr,ui)|0,ye=ye+Math.imul(Wr,mi)|0,gr=gr+Math.imul(Wr,ui)|0,or=or+Math.imul(br,yi)|0,ye=ye+Math.imul(br,vi)|0,ye=ye+Math.imul(Cr,yi)|0,gr=gr+Math.imul(Cr,vi)|0;var Li=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(Li>>>26)|0,Li&=67108863,or=Math.imul(Vr,ti),ye=Math.imul(Vr,ri),ye=ye+Math.imul(Yr,ti)|0,gr=Math.imul(Yr,ri),or=or+Math.imul(wr,li)|0,ye=ye+Math.imul(wr,ni)|0,ye=ye+Math.imul(Sr,li)|0,gr=gr+Math.imul(Sr,ni)|0,or=or+Math.imul(Jn,ci)|0,ye=ye+Math.imul(Jn,ii)|0,ye=ye+Math.imul(Rr,ci)|0,gr=gr+Math.imul(Rr,ii)|0,or=or+Math.imul(qn,hi)|0,ye=ye+Math.imul(qn,oi)|0,ye=ye+Math.imul(zn,hi)|0,gr=gr+Math.imul(zn,oi)|0,or=or+Math.imul(jr,di)|0,ye=ye+Math.imul(jr,si)|0,ye=ye+Math.imul(qr,di)|0,gr=gr+Math.imul(qr,si)|0,or=or+Math.imul(_r,pi)|0,ye=ye+Math.imul(_r,ai)|0,ye=ye+Math.imul($r,pi)|0,gr=gr+Math.imul($r,ai)|0,or=or+Math.imul(Ur,gi)|0,ye=ye+Math.imul(Ur,fi)|0,ye=ye+Math.imul(Kr,gi)|0,gr=gr+Math.imul(Kr,fi)|0,or=or+Math.imul(Zr,mi)|0,ye=ye+Math.imul(Zr,ui)|0,ye=ye+Math.imul(Xr,mi)|0,gr=gr+Math.imul(Xr,ui)|0,or=or+Math.imul(Dr,yi)|0,ye=ye+Math.imul(Dr,vi)|0,ye=ye+Math.imul(Wr,yi)|0,gr=gr+Math.imul(Wr,vi)|0;var Di=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(Di>>>26)|0,Di&=67108863,or=Math.imul(Vr,li),ye=Math.imul(Vr,ni),ye=ye+Math.imul(Yr,li)|0,gr=Math.imul(Yr,ni),or=or+Math.imul(wr,ci)|0,ye=ye+Math.imul(wr,ii)|0,ye=ye+Math.imul(Sr,ci)|0,gr=gr+Math.imul(Sr,ii)|0,or=or+Math.imul(Jn,hi)|0,ye=ye+Math.imul(Jn,oi)|0,ye=ye+Math.imul(Rr,hi)|0,gr=gr+Math.imul(Rr,oi)|0,or=or+Math.imul(qn,di)|0,ye=ye+Math.imul(qn,si)|0,ye=ye+Math.imul(zn,di)|0,gr=gr+Math.imul(zn,si)|0,or=or+Math.imul(jr,pi)|0,ye=ye+Math.imul(jr,ai)|0,ye=ye+Math.imul(qr,pi)|0,gr=gr+Math.imul(qr,ai)|0,or=or+Math.imul(_r,gi)|0,ye=ye+Math.imul(_r,fi)|0,ye=ye+Math.imul($r,gi)|0,gr=gr+Math.imul($r,fi)|0,or=or+Math.imul(Ur,mi)|0,ye=ye+Math.imul(Ur,ui)|0,ye=ye+Math.imul(Kr,mi)|0,gr=gr+Math.imul(Kr,ui)|0,or=or+Math.imul(Zr,yi)|0,ye=ye+Math.imul(Zr,vi)|0,ye=ye+Math.imul(Xr,yi)|0,gr=gr+Math.imul(Xr,vi)|0;var Fi=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(Fi>>>26)|0,Fi&=67108863,or=Math.imul(Vr,ci),ye=Math.imul(Vr,ii),ye=ye+Math.imul(Yr,ci)|0,gr=Math.imul(Yr,ii),or=or+Math.imul(wr,hi)|0,ye=ye+Math.imul(wr,oi)|0,ye=ye+Math.imul(Sr,hi)|0,gr=gr+Math.imul(Sr,oi)|0,or=or+Math.imul(Jn,di)|0,ye=ye+Math.imul(Jn,si)|0,ye=ye+Math.imul(Rr,di)|0,gr=gr+Math.imul(Rr,si)|0,or=or+Math.imul(qn,pi)|0,ye=ye+Math.imul(qn,ai)|0,ye=ye+Math.imul(zn,pi)|0,gr=gr+Math.imul(zn,ai)|0,or=or+Math.imul(jr,gi)|0,ye=ye+Math.imul(jr,fi)|0,ye=ye+Math.imul(qr,gi)|0,gr=gr+Math.imul(qr,fi)|0,or=or+Math.imul(_r,mi)|0,ye=ye+Math.imul(_r,ui)|0,ye=ye+Math.imul($r,mi)|0,gr=gr+Math.imul($r,ui)|0,or=or+Math.imul(Ur,yi)|0,ye=ye+Math.imul(Ur,vi)|0,ye=ye+Math.imul(Kr,yi)|0,gr=gr+Math.imul(Kr,vi)|0;var Ui=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,or=Math.imul(Vr,hi),ye=Math.imul(Vr,oi),ye=ye+Math.imul(Yr,hi)|0,gr=Math.imul(Yr,oi),or=or+Math.imul(wr,di)|0,ye=ye+Math.imul(wr,si)|0,ye=ye+Math.imul(Sr,di)|0,gr=gr+Math.imul(Sr,si)|0,or=or+Math.imul(Jn,pi)|0,ye=ye+Math.imul(Jn,ai)|0,ye=ye+Math.imul(Rr,pi)|0,gr=gr+Math.imul(Rr,ai)|0,or=or+Math.imul(qn,gi)|0,ye=ye+Math.imul(qn,fi)|0,ye=ye+Math.imul(zn,gi)|0,gr=gr+Math.imul(zn,fi)|0,or=or+Math.imul(jr,mi)|0,ye=ye+Math.imul(jr,ui)|0,ye=ye+Math.imul(qr,mi)|0,gr=gr+Math.imul(qr,ui)|0,or=or+Math.imul(_r,yi)|0,ye=ye+Math.imul(_r,vi)|0,ye=ye+Math.imul($r,yi)|0,gr=gr+Math.imul($r,vi)|0;var ji=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(ji>>>26)|0,ji&=67108863,or=Math.imul(Vr,di),ye=Math.imul(Vr,si),ye=ye+Math.imul(Yr,di)|0,gr=Math.imul(Yr,si),or=or+Math.imul(wr,pi)|0,ye=ye+Math.imul(wr,ai)|0,ye=ye+Math.imul(Sr,pi)|0,gr=gr+Math.imul(Sr,ai)|0,or=or+Math.imul(Jn,gi)|0,ye=ye+Math.imul(Jn,fi)|0,ye=ye+Math.imul(Rr,gi)|0,gr=gr+Math.imul(Rr,fi)|0,or=or+Math.imul(qn,mi)|0,ye=ye+Math.imul(qn,ui)|0,ye=ye+Math.imul(zn,mi)|0,gr=gr+Math.imul(zn,ui)|0,or=or+Math.imul(jr,yi)|0,ye=ye+Math.imul(jr,vi)|0,ye=ye+Math.imul(qr,yi)|0,gr=gr+Math.imul(qr,vi)|0;var Hi=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,or=Math.imul(Vr,pi),ye=Math.imul(Vr,ai),ye=ye+Math.imul(Yr,pi)|0,gr=Math.imul(Yr,ai),or=or+Math.imul(wr,gi)|0,ye=ye+Math.imul(wr,fi)|0,ye=ye+Math.imul(Sr,gi)|0,gr=gr+Math.imul(Sr,fi)|0,or=or+Math.imul(Jn,mi)|0,ye=ye+Math.imul(Jn,ui)|0,ye=ye+Math.imul(Rr,mi)|0,gr=gr+Math.imul(Rr,ui)|0,or=or+Math.imul(qn,yi)|0,ye=ye+Math.imul(qn,vi)|0,ye=ye+Math.imul(zn,yi)|0,gr=gr+Math.imul(zn,vi)|0;var Wi=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(Wi>>>26)|0,Wi&=67108863,or=Math.imul(Vr,gi),ye=Math.imul(Vr,fi),ye=ye+Math.imul(Yr,gi)|0,gr=Math.imul(Yr,fi),or=or+Math.imul(wr,mi)|0,ye=ye+Math.imul(wr,ui)|0,ye=ye+Math.imul(Sr,mi)|0,gr=gr+Math.imul(Sr,ui)|0,or=or+Math.imul(Jn,yi)|0,ye=ye+Math.imul(Jn,vi)|0,ye=ye+Math.imul(Rr,yi)|0,gr=gr+Math.imul(Rr,vi)|0;var zi=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(zi>>>26)|0,zi&=67108863,or=Math.imul(Vr,mi),ye=Math.imul(Vr,ui),ye=ye+Math.imul(Yr,mi)|0,gr=Math.imul(Yr,ui),or=or+Math.imul(wr,yi)|0,ye=ye+Math.imul(wr,vi)|0,ye=ye+Math.imul(Sr,yi)|0,gr=gr+Math.imul(Sr,vi)|0;var qi=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(qi>>>26)|0,qi&=67108863,or=Math.imul(Vr,yi),ye=Math.imul(Vr,vi),ye=ye+Math.imul(Yr,yi)|0,gr=Math.imul(Yr,vi);var Gi=(nr+or|0)+((ye&8191)<<13)|0;return nr=(gr+(ye>>>13)|0)+(Gi>>>26)|0,Gi&=67108863,er[0]=Ni,er[1]=Mi,er[2]=Ci,er[3]=Ti,er[4]=ki,er[5]=Ii,er[6]=Pi,er[7]=Oi,er[8]=Bi,er[9]=Li,er[10]=Di,er[11]=Fi,er[12]=Ui,er[13]=ji,er[14]=Hi,er[15]=Wi,er[16]=zi,er[17]=qi,er[18]=Gi,nr!==0&&(er[19]=nr,ir.length++),ir};Math.imul||(vr=yr);function Er(ve,ce,me){me.negative=ce.negative^ve.negative,me.length=ve.length+ce.length;for(var ir=0,ur=0,lr=0;lr<me.length-1;lr++){var er=ur;ur=0;for(var nr=ir&67108863,or=Math.min(lr,ce.length-1),ye=Math.max(0,lr-ve.length+1);ye<=or;ye++){var gr=lr-ye,Ar=ve.words[gr]|0,br=ce.words[ye]|0,Cr=Ar*br,Lr=Cr&67108863;er=er+(Cr/67108864|0)|0,Lr=Lr+nr|0,nr=Lr&67108863,er=er+(Lr>>>26)|0,ur+=er>>>26,er&=67108863}me.words[lr]=nr,ir=er,er=ur}return ir!==0?me.words[lr]=ir:me.length--,me._strip()}function Tr(ve,ce,me){return Er(ve,ce,me)}oe.prototype.mulTo=function(ce,me){var ir,ur=this.length+ce.length;return this.length===10&&ce.length===10?ir=vr(this,ce,me):ur<63?ir=yr(this,ce,me):ur<1024?ir=Er(this,ce,me):ir=Tr(this,ce,me),ir},oe.prototype.mul=function(ce){var me=new oe(null);return me.words=new Array(this.length+ce.length),this.mulTo(ce,me)},oe.prototype.mulf=function(ce){var me=new oe(null);return me.words=new Array(this.length+ce.length),Tr(this,ce,me)},oe.prototype.imul=function(ce){return this.clone().mulTo(ce,this)},oe.prototype.imuln=function(ce){var me=ce<0;me&&(ce=-ce),ne(typeof ce=="number"),ne(ce<67108864);for(var ir=0,ur=0;ur<this.length;ur++){var lr=(this.words[ur]|0)*ce,er=(lr&67108863)+(ir&67108863);ir>>=26,ir+=lr/67108864|0,ir+=er>>>26,this.words[ur]=er&67108863}return ir!==0&&(this.words[ur]=ir,this.length++),me?this.ineg():this},oe.prototype.muln=function(ce){return this.clone().imuln(ce)},oe.prototype.sqr=function(){return this.mul(this)},oe.prototype.isqr=function(){return this.imul(this.clone())},oe.prototype.pow=function(ce){var me=pr(ce);if(me.length===0)return new oe(1);for(var ir=this,ur=0;ur<me.length&&me[ur]===0;ur++,ir=ir.sqr());if(++ur<me.length)for(var lr=ir.sqr();ur<me.length;ur++,lr=lr.sqr())me[ur]!==0&&(ir=ir.mul(lr));return ir},oe.prototype.iushln=function(ce){ne(typeof ce=="number"&&ce>=0);var me=ce%26,ir=(ce-me)/26,ur=67108863>>>26-me<<26-me,lr;if(me!==0){var er=0;for(lr=0;lr<this.length;lr++){var nr=this.words[lr]&ur,or=(this.words[lr]|0)-nr<<me;this.words[lr]=or|er,er=nr>>>26-me}er&&(this.words[lr]=er,this.length++)}if(ir!==0){for(lr=this.length-1;lr>=0;lr--)this.words[lr+ir]=this.words[lr];for(lr=0;lr<ir;lr++)this.words[lr]=0;this.length+=ir}return this._strip()},oe.prototype.ishln=function(ce){return ne(this.negative===0),this.iushln(ce)},oe.prototype.iushrn=function(ce,me,ir){ne(typeof ce=="number"&&ce>=0);var ur;me?ur=(me-me%26)/26:ur=0;var lr=ce%26,er=Math.min((ce-lr)/26,this.length),nr=67108863^67108863>>>lr<<lr,or=ir;if(ur-=er,ur=Math.max(0,ur),or){for(var ye=0;ye<er;ye++)or.words[ye]=this.words[ye];or.length=er}if(er!==0)if(this.length>er)for(this.length-=er,ye=0;ye<this.length;ye++)this.words[ye]=this.words[ye+er];else this.words[0]=0,this.length=1;var gr=0;for(ye=this.length-1;ye>=0&&(gr!==0||ye>=ur);ye--){var Ar=this.words[ye]|0;this.words[ye]=gr<<26-lr|Ar>>>lr,gr=Ar&nr}return or&&gr!==0&&(or.words[or.length++]=gr),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},oe.prototype.ishrn=function(ce,me,ir){return ne(this.negative===0),this.iushrn(ce,me,ir)},oe.prototype.shln=function(ce){return this.clone().ishln(ce)},oe.prototype.ushln=function(ce){return this.clone().iushln(ce)},oe.prototype.shrn=function(ce){return this.clone().ishrn(ce)},oe.prototype.ushrn=function(ce){return this.clone().iushrn(ce)},oe.prototype.testn=function(ce){ne(typeof ce=="number"&&ce>=0);var me=ce%26,ir=(ce-me)/26,ur=1<<me;if(this.length<=ir)return!1;var lr=this.words[ir];return!!(lr&ur)},oe.prototype.imaskn=function(ce){ne(typeof ce=="number"&&ce>=0);var me=ce%26,ir=(ce-me)/26;if(ne(this.negative===0,"imaskn works only with positive numbers"),this.length<=ir)return this;if(me!==0&&ir++,this.length=Math.min(ir,this.length),me!==0){var ur=67108863^67108863>>>me<<me;this.words[this.length-1]&=ur}return this._strip()},oe.prototype.maskn=function(ce){return this.clone().imaskn(ce)},oe.prototype.iaddn=function(ce){return ne(typeof ce=="number"),ne(ce<67108864),ce<0?this.isubn(-ce):this.negative!==0?this.length===1&&(this.words[0]|0)<=ce?(this.words[0]=ce-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(ce),this.negative=1,this):this._iaddn(ce)},oe.prototype._iaddn=function(ce){this.words[0]+=ce;for(var me=0;me<this.length&&this.words[me]>=67108864;me++)this.words[me]-=67108864,me===this.length-1?this.words[me+1]=1:this.words[me+1]++;return this.length=Math.max(this.length,me+1),this},oe.prototype.isubn=function(ce){if(ne(typeof ce=="number"),ne(ce<67108864),ce<0)return this.iaddn(-ce);if(this.negative!==0)return this.negative=0,this.iaddn(ce),this.negative=1,this;if(this.words[0]-=ce,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var me=0;me<this.length&&this.words[me]<0;me++)this.words[me]+=67108864,this.words[me+1]-=1;return this._strip()},oe.prototype.addn=function(ce){return this.clone().iaddn(ce)},oe.prototype.subn=function(ce){return this.clone().isubn(ce)},oe.prototype.iabs=function(){return this.negative=0,this},oe.prototype.abs=function(){return this.clone().iabs()},oe.prototype._ishlnsubmul=function(ce,me,ir){var ur=ce.length+ir,lr;this._expand(ur);var er,nr=0;for(lr=0;lr<ce.length;lr++){er=(this.words[lr+ir]|0)+nr;var or=(ce.words[lr]|0)*me;er-=or&67108863,nr=(er>>26)-(or/67108864|0),this.words[lr+ir]=er&67108863}for(;lr<this.length-ir;lr++)er=(this.words[lr+ir]|0)+nr,nr=er>>26,this.words[lr+ir]=er&67108863;if(nr===0)return this._strip();for(ne(nr===-1),nr=0,lr=0;lr<this.length;lr++)er=-(this.words[lr]|0)+nr,nr=er>>26,this.words[lr]=er&67108863;return this.negative=1,this._strip()},oe.prototype._wordDiv=function(ce,me){var ir=this.length-ce.length,ur=this.clone(),lr=ce,er=lr.words[lr.length-1]|0,nr=this._countBits(er);ir=26-nr,ir!==0&&(lr=lr.ushln(ir),ur.iushln(ir),er=lr.words[lr.length-1]|0);var or=ur.length-lr.length,ye;if(me!=="mod"){ye=new oe(null),ye.length=or+1,ye.words=new Array(ye.length);for(var gr=0;gr<ye.length;gr++)ye.words[gr]=0}var Ar=ur.clone()._ishlnsubmul(lr,1,or);Ar.negative===0&&(ur=Ar,ye&&(ye.words[or]=1));for(var br=or-1;br>=0;br--){var Cr=(ur.words[lr.length+br]|0)*67108864+(ur.words[lr.length+br-1]|0);for(Cr=Math.min(Cr/er|0,67108863),ur._ishlnsubmul(lr,Cr,br);ur.negative!==0;)Cr--,ur.negative=0,ur._ishlnsubmul(lr,1,br),ur.isZero()||(ur.negative^=1);ye&&(ye.words[br]=Cr)}return ye&&ye._strip(),ur._strip(),me!=="div"&&ir!==0&&ur.iushrn(ir),{div:ye||null,mod:ur}},oe.prototype.divmod=function(ce,me,ir){if(ne(!ce.isZero()),this.isZero())return{div:new oe(0),mod:new oe(0)};var ur,lr,er;return this.negative!==0&&ce.negative===0?(er=this.neg().divmod(ce,me),me!=="mod"&&(ur=er.div.neg()),me!=="div"&&(lr=er.mod.neg(),ir&&lr.negative!==0&&lr.iadd(ce)),{div:ur,mod:lr}):this.negative===0&&ce.negative!==0?(er=this.divmod(ce.neg(),me),me!=="mod"&&(ur=er.div.neg()),{div:ur,mod:er.mod}):(this.negative&ce.negative)!==0?(er=this.neg().divmod(ce.neg(),me),me!=="div"&&(lr=er.mod.neg(),ir&&lr.negative!==0&&lr.isub(ce)),{div:er.div,mod:lr}):ce.length>this.length||this.cmp(ce)<0?{div:new oe(0),mod:this}:ce.length===1?me==="div"?{div:this.divn(ce.words[0]),mod:null}:me==="mod"?{div:null,mod:new oe(this.modrn(ce.words[0]))}:{div:this.divn(ce.words[0]),mod:new oe(this.modrn(ce.words[0]))}:this._wordDiv(ce,me)},oe.prototype.div=function(ce){return this.divmod(ce,"div",!1).div},oe.prototype.mod=function(ce){return this.divmod(ce,"mod",!1).mod},oe.prototype.umod=function(ce){return this.divmod(ce,"mod",!0).mod},oe.prototype.divRound=function(ce){var me=this.divmod(ce);if(me.mod.isZero())return me.div;var ir=me.div.negative!==0?me.mod.isub(ce):me.mod,ur=ce.ushrn(1),lr=ce.andln(1),er=ir.cmp(ur);return er<0||lr===1&&er===0?me.div:me.div.negative!==0?me.div.isubn(1):me.div.iaddn(1)},oe.prototype.modrn=function(ce){var me=ce<0;me&&(ce=-ce),ne(ce<=67108863);for(var ir=(1<<26)%ce,ur=0,lr=this.length-1;lr>=0;lr--)ur=(ir*ur+(this.words[lr]|0))%ce;return me?-ur:ur},oe.prototype.modn=function(ce){return this.modrn(ce)},oe.prototype.idivn=function(ce){var me=ce<0;me&&(ce=-ce),ne(ce<=67108863);for(var ir=0,ur=this.length-1;ur>=0;ur--){var lr=(this.words[ur]|0)+ir*67108864;this.words[ur]=lr/ce|0,ir=lr%ce}return this._strip(),me?this.ineg():this},oe.prototype.divn=function(ce){return this.clone().idivn(ce)},oe.prototype.egcd=function(ce){ne(ce.negative===0),ne(!ce.isZero());var me=this,ir=ce.clone();me.negative!==0?me=me.umod(ce):me=me.clone();for(var ur=new oe(1),lr=new oe(0),er=new oe(0),nr=new oe(1),or=0;me.isEven()&&ir.isEven();)me.iushrn(1),ir.iushrn(1),++or;for(var ye=ir.clone(),gr=me.clone();!me.isZero();){for(var Ar=0,br=1;(me.words[0]&br)===0&&Ar<26;++Ar,br<<=1);if(Ar>0)for(me.iushrn(Ar);Ar-- >0;)(ur.isOdd()||lr.isOdd())&&(ur.iadd(ye),lr.isub(gr)),ur.iushrn(1),lr.iushrn(1);for(var Cr=0,Lr=1;(ir.words[0]&Lr)===0&&Cr<26;++Cr,Lr<<=1);if(Cr>0)for(ir.iushrn(Cr);Cr-- >0;)(er.isOdd()||nr.isOdd())&&(er.iadd(ye),nr.isub(gr)),er.iushrn(1),nr.iushrn(1);me.cmp(ir)>=0?(me.isub(ir),ur.isub(er),lr.isub(nr)):(ir.isub(me),er.isub(ur),nr.isub(lr))}return{a:er,b:nr,gcd:ir.iushln(or)}},oe.prototype._invmp=function(ce){ne(ce.negative===0),ne(!ce.isZero());var me=this,ir=ce.clone();me.negative!==0?me=me.umod(ce):me=me.clone();for(var ur=new oe(1),lr=new oe(0),er=ir.clone();me.cmpn(1)>0&&ir.cmpn(1)>0;){for(var nr=0,or=1;(me.words[0]&or)===0&&nr<26;++nr,or<<=1);if(nr>0)for(me.iushrn(nr);nr-- >0;)ur.isOdd()&&ur.iadd(er),ur.iushrn(1);for(var ye=0,gr=1;(ir.words[0]&gr)===0&&ye<26;++ye,gr<<=1);if(ye>0)for(ir.iushrn(ye);ye-- >0;)lr.isOdd()&&lr.iadd(er),lr.iushrn(1);me.cmp(ir)>=0?(me.isub(ir),ur.isub(lr)):(ir.isub(me),lr.isub(ur))}var Ar;return me.cmpn(1)===0?Ar=ur:Ar=lr,Ar.cmpn(0)<0&&Ar.iadd(ce),Ar},oe.prototype.gcd=function(ce){if(this.isZero())return ce.abs();if(ce.isZero())return this.abs();var me=this.clone(),ir=ce.clone();me.negative=0,ir.negative=0;for(var ur=0;me.isEven()&&ir.isEven();ur++)me.iushrn(1),ir.iushrn(1);do{for(;me.isEven();)me.iushrn(1);for(;ir.isEven();)ir.iushrn(1);var lr=me.cmp(ir);if(lr<0){var er=me;me=ir,ir=er}else if(lr===0||ir.cmpn(1)===0)break;me.isub(ir)}while(!0);return ir.iushln(ur)},oe.prototype.invm=function(ce){return this.egcd(ce).a.umod(ce)},oe.prototype.isEven=function(){return(this.words[0]&1)===0},oe.prototype.isOdd=function(){return(this.words[0]&1)===1},oe.prototype.andln=function(ce){return this.words[0]&ce},oe.prototype.bincn=function(ce){ne(typeof ce=="number");var me=ce%26,ir=(ce-me)/26,ur=1<<me;if(this.length<=ir)return this._expand(ir+1),this.words[ir]|=ur,this;for(var lr=ur,er=ir;lr!==0&&er<this.length;er++){var nr=this.words[er]|0;nr+=lr,lr=nr>>>26,nr&=67108863,this.words[er]=nr}return lr!==0&&(this.words[er]=lr,this.length++),this},oe.prototype.isZero=function(){return this.length===1&&this.words[0]===0},oe.prototype.cmpn=function(ce){var me=ce<0;if(this.negative!==0&&!me)return-1;if(this.negative===0&&me)return 1;this._strip();var ir;if(this.length>1)ir=1;else{me&&(ce=-ce),ne(ce<=67108863,"Number is too big");var ur=this.words[0]|0;ir=ur===ce?0:ur<ce?-1:1}return this.negative!==0?-ir|0:ir},oe.prototype.cmp=function(ce){if(this.negative!==0&&ce.negative===0)return-1;if(this.negative===0&&ce.negative!==0)return 1;var me=this.ucmp(ce);return this.negative!==0?-me|0:me},oe.prototype.ucmp=function(ce){if(this.length>ce.length)return 1;if(this.length<ce.length)return-1;for(var me=0,ir=this.length-1;ir>=0;ir--){var ur=this.words[ir]|0,lr=ce.words[ir]|0;if(ur!==lr){ur<lr?me=-1:ur>lr&&(me=1);break}}return me},oe.prototype.gtn=function(ce){return this.cmpn(ce)===1},oe.prototype.gt=function(ce){return this.cmp(ce)===1},oe.prototype.gten=function(ce){return this.cmpn(ce)>=0},oe.prototype.gte=function(ce){return this.cmp(ce)>=0},oe.prototype.ltn=function(ce){return this.cmpn(ce)===-1},oe.prototype.lt=function(ce){return this.cmp(ce)===-1},oe.prototype.lten=function(ce){return this.cmpn(ce)<=0},oe.prototype.lte=function(ce){return this.cmp(ce)<=0},oe.prototype.eqn=function(ce){return this.cmpn(ce)===0},oe.prototype.eq=function(ce){return this.cmp(ce)===0},oe.red=function(ce){return new dr(ce)},oe.prototype.toRed=function(ce){return ne(!this.red,"Already a number in reduction context"),ne(this.negative===0,"red works only with positives"),ce.convertTo(this)._forceRed(ce)},oe.prototype.fromRed=function(){return ne(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},oe.prototype._forceRed=function(ce){return this.red=ce,this},oe.prototype.forceRed=function(ce){return ne(!this.red,"Already a number in reduction context"),this._forceRed(ce)},oe.prototype.redAdd=function(ce){return ne(this.red,"redAdd works only with red numbers"),this.red.add(this,ce)},oe.prototype.redIAdd=function(ce){return ne(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,ce)},oe.prototype.redSub=function(ce){return ne(this.red,"redSub works only with red numbers"),this.red.sub(this,ce)},oe.prototype.redISub=function(ce){return ne(this.red,"redISub works only with red numbers"),this.red.isub(this,ce)},oe.prototype.redShl=function(ce){return ne(this.red,"redShl works only with red numbers"),this.red.shl(this,ce)},oe.prototype.redMul=function(ce){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,ce),this.red.mul(this,ce)},oe.prototype.redIMul=function(ce){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,ce),this.red.imul(this,ce)},oe.prototype.redSqr=function(){return ne(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},oe.prototype.redISqr=function(){return ne(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},oe.prototype.redSqrt=function(){return ne(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},oe.prototype.redInvm=function(){return ne(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},oe.prototype.redNeg=function(){return ne(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},oe.prototype.redPow=function(ce){return ne(this.red&&!ce.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,ce)};var Ir={k256:null,p224:null,p192:null,p25519:null};function Or(ve,ce){this.name=ve,this.p=new oe(ce,16),this.n=this.p.bitLength(),this.k=new oe(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Or.prototype._tmp=function(){var ce=new oe(null);return ce.words=new Array(Math.ceil(this.n/13)),ce},Or.prototype.ireduce=function(ce){var me=ce,ir;do this.split(me,this.tmp),me=this.imulK(me),me=me.iadd(this.tmp),ir=me.bitLength();while(ir>this.n);var ur=ir<this.n?-1:me.ucmp(this.p);return ur===0?(me.words[0]=0,me.length=1):ur>0?me.isub(this.p):me.strip!==void 0?me.strip():me._strip(),me},Or.prototype.split=function(ce,me){ce.iushrn(this.n,0,me)},Or.prototype.imulK=function(ce){return ce.imul(this.k)};function Hr(){Or.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}ie(Hr,Or),Hr.prototype.split=function(ce,me){for(var ir=4194303,ur=Math.min(ce.length,9),lr=0;lr<ur;lr++)me.words[lr]=ce.words[lr];if(me.length=ur,ce.length<=9){ce.words[0]=0,ce.length=1;return}var er=ce.words[9];for(me.words[me.length++]=er&ir,lr=10;lr<ce.length;lr++){var nr=ce.words[lr]|0;ce.words[lr-10]=(nr&ir)<<4|er>>>22,er=nr}er>>>=22,ce.words[lr-10]=er,er===0&&ce.length>10?ce.length-=10:ce.length-=9},Hr.prototype.imulK=function(ce){ce.words[ce.length]=0,ce.words[ce.length+1]=0,ce.length+=2;for(var me=0,ir=0;ir<ce.length;ir++){var ur=ce.words[ir]|0;me+=ur*977,ce.words[ir]=me&67108863,me=ur*64+(me/67108864|0)}return ce.words[ce.length-1]===0&&(ce.length--,ce.words[ce.length-1]===0&&ce.length--),ce};function Pr(){Or.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}ie(Pr,Or);function Br(){Or.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}ie(Br,Or);function Nr(){Or.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}ie(Nr,Or),Nr.prototype.imulK=function(ce){for(var me=0,ir=0;ir<ce.length;ir++){var ur=(ce.words[ir]|0)*19+me,lr=ur&67108863;ur>>>=26,ce.words[ir]=lr,me=ur}return me!==0&&(ce.words[ce.length++]=me),ce},oe._prime=function(ce){if(Ir[ce])return Ir[ce];var me;if(ce==="k256")me=new Hr;else if(ce==="p224")me=new Pr;else if(ce==="p192")me=new Br;else if(ce==="p25519")me=new Nr;else throw new Error("Unknown prime "+ce);return Ir[ce]=me,me};function dr(ve){if(typeof ve=="string"){var ce=oe._prime(ve);this.m=ce.p,this.prime=ce}else ne(ve.gtn(1),"modulus must be greater than 1"),this.m=ve,this.prime=null}dr.prototype._verify1=function(ce){ne(ce.negative===0,"red works only with positives"),ne(ce.red,"red works only with red numbers")},dr.prototype._verify2=function(ce,me){ne((ce.negative|me.negative)===0,"red works only with positives"),ne(ce.red&&ce.red===me.red,"red works only with red numbers")},dr.prototype.imod=function(ce){return this.prime?this.prime.ireduce(ce)._forceRed(this):(le(ce,ce.umod(this.m)._forceRed(this)),ce)},dr.prototype.neg=function(ce){return ce.isZero()?ce.clone():this.m.sub(ce)._forceRed(this)},dr.prototype.add=function(ce,me){this._verify2(ce,me);var ir=ce.add(me);return ir.cmp(this.m)>=0&&ir.isub(this.m),ir._forceRed(this)},dr.prototype.iadd=function(ce,me){this._verify2(ce,me);var ir=ce.iadd(me);return ir.cmp(this.m)>=0&&ir.isub(this.m),ir},dr.prototype.sub=function(ce,me){this._verify2(ce,me);var ir=ce.sub(me);return ir.cmpn(0)<0&&ir.iadd(this.m),ir._forceRed(this)},dr.prototype.isub=function(ce,me){this._verify2(ce,me);var ir=ce.isub(me);return ir.cmpn(0)<0&&ir.iadd(this.m),ir},dr.prototype.shl=function(ce,me){return this._verify1(ce),this.imod(ce.ushln(me))},dr.prototype.imul=function(ce,me){return this._verify2(ce,me),this.imod(ce.imul(me))},dr.prototype.mul=function(ce,me){return this._verify2(ce,me),this.imod(ce.mul(me))},dr.prototype.isqr=function(ce){return this.imul(ce,ce.clone())},dr.prototype.sqr=function(ce){return this.mul(ce,ce)},dr.prototype.sqrt=function(ce){if(ce.isZero())return ce.clone();var me=this.m.andln(3);if(ne(me%2===1),me===3){var ir=this.m.add(new oe(1)).iushrn(2);return this.pow(ce,ir)}for(var ur=this.m.subn(1),lr=0;!ur.isZero()&&ur.andln(1)===0;)lr++,ur.iushrn(1);ne(!ur.isZero());var er=new oe(1).toRed(this),nr=er.redNeg(),or=this.m.subn(1).iushrn(1),ye=this.m.bitLength();for(ye=new oe(2*ye*ye).toRed(this);this.pow(ye,or).cmp(nr)!==0;)ye.redIAdd(nr);for(var gr=this.pow(ye,ur),Ar=this.pow(ce,ur.addn(1).iushrn(1)),br=this.pow(ce,ur),Cr=lr;br.cmp(er)!==0;){for(var Lr=br,Dr=0;Lr.cmp(er)!==0;Dr++)Lr=Lr.redSqr();ne(Dr<Cr);var Wr=this.pow(gr,new oe(1).iushln(Cr-Dr-1));Ar=Ar.redMul(Wr),gr=Wr.redSqr(),br=br.redMul(gr),Cr=Dr}return Ar},dr.prototype.invm=function(ce){var me=ce._invmp(this.m);return me.negative!==0?(me.negative=0,this.imod(me).redNeg()):this.imod(me)},dr.prototype.pow=function(ce,me){if(me.isZero())return new oe(1).toRed(this);if(me.cmpn(1)===0)return ce.clone();var ir=4,ur=new Array(1<<ir);ur[0]=new oe(1).toRed(this),ur[1]=ce;for(var lr=2;lr<ur.length;lr++)ur[lr]=this.mul(ur[lr-1],ce);var er=ur[0],nr=0,or=0,ye=me.bitLength()%26;for(ye===0&&(ye=26),lr=me.length-1;lr>=0;lr--){for(var gr=me.words[lr],Ar=ye-1;Ar>=0;Ar--){var br=gr>>Ar&1;if(er!==ur[0]&&(er=this.sqr(er)),br===0&&nr===0){or=0;continue}nr<<=1,nr|=br,or++,!(or!==ir&&(lr!==0||Ar!==0))&&(er=this.mul(er,ur[nr]),or=0,nr=0)}ye=26}return er},dr.prototype.convertTo=function(ce){var me=ce.umod(this.m);return me===ce?me.clone():me},dr.prototype.convertFrom=function(ce){var me=ce.clone();return me.red=null,me},oe.mont=function(ce){return new tr(ce)};function tr(ve){dr.call(this,ve),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new oe(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ie(tr,dr),tr.prototype.convertTo=function(ce){return this.imod(ce.ushln(this.shift))},tr.prototype.convertFrom=function(ce){var me=this.imod(ce.mul(this.rinv));return me.red=null,me},tr.prototype.imul=function(ce,me){if(ce.isZero()||me.isZero())return ce.words[0]=0,ce.length=1,ce;var ir=ce.imul(me),ur=ir.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),lr=ir.isub(ur).iushrn(this.shift),er=lr;return lr.cmp(this.m)>=0?er=lr.isub(this.m):lr.cmpn(0)<0&&(er=lr.iadd(this.m)),er._forceRed(this)},tr.prototype.mul=function(ce,me){if(ce.isZero()||me.isZero())return new oe(0)._forceRed(this);var ir=ce.mul(me),ur=ir.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),lr=ir.isub(ur).iushrn(this.shift),er=lr;return lr.cmp(this.m)>=0?er=lr.isub(this.m):lr.cmpn(0)<0&&(er=lr.iadd(this.m)),er._forceRed(this)},tr.prototype.invm=function(ce){var me=this.imod(ce._invmp(this.m).mul(this.r2));return me._forceRed(this)}})(te,commonjsGlobal$1)})(bn$3);var __importDefault$a=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(te){return te&&te.__esModule?te:{default:te}};Object.defineProperty(dist_browser,"__esModule",{value:!0});dist_browser.getLength=dist_browser.decode=dist_browser.encode=void 0;var bn_js_1$2=__importDefault$a(bn$3.exports);function encode$3(te){if(Array.isArray(te)){for(var ee=[],re=0;re<te.length;re++)ee.push(encode$3(te[re]));var ne=buffer$2.Buffer.concat(ee);return buffer$2.Buffer.concat([encodeLength(ne.length,192),ne])}else{var ie=toBuffer$1(te);return ie.length===1&&ie[0]<128?ie:buffer$2.Buffer.concat([encodeLength(ie.length,128),ie])}}dist_browser.encode=encode$3;function safeParseInt(te,ee){if(te[0]==="0"&&te[1]==="0")throw new Error("invalid RLP: extra zeros");return parseInt(te,ee)}function encodeLength(te,ee){if(te<56)return buffer$2.Buffer.from([te+ee]);var re=intToHex$4(te),ne=re.length/2,ie=intToHex$4(ee+55+ne);return buffer$2.Buffer.from(ie+re,"hex")}function decode$5(te,ee){if(ee===void 0&&(ee=!1),!te||te.length===0)return buffer$2.Buffer.from([]);var re=toBuffer$1(te),ne=_decode(re);if(ee)return ne;if(ne.remainder.length!==0)throw new Error("invalid remainder");return ne.data}dist_browser.decode=decode$5;function getLength(te){if(!te||te.length===0)return buffer$2.Buffer.from([]);var ee=toBuffer$1(te),re=ee[0];if(re<=127)return ee.length;if(re<=183)return re-127;if(re<=191)return re-182;if(re<=247)return re-191;var ne=re-246,ie=safeParseInt(ee.slice(1,ne).toString("hex"),16);return ne+ie}dist_browser.getLength=getLength;function _decode(te){var ee,re,ne,ie,oe,se=[],ae=te[0];if(ae<=127)return{data:te.slice(0,1),remainder:te.slice(1)};if(ae<=183){if(ee=ae-127,ae===128?ne=buffer$2.Buffer.from([]):ne=te.slice(1,ee),ee===2&&ne[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:ne,remainder:te.slice(ee)}}else if(ae<=191){if(re=ae-182,te.length-1<re)throw new Error("invalid RLP: not enough bytes for string length");if(ee=safeParseInt(te.slice(1,re).toString("hex"),16),ee<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if(ne=te.slice(re,ee+re),ne.length<ee)throw new Error("invalid RLP: not enough bytes for string");return{data:ne,remainder:te.slice(ee+re)}}else if(ae<=247){for(ee=ae-191,ie=te.slice(1,ee);ie.length;)oe=_decode(ie),se.push(oe.data),ie=oe.remainder;return{data:se,remainder:te.slice(ee)}}else{re=ae-246,ee=safeParseInt(te.slice(1,re).toString("hex"),16);var fe=re+ee;if(fe>te.length)throw new Error("invalid rlp: total length is larger than the data");if(ie=te.slice(re,fe),ie.length===0)throw new Error("invalid rlp, List has a invalid length");for(;ie.length;)oe=_decode(ie),se.push(oe.data),ie=oe.remainder;return{data:se,remainder:te.slice(fe)}}}function isHexPrefixed$2(te){return te.slice(0,2)==="0x"}function stripHexPrefix$2(te){return typeof te!="string"?te:isHexPrefixed$2(te)?te.slice(2):te}function intToHex$4(te){if(te<0)throw new Error("Invalid integer as argument, must be unsigned!");var ee=te.toString(16);return ee.length%2?"0"+ee:ee}function padToEven$2(te){return te.length%2?"0"+te:te}function intToBuffer$2(te){var ee=intToHex$4(te);return buffer$2.Buffer.from(ee,"hex")}function toBuffer$1(te){if(!buffer$2.Buffer.isBuffer(te)){if(typeof te=="string")return isHexPrefixed$2(te)?buffer$2.Buffer.from(padToEven$2(stripHexPrefix$2(te)),"hex"):buffer$2.Buffer.from(te);if(typeof te=="number"||typeof te=="bigint")return te?intToBuffer$2(te):buffer$2.Buffer.from([]);if(te==null)return buffer$2.Buffer.from([]);if(te instanceof Uint8Array)return buffer$2.Buffer.from(te);if(bn_js_1$2.default.isBN(te))return buffer$2.Buffer.from(te.toArray());throw new Error("invalid type")}return te}var readableBrowser={exports:{}},streamBrowser=events$1.exports.EventEmitter;function ownKeys(te,ee){var re=Object.keys(te);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(te);ee&&(ne=ne.filter(function(ie){return Object.getOwnPropertyDescriptor(te,ie).enumerable})),re.push.apply(re,ne)}return re}function _objectSpread(te){for(var ee=1;ee<arguments.length;ee++){var re=arguments[ee]!=null?arguments[ee]:{};ee%2?ownKeys(Object(re),!0).forEach(function(ne){_defineProperty$1(te,ne,re[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(re)):ownKeys(Object(re)).forEach(function(ne){Object.defineProperty(te,ne,Object.getOwnPropertyDescriptor(re,ne))})}return te}function _defineProperty$1(te,ee,re){return ee in te?Object.defineProperty(te,ee,{value:re,enumerable:!0,configurable:!0,writable:!0}):te[ee]=re,te}function _classCallCheck$1(te,ee){if(!(te instanceof ee))throw new TypeError("Cannot call a class as a function")}function _defineProperties(te,ee){for(var re=0;re<ee.length;re++){var ne=ee[re];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(te,ne.key,ne)}}function _createClass(te,ee,re){return ee&&_defineProperties(te.prototype,ee),re&&_defineProperties(te,re),te}var _require$2=buffer$2,Buffer$h=_require$2.Buffer,_require2=require$$0$3,inspect=_require2.inspect,custom=inspect&&inspect.custom||"inspect";function copyBuffer(te,ee,re){Buffer$h.prototype.copy.call(te,ee,re)}var buffer_list=function(){function te(){_classCallCheck$1(this,te),this.head=null,this.tail=null,this.length=0}return _createClass(te,[{key:"push",value:function(re){var ne={data:re,next:null};this.length>0?this.tail.next=ne:this.head=ne,this.tail=ne,++this.length}},{key:"unshift",value:function(re){var ne={data:re,next:this.head};this.length===0&&(this.tail=ne),this.head=ne,++this.length}},{key:"shift",value:function(){if(this.length!==0){var re=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,re}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(re){if(this.length===0)return"";for(var ne=this.head,ie=""+ne.data;ne=ne.next;)ie+=re+ne.data;return ie}},{key:"concat",value:function(re){if(this.length===0)return Buffer$h.alloc(0);for(var ne=Buffer$h.allocUnsafe(re>>>0),ie=this.head,oe=0;ie;)copyBuffer(ie.data,ne,oe),oe+=ie.data.length,ie=ie.next;return ne}},{key:"consume",value:function(re,ne){var ie;return re<this.head.data.length?(ie=this.head.data.slice(0,re),this.head.data=this.head.data.slice(re)):re===this.head.data.length?ie=this.shift():ie=ne?this._getString(re):this._getBuffer(re),ie}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(re){var ne=this.head,ie=1,oe=ne.data;for(re-=oe.length;ne=ne.next;){var se=ne.data,ae=re>se.length?se.length:re;if(ae===se.length?oe+=se:oe+=se.slice(0,re),re-=ae,re===0){ae===se.length?(++ie,ne.next?this.head=ne.next:this.head=this.tail=null):(this.head=ne,ne.data=se.slice(ae));break}++ie}return this.length-=ie,oe}},{key:"_getBuffer",value:function(re){var ne=Buffer$h.allocUnsafe(re),ie=this.head,oe=1;for(ie.data.copy(ne),re-=ie.data.length;ie=ie.next;){var se=ie.data,ae=re>se.length?se.length:re;if(se.copy(ne,ne.length-re,0,ae),re-=ae,re===0){ae===se.length?(++oe,ie.next?this.head=ie.next:this.head=this.tail=null):(this.head=ie,ie.data=se.slice(ae));break}++oe}return this.length-=oe,ne}},{key:custom,value:function(re,ne){return inspect(this,_objectSpread({},ne,{depth:0,customInspect:!1}))}}]),te}();function destroy(te,ee){var re=this,ne=this._readableState&&this._readableState.destroyed,ie=this._writableState&&this._writableState.destroyed;return ne||ie?(ee?ee(te):te&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(emitErrorNT,this,te)):process.nextTick(emitErrorNT,this,te)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(te||null,function(oe){!ee&&oe?re._writableState?re._writableState.errorEmitted?process.nextTick(emitCloseNT,re):(re._writableState.errorEmitted=!0,process.nextTick(emitErrorAndCloseNT,re,oe)):process.nextTick(emitErrorAndCloseNT,re,oe):ee?(process.nextTick(emitCloseNT,re),ee(oe)):process.nextTick(emitCloseNT,re)}),this)}function emitErrorAndCloseNT(te,ee){emitErrorNT(te,ee),emitCloseNT(te)}function emitCloseNT(te){te._writableState&&!te._writableState.emitClose||te._readableState&&!te._readableState.emitClose||te.emit("close")}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(te,ee){te.emit("error",ee)}function errorOrDestroy$2(te,ee){var re=te._readableState,ne=te._writableState;re&&re.autoDestroy||ne&&ne.autoDestroy?te.destroy(ee):te.emit("error",ee)}var destroy_1={destroy,undestroy,errorOrDestroy:errorOrDestroy$2},errorsBrowser={};function _inheritsLoose(te,ee){te.prototype=Object.create(ee.prototype),te.prototype.constructor=te,te.__proto__=ee}var codes={};function createErrorType(te,ee,re){re||(re=Error);function ne(oe,se,ae){return typeof ee=="string"?ee:ee(oe,se,ae)}var ie=function(oe){_inheritsLoose(se,oe);function se(ae,fe,ue){return oe.call(this,ne(ae,fe,ue))||this}return se}(re);ie.prototype.name=re.name,ie.prototype.code=te,codes[te]=ie}function oneOf(te,ee){if(Array.isArray(te)){var re=te.length;return te=te.map(function(ne){return String(ne)}),re>2?"one of ".concat(ee," ").concat(te.slice(0,re-1).join(", "),", or ")+te[re-1]:re===2?"one of ".concat(ee," ").concat(te[0]," or ").concat(te[1]):"of ".concat(ee," ").concat(te[0])}else return"of ".concat(ee," ").concat(String(te))}function startsWith(te,ee,re){return te.substr(!re||re<0?0:+re,ee.length)===ee}function endsWith(te,ee,re){return(re===void 0||re>te.length)&&(re=te.length),te.substring(re-ee.length,re)===ee}function includes(te,ee,re){return typeof re!="number"&&(re=0),re+ee.length>te.length?!1:te.indexOf(ee,re)!==-1}createErrorType("ERR_INVALID_OPT_VALUE",function(te,ee){return'The value "'+ee+'" is invalid for option "'+te+'"'},TypeError);createErrorType("ERR_INVALID_ARG_TYPE",function(te,ee,re){var ne;typeof ee=="string"&&startsWith(ee,"not ")?(ne="must not be",ee=ee.replace(/^not /,"")):ne="must be";var ie;if(endsWith(te," argument"))ie="The ".concat(te," ").concat(ne," ").concat(oneOf(ee,"type"));else{var oe=includes(te,".")?"property":"argument";ie='The "'.concat(te,'" ').concat(oe," ").concat(ne," ").concat(oneOf(ee,"type"))}return ie+=". Received type ".concat(typeof re),ie},TypeError);createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");createErrorType("ERR_METHOD_NOT_IMPLEMENTED",function(te){return"The "+te+" method is not implemented"});createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close");createErrorType("ERR_STREAM_DESTROYED",function(te){return"Cannot call "+te+" after a stream was destroyed"});createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times");createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end");createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);createErrorType("ERR_UNKNOWN_ENCODING",function(te){return"Unknown encoding: "+te},TypeError);createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");errorsBrowser.codes=codes;var ERR_INVALID_OPT_VALUE=errorsBrowser.codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(te,ee,re){return te.highWaterMark!=null?te.highWaterMark:ee?te[re]:null}function getHighWaterMark$2(te,ee,re,ne){var ie=highWaterMarkFrom(ee,ne,re);if(ie!=null){if(!(isFinite(ie)&&Math.floor(ie)===ie)||ie<0){var oe=ne?re:"highWaterMark";throw new ERR_INVALID_OPT_VALUE(oe,ie)}return Math.floor(ie)}return te.objectMode?16:16*1024}var state={getHighWaterMark:getHighWaterMark$2},_stream_writable=Writable$1;function CorkedRequest(te){var ee=this;this.next=null,this.entry=null,this.finish=function(){onCorkedFinish(ee,te)}}var Duplex$3;Writable$1.WritableState=WritableState;var internalUtil={deprecate:browser$4},Stream$1=streamBrowser,Buffer$g=buffer$2.Buffer,OurUint8Array$1=commonjsGlobal$1.Uint8Array||function(){};function _uint8ArrayToBuffer$1(te){return Buffer$g.from(te)}function _isUint8Array$1(te){return Buffer$g.isBuffer(te)||te instanceof OurUint8Array$1}var destroyImpl$1=destroy_1,_require$1=state,getHighWaterMark$1=_require$1.getHighWaterMark,_require$codes$3=errorsBrowser.codes,ERR_INVALID_ARG_TYPE$1=_require$codes$3.ERR_INVALID_ARG_TYPE,ERR_METHOD_NOT_IMPLEMENTED$2=_require$codes$3.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK$1=_require$codes$3.ERR_MULTIPLE_CALLBACK,ERR_STREAM_CANNOT_PIPE=_require$codes$3.ERR_STREAM_CANNOT_PIPE,ERR_STREAM_DESTROYED$1=_require$codes$3.ERR_STREAM_DESTROYED,ERR_STREAM_NULL_VALUES=_require$codes$3.ERR_STREAM_NULL_VALUES,ERR_STREAM_WRITE_AFTER_END=_require$codes$3.ERR_STREAM_WRITE_AFTER_END,ERR_UNKNOWN_ENCODING=_require$codes$3.ERR_UNKNOWN_ENCODING,errorOrDestroy$1=destroyImpl$1.errorOrDestroy;inherits_browser$5.exports(Writable$1,Stream$1);function nop(){}function WritableState(te,ee,re){Duplex$3=Duplex$3||_stream_duplex,te=te||{},typeof re!="boolean"&&(re=ee instanceof Duplex$3),this.objectMode=!!te.objectMode,re&&(this.objectMode=this.objectMode||!!te.writableObjectMode),this.highWaterMark=getHighWaterMark$1(this,te,"writableHighWaterMark",re),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ne=te.decodeStrings===!1;this.decodeStrings=!ne,this.defaultEncoding=te.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ie){onwrite(ee,ie)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=te.emitClose!==!1,this.autoDestroy=!!te.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}WritableState.prototype.getBuffer=function(){for(var ee=this.bufferedRequest,re=[];ee;)re.push(ee),ee=ee.next;return re};(function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var realHasInstance;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable$1,Symbol.hasInstance,{value:function(ee){return realHasInstance.call(this,ee)?!0:this!==Writable$1?!1:ee&&ee._writableState instanceof WritableState}})):realHasInstance=function(ee){return ee instanceof this};function Writable$1(te){Duplex$3=Duplex$3||_stream_duplex;var ee=this instanceof Duplex$3;if(!ee&&!realHasInstance.call(Writable$1,this))return new Writable$1(te);this._writableState=new WritableState(te,this,ee),this.writable=!0,te&&(typeof te.write=="function"&&(this._write=te.write),typeof te.writev=="function"&&(this._writev=te.writev),typeof te.destroy=="function"&&(this._destroy=te.destroy),typeof te.final=="function"&&(this._final=te.final)),Stream$1.call(this)}Writable$1.prototype.pipe=function(){errorOrDestroy$1(this,new ERR_STREAM_CANNOT_PIPE)};function writeAfterEnd(te,ee){var re=new ERR_STREAM_WRITE_AFTER_END;errorOrDestroy$1(te,re),process.nextTick(ee,re)}function validChunk(te,ee,re,ne){var ie;return re===null?ie=new ERR_STREAM_NULL_VALUES:typeof re!="string"&&!ee.objectMode&&(ie=new ERR_INVALID_ARG_TYPE$1("chunk",["string","Buffer"],re)),ie?(errorOrDestroy$1(te,ie),process.nextTick(ne,ie),!1):!0}Writable$1.prototype.write=function(te,ee,re){var ne=this._writableState,ie=!1,oe=!ne.objectMode&&_isUint8Array$1(te);return oe&&!Buffer$g.isBuffer(te)&&(te=_uint8ArrayToBuffer$1(te)),typeof ee=="function"&&(re=ee,ee=null),oe?ee="buffer":ee||(ee=ne.defaultEncoding),typeof re!="function"&&(re=nop),ne.ending?writeAfterEnd(this,re):(oe||validChunk(this,ne,te,re))&&(ne.pendingcb++,ie=writeOrBuffer(this,ne,oe,te,ee,re)),ie};Writable$1.prototype.cork=function(){this._writableState.corked++};Writable$1.prototype.uncork=function(){var te=this._writableState;te.corked&&(te.corked--,!te.writing&&!te.corked&&!te.bufferProcessing&&te.bufferedRequest&&clearBuffer(this,te))};Writable$1.prototype.setDefaultEncoding=function(ee){if(typeof ee=="string"&&(ee=ee.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ee+"").toLowerCase())>-1))throw new ERR_UNKNOWN_ENCODING(ee);return this._writableState.defaultEncoding=ee,this};Object.defineProperty(Writable$1.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function decodeChunk(te,ee,re){return!te.objectMode&&te.decodeStrings!==!1&&typeof ee=="string"&&(ee=Buffer$g.from(ee,re)),ee}Object.defineProperty(Writable$1.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function writeOrBuffer(te,ee,re,ne,ie,oe){if(!re){var se=decodeChunk(ee,ne,ie);ne!==se&&(re=!0,ie="buffer",ne=se)}var ae=ee.objectMode?1:ne.length;ee.length+=ae;var fe=ee.length<ee.highWaterMark;if(fe||(ee.needDrain=!0),ee.writing||ee.corked){var ue=ee.lastBufferedRequest;ee.lastBufferedRequest={chunk:ne,encoding:ie,isBuf:re,callback:oe,next:null},ue?ue.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else doWrite(te,ee,!1,ae,ne,ie,oe);return fe}function doWrite(te,ee,re,ne,ie,oe,se){ee.writelen=ne,ee.writecb=se,ee.writing=!0,ee.sync=!0,ee.destroyed?ee.onwrite(new ERR_STREAM_DESTROYED$1("write")):re?te._writev(ie,ee.onwrite):te._write(ie,oe,ee.onwrite),ee.sync=!1}function onwriteError(te,ee,re,ne,ie){--ee.pendingcb,re?(process.nextTick(ie,ne),process.nextTick(finishMaybe,te,ee),te._writableState.errorEmitted=!0,errorOrDestroy$1(te,ne)):(ie(ne),te._writableState.errorEmitted=!0,errorOrDestroy$1(te,ne),finishMaybe(te,ee))}function onwriteStateUpdate(te){te.writing=!1,te.writecb=null,te.length-=te.writelen,te.writelen=0}function onwrite(te,ee){var re=te._writableState,ne=re.sync,ie=re.writecb;if(typeof ie!="function")throw new ERR_MULTIPLE_CALLBACK$1;if(onwriteStateUpdate(re),ee)onwriteError(te,re,ne,ee,ie);else{var oe=needFinish(re)||te.destroyed;!oe&&!re.corked&&!re.bufferProcessing&&re.bufferedRequest&&clearBuffer(te,re),ne?process.nextTick(afterWrite,te,re,oe,ie):afterWrite(te,re,oe,ie)}}function afterWrite(te,ee,re,ne){re||onwriteDrain(te,ee),ee.pendingcb--,ne(),finishMaybe(te,ee)}function onwriteDrain(te,ee){ee.length===0&&ee.needDrain&&(ee.needDrain=!1,te.emit("drain"))}function clearBuffer(te,ee){ee.bufferProcessing=!0;var re=ee.bufferedRequest;if(te._writev&&re&&re.next){var ne=ee.bufferedRequestCount,ie=new Array(ne),oe=ee.corkedRequestsFree;oe.entry=re;for(var se=0,ae=!0;re;)ie[se]=re,re.isBuf||(ae=!1),re=re.next,se+=1;ie.allBuffers=ae,doWrite(te,ee,!0,ee.length,ie,"",oe.finish),ee.pendingcb++,ee.lastBufferedRequest=null,oe.next?(ee.corkedRequestsFree=oe.next,oe.next=null):ee.corkedRequestsFree=new CorkedRequest(ee),ee.bufferedRequestCount=0}else{for(;re;){var fe=re.chunk,ue=re.encoding,le=re.callback,pe=ee.objectMode?1:fe.length;if(doWrite(te,ee,!1,pe,fe,ue,le),re=re.next,ee.bufferedRequestCount--,ee.writing)break}re===null&&(ee.lastBufferedRequest=null)}ee.bufferedRequest=re,ee.bufferProcessing=!1}Writable$1.prototype._write=function(te,ee,re){re(new ERR_METHOD_NOT_IMPLEMENTED$2("_write()"))};Writable$1.prototype._writev=null;Writable$1.prototype.end=function(te,ee,re){var ne=this._writableState;return typeof te=="function"?(re=te,te=null,ee=null):typeof ee=="function"&&(re=ee,ee=null),te!=null&&this.write(te,ee),ne.corked&&(ne.corked=1,this.uncork()),ne.ending||endWritable(this,ne,re),this};Object.defineProperty(Writable$1.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function needFinish(te){return te.ending&&te.length===0&&te.bufferedRequest===null&&!te.finished&&!te.writing}function callFinal(te,ee){te._final(function(re){ee.pendingcb--,re&&errorOrDestroy$1(te,re),ee.prefinished=!0,te.emit("prefinish"),finishMaybe(te,ee)})}function prefinish$1(te,ee){!ee.prefinished&&!ee.finalCalled&&(typeof te._final=="function"&&!ee.destroyed?(ee.pendingcb++,ee.finalCalled=!0,process.nextTick(callFinal,te,ee)):(ee.prefinished=!0,te.emit("prefinish")))}function finishMaybe(te,ee){var re=needFinish(ee);if(re&&(prefinish$1(te,ee),ee.pendingcb===0&&(ee.finished=!0,te.emit("finish"),ee.autoDestroy))){var ne=te._readableState;(!ne||ne.autoDestroy&&ne.endEmitted)&&te.destroy()}return re}function endWritable(te,ee,re){ee.ending=!0,finishMaybe(te,ee),re&&(ee.finished?process.nextTick(re):te.once("finish",re)),ee.ended=!0,te.writable=!1}function onCorkedFinish(te,ee,re){var ne=te.entry;for(te.entry=null;ne;){var ie=ne.callback;ee.pendingcb--,ie(re),ne=ne.next}ee.corkedRequestsFree.next=te}Object.defineProperty(Writable$1.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ee){!this._writableState||(this._writableState.destroyed=ee)}});Writable$1.prototype.destroy=destroyImpl$1.destroy;Writable$1.prototype._undestroy=destroyImpl$1.undestroy;Writable$1.prototype._destroy=function(te,ee){ee(te)};var objectKeys$1=Object.keys||function(te){var ee=[];for(var re in te)ee.push(re);return ee},_stream_duplex=Duplex$2,Readable$1=_stream_readable,Writable=_stream_writable;inherits_browser$5.exports(Duplex$2,Readable$1);for(var keys$1=objectKeys$1(Writable.prototype),v$4=0;v$4<keys$1.length;v$4++){var method=keys$1[v$4];Duplex$2.prototype[method]||(Duplex$2.prototype[method]=Writable.prototype[method])}function Duplex$2(te){if(!(this instanceof Duplex$2))return new Duplex$2(te);Readable$1.call(this,te),Writable.call(this,te),this.allowHalfOpen=!0,te&&(te.readable===!1&&(this.readable=!1),te.writable===!1&&(this.writable=!1),te.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",onend)))}Object.defineProperty(Duplex$2.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Duplex$2.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Duplex$2.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function onend(){this._writableState.ended||process.nextTick(onEndNT,this)}function onEndNT(te){te.end()}Object.defineProperty(Duplex$2.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(ee){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=ee,this._writableState.destroyed=ee)}});var string_decoder$1={},Buffer$f=safeBuffer.exports.Buffer,isEncoding=Buffer$f.isEncoding||function(te){switch(te=""+te,te&&te.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _normalizeEncoding(te){if(!te)return"utf8";for(var ee;;)switch(te){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return te;default:if(ee)return;te=(""+te).toLowerCase(),ee=!0}}function normalizeEncoding(te){var ee=_normalizeEncoding(te);if(typeof ee!="string"&&(Buffer$f.isEncoding===isEncoding||!isEncoding(te)))throw new Error("Unknown encoding: "+te);return ee||te}string_decoder$1.StringDecoder=StringDecoder$3;function StringDecoder$3(te){this.encoding=normalizeEncoding(te);var ee;switch(this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,ee=4;break;case"utf8":this.fillLast=utf8FillLast,ee=4;break;case"base64":this.text=base64Text,this.end=base64End,ee=3;break;default:this.write=simpleWrite,this.end=simpleEnd;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer$f.allocUnsafe(ee)}StringDecoder$3.prototype.write=function(te){if(te.length===0)return"";var ee,re;if(this.lastNeed){if(ee=this.fillLast(te),ee===void 0)return"";re=this.lastNeed,this.lastNeed=0}else re=0;return re<te.length?ee?ee+this.text(te,re):this.text(te,re):ee||""};StringDecoder$3.prototype.end=utf8End;StringDecoder$3.prototype.text=utf8Text;StringDecoder$3.prototype.fillLast=function(te){if(this.lastNeed<=te.length)return te.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);te.copy(this.lastChar,this.lastTotal-this.lastNeed,0,te.length),this.lastNeed-=te.length};function utf8CheckByte(te){return te<=127?0:te>>5===6?2:te>>4===14?3:te>>3===30?4:te>>6===2?-1:-2}function utf8CheckIncomplete(te,ee,re){var ne=ee.length-1;if(ne<re)return 0;var ie=utf8CheckByte(ee[ne]);return ie>=0?(ie>0&&(te.lastNeed=ie-1),ie):--ne<re||ie===-2?0:(ie=utf8CheckByte(ee[ne]),ie>=0?(ie>0&&(te.lastNeed=ie-2),ie):--ne<re||ie===-2?0:(ie=utf8CheckByte(ee[ne]),ie>=0?(ie>0&&(ie===2?ie=0:te.lastNeed=ie-3),ie):0))}function utf8CheckExtraBytes(te,ee,re){if((ee[0]&192)!==128)return te.lastNeed=0,"\uFFFD";if(te.lastNeed>1&&ee.length>1){if((ee[1]&192)!==128)return te.lastNeed=1,"\uFFFD";if(te.lastNeed>2&&ee.length>2&&(ee[2]&192)!==128)return te.lastNeed=2,"\uFFFD"}}function utf8FillLast(te){var ee=this.lastTotal-this.lastNeed,re=utf8CheckExtraBytes(this,te);if(re!==void 0)return re;if(this.lastNeed<=te.length)return te.copy(this.lastChar,ee,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);te.copy(this.lastChar,ee,0,te.length),this.lastNeed-=te.length}function utf8Text(te,ee){var re=utf8CheckIncomplete(this,te,ee);if(!this.lastNeed)return te.toString("utf8",ee);this.lastTotal=re;var ne=te.length-(re-this.lastNeed);return te.copy(this.lastChar,0,ne),te.toString("utf8",ee,ne)}function utf8End(te){var ee=te&&te.length?this.write(te):"";return this.lastNeed?ee+"\uFFFD":ee}function utf16Text(te,ee){if((te.length-ee)%2===0){var re=te.toString("utf16le",ee);if(re){var ne=re.charCodeAt(re.length-1);if(ne>=55296&&ne<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=te[te.length-2],this.lastChar[1]=te[te.length-1],re.slice(0,-1)}return re}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=te[te.length-1],te.toString("utf16le",ee,te.length-1)}function utf16End(te){var ee=te&&te.length?this.write(te):"";if(this.lastNeed){var re=this.lastTotal-this.lastNeed;return ee+this.lastChar.toString("utf16le",0,re)}return ee}function base64Text(te,ee){var re=(te.length-ee)%3;return re===0?te.toString("base64",ee):(this.lastNeed=3-re,this.lastTotal=3,re===1?this.lastChar[0]=te[te.length-1]:(this.lastChar[0]=te[te.length-2],this.lastChar[1]=te[te.length-1]),te.toString("base64",ee,te.length-re))}function base64End(te){var ee=te&&te.length?this.write(te):"";return this.lastNeed?ee+this.lastChar.toString("base64",0,3-this.lastNeed):ee}function simpleWrite(te){return te.toString(this.encoding)}function simpleEnd(te){return te&&te.length?this.write(te):""}var ERR_STREAM_PREMATURE_CLOSE=errorsBrowser.codes.ERR_STREAM_PREMATURE_CLOSE;function once$2(te){var ee=!1;return function(){if(!ee){ee=!0;for(var re=arguments.length,ne=new Array(re),ie=0;ie<re;ie++)ne[ie]=arguments[ie];te.apply(this,ne)}}}function noop$6(){}function isRequest$1(te){return te.setHeader&&typeof te.abort=="function"}function eos$1(te,ee,re){if(typeof ee=="function")return eos$1(te,null,ee);ee||(ee={}),re=once$2(re||noop$6);var ne=ee.readable||ee.readable!==!1&&te.readable,ie=ee.writable||ee.writable!==!1&&te.writable,oe=function(){te.writable||ae()},se=te._writableState&&te._writableState.finished,ae=function(){ie=!1,se=!0,ne||re.call(te)},fe=te._readableState&&te._readableState.endEmitted,ue=function(){ne=!1,fe=!0,ie||re.call(te)},le=function(ar){re.call(te,ar)},pe=function(){var ar;if(ne&&!fe)return(!te._readableState||!te._readableState.ended)&&(ar=new ERR_STREAM_PREMATURE_CLOSE),re.call(te,ar);if(ie&&!se)return(!te._writableState||!te._writableState.ended)&&(ar=new ERR_STREAM_PREMATURE_CLOSE),re.call(te,ar)},rr=function(){te.req.on("finish",ae)};return isRequest$1(te)?(te.on("complete",ae),te.on("abort",pe),te.req?rr():te.on("request",rr)):ie&&!te._writableState&&(te.on("end",oe),te.on("close",oe)),te.on("end",ue),te.on("finish",ae),ee.error!==!1&&te.on("error",le),te.on("close",pe),function(){te.removeListener("complete",ae),te.removeListener("abort",pe),te.removeListener("request",rr),te.req&&te.req.removeListener("finish",ae),te.removeListener("end",oe),te.removeListener("close",oe),te.removeListener("finish",ae),te.removeListener("end",ue),te.removeListener("error",le),te.removeListener("close",pe)}}var endOfStream=eos$1,_Object$setPrototypeO;function _defineProperty(te,ee,re){return ee in te?Object.defineProperty(te,ee,{value:re,enumerable:!0,configurable:!0,writable:!0}):te[ee]=re,te}var finished=endOfStream,kLastResolve=Symbol("lastResolve"),kLastReject=Symbol("lastReject"),kError=Symbol("error"),kEnded=Symbol("ended"),kLastPromise=Symbol("lastPromise"),kHandlePromise=Symbol("handlePromise"),kStream=Symbol("stream");function createIterResult(te,ee){return{value:te,done:ee}}function readAndResolve(te){var ee=te[kLastResolve];if(ee!==null){var re=te[kStream].read();re!==null&&(te[kLastPromise]=null,te[kLastResolve]=null,te[kLastReject]=null,ee(createIterResult(re,!1)))}}function onReadable(te){process.nextTick(readAndResolve,te)}function wrapForNext(te,ee){return function(re,ne){te.then(function(){if(ee[kEnded]){re(createIterResult(void 0,!0));return}ee[kHandlePromise](re,ne)},ne)}}var AsyncIteratorPrototype=Object.getPrototypeOf(function(){}),ReadableStreamAsyncIteratorPrototype=Object.setPrototypeOf((_Object$setPrototypeO={get stream(){return this[kStream]},next:function(){var ee=this,re=this[kError];if(re!==null)return Promise.reject(re);if(this[kEnded])return Promise.resolve(createIterResult(void 0,!0));if(this[kStream].destroyed)return new Promise(function(se,ae){process.nextTick(function(){ee[kError]?ae(ee[kError]):se(createIterResult(void 0,!0))})});var ne=this[kLastPromise],ie;if(ne)ie=new Promise(wrapForNext(ne,this));else{var oe=this[kStream].read();if(oe!==null)return Promise.resolve(createIterResult(oe,!1));ie=new Promise(this[kHandlePromise])}return this[kLastPromise]=ie,ie}},_defineProperty(_Object$setPrototypeO,Symbol.asyncIterator,function(){return this}),_defineProperty(_Object$setPrototypeO,"return",function(){var ee=this;return new Promise(function(re,ne){ee[kStream].destroy(null,function(ie){if(ie){ne(ie);return}re(createIterResult(void 0,!0))})})}),_Object$setPrototypeO),AsyncIteratorPrototype),createReadableStreamAsyncIterator$1=function(ee){var re,ne=Object.create(ReadableStreamAsyncIteratorPrototype,(re={},_defineProperty(re,kStream,{value:ee,writable:!0}),_defineProperty(re,kLastResolve,{value:null,writable:!0}),_defineProperty(re,kLastReject,{value:null,writable:!0}),_defineProperty(re,kError,{value:null,writable:!0}),_defineProperty(re,kEnded,{value:ee._readableState.endEmitted,writable:!0}),_defineProperty(re,kHandlePromise,{value:function(oe,se){var ae=ne[kStream].read();ae?(ne[kLastPromise]=null,ne[kLastResolve]=null,ne[kLastReject]=null,oe(createIterResult(ae,!1))):(ne[kLastResolve]=oe,ne[kLastReject]=se)},writable:!0}),re));return ne[kLastPromise]=null,finished(ee,function(ie){if(ie&&ie.code!=="ERR_STREAM_PREMATURE_CLOSE"){var oe=ne[kLastReject];oe!==null&&(ne[kLastPromise]=null,ne[kLastResolve]=null,ne[kLastReject]=null,oe(ie)),ne[kError]=ie;return}var se=ne[kLastResolve];se!==null&&(ne[kLastPromise]=null,ne[kLastResolve]=null,ne[kLastReject]=null,se(createIterResult(void 0,!0))),ne[kEnded]=!0}),ee.on("readable",onReadable.bind(null,ne)),ne},async_iterator=createReadableStreamAsyncIterator$1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")},_stream_readable=Readable,Duplex$1;Readable.ReadableState=ReadableState;events$1.exports.EventEmitter;var EElistenerCount=function(ee,re){return ee.listeners(re).length},Stream=streamBrowser,Buffer$e=buffer$2.Buffer,OurUint8Array=commonjsGlobal$1.Uint8Array||function(){};function _uint8ArrayToBuffer(te){return Buffer$e.from(te)}function _isUint8Array(te){return Buffer$e.isBuffer(te)||te instanceof OurUint8Array}var debugUtil=require$$0$3,debug;debugUtil&&debugUtil.debuglog?debug=debugUtil.debuglog("stream"):debug=function(){};var BufferList=buffer_list,destroyImpl=destroy_1,_require=state,getHighWaterMark=_require.getHighWaterMark,_require$codes$2=errorsBrowser.codes,ERR_INVALID_ARG_TYPE=_require$codes$2.ERR_INVALID_ARG_TYPE,ERR_STREAM_PUSH_AFTER_EOF=_require$codes$2.ERR_STREAM_PUSH_AFTER_EOF,ERR_METHOD_NOT_IMPLEMENTED$1=_require$codes$2.ERR_METHOD_NOT_IMPLEMENTED,ERR_STREAM_UNSHIFT_AFTER_END_EVENT=_require$codes$2.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,StringDecoder$2,createReadableStreamAsyncIterator,from$2;inherits_browser$5.exports(Readable,Stream);var errorOrDestroy=destroyImpl.errorOrDestroy,kProxyEvents=["error","close","destroy","pause","resume"];function prependListener(te,ee,re){if(typeof te.prependListener=="function")return te.prependListener(ee,re);!te._events||!te._events[ee]?te.on(ee,re):Array.isArray(te._events[ee])?te._events[ee].unshift(re):te._events[ee]=[re,te._events[ee]]}function ReadableState(te,ee,re){Duplex$1=Duplex$1||_stream_duplex,te=te||{},typeof re!="boolean"&&(re=ee instanceof Duplex$1),this.objectMode=!!te.objectMode,re&&(this.objectMode=this.objectMode||!!te.readableObjectMode),this.highWaterMark=getHighWaterMark(this,te,"readableHighWaterMark",re),this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=te.emitClose!==!1,this.autoDestroy=!!te.autoDestroy,this.destroyed=!1,this.defaultEncoding=te.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,te.encoding&&(StringDecoder$2||(StringDecoder$2=string_decoder$1.StringDecoder),this.decoder=new StringDecoder$2(te.encoding),this.encoding=te.encoding)}function Readable(te){if(Duplex$1=Duplex$1||_stream_duplex,!(this instanceof Readable))return new Readable(te);var ee=this instanceof Duplex$1;this._readableState=new ReadableState(te,this,ee),this.readable=!0,te&&(typeof te.read=="function"&&(this._read=te.read),typeof te.destroy=="function"&&(this._destroy=te.destroy)),Stream.call(this)}Object.defineProperty(Readable.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ee){!this._readableState||(this._readableState.destroyed=ee)}});Readable.prototype.destroy=destroyImpl.destroy;Readable.prototype._undestroy=destroyImpl.undestroy;Readable.prototype._destroy=function(te,ee){ee(te)};Readable.prototype.push=function(te,ee){var re=this._readableState,ne;return re.objectMode?ne=!0:typeof te=="string"&&(ee=ee||re.defaultEncoding,ee!==re.encoding&&(te=Buffer$e.from(te,ee),ee=""),ne=!0),readableAddChunk(this,te,ee,!1,ne)};Readable.prototype.unshift=function(te){return readableAddChunk(this,te,null,!0,!1)};function readableAddChunk(te,ee,re,ne,ie){debug("readableAddChunk",ee);var oe=te._readableState;if(ee===null)oe.reading=!1,onEofChunk(te,oe);else{var se;if(ie||(se=chunkInvalid(oe,ee)),se)errorOrDestroy(te,se);else if(oe.objectMode||ee&&ee.length>0)if(typeof ee!="string"&&!oe.objectMode&&Object.getPrototypeOf(ee)!==Buffer$e.prototype&&(ee=_uint8ArrayToBuffer(ee)),ne)oe.endEmitted?errorOrDestroy(te,new ERR_STREAM_UNSHIFT_AFTER_END_EVENT):addChunk(te,oe,ee,!0);else if(oe.ended)errorOrDestroy(te,new ERR_STREAM_PUSH_AFTER_EOF);else{if(oe.destroyed)return!1;oe.reading=!1,oe.decoder&&!re?(ee=oe.decoder.write(ee),oe.objectMode||ee.length!==0?addChunk(te,oe,ee,!1):maybeReadMore(te,oe)):addChunk(te,oe,ee,!1)}else ne||(oe.reading=!1,maybeReadMore(te,oe))}return!oe.ended&&(oe.length<oe.highWaterMark||oe.length===0)}function addChunk(te,ee,re,ne){ee.flowing&&ee.length===0&&!ee.sync?(ee.awaitDrain=0,te.emit("data",re)):(ee.length+=ee.objectMode?1:re.length,ne?ee.buffer.unshift(re):ee.buffer.push(re),ee.needReadable&&emitReadable(te)),maybeReadMore(te,ee)}function chunkInvalid(te,ee){var re;return!_isUint8Array(ee)&&typeof ee!="string"&&ee!==void 0&&!te.objectMode&&(re=new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer","Uint8Array"],ee)),re}Readable.prototype.isPaused=function(){return this._readableState.flowing===!1};Readable.prototype.setEncoding=function(te){StringDecoder$2||(StringDecoder$2=string_decoder$1.StringDecoder);var ee=new StringDecoder$2(te);this._readableState.decoder=ee,this._readableState.encoding=this._readableState.decoder.encoding;for(var re=this._readableState.buffer.head,ne="";re!==null;)ne+=ee.write(re.data),re=re.next;return this._readableState.buffer.clear(),ne!==""&&this._readableState.buffer.push(ne),this._readableState.length=ne.length,this};var MAX_HWM=1073741824;function computeNewHighWaterMark(te){return te>=MAX_HWM?te=MAX_HWM:(te--,te|=te>>>1,te|=te>>>2,te|=te>>>4,te|=te>>>8,te|=te>>>16,te++),te}function howMuchToRead(te,ee){return te<=0||ee.length===0&&ee.ended?0:ee.objectMode?1:te!==te?ee.flowing&&ee.length?ee.buffer.head.data.length:ee.length:(te>ee.highWaterMark&&(ee.highWaterMark=computeNewHighWaterMark(te)),te<=ee.length?te:ee.ended?ee.length:(ee.needReadable=!0,0))}Readable.prototype.read=function(te){debug("read",te),te=parseInt(te,10);var ee=this._readableState,re=te;if(te!==0&&(ee.emittedReadable=!1),te===0&&ee.needReadable&&((ee.highWaterMark!==0?ee.length>=ee.highWaterMark:ee.length>0)||ee.ended))return debug("read: emitReadable",ee.length,ee.ended),ee.length===0&&ee.ended?endReadable(this):emitReadable(this),null;if(te=howMuchToRead(te,ee),te===0&&ee.ended)return ee.length===0&&endReadable(this),null;var ne=ee.needReadable;debug("need readable",ne),(ee.length===0||ee.length-te<ee.highWaterMark)&&(ne=!0,debug("length less than watermark",ne)),ee.ended||ee.reading?(ne=!1,debug("reading or ended",ne)):ne&&(debug("do read"),ee.reading=!0,ee.sync=!0,ee.length===0&&(ee.needReadable=!0),this._read(ee.highWaterMark),ee.sync=!1,ee.reading||(te=howMuchToRead(re,ee)));var ie;return te>0?ie=fromList(te,ee):ie=null,ie===null?(ee.needReadable=ee.length<=ee.highWaterMark,te=0):(ee.length-=te,ee.awaitDrain=0),ee.length===0&&(ee.ended||(ee.needReadable=!0),re!==te&&ee.ended&&endReadable(this)),ie!==null&&this.emit("data",ie),ie};function onEofChunk(te,ee){if(debug("onEofChunk"),!ee.ended){if(ee.decoder){var re=ee.decoder.end();re&&re.length&&(ee.buffer.push(re),ee.length+=ee.objectMode?1:re.length)}ee.ended=!0,ee.sync?emitReadable(te):(ee.needReadable=!1,ee.emittedReadable||(ee.emittedReadable=!0,emitReadable_(te)))}}function emitReadable(te){var ee=te._readableState;debug("emitReadable",ee.needReadable,ee.emittedReadable),ee.needReadable=!1,ee.emittedReadable||(debug("emitReadable",ee.flowing),ee.emittedReadable=!0,process.nextTick(emitReadable_,te))}function emitReadable_(te){var ee=te._readableState;debug("emitReadable_",ee.destroyed,ee.length,ee.ended),!ee.destroyed&&(ee.length||ee.ended)&&(te.emit("readable"),ee.emittedReadable=!1),ee.needReadable=!ee.flowing&&!ee.ended&&ee.length<=ee.highWaterMark,flow(te)}function maybeReadMore(te,ee){ee.readingMore||(ee.readingMore=!0,process.nextTick(maybeReadMore_,te,ee))}function maybeReadMore_(te,ee){for(;!ee.reading&&!ee.ended&&(ee.length<ee.highWaterMark||ee.flowing&&ee.length===0);){var re=ee.length;if(debug("maybeReadMore read 0"),te.read(0),re===ee.length)break}ee.readingMore=!1}Readable.prototype._read=function(te){errorOrDestroy(this,new ERR_METHOD_NOT_IMPLEMENTED$1("_read()"))};Readable.prototype.pipe=function(te,ee){var re=this,ne=this._readableState;switch(ne.pipesCount){case 0:ne.pipes=te;break;case 1:ne.pipes=[ne.pipes,te];break;default:ne.pipes.push(te);break}ne.pipesCount+=1,debug("pipe count=%d opts=%j",ne.pipesCount,ee);var ie=(!ee||ee.end!==!1)&&te!==process.stdout&&te!==process.stderr,oe=ie?ae:mr;ne.endEmitted?process.nextTick(oe):re.once("end",oe),te.on("unpipe",se);function se(pr,yr){debug("onunpipe"),pr===re&&yr&&yr.hasUnpiped===!1&&(yr.hasUnpiped=!0,le())}function ae(){debug("onend"),te.end()}var fe=pipeOnDrain(re);te.on("drain",fe);var ue=!1;function le(){debug("cleanup"),te.removeListener("close",cr),te.removeListener("finish",ar),te.removeListener("drain",fe),te.removeListener("error",rr),te.removeListener("unpipe",se),re.removeListener("end",ae),re.removeListener("end",mr),re.removeListener("data",pe),ue=!0,ne.awaitDrain&&(!te._writableState||te._writableState.needDrain)&&fe()}re.on("data",pe);function pe(pr){debug("ondata");var yr=te.write(pr);debug("dest.write",yr),yr===!1&&((ne.pipesCount===1&&ne.pipes===te||ne.pipesCount>1&&indexOf(ne.pipes,te)!==-1)&&!ue&&(debug("false write response, pause",ne.awaitDrain),ne.awaitDrain++),re.pause())}function rr(pr){debug("onerror",pr),mr(),te.removeListener("error",rr),EElistenerCount(te,"error")===0&&errorOrDestroy(te,pr)}prependListener(te,"error",rr);function cr(){te.removeListener("finish",ar),mr()}te.once("close",cr);function ar(){debug("onfinish"),te.removeListener("close",cr),mr()}te.once("finish",ar);function mr(){debug("unpipe"),re.unpipe(te)}return te.emit("pipe",re),ne.flowing||(debug("pipe resume"),re.resume()),te};function pipeOnDrain(te){return function(){var re=te._readableState;debug("pipeOnDrain",re.awaitDrain),re.awaitDrain&&re.awaitDrain--,re.awaitDrain===0&&EElistenerCount(te,"data")&&(re.flowing=!0,flow(te))}}Readable.prototype.unpipe=function(te){var ee=this._readableState,re={hasUnpiped:!1};if(ee.pipesCount===0)return this;if(ee.pipesCount===1)return te&&te!==ee.pipes?this:(te||(te=ee.pipes),ee.pipes=null,ee.pipesCount=0,ee.flowing=!1,te&&te.emit("unpipe",this,re),this);if(!te){var ne=ee.pipes,ie=ee.pipesCount;ee.pipes=null,ee.pipesCount=0,ee.flowing=!1;for(var oe=0;oe<ie;oe++)ne[oe].emit("unpipe",this,{hasUnpiped:!1});return this}var se=indexOf(ee.pipes,te);return se===-1?this:(ee.pipes.splice(se,1),ee.pipesCount-=1,ee.pipesCount===1&&(ee.pipes=ee.pipes[0]),te.emit("unpipe",this,re),this)};Readable.prototype.on=function(te,ee){var re=Stream.prototype.on.call(this,te,ee),ne=this._readableState;return te==="data"?(ne.readableListening=this.listenerCount("readable")>0,ne.flowing!==!1&&this.resume()):te==="readable"&&!ne.endEmitted&&!ne.readableListening&&(ne.readableListening=ne.needReadable=!0,ne.flowing=!1,ne.emittedReadable=!1,debug("on readable",ne.length,ne.reading),ne.length?emitReadable(this):ne.reading||process.nextTick(nReadingNextTick,this)),re};Readable.prototype.addListener=Readable.prototype.on;Readable.prototype.removeListener=function(te,ee){var re=Stream.prototype.removeListener.call(this,te,ee);return te==="readable"&&process.nextTick(updateReadableListening,this),re};Readable.prototype.removeAllListeners=function(te){var ee=Stream.prototype.removeAllListeners.apply(this,arguments);return(te==="readable"||te===void 0)&&process.nextTick(updateReadableListening,this),ee};function updateReadableListening(te){var ee=te._readableState;ee.readableListening=te.listenerCount("readable")>0,ee.resumeScheduled&&!ee.paused?ee.flowing=!0:te.listenerCount("data")>0&&te.resume()}function nReadingNextTick(te){debug("readable nexttick read 0"),te.read(0)}Readable.prototype.resume=function(){var te=this._readableState;return te.flowing||(debug("resume"),te.flowing=!te.readableListening,resume(this,te)),te.paused=!1,this};function resume(te,ee){ee.resumeScheduled||(ee.resumeScheduled=!0,process.nextTick(resume_,te,ee))}function resume_(te,ee){debug("resume",ee.reading),ee.reading||te.read(0),ee.resumeScheduled=!1,te.emit("resume"),flow(te),ee.flowing&&!ee.reading&&te.read(0)}Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function flow(te){var ee=te._readableState;for(debug("flow",ee.flowing);ee.flowing&&te.read()!==null;);}Readable.prototype.wrap=function(te){var ee=this,re=this._readableState,ne=!1;te.on("end",function(){if(debug("wrapped end"),re.decoder&&!re.ended){var se=re.decoder.end();se&&se.length&&ee.push(se)}ee.push(null)}),te.on("data",function(se){if(debug("wrapped data"),re.decoder&&(se=re.decoder.write(se)),!(re.objectMode&&se==null)&&!(!re.objectMode&&(!se||!se.length))){var ae=ee.push(se);ae||(ne=!0,te.pause())}});for(var ie in te)this[ie]===void 0&&typeof te[ie]=="function"&&(this[ie]=function(ae){return function(){return te[ae].apply(te,arguments)}}(ie));for(var oe=0;oe<kProxyEvents.length;oe++)te.on(kProxyEvents[oe],this.emit.bind(this,kProxyEvents[oe]));return this._read=function(se){debug("wrapped _read",se),ne&&(ne=!1,te.resume())},this};typeof Symbol=="function"&&(Readable.prototype[Symbol.asyncIterator]=function(){return createReadableStreamAsyncIterator===void 0&&(createReadableStreamAsyncIterator=async_iterator),createReadableStreamAsyncIterator(this)});Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Readable.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Readable.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ee){this._readableState&&(this._readableState.flowing=ee)}});Readable._fromList=fromList;Object.defineProperty(Readable.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function fromList(te,ee){if(ee.length===0)return null;var re;return ee.objectMode?re=ee.buffer.shift():!te||te>=ee.length?(ee.decoder?re=ee.buffer.join(""):ee.buffer.length===1?re=ee.buffer.first():re=ee.buffer.concat(ee.length),ee.buffer.clear()):re=ee.buffer.consume(te,ee.decoder),re}function endReadable(te){var ee=te._readableState;debug("endReadable",ee.endEmitted),ee.endEmitted||(ee.ended=!0,process.nextTick(endReadableNT,ee,te))}function endReadableNT(te,ee){if(debug("endReadableNT",te.endEmitted,te.length),!te.endEmitted&&te.length===0&&(te.endEmitted=!0,ee.readable=!1,ee.emit("end"),te.autoDestroy)){var re=ee._writableState;(!re||re.autoDestroy&&re.finished)&&ee.destroy()}}typeof Symbol=="function"&&(Readable.from=function(te,ee){return from$2===void 0&&(from$2=fromBrowser),from$2(Readable,te,ee)});function indexOf(te,ee){for(var re=0,ne=te.length;re<ne;re++)if(te[re]===ee)return re;return-1}var _stream_transform=Transform$3,_require$codes$1=errorsBrowser.codes,ERR_METHOD_NOT_IMPLEMENTED=_require$codes$1.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes$1.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes$1.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes$1.ERR_TRANSFORM_WITH_LENGTH_0,Duplex=_stream_duplex;inherits_browser$5.exports(Transform$3,Duplex);function afterTransform(te,ee){var re=this._transformState;re.transforming=!1;var ne=re.writecb;if(ne===null)return this.emit("error",new ERR_MULTIPLE_CALLBACK);re.writechunk=null,re.writecb=null,ee!=null&&this.push(ee),ne(te);var ie=this._readableState;ie.reading=!1,(ie.needReadable||ie.length<ie.highWaterMark)&&this._read(ie.highWaterMark)}function Transform$3(te){if(!(this instanceof Transform$3))return new Transform$3(te);Duplex.call(this,te),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,te&&(typeof te.transform=="function"&&(this._transform=te.transform),typeof te.flush=="function"&&(this._flush=te.flush)),this.on("prefinish",prefinish)}function prefinish(){var te=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(ee,re){done(te,ee,re)}):done(this,null,null)}Transform$3.prototype.push=function(te,ee){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,te,ee)};Transform$3.prototype._transform=function(te,ee,re){re(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))};Transform$3.prototype._write=function(te,ee,re){var ne=this._transformState;if(ne.writecb=re,ne.writechunk=te,ne.writeencoding=ee,!ne.transforming){var ie=this._readableState;(ne.needTransform||ie.needReadable||ie.length<ie.highWaterMark)&&this._read(ie.highWaterMark)}};Transform$3.prototype._read=function(te){var ee=this._transformState;ee.writechunk!==null&&!ee.transforming?(ee.transforming=!0,this._transform(ee.writechunk,ee.writeencoding,ee.afterTransform)):ee.needTransform=!0};Transform$3.prototype._destroy=function(te,ee){Duplex.prototype._destroy.call(this,te,function(re){ee(re)})};function done(te,ee,re){if(ee)return te.emit("error",ee);if(re!=null&&te.push(re),te._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(te._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return te.push(null)}var _stream_passthrough=PassThrough,Transform$2=_stream_transform;inherits_browser$5.exports(PassThrough,Transform$2);function PassThrough(te){if(!(this instanceof PassThrough))return new PassThrough(te);Transform$2.call(this,te)}PassThrough.prototype._transform=function(te,ee,re){re(null,te)};var eos;function once$1(te){var ee=!1;return function(){ee||(ee=!0,te.apply(void 0,arguments))}}var _require$codes=errorsBrowser.codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop$5(te){if(te)throw te}function isRequest(te){return te.setHeader&&typeof te.abort=="function"}function destroyer(te,ee,re,ne){ne=once$1(ne);var ie=!1;te.on("close",function(){ie=!0}),eos===void 0&&(eos=endOfStream),eos(te,{readable:ee,writable:re},function(se){if(se)return ne(se);ie=!0,ne()});var oe=!1;return function(se){if(!ie&&!oe){if(oe=!0,isRequest(te))return te.abort();if(typeof te.destroy=="function")return te.destroy();ne(se||new ERR_STREAM_DESTROYED("pipe"))}}}function call(te){te()}function pipe$1(te,ee){return te.pipe(ee)}function popCallback(te){return!te.length||typeof te[te.length-1]!="function"?noop$5:te.pop()}function pipeline(){for(var te=arguments.length,ee=new Array(te),re=0;re<te;re++)ee[re]=arguments[re];var ne=popCallback(ee);if(Array.isArray(ee[0])&&(ee=ee[0]),ee.length<2)throw new ERR_MISSING_ARGS("streams");var ie,oe=ee.map(function(se,ae){var fe=ae<ee.length-1,ue=ae>0;return destroyer(se,fe,ue,function(le){ie||(ie=le),le&&oe.forEach(call),!fe&&(oe.forEach(call),ne(ie))})});return ee.reduce(pipe$1)}var pipeline_1=pipeline;(function(te,ee){ee=te.exports=_stream_readable,ee.Stream=ee,ee.Readable=ee,ee.Writable=_stream_writable,ee.Duplex=_stream_duplex,ee.Transform=_stream_transform,ee.PassThrough=_stream_passthrough,ee.finished=endOfStream,ee.pipeline=pipeline_1})(readableBrowser,readableBrowser.exports);var Buffer$d=safeBuffer.exports.Buffer,Transform$1=readableBrowser.exports.Transform,inherits$f=inherits_browser$5.exports;function throwIfNotStringOrBuffer(te,ee){if(!Buffer$d.isBuffer(te)&&typeof te!="string")throw new TypeError(ee+" must be a string or a buffer")}function HashBase$2(te){Transform$1.call(this),this._block=Buffer$d.allocUnsafe(te),this._blockSize=te,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}inherits$f(HashBase$2,Transform$1);HashBase$2.prototype._transform=function(te,ee,re){var ne=null;try{this.update(te,ee)}catch(ie){ne=ie}re(ne)};HashBase$2.prototype._flush=function(te){var ee=null;try{this.push(this.digest())}catch(re){ee=re}te(ee)};HashBase$2.prototype.update=function(te,ee){if(throwIfNotStringOrBuffer(te,"Data"),this._finalized)throw new Error("Digest already called");Buffer$d.isBuffer(te)||(te=Buffer$d.from(te,ee));for(var re=this._block,ne=0;this._blockOffset+te.length-ne>=this._blockSize;){for(var ie=this._blockOffset;ie<this._blockSize;)re[ie++]=te[ne++];this._update(),this._blockOffset=0}for(;ne<te.length;)re[this._blockOffset++]=te[ne++];for(var oe=0,se=te.length*8;se>0;++oe)this._length[oe]+=se,se=this._length[oe]/4294967296|0,se>0&&(this._length[oe]-=4294967296*se);return this};HashBase$2.prototype._update=function(){throw new Error("_update is not implemented")};HashBase$2.prototype.digest=function(te){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var ee=this._digest();te!==void 0&&(ee=ee.toString(te)),this._block.fill(0),this._blockOffset=0;for(var re=0;re<4;++re)this._length[re]=0;return ee};HashBase$2.prototype._digest=function(){throw new Error("_digest is not implemented")};var hashBase=HashBase$2,inherits$e=inherits_browser$5.exports,HashBase$1=hashBase,Buffer$c=safeBuffer.exports.Buffer,ARRAY16$1=new Array(16);function MD5$1(){HashBase$1.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}inherits$e(MD5$1,HashBase$1);MD5$1.prototype._update=function(){for(var te=ARRAY16$1,ee=0;ee<16;++ee)te[ee]=this._block.readInt32LE(ee*4);var re=this._a,ne=this._b,ie=this._c,oe=this._d;re=fnF(re,ne,ie,oe,te[0],3614090360,7),oe=fnF(oe,re,ne,ie,te[1],3905402710,12),ie=fnF(ie,oe,re,ne,te[2],606105819,17),ne=fnF(ne,ie,oe,re,te[3],3250441966,22),re=fnF(re,ne,ie,oe,te[4],4118548399,7),oe=fnF(oe,re,ne,ie,te[5],1200080426,12),ie=fnF(ie,oe,re,ne,te[6],2821735955,17),ne=fnF(ne,ie,oe,re,te[7],4249261313,22),re=fnF(re,ne,ie,oe,te[8],1770035416,7),oe=fnF(oe,re,ne,ie,te[9],2336552879,12),ie=fnF(ie,oe,re,ne,te[10],4294925233,17),ne=fnF(ne,ie,oe,re,te[11],2304563134,22),re=fnF(re,ne,ie,oe,te[12],1804603682,7),oe=fnF(oe,re,ne,ie,te[13],4254626195,12),ie=fnF(ie,oe,re,ne,te[14],2792965006,17),ne=fnF(ne,ie,oe,re,te[15],1236535329,22),re=fnG(re,ne,ie,oe,te[1],4129170786,5),oe=fnG(oe,re,ne,ie,te[6],3225465664,9),ie=fnG(ie,oe,re,ne,te[11],643717713,14),ne=fnG(ne,ie,oe,re,te[0],3921069994,20),re=fnG(re,ne,ie,oe,te[5],3593408605,5),oe=fnG(oe,re,ne,ie,te[10],38016083,9),ie=fnG(ie,oe,re,ne,te[15],3634488961,14),ne=fnG(ne,ie,oe,re,te[4],3889429448,20),re=fnG(re,ne,ie,oe,te[9],568446438,5),oe=fnG(oe,re,ne,ie,te[14],3275163606,9),ie=fnG(ie,oe,re,ne,te[3],4107603335,14),ne=fnG(ne,ie,oe,re,te[8],1163531501,20),re=fnG(re,ne,ie,oe,te[13],2850285829,5),oe=fnG(oe,re,ne,ie,te[2],4243563512,9),ie=fnG(ie,oe,re,ne,te[7],1735328473,14),ne=fnG(ne,ie,oe,re,te[12],2368359562,20),re=fnH(re,ne,ie,oe,te[5],4294588738,4),oe=fnH(oe,re,ne,ie,te[8],2272392833,11),ie=fnH(ie,oe,re,ne,te[11],1839030562,16),ne=fnH(ne,ie,oe,re,te[14],4259657740,23),re=fnH(re,ne,ie,oe,te[1],2763975236,4),oe=fnH(oe,re,ne,ie,te[4],1272893353,11),ie=fnH(ie,oe,re,ne,te[7],4139469664,16),ne=fnH(ne,ie,oe,re,te[10],3200236656,23),re=fnH(re,ne,ie,oe,te[13],681279174,4),oe=fnH(oe,re,ne,ie,te[0],3936430074,11),ie=fnH(ie,oe,re,ne,te[3],3572445317,16),ne=fnH(ne,ie,oe,re,te[6],76029189,23),re=fnH(re,ne,ie,oe,te[9],3654602809,4),oe=fnH(oe,re,ne,ie,te[12],3873151461,11),ie=fnH(ie,oe,re,ne,te[15],530742520,16),ne=fnH(ne,ie,oe,re,te[2],3299628645,23),re=fnI(re,ne,ie,oe,te[0],4096336452,6),oe=fnI(oe,re,ne,ie,te[7],1126891415,10),ie=fnI(ie,oe,re,ne,te[14],2878612391,15),ne=fnI(ne,ie,oe,re,te[5],4237533241,21),re=fnI(re,ne,ie,oe,te[12],1700485571,6),oe=fnI(oe,re,ne,ie,te[3],2399980690,10),ie=fnI(ie,oe,re,ne,te[10],4293915773,15),ne=fnI(ne,ie,oe,re,te[1],2240044497,21),re=fnI(re,ne,ie,oe,te[8],1873313359,6),oe=fnI(oe,re,ne,ie,te[15],4264355552,10),ie=fnI(ie,oe,re,ne,te[6],2734768916,15),ne=fnI(ne,ie,oe,re,te[13],1309151649,21),re=fnI(re,ne,ie,oe,te[4],4149444226,6),oe=fnI(oe,re,ne,ie,te[11],3174756917,10),ie=fnI(ie,oe,re,ne,te[2],718787259,15),ne=fnI(ne,ie,oe,re,te[9],3951481745,21),this._a=this._a+re|0,this._b=this._b+ne|0,this._c=this._c+ie|0,this._d=this._d+oe|0};MD5$1.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var te=Buffer$c.allocUnsafe(16);return te.writeInt32LE(this._a,0),te.writeInt32LE(this._b,4),te.writeInt32LE(this._c,8),te.writeInt32LE(this._d,12),te};function rotl$1(te,ee){return te<<ee|te>>>32-ee}function fnF(te,ee,re,ne,ie,oe,se){return rotl$1(te+(ee&re|~ee&ne)+ie+oe|0,se)+ee|0}function fnG(te,ee,re,ne,ie,oe,se){return rotl$1(te+(ee&ne|re&~ne)+ie+oe|0,se)+ee|0}function fnH(te,ee,re,ne,ie,oe,se){return rotl$1(te+(ee^re^ne)+ie+oe|0,se)+ee|0}function fnI(te,ee,re,ne,ie,oe,se){return rotl$1(te+(re^(ee|~ne))+ie+oe|0,se)+ee|0}var md5_js=MD5$1,Buffer$b=buffer$2.Buffer,inherits$d=inherits_browser$5.exports,HashBase=hashBase,ARRAY16=new Array(16),zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hl=[0,1518500249,1859775393,2400959708,2840853838],hr=[1352829926,1548603684,1836072691,2053994217,0];function RIPEMD160$1(){HashBase.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}inherits$d(RIPEMD160$1,HashBase);RIPEMD160$1.prototype._update=function(){for(var te=ARRAY16,ee=0;ee<16;++ee)te[ee]=this._block.readInt32LE(ee*4);for(var re=this._a|0,ne=this._b|0,ie=this._c|0,oe=this._d|0,se=this._e|0,ae=this._a|0,fe=this._b|0,ue=this._c|0,le=this._d|0,pe=this._e|0,rr=0;rr<80;rr+=1){var cr,ar;rr<16?(cr=fn1(re,ne,ie,oe,se,te[zl[rr]],hl[0],sl[rr]),ar=fn5(ae,fe,ue,le,pe,te[zr[rr]],hr[0],sr[rr])):rr<32?(cr=fn2(re,ne,ie,oe,se,te[zl[rr]],hl[1],sl[rr]),ar=fn4(ae,fe,ue,le,pe,te[zr[rr]],hr[1],sr[rr])):rr<48?(cr=fn3(re,ne,ie,oe,se,te[zl[rr]],hl[2],sl[rr]),ar=fn3(ae,fe,ue,le,pe,te[zr[rr]],hr[2],sr[rr])):rr<64?(cr=fn4(re,ne,ie,oe,se,te[zl[rr]],hl[3],sl[rr]),ar=fn2(ae,fe,ue,le,pe,te[zr[rr]],hr[3],sr[rr])):(cr=fn5(re,ne,ie,oe,se,te[zl[rr]],hl[4],sl[rr]),ar=fn1(ae,fe,ue,le,pe,te[zr[rr]],hr[4],sr[rr])),re=se,se=oe,oe=rotl(ie,10),ie=ne,ne=cr,ae=pe,pe=le,le=rotl(ue,10),ue=fe,fe=ar}var mr=this._b+ie+le|0;this._b=this._c+oe+pe|0,this._c=this._d+se+ae|0,this._d=this._e+re+fe|0,this._e=this._a+ne+ue|0,this._a=mr};RIPEMD160$1.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var te=Buffer$b.alloc?Buffer$b.alloc(20):new Buffer$b(20);return te.writeInt32LE(this._a,0),te.writeInt32LE(this._b,4),te.writeInt32LE(this._c,8),te.writeInt32LE(this._d,12),te.writeInt32LE(this._e,16),te};function rotl(te,ee){return te<<ee|te>>>32-ee}function fn1(te,ee,re,ne,ie,oe,se,ae){return rotl(te+(ee^re^ne)+oe+se|0,ae)+ie|0}function fn2(te,ee,re,ne,ie,oe,se,ae){return rotl(te+(ee&re|~ee&ne)+oe+se|0,ae)+ie|0}function fn3(te,ee,re,ne,ie,oe,se,ae){return rotl(te+((ee|~re)^ne)+oe+se|0,ae)+ie|0}function fn4(te,ee,re,ne,ie,oe,se,ae){return rotl(te+(ee&ne|re&~ne)+oe+se|0,ae)+ie|0}function fn5(te,ee,re,ne,ie,oe,se,ae){return rotl(te+(ee^(re|~ne))+oe+se|0,ae)+ie|0}var ripemd160=RIPEMD160$1,sha_js={exports:{}},Buffer$a=safeBuffer.exports.Buffer;function Hash$7(te,ee){this._block=Buffer$a.alloc(te),this._finalSize=ee,this._blockSize=te,this._len=0}Hash$7.prototype.update=function(te,ee){typeof te=="string"&&(ee=ee||"utf8",te=Buffer$a.from(te,ee));for(var re=this._block,ne=this._blockSize,ie=te.length,oe=this._len,se=0;se<ie;){for(var ae=oe%ne,fe=Math.min(ie-se,ne-ae),ue=0;ue<fe;ue++)re[ae+ue]=te[se+ue];oe+=fe,se+=fe,oe%ne===0&&this._update(re)}return this._len+=ie,this};Hash$7.prototype.digest=function(te){var ee=this._len%this._blockSize;this._block[ee]=128,this._block.fill(0,ee+1),ee>=this._finalSize&&(this._update(this._block),this._block.fill(0));var re=this._len*8;if(re<=4294967295)this._block.writeUInt32BE(re,this._blockSize-4);else{var ne=(re&4294967295)>>>0,ie=(re-ne)/4294967296;this._block.writeUInt32BE(ie,this._blockSize-8),this._block.writeUInt32BE(ne,this._blockSize-4)}this._update(this._block);var oe=this._hash();return te?oe.toString(te):oe};Hash$7.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var hash$1=Hash$7,inherits$c=inherits_browser$5.exports,Hash$6=hash$1,Buffer$9=safeBuffer.exports.Buffer,K$4=[1518500249,1859775393,-1894007588,-899497514],W$6=new Array(80);function Sha(){this.init(),this._w=W$6,Hash$6.call(this,64,56)}inherits$c(Sha,Hash$6);Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl5$1(te){return te<<5|te>>>27}function rotl30$1(te){return te<<30|te>>>2}function ft$2(te,ee,re,ne){return te===0?ee&re|~ee&ne:te===2?ee&re|ee&ne|re&ne:ee^re^ne}Sha.prototype._update=function(te){for(var ee=this._w,re=this._a|0,ne=this._b|0,ie=this._c|0,oe=this._d|0,se=this._e|0,ae=0;ae<16;++ae)ee[ae]=te.readInt32BE(ae*4);for(;ae<80;++ae)ee[ae]=ee[ae-3]^ee[ae-8]^ee[ae-14]^ee[ae-16];for(var fe=0;fe<80;++fe){var ue=~~(fe/20),le=rotl5$1(re)+ft$2(ue,ne,ie,oe)+se+ee[fe]+K$4[ue]|0;se=oe,oe=ie,ie=rotl30$1(ne),ne=re,re=le}this._a=re+this._a|0,this._b=ne+this._b|0,this._c=ie+this._c|0,this._d=oe+this._d|0,this._e=se+this._e|0};Sha.prototype._hash=function(){var te=Buffer$9.allocUnsafe(20);return te.writeInt32BE(this._a|0,0),te.writeInt32BE(this._b|0,4),te.writeInt32BE(this._c|0,8),te.writeInt32BE(this._d|0,12),te.writeInt32BE(this._e|0,16),te};var sha$1=Sha,inherits$b=inherits_browser$5.exports,Hash$5=hash$1,Buffer$8=safeBuffer.exports.Buffer,K$3=[1518500249,1859775393,-1894007588,-899497514],W$5=new Array(80);function Sha1(){this.init(),this._w=W$5,Hash$5.call(this,64,56)}inherits$b(Sha1,Hash$5);Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl1(te){return te<<1|te>>>31}function rotl5(te){return te<<5|te>>>27}function rotl30(te){return te<<30|te>>>2}function ft$1(te,ee,re,ne){return te===0?ee&re|~ee&ne:te===2?ee&re|ee&ne|re&ne:ee^re^ne}Sha1.prototype._update=function(te){for(var ee=this._w,re=this._a|0,ne=this._b|0,ie=this._c|0,oe=this._d|0,se=this._e|0,ae=0;ae<16;++ae)ee[ae]=te.readInt32BE(ae*4);for(;ae<80;++ae)ee[ae]=rotl1(ee[ae-3]^ee[ae-8]^ee[ae-14]^ee[ae-16]);for(var fe=0;fe<80;++fe){var ue=~~(fe/20),le=rotl5(re)+ft$1(ue,ne,ie,oe)+se+ee[fe]+K$3[ue]|0;se=oe,oe=ie,ie=rotl30(ne),ne=re,re=le}this._a=re+this._a|0,this._b=ne+this._b|0,this._c=ie+this._c|0,this._d=oe+this._d|0,this._e=se+this._e|0};Sha1.prototype._hash=function(){var te=Buffer$8.allocUnsafe(20);return te.writeInt32BE(this._a|0,0),te.writeInt32BE(this._b|0,4),te.writeInt32BE(this._c|0,8),te.writeInt32BE(this._d|0,12),te.writeInt32BE(this._e|0,16),te};var sha1=Sha1,inherits$a=inherits_browser$5.exports,Hash$4=hash$1,Buffer$7=safeBuffer.exports.Buffer,K$2=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W$4=new Array(64);function Sha256$1(){this.init(),this._w=W$4,Hash$4.call(this,64,56)}inherits$a(Sha256$1,Hash$4);Sha256$1.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function ch$1(te,ee,re){return re^te&(ee^re)}function maj$1(te,ee,re){return te&ee|re&(te|ee)}function sigma0$1(te){return(te>>>2|te<<30)^(te>>>13|te<<19)^(te>>>22|te<<10)}function sigma1$1(te){return(te>>>6|te<<26)^(te>>>11|te<<21)^(te>>>25|te<<7)}function gamma0(te){return(te>>>7|te<<25)^(te>>>18|te<<14)^te>>>3}function gamma1(te){return(te>>>17|te<<15)^(te>>>19|te<<13)^te>>>10}Sha256$1.prototype._update=function(te){for(var ee=this._w,re=this._a|0,ne=this._b|0,ie=this._c|0,oe=this._d|0,se=this._e|0,ae=this._f|0,fe=this._g|0,ue=this._h|0,le=0;le<16;++le)ee[le]=te.readInt32BE(le*4);for(;le<64;++le)ee[le]=gamma1(ee[le-2])+ee[le-7]+gamma0(ee[le-15])+ee[le-16]|0;for(var pe=0;pe<64;++pe){var rr=ue+sigma1$1(se)+ch$1(se,ae,fe)+K$2[pe]+ee[pe]|0,cr=sigma0$1(re)+maj$1(re,ne,ie)|0;ue=fe,fe=ae,ae=se,se=oe+rr|0,oe=ie,ie=ne,ne=re,re=rr+cr|0}this._a=re+this._a|0,this._b=ne+this._b|0,this._c=ie+this._c|0,this._d=oe+this._d|0,this._e=se+this._e|0,this._f=ae+this._f|0,this._g=fe+this._g|0,this._h=ue+this._h|0};Sha256$1.prototype._hash=function(){var te=Buffer$7.allocUnsafe(32);return te.writeInt32BE(this._a,0),te.writeInt32BE(this._b,4),te.writeInt32BE(this._c,8),te.writeInt32BE(this._d,12),te.writeInt32BE(this._e,16),te.writeInt32BE(this._f,20),te.writeInt32BE(this._g,24),te.writeInt32BE(this._h,28),te};var sha256$1=Sha256$1,inherits$9=inherits_browser$5.exports,Sha256=sha256$1,Hash$3=hash$1,Buffer$6=safeBuffer.exports.Buffer,W$3=new Array(64);function Sha224(){this.init(),this._w=W$3,Hash$3.call(this,64,56)}inherits$9(Sha224,Sha256);Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Sha224.prototype._hash=function(){var te=Buffer$6.allocUnsafe(28);return te.writeInt32BE(this._a,0),te.writeInt32BE(this._b,4),te.writeInt32BE(this._c,8),te.writeInt32BE(this._d,12),te.writeInt32BE(this._e,16),te.writeInt32BE(this._f,20),te.writeInt32BE(this._g,24),te};var sha224=Sha224,inherits$8=inherits_browser$5.exports,Hash$2=hash$1,Buffer$5=safeBuffer.exports.Buffer,K$1=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W$2=new Array(160);function Sha512(){this.init(),this._w=W$2,Hash$2.call(this,128,112)}inherits$8(Sha512,Hash$2);Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Ch(te,ee,re){return re^te&(ee^re)}function maj(te,ee,re){return te&ee|re&(te|ee)}function sigma0(te,ee){return(te>>>28|ee<<4)^(ee>>>2|te<<30)^(ee>>>7|te<<25)}function sigma1(te,ee){return(te>>>14|ee<<18)^(te>>>18|ee<<14)^(ee>>>9|te<<23)}function Gamma0(te,ee){return(te>>>1|ee<<31)^(te>>>8|ee<<24)^te>>>7}function Gamma0l(te,ee){return(te>>>1|ee<<31)^(te>>>8|ee<<24)^(te>>>7|ee<<25)}function Gamma1(te,ee){return(te>>>19|ee<<13)^(ee>>>29|te<<3)^te>>>6}function Gamma1l(te,ee){return(te>>>19|ee<<13)^(ee>>>29|te<<3)^(te>>>6|ee<<26)}function getCarry(te,ee){return te>>>0<ee>>>0?1:0}Sha512.prototype._update=function(te){for(var ee=this._w,re=this._ah|0,ne=this._bh|0,ie=this._ch|0,oe=this._dh|0,se=this._eh|0,ae=this._fh|0,fe=this._gh|0,ue=this._hh|0,le=this._al|0,pe=this._bl|0,rr=this._cl|0,cr=this._dl|0,ar=this._el|0,mr=this._fl|0,pr=this._gl|0,yr=this._hl|0,vr=0;vr<32;vr+=2)ee[vr]=te.readInt32BE(vr*4),ee[vr+1]=te.readInt32BE(vr*4+4);for(;vr<160;vr+=2){var Er=ee[vr-30],Tr=ee[vr-15*2+1],Ir=Gamma0(Er,Tr),Or=Gamma0l(Tr,Er);Er=ee[vr-2*2],Tr=ee[vr-2*2+1];var Hr=Gamma1(Er,Tr),Pr=Gamma1l(Tr,Er),Br=ee[vr-7*2],Nr=ee[vr-7*2+1],dr=ee[vr-16*2],tr=ee[vr-16*2+1],ve=Or+Nr|0,ce=Ir+Br+getCarry(ve,Or)|0;ve=ve+Pr|0,ce=ce+Hr+getCarry(ve,Pr)|0,ve=ve+tr|0,ce=ce+dr+getCarry(ve,tr)|0,ee[vr]=ce,ee[vr+1]=ve}for(var me=0;me<160;me+=2){ce=ee[me],ve=ee[me+1];var ir=maj(re,ne,ie),ur=maj(le,pe,rr),lr=sigma0(re,le),er=sigma0(le,re),nr=sigma1(se,ar),or=sigma1(ar,se),ye=K$1[me],gr=K$1[me+1],Ar=Ch(se,ae,fe),br=Ch(ar,mr,pr),Cr=yr+or|0,Lr=ue+nr+getCarry(Cr,yr)|0;Cr=Cr+br|0,Lr=Lr+Ar+getCarry(Cr,br)|0,Cr=Cr+gr|0,Lr=Lr+ye+getCarry(Cr,gr)|0,Cr=Cr+ve|0,Lr=Lr+ce+getCarry(Cr,ve)|0;var Dr=er+ur|0,Wr=lr+ir+getCarry(Dr,er)|0;ue=fe,yr=pr,fe=ae,pr=mr,ae=se,mr=ar,ar=cr+Cr|0,se=oe+Lr+getCarry(ar,cr)|0,oe=ie,cr=rr,ie=ne,rr=pe,ne=re,pe=le,le=Cr+Dr|0,re=Lr+Wr+getCarry(le,Cr)|0}this._al=this._al+le|0,this._bl=this._bl+pe|0,this._cl=this._cl+rr|0,this._dl=this._dl+cr|0,this._el=this._el+ar|0,this._fl=this._fl+mr|0,this._gl=this._gl+pr|0,this._hl=this._hl+yr|0,this._ah=this._ah+re+getCarry(this._al,le)|0,this._bh=this._bh+ne+getCarry(this._bl,pe)|0,this._ch=this._ch+ie+getCarry(this._cl,rr)|0,this._dh=this._dh+oe+getCarry(this._dl,cr)|0,this._eh=this._eh+se+getCarry(this._el,ar)|0,this._fh=this._fh+ae+getCarry(this._fl,mr)|0,this._gh=this._gh+fe+getCarry(this._gl,pr)|0,this._hh=this._hh+ue+getCarry(this._hl,yr)|0};Sha512.prototype._hash=function(){var te=Buffer$5.allocUnsafe(64);function ee(re,ne,ie){te.writeInt32BE(re,ie),te.writeInt32BE(ne,ie+4)}return ee(this._ah,this._al,0),ee(this._bh,this._bl,8),ee(this._ch,this._cl,16),ee(this._dh,this._dl,24),ee(this._eh,this._el,32),ee(this._fh,this._fl,40),ee(this._gh,this._gl,48),ee(this._hh,this._hl,56),te};var sha512=Sha512,inherits$7=inherits_browser$5.exports,SHA512=sha512,Hash$1=hash$1,Buffer$4=safeBuffer.exports.Buffer,W$1=new Array(160);function Sha384(){this.init(),this._w=W$1,Hash$1.call(this,128,112)}inherits$7(Sha384,SHA512);Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Sha384.prototype._hash=function(){var te=Buffer$4.allocUnsafe(48);function ee(re,ne,ie){te.writeInt32BE(re,ie),te.writeInt32BE(ne,ie+4)}return ee(this._ah,this._al,0),ee(this._bh,this._bl,8),ee(this._ch,this._cl,16),ee(this._dh,this._dl,24),ee(this._eh,this._el,32),ee(this._fh,this._fl,40),te};var sha384=Sha384,exports=sha_js.exports=function(ee){ee=ee.toLowerCase();var re=exports[ee];if(!re)throw new Error(ee+" is not supported (we accept pull requests)");return new re};exports.sha=sha$1;exports.sha1=sha1;exports.sha224=sha224;exports.sha256=sha256$1;exports.sha384=sha384;exports.sha512=sha512;var string_decoder={},Buffer$3=buffer$2.Buffer,isBufferEncoding=Buffer$3.isEncoding||function(te){switch(te&&te.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function assertEncoding(te){if(te&&!isBufferEncoding(te))throw new Error("Unknown encoding: "+te)}var StringDecoder$1=string_decoder.StringDecoder=function(te){switch(this.encoding=(te||"utf8").toLowerCase().replace(/[-_]/,""),assertEncoding(te),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:this.write=passThroughWrite;return}this.charBuffer=new Buffer$3(6),this.charReceived=0,this.charLength=0};StringDecoder$1.prototype.write=function(te){for(var ee="";this.charLength;){var re=te.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:te.length;if(te.copy(this.charBuffer,this.charReceived,0,re),this.charReceived+=re,this.charReceived<this.charLength)return"";te=te.slice(re,te.length),ee=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var ie=ee.charCodeAt(ee.length-1);if(ie>=55296&&ie<=56319){this.charLength+=this.surrogateSize,ee="";continue}if(this.charReceived=this.charLength=0,te.length===0)return ee;break}this.detectIncompleteChar(te);var ne=te.length;this.charLength&&(te.copy(this.charBuffer,0,te.length-this.charReceived,ne),ne-=this.charReceived),ee+=te.toString(this.encoding,0,ne);var ne=ee.length-1,ie=ee.charCodeAt(ne);if(ie>=55296&&ie<=56319){var oe=this.surrogateSize;return this.charLength+=oe,this.charReceived+=oe,this.charBuffer.copy(this.charBuffer,oe,0,oe),te.copy(this.charBuffer,0,0,oe),ee.substring(0,ne)}return ee};StringDecoder$1.prototype.detectIncompleteChar=function(te){for(var ee=te.length>=3?3:te.length;ee>0;ee--){var re=te[te.length-ee];if(ee==1&&re>>5==6){this.charLength=2;break}if(ee<=2&&re>>4==14){this.charLength=3;break}if(ee<=3&&re>>3==30){this.charLength=4;break}}this.charReceived=ee};StringDecoder$1.prototype.end=function(te){var ee="";if(te&&te.length&&(ee=this.write(te)),this.charReceived){var re=this.charReceived,ne=this.charBuffer,ie=this.encoding;ee+=ne.slice(0,re).toString(ie)}return ee};function passThroughWrite(te){return te.toString(this.encoding)}function utf16DetectIncompleteChar(te){this.charReceived=te.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(te){this.charReceived=te.length%3,this.charLength=this.charReceived?3:0}var Buffer$2=safeBuffer.exports.Buffer,Transform=require$$0$3.Transform,StringDecoder=string_decoder.StringDecoder,inherits$6=inherits_browser$5.exports;function CipherBase(te){Transform.call(this),this.hashMode=typeof te=="string",this.hashMode?this[te]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}inherits$6(CipherBase,Transform);CipherBase.prototype.update=function(te,ee,re){typeof te=="string"&&(te=Buffer$2.from(te,ee));var ne=this._update(te);return this.hashMode?this:(re&&(ne=this._toString(ne,re)),ne)};CipherBase.prototype.setAutoPadding=function(){};CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};CipherBase.prototype._transform=function(te,ee,re){var ne;try{this.hashMode?this._update(te):this.push(this._update(te))}catch(ie){ne=ie}finally{re(ne)}};CipherBase.prototype._flush=function(te){var ee;try{this.push(this.__final())}catch(re){ee=re}te(ee)};CipherBase.prototype._finalOrDigest=function(te){var ee=this.__final()||Buffer$2.alloc(0);return te&&(ee=this._toString(ee,te,!0)),ee};CipherBase.prototype._toString=function(te,ee,re){if(this._decoder||(this._decoder=new StringDecoder(ee),this._encoding=ee),this._encoding!==ee)throw new Error("can't switch encodings");var ne=this._decoder.write(te);return re&&(ne+=this._decoder.end()),ne};var cipherBase=CipherBase,inherits$5=inherits_browser$5.exports,MD5=md5_js,RIPEMD160=ripemd160,sha=sha_js.exports,Base=cipherBase;function Hash(te){Base.call(this,"digest"),this._hash=te}inherits$5(Hash,Base);Hash.prototype._update=function(te){this._hash.update(te)};Hash.prototype._final=function(){return this._hash.digest()};var browser$2=function(ee){return ee=ee.toLowerCase(),ee==="md5"?new MD5:ee==="rmd160"||ee==="ripemd160"?new RIPEMD160:new Hash(sha(ee))},src$1=function(ee){if(typeof ee!="string")throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof ee+", while checking isHexPrefixed.");return ee.slice(0,2)==="0x"},isHexPrefixed$1=src$1,src=function(ee){return typeof ee!="string"?ee:isHexPrefixed$1(ee)?ee.slice(2):ee},isHexPrefixed=src$1,stripHexPrefix$1=src;function padToEven$1(te){var ee=te;if(typeof ee!="string")throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof ee+", while padToEven.");return ee.length%2&&(ee="0"+ee),ee}function intToHex$3(te){var ee=te.toString(16);return"0x"+ee}function intToBuffer$1(te){var ee=intToHex$3(te);return new buffer$2.Buffer(padToEven$1(ee.slice(2)),"hex")}function getBinarySize(te){if(typeof te!="string")throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof te+"'.");return buffer$2.Buffer.byteLength(te,"utf8")}function arrayContainsArray(te,ee,re){if(Array.isArray(te)!==!0)throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof te+"'");if(Array.isArray(ee)!==!0)throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof ee+"'");return ee[Boolean(re)&&"some"||"every"](function(ne){return te.indexOf(ne)>=0})}function toUtf8(te){var ee=new buffer$2.Buffer(padToEven$1(stripHexPrefix$1(te).replace(/^0+|0+$/g,"")),"hex");return ee.toString("utf8")}function toAscii(te){var ee="",re=0,ne=te.length;for(te.substring(0,2)==="0x"&&(re=2);re<ne;re+=2){var ie=parseInt(te.substr(re,2),16);ee+=String.fromCharCode(ie)}return ee}function fromUtf8(te){var ee=new buffer$2.Buffer(te,"utf8");return"0x"+padToEven$1(ee.toString("hex")).replace(/^0+|0+$/g,"")}function fromAscii(te){for(var ee="",re=0;re<te.length;re++){var ne=te.charCodeAt(re),ie=ne.toString(16);ee+=ie.length<2?"0"+ie:ie}return"0x"+ee}function getKeys(te,ee,re){if(!Array.isArray(te))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof te+"'");if(typeof ee!="string")throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof ee+"'.");for(var ne=[],ie=0;ie<te.length;ie++){var oe=te[ie][ee];if(re&&!oe)oe="";else if(typeof oe!="string")throw new Error("invalid abi");ne.push(oe)}return ne}function isHexString$4(te,ee){return!(typeof te!="string"||!te.match(/^0x[0-9A-Fa-f]*$/)||ee&&te.length!==2+2*ee)}var lib$2={arrayContainsArray,intToBuffer:intToBuffer$1,getBinarySize,isHexPrefixed,stripHexPrefix:stripHexPrefix$1,padToEven:padToEven$1,intToHex:intToHex$3,fromAscii,fromUtf8,toAscii,toUtf8,getKeys,isHexString:isHexString$4};(function(te){var ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ar){return typeof ar}:function(ar){return ar&&typeof Symbol=="function"&&ar.constructor===Symbol&&ar!==Symbol.prototype?"symbol":typeof ar},re=keccak$3,ne=re.keccak224,ie=re.keccak384,oe=re.keccak256,se=re.keccak512,ae=secp256k1Adapter,fe=assert$2.exports,ue=dist_browser,le=bn$4.exports,pe=browser$2,rr=safeBuffer.exports.Buffer;Object.assign(te,lib$2),te.MAX_INTEGER=new le("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),te.TWO_POW256=new le("10000000000000000000000000000000000000000000000000000000000000000",16),te.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",te.SHA3_NULL_S=te.KECCAK256_NULL_S,te.KECCAK256_NULL=rr.from(te.KECCAK256_NULL_S,"hex"),te.SHA3_NULL=te.KECCAK256_NULL,te.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",te.SHA3_RLP_ARRAY_S=te.KECCAK256_RLP_ARRAY_S,te.KECCAK256_RLP_ARRAY=rr.from(te.KECCAK256_RLP_ARRAY_S,"hex"),te.SHA3_RLP_ARRAY=te.KECCAK256_RLP_ARRAY,te.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",te.SHA3_RLP_S=te.KECCAK256_RLP_S,te.KECCAK256_RLP=rr.from(te.KECCAK256_RLP_S,"hex"),te.SHA3_RLP=te.KECCAK256_RLP,te.BN=le,te.rlp=ue,te.secp256k1=ae,te.zeros=function(ar){return rr.allocUnsafe(ar).fill(0)},te.zeroAddress=function(){var ar=20,mr=te.zeros(ar);return te.bufferToHex(mr)},te.setLengthLeft=te.setLength=function(ar,mr,pr){var yr=te.zeros(mr);return ar=te.toBuffer(ar),pr?ar.length<mr?(ar.copy(yr),yr):ar.slice(0,mr):ar.length<mr?(ar.copy(yr,mr-ar.length),yr):ar.slice(-mr)},te.setLengthRight=function(ar,mr){return te.setLength(ar,mr,!0)},te.unpad=te.stripZeros=function(ar){ar=te.stripHexPrefix(ar);for(var mr=ar[0];ar.length>0&&mr.toString()==="0";)ar=ar.slice(1),mr=ar[0];return ar},te.toBuffer=function(ar){if(!rr.isBuffer(ar))if(Array.isArray(ar))ar=rr.from(ar);else if(typeof ar=="string")te.isHexString(ar)?ar=rr.from(te.padToEven(te.stripHexPrefix(ar)),"hex"):ar=rr.from(ar);else if(typeof ar=="number")ar=te.intToBuffer(ar);else if(ar==null)ar=rr.allocUnsafe(0);else if(le.isBN(ar))ar=ar.toArrayLike(rr);else if(ar.toArray)ar=rr.from(ar.toArray());else throw new Error("invalid type");return ar},te.bufferToInt=function(ar){return new le(te.toBuffer(ar)).toNumber()},te.bufferToHex=function(ar){return ar=te.toBuffer(ar),"0x"+ar.toString("hex")},te.fromSigned=function(ar){return new le(ar).fromTwos(256)},te.toUnsigned=function(ar){return rr.from(ar.toTwos(256).toArray())},te.keccak=function(ar,mr){switch(ar=te.toBuffer(ar),mr||(mr=256),mr){case 224:return ne(ar);case 256:return oe(ar);case 384:return ie(ar);case 512:return se(ar);default:throw new Error("Invald algorithm: keccak"+mr)}},te.keccak256=function(ar){return te.keccak(ar)},te.sha3=te.keccak,te.sha256=function(ar){return ar=te.toBuffer(ar),pe("sha256").update(ar).digest()},te.ripemd160=function(ar,mr){ar=te.toBuffer(ar);var pr=pe("rmd160").update(ar).digest();return mr===!0?te.setLength(pr,32):pr},te.rlphash=function(ar){return te.keccak(ue.encode(ar))},te.isValidPrivate=function(ar){return ae.privateKeyVerify(ar)},te.isValidPublic=function(ar,mr){return ar.length===64?ae.publicKeyVerify(rr.concat([rr.from([4]),ar])):mr?ae.publicKeyVerify(ar):!1},te.pubToAddress=te.publicToAddress=function(ar,mr){return ar=te.toBuffer(ar),mr&&ar.length!==64&&(ar=ae.publicKeyConvert(ar,!1).slice(1)),fe(ar.length===64),te.keccak(ar).slice(-20)};var cr=te.privateToPublic=function(ar){return ar=te.toBuffer(ar),ae.publicKeyCreate(ar,!1).slice(1)};te.importPublic=function(ar){return ar=te.toBuffer(ar),ar.length!==64&&(ar=ae.publicKeyConvert(ar,!1).slice(1)),ar},te.ecsign=function(ar,mr){var pr=ae.sign(ar,mr),yr={};return yr.r=pr.signature.slice(0,32),yr.s=pr.signature.slice(32,64),yr.v=pr.recovery+27,yr},te.hashPersonalMessage=function(ar){var mr=te.toBuffer(`Ethereum Signed Message:
`+ar.length.toString());return te.keccak(rr.concat([mr,ar]))},te.ecrecover=function(ar,mr,pr,yr){var vr=rr.concat([te.setLength(pr,32),te.setLength(yr,32)],64),Er=mr-27;if(Er!==0&&Er!==1)throw new Error("Invalid signature v value");var Tr=ae.recover(ar,vr,Er);return ae.publicKeyConvert(Tr,!1).slice(1)},te.toRpcSig=function(ar,mr,pr){if(ar!==27&&ar!==28)throw new Error("Invalid recovery id");return te.bufferToHex(rr.concat([te.setLengthLeft(mr,32),te.setLengthLeft(pr,32),te.toBuffer(ar-27)]))},te.fromRpcSig=function(ar){if(ar=te.toBuffer(ar),ar.length!==65)throw new Error("Invalid signature length");var mr=ar[64];return mr<27&&(mr+=27),{v:mr,r:ar.slice(0,32),s:ar.slice(32,64)}},te.privateToAddress=function(ar){return te.publicToAddress(cr(ar))},te.isValidAddress=function(ar){return/^0x[0-9a-fA-F]{40}$/.test(ar)},te.isZeroAddress=function(ar){var mr=te.zeroAddress();return mr===te.addHexPrefix(ar)},te.toChecksumAddress=function(ar){ar=te.stripHexPrefix(ar).toLowerCase();for(var mr=te.keccak(ar).toString("hex"),pr="0x",yr=0;yr<ar.length;yr++)parseInt(mr[yr],16)>=8?pr+=ar[yr].toUpperCase():pr+=ar[yr];return pr},te.isValidChecksumAddress=function(ar){return te.isValidAddress(ar)&&te.toChecksumAddress(ar)===ar},te.generateAddress=function(ar,mr){return ar=te.toBuffer(ar),mr=new le(mr),mr.isZero()?mr=null:mr=rr.from(mr.toArray()),te.rlphash([ar,mr]).slice(-20)},te.isPrecompiled=function(ar){var mr=te.unpad(ar);return mr.length===1&&mr[0]>=1&&mr[0]<=8},te.addHexPrefix=function(ar){return typeof ar!="string"||te.isHexPrefixed(ar)?ar:"0x"+ar},te.isValidSignature=function(ar,mr,pr,yr){var vr=new le("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),Er=new le("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);return!(mr.length!==32||pr.length!==32||ar!==27&&ar!==28||(mr=new le(mr),pr=new le(pr),mr.isZero()||mr.gt(Er)||pr.isZero()||pr.gt(Er))||yr===!1&&new le(pr).cmp(vr)===1)},te.baToJSON=function(ar){if(rr.isBuffer(ar))return"0x"+ar.toString("hex");if(ar instanceof Array){for(var mr=[],pr=0;pr<ar.length;pr++)mr.push(te.baToJSON(ar[pr]));return mr}},te.defineProperties=function(ar,mr,pr){if(ar.raw=[],ar._fields=[],ar.toJSON=function(vr){if(vr){var Er={};return ar._fields.forEach(function(Tr){Er[Tr]="0x"+ar[Tr].toString("hex")}),Er}return te.baToJSON(this.raw)},ar.serialize=function(){return ue.encode(ar.raw)},mr.forEach(function(vr,Er){ar._fields.push(vr.name);function Tr(){return ar.raw[Er]}function Ir(Or){Or=te.toBuffer(Or),Or.toString("hex")==="00"&&!vr.allowZero&&(Or=rr.allocUnsafe(0)),vr.allowLess&&vr.length?(Or=te.stripZeros(Or),fe(vr.length>=Or.length,"The field "+vr.name+" must not have more "+vr.length+" bytes")):!(vr.allowZero&&Or.length===0)&&vr.length&&fe(vr.length===Or.length,"The field "+vr.name+" must have byte length of "+vr.length),ar.raw[Er]=Or}Object.defineProperty(ar,vr.name,{enumerable:!0,configurable:!0,get:Tr,set:Ir}),vr.default&&(ar[vr.name]=vr.default),vr.alias&&Object.defineProperty(ar,vr.alias,{enumerable:!1,configurable:!0,set:Ir,get:Tr})}),pr)if(typeof pr=="string"&&(pr=rr.from(te.stripHexPrefix(pr),"hex")),rr.isBuffer(pr)&&(pr=ue.decode(pr)),Array.isArray(pr)){if(pr.length>ar._fields.length)throw new Error("wrong number of fields in data");pr.forEach(function(vr,Er){ar[ar._fields[Er]]=te.toBuffer(vr)})}else if((typeof pr=="undefined"?"undefined":ee(pr))==="object"){var yr=Object.keys(pr);mr.forEach(function(vr){yr.indexOf(vr.name)!==-1&&(ar[vr.name]=pr[vr.name]),yr.indexOf(vr.alias)!==-1&&(ar[vr.alias]=pr[vr.alias])})}else throw new Error("invalid data")}})(dist$6);const processFn$1=(te,ee)=>function(){const re=ee.promiseModule,ne=new Array(arguments.length);for(let ie=0;ie<arguments.length;ie++)ne[ie]=arguments[ie];return new re((ie,oe)=>{ee.errorFirst?ne.push(function(se,ae){if(ee.multiArgs){const fe=new Array(arguments.length-1);for(let ue=1;ue<arguments.length;ue++)fe[ue-1]=arguments[ue];se?(fe.unshift(se),oe(fe)):ie(fe)}else se?oe(se):ie(ae)}):ne.push(function(se){if(ee.multiArgs){const ae=new Array(arguments.length-1);for(let fe=0;fe<arguments.length;fe++)ae[fe]=arguments[fe];ie(ae)}else ie(se)}),te.apply(this,ne)})};var pify$3=(te,ee)=>{ee=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},ee);const re=ie=>{const oe=se=>typeof se=="string"?ie===se:se.test(ie);return ee.include?ee.include.some(oe):!ee.exclude.some(oe)};let ne;typeof te=="function"?ne=function(){return ee.excludeMain?te.apply(this,arguments):processFn$1(te,ee).apply(this,arguments)}:ne=Object.create(Object.getPrototypeOf(te));for(const ie in te){const oe=te[ie];ne[ie]=typeof oe=="function"&&re(ie)?processFn$1(oe,ee):oe}return ne},immutable=extend$3,hasOwnProperty$5=Object.prototype.hasOwnProperty;function extend$3(){for(var te={},ee=0;ee<arguments.length;ee++){var re=arguments[ee];for(var ne in re)hasOwnProperty$5.call(re,ne)&&(te[ne]=re[ne])}return te}var jsonRpcRandomId=IdIterator;function IdIterator(te){te=te||{};var ee=te.max||Number.MAX_SAFE_INTEGER,re=typeof te.start!="undefined"?te.start:Math.floor(Math.random()*ee);return function(){return re=re%ee,re++}}const extend$2=immutable,createRandomId$1=jsonRpcRandomId();var ethQuery=EthQuery$1;function EthQuery$1(te){const ee=this;ee.currentProvider=te}EthQuery$1.prototype.getBalance=generateFnWithDefaultBlockFor(2,"eth_getBalance");EthQuery$1.prototype.getCode=generateFnWithDefaultBlockFor(2,"eth_getCode");EthQuery$1.prototype.getTransactionCount=generateFnWithDefaultBlockFor(2,"eth_getTransactionCount");EthQuery$1.prototype.getStorageAt=generateFnWithDefaultBlockFor(3,"eth_getStorageAt");EthQuery$1.prototype.call=generateFnWithDefaultBlockFor(2,"eth_call");EthQuery$1.prototype.protocolVersion=generateFnFor("eth_protocolVersion");EthQuery$1.prototype.syncing=generateFnFor("eth_syncing");EthQuery$1.prototype.coinbase=generateFnFor("eth_coinbase");EthQuery$1.prototype.mining=generateFnFor("eth_mining");EthQuery$1.prototype.hashrate=generateFnFor("eth_hashrate");EthQuery$1.prototype.gasPrice=generateFnFor("eth_gasPrice");EthQuery$1.prototype.accounts=generateFnFor("eth_accounts");EthQuery$1.prototype.blockNumber=generateFnFor("eth_blockNumber");EthQuery$1.prototype.getBlockTransactionCountByHash=generateFnFor("eth_getBlockTransactionCountByHash");EthQuery$1.prototype.getBlockTransactionCountByNumber=generateFnFor("eth_getBlockTransactionCountByNumber");EthQuery$1.prototype.getUncleCountByBlockHash=generateFnFor("eth_getUncleCountByBlockHash");EthQuery$1.prototype.getUncleCountByBlockNumber=generateFnFor("eth_getUncleCountByBlockNumber");EthQuery$1.prototype.sign=generateFnFor("eth_sign");EthQuery$1.prototype.sendTransaction=generateFnFor("eth_sendTransaction");EthQuery$1.prototype.sendRawTransaction=generateFnFor("eth_sendRawTransaction");EthQuery$1.prototype.estimateGas=generateFnFor("eth_estimateGas");EthQuery$1.prototype.getBlockByHash=generateFnFor("eth_getBlockByHash");EthQuery$1.prototype.getBlockByNumber=generateFnFor("eth_getBlockByNumber");EthQuery$1.prototype.getTransactionByHash=generateFnFor("eth_getTransactionByHash");EthQuery$1.prototype.getTransactionByBlockHashAndIndex=generateFnFor("eth_getTransactionByBlockHashAndIndex");EthQuery$1.prototype.getTransactionByBlockNumberAndIndex=generateFnFor("eth_getTransactionByBlockNumberAndIndex");EthQuery$1.prototype.getTransactionReceipt=generateFnFor("eth_getTransactionReceipt");EthQuery$1.prototype.getUncleByBlockHashAndIndex=generateFnFor("eth_getUncleByBlockHashAndIndex");EthQuery$1.prototype.getUncleByBlockNumberAndIndex=generateFnFor("eth_getUncleByBlockNumberAndIndex");EthQuery$1.prototype.getCompilers=generateFnFor("eth_getCompilers");EthQuery$1.prototype.compileLLL=generateFnFor("eth_compileLLL");EthQuery$1.prototype.compileSolidity=generateFnFor("eth_compileSolidity");EthQuery$1.prototype.compileSerpent=generateFnFor("eth_compileSerpent");EthQuery$1.prototype.newFilter=generateFnFor("eth_newFilter");EthQuery$1.prototype.newBlockFilter=generateFnFor("eth_newBlockFilter");EthQuery$1.prototype.newPendingTransactionFilter=generateFnFor("eth_newPendingTransactionFilter");EthQuery$1.prototype.uninstallFilter=generateFnFor("eth_uninstallFilter");EthQuery$1.prototype.getFilterChanges=generateFnFor("eth_getFilterChanges");EthQuery$1.prototype.getFilterLogs=generateFnFor("eth_getFilterLogs");EthQuery$1.prototype.getLogs=generateFnFor("eth_getLogs");EthQuery$1.prototype.getWork=generateFnFor("eth_getWork");EthQuery$1.prototype.submitWork=generateFnFor("eth_submitWork");EthQuery$1.prototype.submitHashrate=generateFnFor("eth_submitHashrate");EthQuery$1.prototype.sendAsync=function(te,ee){this.currentProvider.sendAsync(createPayload$4(te),function(ne,ie){if(!ne&&ie.error&&(ne=new Error("EthQuery - RPC Error - "+ie.error.message)),ne)return ee(ne);ee(null,ie.result)})};function generateFnFor(te){return function(){const ee=this;var re=[].slice.call(arguments),ne=re.pop();ee.sendAsync({method:te,params:re},ne)}}function generateFnWithDefaultBlockFor(te,ee){return function(){const re=this;var ne=[].slice.call(arguments),ie=ne.pop();ne.length<te&&ne.push("latest"),re.sendAsync({method:ee,params:ne},ie)}}function createPayload$4(te){return extend$2({id:createRandomId$1(),jsonrpc:"2.0",params:[]},te)}const util$6=util$9,EventEmitter$3=events$1.exports;var R$1=typeof Reflect=="object"?Reflect:null,ReflectApply=R$1&&typeof R$1.apply=="function"?R$1.apply:function(ee,re,ne){return Function.prototype.apply.call(ee,re,ne)},safeEventEmitter$1=SafeEventEmitter$4;function SafeEventEmitter$4(){EventEmitter$3.call(this)}util$6.inherits(SafeEventEmitter$4,EventEmitter$3);SafeEventEmitter$4.prototype.emit=function(te){for(var ee=[],re=1;re<arguments.length;re++)ee.push(arguments[re]);var ne=te==="error",ie=this._events;if(ie!==void 0)ne=ne&&ie.error===void 0;else if(!ne)return!1;if(ne){var oe;if(ee.length>0&&(oe=ee[0]),oe instanceof Error)throw oe;var se=new Error("Unhandled error."+(oe?" ("+oe.message+")":""));throw se.context=oe,se}var ae=ie[te];if(ae===void 0)return!1;if(typeof ae=="function")safeApply$1(ae,this,ee);else for(var fe=ae.length,ue=arrayClone$1(ae,fe),re=0;re<fe;++re)safeApply$1(ue[re],this,ee);return!0};function safeApply$1(te,ee,re){try{ReflectApply(te,ee,re)}catch(ne){setTimeout(()=>{throw ne})}}function arrayClone$1(te,ee){for(var re=new Array(ee),ne=0;ne<ee;++ne)re[ne]=te[ne];return re}const SafeEventEmitter$3=safeEventEmitter$1,sec$1=1e3,calculateSum=(te,ee)=>te+ee,blockTrackerEvents=["sync","latest"];class BaseBlockTracker$1 extends SafeEventEmitter$3{constructor(ee={}){super();this._blockResetDuration=ee.blockResetDuration||20*sec$1,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(re=>this.once("latest",re))}removeAllListeners(ee){ee?super.removeAllListeners(ee):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(ee,re){!blockTrackerEvents.includes(ee)||this._maybeStart()}_onRemoveListener(ee,re){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){!this._isRunning||(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return blockTrackerEvents.map(ee=>this.listenerCount(ee)).reduce(calculateSum)}_newPotentialLatest(ee){const re=this._currentBlock;re&&hexToInt$4(ee)<=hexToInt$4(re)||this._setCurrentBlock(ee)}_setCurrentBlock(ee){const re=this._currentBlock;this._currentBlock=ee,this.emit("latest",ee),this.emit("sync",{oldBlock:re,newBlock:ee})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}var base=BaseBlockTracker$1;function hexToInt$4(te){return Number.parseInt(te,16)}const pify$2=pify$3,BaseBlockTracker=base,sec=1e3;class PollingBlockTracker$1 extends BaseBlockTracker{constructor(ee={}){if(!ee.provider)throw new Error("PollingBlockTracker - no provider specified.");const re=ee.pollingInterval||20*sec,ne=ee.retryTimeout||re/10,ie=ee.keepEventLoopActive!==void 0?ee.keepEventLoopActive:!0,oe=ee.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:re},ee));this._provider=ee.provider,this._pollingInterval=re,this._retryTimeout=ne,this._keepEventLoopActive=ie,this._setSkipCacheFlag=oe}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(ee=>this.emit("error",ee))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await timeout$1(this._pollingInterval,!this._keepEventLoopActive)}catch(ee){const re=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${ee.stack}`);try{this.emit("error",re)}catch{console.error(re)}await timeout$1(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const ee=await this._fetchLatestBlock();this._newPotentialLatest(ee)}async _fetchLatestBlock(){const ee={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(ee.skipCache=!0);const re=await pify$2(ne=>this._provider.sendAsync(ee,ne))();if(re.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${re.error}`);return re.result}}var polling=PollingBlockTracker$1;function timeout$1(te,ee){return new Promise(re=>{const ne=setTimeout(re,te);ne.unref&&ee&&ne.unref()})}var map$3={exports:{}},doParallel={exports:{}},eachOf={exports:{}},freeGlobal$1=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$1=freeGlobal||freeSelf||Function("return this")(),_root=root$1,root=_root,Symbol$3=root.Symbol,_Symbol=Symbol$3,Symbol$2=_Symbol,objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty,nativeObjectToString$1=objectProto$5.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag$1(te){var ee=hasOwnProperty$4.call(te,symToStringTag$1),re=te[symToStringTag$1];try{te[symToStringTag$1]=void 0;var ne=!0}catch{}var ie=nativeObjectToString$1.call(te);return ne&&(ee?te[symToStringTag$1]=re:delete te[symToStringTag$1]),ie}var _getRawTag=getRawTag$1,objectProto$4=Object.prototype,nativeObjectToString=objectProto$4.toString;function objectToString$1(te){return nativeObjectToString.call(te)}var _objectToString=objectToString$1,Symbol$1=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag$3(te){return te==null?te===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(te)?getRawTag(te):objectToString(te)}var _baseGetTag=baseGetTag$3;function isObject$3(te){var ee=typeof te;return te!=null&&(ee=="object"||ee=="function")}var isObject_1=isObject$3,baseGetTag$2=_baseGetTag,isObject$2=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$3(te){if(!isObject$2(te))return!1;var ee=baseGetTag$2(te);return ee==funcTag$1||ee==genTag||ee==asyncTag||ee==proxyTag}var isFunction_1=isFunction$3,MAX_SAFE_INTEGER$1=9007199254740991;function isLength$2(te){return typeof te=="number"&&te>-1&&te%1==0&&te<=MAX_SAFE_INTEGER$1}var isLength_1=isLength$2,isFunction$2=isFunction_1,isLength$1=isLength_1;function isArrayLike$2(te){return te!=null&&isLength$1(te.length)&&!isFunction$2(te)}var isArrayLike_1=isArrayLike$2,breakLoop={exports:{}};(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default={},te.exports=ee.default})(breakLoop,breakLoop.exports);var eachOfLimit$1={exports:{}},eachOfLimit={exports:{}};function noop$4(){}var noop_1=noop$4,once={exports:{}};(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=re;function re(ne){return function(){if(ne!==null){var ie=ne;ne=null,ie.apply(this,arguments)}}}te.exports=ee.default})(once,once.exports);var iterator$1={exports:{}},getIterator={exports:{}};(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=function(ne){return re&&ne[re]&&ne[re]()};var re=typeof Symbol=="function"&&Symbol.iterator;te.exports=ee.default})(getIterator,getIterator.exports);function baseTimes$1(te,ee){for(var re=-1,ne=Array(te);++re<te;)ne[re]=ee(re);return ne}var _baseTimes=baseTimes$1;function isObjectLike$3(te){return te!=null&&typeof te=="object"}var isObjectLike_1=isObjectLike$3,baseGetTag$1=_baseGetTag,isObjectLike$2=isObjectLike_1,argsTag$1="[object Arguments]";function baseIsArguments$1(te){return isObjectLike$2(te)&&baseGetTag$1(te)==argsTag$1}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$1=isObjectLike_1,objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty,propertyIsEnumerable=objectProto$3.propertyIsEnumerable,isArguments$1=baseIsArguments(function(){return arguments}())?baseIsArguments:function(te){return isObjectLike$1(te)&&hasOwnProperty$3.call(te,"callee")&&!propertyIsEnumerable.call(te,"callee")},isArguments_1=isArguments$1,isArray$7=Array.isArray,isArray_1=isArray$7,isBuffer$1={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;(function(te,ee){var re=_root,ne=stubFalse_1,ie=ee&&!ee.nodeType&&ee,oe=ie&&!0&&te&&!te.nodeType&&te,se=oe&&oe.exports===ie,ae=se?re.Buffer:void 0,fe=ae?ae.isBuffer:void 0,ue=fe||ne;te.exports=ue})(isBuffer$1,isBuffer$1.exports);var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$1(te,ee){var re=typeof te;return ee=ee==null?MAX_SAFE_INTEGER:ee,!!ee&&(re=="number"||re!="symbol"&&reIsUint.test(te))&&te>-1&&te%1==0&&te<ee}var _isIndex=isIndex$1,baseGetTag=_baseGetTag,isLength=isLength_1,isObjectLike=isObjectLike_1,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;function baseIsTypedArray$1(te){return isObjectLike(te)&&isLength(te.length)&&!!typedArrayTags[baseGetTag(te)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$1(te){return function(ee){return te(ee)}}var _baseUnary=baseUnary$1,_nodeUtil={exports:{}};(function(te,ee){var re=_freeGlobal,ne=ee&&!ee.nodeType&&ee,ie=ne&&!0&&te&&!te.nodeType&&te,oe=ie&&ie.exports===ne,se=oe&&re.process,ae=function(){try{var fe=ie&&ie.require&&ie.require("util").types;return fe||se&&se.binding&&se.binding("util")}catch{}}();te.exports=ae})(_nodeUtil,_nodeUtil.exports);var baseIsTypedArray=_baseIsTypedArray,baseUnary=_baseUnary,nodeUtil=_nodeUtil.exports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$3=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$3,baseTimes=_baseTimes,isArguments=isArguments_1,isArray$6=isArray_1,isBuffer=isBuffer$1.exports,isIndex=_isIndex,isTypedArray$2=isTypedArray_1,objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function arrayLikeKeys$1(te,ee){var re=isArray$6(te),ne=!re&&isArguments(te),ie=!re&&!ne&&isBuffer(te),oe=!re&&!ne&&!ie&&isTypedArray$2(te),se=re||ne||ie||oe,ae=se?baseTimes(te.length,String):[],fe=ae.length;for(var ue in te)(ee||hasOwnProperty$2.call(te,ue))&&!(se&&(ue=="length"||ie&&(ue=="offset"||ue=="parent")||oe&&(ue=="buffer"||ue=="byteLength"||ue=="byteOffset")||isIndex(ue,fe)))&&ae.push(ue);return ae}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$1=Object.prototype;function isPrototype$1(te){var ee=te&&te.constructor,re=typeof ee=="function"&&ee.prototype||objectProto$1;return te===re}var _isPrototype=isPrototype$1;function overArg$1(te,ee){return function(re){return te(ee(re))}}var _overArg=overArg$1,overArg=_overArg,nativeKeys$1=overArg(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=_nativeKeys,objectProto=Object.prototype,hasOwnProperty$1=objectProto.hasOwnProperty;function baseKeys$1(te){if(!isPrototype(te))return nativeKeys(te);var ee=[];for(var re in Object(te))hasOwnProperty$1.call(te,re)&&re!="constructor"&&ee.push(re);return ee}var _baseKeys=baseKeys$1,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$1=isArrayLike_1;function keys(te){return isArrayLike$1(te)?arrayLikeKeys(te):baseKeys(te)}var keys_1=keys;(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=rr;var re=isArrayLike_1,ne=fe(re),ie=getIterator.exports,oe=fe(ie),se=keys_1,ae=fe(se);function fe(cr){return cr&&cr.__esModule?cr:{default:cr}}function ue(cr){var ar=-1,mr=cr.length;return function(){return++ar<mr?{value:cr[ar],key:ar}:null}}function le(cr){var ar=-1;return function(){var pr=cr.next();return pr.done?null:(ar++,{value:pr.value,key:ar})}}function pe(cr){var ar=(0,ae.default)(cr),mr=-1,pr=ar.length;return function(){var vr=ar[++mr];return mr<pr?{value:cr[vr],key:vr}:null}}function rr(cr){if((0,ne.default)(cr))return ue(cr);var ar=(0,oe.default)(cr);return ar?le(ar):pe(cr)}te.exports=ee.default})(iterator$1,iterator$1.exports);var onlyOnce={exports:{}};(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=re;function re(ne){return function(){if(ne===null)throw new Error("Callback was already called.");var ie=ne;ne=null,ie.apply(this,arguments)}}te.exports=ee.default})(onlyOnce,onlyOnce.exports);(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=cr;var re=noop_1,ne=rr(re),ie=once.exports,oe=rr(ie),se=iterator$1.exports,ae=rr(se),fe=onlyOnce.exports,ue=rr(fe),le=breakLoop.exports,pe=rr(le);function rr(ar){return ar&&ar.__esModule?ar:{default:ar}}function cr(ar){return function(mr,pr,yr){if(yr=(0,oe.default)(yr||ne.default),ar<=0||!mr)return yr(null);var vr=(0,ae.default)(mr),Er=!1,Tr=0,Ir=!1;function Or(Pr,Br){if(Tr-=1,Pr)Er=!0,yr(Pr);else{if(Br===pe.default||Er&&Tr<=0)return Er=!0,yr(null);Ir||Hr()}}function Hr(){for(Ir=!0;Tr<ar&&!Er;){var Pr=vr();if(Pr===null){Er=!0,Tr<=0&&yr(null);return}Tr+=1,pr(Pr.value,Pr.key,(0,ue.default)(Or))}Ir=!1}Hr()}}te.exports=ee.default})(eachOfLimit,eachOfLimit.exports);var wrapAsync$1={},asyncify={exports:{}},initialParams={exports:{}},slice={exports:{}};(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=re;function re(ne,ie){ie=ie|0;for(var oe=Math.max(ne.length-ie,0),se=Array(oe),ae=0;ae<oe;ae++)se[ae]=ne[ie+ae];return se}te.exports=ee.default})(slice,slice.exports);(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=function(oe){return function(){var se=(0,ne.default)(arguments),ae=se.pop();oe.call(this,se,ae)}};var re=slice.exports,ne=ie(re);function ie(oe){return oe&&oe.__esModule?oe:{default:oe}}te.exports=ee.default})(initialParams,initialParams.exports);var setImmediate$1={};Object.defineProperty(setImmediate$1,"__esModule",{value:!0});setImmediate$1.hasNextTick=setImmediate$1.hasSetImmediate=void 0;setImmediate$1.fallback=fallback;setImmediate$1.wrap=wrap;var _slice=slice.exports,_slice2=_interopRequireDefault$1(_slice);function _interopRequireDefault$1(te){return te&&te.__esModule?te:{default:te}}var hasSetImmediate=setImmediate$1.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,hasNextTick=setImmediate$1.hasNextTick=typeof process=="object"&&typeof process.nextTick=="function";function fallback(te){setTimeout(te,0)}function wrap(te){return function(ee){var re=(0,_slice2.default)(arguments,1);te(function(){ee.apply(null,re)})}}var _defer;hasSetImmediate?_defer=setImmediate:hasNextTick?_defer=process.nextTick:_defer=fallback;setImmediate$1.default=wrap(_defer);(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=ue;var re=isObject_1,ne=fe(re),ie=initialParams.exports,oe=fe(ie),se=setImmediate$1,ae=fe(se);function fe(rr){return rr&&rr.__esModule?rr:{default:rr}}function ue(rr){return(0,oe.default)(function(cr,ar){var mr;try{mr=rr.apply(this,cr)}catch(pr){return ar(pr)}(0,ne.default)(mr)&&typeof mr.then=="function"?mr.then(function(pr){le(ar,null,pr)},function(pr){le(ar,pr.message?pr:new Error(pr))}):ar(null,mr)})}function le(rr,cr,ar){try{rr(cr,ar)}catch(mr){(0,ae.default)(pe,mr)}}function pe(rr){throw rr}te.exports=ee.default})(asyncify,asyncify.exports);Object.defineProperty(wrapAsync$1,"__esModule",{value:!0});wrapAsync$1.isAsync=void 0;var _asyncify=asyncify.exports,_asyncify2=_interopRequireDefault(_asyncify);function _interopRequireDefault(te){return te&&te.__esModule?te:{default:te}}var supportsSymbol=typeof Symbol=="function";function isAsync(te){return supportsSymbol&&te[Symbol.toStringTag]==="AsyncFunction"}function wrapAsync(te){return isAsync(te)?(0,_asyncify2.default)(te):te}wrapAsync$1.default=wrapAsync;wrapAsync$1.isAsync=isAsync;(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=ae;var re=eachOfLimit.exports,ne=se(re),ie=wrapAsync$1,oe=se(ie);function se(fe){return fe&&fe.__esModule?fe:{default:fe}}function ae(fe,ue,le,pe){(0,ne.default)(ue)(fe,(0,oe.default)(le),pe)}te.exports=ee.default})(eachOfLimit$1,eachOfLimit$1.exports);var doLimit={exports:{}};(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=re;function re(ne,ie){return function(oe,se,ae){return ne(oe,ie,se,ae)}}te.exports=ee.default})(doLimit,doLimit.exports);(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=function(Ir,Or,Hr){var Pr=(0,ne.default)(Ir)?Er:Tr;Pr(Ir,(0,yr.default)(Or),Hr)};var re=isArrayLike_1,ne=vr(re),ie=breakLoop.exports,oe=vr(ie),se=eachOfLimit$1.exports,ae=vr(se),fe=doLimit.exports,ue=vr(fe),le=noop_1,pe=vr(le),rr=once.exports,cr=vr(rr),ar=onlyOnce.exports,mr=vr(ar),pr=wrapAsync$1,yr=vr(pr);function vr(Ir){return Ir&&Ir.__esModule?Ir:{default:Ir}}function Er(Ir,Or,Hr){Hr=(0,cr.default)(Hr||pe.default);var Pr=0,Br=0,Nr=Ir.length;Nr===0&&Hr(null);function dr(tr,ve){tr?Hr(tr):(++Br===Nr||ve===oe.default)&&Hr(null)}for(;Pr<Nr;Pr++)Or(Ir[Pr],Pr,(0,mr.default)(dr))}var Tr=(0,ue.default)(ae.default,1/0);te.exports=ee.default})(eachOf,eachOf.exports);(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=ae;var re=eachOf.exports,ne=se(re),ie=wrapAsync$1,oe=se(ie);function se(fe){return fe&&fe.__esModule?fe:{default:fe}}function ae(fe){return function(ue,le,pe){return fe(ne.default,ue,(0,oe.default)(le),pe)}}te.exports=ee.default})(doParallel,doParallel.exports);var map$2={exports:{}};(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=ae;var re=noop_1,ne=se(re),ie=wrapAsync$1,oe=se(ie);function se(fe){return fe&&fe.__esModule?fe:{default:fe}}function ae(fe,ue,le,pe){pe=pe||ne.default,ue=ue||[];var rr=[],cr=0,ar=(0,oe.default)(le);fe(ue,function(mr,pr,yr){var vr=cr++;ar(mr,function(Er,Tr){rr[vr]=Tr,yr(Er)})},function(mr){pe(mr,rr)})}te.exports=ee.default})(map$2,map$2.exports);(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0});var re=doParallel.exports,ne=se(re),ie=map$2.exports,oe=se(ie);function se(ae){return ae&&ae.__esModule?ae:{default:ae}}ee.default=(0,ne.default)(oe.default),te.exports=ee.default})(map$3,map$3.exports);var eachSeries$1={exports:{}},eachLimit={exports:{}},withoutIndex={exports:{}};(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=re;function re(ne){return function(ie,oe,se){return ne(ie,se)}}te.exports=ee.default})(withoutIndex,withoutIndex.exports);(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=ue;var re=eachOfLimit.exports,ne=fe(re),ie=withoutIndex.exports,oe=fe(ie),se=wrapAsync$1,ae=fe(se);function fe(le){return le&&le.__esModule?le:{default:le}}function ue(le,pe,rr,cr){(0,ne.default)(pe)(le,(0,oe.default)((0,ae.default)(rr)),cr)}te.exports=ee.default})(eachLimit,eachLimit.exports);(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0});var re=eachLimit.exports,ne=se(re),ie=doLimit.exports,oe=se(ie);function se(ae){return ae&&ae.__esModule?ae:{default:ae}}ee.default=(0,oe.default)(ne.default,1),te.exports=ee.default})(eachSeries$1,eachSeries$1.exports);const EventEmitter$2=events$1.exports.EventEmitter,inherits$4=util$9.inherits;var stoplight=Stoplight$1;inherits$4(Stoplight$1,EventEmitter$2);function Stoplight$1(){const te=this;EventEmitter$2.call(te),te.isLocked=!0}Stoplight$1.prototype.go=function(){const te=this;te.isLocked=!1,te.emit("unlock")};Stoplight$1.prototype.stop=function(){const te=this;te.isLocked=!0,te.emit("lock")};Stoplight$1.prototype.await=function(te){const ee=this;ee.isLocked?ee.once("unlock",te):setTimeout(te)};var jsonify$1={},at$1,ch,escapee={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},text,error$1=function(te){throw{name:"SyntaxError",message:te,at:at$1,text}},next=function(te){return te&&te!==ch&&error$1("Expected '"+te+"' instead of '"+ch+"'"),ch=text.charAt(at$1),at$1+=1,ch},number=function(){var te,ee="";for(ch==="-"&&(ee="-",next("-"));ch>="0"&&ch<="9";)ee+=ch,next();if(ch===".")for(ee+=".";next()&&ch>="0"&&ch<="9";)ee+=ch;if(ch==="e"||ch==="E")for(ee+=ch,next(),(ch==="-"||ch==="+")&&(ee+=ch,next());ch>="0"&&ch<="9";)ee+=ch,next();if(te=+ee,!isFinite(te))error$1("Bad number");else return te},string=function(){var te,ee,re="",ne;if(ch==='"')for(;next();){if(ch==='"')return next(),re;if(ch==="\\")if(next(),ch==="u"){for(ne=0,ee=0;ee<4&&(te=parseInt(next(),16),!!isFinite(te));ee+=1)ne=ne*16+te;re+=String.fromCharCode(ne)}else if(typeof escapee[ch]=="string")re+=escapee[ch];else break;else re+=ch}error$1("Bad string")},white=function(){for(;ch&&ch<=" ";)next()},word=function(){switch(ch){case"t":return next("t"),next("r"),next("u"),next("e"),!0;case"f":return next("f"),next("a"),next("l"),next("s"),next("e"),!1;case"n":return next("n"),next("u"),next("l"),next("l"),null}error$1("Unexpected '"+ch+"'")},value,array=function(){var te=[];if(ch==="["){if(next("["),white(),ch==="]")return next("]"),te;for(;ch;){if(te.push(value()),white(),ch==="]")return next("]"),te;next(","),white()}}error$1("Bad array")},object$1=function(){var te,ee={};if(ch==="{"){if(next("{"),white(),ch==="}")return next("}"),ee;for(;ch;){if(te=string(),white(),next(":"),Object.hasOwnProperty.call(ee,te)&&error$1('Duplicate key "'+te+'"'),ee[te]=value(),white(),ch==="}")return next("}"),ee;next(","),white()}}error$1("Bad object")};value=function(){switch(white(),ch){case"{":return object$1();case"[":return array();case'"':return string();case"-":return number();default:return ch>="0"&&ch<="9"?number():word()}};var parse$1=function(te,ee){var re;return text=te,at$1=0,ch=" ",re=value(),white(),ch&&error$1("Syntax error"),typeof ee=="function"?function ne(ie,oe){var se,ae,fe=ie[oe];if(fe&&typeof fe=="object")for(se in fe)Object.prototype.hasOwnProperty.call(fe,se)&&(ae=ne(fe,se),ae!==void 0?fe[se]=ae:delete fe[se]);return ee.call(ie,oe,fe)}({"":re},""):re},escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(te){return escapable.lastIndex=0,escapable.test(te)?'"'+te.replace(escapable,function(ee){var re=meta[ee];return typeof re=="string"?re:"\\u"+("0000"+ee.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+te+'"'}function str(te,ee){var re,ne,ie,oe,se=gap,ae,fe=ee[te];switch(fe&&typeof fe=="object"&&typeof fe.toJSON=="function"&&(fe=fe.toJSON(te)),typeof rep=="function"&&(fe=rep.call(ee,te,fe)),typeof fe){case"string":return quote(fe);case"number":return isFinite(fe)?String(fe):"null";case"boolean":case"null":return String(fe);case"object":if(!fe)return"null";if(gap+=indent,ae=[],Object.prototype.toString.apply(fe)==="[object Array]"){for(oe=fe.length,re=0;re<oe;re+=1)ae[re]=str(re,fe)||"null";return ie=ae.length===0?"[]":gap?`[
`+gap+ae.join(`,
`+gap)+`
`+se+"]":"["+ae.join(",")+"]",gap=se,ie}if(rep&&typeof rep=="object")for(oe=rep.length,re=0;re<oe;re+=1)ne=rep[re],typeof ne=="string"&&(ie=str(ne,fe),ie&&ae.push(quote(ne)+(gap?": ":":")+ie));else for(ne in fe)Object.prototype.hasOwnProperty.call(fe,ne)&&(ie=str(ne,fe),ie&&ae.push(quote(ne)+(gap?": ":":")+ie));return ie=ae.length===0?"{}":gap?`{
`+gap+ae.join(`,
`+gap)+`
`+se+"}":"{"+ae.join(",")+"}",gap=se,ie}}var stringify$4=function(te,ee,re){var ne;if(gap="",indent="",typeof re=="number")for(ne=0;ne<re;ne+=1)indent+=" ";else typeof re=="string"&&(indent=re);if(rep=ee,ee&&typeof ee!="function"&&(typeof ee!="object"||typeof ee.length!="number"))throw new Error("JSON.stringify");return str("",{"":te})};jsonify$1.parse=parse$1;jsonify$1.stringify=stringify$4;var json=typeof JSON!="undefined"?JSON:jsonify$1,jsonStableStringify=function(te,ee){ee||(ee={}),typeof ee=="function"&&(ee={cmp:ee});var re=ee.space||"";typeof re=="number"&&(re=Array(re+1).join(" "));var ne=typeof ee.cycles=="boolean"?ee.cycles:!1,ie=ee.replacer||function(ae,fe){return fe},oe=ee.cmp&&function(ae){return function(fe){return function(ue,le){var pe={key:ue,value:fe[ue]},rr={key:le,value:fe[le]};return ae(pe,rr)}}}(ee.cmp),se=[];return function ae(fe,ue,le,pe){var rr=re?`
`+new Array(pe+1).join(re):"",cr=re?": ":":";if(le&&le.toJSON&&typeof le.toJSON=="function"&&(le=le.toJSON()),le=ie.call(fe,ue,le),le!==void 0){if(typeof le!="object"||le===null)return json.stringify(le);if(isArray$5(le)){for(var ar=[],mr=0;mr<le.length;mr++){var pr=ae(le,mr,le[mr],pe+1)||json.stringify(null);ar.push(rr+re+pr)}return"["+ar.join(",")+rr+"]"}else{if(se.indexOf(le)!==-1){if(ne)return json.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}else se.push(le);for(var yr=objectKeys(le).sort(oe&&oe(le)),ar=[],mr=0;mr<yr.length;mr++){var ue=yr[mr],vr=ae(le,ue,le[ue],pe+1);if(!!vr){var Er=json.stringify(ue)+cr+vr;ar.push(rr+re+Er)}}return se.splice(se.indexOf(le),1),"{"+ar.join(",")+rr+"}"}}}({"":te},"",te,0)},isArray$5=Array.isArray||function(te){return{}.toString.call(te)==="[object Array]"},objectKeys=Object.keys||function(te){var ee=Object.prototype.hasOwnProperty||function(){return!0},re=[];for(var ne in te)ee.call(te,ne)&&re.push(ne);return re};const stringify$3=jsonStableStringify;var rpcCacheUtils={cacheIdentifierForPayload:cacheIdentifierForPayload$1,canCache:canCache$1,blockTagForPayload:blockTagForPayload$2,paramsWithoutBlockTag:paramsWithoutBlockTag$1,blockTagParamIndex:blockTagParamIndex$1,cacheTypeForPayload:cacheTypeForPayload$1};function cacheIdentifierForPayload$1(te,ee={}){if(!canCache$1(te))return null;const{includeBlockRef:re}=ee,ne=re?te.params:paramsWithoutBlockTag$1(te);return te.method+":"+stringify$3(ne)}function canCache$1(te){return cacheTypeForPayload$1(te)!=="never"}function blockTagForPayload$2(te){var ee=blockTagParamIndex$1(te);return ee>=te.params.length?null:te.params[ee]}function paramsWithoutBlockTag$1(te){var ee=blockTagParamIndex$1(te);return ee>=te.params.length?te.params:te.method==="eth_getBlockByNumber"?te.params.slice(1):te.params.slice(0,ee)}function blockTagParamIndex$1(te){switch(te.method){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":return 1;case"eth_getBlockByNumber":return 0;default:return}}function cacheTypeForPayload$1(te){switch(te.method){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":return"perma";case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":return"fork";case"eth_gasPrice":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"eth_blockNumber":return"block";case"net_version":case"net_peerCount":case"net_listening":case"eth_syncing":case"eth_sign":case"eth_coinbase":case"eth_mining":case"eth_hashrate":case"eth_accounts":case"eth_sendTransaction":case"eth_sendRawTransaction":case"eth_newFilter":case"eth_newBlockFilter":case"eth_newPendingTransactionFilter":case"eth_uninstallFilter":case"eth_getFilterChanges":case"eth_getWork":case"eth_submitWork":case"eth_submitHashrate":case"db_putString":case"db_getString":case"db_putHex":case"db_getHex":case"shh_post":case"shh_newIdentity":case"shh_hasIdentity":case"shh_newGroup":case"shh_addToGroup":case"shh_newFilter":case"shh_uninstallFilter":case"shh_getFilterChanges":case"shh_getMessages":return"never"}}var randomId=createRandomId;function createRandomId(){return Math.floor(Number.MAX_SAFE_INTEGER*Math.random())}const getRandomId=randomId,extend$1=immutable;var createPayload_1=createPayload$3;function createPayload$3(te){return extend$1({id:getRandomId(),jsonrpc:"2.0",params:[]},te)}const EventEmitter$1=events$1.exports.EventEmitter,inherits$3=util$9.inherits,ethUtil$4=dist$6,EthBlockTracker=polling,map$1=map$3.exports,eachSeries=eachSeries$1.exports,Stoplight=stoplight,createPayload$2=createPayload_1,noop$3=function(){};var web3ProviderEngine=Web3ProviderEngine;inherits$3(Web3ProviderEngine,EventEmitter$1);function Web3ProviderEngine(te){const ee=this;EventEmitter$1.call(ee),ee.setMaxListeners(30),te=te||{};const re={sendAsync:ee._handleAsync.bind(ee)},ne=te.blockTrackerProvider||re;ee._blockTracker=te.blockTracker||new EthBlockTracker({provider:ne,pollingInterval:te.pollingInterval||4e3,setSkipCacheFlag:!0}),ee._ready=new Stoplight,ee.currentBlock=null,ee._providers=[]}Web3ProviderEngine.prototype.start=function(te=noop$3){const ee=this;ee._ready.go(),ee._blockTracker.on("latest",re=>{ee._getBlockByNumberWithRetry(re,(ne,ie)=>{if(ne){this.emit("error",ne);return}if(!ie){console.log(ie),this.emit("error",new Error("Could not find block"));return}const oe=toBufferBlock(ie);ee._setCurrentBlock(oe),ee.emit("rawBlock",ie),ee.emit("latest",ie)})}),ee._blockTracker.on("sync",ee.emit.bind(ee,"sync")),ee._blockTracker.on("error",ee.emit.bind(ee,"error")),ee._running=!0,ee.emit("start")};Web3ProviderEngine.prototype.stop=function(){const te=this;te._blockTracker.removeAllListeners(),te._running=!1,te.emit("stop")};Web3ProviderEngine.prototype.isRunning=function(){return this._running};Web3ProviderEngine.prototype.addProvider=function(te,ee){const re=this;typeof ee=="number"?re._providers.splice(ee,0,te):re._providers.push(te),te.setEngine(this)};Web3ProviderEngine.prototype.removeProvider=function(te){const ee=this,re=ee._providers.indexOf(te);if(re<0)throw new Error("Provider not found.");ee._providers.splice(re,1)};Web3ProviderEngine.prototype.send=function(te){throw new Error("Web3ProviderEngine does not support synchronous requests.")};Web3ProviderEngine.prototype.sendAsync=function(te,ee){const re=this;re._ready.await(function(){Array.isArray(te)?map$1(te,re._handleAsync.bind(re),ee):re._handleAsync(te,ee)})};Web3ProviderEngine.prototype._getBlockByNumberWithRetry=function(te,ee){const re=this;let ne=5;ie();return;function ie(){re._getBlockByNumber(te,oe)}function oe(se,ae){if(se)return ee(se);if(!ae)if(ne>0){ne--,setTimeout(function(){ie()},1e3);return}else{ee(null,null);return}ee(null,ae)}};Web3ProviderEngine.prototype._getBlockByNumber=function(te,ee){const re=createPayload$2({method:"eth_getBlockByNumber",params:[te,!1],skipCache:!0});this._handleAsync(re,(ne,ie)=>ne?ee(ne):ee(null,ie.result))};Web3ProviderEngine.prototype._handleAsync=function(te,ee){var re=this,ne=-1,ie=null,oe=null,se=[];ae();function ae(ue){if(ne+=1,se.unshift(ue),ne>=re._providers.length)fe(new Error('Request for method "'+te.method+'" not handled by any subprovider. Please check your subprovider configuration to ensure this method is handled.'));else try{var le=re._providers[ne];le.handleRequest(te,ae,fe)}catch(pe){fe(pe)}}function fe(ue,le){oe=ue,ie=le,eachSeries(se,function(pe,rr){pe?pe(oe,ie,rr):rr()},function(){var pe={id:te.id,jsonrpc:te.jsonrpc,result:ie};oe!=null?(pe.error={message:oe.stack||oe.message||oe,code:-32e3},ee(oe,pe)):ee(null,pe)})}};Web3ProviderEngine.prototype._setCurrentBlock=function(te){const ee=this;ee.currentBlock=te,ee.emit("block",te)};function toBufferBlock(te){return{number:ethUtil$4.toBuffer(te.number),hash:ethUtil$4.toBuffer(te.hash),parentHash:ethUtil$4.toBuffer(te.parentHash),nonce:ethUtil$4.toBuffer(te.nonce),mixHash:ethUtil$4.toBuffer(te.mixHash),sha3Uncles:ethUtil$4.toBuffer(te.sha3Uncles),logsBloom:ethUtil$4.toBuffer(te.logsBloom),transactionsRoot:ethUtil$4.toBuffer(te.transactionsRoot),stateRoot:ethUtil$4.toBuffer(te.stateRoot),receiptsRoot:ethUtil$4.toBuffer(te.receiptRoot||te.receiptsRoot),miner:ethUtil$4.toBuffer(te.miner),difficulty:ethUtil$4.toBuffer(te.difficulty),totalDifficulty:ethUtil$4.toBuffer(te.totalDifficulty),size:ethUtil$4.toBuffer(te.size),extraData:ethUtil$4.toBuffer(te.extraData),gasLimit:ethUtil$4.toBuffer(te.gasLimit),gasUsed:ethUtil$4.toBuffer(te.gasUsed),timestamp:ethUtil$4.toBuffer(te.timestamp),transactions:te.transactions}}const createPayload$1=createPayload_1;var subprovider=SubProvider;function SubProvider(){}SubProvider.prototype.setEngine=function(te){const ee=this;ee.engine||(ee.engine=te,te.on("block",function(re){ee.currentBlock=re}),te.on("start",function(){ee.start()}),te.on("stop",function(){ee.stop()}))};SubProvider.prototype.handleRequest=function(te,ee,re){throw new Error("Subproviders should override `handleRequest`.")};SubProvider.prototype.emitPayload=function(te,ee){this.engine.sendAsync(createPayload$1(te),ee)};SubProvider.prototype.stop=function(){};SubProvider.prototype.start=function(){};const Subprovider$3=subprovider;class JsonRpcEngineMiddlewareSubprovider extends Subprovider$3{constructor(ee){super();if(!ee)throw new Error("JsonRpcEngineMiddlewareSubprovider - no constructorFn specified");this._constructorFn=ee}setEngine(ee){if(this.middleware)throw new Error("JsonRpcEngineMiddlewareSubprovider - subprovider added to engine twice");const re=ee._blockTracker,ne=this._constructorFn({engine:ee,provider:ee,blockTracker:re});if(!ne)throw new Error("JsonRpcEngineMiddlewareSubprovider - _constructorFn did not return middleware");if(typeof ne!="function")throw new Error("JsonRpcEngineMiddlewareSubprovider - specified middleware is not a function");this.middleware=ne}handleRequest(ee,re,ne){const ie={id:ee.id};this.middleware(ee,ie,oe,se);function oe(ae){re((fe,ue,le)=>{fe?(delete ie.result,ie.error={message:fe.message||fe}):ie.result=ue,ae?ae(le):le()})}function se(ae){if(ae)return ne(ae);ne(null,ie.result)}}}var jsonRpcEngineMiddleware=JsonRpcEngineMiddlewareSubprovider;const stringify$2=jsonStableStringify;var cacheUtils$1={cacheIdentifierForPayload,canCache,blockTagForPayload:blockTagForPayload$1,paramsWithoutBlockTag,blockTagParamIndex,cacheTypeForPayload};function cacheIdentifierForPayload(te,ee){const re=ee?paramsWithoutBlockTag(te):te.params;return canCache(te)?te.method+":"+stringify$2(re):null}function canCache(te){return cacheTypeForPayload(te)!=="never"}function blockTagForPayload$1(te){let ee=blockTagParamIndex(te);return ee>=te.params.length?null:te.params[ee]}function paramsWithoutBlockTag(te){const ee=blockTagParamIndex(te);return ee>=te.params.length?te.params:te.method==="eth_getBlockByNumber"?te.params.slice(1):te.params.slice(0,ee)}function blockTagParamIndex(te){switch(te.method){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":return 1;case"eth_getBlockByNumber":return 0;default:return}}function cacheTypeForPayload(te){switch(te.method){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":case"test_permaCache":return"perma";case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":case"test_forkCache":return"fork";case"eth_gasPrice":case"eth_blockNumber":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"test_blockCache":return"block";case"net_version":case"net_peerCount":case"net_listening":case"eth_syncing":case"eth_sign":case"eth_coinbase":case"eth_mining":case"eth_hashrate":case"eth_accounts":case"eth_sendTransaction":case"eth_sendRawTransaction":case"eth_newFilter":case"eth_newBlockFilter":case"eth_newPendingTransactionFilter":case"eth_uninstallFilter":case"eth_getFilterChanges":case"eth_getWork":case"eth_submitWork":case"eth_submitHashrate":case"db_putString":case"db_getString":case"db_putHex":case"db_getHex":case"shh_post":case"shh_newIdentity":case"shh_hasIdentity":case"shh_newGroup":case"shh_addToGroup":case"shh_newFilter":case"shh_uninstallFilter":case"shh_getFilterChanges":case"shh_getMessages":case"test_neverCache":return"never"}}var createAsyncMiddleware$5=function(ee){return(re,ne,ie,oe)=>{let se;const ae=new Promise(pe=>{se=pe});let fe,ue;ee(re,ne,async()=>{ue=!0,ie(pe=>{fe=pe,se()}),await ae}).then(async()=>{ue?(await ae,fe(null)):oe(null)}).catch(pe=>{fe?fe(pe):oe(pe)})}};const cacheUtils=cacheUtils$1,createAsyncMiddleware$4=createAsyncMiddleware$5,emptyValues=[void 0,null,"<nil>"];var blockCache=createBlockCacheMiddleware$1;function createBlockCacheMiddleware$1(te={}){const{blockTracker:ee}=te;if(!ee)throw new Error("createBlockCacheMiddleware - No BlockTracker specified");const re=new BlockCacheStrategy,ne={perma:re,block:re,fork:re};return createAsyncMiddleware$4(async(ie,oe,se)=>{if(ie.skipCache)return se();const ae=cacheUtils.cacheTypeForPayload(ie),fe=ne[ae];if(!fe||!fe.canCacheRequest(ie))return se();let ue=cacheUtils.blockTagForPayload(ie);ue||(ue="latest");let le;if(ue==="earliest")le="0x00";else if(ue==="latest"){const rr=await ee.getLatestBlock();re.clearBefore(rr),le=rr}else le=ue;const pe=await fe.get(ie,le);pe===void 0?(await se(),await fe.set(ie,le,oe.result)):oe.result=pe})}class BlockCacheStrategy{constructor(){this.cache={}}getBlockCacheForPayload(ee,re){const ne=Number.parseInt(re,16);let ie=this.cache[ne];if(!ie){const oe={};this.cache[ne]=oe,ie=oe}return ie}async get(ee,re){const ne=this.getBlockCacheForPayload(ee,re);if(!ne)return;const ie=cacheUtils.cacheIdentifierForPayload(ee,!0);return ne[ie]}async set(ee,re,ne){if(!this.canCacheResult(ee,ne))return;const oe=this.getBlockCacheForPayload(ee,re),se=cacheUtils.cacheIdentifierForPayload(ee,!0);oe[se]=ne}canCacheRequest(ee){return!(!cacheUtils.canCache(ee)||cacheUtils.blockTagForPayload(ee)==="pending")}canCacheResult(ee,re){if(!emptyValues.includes(re))return!(["eth_getTransactionByHash","eth_getTransactionReceipt"].includes(ee.method)&&(!re||!re.blockHash||re.blockHash==="0x0000000000000000000000000000000000000000000000000000000000000000"))}clearBefore(ee){const re=this,ne=Number.parseInt(ee,16);Object.keys(re.cache).map(Number).filter(ie=>ie<ne).forEach(ie=>delete re.cache[ie])}}const ProviderSubprovider$2=jsonRpcEngineMiddleware,createBlockCacheMiddleware=blockCache;class BlockCacheSubprovider extends ProviderSubprovider$2{constructor(ee){super(({blockTracker:re})=>createBlockCacheMiddleware(Object.assign({blockTracker:re},ee)))}}var cache=BlockCacheSubprovider;const inherits$2=util$9.inherits,Subprovider$2=subprovider;var fixture=FixtureProvider;inherits$2(FixtureProvider,Subprovider$2);function FixtureProvider(te){const ee=this;te=te||{},ee.staticResponses=te}FixtureProvider.prototype.handleRequest=function(te,ee,re){var ie=this.staticResponses[te.method];typeof ie=="function"?ie(te,ee,re):ie!==void 0?setTimeout(()=>re(null,ie)):ee()};var lib$1={},Mutex$2={},tslib={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(te){var ee,re,ne,ie,oe,se,ae,fe,ue,le,pe,rr,cr,ar,mr,pr,yr,vr,Er,Tr,Ir,Or,Hr,Pr;(function(Br){var Nr=typeof commonjsGlobal$1=="object"?commonjsGlobal$1:typeof self=="object"?self:typeof this=="object"?this:{};Br(dr(Nr,dr(te.exports)));function dr(tr,ve){return tr!==Nr&&(typeof Object.create=="function"?Object.defineProperty(tr,"__esModule",{value:!0}):tr.__esModule=!0),function(ce,me){return tr[ce]=ve?ve(ce,me):me}}})(function(Br){var Nr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tr,ve){tr.__proto__=ve}||function(tr,ve){for(var ce in ve)Object.prototype.hasOwnProperty.call(ve,ce)&&(tr[ce]=ve[ce])};ee=function(tr,ve){if(typeof ve!="function"&&ve!==null)throw new TypeError("Class extends value "+String(ve)+" is not a constructor or null");Nr(tr,ve);function ce(){this.constructor=tr}tr.prototype=ve===null?Object.create(ve):(ce.prototype=ve.prototype,new ce)},re=Object.assign||function(tr){for(var ve,ce=1,me=arguments.length;ce<me;ce++){ve=arguments[ce];for(var ir in ve)Object.prototype.hasOwnProperty.call(ve,ir)&&(tr[ir]=ve[ir])}return tr},ne=function(tr,ve){var ce={};for(var me in tr)Object.prototype.hasOwnProperty.call(tr,me)&&ve.indexOf(me)<0&&(ce[me]=tr[me]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ir=0,me=Object.getOwnPropertySymbols(tr);ir<me.length;ir++)ve.indexOf(me[ir])<0&&Object.prototype.propertyIsEnumerable.call(tr,me[ir])&&(ce[me[ir]]=tr[me[ir]]);return ce},ie=function(tr,ve,ce,me){var ir=arguments.length,ur=ir<3?ve:me===null?me=Object.getOwnPropertyDescriptor(ve,ce):me,lr;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ur=Reflect.decorate(tr,ve,ce,me);else for(var er=tr.length-1;er>=0;er--)(lr=tr[er])&&(ur=(ir<3?lr(ur):ir>3?lr(ve,ce,ur):lr(ve,ce))||ur);return ir>3&&ur&&Object.defineProperty(ve,ce,ur),ur},oe=function(tr,ve){return function(ce,me){ve(ce,me,tr)}},se=function(tr,ve){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(tr,ve)},ae=function(tr,ve,ce,me){function ir(ur){return ur instanceof ce?ur:new ce(function(lr){lr(ur)})}return new(ce||(ce=Promise))(function(ur,lr){function er(ye){try{or(me.next(ye))}catch(gr){lr(gr)}}function nr(ye){try{or(me.throw(ye))}catch(gr){lr(gr)}}function or(ye){ye.done?ur(ye.value):ir(ye.value).then(er,nr)}or((me=me.apply(tr,ve||[])).next())})},fe=function(tr,ve){var ce={label:0,sent:function(){if(ur[0]&1)throw ur[1];return ur[1]},trys:[],ops:[]},me,ir,ur,lr;return lr={next:er(0),throw:er(1),return:er(2)},typeof Symbol=="function"&&(lr[Symbol.iterator]=function(){return this}),lr;function er(or){return function(ye){return nr([or,ye])}}function nr(or){if(me)throw new TypeError("Generator is already executing.");for(;ce;)try{if(me=1,ir&&(ur=or[0]&2?ir.return:or[0]?ir.throw||((ur=ir.return)&&ur.call(ir),0):ir.next)&&!(ur=ur.call(ir,or[1])).done)return ur;switch(ir=0,ur&&(or=[or[0]&2,ur.value]),or[0]){case 0:case 1:ur=or;break;case 4:return ce.label++,{value:or[1],done:!1};case 5:ce.label++,ir=or[1],or=[0];continue;case 7:or=ce.ops.pop(),ce.trys.pop();continue;default:if(ur=ce.trys,!(ur=ur.length>0&&ur[ur.length-1])&&(or[0]===6||or[0]===2)){ce=0;continue}if(or[0]===3&&(!ur||or[1]>ur[0]&&or[1]<ur[3])){ce.label=or[1];break}if(or[0]===6&&ce.label<ur[1]){ce.label=ur[1],ur=or;break}if(ur&&ce.label<ur[2]){ce.label=ur[2],ce.ops.push(or);break}ur[2]&&ce.ops.pop(),ce.trys.pop();continue}or=ve.call(tr,ce)}catch(ye){or=[6,ye],ir=0}finally{me=ur=0}if(or[0]&5)throw or[1];return{value:or[0]?or[1]:void 0,done:!0}}},ue=function(tr,ve){for(var ce in tr)ce!=="default"&&!Object.prototype.hasOwnProperty.call(ve,ce)&&Pr(ve,tr,ce)},Pr=Object.create?function(tr,ve,ce,me){me===void 0&&(me=ce),Object.defineProperty(tr,me,{enumerable:!0,get:function(){return ve[ce]}})}:function(tr,ve,ce,me){me===void 0&&(me=ce),tr[me]=ve[ce]},le=function(tr){var ve=typeof Symbol=="function"&&Symbol.iterator,ce=ve&&tr[ve],me=0;if(ce)return ce.call(tr);if(tr&&typeof tr.length=="number")return{next:function(){return tr&&me>=tr.length&&(tr=void 0),{value:tr&&tr[me++],done:!tr}}};throw new TypeError(ve?"Object is not iterable.":"Symbol.iterator is not defined.")},pe=function(tr,ve){var ce=typeof Symbol=="function"&&tr[Symbol.iterator];if(!ce)return tr;var me=ce.call(tr),ir,ur=[],lr;try{for(;(ve===void 0||ve-- >0)&&!(ir=me.next()).done;)ur.push(ir.value)}catch(er){lr={error:er}}finally{try{ir&&!ir.done&&(ce=me.return)&&ce.call(me)}finally{if(lr)throw lr.error}}return ur},rr=function(){for(var tr=[],ve=0;ve<arguments.length;ve++)tr=tr.concat(pe(arguments[ve]));return tr},cr=function(){for(var tr=0,ve=0,ce=arguments.length;ve<ce;ve++)tr+=arguments[ve].length;for(var me=Array(tr),ir=0,ve=0;ve<ce;ve++)for(var ur=arguments[ve],lr=0,er=ur.length;lr<er;lr++,ir++)me[ir]=ur[lr];return me},ar=function(tr,ve,ce){if(ce||arguments.length===2)for(var me=0,ir=ve.length,ur;me<ir;me++)(ur||!(me in ve))&&(ur||(ur=Array.prototype.slice.call(ve,0,me)),ur[me]=ve[me]);return tr.concat(ur||Array.prototype.slice.call(ve))},mr=function(tr){return this instanceof mr?(this.v=tr,this):new mr(tr)},pr=function(tr,ve,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me=ce.apply(tr,ve||[]),ir,ur=[];return ir={},lr("next"),lr("throw"),lr("return"),ir[Symbol.asyncIterator]=function(){return this},ir;function lr(Ar){me[Ar]&&(ir[Ar]=function(br){return new Promise(function(Cr,Lr){ur.push([Ar,br,Cr,Lr])>1||er(Ar,br)})})}function er(Ar,br){try{nr(me[Ar](br))}catch(Cr){gr(ur[0][3],Cr)}}function nr(Ar){Ar.value instanceof mr?Promise.resolve(Ar.value.v).then(or,ye):gr(ur[0][2],Ar)}function or(Ar){er("next",Ar)}function ye(Ar){er("throw",Ar)}function gr(Ar,br){Ar(br),ur.shift(),ur.length&&er(ur[0][0],ur[0][1])}},yr=function(tr){var ve,ce;return ve={},me("next"),me("throw",function(ir){throw ir}),me("return"),ve[Symbol.iterator]=function(){return this},ve;function me(ir,ur){ve[ir]=tr[ir]?function(lr){return(ce=!ce)?{value:mr(tr[ir](lr)),done:ir==="return"}:ur?ur(lr):lr}:ur}},vr=function(tr){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve=tr[Symbol.asyncIterator],ce;return ve?ve.call(tr):(tr=typeof le=="function"?le(tr):tr[Symbol.iterator](),ce={},me("next"),me("throw"),me("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function me(ur){ce[ur]=tr[ur]&&function(lr){return new Promise(function(er,nr){lr=tr[ur](lr),ir(er,nr,lr.done,lr.value)})}}function ir(ur,lr,er,nr){Promise.resolve(nr).then(function(or){ur({value:or,done:er})},lr)}},Er=function(tr,ve){return Object.defineProperty?Object.defineProperty(tr,"raw",{value:ve}):tr.raw=ve,tr};var dr=Object.create?function(tr,ve){Object.defineProperty(tr,"default",{enumerable:!0,value:ve})}:function(tr,ve){tr.default=ve};Tr=function(tr){if(tr&&tr.__esModule)return tr;var ve={};if(tr!=null)for(var ce in tr)ce!=="default"&&Object.prototype.hasOwnProperty.call(tr,ce)&&Pr(ve,tr,ce);return dr(ve,tr),ve},Ir=function(tr){return tr&&tr.__esModule?tr:{default:tr}},Or=function(tr,ve,ce,me){if(ce==="a"&&!me)throw new TypeError("Private accessor was defined without a getter");if(typeof ve=="function"?tr!==ve||!me:!ve.has(tr))throw new TypeError("Cannot read private member from an object whose class did not declare it");return ce==="m"?me:ce==="a"?me.call(tr):me?me.value:ve.get(tr)},Hr=function(tr,ve,ce,me,ir){if(me==="m")throw new TypeError("Private method is not writable");if(me==="a"&&!ir)throw new TypeError("Private accessor was defined without a setter");if(typeof ve=="function"?tr!==ve||!ir:!ve.has(tr))throw new TypeError("Cannot write private member to an object whose class did not declare it");return me==="a"?ir.call(tr,ce):ir?ir.value=ce:ve.set(tr,ce),ce},Br("__extends",ee),Br("__assign",re),Br("__rest",ne),Br("__decorate",ie),Br("__param",oe),Br("__metadata",se),Br("__awaiter",ae),Br("__generator",fe),Br("__exportStar",ue),Br("__createBinding",Pr),Br("__values",le),Br("__read",pe),Br("__spread",rr),Br("__spreadArrays",cr),Br("__spreadArray",ar),Br("__await",mr),Br("__asyncGenerator",pr),Br("__asyncDelegator",yr),Br("__asyncValues",vr),Br("__makeTemplateObject",Er),Br("__importStar",Tr),Br("__importDefault",Ir),Br("__classPrivateFieldGet",Or),Br("__classPrivateFieldSet",Hr)})})(tslib);var Semaphore$2={};Object.defineProperty(Semaphore$2,"__esModule",{value:!0});var tslib_1$2=tslib.exports,Semaphore$1=function(){function te(ee){if(this._maxConcurrency=ee,this._queue=[],ee<=0)throw new Error("semaphore must be initialized to a positive value");this._value=ee}return te.prototype.acquire=function(){var ee=this,re=this.isLocked(),ne=new Promise(function(ie){return ee._queue.push(ie)});return re||this._dispatch(),ne},te.prototype.runExclusive=function(ee){return tslib_1$2.__awaiter(this,void 0,void 0,function(){var re,ne,ie;return tslib_1$2.__generator(this,function(oe){switch(oe.label){case 0:return[4,this.acquire()];case 1:re=oe.sent(),ne=re[0],ie=re[1],oe.label=2;case 2:return oe.trys.push([2,,4,5]),[4,ee(ne)];case 3:return[2,oe.sent()];case 4:return ie(),[7];case 5:return[2]}})})},te.prototype.isLocked=function(){return this._value<=0},te.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var ee=this._currentReleaser;this._currentReleaser=void 0,ee()}},te.prototype._dispatch=function(){var ee=this,re=this._queue.shift();if(!!re){var ne=!1;this._currentReleaser=function(){ne||(ne=!0,ee._value++,ee._dispatch())},re([this._value--,this._currentReleaser])}},te}();Semaphore$2.default=Semaphore$1;Object.defineProperty(Mutex$2,"__esModule",{value:!0});var tslib_1$1=tslib.exports,Semaphore_1=Semaphore$2,Mutex$1=function(){function te(){this._semaphore=new Semaphore_1.default(1)}return te.prototype.acquire=function(){return tslib_1$1.__awaiter(this,void 0,void 0,function(){var ee,re;return tslib_1$1.__generator(this,function(ne){switch(ne.label){case 0:return[4,this._semaphore.acquire()];case 1:return ee=ne.sent(),re=ee[1],[2,re]}})})},te.prototype.runExclusive=function(ee){return this._semaphore.runExclusive(function(){return ee()})},te.prototype.isLocked=function(){return this._semaphore.isLocked()},te.prototype.release=function(){this._semaphore.release()},te}();Mutex$2.default=Mutex$1;var withTimeout$1={};Object.defineProperty(withTimeout$1,"__esModule",{value:!0});withTimeout$1.withTimeout=void 0;var tslib_1=tslib.exports;function withTimeout(te,ee,re){var ne=this;return re===void 0&&(re=new Error("timeout")),{acquire:function(){return new Promise(function(ie,oe){return tslib_1.__awaiter(ne,void 0,void 0,function(){var se,ae,fe;return tslib_1.__generator(this,function(ue){switch(ue.label){case 0:return se=!1,setTimeout(function(){se=!0,oe(re)},ee),[4,te.acquire()];case 1:return ae=ue.sent(),se?(fe=Array.isArray(ae)?ae[1]:ae,fe()):ie(ae),[2]}})})})},runExclusive:function(ie){return tslib_1.__awaiter(this,void 0,void 0,function(){var oe,se;return tslib_1.__generator(this,function(ae){switch(ae.label){case 0:oe=function(){},ae.label=1;case 1:return ae.trys.push([1,,7,8]),[4,this.acquire()];case 2:return se=ae.sent(),Array.isArray(se)?(oe=se[1],[4,ie(se[0])]):[3,4];case 3:return[2,ae.sent()];case 4:return oe=se,[4,ie()];case 5:return[2,ae.sent()];case 6:return[3,8];case 7:return oe(),[7];case 8:return[2]}})})},release:function(){te.release()},isLocked:function(){return te.isLocked()}}}withTimeout$1.withTimeout=withTimeout;(function(te){Object.defineProperty(te,"__esModule",{value:!0}),te.withTimeout=te.Semaphore=te.Mutex=void 0;var ee=Mutex$2;Object.defineProperty(te,"Mutex",{enumerable:!0,get:function(){return ee.default}});var re=Semaphore$2;Object.defineProperty(te,"Semaphore",{enumerable:!0,get:function(){return re.default}});var ne=withTimeout$1;Object.defineProperty(te,"withTimeout",{enumerable:!0,get:function(){return ne.withTimeout}})})(lib$1);var dist$5={},idRemapMiddleware={},getUniqueId$1={};Object.defineProperty(getUniqueId$1,"__esModule",{value:!0});getUniqueId$1.getUniqueId=void 0;const MAX=4294967295;let idCounter=Math.floor(Math.random()*MAX);function getUniqueId(){return idCounter=(idCounter+1)%MAX,idCounter}getUniqueId$1.getUniqueId=getUniqueId;Object.defineProperty(idRemapMiddleware,"__esModule",{value:!0});idRemapMiddleware.createIdRemapMiddleware=void 0;const getUniqueId_1=getUniqueId$1;function createIdRemapMiddleware(){return(te,ee,re,ne)=>{const ie=te.id,oe=getUniqueId_1.getUniqueId();te.id=oe,ee.id=oe,re(se=>{te.id=ie,ee.id=ie,se()})}}idRemapMiddleware.createIdRemapMiddleware=createIdRemapMiddleware;var createAsyncMiddleware$3={};Object.defineProperty(createAsyncMiddleware$3,"__esModule",{value:!0});createAsyncMiddleware$3.createAsyncMiddleware=void 0;function createAsyncMiddleware$2(te){return async(ee,re,ne,ie)=>{let oe;const se=new Promise(le=>{oe=le});let ae=null,fe=!1;const ue=async()=>{fe=!0,ne(le=>{ae=le,oe()}),await se};try{await te(ee,re,ue),fe?(await se,ae(null)):ie(null)}catch(le){ae?ae(le):ie(le)}}}createAsyncMiddleware$3.createAsyncMiddleware=createAsyncMiddleware$2;var createScaffoldMiddleware$3={};Object.defineProperty(createScaffoldMiddleware$3,"__esModule",{value:!0});createScaffoldMiddleware$3.createScaffoldMiddleware=void 0;function createScaffoldMiddleware$2(te){return(ee,re,ne,ie)=>{const oe=te[ee.method];return oe===void 0?ne():typeof oe=="function"?oe(ee,re,ne,ie):(re.result=oe,ie())}}createScaffoldMiddleware$3.createScaffoldMiddleware=createScaffoldMiddleware$2;var JsonRpcEngine$1={},safeEventEmitter={};Object.defineProperty(safeEventEmitter,"__esModule",{value:!0});const events_1=events$1.exports;function safeApply(te,ee,re){try{Reflect.apply(te,ee,re)}catch(ne){setTimeout(()=>{throw ne})}}function arrayClone(te){const ee=te.length,re=new Array(ee);for(let ne=0;ne<ee;ne+=1)re[ne]=te[ne];return re}class SafeEventEmitter$2 extends events_1.EventEmitter{emit(ee,...re){let ne=ee==="error";const ie=this._events;if(ie!==void 0)ne=ne&&ie.error===void 0;else if(!ne)return!1;if(ne){let se;if(re.length>0&&([se]=re),se instanceof Error)throw se;const ae=new Error(`Unhandled error.${se?` (${se.message})`:""}`);throw ae.context=se,ae}const oe=ie[ee];if(oe===void 0)return!1;if(typeof oe=="function")safeApply(oe,this,re);else{const se=oe.length,ae=arrayClone(oe);for(let fe=0;fe<se;fe+=1)safeApply(ae[fe],this,re)}return!0}}safeEventEmitter.default=SafeEventEmitter$2;var dist$4={},classes$1={},fastSafeStringify=stringify$1;stringify$1.default=stringify$1;stringify$1.stable=deterministicStringify;stringify$1.stableStringify=deterministicStringify;var LIMIT_REPLACE_NODE="[...]",CIRCULAR_REPLACE_NODE="[Circular]",arr=[],replacerStack=[];function defaultOptions(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function stringify$1(te,ee,re,ne){typeof ne=="undefined"&&(ne=defaultOptions()),decirc(te,"",0,[],void 0,0,ne);var ie;try{replacerStack.length===0?ie=JSON.stringify(te,ee,re):ie=JSON.stringify(te,replaceGetterValues(ee),re)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;arr.length!==0;){var oe=arr.pop();oe.length===4?Object.defineProperty(oe[0],oe[1],oe[3]):oe[0][oe[1]]=oe[2]}}return ie}function setReplace(te,ee,re,ne){var ie=Object.getOwnPropertyDescriptor(ne,re);ie.get!==void 0?ie.configurable?(Object.defineProperty(ne,re,{value:te}),arr.push([ne,re,ee,ie])):replacerStack.push([ee,re,te]):(ne[re]=te,arr.push([ne,re,ee]))}function decirc(te,ee,re,ne,ie,oe,se){oe+=1;var ae;if(typeof te=="object"&&te!==null){for(ae=0;ae<ne.length;ae++)if(ne[ae]===te){setReplace(CIRCULAR_REPLACE_NODE,te,ee,ie);return}if(typeof se.depthLimit!="undefined"&&oe>se.depthLimit){setReplace(LIMIT_REPLACE_NODE,te,ee,ie);return}if(typeof se.edgesLimit!="undefined"&&re+1>se.edgesLimit){setReplace(LIMIT_REPLACE_NODE,te,ee,ie);return}if(ne.push(te),Array.isArray(te))for(ae=0;ae<te.length;ae++)decirc(te[ae],ae,ae,ne,te,oe,se);else{var fe=Object.keys(te);for(ae=0;ae<fe.length;ae++){var ue=fe[ae];decirc(te[ue],ue,ae,ne,te,oe,se)}}ne.pop()}}function compareFunction(te,ee){return te<ee?-1:te>ee?1:0}function deterministicStringify(te,ee,re,ne){typeof ne=="undefined"&&(ne=defaultOptions());var ie=deterministicDecirc(te,"",0,[],void 0,0,ne)||te,oe;try{replacerStack.length===0?oe=JSON.stringify(ie,ee,re):oe=JSON.stringify(ie,replaceGetterValues(ee),re)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;arr.length!==0;){var se=arr.pop();se.length===4?Object.defineProperty(se[0],se[1],se[3]):se[0][se[1]]=se[2]}}return oe}function deterministicDecirc(te,ee,re,ne,ie,oe,se){oe+=1;var ae;if(typeof te=="object"&&te!==null){for(ae=0;ae<ne.length;ae++)if(ne[ae]===te){setReplace(CIRCULAR_REPLACE_NODE,te,ee,ie);return}try{if(typeof te.toJSON=="function")return}catch{return}if(typeof se.depthLimit!="undefined"&&oe>se.depthLimit){setReplace(LIMIT_REPLACE_NODE,te,ee,ie);return}if(typeof se.edgesLimit!="undefined"&&re+1>se.edgesLimit){setReplace(LIMIT_REPLACE_NODE,te,ee,ie);return}if(ne.push(te),Array.isArray(te))for(ae=0;ae<te.length;ae++)deterministicDecirc(te[ae],ae,ae,ne,te,oe,se);else{var fe={},ue=Object.keys(te).sort(compareFunction);for(ae=0;ae<ue.length;ae++){var le=ue[ae];deterministicDecirc(te[le],le,ae,ne,te,oe,se),fe[le]=te[le]}if(typeof ie!="undefined")arr.push([ie,ee,te]),ie[ee]=fe;else return fe}ne.pop()}}function replaceGetterValues(te){return te=typeof te!="undefined"?te:function(ee,re){return re},function(ee,re){if(replacerStack.length>0)for(var ne=0;ne<replacerStack.length;ne++){var ie=replacerStack[ne];if(ie[1]===ee&&ie[0]===re){re=ie[2],replacerStack.splice(ne,1);break}}return te.call(this,ee,re)}}Object.defineProperty(classes$1,"__esModule",{value:!0});classes$1.EthereumProviderError=classes$1.EthereumRpcError=void 0;const fast_safe_stringify_1$1=fastSafeStringify;class EthereumRpcError$1 extends Error{constructor(ee,re,ne){if(!Number.isInteger(ee))throw new Error('"code" must be an integer.');if(!re||typeof re!="string")throw new Error('"message" must be a nonempty string.');super(re);this.code=ee,ne!==void 0&&(this.data=ne)}serialize(){const ee={code:this.code,message:this.message};return this.data!==void 0&&(ee.data=this.data),this.stack&&(ee.stack=this.stack),ee}toString(){return fast_safe_stringify_1$1.default(this.serialize(),stringifyReplacer$1,2)}}classes$1.EthereumRpcError=EthereumRpcError$1;class EthereumProviderError$1 extends EthereumRpcError$1{constructor(ee,re,ne){if(!isValidEthProviderCode$1(ee))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(ee,re,ne)}}classes$1.EthereumProviderError=EthereumProviderError$1;function isValidEthProviderCode$1(te){return Number.isInteger(te)&&te>=1e3&&te<=4999}function stringifyReplacer$1(te,ee){if(ee!=="[Circular]")return ee}var utils$4={},errorConstants$1={};Object.defineProperty(errorConstants$1,"__esModule",{value:!0});errorConstants$1.errorValues=errorConstants$1.errorCodes=void 0;errorConstants$1.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};errorConstants$1.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},"4001":{standard:"EIP-1193",message:"User rejected the request."},"4100":{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},"4200":{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},"4900":{standard:"EIP-1193",message:"The provider is disconnected from all chains."},"4901":{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(te){Object.defineProperty(te,"__esModule",{value:!0}),te.serializeError=te.isValidCode=te.getMessageFromCode=te.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const ee=errorConstants$1,re=classes$1,ne=ee.errorCodes.rpc.internal,ie="Unspecified error message. This is a bug, please report it.",oe={code:ne,message:se(ne)};te.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function se(rr,cr=ie){if(Number.isInteger(rr)){const ar=rr.toString();if(pe(ee.errorValues,ar))return ee.errorValues[ar].message;if(ue(rr))return te.JSON_RPC_SERVER_ERROR_MESSAGE}return cr}te.getMessageFromCode=se;function ae(rr){if(!Number.isInteger(rr))return!1;const cr=rr.toString();return!!(ee.errorValues[cr]||ue(rr))}te.isValidCode=ae;function fe(rr,{fallbackError:cr=oe,shouldIncludeStack:ar=!1}={}){var mr,pr;if(!cr||!Number.isInteger(cr.code)||typeof cr.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(rr instanceof re.EthereumRpcError)return rr.serialize();const yr={};if(rr&&typeof rr=="object"&&!Array.isArray(rr)&&pe(rr,"code")&&ae(rr.code)){const Er=rr;yr.code=Er.code,Er.message&&typeof Er.message=="string"?(yr.message=Er.message,pe(Er,"data")&&(yr.data=Er.data)):(yr.message=se(yr.code),yr.data={originalError:le(rr)})}else{yr.code=cr.code;const Er=(mr=rr)===null||mr===void 0?void 0:mr.message;yr.message=Er&&typeof Er=="string"?Er:cr.message,yr.data={originalError:le(rr)}}const vr=(pr=rr)===null||pr===void 0?void 0:pr.stack;return ar&&rr&&vr&&typeof vr=="string"&&(yr.stack=vr),yr}te.serializeError=fe;function ue(rr){return rr>=-32099&&rr<=-32e3}function le(rr){return rr&&typeof rr=="object"&&!Array.isArray(rr)?Object.assign({},rr):rr}function pe(rr,cr){return Object.prototype.hasOwnProperty.call(rr,cr)}})(utils$4);var errors$2={};Object.defineProperty(errors$2,"__esModule",{value:!0});errors$2.ethErrors=void 0;const classes_1$1=classes$1,utils_1$1=utils$4,error_constants_1$1=errorConstants$1;errors$2.ethErrors={rpc:{parse:te=>getEthJsonRpcError$1(error_constants_1$1.errorCodes.rpc.parse,te),invalidRequest:te=>getEthJsonRpcError$1(error_constants_1$1.errorCodes.rpc.invalidRequest,te),invalidParams:te=>getEthJsonRpcError$1(error_constants_1$1.errorCodes.rpc.invalidParams,te),methodNotFound:te=>getEthJsonRpcError$1(error_constants_1$1.errorCodes.rpc.methodNotFound,te),internal:te=>getEthJsonRpcError$1(error_constants_1$1.errorCodes.rpc.internal,te),server:te=>{if(!te||typeof te!="object"||Array.isArray(te))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:ee}=te;if(!Number.isInteger(ee)||ee>-32005||ee<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return getEthJsonRpcError$1(ee,te)},invalidInput:te=>getEthJsonRpcError$1(error_constants_1$1.errorCodes.rpc.invalidInput,te),resourceNotFound:te=>getEthJsonRpcError$1(error_constants_1$1.errorCodes.rpc.resourceNotFound,te),resourceUnavailable:te=>getEthJsonRpcError$1(error_constants_1$1.errorCodes.rpc.resourceUnavailable,te),transactionRejected:te=>getEthJsonRpcError$1(error_constants_1$1.errorCodes.rpc.transactionRejected,te),methodNotSupported:te=>getEthJsonRpcError$1(error_constants_1$1.errorCodes.rpc.methodNotSupported,te),limitExceeded:te=>getEthJsonRpcError$1(error_constants_1$1.errorCodes.rpc.limitExceeded,te)},provider:{userRejectedRequest:te=>getEthProviderError$1(error_constants_1$1.errorCodes.provider.userRejectedRequest,te),unauthorized:te=>getEthProviderError$1(error_constants_1$1.errorCodes.provider.unauthorized,te),unsupportedMethod:te=>getEthProviderError$1(error_constants_1$1.errorCodes.provider.unsupportedMethod,te),disconnected:te=>getEthProviderError$1(error_constants_1$1.errorCodes.provider.disconnected,te),chainDisconnected:te=>getEthProviderError$1(error_constants_1$1.errorCodes.provider.chainDisconnected,te),custom:te=>{if(!te||typeof te!="object"||Array.isArray(te))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:ee,message:re,data:ne}=te;if(!re||typeof re!="string")throw new Error('"message" must be a nonempty string');return new classes_1$1.EthereumProviderError(ee,re,ne)}}};function getEthJsonRpcError$1(te,ee){const[re,ne]=parseOpts$1(ee);return new classes_1$1.EthereumRpcError(te,re||utils_1$1.getMessageFromCode(te),ne)}function getEthProviderError$1(te,ee){const[re,ne]=parseOpts$1(ee);return new classes_1$1.EthereumProviderError(te,re||utils_1$1.getMessageFromCode(te),ne)}function parseOpts$1(te){if(te){if(typeof te=="string")return[te];if(typeof te=="object"&&!Array.isArray(te)){const{message:ee,data:re}=te;if(ee&&typeof ee!="string")throw new Error("Must specify string message.");return[ee||void 0,re]}}return[]}(function(te){Object.defineProperty(te,"__esModule",{value:!0}),te.getMessageFromCode=te.serializeError=te.EthereumProviderError=te.EthereumRpcError=te.ethErrors=te.errorCodes=void 0;const ee=classes$1;Object.defineProperty(te,"EthereumRpcError",{enumerable:!0,get:function(){return ee.EthereumRpcError}}),Object.defineProperty(te,"EthereumProviderError",{enumerable:!0,get:function(){return ee.EthereumProviderError}});const re=utils$4;Object.defineProperty(te,"serializeError",{enumerable:!0,get:function(){return re.serializeError}}),Object.defineProperty(te,"getMessageFromCode",{enumerable:!0,get:function(){return re.getMessageFromCode}});const ne=errors$2;Object.defineProperty(te,"ethErrors",{enumerable:!0,get:function(){return ne.ethErrors}});const ie=errorConstants$1;Object.defineProperty(te,"errorCodes",{enumerable:!0,get:function(){return ie.errorCodes}})})(dist$4);var __importDefault$9=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(te){return te&&te.__esModule?te:{default:te}};Object.defineProperty(JsonRpcEngine$1,"__esModule",{value:!0});JsonRpcEngine$1.JsonRpcEngine=void 0;const safe_event_emitter_1$1=__importDefault$9(safeEventEmitter),eth_rpc_errors_1$3=dist$4;class JsonRpcEngine extends safe_event_emitter_1$1.default{constructor(){super();this._middleware=[]}push(ee){this._middleware.push(ee)}handle(ee,re){if(re&&typeof re!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(ee)?re?this._handleBatch(ee,re):this._handleBatch(ee):re?this._handle(ee,re):this._promiseHandle(ee)}asMiddleware(){return async(ee,re,ne,ie)=>{try{const[oe,se,ae]=await JsonRpcEngine._runAllMiddleware(ee,re,this._middleware);return se?(await JsonRpcEngine._runReturnHandlers(ae),ie(oe)):ne(async fe=>{try{await JsonRpcEngine._runReturnHandlers(ae)}catch(ue){return fe(ue)}return fe()})}catch(oe){return ie(oe)}}}async _handleBatch(ee,re){try{const ne=await Promise.all(ee.map(this._promiseHandle.bind(this)));return re?re(null,ne):ne}catch(ne){if(re)return re(ne);throw ne}}_promiseHandle(ee){return new Promise(re=>{this._handle(ee,(ne,ie)=>{re(ie)})})}async _handle(ee,re){if(!ee||Array.isArray(ee)||typeof ee!="object"){const se=new eth_rpc_errors_1$3.EthereumRpcError(eth_rpc_errors_1$3.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof ee}`,{request:ee});return re(se,{id:void 0,jsonrpc:"2.0",error:se})}if(typeof ee.method!="string"){const se=new eth_rpc_errors_1$3.EthereumRpcError(eth_rpc_errors_1$3.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof ee.method}`,{request:ee});return re(se,{id:ee.id,jsonrpc:"2.0",error:se})}const ne=Object.assign({},ee),ie={id:ne.id,jsonrpc:ne.jsonrpc};let oe=null;try{await this._processRequest(ne,ie)}catch(se){oe=se}return oe&&(delete ie.result,ie.error||(ie.error=eth_rpc_errors_1$3.serializeError(oe))),re(oe,ie)}async _processRequest(ee,re){const[ne,ie,oe]=await JsonRpcEngine._runAllMiddleware(ee,re,this._middleware);if(JsonRpcEngine._checkForCompletion(ee,re,ie),await JsonRpcEngine._runReturnHandlers(oe),ne)throw ne}static async _runAllMiddleware(ee,re,ne){const ie=[];let oe=null,se=!1;for(const ae of ne)if([oe,se]=await JsonRpcEngine._runMiddleware(ee,re,ae,ie),se)break;return[oe,se,ie.reverse()]}static _runMiddleware(ee,re,ne,ie){return new Promise(oe=>{const se=fe=>{const ue=fe||re.error;ue&&(re.error=eth_rpc_errors_1$3.serializeError(ue)),oe([ue,!0])},ae=fe=>{re.error?se(re.error):(fe&&(typeof fe!="function"&&se(new eth_rpc_errors_1$3.EthereumRpcError(eth_rpc_errors_1$3.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof fe}" for request:
${jsonify(ee)}`,{request:ee})),ie.push(fe)),oe([null,!1]))};try{ne(ee,re,ae,se)}catch(fe){se(fe)}})}static async _runReturnHandlers(ee){for(const re of ee)await new Promise((ne,ie)=>{re(oe=>oe?ie(oe):ne())})}static _checkForCompletion(ee,re,ne){if(!("result"in re)&&!("error"in re))throw new eth_rpc_errors_1$3.EthereumRpcError(eth_rpc_errors_1$3.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${jsonify(ee)}`,{request:ee});if(!ne)throw new eth_rpc_errors_1$3.EthereumRpcError(eth_rpc_errors_1$3.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${jsonify(ee)}`,{request:ee})}}JsonRpcEngine$1.JsonRpcEngine=JsonRpcEngine;function jsonify(te){return JSON.stringify(te,null,2)}var mergeMiddleware$1={};Object.defineProperty(mergeMiddleware$1,"__esModule",{value:!0});mergeMiddleware$1.mergeMiddleware=void 0;const JsonRpcEngine_1=JsonRpcEngine$1;function mergeMiddleware(te){const ee=new JsonRpcEngine_1.JsonRpcEngine;return te.forEach(re=>ee.push(re)),ee.asMiddleware()}mergeMiddleware$1.mergeMiddleware=mergeMiddleware;(function(te){var ee=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(ne,ie,oe,se){se===void 0&&(se=oe),Object.defineProperty(ne,se,{enumerable:!0,get:function(){return ie[oe]}})}:function(ne,ie,oe,se){se===void 0&&(se=oe),ne[se]=ie[oe]}),re=commonjsGlobal$1&&commonjsGlobal$1.__exportStar||function(ne,ie){for(var oe in ne)oe!=="default"&&!Object.prototype.hasOwnProperty.call(ie,oe)&&ee(ie,ne,oe)};Object.defineProperty(te,"__esModule",{value:!0}),re(idRemapMiddleware,te),re(createAsyncMiddleware$3,te),re(createScaffoldMiddleware$3,te),re(getUniqueId$1,te),re(JsonRpcEngine$1,te),re(mergeMiddleware$1,te)})(dist$5);var createScaffoldMiddleware$1=function(ee){return(re,ne,ie,oe)=>{const se=ee[re.method];return se===void 0?ie():typeof se=="function"?se(re,ne,ie,oe):(ne.result=se,oe())}},scaffold=createScaffoldMiddleware$1;const processFn=(te,ee,re,ne)=>function(...ie){const oe=ee.promiseModule;return new oe((se,ae)=>{ee.multiArgs?ie.push((...ue)=>{ee.errorFirst?ue[0]?ae(ue):(ue.shift(),se(ue)):se(ue)}):ee.errorFirst?ie.push((ue,le)=>{ue?ae(ue):se(le)}):ie.push(se),Reflect.apply(te,this===re?ne:this,ie)})},filterCache=new WeakMap;var pify$1=(te,ee)=>{ee=Ji({exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},ee);const re=typeof te;if(!(te!==null&&(re==="object"||re==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${te===null?"null":re}\``);const ne=(se,ae)=>{let fe=filterCache.get(se);if(fe||(fe={},filterCache.set(se,fe)),ae in fe)return fe[ae];const ue=ar=>typeof ar=="string"||typeof ae=="symbol"?ae===ar:ar.test(ae),le=Reflect.getOwnPropertyDescriptor(se,ae),pe=le===void 0||le.writable||le.configurable,cr=(ee.include?ee.include.some(ue):!ee.exclude.some(ue))&&pe;return fe[ae]=cr,cr},ie=new WeakMap,oe=new Proxy(te,{apply(se,ae,fe){const ue=ie.get(se);if(ue)return Reflect.apply(ue,ae,fe);const le=ee.excludeMain?se:processFn(se,ee,oe,se);return ie.set(se,le),Reflect.apply(le,ae,fe)},get(se,ae){const fe=se[ae];if(!ne(se,ae)||fe===Function.prototype[ae])return fe;const ue=ie.get(fe);if(ue)return ue;if(typeof fe=="function"){const le=processFn(fe,ee,oe,se);return ie.set(fe,le),le}return fe}});return oe};const SafeEventEmitter$1=safeEventEmitter.default;class BaseFilter$3 extends SafeEventEmitter$1{constructor(){super();this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(ee){this.updates=this.updates.concat(ee),ee.forEach(re=>this.emit("update",re))}addInitialResults(ee){}getChangesAndClear(){const ee=this.updates;return this.updates=[],ee}}var baseFilter=BaseFilter$3;const BaseFilter$2=baseFilter;class BaseFilterWithHistory$1 extends BaseFilter$2{constructor(){super();this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(ee){this.allResults=this.allResults.concat(ee),super.addResults(ee)}addInitialResults(ee){this.allResults=this.allResults.concat(ee),super.addInitialResults(ee)}getAllResults(){return this.allResults}}var baseFilterHistory=BaseFilterWithHistory$1,hexUtils={minBlockRef:minBlockRef$1,maxBlockRef,sortBlockRefs,bnToHex:bnToHex$1,blockRefIsNumber:blockRefIsNumber$1,hexToInt:hexToInt$3,incrementHexInt:incrementHexInt$4,intToHex:intToHex$2,unsafeRandomBytes:unsafeRandomBytes$1};function minBlockRef$1(...te){return sortBlockRefs(te)[0]}function maxBlockRef(...te){const ee=sortBlockRefs(te);return ee[ee.length-1]}function sortBlockRefs(te){return te.sort((ee,re)=>ee==="latest"||re==="earliest"?1:re==="latest"||ee==="earliest"?-1:hexToInt$3(ee)-hexToInt$3(re))}function bnToHex$1(te){return"0x"+te.toString(16)}function blockRefIsNumber$1(te){return te&&!["earliest","latest","pending"].includes(te)}function hexToInt$3(te){return te==null?te:Number.parseInt(te,16)}function incrementHexInt$4(te){if(te==null)return te;const ee=hexToInt$3(te);return intToHex$2(ee+1)}function intToHex$2(te){if(te==null)return te;let ee=te.toString(16);return ee.length%2&&(ee="0"+ee),"0x"+ee}function unsafeRandomBytes$1(te){let ee="0x";for(let re=0;re<te;re++)ee+=unsafeRandomNibble(),ee+=unsafeRandomNibble();return ee}function unsafeRandomNibble(){return Math.floor(Math.random()*16).toString(16)}const EthQuery=ethQuery,pify=pify$1,BaseFilterWithHistory=baseFilterHistory,{bnToHex,hexToInt:hexToInt$2,incrementHexInt:incrementHexInt$3,minBlockRef,blockRefIsNumber}=hexUtils;class LogFilter$1 extends BaseFilterWithHistory{constructor({provider:ee,params:re}){super();this.type="log",this.ethQuery=new EthQuery(ee),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},re),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(ne=>ne.toLowerCase()))}async initialize({currentBlock:ee}){let re=this.params.fromBlock;["latest","pending"].includes(re)&&(re=ee),re==="earliest"&&(re="0x0"),this.params.fromBlock=re;const ne=minBlockRef(this.params.toBlock,ee),ie=Object.assign({},this.params,{toBlock:ne}),oe=await this._fetchLogs(ie);this.addInitialResults(oe)}async update({oldBlock:ee,newBlock:re}){const ne=re;let ie;ee?ie=incrementHexInt$3(ee):ie=re;const oe=Object.assign({},this.params,{fromBlock:ie,toBlock:ne}),ae=(await this._fetchLogs(oe)).filter(fe=>this.matchLog(fe));this.addResults(ae)}async _fetchLogs(ee){return await pify(ne=>this.ethQuery.getLogs(ee,ne))()}matchLog(ee){if(hexToInt$2(this.params.fromBlock)>=hexToInt$2(ee.blockNumber)||blockRefIsNumber(this.params.toBlock)&&hexToInt$2(this.params.toBlock)<=hexToInt$2(ee.blockNumber))return!1;const re=ee.address&&ee.address.toLowerCase();return this.params.address&&re&&!this.params.address.includes(re)?!1:this.params.topics.every((ie,oe)=>{let se=ee.topics[oe];if(!se)return!1;se=se.toLowerCase();let ae=Array.isArray(ie)?ie:[ie];return ae.includes(null)?!0:(ae=ae.map(le=>le.toLowerCase()),ae.includes(se))})}}var logFilter=LogFilter$1,getBlocksForRange_1=getBlocksForRange$3;async function getBlocksForRange$3({provider:te,fromBlock:ee,toBlock:re}){ee||(ee=re);const ne=hexToInt$1(ee),oe=hexToInt$1(re)-ne+1,se=Array(oe).fill().map((fe,ue)=>ne+ue).map(intToHex$1);return await Promise.all(se.map(fe=>query(te,"eth_getBlockByNumber",[fe,!1])))}function hexToInt$1(te){return te==null?te:Number.parseInt(te,16)}function intToHex$1(te){if(te==null)return te;const ee=te.toString(16);return"0x"+ee}function query(te,ee,re){return new Promise((ne,ie)=>{te.sendAsync({id:1,jsonrpc:"2.0",method:ee,params:re},(oe,se)=>{if(oe)return ie(oe);ne(se.result)})})}const BaseFilter$1=baseFilter,getBlocksForRange$2=getBlocksForRange_1,{incrementHexInt:incrementHexInt$2}=hexUtils;class BlockFilter$1 extends BaseFilter$1{constructor({provider:ee,params:re}){super();this.type="block",this.provider=ee}async update({oldBlock:ee,newBlock:re}){const ne=re,ie=incrementHexInt$2(ee),se=(await getBlocksForRange$2({provider:this.provider,fromBlock:ie,toBlock:ne})).map(ae=>ae.hash);this.addResults(se)}}var blockFilter=BlockFilter$1;const BaseFilter=baseFilter,getBlocksForRange$1=getBlocksForRange_1,{incrementHexInt:incrementHexInt$1}=hexUtils;class TxFilter$1 extends BaseFilter{constructor({provider:ee}){super();this.type="tx",this.provider=ee}async update({oldBlock:ee}){const re=ee,ne=incrementHexInt$1(ee),ie=await getBlocksForRange$1({provider:this.provider,fromBlock:ne,toBlock:re}),oe=[];for(const se of ie)oe.push(...se.transactions);this.addResults(oe)}}var txFilter=TxFilter$1;const Mutex=lib$1.Mutex,{createAsyncMiddleware:createAsyncMiddleware$1}=dist$5,createJsonRpcMiddleware=scaffold,LogFilter=logFilter,BlockFilter=blockFilter,TxFilter=txFilter,{intToHex,hexToInt}=hexUtils;var ethJsonRpcFilters=createEthFilterMiddleware;function createEthFilterMiddleware({blockTracker:te,provider:ee}){let re=0,ne={};const ie=new Mutex,oe=mutexMiddlewareWrapper({mutex:ie}),se=createJsonRpcMiddleware({eth_newFilter:oe(toFilterCreationMiddleware(fe)),eth_newBlockFilter:oe(toFilterCreationMiddleware(ue)),eth_newPendingTransactionFilter:oe(toFilterCreationMiddleware(le)),eth_uninstallFilter:oe(toAsyncRpcMiddleware(cr)),eth_getFilterChanges:oe(toAsyncRpcMiddleware(pe)),eth_getFilterLogs:oe(toAsyncRpcMiddleware(rr))}),ae=async({oldBlock:vr,newBlock:Er})=>{if(ne.length===0)return;const Tr=await ie.acquire();try{await Promise.all(objValues(ne).map(async Ir=>{try{await Ir.update({oldBlock:vr,newBlock:Er})}catch(Or){console.error(Or)}}))}catch(Ir){console.error(Ir)}Tr()};return se.newLogFilter=fe,se.newBlockFilter=ue,se.newPendingTransactionFilter=le,se.uninstallFilter=cr,se.getFilterChanges=pe,se.getFilterLogs=rr,se.destroy=()=>{pr()},se;async function fe(vr){const Er=new LogFilter({provider:ee,params:vr});return await ar(Er),Er}async function ue(){const vr=new BlockFilter({provider:ee});return await ar(vr),vr}async function le(){const vr=new TxFilter({provider:ee});return await ar(vr),vr}async function pe(vr){const Er=hexToInt(vr),Tr=ne[Er];if(!Tr)throw new Error(`No filter for index "${Er}"`);return Tr.getChangesAndClear()}async function rr(vr){const Er=hexToInt(vr),Tr=ne[Er];if(!Tr)throw new Error(`No filter for index "${Er}"`);return Tr.type==="log"?results=Tr.getAllResults():results=[],results}async function cr(vr){const Er=hexToInt(vr),Tr=ne[Er],Ir=Boolean(Tr);return Ir&&await mr(Er),Ir}async function ar(vr){const Er=objValues(ne).length,Tr=await te.getLatestBlock();await vr.initialize({currentBlock:Tr}),re++,ne[re]=vr,vr.id=re,vr.idHex=intToHex(re);const Ir=objValues(ne).length;return yr({prevFilterCount:Er,newFilterCount:Ir}),re}async function mr(vr){const Er=objValues(ne).length;delete ne[vr];const Tr=objValues(ne).length;yr({prevFilterCount:Er,newFilterCount:Tr})}async function pr(){const vr=objValues(ne).length;ne={},yr({prevFilterCount:vr,newFilterCount:0})}function yr({prevFilterCount:vr,newFilterCount:Er}){if(vr===0&&Er>0){te.on("sync",ae);return}if(vr>0&&Er===0){te.removeListener("sync",ae);return}}}function toFilterCreationMiddleware(te){return toAsyncRpcMiddleware(async(...ee)=>{const re=await te(...ee);return intToHex(re.id)})}function toAsyncRpcMiddleware(te){return createAsyncMiddleware$1(async(ee,re)=>{const ne=await te.apply(null,ee.params);re.result=ne})}function mutexMiddlewareWrapper({mutex:te}){return ee=>async(re,ne,ie,oe)=>{(await te.acquire())(),ee(re,ne,ie,oe)}}function objValues(te,ee){const re=[];for(let ne in te)re.push(te[ne]);return re}const ProviderSubprovider$1=jsonRpcEngineMiddleware,createFilterMiddleware$1=ethJsonRpcFilters;class SubscriptionsSubprovider$2 extends ProviderSubprovider$1{constructor(){super(({blockTracker:ee,provider:re,engine:ne})=>createFilterMiddleware$1({blockTracker:ee,provider:re}))}}var filters=SubscriptionsSubprovider$2,waterfall$1={exports:{}};(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=function(mr,pr){if(pr=(0,ae.default)(pr||oe.default),!(0,ne.default)(mr))return pr(new Error("First argument to waterfall must be an array of functions"));if(!mr.length)return pr();var yr=0;function vr(Tr){var Ir=(0,cr.default)(mr[yr++]);Tr.push((0,pe.default)(Er)),Ir.apply(null,Tr)}function Er(Tr){if(Tr||yr===mr.length)return pr.apply(null,arguments);vr((0,ue.default)(arguments,1))}vr([])};var re=isArray_1,ne=ar(re),ie=noop_1,oe=ar(ie),se=once.exports,ae=ar(se),fe=slice.exports,ue=ar(fe),le=onlyOnce.exports,pe=ar(le),rr=wrapAsync$1,cr=ar(rr);function ar(mr){return mr&&mr.__esModule?mr:{default:mr}}te.exports=ee.default})(waterfall$1,waterfall$1.exports);var parallel$2={exports:{}},parallel$1={exports:{}};(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=pe;var re=noop_1,ne=le(re),ie=isArrayLike_1,oe=le(ie),se=slice.exports,ae=le(se),fe=wrapAsync$1,ue=le(fe);function le(rr){return rr&&rr.__esModule?rr:{default:rr}}function pe(rr,cr,ar){ar=ar||ne.default;var mr=(0,oe.default)(cr)?[]:{};rr(cr,function(pr,yr,vr){(0,ue.default)(pr)(function(Er,Tr){arguments.length>2&&(Tr=(0,ae.default)(arguments,1)),mr[yr]=Tr,vr(Er)})},function(pr){ar(pr,mr)})}te.exports=ee.default})(parallel$1,parallel$1.exports);(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=ae;var re=eachOf.exports,ne=se(re),ie=parallel$1.exports,oe=se(ie);function se(fe){return fe&&fe.__esModule?fe:{default:fe}}function ae(fe,ue){(0,oe.default)(ne.default,fe,ue)}te.exports=ee.default})(parallel$2,parallel$2.exports);var dist$3={},secp256k1v3Adapter={},secp256k1v3Lib={};Object.defineProperty(secp256k1v3Lib,"__esModule",{value:!0});var BN$6=bn$4.exports,EC=elliptic$2.ec,ec=new EC("secp256k1"),ecparams=ec.curve;secp256k1v3Lib.privateKeyExport=function(te,ee){ee===void 0&&(ee=!0);var re=new BN$6(te);if(re.ucmp(ecparams.n)>=0)throw new Error("couldn't export to DER format");var ne=ec.g.mul(re);return toPublicKey(ne.getX(),ne.getY(),ee)};secp256k1v3Lib.privateKeyModInverse=function(te){var ee=new BN$6(te);if(ee.ucmp(ecparams.n)>=0||ee.isZero())throw new Error("private key range is invalid");return ee.invm(ecparams.n).toArrayLike(buffer$2.Buffer,"be",32)};secp256k1v3Lib.signatureImport=function(te){var ee=new BN$6(te.r);ee.ucmp(ecparams.n)>=0&&(ee=new BN$6(0));var re=new BN$6(te.s);return re.ucmp(ecparams.n)>=0&&(re=new BN$6(0)),buffer$2.Buffer.concat([ee.toArrayLike(buffer$2.Buffer,"be",32),re.toArrayLike(buffer$2.Buffer,"be",32)])};secp256k1v3Lib.ecdhUnsafe=function(te,ee,re){re===void 0&&(re=!0);var ne=ec.keyFromPublic(te),ie=new BN$6(ee);if(ie.ucmp(ecparams.n)>=0||ie.isZero())throw new Error("scalar was invalid (zero or overflow)");var oe=ne.pub.mul(ie);return toPublicKey(oe.getX(),oe.getY(),re)};var toPublicKey=function(te,ee,re){var ne;return re?(ne=buffer$2.Buffer.alloc(33),ne[0]=ee.isOdd()?3:2,te.toArrayLike(buffer$2.Buffer,"be",32).copy(ne,1)):(ne=buffer$2.Buffer.alloc(65),ne[0]=4,te.toArrayLike(buffer$2.Buffer,"be",32).copy(ne,1),ee.toArrayLike(buffer$2.Buffer,"be",32).copy(ne,33)),ne},der={};Object.defineProperty(der,"__esModule",{value:!0});var EC_PRIVKEY_EXPORT_DER_COMPRESSED=buffer$2.Buffer.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),EC_PRIVKEY_EXPORT_DER_UNCOMPRESSED=buffer$2.Buffer.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);der.privateKeyExport=function(te,ee,re){re===void 0&&(re=!0);var ne=buffer$2.Buffer.from(re?EC_PRIVKEY_EXPORT_DER_COMPRESSED:EC_PRIVKEY_EXPORT_DER_UNCOMPRESSED);return te.copy(ne,re?8:9),ee.copy(ne,re?181:214),ne};der.privateKeyImport=function(te){var ee=te.length,re=0;if(ee<re+1||te[re]!==48||(re+=1,ee<re+1||!(te[re]&128)))return null;var ne=te[re]&127;if(re+=1,ne<1||ne>2||ee<re+ne)return null;var ie=te[re+ne-1]|(ne>1?te[re+ne-2]<<8:0);return re+=ne,ee<re+ie||ee<re+3||te[re]!==2||te[re+1]!==1||te[re+2]!==1||(re+=3,ee<re+2||te[re]!==4||te[re+1]>32||ee<re+2+te[re+1])?null:te.slice(re+2,re+2+te[re+1])};der.signatureImportLax=function(te){var ee=buffer$2.Buffer.alloc(32,0),re=buffer$2.Buffer.alloc(32,0),ne=te.length,ie=0;if(te[ie++]!==48)return null;var oe=te[ie++];if(oe&128&&(ie+=oe-128,ie>ne)||te[ie++]!==2)return null;var se=te[ie++];if(se&128){if(oe=se-128,ie+oe>ne)return null;for(;oe>0&&te[ie]===0;ie+=1,oe-=1);for(se=0;oe>0;ie+=1,oe-=1)se=(se<<8)+te[ie]}if(se>ne-ie)return null;var ae=ie;if(ie+=se,te[ie++]!==2)return null;var fe=te[ie++];if(fe&128){if(oe=fe-128,ie+oe>ne)return null;for(;oe>0&&te[ie]===0;ie+=1,oe-=1);for(fe=0;oe>0;ie+=1,oe-=1)fe=(fe<<8)+te[ie]}if(fe>ne-ie)return null;var ue=ie;for(ie+=fe;se>0&&te[ae]===0;se-=1,ae+=1);if(se>32)return null;var le=te.slice(ae,ae+se);for(le.copy(ee,32-le.length);fe>0&&te[ue]===0;fe-=1,ue+=1);if(fe>32)return null;var pe=te.slice(ue,ue+fe);return pe.copy(re,32-pe.length),{r:ee,s:re}};(function(te){Object.defineProperty(te,"__esModule",{value:!0}),te.ecdhUnsafe=te.ecdh=te.recover=te.verify=te.sign=te.signatureImportLax=te.signatureImport=te.signatureExport=te.signatureNormalize=te.publicKeyCombine=te.publicKeyTweakMul=te.publicKeyTweakAdd=te.publicKeyVerify=te.publicKeyConvert=te.publicKeyCreate=te.privateKeyTweakMul=te.privateKeyTweakAdd=te.privateKeyModInverse=te.privateKeyNegate=te.privateKeyImport=te.privateKeyExport=te.privateKeyVerify=void 0;var ee=secp256k1$2,re=secp256k1v3Lib,ne=der;te.privateKeyVerify=function(ie){return ie.length!==32?!1:ee.privateKeyVerify(Uint8Array.from(ie))},te.privateKeyExport=function(ie,oe){if(ie.length!==32)throw new RangeError("private key length is invalid");var se=re.privateKeyExport(ie,oe);return ne.privateKeyExport(ie,se,oe)},te.privateKeyImport=function(ie){if(ie=ne.privateKeyImport(ie),ie!==null&&ie.length===32&&te.privateKeyVerify(ie))return ie;throw new Error("couldn't import from DER format")},te.privateKeyNegate=function(ie){return buffer$2.Buffer.from(ee.privateKeyNegate(Uint8Array.from(ie)))},te.privateKeyModInverse=function(ie){if(ie.length!==32)throw new Error("private key length is invalid");return buffer$2.Buffer.from(re.privateKeyModInverse(Uint8Array.from(ie)))},te.privateKeyTweakAdd=function(ie,oe){return buffer$2.Buffer.from(ee.privateKeyTweakAdd(Uint8Array.from(ie),oe))},te.privateKeyTweakMul=function(ie,oe){return buffer$2.Buffer.from(ee.privateKeyTweakMul(Uint8Array.from(ie),Uint8Array.from(oe)))},te.publicKeyCreate=function(ie,oe){return buffer$2.Buffer.from(ee.publicKeyCreate(Uint8Array.from(ie),oe))},te.publicKeyConvert=function(ie,oe){return buffer$2.Buffer.from(ee.publicKeyConvert(Uint8Array.from(ie),oe))},te.publicKeyVerify=function(ie){return ie.length!==33&&ie.length!==65?!1:ee.publicKeyVerify(Uint8Array.from(ie))},te.publicKeyTweakAdd=function(ie,oe,se){return buffer$2.Buffer.from(ee.publicKeyTweakAdd(Uint8Array.from(ie),Uint8Array.from(oe),se))},te.publicKeyTweakMul=function(ie,oe,se){return buffer$2.Buffer.from(ee.publicKeyTweakMul(Uint8Array.from(ie),Uint8Array.from(oe),se))},te.publicKeyCombine=function(ie,oe){var se=[];return ie.forEach(function(ae){se.push(Uint8Array.from(ae))}),buffer$2.Buffer.from(ee.publicKeyCombine(se,oe))},te.signatureNormalize=function(ie){return buffer$2.Buffer.from(ee.signatureNormalize(Uint8Array.from(ie)))},te.signatureExport=function(ie){return buffer$2.Buffer.from(ee.signatureExport(Uint8Array.from(ie)))},te.signatureImport=function(ie){return buffer$2.Buffer.from(ee.signatureImport(Uint8Array.from(ie)))},te.signatureImportLax=function(ie){if(ie.length===0)throw new RangeError("signature length is invalid");var oe=ne.signatureImportLax(ie);if(oe===null)throw new Error("couldn't parse DER signature");return re.signatureImport(oe)},te.sign=function(ie,oe,se){if(se===null)throw new TypeError("options should be an Object");var ae=void 0;if(se){if(ae={},se.data===null)throw new TypeError("options.data should be a Buffer");if(se.data){if(se.data.length!=32)throw new RangeError("options.data length is invalid");ae.data=new Uint8Array(se.data)}if(se.noncefn===null)throw new TypeError("options.noncefn should be a Function");se.noncefn&&(ae.noncefn=function(ue,le,pe,rr,cr){var ar=pe!=null?buffer$2.Buffer.from(pe):null,mr=rr!=null?buffer$2.Buffer.from(rr):null,pr=buffer$2.Buffer.from("");return se.noncefn&&(pr=se.noncefn(buffer$2.Buffer.from(ue),buffer$2.Buffer.from(le),ar,mr,cr)),new Uint8Array(pr)})}var fe=ee.ecdsaSign(Uint8Array.from(ie),Uint8Array.from(oe),ae);return{signature:buffer$2.Buffer.from(fe.signature),recovery:fe.recid}},te.verify=function(ie,oe,se){return ee.ecdsaVerify(Uint8Array.from(oe),Uint8Array.from(ie),se)},te.recover=function(ie,oe,se,ae){return buffer$2.Buffer.from(ee.ecdsaRecover(Uint8Array.from(oe),se,Uint8Array.from(ie),ae))},te.ecdh=function(ie,oe){return buffer$2.Buffer.from(ee.ecdh(Uint8Array.from(ie),Uint8Array.from(oe),{}))},te.ecdhUnsafe=function(ie,oe,se){if(ie.length!==33&&ie.length!==65)throw new RangeError("public key length is invalid");if(oe.length!==32)throw new RangeError("private key length is invalid");return buffer$2.Buffer.from(re.ecdhUnsafe(Uint8Array.from(ie),Uint8Array.from(oe),se))}})(secp256k1v3Adapter);var constants$1={};(function(te){Object.defineProperty(te,"__esModule",{value:!0}),te.KECCAK256_RLP=te.KECCAK256_RLP_S=te.KECCAK256_RLP_ARRAY=te.KECCAK256_RLP_ARRAY_S=te.KECCAK256_NULL=te.KECCAK256_NULL_S=te.TWO_POW256=te.MAX_INTEGER=void 0;var ee=bn$4.exports;te.MAX_INTEGER=new ee("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),te.TWO_POW256=new ee("10000000000000000000000000000000000000000000000000000000000000000",16),te.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",te.KECCAK256_NULL=buffer$2.Buffer.from(te.KECCAK256_NULL_S,"hex"),te.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",te.KECCAK256_RLP_ARRAY=buffer$2.Buffer.from(te.KECCAK256_RLP_ARRAY_S,"hex"),te.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",te.KECCAK256_RLP=buffer$2.Buffer.from(te.KECCAK256_RLP_S,"hex")})(constants$1);var account={},bytes={};(function(te){Object.defineProperty(te,"__esModule",{value:!0}),te.baToJSON=te.addHexPrefix=te.toUnsigned=te.fromSigned=te.bufferToHex=te.bufferToInt=te.toBuffer=te.stripZeros=te.unpad=te.setLengthRight=te.setLength=te.setLengthLeft=te.zeros=void 0;var ee=lib$2,re=bn$4.exports;te.zeros=function(ne){return buffer$2.Buffer.allocUnsafe(ne).fill(0)},te.setLengthLeft=function(ne,ie,oe){oe===void 0&&(oe=!1);var se=te.zeros(ie);return ne=te.toBuffer(ne),oe?ne.length<ie?(ne.copy(se),se):ne.slice(0,ie):ne.length<ie?(ne.copy(se,ie-ne.length),se):ne.slice(-ie)},te.setLength=te.setLengthLeft,te.setLengthRight=function(ne,ie){return te.setLength(ne,ie,!0)},te.unpad=function(ne){ne=ee.stripHexPrefix(ne);for(var ie=ne[0];ne.length>0&&ie.toString()==="0";)ne=ne.slice(1),ie=ne[0];return ne},te.stripZeros=te.unpad,te.toBuffer=function(ne){if(!buffer$2.Buffer.isBuffer(ne))if(Array.isArray(ne))ne=buffer$2.Buffer.from(ne);else if(typeof ne=="string")if(ee.isHexString(ne))ne=buffer$2.Buffer.from(ee.padToEven(ee.stripHexPrefix(ne)),"hex");else throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: "+ne);else if(typeof ne=="number")ne=ee.intToBuffer(ne);else if(ne==null)ne=buffer$2.Buffer.allocUnsafe(0);else if(re.isBN(ne))ne=ne.toArrayLike(buffer$2.Buffer);else if(ne.toArray)ne=buffer$2.Buffer.from(ne.toArray());else throw new Error("invalid type");return ne},te.bufferToInt=function(ne){return new re(te.toBuffer(ne)).toNumber()},te.bufferToHex=function(ne){return ne=te.toBuffer(ne),"0x"+ne.toString("hex")},te.fromSigned=function(ne){return new re(ne).fromTwos(256)},te.toUnsigned=function(ne){return buffer$2.Buffer.from(ne.toTwos(256).toArray())},te.addHexPrefix=function(ne){return typeof ne!="string"||ee.isHexPrefixed(ne)?ne:"0x"+ne},te.baToJSON=function(ne){if(buffer$2.Buffer.isBuffer(ne))return"0x"+ne.toString("hex");if(ne instanceof Array){for(var ie=[],oe=0;oe<ne.length;oe++)ie.push(te.baToJSON(ne[oe]));return ie}}})(bytes);var hash={};(function(te){Object.defineProperty(te,"__esModule",{value:!0}),te.rlphash=te.ripemd160=te.sha256=te.keccak256=te.keccak=void 0;var ee=keccak$3,re=ee.keccak224,ne=ee.keccak384,ie=ee.keccak256,oe=ee.keccak512,se=browser$2,ae=lib$2,fe=dist_browser,ue=bytes;te.keccak=function(le,pe){switch(pe===void 0&&(pe=256),typeof le=="string"&&!ae.isHexString(le)?le=buffer$2.Buffer.from(le,"utf8"):le=ue.toBuffer(le),pe||(pe=256),pe){case 224:return re(le);case 256:return ie(le);case 384:return ne(le);case 512:return oe(le);default:throw new Error("Invald algorithm: keccak"+pe)}},te.keccak256=function(le){return te.keccak(le)},te.sha256=function(le){return le=ue.toBuffer(le),se("sha256").update(le).digest()},te.ripemd160=function(le,pe){le=ue.toBuffer(le);var rr=se("rmd160").update(le).digest();return pe===!0?ue.setLength(rr,32):rr},te.rlphash=function(le){return te.keccak(fe.encode(le))}})(hash);(function(te){Object.defineProperty(te,"__esModule",{value:!0}),te.importPublic=te.privateToPublic=te.privateToAddress=te.publicToAddress=te.pubToAddress=te.isValidPublic=te.isValidPrivate=te.isPrecompiled=te.generateAddress2=te.generateAddress=te.isValidChecksumAddress=te.toChecksumAddress=te.isZeroAddress=te.isValidAddress=te.zeroAddress=void 0;var ee=assert$2.exports,re=lib$2,ne=secp256k1v3Adapter,ie=bn$4.exports,oe=bytes,se=hash;te.zeroAddress=function(){var ae=20,fe=oe.zeros(ae);return oe.bufferToHex(fe)},te.isValidAddress=function(ae){return/^0x[0-9a-fA-F]{40}$/.test(ae)},te.isZeroAddress=function(ae){var fe=te.zeroAddress();return fe===oe.addHexPrefix(ae)},te.toChecksumAddress=function(ae,fe){ae=re.stripHexPrefix(ae).toLowerCase();for(var ue=fe!==void 0?fe.toString()+"0x":"",le=se.keccak(ue+ae).toString("hex"),pe="0x",rr=0;rr<ae.length;rr++)parseInt(le[rr],16)>=8?pe+=ae[rr].toUpperCase():pe+=ae[rr];return pe},te.isValidChecksumAddress=function(ae,fe){return te.isValidAddress(ae)&&te.toChecksumAddress(ae,fe)===ae},te.generateAddress=function(ae,fe){ae=oe.toBuffer(ae);var ue=new ie(fe);return ue.isZero()?se.rlphash([ae,null]).slice(-20):se.rlphash([ae,buffer$2.Buffer.from(ue.toArray())]).slice(-20)},te.generateAddress2=function(ae,fe,ue){var le=oe.toBuffer(ae),pe=oe.toBuffer(fe),rr=oe.toBuffer(ue);ee(le.length===20),ee(pe.length===32);var cr=se.keccak256(buffer$2.Buffer.concat([buffer$2.Buffer.from("ff","hex"),le,pe,se.keccak256(rr)]));return cr.slice(-20)},te.isPrecompiled=function(ae){var fe=oe.unpad(ae);return fe.length===1&&fe[0]>=1&&fe[0]<=8},te.isValidPrivate=function(ae){return ne.privateKeyVerify(ae)},te.isValidPublic=function(ae,fe){return fe===void 0&&(fe=!1),ae.length===64?ne.publicKeyVerify(buffer$2.Buffer.concat([buffer$2.Buffer.from([4]),ae])):fe?ne.publicKeyVerify(ae):!1},te.pubToAddress=function(ae,fe){return fe===void 0&&(fe=!1),ae=oe.toBuffer(ae),fe&&ae.length!==64&&(ae=ne.publicKeyConvert(ae,!1).slice(1)),ee(ae.length===64),se.keccak(ae).slice(-20)},te.publicToAddress=te.pubToAddress,te.privateToAddress=function(ae){return te.publicToAddress(te.privateToPublic(ae))},te.privateToPublic=function(ae){return ae=oe.toBuffer(ae),ne.publicKeyCreate(ae,!1).slice(1)},te.importPublic=function(ae){return ae=oe.toBuffer(ae),ae.length!==64&&(ae=ne.publicKeyConvert(ae,!1).slice(1)),ae}})(account);var signature={};Object.defineProperty(signature,"__esModule",{value:!0});signature.hashPersonalMessage=signature.isValidSignature=signature.fromRpcSig=signature.toRpcSig=signature.ecrecover=signature.ecsign=void 0;var secp256k1=secp256k1v3Adapter,BN$5=bn$4.exports,bytes_1$1=bytes,hash_1=hash;signature.ecsign=function(te,ee,re){var ne=secp256k1.sign(te,ee),ie=ne.recovery,oe={r:ne.signature.slice(0,32),s:ne.signature.slice(32,64),v:re?ie+(re*2+35):ie+27};return oe};signature.ecrecover=function(te,ee,re,ne,ie){var oe=buffer$2.Buffer.concat([bytes_1$1.setLength(re,32),bytes_1$1.setLength(ne,32)],64),se=calculateSigRecovery(ee,ie);if(!isValidSigRecovery(se))throw new Error("Invalid signature v value");var ae=secp256k1.recover(te,oe,se);return secp256k1.publicKeyConvert(ae,!1).slice(1)};signature.toRpcSig=function(te,ee,re,ne){var ie=calculateSigRecovery(te,ne);if(!isValidSigRecovery(ie))throw new Error("Invalid signature v value");return bytes_1$1.bufferToHex(buffer$2.Buffer.concat([bytes_1$1.setLengthLeft(ee,32),bytes_1$1.setLengthLeft(re,32),bytes_1$1.toBuffer(te)]))};signature.fromRpcSig=function(te){var ee=bytes_1$1.toBuffer(te);if(ee.length!==65)throw new Error("Invalid signature length");var re=ee[64];return re<27&&(re+=27),{v:re,r:ee.slice(0,32),s:ee.slice(32,64)}};signature.isValidSignature=function(te,ee,re,ne,ie){ne===void 0&&(ne=!0);var oe=new BN$5("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),se=new BN$5("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(ee.length!==32||re.length!==32||!isValidSigRecovery(calculateSigRecovery(te,ie)))return!1;var ae=new BN$5(ee),fe=new BN$5(re);return!(ae.isZero()||ae.gt(se)||fe.isZero()||fe.gt(se)||ne&&fe.cmp(oe)===1)};signature.hashPersonalMessage=function(te){var ee=buffer$2.Buffer.from(`Ethereum Signed Message:
`+te.length.toString(),"utf-8");return hash_1.keccak(buffer$2.Buffer.concat([ee,te]))};function calculateSigRecovery(te,ee){return ee?te-(2*ee+35):te-27}function isValidSigRecovery(te){return te===0||te===1}var object={};Object.defineProperty(object,"__esModule",{value:!0});object.defineProperties=void 0;var assert=assert$2.exports,ethjsUtil=lib$2,rlp=dist_browser,bytes_1=bytes;object.defineProperties=function(te,ee,re){if(te.raw=[],te._fields=[],te.toJSON=function(ie){if(ie===void 0&&(ie=!1),ie){var oe={};return te._fields.forEach(function(se){oe[se]="0x"+te[se].toString("hex")}),oe}return bytes_1.baToJSON(te.raw)},te.serialize=function(){return rlp.encode(te.raw)},ee.forEach(function(ie,oe){te._fields.push(ie.name);function se(){return te.raw[oe]}function ae(fe){fe=bytes_1.toBuffer(fe),fe.toString("hex")==="00"&&!ie.allowZero&&(fe=buffer$2.Buffer.allocUnsafe(0)),ie.allowLess&&ie.length?(fe=bytes_1.stripZeros(fe),assert(ie.length>=fe.length,"The field "+ie.name+" must not have more "+ie.length+" bytes")):!(ie.allowZero&&fe.length===0)&&ie.length&&assert(ie.length===fe.length,"The field "+ie.name+" must have byte length of "+ie.length),te.raw[oe]=fe}Object.defineProperty(te,ie.name,{enumerable:!0,configurable:!0,get:se,set:ae}),ie.default&&(te[ie.name]=ie.default),ie.alias&&Object.defineProperty(te,ie.alias,{enumerable:!1,configurable:!0,set:ae,get:se})}),re)if(typeof re=="string"&&(re=buffer$2.Buffer.from(ethjsUtil.stripHexPrefix(re),"hex")),buffer$2.Buffer.isBuffer(re)&&(re=rlp.decode(re)),Array.isArray(re)){if(re.length>te._fields.length)throw new Error("wrong number of fields in data");re.forEach(function(ie,oe){te[te._fields[oe]]=bytes_1.toBuffer(ie)})}else if(typeof re=="object"){var ne=Object.keys(re);ee.forEach(function(ie){ne.indexOf(ie.name)!==-1&&(te[ie.name]=re[ie.name]),ne.indexOf(ie.alias)!==-1&&(te[ie.alias]=re[ie.alias])})}else throw new Error("invalid data")};(function(te){var ee=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(ae,fe,ue,le){le===void 0&&(le=ue),Object.defineProperty(ae,le,{enumerable:!0,get:function(){return fe[ue]}})}:function(ae,fe,ue,le){le===void 0&&(le=ue),ae[le]=fe[ue]}),re=commonjsGlobal$1&&commonjsGlobal$1.__exportStar||function(ae,fe){for(var ue in ae)ue!=="default"&&!fe.hasOwnProperty(ue)&&ee(fe,ae,ue)};Object.defineProperty(te,"__esModule",{value:!0}),te.secp256k1=te.rlp=te.BN=void 0;var ne=secp256k1v3Adapter;te.secp256k1=ne;var ie=lib$2,oe=bn$4.exports;te.BN=oe;var se=dist_browser;te.rlp=se,Object.assign(te,ie),re(constants$1,te),re(account,te),re(hash,te),re(signature,te),re(bytes,te),re(object,te)})(dist$3);const utils$3=dist$3,BN$4=bn$4.exports;var ABI=function(){};function elementaryName$1(te){return te.startsWith("int[")?"int256"+te.slice(3):te==="int"?"int256":te.startsWith("uint[")?"uint256"+te.slice(4):te==="uint"?"uint256":te.startsWith("fixed[")?"fixed128x128"+te.slice(5):te==="fixed"?"fixed128x128":te.startsWith("ufixed[")?"ufixed128x128"+te.slice(6):te==="ufixed"?"ufixed128x128":te}ABI.eventID=function(te,ee){var re=te+"("+ee.map(elementaryName$1).join(",")+")";return utils$3.keccak256(buffer$2.Buffer.from(re))};ABI.methodID=function(te,ee){return ABI.eventID(te,ee).slice(0,4)};function parseTypeN$1(te){return parseInt(/^\D+(\d+)$/.exec(te)[1],10)}function parseTypeNxM$1(te){var ee=/^\D+(\d+)x(\d+)$/.exec(te);return[parseInt(ee[1],10),parseInt(ee[2],10)]}function parseTypeArray$1(te){var ee=te.match(/(.*)\[(.*?)\]$/);return ee?ee[2]===""?"dynamic":parseInt(ee[2],10):null}function parseNumber$1(te){var ee=typeof te;if(ee==="string")return utils$3.isHexPrefixed(te)?new BN$4(utils$3.stripHexPrefix(te),16):new BN$4(te,10);if(ee==="number")return new BN$4(te);if(te.toArray)return te;throw new Error("Argument is not a number")}function parseSignature(te){var ee=/^(\w+)\((.*)\)$/.exec(te);if(ee.length!==3)throw new Error("Invalid method signature");var re=/^(.+)\):\((.+)$/.exec(ee[2]);if(re!==null&&re.length===3)return{method:ee[1],args:re[1].split(","),retargs:re[2].split(",")};var ne=ee[2].split(",");return ne.length===1&&ne[0]===""&&(ne=[]),{method:ee[1],args:ne}}function encodeSingle$1(te,ee){var re,ne,ie,oe;if(te==="address")return encodeSingle$1("uint160",parseNumber$1(ee));if(te==="bool")return encodeSingle$1("uint8",ee?1:0);if(te==="string")return encodeSingle$1("bytes",buffer$2.Buffer.from(ee,"utf8"));if(isArray$4(te)){if(typeof ee.length=="undefined")throw new Error("Not an array?");if(re=parseTypeArray$1(te),re!=="dynamic"&&re!==0&&ee.length>re)throw new Error("Elements exceed array size: "+re);ie=[],te=te.slice(0,te.lastIndexOf("[")),typeof ee=="string"&&(ee=JSON.parse(ee));for(oe in ee)ie.push(encodeSingle$1(te,ee[oe]));if(re==="dynamic"){var se=encodeSingle$1("uint256",ee.length);ie.unshift(se)}return buffer$2.Buffer.concat(ie)}else{if(te==="bytes")return ee=buffer$2.Buffer.from(ee),ie=buffer$2.Buffer.concat([encodeSingle$1("uint256",ee.length),ee]),ee.length%32!==0&&(ie=buffer$2.Buffer.concat([ie,utils$3.zeros(32-ee.length%32)])),ie;if(te.startsWith("bytes")){if(re=parseTypeN$1(te),re<1||re>32)throw new Error("Invalid bytes<N> width: "+re);return utils$3.setLengthRight(ee,32)}else if(te.startsWith("uint")){if(re=parseTypeN$1(te),re%8||re<8||re>256)throw new Error("Invalid uint<N> width: "+re);if(ne=parseNumber$1(ee),ne.bitLength()>re)throw new Error("Supplied uint exceeds width: "+re+" vs "+ne.bitLength());if(ne<0)throw new Error("Supplied uint is negative");return ne.toArrayLike(buffer$2.Buffer,"be",32)}else if(te.startsWith("int")){if(re=parseTypeN$1(te),re%8||re<8||re>256)throw new Error("Invalid int<N> width: "+re);if(ne=parseNumber$1(ee),ne.bitLength()>re)throw new Error("Supplied int exceeds width: "+re+" vs "+ne.bitLength());return ne.toTwos(256).toArrayLike(buffer$2.Buffer,"be",32)}else if(te.startsWith("ufixed")){if(re=parseTypeNxM$1(te),ne=parseNumber$1(ee),ne<0)throw new Error("Supplied ufixed is negative");return encodeSingle$1("uint256",ne.mul(new BN$4(2).pow(new BN$4(re[1]))))}else if(te.startsWith("fixed"))return re=parseTypeNxM$1(te),encodeSingle$1("int256",parseNumber$1(ee).mul(new BN$4(2).pow(new BN$4(re[1]))))}throw new Error("Unsupported or invalid type: "+te)}function decodeSingle(te,ee,re){typeof te=="string"&&(te=parseType(te));var ne,ie,oe,se;if(te.name==="address")return decodeSingle(te.rawType,ee,re).toArrayLike(buffer$2.Buffer,"be",20).toString("hex");if(te.name==="bool")return decodeSingle(te.rawType,ee,re).toString()===new BN$4(1).toString();if(te.name==="string"){var ae=decodeSingle(te.rawType,ee,re);return buffer$2.Buffer.from(ae,"utf8").toString()}else if(te.isArray){for(oe=[],ne=te.size,te.size==="dynamic"&&(re=decodeSingle("uint256",ee,re).toNumber(),ne=decodeSingle("uint256",ee,re).toNumber(),re=re+32),se=0;se<ne;se++){var fe=decodeSingle(te.subArray,ee,re);oe.push(fe),re+=te.subArray.memoryUsage}return oe}else{if(te.name==="bytes")return re=decodeSingle("uint256",ee,re).toNumber(),ne=decodeSingle("uint256",ee,re).toNumber(),ee.slice(re+32,re+32+ne);if(te.name.startsWith("bytes"))return ee.slice(re,re+te.size);if(te.name.startsWith("uint")){if(ie=new BN$4(ee.slice(re,re+32),16,"be"),ie.bitLength()>te.size)throw new Error("Decoded int exceeds width: "+te.size+" vs "+ie.bitLength());return ie}else if(te.name.startsWith("int")){if(ie=new BN$4(ee.slice(re,re+32),16,"be").fromTwos(256),ie.bitLength()>te.size)throw new Error("Decoded uint exceeds width: "+te.size+" vs "+ie.bitLength());return ie}else if(te.name.startsWith("ufixed")){if(ne=new BN$4(2).pow(new BN$4(te.size[1])),ie=decodeSingle("uint256",ee,re),!ie.mod(ne).isZero())throw new Error("Decimals not supported yet");return ie.div(ne)}else if(te.name.startsWith("fixed")){if(ne=new BN$4(2).pow(new BN$4(te.size[1])),ie=decodeSingle("int256",ee,re),!ie.mod(ne).isZero())throw new Error("Decimals not supported yet");return ie.div(ne)}}throw new Error("Unsupported or invalid type: "+te.name)}function parseType(te){var ee,re;if(isArray$4(te)){ee=parseTypeArray$1(te);var ne=te.slice(0,te.lastIndexOf("["));return ne=parseType(ne),re={isArray:!0,name:te,size:ee,memoryUsage:ee==="dynamic"?32:ne.memoryUsage*ee,subArray:ne},re}else{var ie;switch(te){case"address":ie="uint160";break;case"bool":ie="uint8";break;case"string":ie="bytes";break}if(re={rawType:ie,name:te,memoryUsage:32},te.startsWith("bytes")&&te!=="bytes"||te.startsWith("uint")||te.startsWith("int")?re.size=parseTypeN$1(te):(te.startsWith("ufixed")||te.startsWith("fixed"))&&(re.size=parseTypeNxM$1(te)),te.startsWith("bytes")&&te!=="bytes"&&(re.size<1||re.size>32))throw new Error("Invalid bytes<N> width: "+re.size);if((te.startsWith("uint")||te.startsWith("int"))&&(re.size%8||re.size<8||re.size>256))throw new Error("Invalid int/uint<N> width: "+re.size);return re}}function isDynamic$1(te){return te==="string"||te==="bytes"||parseTypeArray$1(te)==="dynamic"}function isArray$4(te){return te.lastIndexOf("]")===te.length-1}ABI.rawEncode=function(te,ee){var re=[],ne=[],ie=0;te.forEach(function(ue){if(isArray$4(ue)){var le=parseTypeArray$1(ue);le!=="dynamic"?ie+=32*le:ie+=32}else ie+=32});for(var oe=0;oe<te.length;oe++){var se=elementaryName$1(te[oe]),ae=ee[oe],fe=encodeSingle$1(se,ae);isDynamic$1(se)?(re.push(encodeSingle$1("uint256",ie)),ne.push(fe),ie+=fe.length):re.push(fe)}return buffer$2.Buffer.concat(re.concat(ne))};ABI.rawDecode=function(te,ee){var re=[];ee=buffer$2.Buffer.from(ee);for(var ne=0,ie=0;ie<te.length;ie++){var oe=elementaryName$1(te[ie]),se=parseType(oe),ae=decodeSingle(se,ee,ne);ne+=se.memoryUsage,re.push(ae)}return re};ABI.simpleEncode=function(te){var ee=Array.prototype.slice.call(arguments).slice(1),re=parseSignature(te);if(ee.length!==re.args.length)throw new Error("Argument count mismatch");return buffer$2.Buffer.concat([ABI.methodID(re.method,re.args),ABI.rawEncode(re.args,ee)])};ABI.simpleDecode=function(te,ee){var re=parseSignature(te);if(!re.retargs)throw new Error("No return values in method");return ABI.rawDecode(re.retargs,ee)};function stringify(te,ee){return te.startsWith("address")||te.startsWith("bytes")?"0x"+ee.toString("hex"):ee.toString()}ABI.stringify=function(te,ee){var re=[];for(var ne in te){var ie=te[ne],oe=ee[ne];/^[^\[]+\[.*\]$/.test(ie)?oe=oe.map(function(se){return stringify(ie,se)}).join(", "):oe=stringify(ie,oe),re.push(oe)}return re};ABI.solidityHexValue=function(te,ee,re){var ne,ie;if(isArray$4(te)){var oe=te.replace(/\[.*?\]/,"");if(!isArray$4(oe)){var se=parseTypeArray$1(te);if(se!=="dynamic"&&se!==0&&ee.length>se)throw new Error("Elements exceed array size: "+se)}var ae=ee.map(function(le){return ABI.solidityHexValue(oe,le,256)});return buffer$2.Buffer.concat(ae)}else{if(te==="bytes")return ee;if(te==="string")return buffer$2.Buffer.from(ee,"utf8");if(te==="bool"){re=re||8;var fe=Array(re/4).join("0");return buffer$2.Buffer.from(ee?fe+"1":fe+"0","hex")}else if(te==="address"){var ue=20;return re&&(ue=re/8),utils$3.setLengthLeft(ee,ue)}else if(te.startsWith("bytes")){if(ne=parseTypeN$1(te),ne<1||ne>32)throw new Error("Invalid bytes<N> width: "+ne);return utils$3.setLengthRight(ee,ne)}else if(te.startsWith("uint")){if(ne=parseTypeN$1(te),ne%8||ne<8||ne>256)throw new Error("Invalid uint<N> width: "+ne);if(ie=parseNumber$1(ee),ie.bitLength()>ne)throw new Error("Supplied uint exceeds width: "+ne+" vs "+ie.bitLength());return re=re||ne,ie.toArrayLike(buffer$2.Buffer,"be",re/8)}else if(te.startsWith("int")){if(ne=parseTypeN$1(te),ne%8||ne<8||ne>256)throw new Error("Invalid int<N> width: "+ne);if(ie=parseNumber$1(ee),ie.bitLength()>ne)throw new Error("Supplied int exceeds width: "+ne+" vs "+ie.bitLength());return re=re||ne,ie.toTwos(ne).toArrayLike(buffer$2.Buffer,"be",re/8)}else throw new Error("Unsupported or invalid type: "+te)}};ABI.solidityPack=function(te,ee){if(te.length!==ee.length)throw new Error("Number of types are not matching the values");for(var re=[],ne=0;ne<te.length;ne++){var ie=elementaryName$1(te[ne]),oe=ee[ne];re.push(ABI.solidityHexValue(ie,oe,null))}return buffer$2.Buffer.concat(re)};ABI.soliditySHA3=function(te,ee){return utils$3.keccak256(ABI.solidityPack(te,ee))};ABI.soliditySHA256=function(te,ee){return utils$3.sha256(ABI.solidityPack(te,ee))};ABI.solidityRIPEMD160=function(te,ee){return utils$3.ripemd160(ABI.solidityPack(te,ee),!0)};function isNumeric$1(te){return te>="0"&&te<="9"}ABI.fromSerpent=function(te){for(var ee=[],re=0;re<te.length;re++){var ne=te[re];if(ne==="s")ee.push("bytes");else if(ne==="b"){for(var ie="bytes",oe=re+1;oe<te.length&&isNumeric$1(te[oe]);)ie+=te[oe]-"0",oe++;re=oe-1,ee.push(ie)}else if(ne==="i")ee.push("int256");else if(ne==="a")ee.push("int256[]");else throw new Error("Unsupported or invalid type: "+ne)}return ee};ABI.toSerpent=function(te){for(var ee=[],re=0;re<te.length;re++){var ne=te[re];if(ne==="bytes")ee.push("s");else if(ne.startsWith("bytes"))ee.push("b"+parseTypeN$1(ne));else if(ne==="int256")ee.push("i");else if(ne==="int256[]")ee.push("a");else throw new Error("Unsupported or invalid type: "+ne)}return ee.join("")};var lib=ABI,ethereumjsAbi=lib;const ethUtil$3=dist$6,ethAbi=ethereumjsAbi;var ethSigUtil={concatSig:function(te,ee,re){const ne=ethUtil$3.fromSigned(ee),ie=ethUtil$3.fromSigned(re),oe=ethUtil$3.bufferToInt(te),se=padWithZeroes(ethUtil$3.toUnsigned(ne).toString("hex"),64),ae=padWithZeroes(ethUtil$3.toUnsigned(ie).toString("hex"),64),fe=ethUtil$3.stripHexPrefix(ethUtil$3.intToHex(oe));return ethUtil$3.addHexPrefix(se.concat(ae,fe)).toString("hex")},normalize:function(te){if(!!te){if(typeof te=="number"){const re=ethUtil$3.toBuffer(te);te=ethUtil$3.bufferToHex(re)}if(typeof te!="string"){var ee="eth-sig-util.normalize() requires hex string or integer input.";throw ee+=" received "+typeof te+": "+te,new Error(ee)}return ethUtil$3.addHexPrefix(te.toLowerCase())}},personalSign:function(te,ee){var re=ethUtil$3.toBuffer(ee.data),ne=ethUtil$3.hashPersonalMessage(re),ie=ethUtil$3.ecsign(ne,te),oe=ethUtil$3.bufferToHex(this.concatSig(ie.v,ie.r,ie.s));return oe},recoverPersonalSignature:function(te){const ee=getPublicKeyFor(te),re=ethUtil$3.publicToAddress(ee);return ethUtil$3.bufferToHex(re)},extractPublicKey:function(te){const ee=getPublicKeyFor(te);return"0x"+ee.toString("hex")},typedSignatureHash:function(te){const ee=typedSignatureHash(te);return ethUtil$3.bufferToHex(ee)},signTypedData:function(te,ee){const re=typedSignatureHash(ee.data),ne=ethUtil$3.ecsign(re,te);return ethUtil$3.bufferToHex(this.concatSig(ne.v,ne.r,ne.s))},recoverTypedSignature:function(te){const ee=typedSignatureHash(te.data),re=recoverPublicKey(ee,te.sig),ne=ethUtil$3.publicToAddress(re);return ethUtil$3.bufferToHex(ne)}};function typedSignatureHash(te){const ee=new Error("Expect argument to be non-empty array");if(typeof te!="object"||!te.length)throw ee;const re=te.map(function(oe){return oe.type==="bytes"?ethUtil$3.toBuffer(oe.value):oe.value}),ne=te.map(function(oe){return oe.type}),ie=te.map(function(oe){if(!oe.name)throw ee;return oe.type+" "+oe.name});return ethAbi.soliditySHA3(["bytes32","bytes32"],[ethAbi.soliditySHA3(new Array(te.length).fill("string"),ie),ethAbi.soliditySHA3(ne,re)])}function recoverPublicKey(te,ee){const re=ethUtil$3.toBuffer(ee),ne=ethUtil$3.fromRpcSig(re);return ethUtil$3.ecrecover(te,ne.v,ne.r,ne.s)}function getPublicKeyFor(te){const ee=ethUtil$3.toBuffer(te.data),re=ethUtil$3.hashPersonalMessage(ee);return recoverPublicKey(re,te.sig)}function padWithZeroes(te,ee){for(var re=""+te;re.length<ee;)re="0"+re;return re}var semaphore={exports:{}};(function(te,ee){(function(re){var ne=function(oe){setTimeout(oe,0)};typeof process!="undefined"&&process&&typeof process.nextTick=="function"&&(ne=process.nextTick);function ie(oe){var se={capacity:oe||1,current:0,queue:[],firstHere:!1,take:function(){if(se.firstHere===!1){se.current++,se.firstHere=!0;var ae=1}else var ae=0;var fe={n:1};typeof arguments[0]=="function"?fe.task=arguments[0]:fe.n=arguments[0],arguments.length>=2&&(typeof arguments[1]=="function"?fe.task=arguments[1]:fe.n=arguments[1]);var ue=fe.task;if(fe.task=function(){ue(se.leave)},se.current+fe.n-ae>se.capacity)return ae===1&&(se.current--,se.firstHere=!1),se.queue.push(fe);se.current+=fe.n-ae,fe.task(se.leave),ae===1&&(se.firstHere=!1)},leave:function(ae){if(ae=ae||1,se.current-=ae,!se.queue.length){if(se.current<0)throw new Error("leave called too many times.");return}var fe=se.queue[0];fe.n+se.current>se.capacity||(se.queue.shift(),se.current+=fe.n,ne(fe.task))},available:function(ae){return ae=ae||1,se.current+ae<=se.capacity}};return se}te.exports=ie})()})(semaphore);const createPayload=createPayload_1;var estimateGas_1=estimateGas$1;function estimateGas$1(te,ee,re){te.sendAsync(createPayload({method:"eth_estimateGas",params:[ee]}),function(ne,ie){if(ne)return ne.message==="no contract code at given address"?re(null,"0xcf08"):re(ne);re(null,ie.result)})}const waterfall=waterfall$1.exports,parallel=parallel$2.exports,inherits$1=util$9.inherits,ethUtil$2=dist$6,sigUtil=ethSigUtil,extend=immutable,Semaphore=semaphore.exports,Subprovider$1=subprovider,estimateGas=estimateGas_1,hexRegex=/^[0-9A-Fa-f]+$/g;var hookedWallet=HookedWalletSubprovider$1;inherits$1(HookedWalletSubprovider$1,Subprovider$1);function HookedWalletSubprovider$1(te){const ee=this;ee.nonceLock=Semaphore(1),te.getAccounts&&(ee.getAccounts=te.getAccounts),te.processTransaction&&(ee.processTransaction=te.processTransaction),te.processMessage&&(ee.processMessage=te.processMessage),te.processPersonalMessage&&(ee.processPersonalMessage=te.processPersonalMessage),te.processTypedMessage&&(ee.processTypedMessage=te.processTypedMessage),ee.approveTransaction=te.approveTransaction||ee.autoApprove,ee.approveMessage=te.approveMessage||ee.autoApprove,ee.approvePersonalMessage=te.approvePersonalMessage||ee.autoApprove,ee.approveDecryptMessage=te.approveDecryptMessage||ee.autoApprove,ee.approveEncryptionPublicKey=te.approveEncryptionPublicKey||ee.autoApprove,ee.approveTypedMessage=te.approveTypedMessage||ee.autoApprove,te.signTransaction&&(ee.signTransaction=te.signTransaction||mustProvideInConstructor("signTransaction")),te.signMessage&&(ee.signMessage=te.signMessage||mustProvideInConstructor("signMessage")),te.signPersonalMessage&&(ee.signPersonalMessage=te.signPersonalMessage||mustProvideInConstructor("signPersonalMessage")),te.decryptMessage&&(ee.decryptMessage=te.decryptMessage||mustProvideInConstructor("decryptMessage")),te.encryptionPublicKey&&(ee.encryptionPublicKey=te.encryptionPublicKey||mustProvideInConstructor("encryptionPublicKey")),te.signTypedMessage&&(ee.signTypedMessage=te.signTypedMessage||mustProvideInConstructor("signTypedMessage")),te.recoverPersonalSignature&&(ee.recoverPersonalSignature=te.recoverPersonalSignature),te.publishTransaction&&(ee.publishTransaction=te.publishTransaction),ee.estimateGas=te.estimateGas||ee.estimateGas,ee.getGasPrice=te.getGasPrice||ee.getGasPrice}HookedWalletSubprovider$1.prototype.handleRequest=function(te,ee,re){const ne=this;ne._parityRequests={},ne._parityRequestCount=0;let ie,oe,se,ae,fe;switch(te.method){case"eth_coinbase":ne.getAccounts(function(ue,le){if(ue)return re(ue);let pe=le[0]||null;re(null,pe)});return;case"eth_accounts":ne.getAccounts(function(ue,le){if(ue)return re(ue);re(null,le)});return;case"eth_sendTransaction":ie=te.params[0],waterfall([ue=>ne.validateTransaction(ie,ue),ue=>ne.processTransaction(ie,ue)],re);return;case"eth_signTransaction":ie=te.params[0],waterfall([ue=>ne.validateTransaction(ie,ue),ue=>ne.processSignTransaction(ie,ue)],re);return;case"eth_sign":fe=te.params[0],ae=te.params[1],se=te.params[2]||{},oe=extend(se,{from:fe,data:ae}),waterfall([ue=>ne.validateMessage(oe,ue),ue=>ne.processMessage(oe,ue)],re);return;case"personal_sign":return function(){const ue=te.params[0],le=te.params[1];if(resemblesData(le)&&resemblesAddress(ue)){let pe="The eth_personalSign method requires params ordered ";pe+="[message, address]. This was previously handled incorrectly, ",pe+="and has been corrected automatically. ",pe+="Please switch this param order for smooth behavior in the future.",console.warn(pe),fe=te.params[0],ae=te.params[1]}else ae=te.params[0],fe=te.params[1];se=te.params[2]||{},oe=extend(se,{from:fe,data:ae}),waterfall([pe=>ne.validatePersonalMessage(oe,pe),pe=>ne.processPersonalMessage(oe,pe)],re)}();case"eth_decryptMessage":return function(){const ue=te.params[0],le=te.params[1];if(resemblesData(le)&&resemblesAddress(ue)){let pe="The eth_decryptMessage method requires params ordered ";pe+="[message, address]. This was previously handled incorrectly, ",pe+="and has been corrected automatically. ",pe+="Please switch this param order for smooth behavior in the future.",console.warn(pe),fe=te.params[0],ae=te.params[1]}else ae=te.params[0],fe=te.params[1];se=te.params[2]||{},oe=extend(se,{from:fe,data:ae}),waterfall([pe=>ne.validateDecryptMessage(oe,pe),pe=>ne.processDecryptMessage(oe,pe)],re)}();case"encryption_public_key":return function(){const ue=te.params[0];waterfall([le=>ne.validateEncryptionPublicKey(ue,le),le=>ne.processEncryptionPublicKey(ue,le)],re)}();case"personal_ecRecover":return function(){ae=te.params[0];let ue=te.params[1];se=te.params[2]||{},oe=extend(se,{sig:ue,data:ae}),ne.recoverPersonalSignature(oe,re)}();case"eth_signTypedData":case"eth_signTypedData_v3":case"eth_signTypedData_v4":return function(){const ue=te.params[0],le=te.params[1];resemblesAddress(ue)?(fe=ue,ae=le):(ae=ue,fe=le),se=te.params[2]||{},oe=extend(se,{from:fe,data:ae}),waterfall([pe=>ne.validateTypedMessage(oe,pe),pe=>ne.processTypedMessage(oe,pe)],re)}();case"parity_postTransaction":ie=te.params[0],ne.parityPostTransaction(ie,re);return;case"parity_postSign":fe=te.params[0],ae=te.params[1],ne.parityPostSign(fe,ae,re);return;case"parity_checkRequest":return function(){const ue=te.params[0];ne.parityCheckRequest(ue,re)}();case"parity_defaultAccount":ne.getAccounts(function(ue,le){if(ue)return re(ue);const pe=le[0]||null;re(null,pe)});return;default:ee();return}};HookedWalletSubprovider$1.prototype.getAccounts=function(te){te(null,[])};HookedWalletSubprovider$1.prototype.processTransaction=function(te,ee){const re=this;waterfall([ne=>re.approveTransaction(te,ne),(ne,ie)=>re.checkApproval("transaction",ne,ie),ne=>re.finalizeAndSubmitTx(te,ne)],ee)};HookedWalletSubprovider$1.prototype.processSignTransaction=function(te,ee){const re=this;waterfall([ne=>re.approveTransaction(te,ne),(ne,ie)=>re.checkApproval("transaction",ne,ie),ne=>re.finalizeTx(te,ne)],ee)};HookedWalletSubprovider$1.prototype.processMessage=function(te,ee){const re=this;waterfall([ne=>re.approveMessage(te,ne),(ne,ie)=>re.checkApproval("message",ne,ie),ne=>re.signMessage(te,ne)],ee)};HookedWalletSubprovider$1.prototype.processPersonalMessage=function(te,ee){const re=this;waterfall([ne=>re.approvePersonalMessage(te,ne),(ne,ie)=>re.checkApproval("message",ne,ie),ne=>re.signPersonalMessage(te,ne)],ee)};HookedWalletSubprovider$1.prototype.processDecryptMessage=function(te,ee){const re=this;waterfall([ne=>re.approveDecryptMessage(te,ne),(ne,ie)=>re.checkApproval("decryptMessage",ne,ie),ne=>re.decryptMessage(te,ne)],ee)};HookedWalletSubprovider$1.prototype.processEncryptionPublicKey=function(te,ee){const re=this;waterfall([ne=>re.approveEncryptionPublicKey(te,ne),(ne,ie)=>re.checkApproval("encryptionPublicKey",ne,ie),ne=>re.encryptionPublicKey(te,ne)],ee)};HookedWalletSubprovider$1.prototype.processTypedMessage=function(te,ee){const re=this;waterfall([ne=>re.approveTypedMessage(te,ne),(ne,ie)=>re.checkApproval("message",ne,ie),ne=>re.signTypedMessage(te,ne)],ee)};HookedWalletSubprovider$1.prototype.autoApprove=function(te,ee){ee(null,!0)};HookedWalletSubprovider$1.prototype.checkApproval=function(te,ee,re){re(ee?null:new Error("User denied "+te+" signature."))};HookedWalletSubprovider$1.prototype.parityPostTransaction=function(te,ee){const re=this,ie=`0x${re._parityRequestCount.toString(16)}`;re._parityRequestCount++,re.emitPayload({method:"eth_sendTransaction",params:[te]},function(oe,se){if(oe){re._parityRequests[ie]={error:oe};return}const ae=se.result;re._parityRequests[ie]=ae}),ee(null,ie)};HookedWalletSubprovider$1.prototype.parityPostSign=function(te,ee,re){const ne=this,oe=`0x${ne._parityRequestCount.toString(16)}`;ne._parityRequestCount++,ne.emitPayload({method:"eth_sign",params:[te,ee]},function(se,ae){if(se){ne._parityRequests[oe]={error:se};return}const fe=ae.result;ne._parityRequests[oe]=fe}),re(null,oe)};HookedWalletSubprovider$1.prototype.parityCheckRequest=function(te,ee){const ne=this._parityRequests[te]||null;if(!ne)return ee(null,null);if(ne.error)return ee(ne.error);ee(null,ne)};HookedWalletSubprovider$1.prototype.recoverPersonalSignature=function(te,ee){let re;try{re=sigUtil.recoverPersonalSignature(te)}catch(ne){return ee(ne)}ee(null,re)};HookedWalletSubprovider$1.prototype.validateTransaction=function(te,ee){const re=this;if(te.from===void 0)return ee(new Error("Undefined address - from address required to sign transaction."));re.validateSender(te.from,function(ne,ie){if(ne)return ee(ne);if(!ie)return ee(new Error(`Unknown address - unable to sign transaction for this address: "${te.from}"`));ee()})};HookedWalletSubprovider$1.prototype.validateMessage=function(te,ee){const re=this;if(te.from===void 0)return ee(new Error("Undefined address - from address required to sign message."));re.validateSender(te.from,function(ne,ie){if(ne)return ee(ne);if(!ie)return ee(new Error(`Unknown address - unable to sign message for this address: "${te.from}"`));ee()})};HookedWalletSubprovider$1.prototype.validatePersonalMessage=function(te,ee){const re=this;if(te.from===void 0)return ee(new Error("Undefined address - from address required to sign personal message."));if(te.data===void 0)return ee(new Error("Undefined message - message required to sign personal message."));if(!isValidHex(te.data))return ee(new Error("HookedWalletSubprovider - validateMessage - message was not encoded as hex."));re.validateSender(te.from,function(ne,ie){if(ne)return ee(ne);if(!ie)return ee(new Error(`Unknown address - unable to sign message for this address: "${te.from}"`));ee()})};HookedWalletSubprovider$1.prototype.validateDecryptMessage=function(te,ee){const re=this;if(te.from===void 0)return ee(new Error("Undefined address - from address required to decrypt message."));if(te.data===void 0)return ee(new Error("Undefined message - message required to decrypt message."));if(!isValidHex(te.data))return ee(new Error("HookedWalletSubprovider - validateDecryptMessage - message was not encoded as hex."));re.validateSender(te.from,function(ne,ie){if(ne)return ee(ne);if(!ie)return ee(new Error(`Unknown address - unable to decrypt message for this address: "${te.from}"`));ee()})};HookedWalletSubprovider$1.prototype.validateEncryptionPublicKey=function(te,ee){this.validateSender(te,function(ne,ie){if(ne)return ee(ne);if(!ie)return ee(new Error(`Unknown address - unable to obtain encryption public key for this address: "${te}"`));ee()})};HookedWalletSubprovider$1.prototype.validateTypedMessage=function(te,ee){if(te.from===void 0)return ee(new Error("Undefined address - from address required to sign typed data."));if(te.data===void 0)return ee(new Error("Undefined data - message required to sign typed data."));this.validateSender(te.from,function(re,ne){if(re)return ee(re);if(!ne)return ee(new Error(`Unknown address - unable to sign message for this address: "${te.from}"`));ee()})};HookedWalletSubprovider$1.prototype.validateSender=function(te,ee){const re=this;if(!te)return ee(null,!1);re.getAccounts(function(ne,ie){if(ne)return ee(ne);const oe=ie.map(toLowerCase).indexOf(te.toLowerCase())!==-1;ee(null,oe)})};HookedWalletSubprovider$1.prototype.finalizeAndSubmitTx=function(te,ee){const re=this;re.nonceLock.take(function(){waterfall([re.fillInTxExtras.bind(re,te),re.signTransaction.bind(re),re.publishTransaction.bind(re)],function(ne,ie){if(re.nonceLock.leave(),ne)return ee(ne);ee(null,ie)})})};HookedWalletSubprovider$1.prototype.finalizeTx=function(te,ee){const re=this;re.nonceLock.take(function(){waterfall([re.fillInTxExtras.bind(re,te),re.signTransaction.bind(re)],function(ne,ie){if(re.nonceLock.leave(),ne)return ee(ne);ee(null,{raw:ie,tx:te})})})};HookedWalletSubprovider$1.prototype.publishTransaction=function(te,ee){this.emitPayload({method:"eth_sendRawTransaction",params:[te]},function(ne,ie){if(ne)return ee(ne);ee(null,ie.result)})};HookedWalletSubprovider$1.prototype.estimateGas=function(te,ee){estimateGas(this.engine,te,ee)};HookedWalletSubprovider$1.prototype.getGasPrice=function(te){this.emitPayload({method:"eth_gasPrice",params:[]},function(re,ne){if(re)return te(re);te(null,ne.result)})};HookedWalletSubprovider$1.prototype.fillInTxExtras=function(te,ee){const re=this,ne=te.from,ie={};te.gasPrice===void 0&&(ie.gasPrice=re.getGasPrice.bind(re)),te.nonce===void 0&&(ie.nonce=re.emitPayload.bind(re,{method:"eth_getTransactionCount",params:[ne,"pending"]})),te.gas===void 0&&(ie.gas=re.estimateGas.bind(re,cloneTxParams(te))),parallel(ie,function(oe,se){if(oe)return ee(oe);const ae={};se.gasPrice&&(ae.gasPrice=se.gasPrice),se.nonce&&(ae.nonce=se.nonce.result),se.gas&&(ae.gas=se.gas),ee(null,extend(te,ae))})};function cloneTxParams(te){return{from:te.from,to:te.to,value:te.value,data:te.data,gas:te.gas,gasPrice:te.gasPrice,nonce:te.nonce}}function toLowerCase(te){return te.toLowerCase()}function resemblesAddress(te){const ee=ethUtil$2.addHexPrefix(te);return ethUtil$2.isValidAddress(ee)}function resemblesData(te){const ee=ethUtil$2.addHexPrefix(te);return!ethUtil$2.isValidAddress(ee)&&isValidHex(te)}function isValidHex(te){return!(typeof te=="string")||!(te.slice(0,2)==="0x")?!1:te.slice(2).match(hexRegex)}function mustProvideInConstructor(te){return function(ee,re){re(new Error('ProviderEngine - HookedWalletSubprovider - Must provide "'+te+'" fn in constructor options'))}}const genesisGasLimit={v:5e3,d:"Gas limit of the Genesis block."},genesisDifficulty={v:17179869184,d:"Difficulty of the Genesis block."},genesisNonce={v:"0x0000000000000042",d:"the geneis nonce"},genesisExtraData={v:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa",d:"extra data "},genesisHash={v:"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3",d:"genesis hash"},genesisStateRoot={v:"0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544",d:"the genesis state root"},minGasLimit={v:5e3,d:"Minimum the gas limit may ever be."},gasLimitBoundDivisor={v:1024,d:"The bound divisor of the gas limit, used in update calculations."},minimumDifficulty={v:131072,d:"The minimum that the difficulty may ever be."},difficultyBoundDivisor={v:2048,d:"The bound divisor of the difficulty, used in the update calculations."},durationLimit={v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not."},maximumExtraDataSize={v:32,d:"Maximum size extra data may be after Genesis."},epochDuration={v:3e4,d:"Duration between proof-of-work epochs."},stackLimit={v:1024,d:"Maximum size of VM stack allowed."},callCreateDepth={v:1024,d:"Maximum depth of call/create stack."},tierStepGas={v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them."},expGas={v:10,d:"Once per EXP instuction."},expByteGas={v:10,d:"Times ceil(log256(exponent)) for the EXP instruction."},sha3Gas={v:30,d:"Once per SHA3 operation."},sha3WordGas={v:6,d:"Once per word of the SHA3 operation's data."},sloadGas={v:50,d:"Once per SLOAD operation."},sstoreSetGas={v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero."},sstoreResetGas={v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero."},sstoreRefundGas={v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero."},jumpdestGas={v:1,d:"Refunded gas, once per SSTORE operation if the zeroness changes to zero."},logGas={v:375,d:"Per LOG* operation."},logDataGas={v:8,d:"Per byte in a LOG* operation's data."},logTopicGas={v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas."},createGas={v:32e3,d:"Once per CREATE operation & contract-creation transaction."},callGas={v:40,d:"Once per CALL operation & message call transaction."},callStipend={v:2300,d:"Free gas given at beginning of call."},callValueTransferGas={v:9e3,d:"Paid for CALL when the value transfor is non-zero."},callNewAccountGas={v:25e3,d:"Paid for CALL when the destination address didn't exist prior."},suicideRefundGas={v:24e3,d:"Refunded following a suicide operation."},memoryGas={v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL."},quadCoeffDiv={v:512,d:"Divisor for the quadratic particle of the memory cost equation."},createDataGas={v:200,d:""},txGas={v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions."},txCreation={v:32e3,d:"the cost of creating a contract via tx"},txDataZeroGas={v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions."},txDataNonZeroGas={v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions."},copyGas={v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added."},ecrecoverGas={v:3e3,d:""},sha256Gas={v:60,d:""},sha256WordGas={v:12,d:""},ripemd160Gas={v:600,d:""},ripemd160WordGas={v:120,d:""},identityGas={v:15,d:""},identityWordGas={v:3,d:""},minerReward={v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},ommerReward={v:"625000000000000000",d:"The amount of wei a miner of an uncle block gets for being inculded in the blockchain"},niblingReward={v:"156250000000000000",d:"the amount a miner gets for inculding a uncle"},homeSteadForkNumber={v:115e4,d:"the block that the Homestead fork started at"},homesteadRepriceForkNumber={v:2463e3,d:"the block that the Homestead Reprice (EIP150) fork started at"},timebombPeriod={v:1e5,d:"Exponential difficulty timebomb period"},freeBlockPeriod={v:2};var require$$1$1={genesisGasLimit,genesisDifficulty,genesisNonce,genesisExtraData,genesisHash,genesisStateRoot,minGasLimit,gasLimitBoundDivisor,minimumDifficulty,difficultyBoundDivisor,durationLimit,maximumExtraDataSize,epochDuration,stackLimit,callCreateDepth,tierStepGas,expGas,expByteGas,sha3Gas,sha3WordGas,sloadGas,sstoreSetGas,sstoreResetGas,sstoreRefundGas,jumpdestGas,logGas,logDataGas,logTopicGas,createGas,callGas,callStipend,callValueTransferGas,callNewAccountGas,suicideRefundGas,memoryGas,quadCoeffDiv,createDataGas,txGas,txCreation,txDataZeroGas,txDataNonZeroGas,copyGas,ecrecoverGas,sha256Gas,sha256WordGas,ripemd160Gas,ripemd160WordGas,identityGas,identityWordGas,minerReward,ommerReward,niblingReward,homeSteadForkNumber,homesteadRepriceForkNumber,timebombPeriod,freeBlockPeriod};function _classCallCheck(te,ee){if(!(te instanceof ee))throw new TypeError("Cannot call a class as a function")}var ethUtil$1=dist$6,fees=require$$1$1,BN$3=ethUtil$1.BN,N_DIV_2=new BN$3("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),Transaction$1=function(){function te(ee){_classCallCheck(this,te),ee=ee||{};var re=[{name:"nonce",length:32,allowLess:!0,default:new buffer$2.Buffer([])},{name:"gasPrice",length:32,allowLess:!0,default:new buffer$2.Buffer([])},{name:"gasLimit",alias:"gas",length:32,allowLess:!0,default:new buffer$2.Buffer([])},{name:"to",allowZero:!0,length:20,default:new buffer$2.Buffer([])},{name:"value",length:32,allowLess:!0,default:new buffer$2.Buffer([])},{name:"data",alias:"input",allowZero:!0,default:new buffer$2.Buffer([])},{name:"v",allowZero:!0,default:new buffer$2.Buffer([28])},{name:"r",length:32,allowZero:!0,allowLess:!0,default:new buffer$2.Buffer([])},{name:"s",length:32,allowZero:!0,allowLess:!0,default:new buffer$2.Buffer([])}];ethUtil$1.defineProperties(this,re,ee),Object.defineProperty(this,"from",{enumerable:!0,configurable:!0,get:this.getSenderAddress.bind(this)});var ne=ethUtil$1.bufferToInt(this.v),ie=Math.floor((ne-35)/2);ie<0&&(ie=0),this._chainId=ie||ee.chainId||0,this._homestead=!0}return te.prototype.toCreationAddress=function(){return this.to.toString("hex")===""},te.prototype.hash=function(re){re===void 0&&(re=!0);var ne=void 0;if(re)ne=this.raw;else if(this._chainId>0){var ie=this.raw.slice();this.v=this._chainId,this.r=0,this.s=0,ne=this.raw,this.raw=ie}else ne=this.raw.slice(0,6);return ethUtil$1.rlphash(ne)},te.prototype.getChainId=function(){return this._chainId},te.prototype.getSenderAddress=function(){if(this._from)return this._from;var re=this.getSenderPublicKey();return this._from=ethUtil$1.publicToAddress(re),this._from},te.prototype.getSenderPublicKey=function(){if((!this._senderPubKey||!this._senderPubKey.length)&&!this.verifySignature())throw new Error("Invalid Signature");return this._senderPubKey},te.prototype.verifySignature=function(){var re=this.hash(!1);if(this._homestead&&new BN$3(this.s).cmp(N_DIV_2)===1)return!1;try{var ne=ethUtil$1.bufferToInt(this.v);this._chainId>0&&(ne-=this._chainId*2+8),this._senderPubKey=ethUtil$1.ecrecover(re,ne,this.r,this.s)}catch{return!1}return!!this._senderPubKey},te.prototype.sign=function(re){var ne=this.hash(!1),ie=ethUtil$1.ecsign(ne,re);this._chainId>0&&(ie.v+=this._chainId*2+8),Object.assign(this,ie)},te.prototype.getDataFee=function(){for(var re=this.raw[5],ne=new BN$3(0),ie=0;ie<re.length;ie++)re[ie]===0?ne.iaddn(fees.txDataZeroGas.v):ne.iaddn(fees.txDataNonZeroGas.v);return ne},te.prototype.getBaseFee=function(){var re=this.getDataFee().iaddn(fees.txGas.v);return this._homestead&&this.toCreationAddress()&&re.iaddn(fees.txCreation.v),re},te.prototype.getUpfrontCost=function(){return new BN$3(this.gasLimit).imul(new BN$3(this.gasPrice)).iadd(new BN$3(this.value))},te.prototype.validate=function(re){var ne=[];return this.verifySignature()||ne.push("Invalid Signature"),this.getBaseFee().cmp(new BN$3(this.gasLimit))>0&&ne.push(["gas limit is too low. Need at least "+this.getBaseFee()]),re===void 0||re===!1?ne.length===0:ne.join(" ")},te}(),es5=Transaction$1;const inherits=util$9.inherits,Transaction=es5,ethUtil=dist$6,Subprovider=subprovider,blockTagForPayload=rpcCacheUtils.blockTagForPayload;var nonceTracker=NonceTrackerSubprovider;inherits(NonceTrackerSubprovider,Subprovider);function NonceTrackerSubprovider(te){const ee=this;ee.nonceCache={}}NonceTrackerSubprovider.prototype.handleRequest=function(te,ee,re){const ne=this;switch(te.method){case"eth_getTransactionCount":var ie=blockTagForPayload(te),oe=te.params[0].toLowerCase(),se=ne.nonceCache[oe];ie==="pending"?se?re(null,se):ee(function(ae,fe,ue){if(ae)return ue();ne.nonceCache[oe]===void 0&&(ne.nonceCache[oe]=fe),ue()}):ee();return;case"eth_sendRawTransaction":ee(function(ae,fe,ue){if(ae)return ue();var le=te.params[0];ethUtil.stripHexPrefix(le),buffer$2.Buffer.from(ethUtil.stripHexPrefix(le),"hex");var pe=new Transaction(buffer$2.Buffer.from(ethUtil.stripHexPrefix(le),"hex")),rr="0x"+pe.getSenderAddress().toString("hex").toLowerCase(),cr=ethUtil.bufferToInt(pe.nonce);cr++;var ar=cr.toString(16);ar.length%2&&(ar="0"+ar),ar="0x"+ar,ne.nonceCache[rr]=ar,ue()});return;case"evm_revert":ne.nonceCache={},ee();return;default:ee();return}};const SafeEventEmitter=safeEventEmitter.default,createScaffoldMiddleware=scaffold,{createAsyncMiddleware}=dist$5,createFilterMiddleware=ethJsonRpcFilters,{unsafeRandomBytes,incrementHexInt}=hexUtils,getBlocksForRange=getBlocksForRange_1;var subscriptionManager=createSubscriptionMiddleware;function createSubscriptionMiddleware({blockTracker:te,provider:ee}){const re={},ne=createFilterMiddleware({blockTracker:te,provider:ee});let ie=!1;const oe=new SafeEventEmitter,se=createScaffoldMiddleware({eth_subscribe:createAsyncMiddleware(ae),eth_unsubscribe:createAsyncMiddleware(fe)});return se.destroy=le,{events:oe,middleware:se};async function ae(pe,rr){if(ie)throw new Error("SubscriptionManager - attempting to use after destroying");const cr=pe.params[0],ar=unsafeRandomBytes(16);let mr;switch(cr){case"newHeads":mr=pr({subId:ar});break;case"logs":const vr=pe.params[1],Er=await ne.newLogFilter(vr);mr=yr({subId:ar,filter:Er});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${cr}"`)}re[ar]=mr,rr.result=ar;return;function pr({subId:vr}){const Er={type:cr,destroy:async()=>{te.removeListener("sync",Er.update)},update:async({oldBlock:Tr,newBlock:Ir})=>{const Or=Ir,Hr=incrementHexInt(Tr);(await getBlocksForRange({provider:ee,fromBlock:Hr,toBlock:Or})).map(normalizeBlock).forEach(Nr=>{ue(vr,Nr)})}};return te.on("sync",Er.update),Er}function yr({subId:vr,filter:Er}){return Er.on("update",Ir=>ue(vr,Ir)),{type:cr,destroy:async()=>await ne.uninstallFilter(Er.idHex)}}}async function fe(pe,rr){if(ie)throw new Error("SubscriptionManager - attempting to use after destroying");const cr=pe.params[0],ar=re[cr];if(!ar){rr.result=!1;return}delete re[cr],await ar.destroy(),rr.result=!0}function ue(pe,rr){oe.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:pe,result:rr}})}function le(){oe.removeAllListeners();for(const pe in re)re[pe].destroy(),delete re[pe];ie=!0}}function normalizeBlock(te){return{hash:te.hash,parentHash:te.parentHash,sha3Uncles:te.sha3Uncles,miner:te.miner,stateRoot:te.stateRoot,transactionsRoot:te.transactionsRoot,receiptsRoot:te.receiptsRoot,logsBloom:te.logsBloom,difficulty:te.difficulty,number:te.number,gasLimit:te.gasLimit,gasUsed:te.gasUsed,nonce:te.nonce,mixHash:te.mixHash,timestamp:te.timestamp,extraData:te.extraData}}const ProviderSubprovider=jsonRpcEngineMiddleware,createSubscriptionManager$1=subscriptionManager;class SubscriptionsSubprovider$1 extends ProviderSubprovider{constructor(){super(({blockTracker:ee,provider:re,engine:ne})=>{const{events:ie,middleware:oe}=createSubscriptionManager$1({blockTracker:ee,provider:re});return ie.on("notification",se=>ne.emit("data",null,se)),oe})}}var subscriptions=SubscriptionsSubprovider$1,cjs$3={},cjs$2={};Object.defineProperty(cjs$2,"__esModule",{value:!0});var getLocalStorage_1=cjs$2.getLocalStorage=getLocalStorageOrThrow_1=cjs$2.getLocalStorageOrThrow=getCrypto_1=cjs$2.getCrypto=getCryptoOrThrow_1=cjs$2.getCryptoOrThrow=getLocation_1=cjs$2.getLocation=getLocationOrThrow_1=cjs$2.getLocationOrThrow=getNavigator_1=cjs$2.getNavigator=getNavigatorOrThrow_1=cjs$2.getNavigatorOrThrow=getDocument_1=cjs$2.getDocument=getDocumentOrThrow_1=cjs$2.getDocumentOrThrow=getFromWindowOrThrow_1=cjs$2.getFromWindowOrThrow=getFromWindow_1=cjs$2.getFromWindow=void 0;function getFromWindow$1(te){let ee;return typeof window!="undefined"&&typeof window[te]!="undefined"&&(ee=window[te]),ee}var getFromWindow_1=cjs$2.getFromWindow=getFromWindow$1;function getFromWindowOrThrow$1(te){const ee=getFromWindow$1(te);if(!ee)throw new Error(`${te} is not defined in Window`);return ee}var getFromWindowOrThrow_1=cjs$2.getFromWindowOrThrow=getFromWindowOrThrow$1;function getDocumentOrThrow$1(){return getFromWindowOrThrow$1("document")}var getDocumentOrThrow_1=cjs$2.getDocumentOrThrow=getDocumentOrThrow$1;function getDocument$1(){return getFromWindow$1("document")}var getDocument_1=cjs$2.getDocument=getDocument$1;function getNavigatorOrThrow$1(){return getFromWindowOrThrow$1("navigator")}var getNavigatorOrThrow_1=cjs$2.getNavigatorOrThrow=getNavigatorOrThrow$1;function getNavigator$1(){return getFromWindow$1("navigator")}var getNavigator_1=cjs$2.getNavigator=getNavigator$1;function getLocationOrThrow$1(){return getFromWindowOrThrow$1("location")}var getLocationOrThrow_1=cjs$2.getLocationOrThrow=getLocationOrThrow$1;function getLocation$1(){return getFromWindow$1("location")}var getLocation_1=cjs$2.getLocation=getLocation$1;function getCryptoOrThrow$1(){return getFromWindowOrThrow$1("crypto")}var getCryptoOrThrow_1=cjs$2.getCryptoOrThrow=getCryptoOrThrow$1;function getCrypto$1(){return getFromWindow$1("crypto")}var getCrypto_1=cjs$2.getCrypto=getCrypto$1;function getLocalStorageOrThrow$1(){return getFromWindowOrThrow$1("localStorage")}var getLocalStorageOrThrow_1=cjs$2.getLocalStorageOrThrow=getLocalStorageOrThrow$1;function getLocalStorage$1(){return getFromWindow$1("localStorage")}getLocalStorage_1=cjs$2.getLocalStorage=getLocalStorage$1;Object.defineProperty(cjs$3,"__esModule",{value:!0});var getWindowMetadata_1=cjs$3.getWindowMetadata=void 0;const window_getters_1=cjs$2;function getWindowMetadata(){let te,ee;try{te=window_getters_1.getDocumentOrThrow(),ee=window_getters_1.getLocationOrThrow()}catch{return null}function re(){const pe=te.getElementsByTagName("link"),rr=[];for(let cr=0;cr<pe.length;cr++){const ar=pe[cr],mr=ar.getAttribute("rel");if(mr&&mr.toLowerCase().indexOf("icon")>-1){const pr=ar.getAttribute("href");if(pr)if(pr.toLowerCase().indexOf("https:")===-1&&pr.toLowerCase().indexOf("http:")===-1&&pr.indexOf("//")!==0){let yr=ee.protocol+"//"+ee.host;if(pr.indexOf("/")===0)yr+=pr;else{const vr=ee.pathname.split("/");vr.pop(),yr+=vr.join("/")+"/"+pr}rr.push(yr)}else if(pr.indexOf("//")===0){const yr=ee.protocol+pr;rr.push(yr)}else rr.push(pr)}}return rr}function ne(...pe){const rr=te.getElementsByTagName("meta");for(let cr=0;cr<rr.length;cr++){const ar=rr[cr],mr=["itemprop","property","name"].map(pr=>ar.getAttribute(pr)).filter(pr=>pr?pe.includes(pr):!1);if(mr.length&&mr){const pr=ar.getAttribute("content");if(pr)return pr}}return""}function ie(){let pe=ne("name","og:site_name","og:title","twitter:title");return pe||(pe=te.title),pe}function oe(){return ne("description","og:description","twitter:description","keywords")}const se=ie(),ae=oe(),fe=ee.origin,ue=re();return{description:ae,url:fe,icons:ue,name:se}}getWindowMetadata_1=cjs$3.getWindowMetadata=getWindowMetadata;var __spreadArrays=globalThis&&globalThis.__spreadArrays||function(){for(var te=0,ee=0,re=arguments.length;ee<re;ee++)te+=arguments[ee].length;for(var ne=Array(te),ie=0,ee=0;ee<re;ee++)for(var oe=arguments[ee],se=0,ae=oe.length;se<ae;se++,ie++)ne[ie]=oe[se];return ne},BrowserInfo=function(){function te(ee,re,ne){this.name=ee,this.version=re,this.os=ne,this.type="browser"}return te}(),NodeInfo=function(){function te(ee){this.version=ee,this.type="node",this.name="node",this.os=process.platform}return te}(),SearchBotDeviceInfo=function(){function te(ee,re,ne,ie){this.name=ee,this.version=re,this.os=ne,this.bot=ie,this.type="bot-device"}return te}(),BotInfo=function(){function te(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return te}(),ReactNativeInfo=function(){function te(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return te}(),SEARCHBOX_UA_REGEX=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SEARCHBOT_OS_REGEX=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,REQUIRED_VERSION_PARTS=3,userAgentRules=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",SEARCHBOX_UA_REGEX]],operatingSystemRules=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(te){return te?parseUserAgent(te):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new ReactNativeInfo:typeof navigator!="undefined"?parseUserAgent(navigator.userAgent):getNodeVersion()}function matchUserAgent(te){return te!==""&&userAgentRules.reduce(function(ee,re){var ne=re[0],ie=re[1];if(ee)return ee;var oe=ie.exec(te);return!!oe&&[ne,oe]},!1)}function parseUserAgent(te){var ee=matchUserAgent(te);if(!ee)return null;var re=ee[0],ne=ee[1];if(re==="searchbot")return new BotInfo;var ie=ne[1]&&ne[1].split(/[._]/).slice(0,3);ie?ie.length<REQUIRED_VERSION_PARTS&&(ie=__spreadArrays(ie,createVersionParts(REQUIRED_VERSION_PARTS-ie.length))):ie=[];var oe=ie.join("."),se=detectOS$1(te),ae=SEARCHBOT_OS_REGEX.exec(te);return ae&&ae[1]?new SearchBotDeviceInfo(re,oe,se,ae[1]):new BrowserInfo(re,oe,se)}function detectOS$1(te){for(var ee=0,re=operatingSystemRules.length;ee<re;ee++){var ne=operatingSystemRules[ee],ie=ne[0],oe=ne[1],se=oe.exec(te);if(se)return ie}return null}function getNodeVersion(){var te=typeof process!="undefined"&&process.version;return te?new NodeInfo(process.version.slice(1)):null}function createVersionParts(te){for(var ee=[],re=0;re<te;re++)ee.push("0");return ee}function detectEnv(te){return detect(te)}function detectOS(){const te=detectEnv();return te&&te.os?te.os:void 0}function isAndroid(){const te=detectOS();return te?te.toLowerCase().includes("android"):!1}function isIOS(){const te=detectOS();return te?te.toLowerCase().includes("ios")||te.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function isMobile(){return detectOS()?isAndroid()||isIOS():!1}function isNode$2(){const te=detectEnv();return te&&te.name?te.name.toLowerCase()==="node":!1}function isBrowser$3(){return!isNode$2()&&!!getNavigator()}const getFromWindow=getFromWindow_1,getFromWindowOrThrow=getFromWindowOrThrow_1,getDocumentOrThrow=getDocumentOrThrow_1,getDocument=getDocument_1,getNavigatorOrThrow=getNavigatorOrThrow_1,getNavigator=getNavigator_1,getLocationOrThrow=getLocationOrThrow_1,getLocation=getLocation_1,getCryptoOrThrow=getCryptoOrThrow_1,getCrypto=getCrypto_1,getLocalStorageOrThrow=getLocalStorageOrThrow_1,getLocalStorage=getLocalStorage_1;function getClientMeta(){return getWindowMetadata_1()}function safeJsonParse$1(te){if(typeof te!="string")throw new Error(`Cannot safe json parse value of type ${typeof te}`);try{return JSON.parse(te)}catch{return te}}function safeJsonStringify$1(te){return typeof te=="string"?te:JSON.stringify(te)}const safeJsonParse=safeJsonParse$1,safeJsonStringify=safeJsonStringify$1;function setLocal(te,ee){const re=safeJsonStringify(ee),ne=getLocalStorage();ne&&ne.setItem(te,re)}function getLocal(te){let ee=null,re=null;const ne=getLocalStorage();return ne&&(re=ne.getItem(te)),ee=re&&safeJsonParse(re),ee}function removeLocal(te){const ee=getLocalStorage();ee&&ee.removeItem(te)}const mobileLinkChoiceKey="WALLETCONNECT_DEEPLINK_CHOICE";function formatIOSMobile(te,ee){const re=encodeURIComponent(te);return ee.universalLink?`${ee.universalLink}/wc?uri=${re}`:ee.deepLink?`${ee.deepLink}${ee.deepLink.endsWith(":")?"//":"/"}wc?uri=${re}`:""}function saveMobileLinkInfo(te){const ee=te.href.split("?")[0];setLocal(mobileLinkChoiceKey,Object.assign(Object.assign({},te),{href:ee}))}function getMobileRegistryEntry(te,ee){return te.filter(re=>re.name.toLowerCase().includes(ee.toLowerCase()))[0]}function getMobileLinkRegistry(te,ee){let re=te;return ee&&(re=ee.map(ne=>getMobileRegistryEntry(te,ne)).filter(Boolean)),re}const API_URL="https://registry.walletconnect.com";function getWalletRegistryUrl(){return API_URL+"/api/v2/wallets"}function getDappRegistryUrl(){return API_URL+"/api/v2/dapps"}function formatMobileRegistryEntry(te,ee="mobile"){var re;return{name:te.name||"",shortName:te.metadata.shortName||"",color:te.metadata.colors.primary||"",logo:(re=te.image_url.sm)!==null&&re!==void 0?re:"",universalLink:te[ee].universal||"",deepLink:te[ee].native||""}}function formatMobileRegistry(te,ee="mobile"){return Object.values(te).filter(re=>!!re[ee].universal||!!re[ee].native).map(re=>formatMobileRegistryEntry(re,ee))}var esm=Object.freeze(Object.defineProperty({__proto__:null,detectEnv,detectOS,isAndroid,isIOS,isMobile,isNode:isNode$2,isBrowser:isBrowser$3,getFromWindow,getFromWindowOrThrow,getDocumentOrThrow,getDocument,getNavigatorOrThrow,getNavigator,getLocationOrThrow,getLocation,getCryptoOrThrow,getCrypto,getLocalStorageOrThrow,getLocalStorage,getClientMeta,safeJsonParse,safeJsonStringify,setLocal,getLocal,removeLocal,mobileLinkChoiceKey,formatIOSMobile,saveMobileLinkInfo,getMobileRegistryEntry,getMobileLinkRegistry,getWalletRegistryUrl,getDappRegistryUrl,formatMobileRegistryEntry,formatMobileRegistry},Symbol.toStringTag,{value:"Module"}));const reservedEvents=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],signingMethods=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],infuraNetworks={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"};var bn$2={exports:{}};(function(te){(function(ee,re){function ne(Nr,dr){if(!Nr)throw new Error(dr||"Assertion failed")}function ie(Nr,dr){Nr.super_=dr;var tr=function(){};tr.prototype=dr.prototype,Nr.prototype=new tr,Nr.prototype.constructor=Nr}function oe(Nr,dr,tr){if(oe.isBN(Nr))return Nr;this.negative=0,this.words=null,this.length=0,this.red=null,Nr!==null&&((dr==="le"||dr==="be")&&(tr=dr,dr=10),this._init(Nr||0,dr||10,tr||"be"))}typeof ee=="object"?ee.exports=oe:re.BN=oe,oe.BN=oe,oe.wordSize=26;var se;try{se=require("buffer").Buffer}catch{}oe.isBN=function(dr){return dr instanceof oe?!0:dr!==null&&typeof dr=="object"&&dr.constructor.wordSize===oe.wordSize&&Array.isArray(dr.words)},oe.max=function(dr,tr){return dr.cmp(tr)>0?dr:tr},oe.min=function(dr,tr){return dr.cmp(tr)<0?dr:tr},oe.prototype._init=function(dr,tr,ve){if(typeof dr=="number")return this._initNumber(dr,tr,ve);if(typeof dr=="object")return this._initArray(dr,tr,ve);tr==="hex"&&(tr=16),ne(tr===(tr|0)&&tr>=2&&tr<=36),dr=dr.toString().replace(/\s+/g,"");var ce=0;dr[0]==="-"&&ce++,tr===16?this._parseHex(dr,ce):this._parseBase(dr,tr,ce),dr[0]==="-"&&(this.negative=1),this.strip(),ve==="le"&&this._initArray(this.toArray(),tr,ve)},oe.prototype._initNumber=function(dr,tr,ve){dr<0&&(this.negative=1,dr=-dr),dr<67108864?(this.words=[dr&67108863],this.length=1):dr<4503599627370496?(this.words=[dr&67108863,dr/67108864&67108863],this.length=2):(ne(dr<9007199254740992),this.words=[dr&67108863,dr/67108864&67108863,1],this.length=3),ve==="le"&&this._initArray(this.toArray(),tr,ve)},oe.prototype._initArray=function(dr,tr,ve){if(ne(typeof dr.length=="number"),dr.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(dr.length/3),this.words=new Array(this.length);for(var ce=0;ce<this.length;ce++)this.words[ce]=0;var me,ir,ur=0;if(ve==="be")for(ce=dr.length-1,me=0;ce>=0;ce-=3)ir=dr[ce]|dr[ce-1]<<8|dr[ce-2]<<16,this.words[me]|=ir<<ur&67108863,this.words[me+1]=ir>>>26-ur&67108863,ur+=24,ur>=26&&(ur-=26,me++);else if(ve==="le")for(ce=0,me=0;ce<dr.length;ce+=3)ir=dr[ce]|dr[ce+1]<<8|dr[ce+2]<<16,this.words[me]|=ir<<ur&67108863,this.words[me+1]=ir>>>26-ur&67108863,ur+=24,ur>=26&&(ur-=26,me++);return this.strip()};function ae(Nr,dr,tr){for(var ve=0,ce=Math.min(Nr.length,tr),me=dr;me<ce;me++){var ir=Nr.charCodeAt(me)-48;ve<<=4,ir>=49&&ir<=54?ve|=ir-49+10:ir>=17&&ir<=22?ve|=ir-17+10:ve|=ir&15}return ve}oe.prototype._parseHex=function(dr,tr){this.length=Math.ceil((dr.length-tr)/6),this.words=new Array(this.length);for(var ve=0;ve<this.length;ve++)this.words[ve]=0;var ce,me,ir=0;for(ve=dr.length-6,ce=0;ve>=tr;ve-=6)me=ae(dr,ve,ve+6),this.words[ce]|=me<<ir&67108863,this.words[ce+1]|=me>>>26-ir&4194303,ir+=24,ir>=26&&(ir-=26,ce++);ve+6!==tr&&(me=ae(dr,tr,ve+6),this.words[ce]|=me<<ir&67108863,this.words[ce+1]|=me>>>26-ir&4194303),this.strip()};function fe(Nr,dr,tr,ve){for(var ce=0,me=Math.min(Nr.length,tr),ir=dr;ir<me;ir++){var ur=Nr.charCodeAt(ir)-48;ce*=ve,ur>=49?ce+=ur-49+10:ur>=17?ce+=ur-17+10:ce+=ur}return ce}oe.prototype._parseBase=function(dr,tr,ve){this.words=[0],this.length=1;for(var ce=0,me=1;me<=67108863;me*=tr)ce++;ce--,me=me/tr|0;for(var ir=dr.length-ve,ur=ir%ce,lr=Math.min(ir,ir-ur)+ve,er=0,nr=ve;nr<lr;nr+=ce)er=fe(dr,nr,nr+ce,tr),this.imuln(me),this.words[0]+er<67108864?this.words[0]+=er:this._iaddn(er);if(ur!==0){var or=1;for(er=fe(dr,nr,dr.length,tr),nr=0;nr<ur;nr++)or*=tr;this.imuln(or),this.words[0]+er<67108864?this.words[0]+=er:this._iaddn(er)}},oe.prototype.copy=function(dr){dr.words=new Array(this.length);for(var tr=0;tr<this.length;tr++)dr.words[tr]=this.words[tr];dr.length=this.length,dr.negative=this.negative,dr.red=this.red},oe.prototype.clone=function(){var dr=new oe(null);return this.copy(dr),dr},oe.prototype._expand=function(dr){for(;this.length<dr;)this.words[this.length++]=0;return this},oe.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},oe.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},oe.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ue=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],le=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],pe=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];oe.prototype.toString=function(dr,tr){dr=dr||10,tr=tr|0||1;var ve;if(dr===16||dr==="hex"){ve="";for(var ce=0,me=0,ir=0;ir<this.length;ir++){var ur=this.words[ir],lr=((ur<<ce|me)&16777215).toString(16);me=ur>>>24-ce&16777215,me!==0||ir!==this.length-1?ve=ue[6-lr.length]+lr+ve:ve=lr+ve,ce+=2,ce>=26&&(ce-=26,ir--)}for(me!==0&&(ve=me.toString(16)+ve);ve.length%tr!==0;)ve="0"+ve;return this.negative!==0&&(ve="-"+ve),ve}if(dr===(dr|0)&&dr>=2&&dr<=36){var er=le[dr],nr=pe[dr];ve="";var or=this.clone();for(or.negative=0;!or.isZero();){var ye=or.modn(nr).toString(dr);or=or.idivn(nr),or.isZero()?ve=ye+ve:ve=ue[er-ye.length]+ye+ve}for(this.isZero()&&(ve="0"+ve);ve.length%tr!==0;)ve="0"+ve;return this.negative!==0&&(ve="-"+ve),ve}ne(!1,"Base should be between 2 and 36")},oe.prototype.toNumber=function(){var dr=this.words[0];return this.length===2?dr+=this.words[1]*67108864:this.length===3&&this.words[2]===1?dr+=4503599627370496+this.words[1]*67108864:this.length>2&&ne(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-dr:dr},oe.prototype.toJSON=function(){return this.toString(16)},oe.prototype.toBuffer=function(dr,tr){return ne(typeof se!="undefined"),this.toArrayLike(se,dr,tr)},oe.prototype.toArray=function(dr,tr){return this.toArrayLike(Array,dr,tr)},oe.prototype.toArrayLike=function(dr,tr,ve){var ce=this.byteLength(),me=ve||Math.max(1,ce);ne(ce<=me,"byte array longer than desired length"),ne(me>0,"Requested array length <= 0"),this.strip();var ir=tr==="le",ur=new dr(me),lr,er,nr=this.clone();if(ir){for(er=0;!nr.isZero();er++)lr=nr.andln(255),nr.iushrn(8),ur[er]=lr;for(;er<me;er++)ur[er]=0}else{for(er=0;er<me-ce;er++)ur[er]=0;for(er=0;!nr.isZero();er++)lr=nr.andln(255),nr.iushrn(8),ur[me-er-1]=lr}return ur},Math.clz32?oe.prototype._countBits=function(dr){return 32-Math.clz32(dr)}:oe.prototype._countBits=function(dr){var tr=dr,ve=0;return tr>=4096&&(ve+=13,tr>>>=13),tr>=64&&(ve+=7,tr>>>=7),tr>=8&&(ve+=4,tr>>>=4),tr>=2&&(ve+=2,tr>>>=2),ve+tr},oe.prototype._zeroBits=function(dr){if(dr===0)return 26;var tr=dr,ve=0;return(tr&8191)===0&&(ve+=13,tr>>>=13),(tr&127)===0&&(ve+=7,tr>>>=7),(tr&15)===0&&(ve+=4,tr>>>=4),(tr&3)===0&&(ve+=2,tr>>>=2),(tr&1)===0&&ve++,ve},oe.prototype.bitLength=function(){var dr=this.words[this.length-1],tr=this._countBits(dr);return(this.length-1)*26+tr};function rr(Nr){for(var dr=new Array(Nr.bitLength()),tr=0;tr<dr.length;tr++){var ve=tr/26|0,ce=tr%26;dr[tr]=(Nr.words[ve]&1<<ce)>>>ce}return dr}oe.prototype.zeroBits=function(){if(this.isZero())return 0;for(var dr=0,tr=0;tr<this.length;tr++){var ve=this._zeroBits(this.words[tr]);if(dr+=ve,ve!==26)break}return dr},oe.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},oe.prototype.toTwos=function(dr){return this.negative!==0?this.abs().inotn(dr).iaddn(1):this.clone()},oe.prototype.fromTwos=function(dr){return this.testn(dr-1)?this.notn(dr).iaddn(1).ineg():this.clone()},oe.prototype.isNeg=function(){return this.negative!==0},oe.prototype.neg=function(){return this.clone().ineg()},oe.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},oe.prototype.iuor=function(dr){for(;this.length<dr.length;)this.words[this.length++]=0;for(var tr=0;tr<dr.length;tr++)this.words[tr]=this.words[tr]|dr.words[tr];return this.strip()},oe.prototype.ior=function(dr){return ne((this.negative|dr.negative)===0),this.iuor(dr)},oe.prototype.or=function(dr){return this.length>dr.length?this.clone().ior(dr):dr.clone().ior(this)},oe.prototype.uor=function(dr){return this.length>dr.length?this.clone().iuor(dr):dr.clone().iuor(this)},oe.prototype.iuand=function(dr){var tr;this.length>dr.length?tr=dr:tr=this;for(var ve=0;ve<tr.length;ve++)this.words[ve]=this.words[ve]&dr.words[ve];return this.length=tr.length,this.strip()},oe.prototype.iand=function(dr){return ne((this.negative|dr.negative)===0),this.iuand(dr)},oe.prototype.and=function(dr){return this.length>dr.length?this.clone().iand(dr):dr.clone().iand(this)},oe.prototype.uand=function(dr){return this.length>dr.length?this.clone().iuand(dr):dr.clone().iuand(this)},oe.prototype.iuxor=function(dr){var tr,ve;this.length>dr.length?(tr=this,ve=dr):(tr=dr,ve=this);for(var ce=0;ce<ve.length;ce++)this.words[ce]=tr.words[ce]^ve.words[ce];if(this!==tr)for(;ce<tr.length;ce++)this.words[ce]=tr.words[ce];return this.length=tr.length,this.strip()},oe.prototype.ixor=function(dr){return ne((this.negative|dr.negative)===0),this.iuxor(dr)},oe.prototype.xor=function(dr){return this.length>dr.length?this.clone().ixor(dr):dr.clone().ixor(this)},oe.prototype.uxor=function(dr){return this.length>dr.length?this.clone().iuxor(dr):dr.clone().iuxor(this)},oe.prototype.inotn=function(dr){ne(typeof dr=="number"&&dr>=0);var tr=Math.ceil(dr/26)|0,ve=dr%26;this._expand(tr),ve>0&&tr--;for(var ce=0;ce<tr;ce++)this.words[ce]=~this.words[ce]&67108863;return ve>0&&(this.words[ce]=~this.words[ce]&67108863>>26-ve),this.strip()},oe.prototype.notn=function(dr){return this.clone().inotn(dr)},oe.prototype.setn=function(dr,tr){ne(typeof dr=="number"&&dr>=0);var ve=dr/26|0,ce=dr%26;return this._expand(ve+1),tr?this.words[ve]=this.words[ve]|1<<ce:this.words[ve]=this.words[ve]&~(1<<ce),this.strip()},oe.prototype.iadd=function(dr){var tr;if(this.negative!==0&&dr.negative===0)return this.negative=0,tr=this.isub(dr),this.negative^=1,this._normSign();if(this.negative===0&&dr.negative!==0)return dr.negative=0,tr=this.isub(dr),dr.negative=1,tr._normSign();var ve,ce;this.length>dr.length?(ve=this,ce=dr):(ve=dr,ce=this);for(var me=0,ir=0;ir<ce.length;ir++)tr=(ve.words[ir]|0)+(ce.words[ir]|0)+me,this.words[ir]=tr&67108863,me=tr>>>26;for(;me!==0&&ir<ve.length;ir++)tr=(ve.words[ir]|0)+me,this.words[ir]=tr&67108863,me=tr>>>26;if(this.length=ve.length,me!==0)this.words[this.length]=me,this.length++;else if(ve!==this)for(;ir<ve.length;ir++)this.words[ir]=ve.words[ir];return this},oe.prototype.add=function(dr){var tr;return dr.negative!==0&&this.negative===0?(dr.negative=0,tr=this.sub(dr),dr.negative^=1,tr):dr.negative===0&&this.negative!==0?(this.negative=0,tr=dr.sub(this),this.negative=1,tr):this.length>dr.length?this.clone().iadd(dr):dr.clone().iadd(this)},oe.prototype.isub=function(dr){if(dr.negative!==0){dr.negative=0;var tr=this.iadd(dr);return dr.negative=1,tr._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(dr),this.negative=1,this._normSign();var ve=this.cmp(dr);if(ve===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ce,me;ve>0?(ce=this,me=dr):(ce=dr,me=this);for(var ir=0,ur=0;ur<me.length;ur++)tr=(ce.words[ur]|0)-(me.words[ur]|0)+ir,ir=tr>>26,this.words[ur]=tr&67108863;for(;ir!==0&&ur<ce.length;ur++)tr=(ce.words[ur]|0)+ir,ir=tr>>26,this.words[ur]=tr&67108863;if(ir===0&&ur<ce.length&&ce!==this)for(;ur<ce.length;ur++)this.words[ur]=ce.words[ur];return this.length=Math.max(this.length,ur),ce!==this&&(this.negative=1),this.strip()},oe.prototype.sub=function(dr){return this.clone().isub(dr)};function cr(Nr,dr,tr){tr.negative=dr.negative^Nr.negative;var ve=Nr.length+dr.length|0;tr.length=ve,ve=ve-1|0;var ce=Nr.words[0]|0,me=dr.words[0]|0,ir=ce*me,ur=ir&67108863,lr=ir/67108864|0;tr.words[0]=ur;for(var er=1;er<ve;er++){for(var nr=lr>>>26,or=lr&67108863,ye=Math.min(er,dr.length-1),gr=Math.max(0,er-Nr.length+1);gr<=ye;gr++){var Ar=er-gr|0;ce=Nr.words[Ar]|0,me=dr.words[gr]|0,ir=ce*me+or,nr+=ir/67108864|0,or=ir&67108863}tr.words[er]=or|0,lr=nr|0}return lr!==0?tr.words[er]=lr|0:tr.length--,tr.strip()}var ar=function(dr,tr,ve){var ce=dr.words,me=tr.words,ir=ve.words,ur=0,lr,er,nr,or=ce[0]|0,ye=or&8191,gr=or>>>13,Ar=ce[1]|0,br=Ar&8191,Cr=Ar>>>13,Lr=ce[2]|0,Dr=Lr&8191,Wr=Lr>>>13,Qr=ce[3]|0,Zr=Qr&8191,Xr=Qr>>>13,Fr=ce[4]|0,Ur=Fr&8191,Kr=Fr>>>13,kr=ce[5]|0,_r=kr&8191,$r=kr>>>13,Mr=ce[6]|0,jr=Mr&8191,qr=Mr>>>13,Jr=ce[7]|0,qn=Jr&8191,zn=Jr>>>13,Xn=ce[8]|0,Jn=Xn&8191,Rr=Xn>>>13,xr=ce[9]|0,wr=xr&8191,Sr=xr>>>13,Gr=me[0]|0,Vr=Gr&8191,Yr=Gr>>>13,Qn=me[1]|0,ei=Qn&8191,Zn=Qn>>>13,bi=me[2]|0,ti=bi&8191,ri=bi>>>13,xi=me[3]|0,li=xi&8191,ni=xi>>>13,wi=me[4]|0,ci=wi&8191,ii=wi>>>13,$i=me[5]|0,hi=$i&8191,oi=$i>>>13,Ei=me[6]|0,di=Ei&8191,si=Ei>>>13,Si=me[7]|0,pi=Si&8191,ai=Si>>>13,Ai=me[8]|0,gi=Ai&8191,fi=Ai>>>13,Ri=me[9]|0,mi=Ri&8191,ui=Ri>>>13;ve.negative=dr.negative^tr.negative,ve.length=19,lr=Math.imul(ye,Vr),er=Math.imul(ye,Yr),er=er+Math.imul(gr,Vr)|0,nr=Math.imul(gr,Yr);var _i=(ur+lr|0)+((er&8191)<<13)|0;ur=(nr+(er>>>13)|0)+(_i>>>26)|0,_i&=67108863,lr=Math.imul(br,Vr),er=Math.imul(br,Yr),er=er+Math.imul(Cr,Vr)|0,nr=Math.imul(Cr,Yr),lr=lr+Math.imul(ye,ei)|0,er=er+Math.imul(ye,Zn)|0,er=er+Math.imul(gr,ei)|0,nr=nr+Math.imul(gr,Zn)|0;var yi=(ur+lr|0)+((er&8191)<<13)|0;ur=(nr+(er>>>13)|0)+(yi>>>26)|0,yi&=67108863,lr=Math.imul(Dr,Vr),er=Math.imul(Dr,Yr),er=er+Math.imul(Wr,Vr)|0,nr=Math.imul(Wr,Yr),lr=lr+Math.imul(br,ei)|0,er=er+Math.imul(br,Zn)|0,er=er+Math.imul(Cr,ei)|0,nr=nr+Math.imul(Cr,Zn)|0,lr=lr+Math.imul(ye,ti)|0,er=er+Math.imul(ye,ri)|0,er=er+Math.imul(gr,ti)|0,nr=nr+Math.imul(gr,ri)|0;var vi=(ur+lr|0)+((er&8191)<<13)|0;ur=(nr+(er>>>13)|0)+(vi>>>26)|0,vi&=67108863,lr=Math.imul(Zr,Vr),er=Math.imul(Zr,Yr),er=er+Math.imul(Xr,Vr)|0,nr=Math.imul(Xr,Yr),lr=lr+Math.imul(Dr,ei)|0,er=er+Math.imul(Dr,Zn)|0,er=er+Math.imul(Wr,ei)|0,nr=nr+Math.imul(Wr,Zn)|0,lr=lr+Math.imul(br,ti)|0,er=er+Math.imul(br,ri)|0,er=er+Math.imul(Cr,ti)|0,nr=nr+Math.imul(Cr,ri)|0,lr=lr+Math.imul(ye,li)|0,er=er+Math.imul(ye,ni)|0,er=er+Math.imul(gr,li)|0,nr=nr+Math.imul(gr,ni)|0;var Ni=(ur+lr|0)+((er&8191)<<13)|0;ur=(nr+(er>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,lr=Math.imul(Ur,Vr),er=Math.imul(Ur,Yr),er=er+Math.imul(Kr,Vr)|0,nr=Math.imul(Kr,Yr),lr=lr+Math.imul(Zr,ei)|0,er=er+Math.imul(Zr,Zn)|0,er=er+Math.imul(Xr,ei)|0,nr=nr+Math.imul(Xr,Zn)|0,lr=lr+Math.imul(Dr,ti)|0,er=er+Math.imul(Dr,ri)|0,er=er+Math.imul(Wr,ti)|0,nr=nr+Math.imul(Wr,ri)|0,lr=lr+Math.imul(br,li)|0,er=er+Math.imul(br,ni)|0,er=er+Math.imul(Cr,li)|0,nr=nr+Math.imul(Cr,ni)|0,lr=lr+Math.imul(ye,ci)|0,er=er+Math.imul(ye,ii)|0,er=er+Math.imul(gr,ci)|0,nr=nr+Math.imul(gr,ii)|0;var Mi=(ur+lr|0)+((er&8191)<<13)|0;ur=(nr+(er>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,lr=Math.imul(_r,Vr),er=Math.imul(_r,Yr),er=er+Math.imul($r,Vr)|0,nr=Math.imul($r,Yr),lr=lr+Math.imul(Ur,ei)|0,er=er+Math.imul(Ur,Zn)|0,er=er+Math.imul(Kr,ei)|0,nr=nr+Math.imul(Kr,Zn)|0,lr=lr+Math.imul(Zr,ti)|0,er=er+Math.imul(Zr,ri)|0,er=er+Math.imul(Xr,ti)|0,nr=nr+Math.imul(Xr,ri)|0,lr=lr+Math.imul(Dr,li)|0,er=er+Math.imul(Dr,ni)|0,er=er+Math.imul(Wr,li)|0,nr=nr+Math.imul(Wr,ni)|0,lr=lr+Math.imul(br,ci)|0,er=er+Math.imul(br,ii)|0,er=er+Math.imul(Cr,ci)|0,nr=nr+Math.imul(Cr,ii)|0,lr=lr+Math.imul(ye,hi)|0,er=er+Math.imul(ye,oi)|0,er=er+Math.imul(gr,hi)|0,nr=nr+Math.imul(gr,oi)|0;var Ci=(ur+lr|0)+((er&8191)<<13)|0;ur=(nr+(er>>>13)|0)+(Ci>>>26)|0,Ci&=67108863,lr=Math.imul(jr,Vr),er=Math.imul(jr,Yr),er=er+Math.imul(qr,Vr)|0,nr=Math.imul(qr,Yr),lr=lr+Math.imul(_r,ei)|0,er=er+Math.imul(_r,Zn)|0,er=er+Math.imul($r,ei)|0,nr=nr+Math.imul($r,Zn)|0,lr=lr+Math.imul(Ur,ti)|0,er=er+Math.imul(Ur,ri)|0,er=er+Math.imul(Kr,ti)|0,nr=nr+Math.imul(Kr,ri)|0,lr=lr+Math.imul(Zr,li)|0,er=er+Math.imul(Zr,ni)|0,er=er+Math.imul(Xr,li)|0,nr=nr+Math.imul(Xr,ni)|0,lr=lr+Math.imul(Dr,ci)|0,er=er+Math.imul(Dr,ii)|0,er=er+Math.imul(Wr,ci)|0,nr=nr+Math.imul(Wr,ii)|0,lr=lr+Math.imul(br,hi)|0,er=er+Math.imul(br,oi)|0,er=er+Math.imul(Cr,hi)|0,nr=nr+Math.imul(Cr,oi)|0,lr=lr+Math.imul(ye,di)|0,er=er+Math.imul(ye,si)|0,er=er+Math.imul(gr,di)|0,nr=nr+Math.imul(gr,si)|0;var Ti=(ur+lr|0)+((er&8191)<<13)|0;ur=(nr+(er>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,lr=Math.imul(qn,Vr),er=Math.imul(qn,Yr),er=er+Math.imul(zn,Vr)|0,nr=Math.imul(zn,Yr),lr=lr+Math.imul(jr,ei)|0,er=er+Math.imul(jr,Zn)|0,er=er+Math.imul(qr,ei)|0,nr=nr+Math.imul(qr,Zn)|0,lr=lr+Math.imul(_r,ti)|0,er=er+Math.imul(_r,ri)|0,er=er+Math.imul($r,ti)|0,nr=nr+Math.imul($r,ri)|0,lr=lr+Math.imul(Ur,li)|0,er=er+Math.imul(Ur,ni)|0,er=er+Math.imul(Kr,li)|0,nr=nr+Math.imul(Kr,ni)|0,lr=lr+Math.imul(Zr,ci)|0,er=er+Math.imul(Zr,ii)|0,er=er+Math.imul(Xr,ci)|0,nr=nr+Math.imul(Xr,ii)|0,lr=lr+Math.imul(Dr,hi)|0,er=er+Math.imul(Dr,oi)|0,er=er+Math.imul(Wr,hi)|0,nr=nr+Math.imul(Wr,oi)|0,lr=lr+Math.imul(br,di)|0,er=er+Math.imul(br,si)|0,er=er+Math.imul(Cr,di)|0,nr=nr+Math.imul(Cr,si)|0,lr=lr+Math.imul(ye,pi)|0,er=er+Math.imul(ye,ai)|0,er=er+Math.imul(gr,pi)|0,nr=nr+Math.imul(gr,ai)|0;var ki=(ur+lr|0)+((er&8191)<<13)|0;ur=(nr+(er>>>13)|0)+(ki>>>26)|0,ki&=67108863,lr=Math.imul(Jn,Vr),er=Math.imul(Jn,Yr),er=er+Math.imul(Rr,Vr)|0,nr=Math.imul(Rr,Yr),lr=lr+Math.imul(qn,ei)|0,er=er+Math.imul(qn,Zn)|0,er=er+Math.imul(zn,ei)|0,nr=nr+Math.imul(zn,Zn)|0,lr=lr+Math.imul(jr,ti)|0,er=er+Math.imul(jr,ri)|0,er=er+Math.imul(qr,ti)|0,nr=nr+Math.imul(qr,ri)|0,lr=lr+Math.imul(_r,li)|0,er=er+Math.imul(_r,ni)|0,er=er+Math.imul($r,li)|0,nr=nr+Math.imul($r,ni)|0,lr=lr+Math.imul(Ur,ci)|0,er=er+Math.imul(Ur,ii)|0,er=er+Math.imul(Kr,ci)|0,nr=nr+Math.imul(Kr,ii)|0,lr=lr+Math.imul(Zr,hi)|0,er=er+Math.imul(Zr,oi)|0,er=er+Math.imul(Xr,hi)|0,nr=nr+Math.imul(Xr,oi)|0,lr=lr+Math.imul(Dr,di)|0,er=er+Math.imul(Dr,si)|0,er=er+Math.imul(Wr,di)|0,nr=nr+Math.imul(Wr,si)|0,lr=lr+Math.imul(br,pi)|0,er=er+Math.imul(br,ai)|0,er=er+Math.imul(Cr,pi)|0,nr=nr+Math.imul(Cr,ai)|0,lr=lr+Math.imul(ye,gi)|0,er=er+Math.imul(ye,fi)|0,er=er+Math.imul(gr,gi)|0,nr=nr+Math.imul(gr,fi)|0;var Ii=(ur+lr|0)+((er&8191)<<13)|0;ur=(nr+(er>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,lr=Math.imul(wr,Vr),er=Math.imul(wr,Yr),er=er+Math.imul(Sr,Vr)|0,nr=Math.imul(Sr,Yr),lr=lr+Math.imul(Jn,ei)|0,er=er+Math.imul(Jn,Zn)|0,er=er+Math.imul(Rr,ei)|0,nr=nr+Math.imul(Rr,Zn)|0,lr=lr+Math.imul(qn,ti)|0,er=er+Math.imul(qn,ri)|0,er=er+Math.imul(zn,ti)|0,nr=nr+Math.imul(zn,ri)|0,lr=lr+Math.imul(jr,li)|0,er=er+Math.imul(jr,ni)|0,er=er+Math.imul(qr,li)|0,nr=nr+Math.imul(qr,ni)|0,lr=lr+Math.imul(_r,ci)|0,er=er+Math.imul(_r,ii)|0,er=er+Math.imul($r,ci)|0,nr=nr+Math.imul($r,ii)|0,lr=lr+Math.imul(Ur,hi)|0,er=er+Math.imul(Ur,oi)|0,er=er+Math.imul(Kr,hi)|0,nr=nr+Math.imul(Kr,oi)|0,lr=lr+Math.imul(Zr,di)|0,er=er+Math.imul(Zr,si)|0,er=er+Math.imul(Xr,di)|0,nr=nr+Math.imul(Xr,si)|0,lr=lr+Math.imul(Dr,pi)|0,er=er+Math.imul(Dr,ai)|0,er=er+Math.imul(Wr,pi)|0,nr=nr+Math.imul(Wr,ai)|0,lr=lr+Math.imul(br,gi)|0,er=er+Math.imul(br,fi)|0,er=er+Math.imul(Cr,gi)|0,nr=nr+Math.imul(Cr,fi)|0,lr=lr+Math.imul(ye,mi)|0,er=er+Math.imul(ye,ui)|0,er=er+Math.imul(gr,mi)|0,nr=nr+Math.imul(gr,ui)|0;var Pi=(ur+lr|0)+((er&8191)<<13)|0;ur=(nr+(er>>>13)|0)+(Pi>>>26)|0,Pi&=67108863,lr=Math.imul(wr,ei),er=Math.imul(wr,Zn),er=er+Math.imul(Sr,ei)|0,nr=Math.imul(Sr,Zn),lr=lr+Math.imul(Jn,ti)|0,er=er+Math.imul(Jn,ri)|0,er=er+Math.imul(Rr,ti)|0,nr=nr+Math.imul(Rr,ri)|0,lr=lr+Math.imul(qn,li)|0,er=er+Math.imul(qn,ni)|0,er=er+Math.imul(zn,li)|0,nr=nr+Math.imul(zn,ni)|0,lr=lr+Math.imul(jr,ci)|0,er=er+Math.imul(jr,ii)|0,er=er+Math.imul(qr,ci)|0,nr=nr+Math.imul(qr,ii)|0,lr=lr+Math.imul(_r,hi)|0,er=er+Math.imul(_r,oi)|0,er=er+Math.imul($r,hi)|0,nr=nr+Math.imul($r,oi)|0,lr=lr+Math.imul(Ur,di)|0,er=er+Math.imul(Ur,si)|0,er=er+Math.imul(Kr,di)|0,nr=nr+Math.imul(Kr,si)|0,lr=lr+Math.imul(Zr,pi)|0,er=er+Math.imul(Zr,ai)|0,er=er+Math.imul(Xr,pi)|0,nr=nr+Math.imul(Xr,ai)|0,lr=lr+Math.imul(Dr,gi)|0,er=er+Math.imul(Dr,fi)|0,er=er+Math.imul(Wr,gi)|0,nr=nr+Math.imul(Wr,fi)|0,lr=lr+Math.imul(br,mi)|0,er=er+Math.imul(br,ui)|0,er=er+Math.imul(Cr,mi)|0,nr=nr+Math.imul(Cr,ui)|0;var Oi=(ur+lr|0)+((er&8191)<<13)|0;ur=(nr+(er>>>13)|0)+(Oi>>>26)|0,Oi&=67108863,lr=Math.imul(wr,ti),er=Math.imul(wr,ri),er=er+Math.imul(Sr,ti)|0,nr=Math.imul(Sr,ri),lr=lr+Math.imul(Jn,li)|0,er=er+Math.imul(Jn,ni)|0,er=er+Math.imul(Rr,li)|0,nr=nr+Math.imul(Rr,ni)|0,lr=lr+Math.imul(qn,ci)|0,er=er+Math.imul(qn,ii)|0,er=er+Math.imul(zn,ci)|0,nr=nr+Math.imul(zn,ii)|0,lr=lr+Math.imul(jr,hi)|0,er=er+Math.imul(jr,oi)|0,er=er+Math.imul(qr,hi)|0,nr=nr+Math.imul(qr,oi)|0,lr=lr+Math.imul(_r,di)|0,er=er+Math.imul(_r,si)|0,er=er+Math.imul($r,di)|0,nr=nr+Math.imul($r,si)|0,lr=lr+Math.imul(Ur,pi)|0,er=er+Math.imul(Ur,ai)|0,er=er+Math.imul(Kr,pi)|0,nr=nr+Math.imul(Kr,ai)|0,lr=lr+Math.imul(Zr,gi)|0,er=er+Math.imul(Zr,fi)|0,er=er+Math.imul(Xr,gi)|0,nr=nr+Math.imul(Xr,fi)|0,lr=lr+Math.imul(Dr,mi)|0,er=er+Math.imul(Dr,ui)|0,er=er+Math.imul(Wr,mi)|0,nr=nr+Math.imul(Wr,ui)|0;var Bi=(ur+lr|0)+((er&8191)<<13)|0;ur=(nr+(er>>>13)|0)+(Bi>>>26)|0,Bi&=67108863,lr=Math.imul(wr,li),er=Math.imul(wr,ni),er=er+Math.imul(Sr,li)|0,nr=Math.imul(Sr,ni),lr=lr+Math.imul(Jn,ci)|0,er=er+Math.imul(Jn,ii)|0,er=er+Math.imul(Rr,ci)|0,nr=nr+Math.imul(Rr,ii)|0,lr=lr+Math.imul(qn,hi)|0,er=er+Math.imul(qn,oi)|0,er=er+Math.imul(zn,hi)|0,nr=nr+Math.imul(zn,oi)|0,lr=lr+Math.imul(jr,di)|0,er=er+Math.imul(jr,si)|0,er=er+Math.imul(qr,di)|0,nr=nr+Math.imul(qr,si)|0,lr=lr+Math.imul(_r,pi)|0,er=er+Math.imul(_r,ai)|0,er=er+Math.imul($r,pi)|0,nr=nr+Math.imul($r,ai)|0,lr=lr+Math.imul(Ur,gi)|0,er=er+Math.imul(Ur,fi)|0,er=er+Math.imul(Kr,gi)|0,nr=nr+Math.imul(Kr,fi)|0,lr=lr+Math.imul(Zr,mi)|0,er=er+Math.imul(Zr,ui)|0,er=er+Math.imul(Xr,mi)|0,nr=nr+Math.imul(Xr,ui)|0;var Li=(ur+lr|0)+((er&8191)<<13)|0;ur=(nr+(er>>>13)|0)+(Li>>>26)|0,Li&=67108863,lr=Math.imul(wr,ci),er=Math.imul(wr,ii),er=er+Math.imul(Sr,ci)|0,nr=Math.imul(Sr,ii),lr=lr+Math.imul(Jn,hi)|0,er=er+Math.imul(Jn,oi)|0,er=er+Math.imul(Rr,hi)|0,nr=nr+Math.imul(Rr,oi)|0,lr=lr+Math.imul(qn,di)|0,er=er+Math.imul(qn,si)|0,er=er+Math.imul(zn,di)|0,nr=nr+Math.imul(zn,si)|0,lr=lr+Math.imul(jr,pi)|0,er=er+Math.imul(jr,ai)|0,er=er+Math.imul(qr,pi)|0,nr=nr+Math.imul(qr,ai)|0,lr=lr+Math.imul(_r,gi)|0,er=er+Math.imul(_r,fi)|0,er=er+Math.imul($r,gi)|0,nr=nr+Math.imul($r,fi)|0,lr=lr+Math.imul(Ur,mi)|0,er=er+Math.imul(Ur,ui)|0,er=er+Math.imul(Kr,mi)|0,nr=nr+Math.imul(Kr,ui)|0;var Di=(ur+lr|0)+((er&8191)<<13)|0;ur=(nr+(er>>>13)|0)+(Di>>>26)|0,Di&=67108863,lr=Math.imul(wr,hi),er=Math.imul(wr,oi),er=er+Math.imul(Sr,hi)|0,nr=Math.imul(Sr,oi),lr=lr+Math.imul(Jn,di)|0,er=er+Math.imul(Jn,si)|0,er=er+Math.imul(Rr,di)|0,nr=nr+Math.imul(Rr,si)|0,lr=lr+Math.imul(qn,pi)|0,er=er+Math.imul(qn,ai)|0,er=er+Math.imul(zn,pi)|0,nr=nr+Math.imul(zn,ai)|0,lr=lr+Math.imul(jr,gi)|0,er=er+Math.imul(jr,fi)|0,er=er+Math.imul(qr,gi)|0,nr=nr+Math.imul(qr,fi)|0,lr=lr+Math.imul(_r,mi)|0,er=er+Math.imul(_r,ui)|0,er=er+Math.imul($r,mi)|0,nr=nr+Math.imul($r,ui)|0;var Fi=(ur+lr|0)+((er&8191)<<13)|0;ur=(nr+(er>>>13)|0)+(Fi>>>26)|0,Fi&=67108863,lr=Math.imul(wr,di),er=Math.imul(wr,si),er=er+Math.imul(Sr,di)|0,nr=Math.imul(Sr,si),lr=lr+Math.imul(Jn,pi)|0,er=er+Math.imul(Jn,ai)|0,er=er+Math.imul(Rr,pi)|0,nr=nr+Math.imul(Rr,ai)|0,lr=lr+Math.imul(qn,gi)|0,er=er+Math.imul(qn,fi)|0,er=er+Math.imul(zn,gi)|0,nr=nr+Math.imul(zn,fi)|0,lr=lr+Math.imul(jr,mi)|0,er=er+Math.imul(jr,ui)|0,er=er+Math.imul(qr,mi)|0,nr=nr+Math.imul(qr,ui)|0;var Ui=(ur+lr|0)+((er&8191)<<13)|0;ur=(nr+(er>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,lr=Math.imul(wr,pi),er=Math.imul(wr,ai),er=er+Math.imul(Sr,pi)|0,nr=Math.imul(Sr,ai),lr=lr+Math.imul(Jn,gi)|0,er=er+Math.imul(Jn,fi)|0,er=er+Math.imul(Rr,gi)|0,nr=nr+Math.imul(Rr,fi)|0,lr=lr+Math.imul(qn,mi)|0,er=er+Math.imul(qn,ui)|0,er=er+Math.imul(zn,mi)|0,nr=nr+Math.imul(zn,ui)|0;var ji=(ur+lr|0)+((er&8191)<<13)|0;ur=(nr+(er>>>13)|0)+(ji>>>26)|0,ji&=67108863,lr=Math.imul(wr,gi),er=Math.imul(wr,fi),er=er+Math.imul(Sr,gi)|0,nr=Math.imul(Sr,fi),lr=lr+Math.imul(Jn,mi)|0,er=er+Math.imul(Jn,ui)|0,er=er+Math.imul(Rr,mi)|0,nr=nr+Math.imul(Rr,ui)|0;var Hi=(ur+lr|0)+((er&8191)<<13)|0;ur=(nr+(er>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,lr=Math.imul(wr,mi),er=Math.imul(wr,ui),er=er+Math.imul(Sr,mi)|0,nr=Math.imul(Sr,ui);var Wi=(ur+lr|0)+((er&8191)<<13)|0;return ur=(nr+(er>>>13)|0)+(Wi>>>26)|0,Wi&=67108863,ir[0]=_i,ir[1]=yi,ir[2]=vi,ir[3]=Ni,ir[4]=Mi,ir[5]=Ci,ir[6]=Ti,ir[7]=ki,ir[8]=Ii,ir[9]=Pi,ir[10]=Oi,ir[11]=Bi,ir[12]=Li,ir[13]=Di,ir[14]=Fi,ir[15]=Ui,ir[16]=ji,ir[17]=Hi,ir[18]=Wi,ur!==0&&(ir[19]=ur,ve.length++),ve};Math.imul||(ar=cr);function mr(Nr,dr,tr){tr.negative=dr.negative^Nr.negative,tr.length=Nr.length+dr.length;for(var ve=0,ce=0,me=0;me<tr.length-1;me++){var ir=ce;ce=0;for(var ur=ve&67108863,lr=Math.min(me,dr.length-1),er=Math.max(0,me-Nr.length+1);er<=lr;er++){var nr=me-er,or=Nr.words[nr]|0,ye=dr.words[er]|0,gr=or*ye,Ar=gr&67108863;ir=ir+(gr/67108864|0)|0,Ar=Ar+ur|0,ur=Ar&67108863,ir=ir+(Ar>>>26)|0,ce+=ir>>>26,ir&=67108863}tr.words[me]=ur,ve=ir,ir=ce}return ve!==0?tr.words[me]=ve:tr.length--,tr.strip()}function pr(Nr,dr,tr){var ve=new yr;return ve.mulp(Nr,dr,tr)}oe.prototype.mulTo=function(dr,tr){var ve,ce=this.length+dr.length;return this.length===10&&dr.length===10?ve=ar(this,dr,tr):ce<63?ve=cr(this,dr,tr):ce<1024?ve=mr(this,dr,tr):ve=pr(this,dr,tr),ve};function yr(Nr,dr){this.x=Nr,this.y=dr}yr.prototype.makeRBT=function(dr){for(var tr=new Array(dr),ve=oe.prototype._countBits(dr)-1,ce=0;ce<dr;ce++)tr[ce]=this.revBin(ce,ve,dr);return tr},yr.prototype.revBin=function(dr,tr,ve){if(dr===0||dr===ve-1)return dr;for(var ce=0,me=0;me<tr;me++)ce|=(dr&1)<<tr-me-1,dr>>=1;return ce},yr.prototype.permute=function(dr,tr,ve,ce,me,ir){for(var ur=0;ur<ir;ur++)ce[ur]=tr[dr[ur]],me[ur]=ve[dr[ur]]},yr.prototype.transform=function(dr,tr,ve,ce,me,ir){this.permute(ir,dr,tr,ve,ce,me);for(var ur=1;ur<me;ur<<=1)for(var lr=ur<<1,er=Math.cos(2*Math.PI/lr),nr=Math.sin(2*Math.PI/lr),or=0;or<me;or+=lr)for(var ye=er,gr=nr,Ar=0;Ar<ur;Ar++){var br=ve[or+Ar],Cr=ce[or+Ar],Lr=ve[or+Ar+ur],Dr=ce[or+Ar+ur],Wr=ye*Lr-gr*Dr;Dr=ye*Dr+gr*Lr,Lr=Wr,ve[or+Ar]=br+Lr,ce[or+Ar]=Cr+Dr,ve[or+Ar+ur]=br-Lr,ce[or+Ar+ur]=Cr-Dr,Ar!==lr&&(Wr=er*ye-nr*gr,gr=er*gr+nr*ye,ye=Wr)}},yr.prototype.guessLen13b=function(dr,tr){var ve=Math.max(tr,dr)|1,ce=ve&1,me=0;for(ve=ve/2|0;ve;ve=ve>>>1)me++;return 1<<me+1+ce},yr.prototype.conjugate=function(dr,tr,ve){if(!(ve<=1))for(var ce=0;ce<ve/2;ce++){var me=dr[ce];dr[ce]=dr[ve-ce-1],dr[ve-ce-1]=me,me=tr[ce],tr[ce]=-tr[ve-ce-1],tr[ve-ce-1]=-me}},yr.prototype.normalize13b=function(dr,tr){for(var ve=0,ce=0;ce<tr/2;ce++){var me=Math.round(dr[2*ce+1]/tr)*8192+Math.round(dr[2*ce]/tr)+ve;dr[ce]=me&67108863,me<67108864?ve=0:ve=me/67108864|0}return dr},yr.prototype.convert13b=function(dr,tr,ve,ce){for(var me=0,ir=0;ir<tr;ir++)me=me+(dr[ir]|0),ve[2*ir]=me&8191,me=me>>>13,ve[2*ir+1]=me&8191,me=me>>>13;for(ir=2*tr;ir<ce;++ir)ve[ir]=0;ne(me===0),ne((me&-8192)===0)},yr.prototype.stub=function(dr){for(var tr=new Array(dr),ve=0;ve<dr;ve++)tr[ve]=0;return tr},yr.prototype.mulp=function(dr,tr,ve){var ce=2*this.guessLen13b(dr.length,tr.length),me=this.makeRBT(ce),ir=this.stub(ce),ur=new Array(ce),lr=new Array(ce),er=new Array(ce),nr=new Array(ce),or=new Array(ce),ye=new Array(ce),gr=ve.words;gr.length=ce,this.convert13b(dr.words,dr.length,ur,ce),this.convert13b(tr.words,tr.length,nr,ce),this.transform(ur,ir,lr,er,ce,me),this.transform(nr,ir,or,ye,ce,me);for(var Ar=0;Ar<ce;Ar++){var br=lr[Ar]*or[Ar]-er[Ar]*ye[Ar];er[Ar]=lr[Ar]*ye[Ar]+er[Ar]*or[Ar],lr[Ar]=br}return this.conjugate(lr,er,ce),this.transform(lr,er,gr,ir,ce,me),this.conjugate(gr,ir,ce),this.normalize13b(gr,ce),ve.negative=dr.negative^tr.negative,ve.length=dr.length+tr.length,ve.strip()},oe.prototype.mul=function(dr){var tr=new oe(null);return tr.words=new Array(this.length+dr.length),this.mulTo(dr,tr)},oe.prototype.mulf=function(dr){var tr=new oe(null);return tr.words=new Array(this.length+dr.length),pr(this,dr,tr)},oe.prototype.imul=function(dr){return this.clone().mulTo(dr,this)},oe.prototype.imuln=function(dr){ne(typeof dr=="number"),ne(dr<67108864);for(var tr=0,ve=0;ve<this.length;ve++){var ce=(this.words[ve]|0)*dr,me=(ce&67108863)+(tr&67108863);tr>>=26,tr+=ce/67108864|0,tr+=me>>>26,this.words[ve]=me&67108863}return tr!==0&&(this.words[ve]=tr,this.length++),this},oe.prototype.muln=function(dr){return this.clone().imuln(dr)},oe.prototype.sqr=function(){return this.mul(this)},oe.prototype.isqr=function(){return this.imul(this.clone())},oe.prototype.pow=function(dr){var tr=rr(dr);if(tr.length===0)return new oe(1);for(var ve=this,ce=0;ce<tr.length&&tr[ce]===0;ce++,ve=ve.sqr());if(++ce<tr.length)for(var me=ve.sqr();ce<tr.length;ce++,me=me.sqr())tr[ce]!==0&&(ve=ve.mul(me));return ve},oe.prototype.iushln=function(dr){ne(typeof dr=="number"&&dr>=0);var tr=dr%26,ve=(dr-tr)/26,ce=67108863>>>26-tr<<26-tr,me;if(tr!==0){var ir=0;for(me=0;me<this.length;me++){var ur=this.words[me]&ce,lr=(this.words[me]|0)-ur<<tr;this.words[me]=lr|ir,ir=ur>>>26-tr}ir&&(this.words[me]=ir,this.length++)}if(ve!==0){for(me=this.length-1;me>=0;me--)this.words[me+ve]=this.words[me];for(me=0;me<ve;me++)this.words[me]=0;this.length+=ve}return this.strip()},oe.prototype.ishln=function(dr){return ne(this.negative===0),this.iushln(dr)},oe.prototype.iushrn=function(dr,tr,ve){ne(typeof dr=="number"&&dr>=0);var ce;tr?ce=(tr-tr%26)/26:ce=0;var me=dr%26,ir=Math.min((dr-me)/26,this.length),ur=67108863^67108863>>>me<<me,lr=ve;if(ce-=ir,ce=Math.max(0,ce),lr){for(var er=0;er<ir;er++)lr.words[er]=this.words[er];lr.length=ir}if(ir!==0)if(this.length>ir)for(this.length-=ir,er=0;er<this.length;er++)this.words[er]=this.words[er+ir];else this.words[0]=0,this.length=1;var nr=0;for(er=this.length-1;er>=0&&(nr!==0||er>=ce);er--){var or=this.words[er]|0;this.words[er]=nr<<26-me|or>>>me,nr=or&ur}return lr&&nr!==0&&(lr.words[lr.length++]=nr),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},oe.prototype.ishrn=function(dr,tr,ve){return ne(this.negative===0),this.iushrn(dr,tr,ve)},oe.prototype.shln=function(dr){return this.clone().ishln(dr)},oe.prototype.ushln=function(dr){return this.clone().iushln(dr)},oe.prototype.shrn=function(dr){return this.clone().ishrn(dr)},oe.prototype.ushrn=function(dr){return this.clone().iushrn(dr)},oe.prototype.testn=function(dr){ne(typeof dr=="number"&&dr>=0);var tr=dr%26,ve=(dr-tr)/26,ce=1<<tr;if(this.length<=ve)return!1;var me=this.words[ve];return!!(me&ce)},oe.prototype.imaskn=function(dr){ne(typeof dr=="number"&&dr>=0);var tr=dr%26,ve=(dr-tr)/26;if(ne(this.negative===0,"imaskn works only with positive numbers"),this.length<=ve)return this;if(tr!==0&&ve++,this.length=Math.min(ve,this.length),tr!==0){var ce=67108863^67108863>>>tr<<tr;this.words[this.length-1]&=ce}return this.strip()},oe.prototype.maskn=function(dr){return this.clone().imaskn(dr)},oe.prototype.iaddn=function(dr){return ne(typeof dr=="number"),ne(dr<67108864),dr<0?this.isubn(-dr):this.negative!==0?this.length===1&&(this.words[0]|0)<dr?(this.words[0]=dr-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(dr),this.negative=1,this):this._iaddn(dr)},oe.prototype._iaddn=function(dr){this.words[0]+=dr;for(var tr=0;tr<this.length&&this.words[tr]>=67108864;tr++)this.words[tr]-=67108864,tr===this.length-1?this.words[tr+1]=1:this.words[tr+1]++;return this.length=Math.max(this.length,tr+1),this},oe.prototype.isubn=function(dr){if(ne(typeof dr=="number"),ne(dr<67108864),dr<0)return this.iaddn(-dr);if(this.negative!==0)return this.negative=0,this.iaddn(dr),this.negative=1,this;if(this.words[0]-=dr,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var tr=0;tr<this.length&&this.words[tr]<0;tr++)this.words[tr]+=67108864,this.words[tr+1]-=1;return this.strip()},oe.prototype.addn=function(dr){return this.clone().iaddn(dr)},oe.prototype.subn=function(dr){return this.clone().isubn(dr)},oe.prototype.iabs=function(){return this.negative=0,this},oe.prototype.abs=function(){return this.clone().iabs()},oe.prototype._ishlnsubmul=function(dr,tr,ve){var ce=dr.length+ve,me;this._expand(ce);var ir,ur=0;for(me=0;me<dr.length;me++){ir=(this.words[me+ve]|0)+ur;var lr=(dr.words[me]|0)*tr;ir-=lr&67108863,ur=(ir>>26)-(lr/67108864|0),this.words[me+ve]=ir&67108863}for(;me<this.length-ve;me++)ir=(this.words[me+ve]|0)+ur,ur=ir>>26,this.words[me+ve]=ir&67108863;if(ur===0)return this.strip();for(ne(ur===-1),ur=0,me=0;me<this.length;me++)ir=-(this.words[me]|0)+ur,ur=ir>>26,this.words[me]=ir&67108863;return this.negative=1,this.strip()},oe.prototype._wordDiv=function(dr,tr){var ve=this.length-dr.length,ce=this.clone(),me=dr,ir=me.words[me.length-1]|0,ur=this._countBits(ir);ve=26-ur,ve!==0&&(me=me.ushln(ve),ce.iushln(ve),ir=me.words[me.length-1]|0);var lr=ce.length-me.length,er;if(tr!=="mod"){er=new oe(null),er.length=lr+1,er.words=new Array(er.length);for(var nr=0;nr<er.length;nr++)er.words[nr]=0}var or=ce.clone()._ishlnsubmul(me,1,lr);or.negative===0&&(ce=or,er&&(er.words[lr]=1));for(var ye=lr-1;ye>=0;ye--){var gr=(ce.words[me.length+ye]|0)*67108864+(ce.words[me.length+ye-1]|0);for(gr=Math.min(gr/ir|0,67108863),ce._ishlnsubmul(me,gr,ye);ce.negative!==0;)gr--,ce.negative=0,ce._ishlnsubmul(me,1,ye),ce.isZero()||(ce.negative^=1);er&&(er.words[ye]=gr)}return er&&er.strip(),ce.strip(),tr!=="div"&&ve!==0&&ce.iushrn(ve),{div:er||null,mod:ce}},oe.prototype.divmod=function(dr,tr,ve){if(ne(!dr.isZero()),this.isZero())return{div:new oe(0),mod:new oe(0)};var ce,me,ir;return this.negative!==0&&dr.negative===0?(ir=this.neg().divmod(dr,tr),tr!=="mod"&&(ce=ir.div.neg()),tr!=="div"&&(me=ir.mod.neg(),ve&&me.negative!==0&&me.iadd(dr)),{div:ce,mod:me}):this.negative===0&&dr.negative!==0?(ir=this.divmod(dr.neg(),tr),tr!=="mod"&&(ce=ir.div.neg()),{div:ce,mod:ir.mod}):(this.negative&dr.negative)!==0?(ir=this.neg().divmod(dr.neg(),tr),tr!=="div"&&(me=ir.mod.neg(),ve&&me.negative!==0&&me.isub(dr)),{div:ir.div,mod:me}):dr.length>this.length||this.cmp(dr)<0?{div:new oe(0),mod:this}:dr.length===1?tr==="div"?{div:this.divn(dr.words[0]),mod:null}:tr==="mod"?{div:null,mod:new oe(this.modn(dr.words[0]))}:{div:this.divn(dr.words[0]),mod:new oe(this.modn(dr.words[0]))}:this._wordDiv(dr,tr)},oe.prototype.div=function(dr){return this.divmod(dr,"div",!1).div},oe.prototype.mod=function(dr){return this.divmod(dr,"mod",!1).mod},oe.prototype.umod=function(dr){return this.divmod(dr,"mod",!0).mod},oe.prototype.divRound=function(dr){var tr=this.divmod(dr);if(tr.mod.isZero())return tr.div;var ve=tr.div.negative!==0?tr.mod.isub(dr):tr.mod,ce=dr.ushrn(1),me=dr.andln(1),ir=ve.cmp(ce);return ir<0||me===1&&ir===0?tr.div:tr.div.negative!==0?tr.div.isubn(1):tr.div.iaddn(1)},oe.prototype.modn=function(dr){ne(dr<=67108863);for(var tr=(1<<26)%dr,ve=0,ce=this.length-1;ce>=0;ce--)ve=(tr*ve+(this.words[ce]|0))%dr;return ve},oe.prototype.idivn=function(dr){ne(dr<=67108863);for(var tr=0,ve=this.length-1;ve>=0;ve--){var ce=(this.words[ve]|0)+tr*67108864;this.words[ve]=ce/dr|0,tr=ce%dr}return this.strip()},oe.prototype.divn=function(dr){return this.clone().idivn(dr)},oe.prototype.egcd=function(dr){ne(dr.negative===0),ne(!dr.isZero());var tr=this,ve=dr.clone();tr.negative!==0?tr=tr.umod(dr):tr=tr.clone();for(var ce=new oe(1),me=new oe(0),ir=new oe(0),ur=new oe(1),lr=0;tr.isEven()&&ve.isEven();)tr.iushrn(1),ve.iushrn(1),++lr;for(var er=ve.clone(),nr=tr.clone();!tr.isZero();){for(var or=0,ye=1;(tr.words[0]&ye)===0&&or<26;++or,ye<<=1);if(or>0)for(tr.iushrn(or);or-- >0;)(ce.isOdd()||me.isOdd())&&(ce.iadd(er),me.isub(nr)),ce.iushrn(1),me.iushrn(1);for(var gr=0,Ar=1;(ve.words[0]&Ar)===0&&gr<26;++gr,Ar<<=1);if(gr>0)for(ve.iushrn(gr);gr-- >0;)(ir.isOdd()||ur.isOdd())&&(ir.iadd(er),ur.isub(nr)),ir.iushrn(1),ur.iushrn(1);tr.cmp(ve)>=0?(tr.isub(ve),ce.isub(ir),me.isub(ur)):(ve.isub(tr),ir.isub(ce),ur.isub(me))}return{a:ir,b:ur,gcd:ve.iushln(lr)}},oe.prototype._invmp=function(dr){ne(dr.negative===0),ne(!dr.isZero());var tr=this,ve=dr.clone();tr.negative!==0?tr=tr.umod(dr):tr=tr.clone();for(var ce=new oe(1),me=new oe(0),ir=ve.clone();tr.cmpn(1)>0&&ve.cmpn(1)>0;){for(var ur=0,lr=1;(tr.words[0]&lr)===0&&ur<26;++ur,lr<<=1);if(ur>0)for(tr.iushrn(ur);ur-- >0;)ce.isOdd()&&ce.iadd(ir),ce.iushrn(1);for(var er=0,nr=1;(ve.words[0]&nr)===0&&er<26;++er,nr<<=1);if(er>0)for(ve.iushrn(er);er-- >0;)me.isOdd()&&me.iadd(ir),me.iushrn(1);tr.cmp(ve)>=0?(tr.isub(ve),ce.isub(me)):(ve.isub(tr),me.isub(ce))}var or;return tr.cmpn(1)===0?or=ce:or=me,or.cmpn(0)<0&&or.iadd(dr),or},oe.prototype.gcd=function(dr){if(this.isZero())return dr.abs();if(dr.isZero())return this.abs();var tr=this.clone(),ve=dr.clone();tr.negative=0,ve.negative=0;for(var ce=0;tr.isEven()&&ve.isEven();ce++)tr.iushrn(1),ve.iushrn(1);do{for(;tr.isEven();)tr.iushrn(1);for(;ve.isEven();)ve.iushrn(1);var me=tr.cmp(ve);if(me<0){var ir=tr;tr=ve,ve=ir}else if(me===0||ve.cmpn(1)===0)break;tr.isub(ve)}while(!0);return ve.iushln(ce)},oe.prototype.invm=function(dr){return this.egcd(dr).a.umod(dr)},oe.prototype.isEven=function(){return(this.words[0]&1)===0},oe.prototype.isOdd=function(){return(this.words[0]&1)===1},oe.prototype.andln=function(dr){return this.words[0]&dr},oe.prototype.bincn=function(dr){ne(typeof dr=="number");var tr=dr%26,ve=(dr-tr)/26,ce=1<<tr;if(this.length<=ve)return this._expand(ve+1),this.words[ve]|=ce,this;for(var me=ce,ir=ve;me!==0&&ir<this.length;ir++){var ur=this.words[ir]|0;ur+=me,me=ur>>>26,ur&=67108863,this.words[ir]=ur}return me!==0&&(this.words[ir]=me,this.length++),this},oe.prototype.isZero=function(){return this.length===1&&this.words[0]===0},oe.prototype.cmpn=function(dr){var tr=dr<0;if(this.negative!==0&&!tr)return-1;if(this.negative===0&&tr)return 1;this.strip();var ve;if(this.length>1)ve=1;else{tr&&(dr=-dr),ne(dr<=67108863,"Number is too big");var ce=this.words[0]|0;ve=ce===dr?0:ce<dr?-1:1}return this.negative!==0?-ve|0:ve},oe.prototype.cmp=function(dr){if(this.negative!==0&&dr.negative===0)return-1;if(this.negative===0&&dr.negative!==0)return 1;var tr=this.ucmp(dr);return this.negative!==0?-tr|0:tr},oe.prototype.ucmp=function(dr){if(this.length>dr.length)return 1;if(this.length<dr.length)return-1;for(var tr=0,ve=this.length-1;ve>=0;ve--){var ce=this.words[ve]|0,me=dr.words[ve]|0;if(ce!==me){ce<me?tr=-1:ce>me&&(tr=1);break}}return tr},oe.prototype.gtn=function(dr){return this.cmpn(dr)===1},oe.prototype.gt=function(dr){return this.cmp(dr)===1},oe.prototype.gten=function(dr){return this.cmpn(dr)>=0},oe.prototype.gte=function(dr){return this.cmp(dr)>=0},oe.prototype.ltn=function(dr){return this.cmpn(dr)===-1},oe.prototype.lt=function(dr){return this.cmp(dr)===-1},oe.prototype.lten=function(dr){return this.cmpn(dr)<=0},oe.prototype.lte=function(dr){return this.cmp(dr)<=0},oe.prototype.eqn=function(dr){return this.cmpn(dr)===0},oe.prototype.eq=function(dr){return this.cmp(dr)===0},oe.red=function(dr){return new Pr(dr)},oe.prototype.toRed=function(dr){return ne(!this.red,"Already a number in reduction context"),ne(this.negative===0,"red works only with positives"),dr.convertTo(this)._forceRed(dr)},oe.prototype.fromRed=function(){return ne(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},oe.prototype._forceRed=function(dr){return this.red=dr,this},oe.prototype.forceRed=function(dr){return ne(!this.red,"Already a number in reduction context"),this._forceRed(dr)},oe.prototype.redAdd=function(dr){return ne(this.red,"redAdd works only with red numbers"),this.red.add(this,dr)},oe.prototype.redIAdd=function(dr){return ne(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,dr)},oe.prototype.redSub=function(dr){return ne(this.red,"redSub works only with red numbers"),this.red.sub(this,dr)},oe.prototype.redISub=function(dr){return ne(this.red,"redISub works only with red numbers"),this.red.isub(this,dr)},oe.prototype.redShl=function(dr){return ne(this.red,"redShl works only with red numbers"),this.red.shl(this,dr)},oe.prototype.redMul=function(dr){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,dr),this.red.mul(this,dr)},oe.prototype.redIMul=function(dr){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,dr),this.red.imul(this,dr)},oe.prototype.redSqr=function(){return ne(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},oe.prototype.redISqr=function(){return ne(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},oe.prototype.redSqrt=function(){return ne(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},oe.prototype.redInvm=function(){return ne(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},oe.prototype.redNeg=function(){return ne(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},oe.prototype.redPow=function(dr){return ne(this.red&&!dr.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,dr)};var vr={k256:null,p224:null,p192:null,p25519:null};function Er(Nr,dr){this.name=Nr,this.p=new oe(dr,16),this.n=this.p.bitLength(),this.k=new oe(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Er.prototype._tmp=function(){var dr=new oe(null);return dr.words=new Array(Math.ceil(this.n/13)),dr},Er.prototype.ireduce=function(dr){var tr=dr,ve;do this.split(tr,this.tmp),tr=this.imulK(tr),tr=tr.iadd(this.tmp),ve=tr.bitLength();while(ve>this.n);var ce=ve<this.n?-1:tr.ucmp(this.p);return ce===0?(tr.words[0]=0,tr.length=1):ce>0?tr.isub(this.p):tr.strip(),tr},Er.prototype.split=function(dr,tr){dr.iushrn(this.n,0,tr)},Er.prototype.imulK=function(dr){return dr.imul(this.k)};function Tr(){Er.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}ie(Tr,Er),Tr.prototype.split=function(dr,tr){for(var ve=4194303,ce=Math.min(dr.length,9),me=0;me<ce;me++)tr.words[me]=dr.words[me];if(tr.length=ce,dr.length<=9){dr.words[0]=0,dr.length=1;return}var ir=dr.words[9];for(tr.words[tr.length++]=ir&ve,me=10;me<dr.length;me++){var ur=dr.words[me]|0;dr.words[me-10]=(ur&ve)<<4|ir>>>22,ir=ur}ir>>>=22,dr.words[me-10]=ir,ir===0&&dr.length>10?dr.length-=10:dr.length-=9},Tr.prototype.imulK=function(dr){dr.words[dr.length]=0,dr.words[dr.length+1]=0,dr.length+=2;for(var tr=0,ve=0;ve<dr.length;ve++){var ce=dr.words[ve]|0;tr+=ce*977,dr.words[ve]=tr&67108863,tr=ce*64+(tr/67108864|0)}return dr.words[dr.length-1]===0&&(dr.length--,dr.words[dr.length-1]===0&&dr.length--),dr};function Ir(){Er.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}ie(Ir,Er);function Or(){Er.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}ie(Or,Er);function Hr(){Er.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}ie(Hr,Er),Hr.prototype.imulK=function(dr){for(var tr=0,ve=0;ve<dr.length;ve++){var ce=(dr.words[ve]|0)*19+tr,me=ce&67108863;ce>>>=26,dr.words[ve]=me,tr=ce}return tr!==0&&(dr.words[dr.length++]=tr),dr},oe._prime=function(dr){if(vr[dr])return vr[dr];var tr;if(dr==="k256")tr=new Tr;else if(dr==="p224")tr=new Ir;else if(dr==="p192")tr=new Or;else if(dr==="p25519")tr=new Hr;else throw new Error("Unknown prime "+dr);return vr[dr]=tr,tr};function Pr(Nr){if(typeof Nr=="string"){var dr=oe._prime(Nr);this.m=dr.p,this.prime=dr}else ne(Nr.gtn(1),"modulus must be greater than 1"),this.m=Nr,this.prime=null}Pr.prototype._verify1=function(dr){ne(dr.negative===0,"red works only with positives"),ne(dr.red,"red works only with red numbers")},Pr.prototype._verify2=function(dr,tr){ne((dr.negative|tr.negative)===0,"red works only with positives"),ne(dr.red&&dr.red===tr.red,"red works only with red numbers")},Pr.prototype.imod=function(dr){return this.prime?this.prime.ireduce(dr)._forceRed(this):dr.umod(this.m)._forceRed(this)},Pr.prototype.neg=function(dr){return dr.isZero()?dr.clone():this.m.sub(dr)._forceRed(this)},Pr.prototype.add=function(dr,tr){this._verify2(dr,tr);var ve=dr.add(tr);return ve.cmp(this.m)>=0&&ve.isub(this.m),ve._forceRed(this)},Pr.prototype.iadd=function(dr,tr){this._verify2(dr,tr);var ve=dr.iadd(tr);return ve.cmp(this.m)>=0&&ve.isub(this.m),ve},Pr.prototype.sub=function(dr,tr){this._verify2(dr,tr);var ve=dr.sub(tr);return ve.cmpn(0)<0&&ve.iadd(this.m),ve._forceRed(this)},Pr.prototype.isub=function(dr,tr){this._verify2(dr,tr);var ve=dr.isub(tr);return ve.cmpn(0)<0&&ve.iadd(this.m),ve},Pr.prototype.shl=function(dr,tr){return this._verify1(dr),this.imod(dr.ushln(tr))},Pr.prototype.imul=function(dr,tr){return this._verify2(dr,tr),this.imod(dr.imul(tr))},Pr.prototype.mul=function(dr,tr){return this._verify2(dr,tr),this.imod(dr.mul(tr))},Pr.prototype.isqr=function(dr){return this.imul(dr,dr.clone())},Pr.prototype.sqr=function(dr){return this.mul(dr,dr)},Pr.prototype.sqrt=function(dr){if(dr.isZero())return dr.clone();var tr=this.m.andln(3);if(ne(tr%2===1),tr===3){var ve=this.m.add(new oe(1)).iushrn(2);return this.pow(dr,ve)}for(var ce=this.m.subn(1),me=0;!ce.isZero()&&ce.andln(1)===0;)me++,ce.iushrn(1);ne(!ce.isZero());var ir=new oe(1).toRed(this),ur=ir.redNeg(),lr=this.m.subn(1).iushrn(1),er=this.m.bitLength();for(er=new oe(2*er*er).toRed(this);this.pow(er,lr).cmp(ur)!==0;)er.redIAdd(ur);for(var nr=this.pow(er,ce),or=this.pow(dr,ce.addn(1).iushrn(1)),ye=this.pow(dr,ce),gr=me;ye.cmp(ir)!==0;){for(var Ar=ye,br=0;Ar.cmp(ir)!==0;br++)Ar=Ar.redSqr();ne(br<gr);var Cr=this.pow(nr,new oe(1).iushln(gr-br-1));or=or.redMul(Cr),nr=Cr.redSqr(),ye=ye.redMul(nr),gr=br}return or},Pr.prototype.invm=function(dr){var tr=dr._invmp(this.m);return tr.negative!==0?(tr.negative=0,this.imod(tr).redNeg()):this.imod(tr)},Pr.prototype.pow=function(dr,tr){if(tr.isZero())return new oe(1).toRed(this);if(tr.cmpn(1)===0)return dr.clone();var ve=4,ce=new Array(1<<ve);ce[0]=new oe(1).toRed(this),ce[1]=dr;for(var me=2;me<ce.length;me++)ce[me]=this.mul(ce[me-1],dr);var ir=ce[0],ur=0,lr=0,er=tr.bitLength()%26;for(er===0&&(er=26),me=tr.length-1;me>=0;me--){for(var nr=tr.words[me],or=er-1;or>=0;or--){var ye=nr>>or&1;if(ir!==ce[0]&&(ir=this.sqr(ir)),ye===0&&ur===0){lr=0;continue}ur<<=1,ur|=ye,lr++,!(lr!==ve&&(me!==0||or!==0))&&(ir=this.mul(ir,ce[ur]),lr=0,ur=0)}er=26}return ir},Pr.prototype.convertTo=function(dr){var tr=dr.umod(this.m);return tr===dr?tr.clone():tr},Pr.prototype.convertFrom=function(dr){var tr=dr.clone();return tr.red=null,tr},oe.mont=function(dr){return new Br(dr)};function Br(Nr){Pr.call(this,Nr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new oe(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ie(Br,Pr),Br.prototype.convertTo=function(dr){return this.imod(dr.ushln(this.shift))},Br.prototype.convertFrom=function(dr){var tr=this.imod(dr.mul(this.rinv));return tr.red=null,tr},Br.prototype.imul=function(dr,tr){if(dr.isZero()||tr.isZero())return dr.words[0]=0,dr.length=1,dr;var ve=dr.imul(tr),ce=ve.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),me=ve.isub(ce).iushrn(this.shift),ir=me;return me.cmp(this.m)>=0?ir=me.isub(this.m):me.cmpn(0)<0&&(ir=me.iadd(this.m)),ir._forceRed(this)},Br.prototype.mul=function(dr,tr){if(dr.isZero()||tr.isZero())return new oe(0)._forceRed(this);var ve=dr.mul(tr),ce=ve.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),me=ve.isub(ce).iushrn(this.shift),ir=me;return me.cmp(this.m)>=0?ir=me.isub(this.m):me.cmpn(0)<0&&(ir=me.iadd(this.m)),ir._forceRed(this)},Br.prototype.invm=function(dr){var tr=this.imod(dr._invmp(this.m).mul(this.r2));return tr._forceRed(this)}})(te,commonjsGlobal$1)})(bn$2);var BN$2=bn$2.exports,isTypedarray=isTypedArray$1;isTypedArray$1.strict=isStrictTypedArray;isTypedArray$1.loose=isLooseTypedArray;var toString$1=Object.prototype.toString,names={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function isTypedArray$1(te){return isStrictTypedArray(te)||isLooseTypedArray(te)}function isStrictTypedArray(te){return te instanceof Int8Array||te instanceof Int16Array||te instanceof Int32Array||te instanceof Uint8Array||te instanceof Uint8ClampedArray||te instanceof Uint16Array||te instanceof Uint32Array||te instanceof Float32Array||te instanceof Float64Array}function isLooseTypedArray(te){return names[toString$1.call(te)]}var isTypedArray=isTypedarray.strict,typedarrayToBuffer=function(ee){if(isTypedArray(ee)){var re=buffer$2.Buffer.from(ee.buffer);return ee.byteLength!==ee.buffer.byteLength&&(re=re.slice(ee.byteOffset,ee.byteOffset+ee.byteLength)),re}else return buffer$2.Buffer.from(ee)};const ENC_HEX="hex",ENC_UTF8="utf8",STRING_ZERO="0";function bufferToArray(te){return new Uint8Array(te)}function bufferToHex$1(te,ee=!1){const re=te.toString(ENC_HEX);return ee?addHexPrefix(re):re}function bufferToUtf8(te){return te.toString(ENC_UTF8)}function arrayToBuffer(te){return typedarrayToBuffer(te)}function arrayToHex(te,ee=!1){return bufferToHex$1(arrayToBuffer(te),ee)}function arrayToUtf8(te){return bufferToUtf8(arrayToBuffer(te))}function hexToBuffer(te){return buffer$2.Buffer.from(removeHexPrefix(te),ENC_HEX)}function hexToArray(te){return bufferToArray(hexToBuffer(te))}function utf8ToBuffer(te){return buffer$2.Buffer.from(te,ENC_UTF8)}function utf8ToArray(te){return bufferToArray(utf8ToBuffer(te))}function utf8ToHex(te,ee=!1){return bufferToHex$1(utf8ToBuffer(te),ee)}function isHexString$3(te,ee){return!(typeof te!="string"||!te.match(/^0x[0-9A-Fa-f]*$/)||ee&&te.length!==2+2*ee)}function concatArrays(...te){let ee=[];return te.forEach(re=>ee=ee.concat(Array.from(re))),new Uint8Array([...ee])}function calcByteLength(te,ee=8){const re=te%ee;return re?(te-re)/ee*ee+ee:te}function sanitizeBytes(te,ee=8,re=STRING_ZERO){return padLeft(te,calcByteLength(te.length,ee),re)}function padLeft(te,ee,re=STRING_ZERO){return padString(te,ee,!0,re)}function removeHexPrefix(te){return te.replace(/^0x/,"")}function addHexPrefix(te){return te.startsWith("0x")?te:`0x${te}`}function sanitizeHex$1(te){return te=removeHexPrefix(te),te=sanitizeBytes(te,2),te&&(te=addHexPrefix(te)),te}function removeHexLeadingZeros$1(te){const ee=te.startsWith("0x");return te=removeHexPrefix(te),te=te.startsWith(STRING_ZERO)?te.substring(1):te,ee?addHexPrefix(te):te}function padString(te,ee,re,ne=STRING_ZERO){const ie=ee-te.length;let oe=te;if(ie>0){const se=ne.repeat(ie);oe=re?se+te:te+se}return oe}function convertArrayBufferToBuffer(te){return arrayToBuffer(new Uint8Array(te))}function convertArrayBufferToHex(te,ee){return arrayToHex(new Uint8Array(te),!ee)}function convertBufferToArrayBuffer(te){return bufferToArray(te).buffer}function convertUtf8ToBuffer(te){return utf8ToBuffer(te)}function convertUtf8ToHex(te,ee){return utf8ToHex(te,!ee)}function convertHexToArrayBuffer(te){return hexToArray(te).buffer}function convertNumberToHex(te,ee){const re=removeHexPrefix(sanitizeHex$1(new BN$2(te).toString(16)));return ee?re:addHexPrefix(re)}var cjs$1={},crypto$1={};Object.defineProperty(crypto$1,"__esModule",{value:!0});crypto$1.isBrowserCryptoAvailable=crypto$1.getSubtleCrypto=crypto$1.getBrowerCrypto=void 0;function getBrowerCrypto(){return(commonjsGlobal$1==null?void 0:commonjsGlobal$1.crypto)||(commonjsGlobal$1==null?void 0:commonjsGlobal$1.msCrypto)||{}}crypto$1.getBrowerCrypto=getBrowerCrypto;function getSubtleCrypto(){const te=getBrowerCrypto();return te.subtle||te.webkitSubtle}crypto$1.getSubtleCrypto=getSubtleCrypto;function isBrowserCryptoAvailable(){return!!getBrowerCrypto()&&!!getSubtleCrypto()}crypto$1.isBrowserCryptoAvailable=isBrowserCryptoAvailable;var env={};Object.defineProperty(env,"__esModule",{value:!0});env.isBrowser=env.isNode=env.isReactNative=void 0;function isReactNative(){return typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"}env.isReactNative=isReactNative;function isNode$1(){return typeof process!="undefined"&&typeof process.versions!="undefined"&&typeof process.versions.node!="undefined"}env.isNode=isNode$1;function isBrowser$2(){return!isReactNative()&&!isNode$1()}env.isBrowser=isBrowser$2;(function(te){var ee=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(ne,ie,oe,se){se===void 0&&(se=oe),Object.defineProperty(ne,se,{enumerable:!0,get:function(){return ie[oe]}})}:function(ne,ie,oe,se){se===void 0&&(se=oe),ne[se]=ie[oe]}),re=commonjsGlobal$1&&commonjsGlobal$1.__exportStar||function(ne,ie){for(var oe in ne)oe!=="default"&&!ie.hasOwnProperty(oe)&&ee(ie,ne,oe)};Object.defineProperty(te,"__esModule",{value:!0}),re(crypto$1,te),re(env,te)})(cjs$1);function payloadId$1(){const te=Date.now()*Math.pow(10,3),ee=Math.floor(Math.random()*Math.pow(10,3));return te+ee}function sanitizeHex(te){return sanitizeHex$1(te)}function removeHexLeadingZeros(te){return removeHexLeadingZeros$1(addHexPrefix(te))}const payloadId=payloadId$1;function uuid(){return((ee,re)=>{for(re=ee="";ee++<36;re+=ee*51&52?(ee^15?8^Math.random()*(ee^20?16:4):4).toString(16):"-");return re})()}function getInfuraRpcUrl(te,ee){let re;const ne=infuraNetworks[te];return ne&&(re=`https://${ne}.infura.io/v3/${ee}`),re}function getRpcUrl(te,ee){let re;const ne=getInfuraRpcUrl(te,ee.infuraId);return ee.custom&&ee.custom[te]?re=ee.custom[te]:ne&&(re=ne),re}function isEmptyString(te){return te===""||typeof te=="string"&&te.trim()===""}function isEmptyArray(te){return!(te&&te.length)}function isHexString$2(te,ee){return isHexString$3(te,ee)}function isJsonRpcRequest(te){return typeof te.method!="undefined"}function isJsonRpcResponseSuccess(te){return typeof te.result!="undefined"}function isJsonRpcResponseError(te){return typeof te.error!="undefined"}function isInternalEvent(te){return typeof te.event!="undefined"}function isReservedEvent(te){return reservedEvents.includes(te)||te.startsWith("wc_")}function isSilentPayload(te){return te.method.startsWith("wc_")?!0:!signingMethods.includes(te.method)}function toChecksumAddress(te){te=removeHexPrefix(te.toLowerCase());const ee=removeHexPrefix(sha3$1.exports.keccak_256(convertUtf8ToBuffer(te)));let re="";for(let ne=0;ne<te.length;ne++)parseInt(ee[ne],16)>7?re+=te[ne].toUpperCase():re+=te[ne];return addHexPrefix(re)}const isValidAddress=te=>te?te.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(te)?/^(0x)?[0-9a-f]{40}$/.test(te)||/^(0x)?[0-9A-F]{40}$/.test(te)?!0:te===toChecksumAddress(te):!1:!1;function parsePersonalSign(te){return!isEmptyArray(te)&&!isHexString$2(te[0])&&(te[0]=convertUtf8ToHex(te[0])),te}function parseTransactionData(te){if(typeof te.type!="undefined"&&te.type!=="0")return te;if(typeof te.from=="undefined"||!isValidAddress(te.from))throw new Error("Transaction object must include a valid 'from' value.");function ee(ie){let oe=ie;return(typeof ie=="number"||typeof ie=="string"&&!isEmptyString(ie))&&(isHexString$2(ie)?typeof ie=="string"&&(oe=sanitizeHex(ie)):oe=convertNumberToHex(ie)),typeof oe=="string"&&(oe=removeHexLeadingZeros(oe)),oe}const re={from:sanitizeHex(te.from),to:typeof te.to=="undefined"?"":sanitizeHex(te.to),gasPrice:typeof te.gasPrice=="undefined"?"":ee(te.gasPrice),gas:typeof te.gas=="undefined"?typeof te.gasLimit=="undefined"?"":ee(te.gasLimit):ee(te.gas),value:typeof te.value=="undefined"?"":ee(te.value),nonce:typeof te.nonce=="undefined"?"":ee(te.nonce),data:typeof te.data=="undefined"?"":sanitizeHex(te.data)||"0x"},ne=["gasPrice","gas","value","nonce"];return Object.keys(re).forEach(ie=>{!re[ie].trim().length&&ne.includes(ie)&&delete re[ie]}),re}function formatRpcError(te){const ee=te.message||"Failed or Rejected Request";let re=-32e3;if(te&&!te.code)switch(ee){case"Parse error":re=-32700;break;case"Invalid request":re=-32600;break;case"Method not found":re=-32601;break;case"Invalid params":re=-32602;break;case"Internal error":re=-32603;break;default:re=-32e3;break}return{code:re,message:ee}}var queryString={},strictUriEncode=te=>encodeURIComponent(te).replace(/[!'()*]/g,ee=>`%${ee.charCodeAt(0).toString(16).toUpperCase()}`),token="%[a-f0-9]{2}",singleMatcher=new RegExp(token,"gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(te,ee){try{return decodeURIComponent(te.join(""))}catch{}if(te.length===1)return te;ee=ee||1;var re=te.slice(0,ee),ne=te.slice(ee);return Array.prototype.concat.call([],decodeComponents(re),decodeComponents(ne))}function decode$4(te){try{return decodeURIComponent(te)}catch{for(var ee=te.match(singleMatcher),re=1;re<ee.length;re++)te=decodeComponents(ee,re).join(""),ee=te.match(singleMatcher);return te}}function customDecodeURIComponent(te){for(var ee={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},re=multiMatcher.exec(te);re;){try{ee[re[0]]=decodeURIComponent(re[0])}catch{var ne=decode$4(re[0]);ne!==re[0]&&(ee[re[0]]=ne)}re=multiMatcher.exec(te)}ee["%C2"]="\uFFFD";for(var ie=Object.keys(ee),oe=0;oe<ie.length;oe++){var se=ie[oe];te=te.replace(new RegExp(se,"g"),ee[se])}return te}var decodeUriComponent=function(te){if(typeof te!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof te+"`");try{return te=te.replace(/\+/g," "),decodeURIComponent(te)}catch{return customDecodeURIComponent(te)}},splitOnFirst=(te,ee)=>{if(!(typeof te=="string"&&typeof ee=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(ee==="")return[te];const re=te.indexOf(ee);return re===-1?[te]:[te.slice(0,re),te.slice(re+ee.length)]};(function(te){const ee=strictUriEncode,re=decodeUriComponent,ne=splitOnFirst,ie=pr=>pr==null;function oe(pr){switch(pr.arrayFormat){case"index":return yr=>(vr,Er)=>{const Tr=vr.length;return Er===void 0||pr.skipNull&&Er===null||pr.skipEmptyString&&Er===""?vr:Er===null?[...vr,[fe(yr,pr),"[",Tr,"]"].join("")]:[...vr,[fe(yr,pr),"[",fe(Tr,pr),"]=",fe(Er,pr)].join("")]};case"bracket":return yr=>(vr,Er)=>Er===void 0||pr.skipNull&&Er===null||pr.skipEmptyString&&Er===""?vr:Er===null?[...vr,[fe(yr,pr),"[]"].join("")]:[...vr,[fe(yr,pr),"[]=",fe(Er,pr)].join("")];case"comma":case"separator":return yr=>(vr,Er)=>Er==null||Er.length===0?vr:vr.length===0?[[fe(yr,pr),"=",fe(Er,pr)].join("")]:[[vr,fe(Er,pr)].join(pr.arrayFormatSeparator)];default:return yr=>(vr,Er)=>Er===void 0||pr.skipNull&&Er===null||pr.skipEmptyString&&Er===""?vr:Er===null?[...vr,fe(yr,pr)]:[...vr,[fe(yr,pr),"=",fe(Er,pr)].join("")]}}function se(pr){let yr;switch(pr.arrayFormat){case"index":return(vr,Er,Tr)=>{if(yr=/\[(\d*)\]$/.exec(vr),vr=vr.replace(/\[\d*\]$/,""),!yr){Tr[vr]=Er;return}Tr[vr]===void 0&&(Tr[vr]={}),Tr[vr][yr[1]]=Er};case"bracket":return(vr,Er,Tr)=>{if(yr=/(\[\])$/.exec(vr),vr=vr.replace(/\[\]$/,""),!yr){Tr[vr]=Er;return}if(Tr[vr]===void 0){Tr[vr]=[Er];return}Tr[vr]=[].concat(Tr[vr],Er)};case"comma":case"separator":return(vr,Er,Tr)=>{const Or=typeof Er=="string"&&Er.split("").indexOf(pr.arrayFormatSeparator)>-1?Er.split(pr.arrayFormatSeparator).map(Hr=>ue(Hr,pr)):Er===null?Er:ue(Er,pr);Tr[vr]=Or};default:return(vr,Er,Tr)=>{if(Tr[vr]===void 0){Tr[vr]=Er;return}Tr[vr]=[].concat(Tr[vr],Er)}}}function ae(pr){if(typeof pr!="string"||pr.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function fe(pr,yr){return yr.encode?yr.strict?ee(pr):encodeURIComponent(pr):pr}function ue(pr,yr){return yr.decode?re(pr):pr}function le(pr){return Array.isArray(pr)?pr.sort():typeof pr=="object"?le(Object.keys(pr)).sort((yr,vr)=>Number(yr)-Number(vr)).map(yr=>pr[yr]):pr}function pe(pr){const yr=pr.indexOf("#");return yr!==-1&&(pr=pr.slice(0,yr)),pr}function rr(pr){let yr="";const vr=pr.indexOf("#");return vr!==-1&&(yr=pr.slice(vr)),yr}function cr(pr){pr=pe(pr);const yr=pr.indexOf("?");return yr===-1?"":pr.slice(yr+1)}function ar(pr,yr){return yr.parseNumbers&&!Number.isNaN(Number(pr))&&typeof pr=="string"&&pr.trim()!==""?pr=Number(pr):yr.parseBooleans&&pr!==null&&(pr.toLowerCase()==="true"||pr.toLowerCase()==="false")&&(pr=pr.toLowerCase()==="true"),pr}function mr(pr,yr){yr=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},yr),ae(yr.arrayFormatSeparator);const vr=se(yr),Er=Object.create(null);if(typeof pr!="string"||(pr=pr.trim().replace(/^[?#&]/,""),!pr))return Er;for(const Tr of pr.split("&")){let[Ir,Or]=ne(yr.decode?Tr.replace(/\+/g," "):Tr,"=");Or=Or===void 0?null:["comma","separator"].includes(yr.arrayFormat)?Or:ue(Or,yr),vr(ue(Ir,yr),Or,Er)}for(const Tr of Object.keys(Er)){const Ir=Er[Tr];if(typeof Ir=="object"&&Ir!==null)for(const Or of Object.keys(Ir))Ir[Or]=ar(Ir[Or],yr);else Er[Tr]=ar(Ir,yr)}return yr.sort===!1?Er:(yr.sort===!0?Object.keys(Er).sort():Object.keys(Er).sort(yr.sort)).reduce((Tr,Ir)=>{const Or=Er[Ir];return Boolean(Or)&&typeof Or=="object"&&!Array.isArray(Or)?Tr[Ir]=le(Or):Tr[Ir]=Or,Tr},Object.create(null))}te.extract=cr,te.parse=mr,te.stringify=(pr,yr)=>{if(!pr)return"";yr=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},yr),ae(yr.arrayFormatSeparator);const vr=Or=>yr.skipNull&&ie(pr[Or])||yr.skipEmptyString&&pr[Or]==="",Er=oe(yr),Tr={};for(const Or of Object.keys(pr))vr(Or)||(Tr[Or]=pr[Or]);const Ir=Object.keys(Tr);return yr.sort!==!1&&Ir.sort(yr.sort),Ir.map(Or=>{const Hr=pr[Or];return Hr===void 0?"":Hr===null?fe(Or,yr):Array.isArray(Hr)?Hr.reduce(Er(Or),[]).join("&"):fe(Or,yr)+"="+fe(Hr,yr)}).filter(Or=>Or.length>0).join("&")},te.parseUrl=(pr,yr)=>{yr=Object.assign({decode:!0},yr);const[vr,Er]=ne(pr,"#");return Object.assign({url:vr.split("?")[0]||"",query:mr(cr(pr),yr)},yr&&yr.parseFragmentIdentifier&&Er?{fragmentIdentifier:ue(Er,yr)}:{})},te.stringifyUrl=(pr,yr)=>{yr=Object.assign({encode:!0,strict:!0},yr);const vr=pe(pr.url).split("?")[0]||"",Er=te.extract(pr.url),Tr=te.parse(Er,{sort:!1}),Ir=Object.assign(Tr,pr.query);let Or=te.stringify(Ir,yr);Or&&(Or=`?${Or}`);let Hr=rr(pr.url);return pr.fragmentIdentifier&&(Hr=`#${fe(pr.fragmentIdentifier,yr)}`),`${vr}${Or}${Hr}`}})(queryString);function getQueryString(te){const ee=te.indexOf("?")!==-1?te.indexOf("?"):void 0;return typeof ee!="undefined"?te.substr(ee):""}function appendToQueryString(te,ee){let re=parseQueryString(te);return re=Object.assign(Object.assign({},re),ee),te=formatQueryString(re),te}function parseQueryString(te){return queryString.parse(te)}function formatQueryString(te){return queryString.stringify(te)}function isWalletConnectSession(te){return typeof te.bridge!="undefined"}function parseWalletConnectUri(te){const ee=te.indexOf(":"),re=te.indexOf("?")!==-1?te.indexOf("?"):void 0,ne=te.substring(0,ee),ie=te.substring(ee+1,re);function oe(pe){const rr="@",cr=pe.split(rr);return{handshakeTopic:cr[0],version:parseInt(cr[1],10)}}const se=oe(ie),ae=typeof re!="undefined"?te.substr(re):"";function fe(pe){const rr=parseQueryString(pe);return{key:rr.key||"",bridge:rr.bridge||""}}const ue=fe(ae);return Object.assign(Object.assign({protocol:ne},se),ue)}var browser$1=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")};class NetworkMonitor{constructor(){this._eventEmitters=[],typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(ee,re){this._eventEmitters.push({event:ee,callback:re})}trigger(ee){let re=[];ee&&(re=this._eventEmitters.filter(ne=>ne.event===ee)),re.forEach(ne=>{ne.callback()})}}const WS=typeof global.WebSocket!="undefined"?global.WebSocket:browser$1;class SocketTransport{constructor(ee){if(this.opts=ee,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=ee.protocol,this._version=ee.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=ee.subscriptions||[],this._netMonitor=ee.netMonitor||new NetworkMonitor,!ee.url||typeof ee.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=ee.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(ee){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(ee){}get connecting(){return this.readyState===0}set connected(ee){}get connected(){return this.readyState===1}set closing(ee){}get closing(){return this.readyState===2}set closed(ee){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(ee,re,ne){if(!re||typeof re!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:re,type:"pub",payload:ee,silent:!!ne})}subscribe(ee){this._socketSend({topic:ee,type:"sub",payload:"",silent:!0})}on(ee,re){this._events.push({event:ee,callback:re})}_socketCreate(){if(this._nextSocket)return;const ee=getWebSocketUrl(this._url,this._protocol,this._version);if(this._nextSocket=new WS(ee),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=re=>this._socketReceive(re),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=re=>this._socketError(re),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(ee){const re=JSON.stringify(ee);this._socket&&this._socket.readyState===1?this._socket.send(re):(this._setToQueue(ee),this._socketCreate())}async _socketReceive(ee){let re;try{re=JSON.parse(ee.data)}catch{return}if(this._socketSend({topic:re.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const ne=this._events.filter(ie=>ie.event==="message");ne&&ne.length&&ne.forEach(ie=>ie.callback(re))}}_socketError(ee){const re=this._events.filter(ne=>ne.event==="error");re&&re.length&&re.forEach(ne=>ne.callback(ee))}_queueSubscriptions(){this._subscriptions.forEach(re=>this._queue.push({topic:re,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(ee){this._queue.push(ee)}_pushQueue(){this._queue.forEach(re=>this._socketSend(re)),this._queue=[]}}function getWebSocketUrl(te,ee,re){var ne,ie;const se=(te.startsWith("https")?te.replace("https","wss"):te.startsWith("http")?te.replace("http","ws"):te).split("?"),ae=isBrowser$3()?{protocol:ee,version:re,env:"browser",host:((ne=getLocation())===null||ne===void 0?void 0:ne.host)||""}:{protocol:ee,version:re,env:((ie=detectEnv())===null||ie===void 0?void 0:ie.name)||""},fe=appendToQueryString(getQueryString(se[1]||""),ae);return se[0]+"?"+fe}const ERROR_SESSION_CONNECTED="Session currently connected",ERROR_SESSION_DISCONNECTED="Session currently disconnected",ERROR_SESSION_REJECTED="Session Rejected",ERROR_MISSING_JSON_RPC="Missing JSON RPC response",ERROR_MISSING_RESULT='JSON-RPC success response must include "result" field',ERROR_MISSING_ERROR='JSON-RPC error response must include "error" field',ERROR_MISSING_METHOD='JSON RPC request must have valid "method" value',ERROR_MISSING_ID='JSON RPC request must have valid "id" value',ERROR_MISSING_REQUIRED="Missing one of the required parameters: bridge / uri / session",ERROR_INVALID_RESPONSE="JSON RPC response format is invalid",ERROR_INVALID_URI="URI format is invalid",ERROR_QRCODE_MODAL_NOT_PROVIDED="QRCode Modal not provided",ERROR_QRCODE_MODAL_USER_CLOSED="User close QRCode Modal";class EventManager{constructor(){this._eventEmitters=[]}subscribe(ee){this._eventEmitters.push(ee)}unsubscribe(ee){this._eventEmitters=this._eventEmitters.filter(re=>re.event!==ee)}trigger(ee){let re=[],ne;isJsonRpcRequest(ee)?ne=ee.method:isJsonRpcResponseSuccess(ee)||isJsonRpcResponseError(ee)?ne=`response:${ee.id}`:isInternalEvent(ee)?ne=ee.event:ne="",ne&&(re=this._eventEmitters.filter(ie=>ie.event===ne)),(!re||!re.length)&&!isReservedEvent(ne)&&!isInternalEvent(ne)&&(re=this._eventEmitters.filter(ie=>ie.event==="call_request")),re.forEach(ie=>{if(isJsonRpcResponseError(ee)){const oe=new Error(ee.error.message);ie.callback(oe,null)}else ie.callback(null,ee)})}}class SessionStorage{constructor(ee="walletconnect"){this.storageId=ee}getSession(){let ee=null;const re=getLocal(this.storageId);return re&&isWalletConnectSession(re)&&(ee=re),ee}setSession(ee){return setLocal(this.storageId,ee),ee}removeSession(){removeLocal(this.storageId)}}const domain="walletconnect.org",alphanumerical="abcdefghijklmnopqrstuvwxyz0123456789",bridges=alphanumerical.split("").map(te=>`https://${te}.bridge.walletconnect.org`);function extractHostname(te){let ee=te.indexOf("//")>-1?te.split("/")[2]:te.split("/")[0];return ee=ee.split(":")[0],ee=ee.split("?")[0],ee}function extractRootDomain(te){return extractHostname(te).split(".").slice(-2).join(".")}function randomBridgeIndex(){return Math.floor(Math.random()*bridges.length)}function selectRandomBridgeUrl(){return bridges[randomBridgeIndex()]}function shouldSelectRandomly(te){return extractRootDomain(te)===domain}function getBridgeUrl(te){return shouldSelectRandomly(te)?selectRandomBridgeUrl():te}class Connector{constructor(ee){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new EventManager,this._clientMeta=getClientMeta()||ee.connectorOpts.clientMeta||null,this._cryptoLib=ee.cryptoLib,this._sessionStorage=ee.sessionStorage||new SessionStorage(ee.connectorOpts.storageId),this._qrcodeModal=ee.connectorOpts.qrcodeModal,this._qrcodeModalOptions=ee.connectorOpts.qrcodeModalOptions,this._signingMethods=[...signingMethods,...ee.connectorOpts.signingMethods||[]],!ee.connectorOpts.bridge&&!ee.connectorOpts.uri&&!ee.connectorOpts.session)throw new Error(ERROR_MISSING_REQUIRED);ee.connectorOpts.bridge&&(this.bridge=getBridgeUrl(ee.connectorOpts.bridge)),ee.connectorOpts.uri&&(this.uri=ee.connectorOpts.uri);const re=ee.connectorOpts.session||this._getStorageSession();re&&(this.session=re),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=ee.transport||new SocketTransport({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),ee.connectorOpts.uri&&this._subscribeToSessionRequest(),ee.pushServerOpts&&this._registerPushServer(ee.pushServerOpts)}set bridge(ee){!ee||(this._bridge=ee)}get bridge(){return this._bridge}set key(ee){if(!ee)return;const re=convertHexToArrayBuffer(ee);this._key=re}get key(){return this._key?convertArrayBufferToHex(this._key,!0):""}set clientId(ee){!ee||(this._clientId=ee)}get clientId(){let ee=this._clientId;return ee||(ee=this._clientId=uuid()),this._clientId}set peerId(ee){!ee||(this._peerId=ee)}get peerId(){return this._peerId}set clientMeta(ee){}get clientMeta(){let ee=this._clientMeta;return ee||(ee=this._clientMeta=getClientMeta()),ee}set peerMeta(ee){this._peerMeta=ee}get peerMeta(){return this._peerMeta}set handshakeTopic(ee){!ee||(this._handshakeTopic=ee)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(ee){!ee||(this._handshakeId=ee)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(ee){if(!ee)return;const{handshakeTopic:re,bridge:ne,key:ie}=this._parseUri(ee);this.handshakeTopic=re,this.bridge=ne,this.key=ie}set chainId(ee){this._chainId=ee}get chainId(){return this._chainId}set networkId(ee){this._networkId=ee}get networkId(){return this._networkId}set accounts(ee){this._accounts=ee}get accounts(){return this._accounts}set rpcUrl(ee){this._rpcUrl=ee}get rpcUrl(){return this._rpcUrl}set connected(ee){}get connected(){return this._connected}set pending(ee){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(ee){!ee||(this._connected=ee.connected,this.accounts=ee.accounts,this.chainId=ee.chainId,this.bridge=ee.bridge,this.key=ee.key,this.clientId=ee.clientId,this.clientMeta=ee.clientMeta,this.peerId=ee.peerId,this.peerMeta=ee.peerMeta,this.handshakeId=ee.handshakeId,this.handshakeTopic=ee.handshakeTopic)}on(ee,re){const ne={event:ee,callback:re};this._eventManager.subscribe(ne)}off(ee){this._eventManager.unsubscribe(ee)}async createInstantRequest(ee){this._key=await this._generateKey();const re=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(ee)}]});this.handshakeId=re.id,this.handshakeTopic=uuid(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(ERROR_QRCODE_MODAL_USER_CLOSED)});const ne=()=>{this.killSession()};try{const ie=await this._sendCallRequest(re);return ie&&ne(),ie}catch(ie){throw ne(),ie}}async connect(ee){if(!this._qrcodeModal)throw new Error(ERROR_QRCODE_MODAL_NOT_PROVIDED);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(ee),new Promise(async(re,ne)=>{this.on("modal_closed",()=>ne(new Error(ERROR_QRCODE_MODAL_USER_CLOSED))),this.on("connect",(ie,oe)=>{if(ie)return ne(ie);re(oe.params[0])})}))}async createSession(ee){if(this._connected)throw new Error(ERROR_SESSION_CONNECTED);if(this.pending)return;this._key=await this._generateKey();const re=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:ee&&ee.chainId?ee.chainId:null}]});this.handshakeId=re.id,this.handshakeTopic=uuid(),this._sendSessionRequest(re,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(ee){if(this._connected)throw new Error(ERROR_SESSION_CONNECTED);this.chainId=ee.chainId,this.accounts=ee.accounts,this.networkId=ee.networkId||0,this.rpcUrl=ee.rpcUrl||"";const re={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},ne={id:this.handshakeId,jsonrpc:"2.0",result:re};this._sendResponse(ne),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(ee){if(this._connected)throw new Error(ERROR_SESSION_CONNECTED);const re=ee&&ee.message?ee.message:ERROR_SESSION_REJECTED,ne=this._formatResponse({id:this.handshakeId,error:{message:re}});this._sendResponse(ne),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:re}]}),this._removeStorageSession()}updateSession(ee){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);this.chainId=ee.chainId,this.accounts=ee.accounts,this.networkId=ee.networkId||0,this.rpcUrl=ee.rpcUrl||"";const re={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},ne=this._formatRequest({method:"wc_sessionUpdate",params:[re]});this._sendSessionRequest(ne,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(ee){const re=ee?ee.message:"Session Disconnected",ne={approved:!1,chainId:null,networkId:null,accounts:null},ie=this._formatRequest({method:"wc_sessionUpdate",params:[ne]});await this._sendRequest(ie),this._handleSessionDisconnect(re)}async sendTransaction(ee){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const re=parseTransactionData(ee),ne=this._formatRequest({method:"eth_sendTransaction",params:[re]});return await this._sendCallRequest(ne)}async signTransaction(ee){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const re=parseTransactionData(ee),ne=this._formatRequest({method:"eth_signTransaction",params:[re]});return await this._sendCallRequest(ne)}async signMessage(ee){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const re=this._formatRequest({method:"eth_sign",params:ee});return await this._sendCallRequest(re)}async signPersonalMessage(ee){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);ee=parsePersonalSign(ee);const re=this._formatRequest({method:"personal_sign",params:ee});return await this._sendCallRequest(re)}async signTypedData(ee){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const re=this._formatRequest({method:"eth_signTypedData",params:ee});return await this._sendCallRequest(re)}async updateChain(ee){if(!this._connected)throw new Error("Session currently disconnected");const re=this._formatRequest({method:"wallet_updateChain",params:[ee]});return await this._sendCallRequest(re)}unsafeSend(ee,re){return this._sendRequest(ee,re),this._eventManager.trigger({event:"call_request_sent",params:[{request:ee,options:re}]}),new Promise((ne,ie)=>{this._subscribeToResponse(ee.id,(oe,se)=>{if(oe){ie(oe);return}if(!se)throw new Error(ERROR_MISSING_JSON_RPC);ne(se)})})}async sendCustomRequest(ee,re){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);switch(ee.method){case"eth_accounts":return this.accounts;case"eth_chainId":return convertNumberToHex(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":ee.params&&(ee.params[0]=parseTransactionData(ee.params[0]));break;case"personal_sign":ee.params&&(ee.params=parsePersonalSign(ee.params));break}const ne=this._formatRequest(ee);return await this._sendCallRequest(ne,re)}approveRequest(ee){if(isJsonRpcResponseSuccess(ee)){const re=this._formatResponse(ee);this._sendResponse(re)}else throw new Error(ERROR_MISSING_RESULT)}rejectRequest(ee){if(isJsonRpcResponseError(ee)){const re=this._formatResponse(ee);this._sendResponse(re)}else throw new Error(ERROR_MISSING_ERROR)}transportClose(){this._transport.close()}async _sendRequest(ee,re){const ne=this._formatRequest(ee),ie=await this._encrypt(ne),oe=typeof(re==null?void 0:re.topic)!="undefined"?re.topic:this.peerId,se=JSON.stringify(ie),ae=typeof(re==null?void 0:re.forcePushNotification)!="undefined"?!re.forcePushNotification:isSilentPayload(ne);this._transport.send(se,oe,ae)}async _sendResponse(ee){const re=await this._encrypt(ee),ne=this.peerId,ie=JSON.stringify(re),oe=!0;this._transport.send(ie,ne,oe)}async _sendSessionRequest(ee,re,ne){this._sendRequest(ee,ne),this._subscribeToSessionResponse(ee.id,re)}_sendCallRequest(ee,re){return this._sendRequest(ee,re),this._eventManager.trigger({event:"call_request_sent",params:[{request:ee,options:re}]}),this._subscribeToCallResponse(ee.id)}_formatRequest(ee){if(typeof ee.method=="undefined")throw new Error(ERROR_MISSING_METHOD);return{id:typeof ee.id=="undefined"?payloadId():ee.id,jsonrpc:"2.0",method:ee.method,params:typeof ee.params=="undefined"?[]:ee.params}}_formatResponse(ee){if(typeof ee.id=="undefined")throw new Error(ERROR_MISSING_ID);const re={id:ee.id,jsonrpc:"2.0"};if(isJsonRpcResponseError(ee)){const ne=formatRpcError(ee.error);return Object.assign(Object.assign(Object.assign({},re),ee),{error:ne})}else if(isJsonRpcResponseSuccess(ee))return Object.assign(Object.assign({},re),ee);throw new Error(ERROR_INVALID_RESPONSE)}_handleSessionDisconnect(ee){const re=ee||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),removeLocal(mobileLinkChoiceKey)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:re}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(ee,re){re?re.approved?(this._connected?(re.chainId&&(this.chainId=re.chainId),re.accounts&&(this.accounts=re.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,re.chainId&&(this.chainId=re.chainId),re.accounts&&(this.accounts=re.accounts),re.peerId&&!this.peerId&&(this.peerId=re.peerId),re.peerMeta&&!this.peerMeta&&(this.peerMeta=re.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(ee):this._handleSessionDisconnect(ee)}async _handleIncomingMessages(ee){if(![this.clientId,this.handshakeTopic].includes(ee.topic))return;let ne;try{ne=JSON.parse(ee.payload)}catch{return}const ie=await this._decrypt(ne);ie&&this._eventManager.trigger(ie)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(ee,re){this.on(`response:${ee}`,re)}_subscribeToSessionResponse(ee,re){this._subscribeToResponse(ee,(ne,ie)=>{if(ne){this._handleSessionResponse(ne.message);return}ie.result?this._handleSessionResponse(re,ie.result):ie.error&&ie.error.message?this._handleSessionResponse(ie.error.message):this._handleSessionResponse(re)})}_subscribeToCallResponse(ee){return new Promise((re,ne)=>{this._subscribeToResponse(ee,(ie,oe)=>{if(ie){ne(ie);return}oe.result?re(oe.result):oe.error&&oe.error.message?ne(new Error(oe.error.message)):ne(new Error(ERROR_INVALID_RESPONSE))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(ee,re)=>{const{request:ne}=re.params[0];if(isMobile()&&this._signingMethods.includes(ne.method)){const ie=getLocal(mobileLinkChoiceKey);ie&&(window.location.href=ie.href)}}),this.on("wc_sessionRequest",(ee,re)=>{ee&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:ee.toString()}]}),this.handshakeId=re.id,this.peerId=re.params[0].peerId,this.peerMeta=re.params[0].peerMeta;const ne=Object.assign(Object.assign({},re),{method:"session_request"});this._eventManager.trigger(ne)}),this.on("wc_sessionUpdate",(ee,re)=>{ee&&this._handleSessionResponse(ee.message),this._handleSessionResponse("Session disconnected",re.params[0])})}_initTransport(){this._transport.on("message",ee=>this._handleIncomingMessages(ee)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const ee=this.protocol,re=this.handshakeTopic,ne=this.version,ie=encodeURIComponent(this.bridge),oe=this.key;return`${ee}:${re}@${ne}?bridge=${ie}&key=${oe}`}_parseUri(ee){const re=parseWalletConnectUri(ee);if(re.protocol===this.protocol){if(!re.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const ne=re.handshakeTopic;if(!re.bridge)throw Error("Invalid or missing bridge url parameter value");const ie=decodeURIComponent(re.bridge);if(!re.key)throw Error("Invalid or missing key parameter value");const oe=re.key;return{handshakeTopic:ne,bridge:ie,key:oe}}else throw new Error(ERROR_INVALID_URI)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(ee){const re=this._key;return this._cryptoLib&&re?await this._cryptoLib.encrypt(ee,re):null}async _decrypt(ee){const re=this._key;return this._cryptoLib&&re?await this._cryptoLib.decrypt(ee,re):null}_getStorageSession(){let ee=null;return this._sessionStorage&&(ee=this._sessionStorage.getSession()),ee}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(ee){if(!ee.url||typeof ee.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!ee.type||typeof ee.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!ee.token||typeof ee.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const re={bridge:this.bridge,topic:this.clientId,type:ee.type,token:ee.token,peerName:"",language:ee.language||""};this.on("connect",async(ne,ie)=>{if(ne)throw ne;if(ee.peerMeta){const oe=ie.params[0].peerMeta.name;re.peerName=oe}try{if(!(await(await fetch(`${ee.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(re)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function randomBytes(te){return cjs$1.getBrowerCrypto().getRandomValues(new Uint8Array(te))}const LENGTH_256=256,AES_LENGTH=LENGTH_256,HMAC_LENGTH=LENGTH_256,AES_BROWSER_ALGO="AES-CBC",HMAC_BROWSER_ALGO=`SHA-${AES_LENGTH}`,HMAC_BROWSER="HMAC",ENCRYPT_OP="encrypt",DECRYPT_OP="decrypt",SIGN_OP="sign",VERIFY_OP="verify";function getAlgo(te){return te===AES_BROWSER_ALGO?{length:AES_LENGTH,name:AES_BROWSER_ALGO}:{hash:{name:HMAC_BROWSER_ALGO},name:HMAC_BROWSER}}function getOps(te){return te===AES_BROWSER_ALGO?[ENCRYPT_OP,DECRYPT_OP]:[SIGN_OP,VERIFY_OP]}async function browserImportKey(te,ee=AES_BROWSER_ALGO){return cjs$1.getSubtleCrypto().importKey("raw",te,getAlgo(ee),!0,getOps(ee))}async function browserAesEncrypt(te,ee,re){const ne=cjs$1.getSubtleCrypto(),ie=await browserImportKey(ee,AES_BROWSER_ALGO),oe=await ne.encrypt({iv:te,name:AES_BROWSER_ALGO},ie,re);return new Uint8Array(oe)}async function browserAesDecrypt(te,ee,re){const ne=cjs$1.getSubtleCrypto(),ie=await browserImportKey(ee,AES_BROWSER_ALGO),oe=await ne.decrypt({iv:te,name:AES_BROWSER_ALGO},ie,re);return new Uint8Array(oe)}async function browserHmacSha256Sign(te,ee){const re=cjs$1.getSubtleCrypto(),ne=await browserImportKey(te,HMAC_BROWSER),ie=await re.sign({length:HMAC_LENGTH,name:HMAC_BROWSER},ne,ee);return new Uint8Array(ie)}function aesCbcEncrypt(te,ee,re){return browserAesEncrypt(te,ee,re)}function aesCbcDecrypt(te,ee,re){return browserAesDecrypt(te,ee,re)}async function hmacSha256Sign(te,ee){return await browserHmacSha256Sign(te,ee)}async function generateKey(te){const ee=(te||256)/8,re=randomBytes(ee);return convertBufferToArrayBuffer(arrayToBuffer(re))}async function verifyHmac(te,ee){const re=hexToArray(te.data),ne=hexToArray(te.iv),ie=hexToArray(te.hmac),oe=arrayToHex(ie,!1),se=concatArrays(re,ne),ae=await hmacSha256Sign(ee,se),fe=arrayToHex(ae,!1);return removeHexPrefix(oe)===removeHexPrefix(fe)}async function encrypt$1(te,ee,re){const ne=bufferToArray(convertArrayBufferToBuffer(ee)),ie=re||await generateKey(128),oe=bufferToArray(convertArrayBufferToBuffer(ie)),se=arrayToHex(oe,!1),ae=JSON.stringify(te),fe=utf8ToArray(ae),ue=await aesCbcEncrypt(oe,ne,fe),le=arrayToHex(ue,!1),pe=concatArrays(ue,oe),rr=await hmacSha256Sign(ne,pe),cr=arrayToHex(rr,!1);return{data:le,hmac:cr,iv:se}}async function decrypt$1(te,ee){const re=bufferToArray(convertArrayBufferToBuffer(ee));if(!re)throw new Error("Missing key: required for decryption");if(!await verifyHmac(te,re))return null;const ie=hexToArray(te.data),oe=hexToArray(te.iv),se=await aesCbcDecrypt(oe,re,ie),ae=arrayToUtf8(se);let fe;try{fe=JSON.parse(ae)}catch{return null}return fe}var cryptoLib=Object.freeze(Object.defineProperty({__proto__:null,generateKey,verifyHmac,encrypt:encrypt$1,decrypt:decrypt$1},Symbol.toStringTag,{value:"Module"}));class WalletConnect extends Connector{constructor(ee,re){super({cryptoLib,connectorOpts:ee,pushServerOpts:re})}}var require$$0$1=getAugmentedNamespace(esm),browser={},canPromise$1=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},qrcode={},typedarrayBuffer={},toString={}.toString,isarray=Array.isArray||function(te){return toString.call(te)=="[object Array]"},isArray$3=isarray;function typedArraySupport(){try{var te=new Uint8Array(1);return te.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},te.foo()===42}catch{return!1}}Buffer$1.TYPED_ARRAY_SUPPORT=typedArraySupport();var K_MAX_LENGTH=Buffer$1.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function Buffer$1(te,ee,re){return!Buffer$1.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer$1)?new Buffer$1(te,ee,re):typeof te=="number"?allocUnsafe(this,te):from$1(this,te,ee,re)}Buffer$1.TYPED_ARRAY_SUPPORT&&(Buffer$1.prototype.__proto__=Uint8Array.prototype,Buffer$1.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&Buffer$1[Symbol.species]===Buffer$1&&Object.defineProperty(Buffer$1,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}));function checked(te){if(te>=K_MAX_LENGTH)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K_MAX_LENGTH.toString(16)+" bytes");return te|0}function isnan(te){return te!==te}function createBuffer(te,ee){var re;return Buffer$1.TYPED_ARRAY_SUPPORT?(re=new Uint8Array(ee),re.__proto__=Buffer$1.prototype):(re=te,re===null&&(re=new Buffer$1(ee)),re.length=ee),re}function allocUnsafe(te,ee){var re=createBuffer(te,ee<0?0:checked(ee)|0);if(!Buffer$1.TYPED_ARRAY_SUPPORT)for(var ne=0;ne<ee;++ne)re[ne]=0;return re}function fromString(te,ee){var re=byteLength(ee)|0,ne=createBuffer(te,re),ie=ne.write(ee);return ie!==re&&(ne=ne.slice(0,ie)),ne}function fromArrayLike(te,ee){for(var re=ee.length<0?0:checked(ee.length)|0,ne=createBuffer(te,re),ie=0;ie<re;ie+=1)ne[ie]=ee[ie]&255;return ne}function fromArrayBuffer(te,ee,re,ne){if(re<0||ee.byteLength<re)throw new RangeError("'offset' is out of bounds");if(ee.byteLength<re+(ne||0))throw new RangeError("'length' is out of bounds");var ie;return re===void 0&&ne===void 0?ie=new Uint8Array(ee):ne===void 0?ie=new Uint8Array(ee,re):ie=new Uint8Array(ee,re,ne),Buffer$1.TYPED_ARRAY_SUPPORT?ie.__proto__=Buffer$1.prototype:ie=fromArrayLike(te,ie),ie}function fromObject(te,ee){if(Buffer$1.isBuffer(ee)){var re=checked(ee.length)|0,ne=createBuffer(te,re);return ne.length===0||ee.copy(ne,0,0,re),ne}if(ee){if(typeof ArrayBuffer!="undefined"&&ee.buffer instanceof ArrayBuffer||"length"in ee)return typeof ee.length!="number"||isnan(ee.length)?createBuffer(te,0):fromArrayLike(te,ee);if(ee.type==="Buffer"&&Array.isArray(ee.data))return fromArrayLike(te,ee.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function utf8ToBytes(te,ee){ee=ee||1/0;for(var re,ne=te.length,ie=null,oe=[],se=0;se<ne;++se){if(re=te.charCodeAt(se),re>55295&&re<57344){if(!ie){if(re>56319){(ee-=3)>-1&&oe.push(239,191,189);continue}else if(se+1===ne){(ee-=3)>-1&&oe.push(239,191,189);continue}ie=re;continue}if(re<56320){(ee-=3)>-1&&oe.push(239,191,189),ie=re;continue}re=(ie-55296<<10|re-56320)+65536}else ie&&(ee-=3)>-1&&oe.push(239,191,189);if(ie=null,re<128){if((ee-=1)<0)break;oe.push(re)}else if(re<2048){if((ee-=2)<0)break;oe.push(re>>6|192,re&63|128)}else if(re<65536){if((ee-=3)<0)break;oe.push(re>>12|224,re>>6&63|128,re&63|128)}else if(re<1114112){if((ee-=4)<0)break;oe.push(re>>18|240,re>>12&63|128,re>>6&63|128,re&63|128)}else throw new Error("Invalid code point")}return oe}function byteLength(te){if(Buffer$1.isBuffer(te))return te.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(te)||te instanceof ArrayBuffer))return te.byteLength;typeof te!="string"&&(te=""+te);var ee=te.length;return ee===0?0:utf8ToBytes(te).length}function blitBuffer(te,ee,re,ne){for(var ie=0;ie<ne&&!(ie+re>=ee.length||ie>=te.length);++ie)ee[ie+re]=te[ie];return ie}function utf8Write(te,ee,re,ne){return blitBuffer(utf8ToBytes(ee,te.length-re),te,re,ne)}function from$1(te,ee,re,ne){if(typeof ee=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&ee instanceof ArrayBuffer?fromArrayBuffer(te,ee,re,ne):typeof ee=="string"?fromString(te,ee):fromObject(te,ee)}Buffer$1.prototype.write=function(ee,re,ne){re===void 0?(ne=this.length,re=0):ne===void 0&&typeof re=="string"?(ne=this.length,re=0):isFinite(re)&&(re=re|0,isFinite(ne)?ne=ne|0:ne=void 0);var ie=this.length-re;if((ne===void 0||ne>ie)&&(ne=ie),ee.length>0&&(ne<0||re<0)||re>this.length)throw new RangeError("Attempt to write outside buffer bounds");return utf8Write(this,ee,re,ne)};Buffer$1.prototype.slice=function(ee,re){var ne=this.length;ee=~~ee,re=re===void 0?ne:~~re,ee<0?(ee+=ne,ee<0&&(ee=0)):ee>ne&&(ee=ne),re<0?(re+=ne,re<0&&(re=0)):re>ne&&(re=ne),re<ee&&(re=ee);var ie;if(Buffer$1.TYPED_ARRAY_SUPPORT)ie=this.subarray(ee,re),ie.__proto__=Buffer$1.prototype;else{var oe=re-ee;ie=new Buffer$1(oe,void 0);for(var se=0;se<oe;++se)ie[se]=this[se+ee]}return ie};Buffer$1.prototype.copy=function(ee,re,ne,ie){if(ne||(ne=0),!ie&&ie!==0&&(ie=this.length),re>=ee.length&&(re=ee.length),re||(re=0),ie>0&&ie<ne&&(ie=ne),ie===ne||ee.length===0||this.length===0)return 0;if(re<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("sourceStart out of bounds");if(ie<0)throw new RangeError("sourceEnd out of bounds");ie>this.length&&(ie=this.length),ee.length-re<ie-ne&&(ie=ee.length-re+ne);var oe=ie-ne,se;if(this===ee&&ne<re&&re<ie)for(se=oe-1;se>=0;--se)ee[se+re]=this[se+ne];else if(oe<1e3||!Buffer$1.TYPED_ARRAY_SUPPORT)for(se=0;se<oe;++se)ee[se+re]=this[se+ne];else Uint8Array.prototype.set.call(ee,this.subarray(ne,ne+oe),re);return oe};Buffer$1.prototype.fill=function(ee,re,ne){if(typeof ee=="string"){if(typeof re=="string"?(re=0,ne=this.length):typeof ne=="string"&&(ne=this.length),ee.length===1){var ie=ee.charCodeAt(0);ie<256&&(ee=ie)}}else typeof ee=="number"&&(ee=ee&255);if(re<0||this.length<re||this.length<ne)throw new RangeError("Out of range index");if(ne<=re)return this;re=re>>>0,ne=ne===void 0?this.length:ne>>>0,ee||(ee=0);var oe;if(typeof ee=="number")for(oe=re;oe<ne;++oe)this[oe]=ee;else{var se=Buffer$1.isBuffer(ee)?ee:new Buffer$1(ee),ae=se.length;for(oe=0;oe<ne-re;++oe)this[oe+re]=se[oe%ae]}return this};Buffer$1.concat=function(ee,re){if(!isArray$3(ee))throw new TypeError('"list" argument must be an Array of Buffers');if(ee.length===0)return createBuffer(null,0);var ne;if(re===void 0)for(re=0,ne=0;ne<ee.length;++ne)re+=ee[ne].length;var ie=allocUnsafe(null,re),oe=0;for(ne=0;ne<ee.length;++ne){var se=ee[ne];if(!Buffer$1.isBuffer(se))throw new TypeError('"list" argument must be an Array of Buffers');se.copy(ie,oe),oe+=se.length}return ie};Buffer$1.byteLength=byteLength;Buffer$1.prototype._isBuffer=!0;Buffer$1.isBuffer=function(ee){return!!(ee!=null&&ee._isBuffer)};typedarrayBuffer.alloc=function(te){var ee=new Buffer$1(te);return ee.fill(0),ee};typedarrayBuffer.from=function(te){return new Buffer$1(te)};var utils$2={},toSJISFunction,CODEWORDS_COUNT=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];utils$2.getSymbolSize=function(ee){if(!ee)throw new Error('"version" cannot be null or undefined');if(ee<1||ee>40)throw new Error('"version" should be in range from 1 to 40');return ee*4+17};utils$2.getSymbolTotalCodewords=function(ee){return CODEWORDS_COUNT[ee]};utils$2.getBCHDigit=function(te){for(var ee=0;te!==0;)ee++,te>>>=1;return ee};utils$2.setToSJISFunction=function(ee){if(typeof ee!="function")throw new Error('"toSJISFunc" is not a valid function.');toSJISFunction=ee};utils$2.isKanjiModeEnabled=function(){return typeof toSJISFunction!="undefined"};utils$2.toSJIS=function(ee){return toSJISFunction(ee)};var errorCorrectionLevel={};(function(te){te.L={bit:1},te.M={bit:0},te.Q={bit:3},te.H={bit:2};function ee(re){if(typeof re!="string")throw new Error("Param is not a string");var ne=re.toLowerCase();switch(ne){case"l":case"low":return te.L;case"m":case"medium":return te.M;case"q":case"quartile":return te.Q;case"h":case"high":return te.H;default:throw new Error("Unknown EC Level: "+re)}}te.isValid=function(ne){return ne&&typeof ne.bit!="undefined"&&ne.bit>=0&&ne.bit<4},te.from=function(ne,ie){if(te.isValid(ne))return ne;try{return ee(ne)}catch{return ie}}})(errorCorrectionLevel);function BitBuffer$1(){this.buffer=[],this.length=0}BitBuffer$1.prototype={get:function(te){var ee=Math.floor(te/8);return(this.buffer[ee]>>>7-te%8&1)===1},put:function(te,ee){for(var re=0;re<ee;re++)this.putBit((te>>>ee-re-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(te){var ee=Math.floor(this.length/8);this.buffer.length<=ee&&this.buffer.push(0),te&&(this.buffer[ee]|=128>>>this.length%8),this.length++}};var bitBuffer=BitBuffer$1,BufferUtil$4=typedarrayBuffer;function BitMatrix$1(te){if(!te||te<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=te,this.data=BufferUtil$4.alloc(te*te),this.reservedBit=BufferUtil$4.alloc(te*te)}BitMatrix$1.prototype.set=function(te,ee,re,ne){var ie=te*this.size+ee;this.data[ie]=re,ne&&(this.reservedBit[ie]=!0)};BitMatrix$1.prototype.get=function(te,ee){return this.data[te*this.size+ee]};BitMatrix$1.prototype.xor=function(te,ee,re){this.data[te*this.size+ee]^=re};BitMatrix$1.prototype.isReserved=function(te,ee){return this.reservedBit[te*this.size+ee]};var bitMatrix=BitMatrix$1,alignmentPattern={};(function(te){var ee=utils$2.getSymbolSize;te.getRowColCoords=function(ne){if(ne===1)return[];for(var ie=Math.floor(ne/7)+2,oe=ee(ne),se=oe===145?26:Math.ceil((oe-13)/(2*ie-2))*2,ae=[oe-7],fe=1;fe<ie-1;fe++)ae[fe]=ae[fe-1]-se;return ae.push(6),ae.reverse()},te.getPositions=function(ne){for(var ie=[],oe=te.getRowColCoords(ne),se=oe.length,ae=0;ae<se;ae++)for(var fe=0;fe<se;fe++)ae===0&&fe===0||ae===0&&fe===se-1||ae===se-1&&fe===0||ie.push([oe[ae],oe[fe]]);return ie}})(alignmentPattern);var finderPattern={},getSymbolSize=utils$2.getSymbolSize,FINDER_PATTERN_SIZE=7;finderPattern.getPositions=function(ee){var re=getSymbolSize(ee);return[[0,0],[re-FINDER_PATTERN_SIZE,0],[0,re-FINDER_PATTERN_SIZE]]};var maskPattern={};(function(te){te.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var ee={N1:3,N2:3,N3:40,N4:10};te.isValid=function(ie){return ie!=null&&ie!==""&&!isNaN(ie)&&ie>=0&&ie<=7},te.from=function(ie){return te.isValid(ie)?parseInt(ie,10):void 0},te.getPenaltyN1=function(ie){for(var oe=ie.size,se=0,ae=0,fe=0,ue=null,le=null,pe=0;pe<oe;pe++){ae=fe=0,ue=le=null;for(var rr=0;rr<oe;rr++){var cr=ie.get(pe,rr);cr===ue?ae++:(ae>=5&&(se+=ee.N1+(ae-5)),ue=cr,ae=1),cr=ie.get(rr,pe),cr===le?fe++:(fe>=5&&(se+=ee.N1+(fe-5)),le=cr,fe=1)}ae>=5&&(se+=ee.N1+(ae-5)),fe>=5&&(se+=ee.N1+(fe-5))}return se},te.getPenaltyN2=function(ie){for(var oe=ie.size,se=0,ae=0;ae<oe-1;ae++)for(var fe=0;fe<oe-1;fe++){var ue=ie.get(ae,fe)+ie.get(ae,fe+1)+ie.get(ae+1,fe)+ie.get(ae+1,fe+1);(ue===4||ue===0)&&se++}return se*ee.N2},te.getPenaltyN3=function(ie){for(var oe=ie.size,se=0,ae=0,fe=0,ue=0;ue<oe;ue++){ae=fe=0;for(var le=0;le<oe;le++)ae=ae<<1&2047|ie.get(ue,le),le>=10&&(ae===1488||ae===93)&&se++,fe=fe<<1&2047|ie.get(le,ue),le>=10&&(fe===1488||fe===93)&&se++}return se*ee.N3},te.getPenaltyN4=function(ie){for(var oe=0,se=ie.data.length,ae=0;ae<se;ae++)oe+=ie.data[ae];var fe=Math.abs(Math.ceil(oe*100/se/5)-10);return fe*ee.N4};function re(ne,ie,oe){switch(ne){case te.Patterns.PATTERN000:return(ie+oe)%2===0;case te.Patterns.PATTERN001:return ie%2===0;case te.Patterns.PATTERN010:return oe%3===0;case te.Patterns.PATTERN011:return(ie+oe)%3===0;case te.Patterns.PATTERN100:return(Math.floor(ie/2)+Math.floor(oe/3))%2===0;case te.Patterns.PATTERN101:return ie*oe%2+ie*oe%3===0;case te.Patterns.PATTERN110:return(ie*oe%2+ie*oe%3)%2===0;case te.Patterns.PATTERN111:return(ie*oe%3+(ie+oe)%2)%2===0;default:throw new Error("bad maskPattern:"+ne)}}te.applyMask=function(ie,oe){for(var se=oe.size,ae=0;ae<se;ae++)for(var fe=0;fe<se;fe++)oe.isReserved(fe,ae)||oe.xor(fe,ae,re(ie,fe,ae))},te.getBestMask=function(ie,oe){for(var se=Object.keys(te.Patterns).length,ae=0,fe=1/0,ue=0;ue<se;ue++){oe(ue),te.applyMask(ue,ie);var le=te.getPenaltyN1(ie)+te.getPenaltyN2(ie)+te.getPenaltyN3(ie)+te.getPenaltyN4(ie);te.applyMask(ue,ie),le<fe&&(fe=le,ae=ue)}return ae}})(maskPattern);var errorCorrectionCode={},ECLevel$1=errorCorrectionLevel,EC_BLOCKS_TABLE=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],EC_CODEWORDS_TABLE=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];errorCorrectionCode.getBlocksCount=function(ee,re){switch(re){case ECLevel$1.L:return EC_BLOCKS_TABLE[(ee-1)*4+0];case ECLevel$1.M:return EC_BLOCKS_TABLE[(ee-1)*4+1];case ECLevel$1.Q:return EC_BLOCKS_TABLE[(ee-1)*4+2];case ECLevel$1.H:return EC_BLOCKS_TABLE[(ee-1)*4+3];default:return}};errorCorrectionCode.getTotalCodewordsCount=function(ee,re){switch(re){case ECLevel$1.L:return EC_CODEWORDS_TABLE[(ee-1)*4+0];case ECLevel$1.M:return EC_CODEWORDS_TABLE[(ee-1)*4+1];case ECLevel$1.Q:return EC_CODEWORDS_TABLE[(ee-1)*4+2];case ECLevel$1.H:return EC_CODEWORDS_TABLE[(ee-1)*4+3];default:return}};var polynomial={},galoisField={},BufferUtil$3=typedarrayBuffer,EXP_TABLE=BufferUtil$3.alloc(512),LOG_TABLE=BufferUtil$3.alloc(256);(function(){for(var ee=1,re=0;re<255;re++)EXP_TABLE[re]=ee,LOG_TABLE[ee]=re,ee<<=1,ee&256&&(ee^=285);for(re=255;re<512;re++)EXP_TABLE[re]=EXP_TABLE[re-255]})();galoisField.log=function(ee){if(ee<1)throw new Error("log("+ee+")");return LOG_TABLE[ee]};galoisField.exp=function(ee){return EXP_TABLE[ee]};galoisField.mul=function(ee,re){return ee===0||re===0?0:EXP_TABLE[LOG_TABLE[ee]+LOG_TABLE[re]]};(function(te){var ee=typedarrayBuffer,re=galoisField;te.mul=function(ie,oe){for(var se=ee.alloc(ie.length+oe.length-1),ae=0;ae<ie.length;ae++)for(var fe=0;fe<oe.length;fe++)se[ae+fe]^=re.mul(ie[ae],oe[fe]);return se},te.mod=function(ie,oe){for(var se=ee.from(ie);se.length-oe.length>=0;){for(var ae=se[0],fe=0;fe<oe.length;fe++)se[fe]^=re.mul(oe[fe],ae);for(var ue=0;ue<se.length&&se[ue]===0;)ue++;se=se.slice(ue)}return se},te.generateECPolynomial=function(ie){for(var oe=ee.from([1]),se=0;se<ie;se++)oe=te.mul(oe,[1,re.exp(se)]);return oe}})(polynomial);var buffer$1={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(te){var ee=base64Js,re=ieee754,ne=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;te.Buffer=ae,te.SlowBuffer=vr,te.INSPECT_MAX_BYTES=50;var ie=2147483647;te.kMaxLength=ie,ae.TYPED_ARRAY_SUPPORT=oe(),!ae.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function oe(){try{var kr=new Uint8Array(1),_r={foo:function(){return 42}};return Object.setPrototypeOf(_r,Uint8Array.prototype),Object.setPrototypeOf(kr,_r),kr.foo()===42}catch{return!1}}Object.defineProperty(ae.prototype,"parent",{enumerable:!0,get:function(){if(!!ae.isBuffer(this))return this.buffer}}),Object.defineProperty(ae.prototype,"offset",{enumerable:!0,get:function(){if(!!ae.isBuffer(this))return this.byteOffset}});function se(kr){if(kr>ie)throw new RangeError('The value "'+kr+'" is invalid for option "size"');var _r=new Uint8Array(kr);return Object.setPrototypeOf(_r,ae.prototype),_r}function ae(kr,_r,$r){if(typeof kr=="number"){if(typeof _r=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return pe(kr)}return fe(kr,_r,$r)}ae.poolSize=8192;function fe(kr,_r,$r){if(typeof kr=="string")return rr(kr,_r);if(ArrayBuffer.isView(kr))return ar(kr);if(kr==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof kr);if(Fr(kr,ArrayBuffer)||kr&&Fr(kr.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Fr(kr,SharedArrayBuffer)||kr&&Fr(kr.buffer,SharedArrayBuffer)))return mr(kr,_r,$r);if(typeof kr=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Mr=kr.valueOf&&kr.valueOf();if(Mr!=null&&Mr!==kr)return ae.from(Mr,_r,$r);var jr=pr(kr);if(jr)return jr;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof kr[Symbol.toPrimitive]=="function")return ae.from(kr[Symbol.toPrimitive]("string"),_r,$r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof kr)}ae.from=function(kr,_r,$r){return fe(kr,_r,$r)},Object.setPrototypeOf(ae.prototype,Uint8Array.prototype),Object.setPrototypeOf(ae,Uint8Array);function ue(kr){if(typeof kr!="number")throw new TypeError('"size" argument must be of type number');if(kr<0)throw new RangeError('The value "'+kr+'" is invalid for option "size"')}function le(kr,_r,$r){return ue(kr),kr<=0?se(kr):_r!==void 0?typeof $r=="string"?se(kr).fill(_r,$r):se(kr).fill(_r):se(kr)}ae.alloc=function(kr,_r,$r){return le(kr,_r,$r)};function pe(kr){return ue(kr),se(kr<0?0:yr(kr)|0)}ae.allocUnsafe=function(kr){return pe(kr)},ae.allocUnsafeSlow=function(kr){return pe(kr)};function rr(kr,_r){if((typeof _r!="string"||_r==="")&&(_r="utf8"),!ae.isEncoding(_r))throw new TypeError("Unknown encoding: "+_r);var $r=Er(kr,_r)|0,Mr=se($r),jr=Mr.write(kr,_r);return jr!==$r&&(Mr=Mr.slice(0,jr)),Mr}function cr(kr){for(var _r=kr.length<0?0:yr(kr.length)|0,$r=se(_r),Mr=0;Mr<_r;Mr+=1)$r[Mr]=kr[Mr]&255;return $r}function ar(kr){if(Fr(kr,Uint8Array)){var _r=new Uint8Array(kr);return mr(_r.buffer,_r.byteOffset,_r.byteLength)}return cr(kr)}function mr(kr,_r,$r){if(_r<0||kr.byteLength<_r)throw new RangeError('"offset" is outside of buffer bounds');if(kr.byteLength<_r+($r||0))throw new RangeError('"length" is outside of buffer bounds');var Mr;return _r===void 0&&$r===void 0?Mr=new Uint8Array(kr):$r===void 0?Mr=new Uint8Array(kr,_r):Mr=new Uint8Array(kr,_r,$r),Object.setPrototypeOf(Mr,ae.prototype),Mr}function pr(kr){if(ae.isBuffer(kr)){var _r=yr(kr.length)|0,$r=se(_r);return $r.length===0||kr.copy($r,0,0,_r),$r}if(kr.length!==void 0)return typeof kr.length!="number"||Ur(kr.length)?se(0):cr(kr);if(kr.type==="Buffer"&&Array.isArray(kr.data))return cr(kr.data)}function yr(kr){if(kr>=ie)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ie.toString(16)+" bytes");return kr|0}function vr(kr){return+kr!=kr&&(kr=0),ae.alloc(+kr)}ae.isBuffer=function(_r){return _r!=null&&_r._isBuffer===!0&&_r!==ae.prototype},ae.compare=function(_r,$r){if(Fr(_r,Uint8Array)&&(_r=ae.from(_r,_r.offset,_r.byteLength)),Fr($r,Uint8Array)&&($r=ae.from($r,$r.offset,$r.byteLength)),!ae.isBuffer(_r)||!ae.isBuffer($r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_r===$r)return 0;for(var Mr=_r.length,jr=$r.length,qr=0,Jr=Math.min(Mr,jr);qr<Jr;++qr)if(_r[qr]!==$r[qr]){Mr=_r[qr],jr=$r[qr];break}return Mr<jr?-1:jr<Mr?1:0},ae.isEncoding=function(_r){switch(String(_r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ae.concat=function(_r,$r){if(!Array.isArray(_r))throw new TypeError('"list" argument must be an Array of Buffers');if(_r.length===0)return ae.alloc(0);var Mr;if($r===void 0)for($r=0,Mr=0;Mr<_r.length;++Mr)$r+=_r[Mr].length;var jr=ae.allocUnsafe($r),qr=0;for(Mr=0;Mr<_r.length;++Mr){var Jr=_r[Mr];if(Fr(Jr,Uint8Array))qr+Jr.length>jr.length?ae.from(Jr).copy(jr,qr):Uint8Array.prototype.set.call(jr,Jr,qr);else if(ae.isBuffer(Jr))Jr.copy(jr,qr);else throw new TypeError('"list" argument must be an Array of Buffers');qr+=Jr.length}return jr};function Er(kr,_r){if(ae.isBuffer(kr))return kr.length;if(ArrayBuffer.isView(kr)||Fr(kr,ArrayBuffer))return kr.byteLength;if(typeof kr!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof kr);var $r=kr.length,Mr=arguments.length>2&&arguments[2]===!0;if(!Mr&&$r===0)return 0;for(var jr=!1;;)switch(_r){case"ascii":case"latin1":case"binary":return $r;case"utf8":case"utf-8":return Dr(kr).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $r*2;case"hex":return $r>>>1;case"base64":return Zr(kr).length;default:if(jr)return Mr?-1:Dr(kr).length;_r=(""+_r).toLowerCase(),jr=!0}}ae.byteLength=Er;function Tr(kr,_r,$r){var Mr=!1;if((_r===void 0||_r<0)&&(_r=0),_r>this.length||(($r===void 0||$r>this.length)&&($r=this.length),$r<=0)||($r>>>=0,_r>>>=0,$r<=_r))return"";for(kr||(kr="utf8");;)switch(kr){case"hex":return er(this,_r,$r);case"utf8":case"utf-8":return ce(this,_r,$r);case"ascii":return ur(this,_r,$r);case"latin1":case"binary":return lr(this,_r,$r);case"base64":return ve(this,_r,$r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return nr(this,_r,$r);default:if(Mr)throw new TypeError("Unknown encoding: "+kr);kr=(kr+"").toLowerCase(),Mr=!0}}ae.prototype._isBuffer=!0;function Ir(kr,_r,$r){var Mr=kr[_r];kr[_r]=kr[$r],kr[$r]=Mr}ae.prototype.swap16=function(){var _r=this.length;if(_r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var $r=0;$r<_r;$r+=2)Ir(this,$r,$r+1);return this},ae.prototype.swap32=function(){var _r=this.length;if(_r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var $r=0;$r<_r;$r+=4)Ir(this,$r,$r+3),Ir(this,$r+1,$r+2);return this},ae.prototype.swap64=function(){var _r=this.length;if(_r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var $r=0;$r<_r;$r+=8)Ir(this,$r,$r+7),Ir(this,$r+1,$r+6),Ir(this,$r+2,$r+5),Ir(this,$r+3,$r+4);return this},ae.prototype.toString=function(){var _r=this.length;return _r===0?"":arguments.length===0?ce(this,0,_r):Tr.apply(this,arguments)},ae.prototype.toLocaleString=ae.prototype.toString,ae.prototype.equals=function(_r){if(!ae.isBuffer(_r))throw new TypeError("Argument must be a Buffer");return this===_r?!0:ae.compare(this,_r)===0},ae.prototype.inspect=function(){var _r="",$r=te.INSPECT_MAX_BYTES;return _r=this.toString("hex",0,$r).replace(/(.{2})/g,"$1 ").trim(),this.length>$r&&(_r+=" ... "),"<Buffer "+_r+">"},ne&&(ae.prototype[ne]=ae.prototype.inspect),ae.prototype.compare=function(_r,$r,Mr,jr,qr){if(Fr(_r,Uint8Array)&&(_r=ae.from(_r,_r.offset,_r.byteLength)),!ae.isBuffer(_r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _r);if($r===void 0&&($r=0),Mr===void 0&&(Mr=_r?_r.length:0),jr===void 0&&(jr=0),qr===void 0&&(qr=this.length),$r<0||Mr>_r.length||jr<0||qr>this.length)throw new RangeError("out of range index");if(jr>=qr&&$r>=Mr)return 0;if(jr>=qr)return-1;if($r>=Mr)return 1;if($r>>>=0,Mr>>>=0,jr>>>=0,qr>>>=0,this===_r)return 0;for(var Jr=qr-jr,qn=Mr-$r,zn=Math.min(Jr,qn),Xn=this.slice(jr,qr),Jn=_r.slice($r,Mr),Rr=0;Rr<zn;++Rr)if(Xn[Rr]!==Jn[Rr]){Jr=Xn[Rr],qn=Jn[Rr];break}return Jr<qn?-1:qn<Jr?1:0};function Or(kr,_r,$r,Mr,jr){if(kr.length===0)return-1;if(typeof $r=="string"?(Mr=$r,$r=0):$r>2147483647?$r=2147483647:$r<-2147483648&&($r=-2147483648),$r=+$r,Ur($r)&&($r=jr?0:kr.length-1),$r<0&&($r=kr.length+$r),$r>=kr.length){if(jr)return-1;$r=kr.length-1}else if($r<0)if(jr)$r=0;else return-1;if(typeof _r=="string"&&(_r=ae.from(_r,Mr)),ae.isBuffer(_r))return _r.length===0?-1:Hr(kr,_r,$r,Mr,jr);if(typeof _r=="number")return _r=_r&255,typeof Uint8Array.prototype.indexOf=="function"?jr?Uint8Array.prototype.indexOf.call(kr,_r,$r):Uint8Array.prototype.lastIndexOf.call(kr,_r,$r):Hr(kr,[_r],$r,Mr,jr);throw new TypeError("val must be string, number or Buffer")}function Hr(kr,_r,$r,Mr,jr){var qr=1,Jr=kr.length,qn=_r.length;if(Mr!==void 0&&(Mr=String(Mr).toLowerCase(),Mr==="ucs2"||Mr==="ucs-2"||Mr==="utf16le"||Mr==="utf-16le")){if(kr.length<2||_r.length<2)return-1;qr=2,Jr/=2,qn/=2,$r/=2}function zn(wr,Sr){return qr===1?wr[Sr]:wr.readUInt16BE(Sr*qr)}var Xn;if(jr){var Jn=-1;for(Xn=$r;Xn<Jr;Xn++)if(zn(kr,Xn)===zn(_r,Jn===-1?0:Xn-Jn)){if(Jn===-1&&(Jn=Xn),Xn-Jn+1===qn)return Jn*qr}else Jn!==-1&&(Xn-=Xn-Jn),Jn=-1}else for($r+qn>Jr&&($r=Jr-qn),Xn=$r;Xn>=0;Xn--){for(var Rr=!0,xr=0;xr<qn;xr++)if(zn(kr,Xn+xr)!==zn(_r,xr)){Rr=!1;break}if(Rr)return Xn}return-1}ae.prototype.includes=function(_r,$r,Mr){return this.indexOf(_r,$r,Mr)!==-1},ae.prototype.indexOf=function(_r,$r,Mr){return Or(this,_r,$r,Mr,!0)},ae.prototype.lastIndexOf=function(_r,$r,Mr){return Or(this,_r,$r,Mr,!1)};function Pr(kr,_r,$r,Mr){$r=Number($r)||0;var jr=kr.length-$r;Mr?(Mr=Number(Mr),Mr>jr&&(Mr=jr)):Mr=jr;var qr=_r.length;Mr>qr/2&&(Mr=qr/2);for(var Jr=0;Jr<Mr;++Jr){var qn=parseInt(_r.substr(Jr*2,2),16);if(Ur(qn))return Jr;kr[$r+Jr]=qn}return Jr}function Br(kr,_r,$r,Mr){return Xr(Dr(_r,kr.length-$r),kr,$r,Mr)}function Nr(kr,_r,$r,Mr){return Xr(Wr(_r),kr,$r,Mr)}function dr(kr,_r,$r,Mr){return Xr(Zr(_r),kr,$r,Mr)}function tr(kr,_r,$r,Mr){return Xr(Qr(_r,kr.length-$r),kr,$r,Mr)}ae.prototype.write=function(_r,$r,Mr,jr){if($r===void 0)jr="utf8",Mr=this.length,$r=0;else if(Mr===void 0&&typeof $r=="string")jr=$r,Mr=this.length,$r=0;else if(isFinite($r))$r=$r>>>0,isFinite(Mr)?(Mr=Mr>>>0,jr===void 0&&(jr="utf8")):(jr=Mr,Mr=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var qr=this.length-$r;if((Mr===void 0||Mr>qr)&&(Mr=qr),_r.length>0&&(Mr<0||$r<0)||$r>this.length)throw new RangeError("Attempt to write outside buffer bounds");jr||(jr="utf8");for(var Jr=!1;;)switch(jr){case"hex":return Pr(this,_r,$r,Mr);case"utf8":case"utf-8":return Br(this,_r,$r,Mr);case"ascii":case"latin1":case"binary":return Nr(this,_r,$r,Mr);case"base64":return dr(this,_r,$r,Mr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return tr(this,_r,$r,Mr);default:if(Jr)throw new TypeError("Unknown encoding: "+jr);jr=(""+jr).toLowerCase(),Jr=!0}},ae.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ve(kr,_r,$r){return _r===0&&$r===kr.length?ee.fromByteArray(kr):ee.fromByteArray(kr.slice(_r,$r))}function ce(kr,_r,$r){$r=Math.min(kr.length,$r);for(var Mr=[],jr=_r;jr<$r;){var qr=kr[jr],Jr=null,qn=qr>239?4:qr>223?3:qr>191?2:1;if(jr+qn<=$r){var zn,Xn,Jn,Rr;switch(qn){case 1:qr<128&&(Jr=qr);break;case 2:zn=kr[jr+1],(zn&192)===128&&(Rr=(qr&31)<<6|zn&63,Rr>127&&(Jr=Rr));break;case 3:zn=kr[jr+1],Xn=kr[jr+2],(zn&192)===128&&(Xn&192)===128&&(Rr=(qr&15)<<12|(zn&63)<<6|Xn&63,Rr>2047&&(Rr<55296||Rr>57343)&&(Jr=Rr));break;case 4:zn=kr[jr+1],Xn=kr[jr+2],Jn=kr[jr+3],(zn&192)===128&&(Xn&192)===128&&(Jn&192)===128&&(Rr=(qr&15)<<18|(zn&63)<<12|(Xn&63)<<6|Jn&63,Rr>65535&&Rr<1114112&&(Jr=Rr))}}Jr===null?(Jr=65533,qn=1):Jr>65535&&(Jr-=65536,Mr.push(Jr>>>10&1023|55296),Jr=56320|Jr&1023),Mr.push(Jr),jr+=qn}return ir(Mr)}var me=4096;function ir(kr){var _r=kr.length;if(_r<=me)return String.fromCharCode.apply(String,kr);for(var $r="",Mr=0;Mr<_r;)$r+=String.fromCharCode.apply(String,kr.slice(Mr,Mr+=me));return $r}function ur(kr,_r,$r){var Mr="";$r=Math.min(kr.length,$r);for(var jr=_r;jr<$r;++jr)Mr+=String.fromCharCode(kr[jr]&127);return Mr}function lr(kr,_r,$r){var Mr="";$r=Math.min(kr.length,$r);for(var jr=_r;jr<$r;++jr)Mr+=String.fromCharCode(kr[jr]);return Mr}function er(kr,_r,$r){var Mr=kr.length;(!_r||_r<0)&&(_r=0),(!$r||$r<0||$r>Mr)&&($r=Mr);for(var jr="",qr=_r;qr<$r;++qr)jr+=Kr[kr[qr]];return jr}function nr(kr,_r,$r){for(var Mr=kr.slice(_r,$r),jr="",qr=0;qr<Mr.length-1;qr+=2)jr+=String.fromCharCode(Mr[qr]+Mr[qr+1]*256);return jr}ae.prototype.slice=function(_r,$r){var Mr=this.length;_r=~~_r,$r=$r===void 0?Mr:~~$r,_r<0?(_r+=Mr,_r<0&&(_r=0)):_r>Mr&&(_r=Mr),$r<0?($r+=Mr,$r<0&&($r=0)):$r>Mr&&($r=Mr),$r<_r&&($r=_r);var jr=this.subarray(_r,$r);return Object.setPrototypeOf(jr,ae.prototype),jr};function or(kr,_r,$r){if(kr%1!==0||kr<0)throw new RangeError("offset is not uint");if(kr+_r>$r)throw new RangeError("Trying to access beyond buffer length")}ae.prototype.readUintLE=ae.prototype.readUIntLE=function(_r,$r,Mr){_r=_r>>>0,$r=$r>>>0,Mr||or(_r,$r,this.length);for(var jr=this[_r],qr=1,Jr=0;++Jr<$r&&(qr*=256);)jr+=this[_r+Jr]*qr;return jr},ae.prototype.readUintBE=ae.prototype.readUIntBE=function(_r,$r,Mr){_r=_r>>>0,$r=$r>>>0,Mr||or(_r,$r,this.length);for(var jr=this[_r+--$r],qr=1;$r>0&&(qr*=256);)jr+=this[_r+--$r]*qr;return jr},ae.prototype.readUint8=ae.prototype.readUInt8=function(_r,$r){return _r=_r>>>0,$r||or(_r,1,this.length),this[_r]},ae.prototype.readUint16LE=ae.prototype.readUInt16LE=function(_r,$r){return _r=_r>>>0,$r||or(_r,2,this.length),this[_r]|this[_r+1]<<8},ae.prototype.readUint16BE=ae.prototype.readUInt16BE=function(_r,$r){return _r=_r>>>0,$r||or(_r,2,this.length),this[_r]<<8|this[_r+1]},ae.prototype.readUint32LE=ae.prototype.readUInt32LE=function(_r,$r){return _r=_r>>>0,$r||or(_r,4,this.length),(this[_r]|this[_r+1]<<8|this[_r+2]<<16)+this[_r+3]*16777216},ae.prototype.readUint32BE=ae.prototype.readUInt32BE=function(_r,$r){return _r=_r>>>0,$r||or(_r,4,this.length),this[_r]*16777216+(this[_r+1]<<16|this[_r+2]<<8|this[_r+3])},ae.prototype.readIntLE=function(_r,$r,Mr){_r=_r>>>0,$r=$r>>>0,Mr||or(_r,$r,this.length);for(var jr=this[_r],qr=1,Jr=0;++Jr<$r&&(qr*=256);)jr+=this[_r+Jr]*qr;return qr*=128,jr>=qr&&(jr-=Math.pow(2,8*$r)),jr},ae.prototype.readIntBE=function(_r,$r,Mr){_r=_r>>>0,$r=$r>>>0,Mr||or(_r,$r,this.length);for(var jr=$r,qr=1,Jr=this[_r+--jr];jr>0&&(qr*=256);)Jr+=this[_r+--jr]*qr;return qr*=128,Jr>=qr&&(Jr-=Math.pow(2,8*$r)),Jr},ae.prototype.readInt8=function(_r,$r){return _r=_r>>>0,$r||or(_r,1,this.length),this[_r]&128?(255-this[_r]+1)*-1:this[_r]},ae.prototype.readInt16LE=function(_r,$r){_r=_r>>>0,$r||or(_r,2,this.length);var Mr=this[_r]|this[_r+1]<<8;return Mr&32768?Mr|4294901760:Mr},ae.prototype.readInt16BE=function(_r,$r){_r=_r>>>0,$r||or(_r,2,this.length);var Mr=this[_r+1]|this[_r]<<8;return Mr&32768?Mr|4294901760:Mr},ae.prototype.readInt32LE=function(_r,$r){return _r=_r>>>0,$r||or(_r,4,this.length),this[_r]|this[_r+1]<<8|this[_r+2]<<16|this[_r+3]<<24},ae.prototype.readInt32BE=function(_r,$r){return _r=_r>>>0,$r||or(_r,4,this.length),this[_r]<<24|this[_r+1]<<16|this[_r+2]<<8|this[_r+3]},ae.prototype.readFloatLE=function(_r,$r){return _r=_r>>>0,$r||or(_r,4,this.length),re.read(this,_r,!0,23,4)},ae.prototype.readFloatBE=function(_r,$r){return _r=_r>>>0,$r||or(_r,4,this.length),re.read(this,_r,!1,23,4)},ae.prototype.readDoubleLE=function(_r,$r){return _r=_r>>>0,$r||or(_r,8,this.length),re.read(this,_r,!0,52,8)},ae.prototype.readDoubleBE=function(_r,$r){return _r=_r>>>0,$r||or(_r,8,this.length),re.read(this,_r,!1,52,8)};function ye(kr,_r,$r,Mr,jr,qr){if(!ae.isBuffer(kr))throw new TypeError('"buffer" argument must be a Buffer instance');if(_r>jr||_r<qr)throw new RangeError('"value" argument is out of bounds');if($r+Mr>kr.length)throw new RangeError("Index out of range")}ae.prototype.writeUintLE=ae.prototype.writeUIntLE=function(_r,$r,Mr,jr){if(_r=+_r,$r=$r>>>0,Mr=Mr>>>0,!jr){var qr=Math.pow(2,8*Mr)-1;ye(this,_r,$r,Mr,qr,0)}var Jr=1,qn=0;for(this[$r]=_r&255;++qn<Mr&&(Jr*=256);)this[$r+qn]=_r/Jr&255;return $r+Mr},ae.prototype.writeUintBE=ae.prototype.writeUIntBE=function(_r,$r,Mr,jr){if(_r=+_r,$r=$r>>>0,Mr=Mr>>>0,!jr){var qr=Math.pow(2,8*Mr)-1;ye(this,_r,$r,Mr,qr,0)}var Jr=Mr-1,qn=1;for(this[$r+Jr]=_r&255;--Jr>=0&&(qn*=256);)this[$r+Jr]=_r/qn&255;return $r+Mr},ae.prototype.writeUint8=ae.prototype.writeUInt8=function(_r,$r,Mr){return _r=+_r,$r=$r>>>0,Mr||ye(this,_r,$r,1,255,0),this[$r]=_r&255,$r+1},ae.prototype.writeUint16LE=ae.prototype.writeUInt16LE=function(_r,$r,Mr){return _r=+_r,$r=$r>>>0,Mr||ye(this,_r,$r,2,65535,0),this[$r]=_r&255,this[$r+1]=_r>>>8,$r+2},ae.prototype.writeUint16BE=ae.prototype.writeUInt16BE=function(_r,$r,Mr){return _r=+_r,$r=$r>>>0,Mr||ye(this,_r,$r,2,65535,0),this[$r]=_r>>>8,this[$r+1]=_r&255,$r+2},ae.prototype.writeUint32LE=ae.prototype.writeUInt32LE=function(_r,$r,Mr){return _r=+_r,$r=$r>>>0,Mr||ye(this,_r,$r,4,4294967295,0),this[$r+3]=_r>>>24,this[$r+2]=_r>>>16,this[$r+1]=_r>>>8,this[$r]=_r&255,$r+4},ae.prototype.writeUint32BE=ae.prototype.writeUInt32BE=function(_r,$r,Mr){return _r=+_r,$r=$r>>>0,Mr||ye(this,_r,$r,4,4294967295,0),this[$r]=_r>>>24,this[$r+1]=_r>>>16,this[$r+2]=_r>>>8,this[$r+3]=_r&255,$r+4},ae.prototype.writeIntLE=function(_r,$r,Mr,jr){if(_r=+_r,$r=$r>>>0,!jr){var qr=Math.pow(2,8*Mr-1);ye(this,_r,$r,Mr,qr-1,-qr)}var Jr=0,qn=1,zn=0;for(this[$r]=_r&255;++Jr<Mr&&(qn*=256);)_r<0&&zn===0&&this[$r+Jr-1]!==0&&(zn=1),this[$r+Jr]=(_r/qn>>0)-zn&255;return $r+Mr},ae.prototype.writeIntBE=function(_r,$r,Mr,jr){if(_r=+_r,$r=$r>>>0,!jr){var qr=Math.pow(2,8*Mr-1);ye(this,_r,$r,Mr,qr-1,-qr)}var Jr=Mr-1,qn=1,zn=0;for(this[$r+Jr]=_r&255;--Jr>=0&&(qn*=256);)_r<0&&zn===0&&this[$r+Jr+1]!==0&&(zn=1),this[$r+Jr]=(_r/qn>>0)-zn&255;return $r+Mr},ae.prototype.writeInt8=function(_r,$r,Mr){return _r=+_r,$r=$r>>>0,Mr||ye(this,_r,$r,1,127,-128),_r<0&&(_r=255+_r+1),this[$r]=_r&255,$r+1},ae.prototype.writeInt16LE=function(_r,$r,Mr){return _r=+_r,$r=$r>>>0,Mr||ye(this,_r,$r,2,32767,-32768),this[$r]=_r&255,this[$r+1]=_r>>>8,$r+2},ae.prototype.writeInt16BE=function(_r,$r,Mr){return _r=+_r,$r=$r>>>0,Mr||ye(this,_r,$r,2,32767,-32768),this[$r]=_r>>>8,this[$r+1]=_r&255,$r+2},ae.prototype.writeInt32LE=function(_r,$r,Mr){return _r=+_r,$r=$r>>>0,Mr||ye(this,_r,$r,4,2147483647,-2147483648),this[$r]=_r&255,this[$r+1]=_r>>>8,this[$r+2]=_r>>>16,this[$r+3]=_r>>>24,$r+4},ae.prototype.writeInt32BE=function(_r,$r,Mr){return _r=+_r,$r=$r>>>0,Mr||ye(this,_r,$r,4,2147483647,-2147483648),_r<0&&(_r=4294967295+_r+1),this[$r]=_r>>>24,this[$r+1]=_r>>>16,this[$r+2]=_r>>>8,this[$r+3]=_r&255,$r+4};function gr(kr,_r,$r,Mr,jr,qr){if($r+Mr>kr.length)throw new RangeError("Index out of range");if($r<0)throw new RangeError("Index out of range")}function Ar(kr,_r,$r,Mr,jr){return _r=+_r,$r=$r>>>0,jr||gr(kr,_r,$r,4),re.write(kr,_r,$r,Mr,23,4),$r+4}ae.prototype.writeFloatLE=function(_r,$r,Mr){return Ar(this,_r,$r,!0,Mr)},ae.prototype.writeFloatBE=function(_r,$r,Mr){return Ar(this,_r,$r,!1,Mr)};function br(kr,_r,$r,Mr,jr){return _r=+_r,$r=$r>>>0,jr||gr(kr,_r,$r,8),re.write(kr,_r,$r,Mr,52,8),$r+8}ae.prototype.writeDoubleLE=function(_r,$r,Mr){return br(this,_r,$r,!0,Mr)},ae.prototype.writeDoubleBE=function(_r,$r,Mr){return br(this,_r,$r,!1,Mr)},ae.prototype.copy=function(_r,$r,Mr,jr){if(!ae.isBuffer(_r))throw new TypeError("argument should be a Buffer");if(Mr||(Mr=0),!jr&&jr!==0&&(jr=this.length),$r>=_r.length&&($r=_r.length),$r||($r=0),jr>0&&jr<Mr&&(jr=Mr),jr===Mr||_r.length===0||this.length===0)return 0;if($r<0)throw new RangeError("targetStart out of bounds");if(Mr<0||Mr>=this.length)throw new RangeError("Index out of range");if(jr<0)throw new RangeError("sourceEnd out of bounds");jr>this.length&&(jr=this.length),_r.length-$r<jr-Mr&&(jr=_r.length-$r+Mr);var qr=jr-Mr;return this===_r&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin($r,Mr,jr):Uint8Array.prototype.set.call(_r,this.subarray(Mr,jr),$r),qr},ae.prototype.fill=function(_r,$r,Mr,jr){if(typeof _r=="string"){if(typeof $r=="string"?(jr=$r,$r=0,Mr=this.length):typeof Mr=="string"&&(jr=Mr,Mr=this.length),jr!==void 0&&typeof jr!="string")throw new TypeError("encoding must be a string");if(typeof jr=="string"&&!ae.isEncoding(jr))throw new TypeError("Unknown encoding: "+jr);if(_r.length===1){var qr=_r.charCodeAt(0);(jr==="utf8"&&qr<128||jr==="latin1")&&(_r=qr)}}else typeof _r=="number"?_r=_r&255:typeof _r=="boolean"&&(_r=Number(_r));if($r<0||this.length<$r||this.length<Mr)throw new RangeError("Out of range index");if(Mr<=$r)return this;$r=$r>>>0,Mr=Mr===void 0?this.length:Mr>>>0,_r||(_r=0);var Jr;if(typeof _r=="number")for(Jr=$r;Jr<Mr;++Jr)this[Jr]=_r;else{var qn=ae.isBuffer(_r)?_r:ae.from(_r,jr),zn=qn.length;if(zn===0)throw new TypeError('The value "'+_r+'" is invalid for argument "value"');for(Jr=0;Jr<Mr-$r;++Jr)this[Jr+$r]=qn[Jr%zn]}return this};var Cr=/[^+/0-9A-Za-z-_]/g;function Lr(kr){if(kr=kr.split("=")[0],kr=kr.trim().replace(Cr,""),kr.length<2)return"";for(;kr.length%4!==0;)kr=kr+"=";return kr}function Dr(kr,_r){_r=_r||1/0;for(var $r,Mr=kr.length,jr=null,qr=[],Jr=0;Jr<Mr;++Jr){if($r=kr.charCodeAt(Jr),$r>55295&&$r<57344){if(!jr){if($r>56319){(_r-=3)>-1&&qr.push(239,191,189);continue}else if(Jr+1===Mr){(_r-=3)>-1&&qr.push(239,191,189);continue}jr=$r;continue}if($r<56320){(_r-=3)>-1&&qr.push(239,191,189),jr=$r;continue}$r=(jr-55296<<10|$r-56320)+65536}else jr&&(_r-=3)>-1&&qr.push(239,191,189);if(jr=null,$r<128){if((_r-=1)<0)break;qr.push($r)}else if($r<2048){if((_r-=2)<0)break;qr.push($r>>6|192,$r&63|128)}else if($r<65536){if((_r-=3)<0)break;qr.push($r>>12|224,$r>>6&63|128,$r&63|128)}else if($r<1114112){if((_r-=4)<0)break;qr.push($r>>18|240,$r>>12&63|128,$r>>6&63|128,$r&63|128)}else throw new Error("Invalid code point")}return qr}function Wr(kr){for(var _r=[],$r=0;$r<kr.length;++$r)_r.push(kr.charCodeAt($r)&255);return _r}function Qr(kr,_r){for(var $r,Mr,jr,qr=[],Jr=0;Jr<kr.length&&!((_r-=2)<0);++Jr)$r=kr.charCodeAt(Jr),Mr=$r>>8,jr=$r%256,qr.push(jr),qr.push(Mr);return qr}function Zr(kr){return ee.toByteArray(Lr(kr))}function Xr(kr,_r,$r,Mr){for(var jr=0;jr<Mr&&!(jr+$r>=_r.length||jr>=kr.length);++jr)_r[jr+$r]=kr[jr];return jr}function Fr(kr,_r){return kr instanceof _r||kr!=null&&kr.constructor!=null&&kr.constructor.name!=null&&kr.constructor.name===_r.name}function Ur(kr){return kr!==kr}var Kr=function(){for(var kr="0123456789abcdef",_r=new Array(256),$r=0;$r<16;++$r)for(var Mr=$r*16,jr=0;jr<16;++jr)_r[Mr+jr]=kr[$r]+kr[jr];return _r}()})(buffer$1);var BufferUtil$2=typedarrayBuffer,Polynomial=polynomial,Buffer=buffer$1.Buffer;function ReedSolomonEncoder$1(te){this.genPoly=void 0,this.degree=te,this.degree&&this.initialize(this.degree)}ReedSolomonEncoder$1.prototype.initialize=function(ee){this.degree=ee,this.genPoly=Polynomial.generateECPolynomial(this.degree)};ReedSolomonEncoder$1.prototype.encode=function(ee){if(!this.genPoly)throw new Error("Encoder not initialized");var re=BufferUtil$2.alloc(this.degree),ne=Buffer.concat([ee,re],ee.length+this.degree),ie=Polynomial.mod(ne,this.genPoly),oe=this.degree-ie.length;if(oe>0){var se=BufferUtil$2.alloc(this.degree);return ie.copy(se,oe),se}return ie};var reedSolomonEncoder=ReedSolomonEncoder$1,version$5={},mode={},versionCheck={};versionCheck.isValid=function(ee){return!isNaN(ee)&&ee>=1&&ee<=40};var regex={},numeric="[0-9]+",alphanumeric="[A-Z $%*+\\-./:]+",kanji="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";kanji=kanji.replace(/u/g,"\\u");var byte="(?:(?![A-Z0-9 $%*+\\-./:]|"+kanji+`)(?:.|[\r
]))+`;regex.KANJI=new RegExp(kanji,"g");regex.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");regex.BYTE=new RegExp(byte,"g");regex.NUMERIC=new RegExp(numeric,"g");regex.ALPHANUMERIC=new RegExp(alphanumeric,"g");var TEST_KANJI=new RegExp("^"+kanji+"$"),TEST_NUMERIC=new RegExp("^"+numeric+"$"),TEST_ALPHANUMERIC=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");regex.testKanji=function(ee){return TEST_KANJI.test(ee)};regex.testNumeric=function(ee){return TEST_NUMERIC.test(ee)};regex.testAlphanumeric=function(ee){return TEST_ALPHANUMERIC.test(ee)};(function(te){var ee=versionCheck,re=regex;te.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},te.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},te.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},te.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},te.MIXED={bit:-1},te.getCharCountIndicator=function(oe,se){if(!oe.ccBits)throw new Error("Invalid mode: "+oe);if(!ee.isValid(se))throw new Error("Invalid version: "+se);return se>=1&&se<10?oe.ccBits[0]:se<27?oe.ccBits[1]:oe.ccBits[2]},te.getBestModeForData=function(oe){return re.testNumeric(oe)?te.NUMERIC:re.testAlphanumeric(oe)?te.ALPHANUMERIC:re.testKanji(oe)?te.KANJI:te.BYTE},te.toString=function(oe){if(oe&&oe.id)return oe.id;throw new Error("Invalid mode")},te.isValid=function(oe){return oe&&oe.bit&&oe.ccBits};function ne(ie){if(typeof ie!="string")throw new Error("Param is not a string");var oe=ie.toLowerCase();switch(oe){case"numeric":return te.NUMERIC;case"alphanumeric":return te.ALPHANUMERIC;case"kanji":return te.KANJI;case"byte":return te.BYTE;default:throw new Error("Unknown mode: "+ie)}}te.from=function(oe,se){if(te.isValid(oe))return oe;try{return ne(oe)}catch{return se}}})(mode);(function(te){var ee=utils$2,re=errorCorrectionCode,ne=errorCorrectionLevel,ie=mode,oe=versionCheck,se=isarray,ae=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,fe=ee.getBCHDigit(ae);function ue(cr,ar,mr){for(var pr=1;pr<=40;pr++)if(ar<=te.getCapacity(pr,mr,cr))return pr}function le(cr,ar){return ie.getCharCountIndicator(cr,ar)+4}function pe(cr,ar){var mr=0;return cr.forEach(function(pr){var yr=le(pr.mode,ar);mr+=yr+pr.getBitsLength()}),mr}function rr(cr,ar){for(var mr=1;mr<=40;mr++){var pr=pe(cr,mr);if(pr<=te.getCapacity(mr,ar,ie.MIXED))return mr}}te.from=function(ar,mr){return oe.isValid(ar)?parseInt(ar,10):mr},te.getCapacity=function(ar,mr,pr){if(!oe.isValid(ar))throw new Error("Invalid QR Code version");typeof pr=="undefined"&&(pr=ie.BYTE);var yr=ee.getSymbolTotalCodewords(ar),vr=re.getTotalCodewordsCount(ar,mr),Er=(yr-vr)*8;if(pr===ie.MIXED)return Er;var Tr=Er-le(pr,ar);switch(pr){case ie.NUMERIC:return Math.floor(Tr/10*3);case ie.ALPHANUMERIC:return Math.floor(Tr/11*2);case ie.KANJI:return Math.floor(Tr/13);case ie.BYTE:default:return Math.floor(Tr/8)}},te.getBestVersionForData=function(ar,mr){var pr,yr=ne.from(mr,ne.M);if(se(ar)){if(ar.length>1)return rr(ar,yr);if(ar.length===0)return 1;pr=ar[0]}else pr=ar;return ue(pr.mode,pr.getLength(),yr)},te.getEncodedBits=function(ar){if(!oe.isValid(ar)||ar<7)throw new Error("Invalid QR Code version");for(var mr=ar<<12;ee.getBCHDigit(mr)-fe>=0;)mr^=ae<<ee.getBCHDigit(mr)-fe;return ar<<12|mr}})(version$5);var formatInfo={},Utils$3=utils$2,G15=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G15_MASK=1<<14|1<<12|1<<10|1<<4|1<<1,G15_BCH=Utils$3.getBCHDigit(G15);formatInfo.getEncodedBits=function(ee,re){for(var ne=ee.bit<<3|re,ie=ne<<10;Utils$3.getBCHDigit(ie)-G15_BCH>=0;)ie^=G15<<Utils$3.getBCHDigit(ie)-G15_BCH;return(ne<<10|ie)^G15_MASK};var segments={},Mode$4=mode;function NumericData(te){this.mode=Mode$4.NUMERIC,this.data=te.toString()}NumericData.getBitsLength=function(ee){return 10*Math.floor(ee/3)+(ee%3?ee%3*3+1:0)};NumericData.prototype.getLength=function(){return this.data.length};NumericData.prototype.getBitsLength=function(){return NumericData.getBitsLength(this.data.length)};NumericData.prototype.write=function(ee){var re,ne,ie;for(re=0;re+3<=this.data.length;re+=3)ne=this.data.substr(re,3),ie=parseInt(ne,10),ee.put(ie,10);var oe=this.data.length-re;oe>0&&(ne=this.data.substr(re),ie=parseInt(ne,10),ee.put(ie,oe*3+1))};var numericData=NumericData,Mode$3=mode,ALPHA_NUM_CHARS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function AlphanumericData(te){this.mode=Mode$3.ALPHANUMERIC,this.data=te}AlphanumericData.getBitsLength=function(ee){return 11*Math.floor(ee/2)+6*(ee%2)};AlphanumericData.prototype.getLength=function(){return this.data.length};AlphanumericData.prototype.getBitsLength=function(){return AlphanumericData.getBitsLength(this.data.length)};AlphanumericData.prototype.write=function(ee){var re;for(re=0;re+2<=this.data.length;re+=2){var ne=ALPHA_NUM_CHARS.indexOf(this.data[re])*45;ne+=ALPHA_NUM_CHARS.indexOf(this.data[re+1]),ee.put(ne,11)}this.data.length%2&&ee.put(ALPHA_NUM_CHARS.indexOf(this.data[re]),6)};var alphanumericData=AlphanumericData,BufferUtil$1=typedarrayBuffer,Mode$2=mode;function ByteData(te){this.mode=Mode$2.BYTE,this.data=BufferUtil$1.from(te)}ByteData.getBitsLength=function(ee){return ee*8};ByteData.prototype.getLength=function(){return this.data.length};ByteData.prototype.getBitsLength=function(){return ByteData.getBitsLength(this.data.length)};ByteData.prototype.write=function(te){for(var ee=0,re=this.data.length;ee<re;ee++)te.put(this.data[ee],8)};var byteData=ByteData,Mode$1=mode,Utils$2=utils$2;function KanjiData(te){this.mode=Mode$1.KANJI,this.data=te}KanjiData.getBitsLength=function(ee){return ee*13};KanjiData.prototype.getLength=function(){return this.data.length};KanjiData.prototype.getBitsLength=function(){return KanjiData.getBitsLength(this.data.length)};KanjiData.prototype.write=function(te){var ee;for(ee=0;ee<this.data.length;ee++){var re=Utils$2.toSJIS(this.data[ee]);if(re>=33088&&re<=40956)re-=33088;else if(re>=57408&&re<=60351)re-=49472;else throw new Error("Invalid SJIS character: "+this.data[ee]+`
Make sure your charset is UTF-8`);re=(re>>>8&255)*192+(re&255),te.put(re,13)}};var kanjiData=KanjiData,dijkstra={exports:{}};(function(te){var ee={single_source_shortest_paths:function(re,ne,ie){var oe={},se={};se[ne]=0;var ae=ee.PriorityQueue.make();ae.push(ne,0);for(var fe,ue,le,pe,rr,cr,ar,mr,pr;!ae.empty();){fe=ae.pop(),ue=fe.value,pe=fe.cost,rr=re[ue]||{};for(le in rr)rr.hasOwnProperty(le)&&(cr=rr[le],ar=pe+cr,mr=se[le],pr=typeof se[le]=="undefined",(pr||mr>ar)&&(se[le]=ar,ae.push(le,ar),oe[le]=ue))}if(typeof ie!="undefined"&&typeof se[ie]=="undefined"){var yr=["Could not find a path from ",ne," to ",ie,"."].join("");throw new Error(yr)}return oe},extract_shortest_path_from_predecessor_list:function(re,ne){for(var ie=[],oe=ne;oe;)ie.push(oe),oe=re[oe];return ie.reverse(),ie},find_path:function(re,ne,ie){var oe=ee.single_source_shortest_paths(re,ne,ie);return ee.extract_shortest_path_from_predecessor_list(oe,ie)},PriorityQueue:{make:function(re){var ne=ee.PriorityQueue,ie={},oe;re=re||{};for(oe in ne)ne.hasOwnProperty(oe)&&(ie[oe]=ne[oe]);return ie.queue=[],ie.sorter=re.sorter||ne.default_sorter,ie},default_sorter:function(re,ne){return re.cost-ne.cost},push:function(re,ne){var ie={value:re,cost:ne};this.queue.push(ie),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};te.exports=ee})(dijkstra);(function(te){var ee=mode,re=numericData,ne=alphanumericData,ie=byteData,oe=kanjiData,se=regex,ae=utils$2,fe=dijkstra.exports;function ue(yr){return unescape(encodeURIComponent(yr)).length}function le(yr,vr,Er){for(var Tr=[],Ir;(Ir=yr.exec(Er))!==null;)Tr.push({data:Ir[0],index:Ir.index,mode:vr,length:Ir[0].length});return Tr}function pe(yr){var vr=le(se.NUMERIC,ee.NUMERIC,yr),Er=le(se.ALPHANUMERIC,ee.ALPHANUMERIC,yr),Tr,Ir;ae.isKanjiModeEnabled()?(Tr=le(se.BYTE,ee.BYTE,yr),Ir=le(se.KANJI,ee.KANJI,yr)):(Tr=le(se.BYTE_KANJI,ee.BYTE,yr),Ir=[]);var Or=vr.concat(Er,Tr,Ir);return Or.sort(function(Hr,Pr){return Hr.index-Pr.index}).map(function(Hr){return{data:Hr.data,mode:Hr.mode,length:Hr.length}})}function rr(yr,vr){switch(vr){case ee.NUMERIC:return re.getBitsLength(yr);case ee.ALPHANUMERIC:return ne.getBitsLength(yr);case ee.KANJI:return oe.getBitsLength(yr);case ee.BYTE:return ie.getBitsLength(yr)}}function cr(yr){return yr.reduce(function(vr,Er){var Tr=vr.length-1>=0?vr[vr.length-1]:null;return Tr&&Tr.mode===Er.mode?(vr[vr.length-1].data+=Er.data,vr):(vr.push(Er),vr)},[])}function ar(yr){for(var vr=[],Er=0;Er<yr.length;Er++){var Tr=yr[Er];switch(Tr.mode){case ee.NUMERIC:vr.push([Tr,{data:Tr.data,mode:ee.ALPHANUMERIC,length:Tr.length},{data:Tr.data,mode:ee.BYTE,length:Tr.length}]);break;case ee.ALPHANUMERIC:vr.push([Tr,{data:Tr.data,mode:ee.BYTE,length:Tr.length}]);break;case ee.KANJI:vr.push([Tr,{data:Tr.data,mode:ee.BYTE,length:ue(Tr.data)}]);break;case ee.BYTE:vr.push([{data:Tr.data,mode:ee.BYTE,length:ue(Tr.data)}])}}return vr}function mr(yr,vr){for(var Er={},Tr={start:{}},Ir=["start"],Or=0;Or<yr.length;Or++){for(var Hr=yr[Or],Pr=[],Br=0;Br<Hr.length;Br++){var Nr=Hr[Br],dr=""+Or+Br;Pr.push(dr),Er[dr]={node:Nr,lastCount:0},Tr[dr]={};for(var tr=0;tr<Ir.length;tr++){var ve=Ir[tr];Er[ve]&&Er[ve].node.mode===Nr.mode?(Tr[ve][dr]=rr(Er[ve].lastCount+Nr.length,Nr.mode)-rr(Er[ve].lastCount,Nr.mode),Er[ve].lastCount+=Nr.length):(Er[ve]&&(Er[ve].lastCount=Nr.length),Tr[ve][dr]=rr(Nr.length,Nr.mode)+4+ee.getCharCountIndicator(Nr.mode,vr))}}Ir=Pr}for(tr=0;tr<Ir.length;tr++)Tr[Ir[tr]].end=0;return{map:Tr,table:Er}}function pr(yr,vr){var Er,Tr=ee.getBestModeForData(yr);if(Er=ee.from(vr,Tr),Er!==ee.BYTE&&Er.bit<Tr.bit)throw new Error('"'+yr+'" cannot be encoded with mode '+ee.toString(Er)+`.
 Suggested mode is: `+ee.toString(Tr));switch(Er===ee.KANJI&&!ae.isKanjiModeEnabled()&&(Er=ee.BYTE),Er){case ee.NUMERIC:return new re(yr);case ee.ALPHANUMERIC:return new ne(yr);case ee.KANJI:return new oe(yr);case ee.BYTE:return new ie(yr)}}te.fromArray=function(vr){return vr.reduce(function(Er,Tr){return typeof Tr=="string"?Er.push(pr(Tr,null)):Tr.data&&Er.push(pr(Tr.data,Tr.mode)),Er},[])},te.fromString=function(vr,Er){for(var Tr=pe(vr,ae.isKanjiModeEnabled()),Ir=ar(Tr),Or=mr(Ir,Er),Hr=fe.find_path(Or.map,"start","end"),Pr=[],Br=1;Br<Hr.length-1;Br++)Pr.push(Or.table[Hr[Br]].node);return te.fromArray(cr(Pr))},te.rawSplit=function(vr){return te.fromArray(pe(vr,ae.isKanjiModeEnabled()))}})(segments);var BufferUtil=typedarrayBuffer,Utils$1=utils$2,ECLevel=errorCorrectionLevel,BitBuffer=bitBuffer,BitMatrix=bitMatrix,AlignmentPattern=alignmentPattern,FinderPattern=finderPattern,MaskPattern=maskPattern,ECCode=errorCorrectionCode,ReedSolomonEncoder=reedSolomonEncoder,Version=version$5,FormatInfo=formatInfo,Mode=mode,Segments=segments,isArray$2=isarray;function setupFinderPattern(te,ee){for(var re=te.size,ne=FinderPattern.getPositions(ee),ie=0;ie<ne.length;ie++)for(var oe=ne[ie][0],se=ne[ie][1],ae=-1;ae<=7;ae++)if(!(oe+ae<=-1||re<=oe+ae))for(var fe=-1;fe<=7;fe++)se+fe<=-1||re<=se+fe||(ae>=0&&ae<=6&&(fe===0||fe===6)||fe>=0&&fe<=6&&(ae===0||ae===6)||ae>=2&&ae<=4&&fe>=2&&fe<=4?te.set(oe+ae,se+fe,!0,!0):te.set(oe+ae,se+fe,!1,!0))}function setupTimingPattern(te){for(var ee=te.size,re=8;re<ee-8;re++){var ne=re%2===0;te.set(re,6,ne,!0),te.set(6,re,ne,!0)}}function setupAlignmentPattern(te,ee){for(var re=AlignmentPattern.getPositions(ee),ne=0;ne<re.length;ne++)for(var ie=re[ne][0],oe=re[ne][1],se=-2;se<=2;se++)for(var ae=-2;ae<=2;ae++)se===-2||se===2||ae===-2||ae===2||se===0&&ae===0?te.set(ie+se,oe+ae,!0,!0):te.set(ie+se,oe+ae,!1,!0)}function setupVersionInfo(te,ee){for(var re=te.size,ne=Version.getEncodedBits(ee),ie,oe,se,ae=0;ae<18;ae++)ie=Math.floor(ae/3),oe=ae%3+re-8-3,se=(ne>>ae&1)===1,te.set(ie,oe,se,!0),te.set(oe,ie,se,!0)}function setupFormatInfo(te,ee,re){var ne=te.size,ie=FormatInfo.getEncodedBits(ee,re),oe,se;for(oe=0;oe<15;oe++)se=(ie>>oe&1)===1,oe<6?te.set(oe,8,se,!0):oe<8?te.set(oe+1,8,se,!0):te.set(ne-15+oe,8,se,!0),oe<8?te.set(8,ne-oe-1,se,!0):oe<9?te.set(8,15-oe-1+1,se,!0):te.set(8,15-oe-1,se,!0);te.set(ne-8,8,1,!0)}function setupData(te,ee){for(var re=te.size,ne=-1,ie=re-1,oe=7,se=0,ae=re-1;ae>0;ae-=2)for(ae===6&&ae--;;){for(var fe=0;fe<2;fe++)if(!te.isReserved(ie,ae-fe)){var ue=!1;se<ee.length&&(ue=(ee[se]>>>oe&1)===1),te.set(ie,ae-fe,ue),oe--,oe===-1&&(se++,oe=7)}if(ie+=ne,ie<0||re<=ie){ie-=ne,ne=-ne;break}}}function createData(te,ee,re){var ne=new BitBuffer;re.forEach(function(ue){ne.put(ue.mode.bit,4),ne.put(ue.getLength(),Mode.getCharCountIndicator(ue.mode,te)),ue.write(ne)});var ie=Utils$1.getSymbolTotalCodewords(te),oe=ECCode.getTotalCodewordsCount(te,ee),se=(ie-oe)*8;for(ne.getLengthInBits()+4<=se&&ne.put(0,4);ne.getLengthInBits()%8!==0;)ne.putBit(0);for(var ae=(se-ne.getLengthInBits())/8,fe=0;fe<ae;fe++)ne.put(fe%2?17:236,8);return createCodewords(ne,te,ee)}function createCodewords(te,ee,re){for(var ne=Utils$1.getSymbolTotalCodewords(ee),ie=ECCode.getTotalCodewordsCount(ee,re),oe=ne-ie,se=ECCode.getBlocksCount(ee,re),ae=ne%se,fe=se-ae,ue=Math.floor(ne/se),le=Math.floor(oe/se),pe=le+1,rr=ue-le,cr=new ReedSolomonEncoder(rr),ar=0,mr=new Array(se),pr=new Array(se),yr=0,vr=BufferUtil.from(te.buffer),Er=0;Er<se;Er++){var Tr=Er<fe?le:pe;mr[Er]=vr.slice(ar,ar+Tr),pr[Er]=cr.encode(mr[Er]),ar+=Tr,yr=Math.max(yr,Tr)}var Ir=BufferUtil.alloc(ne),Or=0,Hr,Pr;for(Hr=0;Hr<yr;Hr++)for(Pr=0;Pr<se;Pr++)Hr<mr[Pr].length&&(Ir[Or++]=mr[Pr][Hr]);for(Hr=0;Hr<rr;Hr++)for(Pr=0;Pr<se;Pr++)Ir[Or++]=pr[Pr][Hr];return Ir}function createSymbol(te,ee,re,ne){var ie;if(isArray$2(te))ie=Segments.fromArray(te);else if(typeof te=="string"){var oe=ee;if(!oe){var se=Segments.rawSplit(te);oe=Version.getBestVersionForData(se,re)}ie=Segments.fromString(te,oe||40)}else throw new Error("Invalid data");var ae=Version.getBestVersionForData(ie,re);if(!ae)throw new Error("The amount of data is too big to be stored in a QR Code");if(!ee)ee=ae;else if(ee<ae)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+ae+`.
`);var fe=createData(ee,re,ie),ue=Utils$1.getSymbolSize(ee),le=new BitMatrix(ue);return setupFinderPattern(le,ee),setupTimingPattern(le),setupAlignmentPattern(le,ee),setupFormatInfo(le,re,0),ee>=7&&setupVersionInfo(le,ee),setupData(le,fe),isNaN(ne)&&(ne=MaskPattern.getBestMask(le,setupFormatInfo.bind(null,le,re))),MaskPattern.applyMask(ne,le),setupFormatInfo(le,re,ne),{modules:le,version:ee,errorCorrectionLevel:re,maskPattern:ne,segments:ie}}qrcode.create=function(ee,re){if(typeof ee=="undefined"||ee==="")throw new Error("No input text");var ne=ECLevel.M,ie,oe;return typeof re!="undefined"&&(ne=ECLevel.from(re.errorCorrectionLevel,ECLevel.M),ie=Version.from(re.version),oe=MaskPattern.from(re.maskPattern),re.toSJISFunc&&Utils$1.setToSJISFunction(re.toSJISFunc)),createSymbol(ee,ie,ne,oe)};var canvas={},utils$1={};(function(te){function ee(re){if(typeof re=="number"&&(re=re.toString()),typeof re!="string")throw new Error("Color should be defined as hex string");var ne=re.slice().replace("#","").split("");if(ne.length<3||ne.length===5||ne.length>8)throw new Error("Invalid hex color: "+re);(ne.length===3||ne.length===4)&&(ne=Array.prototype.concat.apply([],ne.map(function(oe){return[oe,oe]}))),ne.length===6&&ne.push("F","F");var ie=parseInt(ne.join(""),16);return{r:ie>>24&255,g:ie>>16&255,b:ie>>8&255,a:ie&255,hex:"#"+ne.slice(0,6).join("")}}te.getOptions=function(ne){ne||(ne={}),ne.color||(ne.color={});var ie=typeof ne.margin=="undefined"||ne.margin===null||ne.margin<0?4:ne.margin,oe=ne.width&&ne.width>=21?ne.width:void 0,se=ne.scale||4;return{width:oe,scale:oe?4:se,margin:ie,color:{dark:ee(ne.color.dark||"#000000ff"),light:ee(ne.color.light||"#ffffffff")},type:ne.type,rendererOpts:ne.rendererOpts||{}}},te.getScale=function(ne,ie){return ie.width&&ie.width>=ne+ie.margin*2?ie.width/(ne+ie.margin*2):ie.scale},te.getImageWidth=function(ne,ie){var oe=te.getScale(ne,ie);return Math.floor((ne+ie.margin*2)*oe)},te.qrToImageData=function(ne,ie,oe){for(var se=ie.modules.size,ae=ie.modules.data,fe=te.getScale(se,oe),ue=Math.floor((se+oe.margin*2)*fe),le=oe.margin*fe,pe=[oe.color.light,oe.color.dark],rr=0;rr<ue;rr++)for(var cr=0;cr<ue;cr++){var ar=(rr*ue+cr)*4,mr=oe.color.light;if(rr>=le&&cr>=le&&rr<ue-le&&cr<ue-le){var pr=Math.floor((rr-le)/fe),yr=Math.floor((cr-le)/fe);mr=pe[ae[pr*se+yr]?1:0]}ne[ar++]=mr.r,ne[ar++]=mr.g,ne[ar++]=mr.b,ne[ar]=mr.a}}})(utils$1);(function(te){var ee=utils$1;function re(ie,oe,se){ie.clearRect(0,0,oe.width,oe.height),oe.style||(oe.style={}),oe.height=se,oe.width=se,oe.style.height=se+"px",oe.style.width=se+"px"}function ne(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}te.render=function(oe,se,ae){var fe=ae,ue=se;typeof fe=="undefined"&&(!se||!se.getContext)&&(fe=se,se=void 0),se||(ue=ne()),fe=ee.getOptions(fe);var le=ee.getImageWidth(oe.modules.size,fe),pe=ue.getContext("2d"),rr=pe.createImageData(le,le);return ee.qrToImageData(rr.data,oe,fe),re(pe,ue,le),pe.putImageData(rr,0,0),ue},te.renderToDataURL=function(oe,se,ae){var fe=ae;typeof fe=="undefined"&&(!se||!se.getContext)&&(fe=se,se=void 0),fe||(fe={});var ue=te.render(oe,se,fe),le=fe.type||"image/png",pe=fe.rendererOpts||{};return ue.toDataURL(le,pe.quality)}})(canvas);var svgTag={},Utils=utils$1;function getColorAttrib(te,ee){var re=te.a/255,ne=ee+'="'+te.hex+'"';return re<1?ne+" "+ee+'-opacity="'+re.toFixed(2).slice(1)+'"':ne}function svgCmd(te,ee,re){var ne=te+ee;return typeof re!="undefined"&&(ne+=" "+re),ne}function qrToPath(te,ee,re){for(var ne="",ie=0,oe=!1,se=0,ae=0;ae<te.length;ae++){var fe=Math.floor(ae%ee),ue=Math.floor(ae/ee);!fe&&!oe&&(oe=!0),te[ae]?(se++,ae>0&&fe>0&&te[ae-1]||(ne+=oe?svgCmd("M",fe+re,.5+ue+re):svgCmd("m",ie,0),ie=0,oe=!1),fe+1<ee&&te[ae+1]||(ne+=svgCmd("h",se),se=0)):ie++}return ne}svgTag.render=function(ee,re,ne){var ie=Utils.getOptions(re),oe=ee.modules.size,se=ee.modules.data,ae=oe+ie.margin*2,fe=ie.color.light.a?"<path "+getColorAttrib(ie.color.light,"fill")+' d="M0 0h'+ae+"v"+ae+'H0z"/>':"",ue="<path "+getColorAttrib(ie.color.dark,"stroke")+' d="'+qrToPath(se,oe,ie.margin)+'"/>',le='viewBox="0 0 '+ae+" "+ae+'"',pe=ie.width?'width="'+ie.width+'" height="'+ie.width+'" ':"",rr='<svg xmlns="http://www.w3.org/2000/svg" '+pe+le+' shape-rendering="crispEdges">'+fe+ue+`</svg>
`;return typeof ne=="function"&&ne(null,rr),rr};var canPromise=canPromise$1,QRCode$4=qrcode,CanvasRenderer=canvas,SvgRenderer=svgTag;function renderCanvas(te,ee,re,ne,ie){var oe=[].slice.call(arguments,1),se=oe.length,ae=typeof oe[se-1]=="function";if(!ae&&!canPromise())throw new Error("Callback required as last argument");if(ae){if(se<2)throw new Error("Too few arguments provided");se===2?(ie=re,re=ee,ee=ne=void 0):se===3&&(ee.getContext&&typeof ie=="undefined"?(ie=ne,ne=void 0):(ie=ne,ne=re,re=ee,ee=void 0))}else{if(se<1)throw new Error("Too few arguments provided");return se===1?(re=ee,ee=ne=void 0):se===2&&!ee.getContext&&(ne=re,re=ee,ee=void 0),new Promise(function(ue,le){try{var pe=QRCode$4.create(re,ne);ue(te(pe,ee,ne))}catch(rr){le(rr)}})}try{var fe=QRCode$4.create(re,ne);ie(null,te(fe,ee,ne))}catch(ue){ie(ue)}}browser.create=QRCode$4.create;browser.toCanvas=renderCanvas.bind(null,CanvasRenderer.render);browser.toDataURL=renderCanvas.bind(null,CanvasRenderer.renderToDataURL);browser.toString=renderCanvas.bind(null,function(te,ee,re){return SvgRenderer.render(te,re)});var toggleSelection=function(){var te=document.getSelection();if(!te.rangeCount)return function(){};for(var ee=document.activeElement,re=[],ne=0;ne<te.rangeCount;ne++)re.push(te.getRangeAt(ne));switch(ee.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":ee.blur();break;default:ee=null;break}return te.removeAllRanges(),function(){te.type==="Caret"&&te.removeAllRanges(),te.rangeCount||re.forEach(function(ie){te.addRange(ie)}),ee&&ee.focus()}},deselectCurrent=toggleSelection,clipboardToIE11Formatting={"text/plain":"Text","text/html":"Url",default:"Text"},defaultMessage="Copy to clipboard: #{key}, Enter";function format$1(te){var ee=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return te.replace(/#{\s*key\s*}/g,ee)}function copy$1(te,ee){var re,ne,ie,oe,se,ae,fe=!1;ee||(ee={}),re=ee.debug||!1;try{ie=deselectCurrent(),oe=document.createRange(),se=document.getSelection(),ae=document.createElement("span"),ae.textContent=te,ae.style.all="unset",ae.style.position="fixed",ae.style.top=0,ae.style.clip="rect(0, 0, 0, 0)",ae.style.whiteSpace="pre",ae.style.webkitUserSelect="text",ae.style.MozUserSelect="text",ae.style.msUserSelect="text",ae.style.userSelect="text",ae.addEventListener("copy",function(le){if(le.stopPropagation(),ee.format)if(le.preventDefault(),typeof le.clipboardData=="undefined"){re&&console.warn("unable to use e.clipboardData"),re&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var pe=clipboardToIE11Formatting[ee.format]||clipboardToIE11Formatting.default;window.clipboardData.setData(pe,te)}else le.clipboardData.clearData(),le.clipboardData.setData(ee.format,te);ee.onCopy&&(le.preventDefault(),ee.onCopy(le.clipboardData))}),document.body.appendChild(ae),oe.selectNodeContents(ae),se.addRange(oe);var ue=document.execCommand("copy");if(!ue)throw new Error("copy command was unsuccessful");fe=!0}catch(le){re&&console.error("unable to copy using execCommand: ",le),re&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(ee.format||"text",te),ee.onCopy&&ee.onCopy(window.clipboardData),fe=!0}catch(pe){re&&console.error("unable to copy using clipboardData: ",pe),re&&console.error("falling back to prompt"),ne=format$1("message"in ee?ee.message:defaultMessage),window.prompt(ne,te)}}finally{se&&(typeof se.removeRange=="function"?se.removeRange(oe):se.removeAllRanges()),ae&&document.body.removeChild(ae),ie()}return fe}var copyToClipboard=copy$1,n$1,u$3,i$4,t$3,r$3,o$3,f$3,e$3={},c$3=[],s$3=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function a$3(te,ee){for(var re in ee)te[re]=ee[re];return te}function v$3(te){var ee=te.parentNode;ee&&ee.removeChild(te)}function h$3(te,ee,re){var ne,ie=arguments,oe={};for(ne in ee)ne!=="key"&&ne!=="ref"&&(oe[ne]=ee[ne]);if(arguments.length>3)for(re=[re],ne=3;ne<arguments.length;ne++)re.push(ie[ne]);if(re!=null&&(oe.children=re),typeof te=="function"&&te.defaultProps!=null)for(ne in te.defaultProps)oe[ne]===void 0&&(oe[ne]=te.defaultProps[ne]);return p$3(te,oe,ee&&ee.key,ee&&ee.ref,null)}function p$3(te,ee,re,ne,ie){var oe={type:te,props:ee,key:re,ref:ne,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:ie};return ie==null&&(oe.__v=oe),n$1.vnode&&n$1.vnode(oe),oe}function y$3(){return{}}function d$3(te){return te.children}function m$3(te,ee){this.props=te,this.context=ee}function w$4(te,ee){if(ee==null)return te.__?w$4(te.__,te.__.__k.indexOf(te)+1):null;for(var re;ee<te.__k.length;ee++)if((re=te.__k[ee])!=null&&re.__e!=null)return re.__e;return typeof te.type=="function"?w$4(te):null}function k$3(te){var ee,re;if((te=te.__)!=null&&te.__c!=null){for(te.__e=te.__c.base=null,ee=0;ee<te.__k.length;ee++)if((re=te.__k[ee])!=null&&re.__e!=null){te.__e=te.__c.base=re.__e;break}return k$3(te)}}function g$3(te){(!te.__d&&(te.__d=!0)&&u$3.push(te)&&!i$4++||r$3!==n$1.debounceRendering)&&((r$3=n$1.debounceRendering)||t$3)(_$4)}function _$4(){for(var te;i$4=u$3.length;)te=u$3.sort(function(ee,re){return ee.__v.__b-re.__v.__b}),u$3=[],te.some(function(ee){var re,ne,ie,oe,se,ae,fe;ee.__d&&(ae=(se=(re=ee).__v).__e,(fe=re.__P)&&(ne=[],(ie=a$3({},se)).__v=ie,oe=A$4(fe,se,ie,re.__n,fe.ownerSVGElement!==void 0,null,ne,ae==null?w$4(se):ae),T$4(ne,se),oe!=ae&&k$3(se)))})}function b$2(te,ee,re,ne,ie,oe,se,ae,fe){var ue,le,pe,rr,cr,ar,mr,pr=re&&re.__k||c$3,yr=pr.length;if(ae==e$3&&(ae=oe!=null?oe[0]:yr?w$4(re,0):null),ue=0,ee.__k=x$4(ee.__k,function(vr){if(vr!=null){if(vr.__=ee,vr.__b=ee.__b+1,(pe=pr[ue])===null||pe&&vr.key==pe.key&&vr.type===pe.type)pr[ue]=void 0;else for(le=0;le<yr;le++){if((pe=pr[le])&&vr.key==pe.key&&vr.type===pe.type){pr[le]=void 0;break}pe=null}if(rr=A$4(te,vr,pe=pe||e$3,ne,ie,oe,se,ae,fe),(le=vr.ref)&&pe.ref!=le&&(mr||(mr=[]),pe.ref&&mr.push(pe.ref,null,vr),mr.push(le,vr.__c||rr,vr)),rr!=null){var Er;if(ar==null&&(ar=rr),vr.__d!==void 0)Er=vr.__d,vr.__d=void 0;else if(oe==pe||rr!=ae||rr.parentNode==null){e:if(ae==null||ae.parentNode!==te)te.appendChild(rr),Er=null;else{for(cr=ae,le=0;(cr=cr.nextSibling)&&le<yr;le+=2)if(cr==rr)break e;te.insertBefore(rr,ae),Er=ae}ee.type=="option"&&(te.value="")}ae=Er!==void 0?Er:rr.nextSibling,typeof ee.type=="function"&&(ee.__d=ae)}else ae&&pe.__e==ae&&ae.parentNode!=te&&(ae=w$4(pe))}return ue++,vr}),ee.__e=ar,oe!=null&&typeof ee.type!="function")for(ue=oe.length;ue--;)oe[ue]!=null&&v$3(oe[ue]);for(ue=yr;ue--;)pr[ue]!=null&&D$2(pr[ue],pr[ue]);if(mr)for(ue=0;ue<mr.length;ue++)j$3(mr[ue],mr[++ue],mr[++ue])}function x$4(te,ee,re){if(re==null&&(re=[]),te==null||typeof te=="boolean")ee&&re.push(ee(null));else if(Array.isArray(te))for(var ne=0;ne<te.length;ne++)x$4(te[ne],ee,re);else re.push(ee?ee(typeof te=="string"||typeof te=="number"?p$3(null,te,null,null,te):te.__e!=null||te.__c!=null?p$3(te.type,te.props,te.key,null,te.__v):te):te);return re}function P$2(te,ee,re,ne,ie){var oe;for(oe in re)oe==="children"||oe==="key"||oe in ee||N$2(te,oe,null,re[oe],ne);for(oe in ee)ie&&typeof ee[oe]!="function"||oe==="children"||oe==="key"||oe==="value"||oe==="checked"||re[oe]===ee[oe]||N$2(te,oe,ee[oe],re[oe],ne)}function C$2(te,ee,re){ee[0]==="-"?te.setProperty(ee,re):te[ee]=typeof re=="number"&&s$3.test(ee)===!1?re+"px":re==null?"":re}function N$2(te,ee,re,ne,ie){var oe,se,ae,fe,ue;if(ie?ee==="className"&&(ee="class"):ee==="class"&&(ee="className"),ee==="style")if(oe=te.style,typeof re=="string")oe.cssText=re;else{if(typeof ne=="string"&&(oe.cssText="",ne=null),ne)for(fe in ne)re&&fe in re||C$2(oe,fe,"");if(re)for(ue in re)ne&&re[ue]===ne[ue]||C$2(oe,ue,re[ue])}else ee[0]==="o"&&ee[1]==="n"?(se=ee!==(ee=ee.replace(/Capture$/,"")),ae=ee.toLowerCase(),ee=(ae in te?ae:ee).slice(2),re?(ne||te.addEventListener(ee,z$3,se),(te.l||(te.l={}))[ee]=re):te.removeEventListener(ee,z$3,se)):ee!=="list"&&ee!=="tagName"&&ee!=="form"&&ee!=="type"&&ee!=="size"&&!ie&&ee in te?te[ee]=re==null?"":re:typeof re!="function"&&ee!=="dangerouslySetInnerHTML"&&(ee!==(ee=ee.replace(/^xlink:?/,""))?re==null||re===!1?te.removeAttributeNS("http://www.w3.org/1999/xlink",ee.toLowerCase()):te.setAttributeNS("http://www.w3.org/1999/xlink",ee.toLowerCase(),re):re==null||re===!1&&!/^ar/.test(ee)?te.removeAttribute(ee):te.setAttribute(ee,re))}function z$3(te){this.l[te.type](n$1.event?n$1.event(te):te)}function A$4(te,ee,re,ne,ie,oe,se,ae,fe){var ue,le,pe,rr,cr,ar,mr,pr,yr,vr,Er=ee.type;if(ee.constructor!==void 0)return null;(ue=n$1.__b)&&ue(ee);try{e:if(typeof Er=="function"){if(pr=ee.props,yr=(ue=Er.contextType)&&ne[ue.__c],vr=ue?yr?yr.props.value:ue.__:ne,re.__c?mr=(le=ee.__c=re.__c).__=le.__E:("prototype"in Er&&Er.prototype.render?ee.__c=le=new Er(pr,vr):(ee.__c=le=new m$3(pr,vr),le.constructor=Er,le.render=E$2),yr&&yr.sub(le),le.props=pr,le.state||(le.state={}),le.context=vr,le.__n=ne,pe=le.__d=!0,le.__h=[]),le.__s==null&&(le.__s=le.state),Er.getDerivedStateFromProps!=null&&(le.__s==le.state&&(le.__s=a$3({},le.__s)),a$3(le.__s,Er.getDerivedStateFromProps(pr,le.__s))),rr=le.props,cr=le.state,pe)Er.getDerivedStateFromProps==null&&le.componentWillMount!=null&&le.componentWillMount(),le.componentDidMount!=null&&le.__h.push(le.componentDidMount);else{if(Er.getDerivedStateFromProps==null&&pr!==rr&&le.componentWillReceiveProps!=null&&le.componentWillReceiveProps(pr,vr),!le.__e&&le.shouldComponentUpdate!=null&&le.shouldComponentUpdate(pr,le.__s,vr)===!1||ee.__v===re.__v&&!le.__){for(le.props=pr,le.state=le.__s,ee.__v!==re.__v&&(le.__d=!1),le.__v=ee,ee.__e=re.__e,ee.__k=re.__k,le.__h.length&&se.push(le),ue=0;ue<ee.__k.length;ue++)ee.__k[ue]&&(ee.__k[ue].__=ee);break e}le.componentWillUpdate!=null&&le.componentWillUpdate(pr,le.__s,vr),le.componentDidUpdate!=null&&le.__h.push(function(){le.componentDidUpdate(rr,cr,ar)})}le.context=vr,le.props=pr,le.state=le.__s,(ue=n$1.__r)&&ue(ee),le.__d=!1,le.__v=ee,le.__P=te,ue=le.render(le.props,le.state,le.context),ee.__k=ue!=null&&ue.type==d$3&&ue.key==null?ue.props.children:Array.isArray(ue)?ue:[ue],le.getChildContext!=null&&(ne=a$3(a$3({},ne),le.getChildContext())),pe||le.getSnapshotBeforeUpdate==null||(ar=le.getSnapshotBeforeUpdate(rr,cr)),b$2(te,ee,re,ne,ie,oe,se,ae,fe),le.base=ee.__e,le.__h.length&&se.push(le),mr&&(le.__E=le.__=null),le.__e=!1}else oe==null&&ee.__v===re.__v?(ee.__k=re.__k,ee.__e=re.__e):ee.__e=$$2(re.__e,ee,re,ne,ie,oe,se,fe);(ue=n$1.diffed)&&ue(ee)}catch(Tr){ee.__v=null,n$1.__e(Tr,ee,re)}return ee.__e}function T$4(te,ee){n$1.__c&&n$1.__c(ee,te),te.some(function(re){try{te=re.__h,re.__h=[],te.some(function(ne){ne.call(re)})}catch(ne){n$1.__e(ne,re.__v)}})}function $$2(te,ee,re,ne,ie,oe,se,ae){var fe,ue,le,pe,rr,cr=re.props,ar=ee.props;if(ie=ee.type==="svg"||ie,oe!=null){for(fe=0;fe<oe.length;fe++)if((ue=oe[fe])!=null&&((ee.type===null?ue.nodeType===3:ue.localName===ee.type)||te==ue)){te=ue,oe[fe]=null;break}}if(te==null){if(ee.type===null)return document.createTextNode(ar);te=ie?document.createElementNS("http://www.w3.org/2000/svg",ee.type):document.createElement(ee.type,ar.is&&{is:ar.is}),oe=null,ae=!1}if(ee.type===null)cr!==ar&&te.data!=ar&&(te.data=ar);else{if(oe!=null&&(oe=c$3.slice.call(te.childNodes)),le=(cr=re.props||e$3).dangerouslySetInnerHTML,pe=ar.dangerouslySetInnerHTML,!ae){if(cr===e$3)for(cr={},rr=0;rr<te.attributes.length;rr++)cr[te.attributes[rr].name]=te.attributes[rr].value;(pe||le)&&(pe&&le&&pe.__html==le.__html||(te.innerHTML=pe&&pe.__html||""))}P$2(te,ar,cr,ie,ae),pe?ee.__k=[]:(ee.__k=ee.props.children,b$2(te,ee,re,ne,ee.type!=="foreignObject"&&ie,oe,se,e$3,ae)),ae||("value"in ar&&(fe=ar.value)!==void 0&&fe!==te.value&&N$2(te,"value",fe,cr.value,!1),"checked"in ar&&(fe=ar.checked)!==void 0&&fe!==te.checked&&N$2(te,"checked",fe,cr.checked,!1))}return te}function j$3(te,ee,re){try{typeof te=="function"?te(ee):te.current=ee}catch(ne){n$1.__e(ne,re)}}function D$2(te,ee,re){var ne,ie,oe;if(n$1.unmount&&n$1.unmount(te),(ne=te.ref)&&(ne.current&&ne.current!==te.__e||j$3(ne,null,ee)),re||typeof te.type=="function"||(re=(ie=te.__e)!=null),te.__e=te.__d=void 0,(ne=te.__c)!=null){if(ne.componentWillUnmount)try{ne.componentWillUnmount()}catch(se){n$1.__e(se,ee)}ne.base=ne.__P=null}if(ne=te.__k)for(oe=0;oe<ne.length;oe++)ne[oe]&&D$2(ne[oe],ee,re);ie!=null&&v$3(ie)}function E$2(te,ee,re){return this.constructor(te,re)}function H$2(te,ee,re){var ne,ie,oe;n$1.__&&n$1.__(te,ee),ie=(ne=re===o$3)?null:re&&re.__k||ee.__k,te=h$3(d$3,null,[te]),oe=[],A$4(ee,(ne?ee:re||ee).__k=te,ie||e$3,e$3,ee.ownerSVGElement!==void 0,re&&!ne?[re]:ie?null:c$3.slice.call(ee.childNodes),oe,re||e$3,ne),T$4(oe,te)}function I$2(te,ee){H$2(te,ee,o$3)}function L$2(te,ee){var re,ne;for(ne in ee=a$3(a$3({},te.props),ee),arguments.length>2&&(ee.children=c$3.slice.call(arguments,2)),re={},ee)ne!=="key"&&ne!=="ref"&&(re[ne]=ee[ne]);return p$3(te.type,re,ee.key||te.key,ee.ref||te.ref,null)}function M$2(te){var ee={},re={__c:"__cC"+f$3++,__:te,Consumer:function(ne,ie){return ne.children(ie)},Provider:function(ne){var ie,oe=this;return this.getChildContext||(ie=[],this.getChildContext=function(){return ee[re.__c]=oe,ee},this.shouldComponentUpdate=function(se){oe.props.value!==se.value&&ie.some(function(ae){ae.context=se.value,g$3(ae)})},this.sub=function(se){ie.push(se);var ae=se.componentWillUnmount;se.componentWillUnmount=function(){ie.splice(ie.indexOf(se),1),ae&&ae.call(se)}}),ne.children}};return re.Consumer.contextType=re,re.Provider.__=re,re}n$1={__e:function(te,ee){for(var re,ne;ee=ee.__;)if((re=ee.__c)&&!re.__)try{if(re.constructor&&re.constructor.getDerivedStateFromError!=null&&(ne=!0,re.setState(re.constructor.getDerivedStateFromError(te))),re.componentDidCatch!=null&&(ne=!0,re.componentDidCatch(te)),ne)return g$3(re.__E=re)}catch(ie){te=ie}throw te}},m$3.prototype.setState=function(te,ee){var re;re=this.__s!==this.state?this.__s:this.__s=a$3({},this.state),typeof te=="function"&&(te=te(re,this.props)),te&&a$3(re,te),te!=null&&this.__v&&(ee&&this.__h.push(ee),g$3(this))},m$3.prototype.forceUpdate=function(te){this.__v&&(this.__e=!0,te&&this.__h.push(te),g$3(this))},m$3.prototype.render=d$3,u$3=[],i$4=0,t$3=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,o$3=e$3,f$3=0;var t$2,u$2,r$2,i$3=0,o$2=[],c$2=n$1.__r,f$2=n$1.diffed,e$2=n$1.__c,a$2=n$1.unmount;function v$2(te,ee){n$1.__h&&n$1.__h(u$2,te,i$3||ee),i$3=0;var re=u$2.__H||(u$2.__H={__:[],__h:[]});return te>=re.__.length&&re.__.push({}),re.__[te]}function m$2(te){return i$3=1,p$2(E$1,te)}function p$2(te,ee,re){var ne=v$2(t$2++,2);return ne.__c||(ne.__c=u$2,ne.__=[re?re(ee):E$1(void 0,ee),function(ie){var oe=te(ne.__[0],ie);ne.__[0]!==oe&&(ne.__[0]=oe,ne.__c.setState({}))}]),ne.__}function l$2(te,ee){var re=v$2(t$2++,3);!n$1.__s&&x$3(re.__H,ee)&&(re.__=te,re.__H=ee,u$2.__H.__h.push(re))}function y$2(te,ee){var re=v$2(t$2++,4);!n$1.__s&&x$3(re.__H,ee)&&(re.__=te,re.__H=ee,u$2.__h.push(re))}function d$2(te){return i$3=5,h$2(function(){return{current:te}},[])}function s$2(te,ee,re){i$3=6,y$2(function(){typeof te=="function"?te(ee()):te&&(te.current=ee())},re==null?re:re.concat(te))}function h$2(te,ee){var re=v$2(t$2++,7);return x$3(re.__H,ee)?(re.__H=ee,re.__h=te,re.__=te()):re.__}function T$3(te,ee){return i$3=8,h$2(function(){return te},ee)}function w$3(te){var ee=u$2.context[te.__c],re=v$2(t$2++,9);return re.__c=te,ee?(re.__==null&&(re.__=!0,ee.sub(u$2)),ee.props.value):te.__}function A$3(te,ee){n$1.useDebugValue&&n$1.useDebugValue(ee?ee(te):te)}function F$2(te){var ee=v$2(t$2++,10),re=m$2();return ee.__=te,u$2.componentDidCatch||(u$2.componentDidCatch=function(ne){ee.__&&ee.__(ne),re[1](ne)}),[re[0],function(){re[1](void 0)}]}function _$3(){o$2.some(function(te){if(te.__P)try{te.__H.__h.forEach(g$2),te.__H.__h.forEach(q$3),te.__H.__h=[]}catch(ee){return te.__H.__h=[],n$1.__e(ee,te.__v),!0}}),o$2=[]}function g$2(te){te.t&&te.t()}function q$3(te){var ee=te.__();typeof ee=="function"&&(te.t=ee)}function x$3(te,ee){return!te||ee.some(function(re,ne){return re!==te[ne]})}function E$1(te,ee){return typeof ee=="function"?ee(te):ee}n$1.__r=function(te){c$2&&c$2(te),t$2=0,(u$2=te.__c).__H&&(u$2.__H.__h.forEach(g$2),u$2.__H.__h.forEach(q$3),u$2.__H.__h=[])},n$1.diffed=function(te){f$2&&f$2(te);var ee=te.__c;if(ee){var re=ee.__H;re&&re.__h.length&&(o$2.push(ee)!==1&&r$2===n$1.requestAnimationFrame||((r$2=n$1.requestAnimationFrame)||function(ne){var ie,oe=function(){clearTimeout(se),cancelAnimationFrame(ie),setTimeout(ne)},se=setTimeout(oe,100);typeof window!="undefined"&&(ie=requestAnimationFrame(oe))})(_$3))}},n$1.__c=function(te,ee){ee.some(function(re){try{re.__h.forEach(g$2),re.__h=re.__h.filter(function(ne){return!ne.__||q$3(ne)})}catch(ne){ee.some(function(ie){ie.__h&&(ie.__h=[])}),ee=[],n$1.__e(ne,re.__v)}}),e$2&&e$2(te,ee)},n$1.unmount=function(te){a$2&&a$2(te);var ee=te.__c;if(ee){var re=ee.__H;if(re)try{re.__.forEach(function(ne){return ne.t&&ne.t()})}catch(ne){n$1.__e(ne,ee.__v)}}};function E(te,ee){for(var re in ee)te[re]=ee[re];return te}function w$2(te,ee){for(var re in te)if(re!=="__source"&&!(re in ee))return!0;for(var ne in ee)if(ne!=="__source"&&te[ne]!==ee[ne])return!0;return!1}var C$1=function(te){var ee,re;function ne(ie){var oe;return(oe=te.call(this,ie)||this).isPureReactComponent=!0,oe}return re=te,(ee=ne).prototype=Object.create(re.prototype),ee.prototype.constructor=ee,ee.__proto__=re,ne.prototype.shouldComponentUpdate=function(ie,oe){return w$2(this.props,ie)||w$2(this.state,oe)},ne}(m$3);function _$2(te,ee){function re(ie){var oe=this.props.ref,se=oe==ie.ref;return!se&&oe&&(oe.call?oe(null):oe.current=null),ee?!ee(this.props,ie)||!se:w$2(this.props,ie)}function ne(ie){return this.shouldComponentUpdate=re,h$3(te,E({},ie))}return ne.prototype.isReactComponent=!0,ne.displayName="Memo("+(te.displayName||te.name)+")",ne.t=!0,ne}var A$2=n$1.__b;function S$1(te){function ee(re){var ne=E({},re);return delete ne.ref,te(ne,re.ref)}return ee.prototype.isReactComponent=ee.t=!0,ee.displayName="ForwardRef("+(te.displayName||te.name)+")",ee}n$1.__b=function(te){te.type&&te.type.t&&te.ref&&(te.props.ref=te.ref,te.ref=null),A$2&&A$2(te)};var k$2=function(te,ee){return te?x$4(te).reduce(function(re,ne,ie){return re.concat(ee(ne,ie))},[]):null},R={map:k$2,forEach:k$2,count:function(te){return te?x$4(te).length:0},only:function(te){if((te=x$4(te)).length!==1)throw new Error("Children.only() expects only one child.");return te[0]},toArray:x$4},F$1=n$1.__e;function N$1(te){return te&&((te=E({},te)).__c=null,te.__k=te.__k&&te.__k.map(N$1)),te}function U(){this.__u=0,this.o=null,this.__b=null}function M$1(te){var ee=te.__.__c;return ee&&ee.u&&ee.u(te)}function L$1(te){var ee,re,ne;function ie(oe){if(ee||(ee=te()).then(function(se){re=se.default||se},function(se){ne=se}),ne)throw ne;if(!re)throw ee;return h$3(re,oe)}return ie.displayName="Lazy",ie.t=!0,ie}function O$1(){this.i=null,this.l=null}n$1.__e=function(te,ee,re){if(te.then){for(var ne,ie=ee;ie=ie.__;)if((ne=ie.__c)&&ne.__c)return ne.__c(te,ee.__c)}F$1(te,ee,re)},(U.prototype=new m$3).__c=function(te,ee){var re=this;re.o==null&&(re.o=[]),re.o.push(ee);var ne=M$1(re.__v),ie=!1,oe=function(){ie||(ie=!0,ne?ne(se):se())};ee.__c=ee.componentWillUnmount,ee.componentWillUnmount=function(){oe(),ee.__c&&ee.__c()};var se=function(){var ae;if(!--re.__u)for(re.__v.__k[0]=re.state.u,re.setState({u:re.__b=null});ae=re.o.pop();)ae.forceUpdate()};re.__u++||re.setState({u:re.__b=re.__v.__k[0]}),te.then(oe,oe)},U.prototype.render=function(te,ee){return this.__b&&(this.__v.__k[0]=N$1(this.__b),this.__b=null),[h$3(m$3,null,ee.u?null:te.children),ee.u&&te.fallback]};var P$1=function(te,ee,re){if(++re[1]===re[0]&&te.l.delete(ee),te.props.revealOrder&&(te.props.revealOrder[0]!=="t"||!te.l.size))for(re=te.i;re;){for(;re.length>3;)re.pop()();if(re[1]<re[0])break;te.i=re=re[2]}};(O$1.prototype=new m$3).u=function(te){var ee=this,re=M$1(ee.__v),ne=ee.l.get(te);return ne[0]++,function(ie){var oe=function(){ee.props.revealOrder?(ne.push(ie),P$1(ee,te,ne)):ie()};re?re(oe):oe()}},O$1.prototype.render=function(te){this.i=null,this.l=new Map;var ee=x$4(te.children);te.revealOrder&&te.revealOrder[0]==="b"&&ee.reverse();for(var re=ee.length;re--;)this.l.set(ee[re],this.i=[1,0,this.i]);return te.children},O$1.prototype.componentDidUpdate=O$1.prototype.componentDidMount=function(){var te=this;te.l.forEach(function(ee,re){P$1(te,re,ee)})};var W=function(){function te(){}var ee=te.prototype;return ee.getChildContext=function(){return this.props.context},ee.render=function(re){return re.children},te}();function j$2(te){var ee=this,re=te.container,ne=h$3(W,{context:ee.context},te.vnode);return ee.s&&ee.s!==re&&(ee.v.parentNode&&ee.s.removeChild(ee.v),D$2(ee.h),ee.p=!1),te.vnode?ee.p?(re.__k=ee.__k,H$2(ne,re),ee.__k=re.__k):(ee.v=document.createTextNode(""),I$2("",re),re.appendChild(ee.v),ee.p=!0,ee.s=re,H$2(ne,re,ee.v),ee.__k=ee.v.__k):ee.p&&(ee.v.parentNode&&ee.s.removeChild(ee.v),D$2(ee.h)),ee.h=ne,ee.componentWillUnmount=function(){ee.v.parentNode&&ee.s.removeChild(ee.v),D$2(ee.h)},null}function z$2(te,ee){return h$3(j$2,{vnode:te,container:ee})}var D$1=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;m$3.prototype.isReactComponent={};var H$1=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103;function T$2(te,ee,re){if(ee.__k==null)for(;ee.firstChild;)ee.removeChild(ee.firstChild);return H$2(te,ee),typeof re=="function"&&re(),te?te.__c:null}function V(te,ee,re){return I$2(te,ee),typeof re=="function"&&re(),te?te.__c:null}var Z=n$1.event;function I$1(te,ee){te["UNSAFE_"+ee]&&!te[ee]&&Object.defineProperty(te,ee,{configurable:!1,get:function(){return this["UNSAFE_"+ee]},set:function(re){this["UNSAFE_"+ee]=re}})}n$1.event=function(te){Z&&(te=Z(te)),te.persist=function(){};var ee=!1,re=!1,ne=te.stopPropagation;te.stopPropagation=function(){ne.call(te),ee=!0};var ie=te.preventDefault;return te.preventDefault=function(){ie.call(te),re=!0},te.isPropagationStopped=function(){return ee},te.isDefaultPrevented=function(){return re},te.nativeEvent=te};var $$1={configurable:!0,get:function(){return this.class}},q$2=n$1.vnode;n$1.vnode=function(te){te.$$typeof=H$1;var ee=te.type,re=te.props;if(ee){if(re.class!=re.className&&($$1.enumerable="className"in re,re.className!=null&&(re.class=re.className),Object.defineProperty(re,"className",$$1)),typeof ee!="function"){var ne,ie,oe;for(oe in re.defaultValue&&re.value!==void 0&&(re.value||re.value===0||(re.value=re.defaultValue),delete re.defaultValue),Array.isArray(re.value)&&re.multiple&&ee==="select"&&(x$4(re.children).forEach(function(se){re.value.indexOf(se.props.value)!=-1&&(se.props.selected=!0)}),delete re.value),re)if(ne=D$1.test(oe))break;if(ne)for(oe in ie=te.props={},re)ie[D$1.test(oe)?oe.replace(/[A-Z0-9]/,"-$&").toLowerCase():oe]=re[oe]}(function(se){var ae=te.type,fe=te.props;if(fe&&typeof ae=="string"){var ue={};for(var le in fe)/^on(Ani|Tra|Tou)/.test(le)&&(fe[le.toLowerCase()]=fe[le],delete fe[le]),ue[le.toLowerCase()]=le;if(ue.ondoubleclick&&(fe.ondblclick=fe[ue.ondoubleclick],delete fe[ue.ondoubleclick]),ue.onbeforeinput&&(fe.onbeforeinput=fe[ue.onbeforeinput],delete fe[ue.onbeforeinput]),ue.onchange&&(ae==="textarea"||ae.toLowerCase()==="input"&&!/^fil|che|ra/i.test(fe.type))){var pe=ue.oninput||"oninput";fe[pe]||(fe[pe]=fe[ue.onchange],delete fe[ue.onchange])}}})(),typeof ee=="function"&&!ee.m&&ee.prototype&&(I$1(ee.prototype,"componentWillMount"),I$1(ee.prototype,"componentWillReceiveProps"),I$1(ee.prototype,"componentWillUpdate"),ee.m=!0)}q$2&&q$2(te)};var B$1="16.8.0";function G(te){return h$3.bind(null,te)}function J(te){return!!te&&te.$$typeof===H$1}function K(te){return J(te)?L$2.apply(null,arguments):te}function Q(te){return!!te.__k&&(H$2(null,te),!0)}function X(te){return te&&(te.base||te.nodeType===1&&te)||null}var Y=function(te,ee){return te(ee)},compat_module={useState:m$2,useReducer:p$2,useEffect:l$2,useLayoutEffect:y$2,useRef:d$2,useImperativeHandle:s$2,useMemo:h$2,useCallback:T$3,useContext:w$3,useDebugValue:A$3,version:"16.8.0",Children:R,render:T$2,hydrate:T$2,unmountComponentAtNode:Q,createPortal:z$2,createElement:h$3,createContext:M$2,createFactory:G,cloneElement:K,createRef:y$3,Fragment:d$3,isValidElement:J,findDOMNode:X,Component:m$3,PureComponent:C$1,memo:_$2,forwardRef:S$1,unstable_batchedUpdates:Y,Suspense:U,SuspenseList:O$1,lazy:L$1},compat_module$1=Object.freeze(Object.defineProperty({__proto__:null,default:compat_module,version:B$1,Children:R,render:T$2,hydrate:V,unmountComponentAtNode:Q,createPortal:z$2,createFactory:G,cloneElement:K,isValidElement:J,findDOMNode:X,PureComponent:C$1,memo:_$2,forwardRef:S$1,unstable_batchedUpdates:Y,Suspense:U,SuspenseList:O$1,lazy:L$1,createElement:h$3,createContext:M$2,createRef:y$3,Fragment:d$3,Component:m$3,useState:m$2,useReducer:p$2,useEffect:l$2,useLayoutEffect:y$2,useRef:d$2,useImperativeHandle:s$2,useMemo:h$2,useCallback:T$3,useContext:w$3,useDebugValue:A$3,useErrorBoundary:F$2},Symbol.toStringTag,{value:"Module"})),require$$3$1=getAugmentedNamespace(compat_module$1);function _interopDefault(te){return te&&typeof te=="object"&&"default"in te?te.default:te}var browserUtils=require$$0$1,QRCode$3=_interopDefault(browser),copy=_interopDefault(copyToClipboard),React=require$$3$1;function open(te){QRCode$3.toString(te,{type:"terminal"}).then(console.log)}var WALLETCONNECT_STYLE_SHEET=`:root {
  --animation-duration: 300ms;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animated {
  animation-duration: var(--animation-duration);
  animation-fill-mode: both;
}

.fadeIn {
  animation-name: fadeIn;
}

.fadeOut {
  animation-name: fadeOut;
}

#walletconnect-wrapper {
  -webkit-user-select: none;
  align-items: center;
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  pointer-events: none;
  position: fixed;
  top: 0;
  user-select: none;
  width: 100%;
  z-index: 99999999999999;
}

.walletconnect-modal__headerLogo {
  height: 21px;
}

.walletconnect-modal__header p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
  align-items: flex-start;
  display: flex;
  flex: 1;
  margin-left: 5px;
}

.walletconnect-modal__close__wrapper {
  position: absolute;
  top: 0px;
  right: 0px;
  z-index: 10000;
  background: white;
  border-radius: 26px;
  padding: 6px;
  box-sizing: border-box;
  width: 26px;
  height: 26px;
  cursor: pointer;
}

.walletconnect-modal__close__icon {
  position: relative;
  top: 7px;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotate(45deg);
}

.walletconnect-modal__close__line1 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
}

.walletconnect-modal__close__line2 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
  transform: rotate(90deg);
}

.walletconnect-qrcode__base {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  background: rgba(37, 41, 46, 0.95);
  height: 100%;
  left: 0;
  pointer-events: auto;
  position: fixed;
  top: 0;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  width: 100%;
  will-change: opacity;
  padding: 40px;
  box-sizing: border-box;
}

.walletconnect-qrcode__text {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 10px 0 20px 0;
  text-align: center;
  width: 100%;
}

@media only screen and (max-width: 768px) {
  .walletconnect-qrcode__text {
    font-size: 4vw;
  }
}

@media only screen and (max-width: 320px) {
  .walletconnect-qrcode__text {
    font-size: 14px;
  }
}

.walletconnect-qrcode__image {
  width: calc(100% - 30px);
  box-sizing: border-box;
  cursor: none;
  margin: 0 auto;
}

.walletconnect-qrcode__notification {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  font-size: 16px;
  padding: 16px 20px;
  border-radius: 16px;
  text-align: center;
  transition: all 0.1s ease-in-out;
  background: white;
  color: black;
  margin-bottom: -60px;
  opacity: 0;
}

.walletconnect-qrcode__notification.notification__show {
  opacity: 1;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__header {
    height: 130px;
  }
  .walletconnect-modal__base {
    overflow: auto;
  }
}

@media only screen and (min-device-width: 415px) and (max-width: 768px) {
  #content {
    max-width: 768px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 375px) and (max-width: 415px) {
  #content {
    max-width: 414px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 320px) and (max-width: 375px) {
  #content {
    max-width: 375px;
    box-sizing: border-box;
  }
}

@media only screen and (max-width: 320px) {
  #content {
    max-width: 320px;
    box-sizing: border-box;
  }
}

.walletconnect-modal__base {
  -webkit-font-smoothing: antialiased;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);
  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,
    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,
    "Open Sans", "Helvetica Neue", sans-serif;
  margin-top: 41px;
  padding: 24px 24px 22px;
  pointer-events: auto;
  position: relative;
  text-align: center;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  will-change: transform;
  overflow: visible;
  transform: translateY(-50%);
  top: 50%;
  max-width: 500px;
  margin: auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__base {
    padding: 24px 12px;
  }
}

.walletconnect-modal__base .hidden {
  transform: translateY(150%);
  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);
}

.walletconnect-modal__header {
  align-items: center;
  display: flex;
  height: 26px;
  left: 0;
  justify-content: space-between;
  position: absolute;
  top: -42px;
  width: 100%;
}

.walletconnect-modal__base .wc-logo {
  align-items: center;
  display: flex;
  height: 26px;
  margin-top: 15px;
  padding-bottom: 15px;
  pointer-events: auto;
}

.walletconnect-modal__base .wc-logo div {
  background-color: #3399ff;
  height: 21px;
  margin-right: 5px;
  mask-image: url("images/wc-logo.svg") center no-repeat;
  width: 32px;
}

.walletconnect-modal__base .wc-logo p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
}

.walletconnect-modal__base h2 {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 0 0 19px 0;
  text-align: center;
  width: 100%;
}

.walletconnect-modal__base__row {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  align-items: center;
  border-radius: 20px;
  cursor: pointer;
  display: flex;
  height: 56px;
  justify-content: space-between;
  padding: 0 15px;
  position: relative;
  margin: 0px 0px 8px;
  text-align: left;
  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
  text-decoration: none;
}

.walletconnect-modal__base__row:hover {
  background: rgba(60, 66, 82, 0.06);
}

.walletconnect-modal__base__row:active {
  background: rgba(60, 66, 82, 0.06);
  transform: scale(0.975);
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.walletconnect-modal__base__row__h3 {
  color: #25292e;
  font-size: 20px;
  font-weight: 700;
  margin: 0;
  padding-bottom: 3px;
}

.walletconnect-modal__base__row__right {
  align-items: center;
  display: flex;
  justify-content: center;
}

.walletconnect-modal__base__row__right__app-icon {
  border-radius: 8px;
  height: 34px;
  margin: 0 11px 2px 0;
  width: 34px;
  background-size: 100%;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-modal__base__row__right__caret {
  height: 18px;
  opacity: 0.3;
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  width: 8px;
  will-change: opacity;
}

.walletconnect-modal__base__row:hover .caret,
.walletconnect-modal__base__row:active .caret {
  opacity: 0.6;
}

.walletconnect-modal__mobile__toggle {
  width: 80%;
  display: flex;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  margin-bottom: 18px;
  background: #d4d5d9;
}

.walletconnect-modal__single_wallet {
  display: flex;
  justify-content: center;
  margin-top: 7px;
  margin-bottom: 18px;
}

.walletconnect-modal__single_wallet a {
  cursor: pointer;
  color: rgb(64, 153, 255);
  font-size: 21px;
  font-weight: 800;
  text-decoration: none !important;
  margin: 0 auto;
}

.walletconnect-modal__mobile__toggle_selector {
  width: calc(50% - 8px);
  background: white;
  position: absolute;
  border-radius: 5px;
  height: calc(100% - 8px);
  top: 4px;
  transition: all 0.2s ease-in-out;
  transform: translate3d(4px, 0, 0);
}

.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {
  transform: translate3d(calc(100% + 12px), 0, 0);
}

.walletconnect-modal__mobile__toggle a {
  font-size: 12px;
  width: 50%;
  text-align: center;
  padding: 8px;
  margin: 0;
  font-weight: 600;
  z-index: 1;
}

.walletconnect-modal__footer {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__footer {
    margin-top: 5vw;
  }
}

.walletconnect-modal__footer a {
  cursor: pointer;
  color: #898d97;
  font-size: 15px;
  margin: 0 auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__footer a {
    font-size: 14px;
  }
}

.walletconnect-connect__buttons__wrapper {
  max-height: 44vh;
}

.walletconnect-connect__buttons__wrapper__android {
  margin: 50% 0;
}

.walletconnect-connect__buttons__wrapper__wrap {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  margin: 10px 0;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__buttons__wrapper__wrap {
    margin-top: 40px;
  }
}

.walletconnect-connect__button {
  background-color: rgb(64, 153, 255);
  padding: 12px;
  border-radius: 8px;
  text-decoration: none;
  color: rgb(255, 255, 255);
  font-weight: 500;
}

.walletconnect-connect__button__icon_anchor {
  cursor: pointer;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin: 8px;
  width: 42px;
  justify-self: center;
  flex-direction: column;
  text-decoration: none !important;
}

@media only screen and (max-width: 320px) {
  .walletconnect-connect__button__icon_anchor {
    margin: 4px;
  }
}

.walletconnect-connect__button__icon {
  border-radius: 10px;
  height: 42px;
  margin: 0;
  width: 42px;
  background-size: cover !important;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-connect__button__text {
  color: #424952;
  font-size: 2.7vw;
  text-decoration: none !important;
  padding: 0;
  margin-top: 1.8vw;
  font-weight: 600;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__button__text {
    font-size: 16px;
    margin-top: 12px;
  }
}

.walletconnect-search__input {
  border: none;
  background: #d4d5d9;
  border-style: none;
  padding: 8px 16px;
  outline: none;
  font-style: normal;
  font-stretch: normal;
  font-size: 16px;
  font-style: normal;
  font-stretch: normal;
  line-height: normal;
  letter-spacing: normal;
  text-align: left;
  border-radius: 8px;
  width: calc(100% - 16px);
  margin: 0;
  margin-bottom: 8px;
}
`;typeof Symbol!="undefined"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol!="undefined"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function _catch(te,ee){try{var re=te()}catch(ne){return ee(ne)}return re&&re.then?re.then(void 0,ee):re}var WALLETCONNECT_LOGO_SVG_URL="data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",WALLETCONNECT_HEADER_TEXT="WalletConnect",ANIMATION_DURATION=300,DEFAULT_BUTTON_COLOR="rgb(64, 153, 255)",WALLETCONNECT_WRAPPER_ID="walletconnect-wrapper",WALLETCONNECT_STYLE_ID="walletconnect-style-sheet",WALLETCONNECT_MODAL_ID="walletconnect-qrcode-modal",WALLETCONNECT_CLOSE_BUTTON_ID="walletconnect-qrcode-close",WALLETCONNECT_CTA_TEXT_ID="walletconnect-qrcode-text",WALLETCONNECT_CONNECT_BUTTON_ID="walletconnect-connect-button";function Header(te){return React.createElement("div",{className:"walletconnect-modal__header"},React.createElement("img",{src:WALLETCONNECT_LOGO_SVG_URL,className:"walletconnect-modal__headerLogo"}),React.createElement("p",null,WALLETCONNECT_HEADER_TEXT),React.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:te.onClose},React.createElement("div",{id:WALLETCONNECT_CLOSE_BUTTON_ID,className:"walletconnect-modal__close__icon"},React.createElement("div",{className:"walletconnect-modal__close__line1"}),React.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function ConnectButton(te){return React.createElement("a",{className:"walletconnect-connect__button",href:te.href,id:WALLETCONNECT_CONNECT_BUTTON_ID+"-"+te.name,onClick:te.onClick,rel:"noopener noreferrer",style:{backgroundColor:te.color},target:"_blank"},te.name)}var CARET_SVG_URL="data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E";function WalletButton(te){var ee=te.color,re=te.href,ne=te.name,ie=te.logo,oe=te.onClick;return React.createElement("a",{className:"walletconnect-modal__base__row",href:re,onClick:oe,rel:"noopener noreferrer",target:"_blank"},React.createElement("h3",{className:"walletconnect-modal__base__row__h3"},ne),React.createElement("div",{className:"walletconnect-modal__base__row__right"},React.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+ie+"') "+ee,backgroundSize:"100%"}}),React.createElement("img",{src:CARET_SVG_URL,className:"walletconnect-modal__base__row__right__caret"})))}function WalletIcon(te){var ee=te.color,re=te.href,ne=te.name,ie=te.logo,oe=te.onClick,se=window.innerWidth<768?(ne.length>8?2.5:2.7)+"vw":"inherit";return React.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:re,onClick:oe,rel:"noopener noreferrer",target:"_blank"},React.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+ie+"') "+ee,backgroundSize:"100%"}}),React.createElement("div",{style:{fontSize:se},className:"walletconnect-connect__button__text"},ne))}var GRID_MIN_COUNT=5,LINKS_PER_PAGE=12;function LinkDisplay(te){var ee=browserUtils.isAndroid(),re=React.useState(""),ne=re[0],ie=re[1],oe=React.useState(""),se=oe[0],ae=oe[1],fe=React.useState(1),ue=fe[0],le=fe[1],pe=se?te.links.filter(function(Tr){return Tr.name.toLowerCase().includes(se.toLowerCase())}):te.links,rr=te.errorMessage,cr=se||pe.length>GRID_MIN_COUNT,ar=Math.ceil(pe.length/LINKS_PER_PAGE),mr=[(ue-1)*LINKS_PER_PAGE+1,ue*LINKS_PER_PAGE],pr=pe.length?pe.filter(function(Tr,Ir){return Ir+1>=mr[0]&&Ir+1<=mr[1]}):[],yr=!ee&&ar>1,vr=void 0;function Er(Tr){ie(Tr.target.value),clearTimeout(vr),Tr.target.value?vr=setTimeout(function(){ae(Tr.target.value),le(1)},1e3):(ie(""),ae(""),le(1))}return React.createElement("div",null,React.createElement("p",{id:WALLETCONNECT_CTA_TEXT_ID,className:"walletconnect-qrcode__text"},ee?te.text.connect_mobile_wallet:te.text.choose_preferred_wallet),!ee&&React.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:ne,onChange:Er}),React.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(ee?"__android":cr&&pe.length?"__wrap":"")},ee?React.createElement(ConnectButton,{name:te.text.connect,color:DEFAULT_BUTTON_COLOR,href:te.uri,onClick:React.useCallback(function(){browserUtils.saveMobileLinkInfo({name:"Unknown",href:te.uri})},[])}):pr.length?pr.map(function(Tr){var Ir=Tr.color,Or=Tr.name,Hr=Tr.shortName,Pr=Tr.logo,Br=browserUtils.formatIOSMobile(te.uri,Tr),Nr=React.useCallback(function(){browserUtils.saveMobileLinkInfo({name:Or,href:Br})},[pr]);return cr?React.createElement(WalletIcon,{color:Ir,href:Br,name:Hr||Or,logo:Pr,onClick:Nr}):React.createElement(WalletButton,{color:Ir,href:Br,name:Or,logo:Pr,onClick:Nr})}):React.createElement(React.Fragment,null,React.createElement("p",null,rr.length?te.errorMessage:!!te.links.length&&!pe.length?te.text.no_wallets_found:te.text.loading))),yr&&React.createElement("div",{className:"walletconnect-modal__footer"},Array(ar).fill(0).map(function(Tr,Ir){var Or=Ir+1,Hr=ue===Or;return React.createElement("a",{style:{margin:"auto 10px",fontWeight:Hr?"bold":"normal"},onClick:function(){return le(Or)}},Or)})))}function Notification$1(te){var ee=!!te.message.trim();return React.createElement("div",{className:"walletconnect-qrcode__notification"+(ee?" notification__show":"")},te.message)}var formatQRCodeImage=function(te){try{var ee="";return Promise.resolve(QRCode$3.toString(te,{margin:0,type:"svg"})).then(function(re){return typeof re=="string"&&(ee=re.replace("<svg",'<svg class="walletconnect-qrcode__image"')),ee})}catch(re){return Promise.reject(re)}};function QRCodeDisplay(te){var ee=React.useState(""),re=ee[0],ne=ee[1],ie=React.useState(""),oe=ie[0],se=ie[1];React.useEffect(function(){try{return Promise.resolve(formatQRCodeImage(te.uri)).then(function(fe){se(fe)})}catch(fe){Promise.reject(fe)}},[]);var ae=function(){var fe=copy(te.uri);fe?(ne(te.text.copied_to_clipboard),setInterval(function(){return ne("")},1200)):(ne("Error"),setInterval(function(){return ne("")},1200))};return React.createElement("div",null,React.createElement("p",{id:WALLETCONNECT_CTA_TEXT_ID,className:"walletconnect-qrcode__text"},te.text.scan_qrcode_with_wallet),React.createElement("div",{dangerouslySetInnerHTML:{__html:oe}}),React.createElement("div",{className:"walletconnect-modal__footer"},React.createElement("a",{onClick:ae},te.text.copy_to_clipboard)),React.createElement(Notification$1,{message:re}))}function Modal(te){var ee=browserUtils.isAndroid(),re=browserUtils.isMobile(),ne=re?te.qrcodeModalOptions&&te.qrcodeModalOptions.mobileLinks?te.qrcodeModalOptions.mobileLinks:void 0:te.qrcodeModalOptions&&te.qrcodeModalOptions.desktopLinks?te.qrcodeModalOptions.desktopLinks:void 0,ie=React.useState(!1),oe=ie[0],se=ie[1],ae=React.useState(!1),fe=ae[0],ue=ae[1],le=React.useState(!re),pe=le[0],rr=le[1],cr={mobile:re,text:te.text,uri:te.uri,qrcodeModalOptions:te.qrcodeModalOptions},ar=React.useState(""),mr=ar[0],pr=ar[1],yr=React.useState(!1),vr=yr[0],Er=yr[1],Tr=React.useState([]),Ir=Tr[0],Or=Tr[1],Hr=React.useState(""),Pr=Hr[0],Br=Hr[1],Nr=function(){fe||oe||ne&&!ne.length||Ir.length>0||React.useEffect(function(){var tr=function(){try{if(ee)return Promise.resolve();se(!0);var ve=_catch(function(){var ce=te.qrcodeModalOptions&&te.qrcodeModalOptions.registryUrl?te.qrcodeModalOptions.registryUrl:browserUtils.getWalletRegistryUrl();return Promise.resolve(fetch(ce)).then(function(me){return Promise.resolve(me.json()).then(function(ir){var ur=ir.listings,lr=re?"mobile":"desktop",er=browserUtils.getMobileLinkRegistry(browserUtils.formatMobileRegistry(ur,lr),ne);se(!1),ue(!0),Br(er.length?"":te.text.no_supported_wallets),Or(er);var nr=er.length===1;nr&&(pr(browserUtils.formatIOSMobile(te.uri,er[0])),rr(!0)),Er(nr)})})},function(ce){se(!1),ue(!0),Br(te.text.something_went_wrong),console.error(ce)});return Promise.resolve(ve&&ve.then?ve.then(function(){}):void 0)}catch(ce){return Promise.reject(ce)}};tr()})};Nr();var dr=re?pe:!pe;return React.createElement("div",{id:WALLETCONNECT_MODAL_ID,className:"walletconnect-qrcode__base animated fadeIn"},React.createElement("div",{className:"walletconnect-modal__base"},React.createElement(Header,{onClose:te.onClose}),vr&&pe?React.createElement("div",{className:"walletconnect-modal__single_wallet"},React.createElement("a",{onClick:function(){return browserUtils.saveMobileLinkInfo({name:Ir[0].name,href:mr})},href:mr,rel:"noopener noreferrer",target:"_blank"},te.text.connect_with+" "+(vr?Ir[0].name:"")+" \u203A")):ee||oe||!oe&&Ir.length?React.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(dr?" right__selected":"")},React.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),re?React.createElement(React.Fragment,null,React.createElement("a",{onClick:function(){return rr(!1),Nr()}},te.text.mobile),React.createElement("a",{onClick:function(){return rr(!0)}},te.text.qrcode)):React.createElement(React.Fragment,null,React.createElement("a",{onClick:function(){return rr(!0)}},te.text.qrcode),React.createElement("a",{onClick:function(){return rr(!1),Nr()}},te.text.desktop))):null,React.createElement("div",null,pe||!ee&&!oe&&!Ir.length?React.createElement(QRCodeDisplay,Object.assign({},cr)):React.createElement(LinkDisplay,Object.assign({},cr,{links:Ir,errorMessage:Pr})))))}var de={choose_preferred_wallet:"W\xE4hle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine unterst\xFCtzten Wallet",no_wallets_found:"keine Wallet gefunden"},en$1={choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},es={choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera m\xF3vil",scan_qrcode_with_wallet:"Escanea el c\xF3digo QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo sali\xF3 mal",no_supported_wallets:"Todav\xEDa no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},fr={choose_preferred_wallet:"Choisissez votre portefeuille pr\xE9f\xE9r\xE9",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copi\xE9!",connect_with:"Connectez-vous \xE0 l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourn\xE9",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouv\xE9"},ko={choose_preferred_wallet:"\uC6D0\uD558\uB294 \uC9C0\uAC11\uC744 \uC120\uD0DD\uD558\uC138\uC694",connect_mobile_wallet:"\uBAA8\uBC14\uC77C \uC9C0\uAC11\uACFC \uC5F0\uACB0",scan_qrcode_with_wallet:"WalletConnect \uC9C0\uC6D0 \uC9C0\uAC11\uC5D0\uC11C QR\uCF54\uB4DC\uB97C \uC2A4\uCE94\uD558\uC138\uC694",connect:"\uC5F0\uACB0",qrcode:"QR \uCF54\uB4DC",mobile:"\uBAA8\uBC14\uC77C",desktop:"\uB370\uC2A4\uD06C\uD0D1",copy_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC",copied_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uB418\uC5C8\uC2B5\uB2C8\uB2E4!",connect_with:"\uC640 \uC5F0\uACB0\uD558\uB2E4",loading:"\uB85C\uB4DC \uC911...",something_went_wrong:"\uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.",no_supported_wallets:"\uC544\uC9C1 \uC9C0\uC6D0\uB418\uB294 \uC9C0\uAC11\uC774 \uC5C6\uC2B5\uB2C8\uB2E4",no_wallets_found:"\uC9C0\uAC11\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4"},pt$1={choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se \xE0 carteira m\xF3vel",scan_qrcode_with_wallet:"Ler o c\xF3digo QR com uma carteira compat\xEDvel com WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda n\xE3o h\xE1 carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},zh={choose_preferred_wallet:"\u9009\u62E9\u4F60\u7684\u94B1\u5305",connect_mobile_wallet:"\u8FDE\u63A5\u81F3\u79FB\u52A8\u7AEF\u94B1\u5305",scan_qrcode_with_wallet:"\u4F7F\u7528\u517C\u5BB9 WalletConnect \u7684\u94B1\u5305\u626B\u63CF\u4E8C\u7EF4\u7801",connect:"\u8FDE\u63A5",qrcode:"\u4E8C\u7EF4\u7801",mobile:"\u79FB\u52A8",desktop:"\u684C\u9762",copy_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F",copied_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F\u6210\u529F\uFF01",connect_with:"\u901A\u8FC7\u4EE5\u4E0B\u65B9\u5F0F\u8FDE\u63A5",loading:"\u6B63\u5728\u52A0\u8F7D...",something_went_wrong:"\u51FA\u4E86\u95EE\u9898",no_supported_wallets:"\u76EE\u524D\u8FD8\u6CA1\u6709\u652F\u6301\u7684\u94B1\u5305",no_wallets_found:"\u6CA1\u6709\u627E\u5230\u94B1\u5305"},fa={choose_preferred_wallet:"\u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0631\u062F \u0646\u0638\u0631 \u062E\u0648\u062F \u0631\u0627 \u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F",connect_mobile_wallet:"\u0628\u0647 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0628\u0627\u06CC\u0644 \u0648\u0635\u0644 \u0634\u0648\u06CC\u062F",scan_qrcode_with_wallet:"\u06A9\u062F QR \u0631\u0627 \u0628\u0627 \u06CC\u06A9 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0633\u0627\u0632\u06AF\u0627\u0631 \u0628\u0627 WalletConnect \u0627\u0633\u06A9\u0646 \u06A9\u0646\u06CC\u062F",connect:"\u0627\u062A\u0635\u0627\u0644",qrcode:"\u06A9\u062F QR",mobile:"\u0633\u06CC\u0627\u0631",desktop:"\u062F\u0633\u06A9\u062A\u0627\u067E",copy_to_clipboard:"\u06A9\u067E\u06CC \u0628\u0647 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F",copied_to_clipboard:"\u062F\u0631 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F \u06A9\u067E\u06CC \u0634\u062F!",connect_with:"\u0627\u0631\u062A\u0628\u0627\u0637 \u0628\u0627",loading:"...\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC",something_went_wrong:"\u0645\u0634\u06A9\u0644\u06CC \u067E\u06CC\u0634 \u0622\u0645\u062F",no_supported_wallets:"\u0647\u0646\u0648\u0632 \u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u067E\u0634\u062A\u06CC\u0628\u0627\u0646\u06CC \u0634\u062F\u0647 \u0627\u06CC \u0648\u062C\u0648\u062F \u0646\u062F\u0627\u0631\u062F",no_wallets_found:"\u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644\u06CC \u067E\u06CC\u062F\u0627 \u0646\u0634\u062F"},languages={de,en:en$1,es,fr,ko,pt:pt$1,zh,fa};function injectStyleSheet(){var te=browserUtils.getDocumentOrThrow(),ee=te.getElementById(WALLETCONNECT_STYLE_ID);ee&&te.head.removeChild(ee);var re=te.createElement("style");re.setAttribute("id",WALLETCONNECT_STYLE_ID),re.innerText=WALLETCONNECT_STYLE_SHEET,te.head.appendChild(re)}function renderWrapper(){var te=browserUtils.getDocumentOrThrow(),ee=te.createElement("div");return ee.setAttribute("id",WALLETCONNECT_WRAPPER_ID),te.body.appendChild(ee),ee}function triggerCloseAnimation(){var te=browserUtils.getDocumentOrThrow(),ee=te.getElementById(WALLETCONNECT_MODAL_ID);ee&&(ee.className=ee.className.replace("fadeIn","fadeOut"),setTimeout(function(){var re=te.getElementById(WALLETCONNECT_WRAPPER_ID);re&&te.body.removeChild(re)},ANIMATION_DURATION))}function getWrappedCallback(te){return function(){triggerCloseAnimation(),te&&te()}}function getText(){var te=browserUtils.getNavigatorOrThrow().language.split("-")[0]||"en";return languages[te]||languages.en}function open$1(te,ee,re){injectStyleSheet();var ne=renderWrapper();React.render(React.createElement(Modal,{text:getText(),uri:te,onClose:getWrappedCallback(ee),qrcodeModalOptions:re}),ne)}function close$1(){triggerCloseAnimation()}var isNode=function(){return typeof process!="undefined"&&typeof process.versions!="undefined"&&typeof process.versions.node!="undefined"};function open$2(te,ee,re){console.log(te),isNode()?open(te):open$1(te,ee,re)}function close$2(){isNode()||close$1()}var index={open:open$2,close:close$2},cjs=index,eventemitter3={exports:{}};(function(te){var ee=Object.prototype.hasOwnProperty,re="~";function ne(){}Object.create&&(ne.prototype=Object.create(null),new ne().__proto__||(re=!1));function ie(fe,ue,le){this.fn=fe,this.context=ue,this.once=le||!1}function oe(fe,ue,le,pe,rr){if(typeof le!="function")throw new TypeError("The listener must be a function");var cr=new ie(le,pe||fe,rr),ar=re?re+ue:ue;return fe._events[ar]?fe._events[ar].fn?fe._events[ar]=[fe._events[ar],cr]:fe._events[ar].push(cr):(fe._events[ar]=cr,fe._eventsCount++),fe}function se(fe,ue){--fe._eventsCount===0?fe._events=new ne:delete fe._events[ue]}function ae(){this._events=new ne,this._eventsCount=0}ae.prototype.eventNames=function(){var ue=[],le,pe;if(this._eventsCount===0)return ue;for(pe in le=this._events)ee.call(le,pe)&&ue.push(re?pe.slice(1):pe);return Object.getOwnPropertySymbols?ue.concat(Object.getOwnPropertySymbols(le)):ue},ae.prototype.listeners=function(ue){var le=re?re+ue:ue,pe=this._events[le];if(!pe)return[];if(pe.fn)return[pe.fn];for(var rr=0,cr=pe.length,ar=new Array(cr);rr<cr;rr++)ar[rr]=pe[rr].fn;return ar},ae.prototype.listenerCount=function(ue){var le=re?re+ue:ue,pe=this._events[le];return pe?pe.fn?1:pe.length:0},ae.prototype.emit=function(ue,le,pe,rr,cr,ar){var mr=re?re+ue:ue;if(!this._events[mr])return!1;var pr=this._events[mr],yr=arguments.length,vr,Er;if(pr.fn){switch(pr.once&&this.removeListener(ue,pr.fn,void 0,!0),yr){case 1:return pr.fn.call(pr.context),!0;case 2:return pr.fn.call(pr.context,le),!0;case 3:return pr.fn.call(pr.context,le,pe),!0;case 4:return pr.fn.call(pr.context,le,pe,rr),!0;case 5:return pr.fn.call(pr.context,le,pe,rr,cr),!0;case 6:return pr.fn.call(pr.context,le,pe,rr,cr,ar),!0}for(Er=1,vr=new Array(yr-1);Er<yr;Er++)vr[Er-1]=arguments[Er];pr.fn.apply(pr.context,vr)}else{var Tr=pr.length,Ir;for(Er=0;Er<Tr;Er++)switch(pr[Er].once&&this.removeListener(ue,pr[Er].fn,void 0,!0),yr){case 1:pr[Er].fn.call(pr[Er].context);break;case 2:pr[Er].fn.call(pr[Er].context,le);break;case 3:pr[Er].fn.call(pr[Er].context,le,pe);break;case 4:pr[Er].fn.call(pr[Er].context,le,pe,rr);break;default:if(!vr)for(Ir=1,vr=new Array(yr-1);Ir<yr;Ir++)vr[Ir-1]=arguments[Ir];pr[Er].fn.apply(pr[Er].context,vr)}}return!0},ae.prototype.on=function(ue,le,pe){return oe(this,ue,le,pe,!1)},ae.prototype.once=function(ue,le,pe){return oe(this,ue,le,pe,!0)},ae.prototype.removeListener=function(ue,le,pe,rr){var cr=re?re+ue:ue;if(!this._events[cr])return this;if(!le)return se(this,cr),this;var ar=this._events[cr];if(ar.fn)ar.fn===le&&(!rr||ar.once)&&(!pe||ar.context===pe)&&se(this,cr);else{for(var mr=0,pr=[],yr=ar.length;mr<yr;mr++)(ar[mr].fn!==le||rr&&!ar[mr].once||pe&&ar[mr].context!==pe)&&pr.push(ar[mr]);pr.length?this._events[cr]=pr.length===1?pr[0]:pr:se(this,cr)}return this},ae.prototype.removeAllListeners=function(ue){var le;return ue?(le=re?re+ue:ue,this._events[le]&&se(this,le)):(this._events=new ne,this._eventsCount=0),this},ae.prototype.off=ae.prototype.removeListener,ae.prototype.addListener=ae.prototype.on,ae.prefixed=re,ae.EventEmitter=ae,te.exports=ae})(eventemitter3);var EventEmitter=eventemitter3.exports,dist$2={},xmlHttpRequest={},url$1={},punycode$1={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(te,ee){(function(re){var ne=ee&&!ee.nodeType&&ee,ie=te&&!te.nodeType&&te,oe=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1;(oe.global===oe||oe.window===oe||oe.self===oe)&&(re=oe);var se,ae=2147483647,fe=36,ue=1,le=26,pe=38,rr=700,cr=72,ar=128,mr="-",pr=/^xn--/,yr=/[^\x20-\x7E]/,vr=/[\x2E\u3002\uFF0E\uFF61]/g,Er={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Tr=fe-ue,Ir=Math.floor,Or=String.fromCharCode,Hr;function Pr(nr){throw RangeError(Er[nr])}function Br(nr,or){for(var ye=nr.length,gr=[];ye--;)gr[ye]=or(nr[ye]);return gr}function Nr(nr,or){var ye=nr.split("@"),gr="";ye.length>1&&(gr=ye[0]+"@",nr=ye[1]),nr=nr.replace(vr,".");var Ar=nr.split("."),br=Br(Ar,or).join(".");return gr+br}function dr(nr){for(var or=[],ye=0,gr=nr.length,Ar,br;ye<gr;)Ar=nr.charCodeAt(ye++),Ar>=55296&&Ar<=56319&&ye<gr?(br=nr.charCodeAt(ye++),(br&64512)==56320?or.push(((Ar&1023)<<10)+(br&1023)+65536):(or.push(Ar),ye--)):or.push(Ar);return or}function tr(nr){return Br(nr,function(or){var ye="";return or>65535&&(or-=65536,ye+=Or(or>>>10&1023|55296),or=56320|or&1023),ye+=Or(or),ye}).join("")}function ve(nr){return nr-48<10?nr-22:nr-65<26?nr-65:nr-97<26?nr-97:fe}function ce(nr,or){return nr+22+75*(nr<26)-((or!=0)<<5)}function me(nr,or,ye){var gr=0;for(nr=ye?Ir(nr/rr):nr>>1,nr+=Ir(nr/or);nr>Tr*le>>1;gr+=fe)nr=Ir(nr/Tr);return Ir(gr+(Tr+1)*nr/(nr+pe))}function ir(nr){var or=[],ye=nr.length,gr,Ar=0,br=ar,Cr=cr,Lr,Dr,Wr,Qr,Zr,Xr,Fr,Ur,Kr;for(Lr=nr.lastIndexOf(mr),Lr<0&&(Lr=0),Dr=0;Dr<Lr;++Dr)nr.charCodeAt(Dr)>=128&&Pr("not-basic"),or.push(nr.charCodeAt(Dr));for(Wr=Lr>0?Lr+1:0;Wr<ye;){for(Qr=Ar,Zr=1,Xr=fe;Wr>=ye&&Pr("invalid-input"),Fr=ve(nr.charCodeAt(Wr++)),(Fr>=fe||Fr>Ir((ae-Ar)/Zr))&&Pr("overflow"),Ar+=Fr*Zr,Ur=Xr<=Cr?ue:Xr>=Cr+le?le:Xr-Cr,!(Fr<Ur);Xr+=fe)Kr=fe-Ur,Zr>Ir(ae/Kr)&&Pr("overflow"),Zr*=Kr;gr=or.length+1,Cr=me(Ar-Qr,gr,Qr==0),Ir(Ar/gr)>ae-br&&Pr("overflow"),br+=Ir(Ar/gr),Ar%=gr,or.splice(Ar++,0,br)}return tr(or)}function ur(nr){var or,ye,gr,Ar,br,Cr,Lr,Dr,Wr,Qr,Zr,Xr=[],Fr,Ur,Kr,kr;for(nr=dr(nr),Fr=nr.length,or=ar,ye=0,br=cr,Cr=0;Cr<Fr;++Cr)Zr=nr[Cr],Zr<128&&Xr.push(Or(Zr));for(gr=Ar=Xr.length,Ar&&Xr.push(mr);gr<Fr;){for(Lr=ae,Cr=0;Cr<Fr;++Cr)Zr=nr[Cr],Zr>=or&&Zr<Lr&&(Lr=Zr);for(Ur=gr+1,Lr-or>Ir((ae-ye)/Ur)&&Pr("overflow"),ye+=(Lr-or)*Ur,or=Lr,Cr=0;Cr<Fr;++Cr)if(Zr=nr[Cr],Zr<or&&++ye>ae&&Pr("overflow"),Zr==or){for(Dr=ye,Wr=fe;Qr=Wr<=br?ue:Wr>=br+le?le:Wr-br,!(Dr<Qr);Wr+=fe)kr=Dr-Qr,Kr=fe-Qr,Xr.push(Or(ce(Qr+kr%Kr,0))),Dr=Ir(kr/Kr);Xr.push(Or(ce(Dr,0))),br=me(ye,Ur,gr==Ar),ye=0,++gr}++ye,++or}return Xr.join("")}function lr(nr){return Nr(nr,function(or){return pr.test(or)?ir(or.slice(4).toLowerCase()):or})}function er(nr){return Nr(nr,function(or){return yr.test(or)?"xn--"+ur(or):or})}if(se={version:"1.3.2",ucs2:{decode:dr,encode:tr},decode:ir,encode:ur,toASCII:er,toUnicode:lr},ne&&ie)if(te.exports==ne)ie.exports=se;else for(Hr in se)se.hasOwnProperty(Hr)&&(ne[Hr]=se[Hr]);else re.punycode=se})(commonjsGlobal$1)})(punycode$1,punycode$1.exports);var util$5={isString:function(te){return typeof te=="string"},isObject:function(te){return typeof te=="object"&&te!==null},isNull:function(te){return te===null},isNullOrUndefined:function(te){return te==null}},querystring$1={};function hasOwnProperty(te,ee){return Object.prototype.hasOwnProperty.call(te,ee)}var decode$3=function(te,ee,re,ne){ee=ee||"&",re=re||"=";var ie={};if(typeof te!="string"||te.length===0)return ie;var oe=/\+/g;te=te.split(ee);var se=1e3;ne&&typeof ne.maxKeys=="number"&&(se=ne.maxKeys);var ae=te.length;se>0&&ae>se&&(ae=se);for(var fe=0;fe<ae;++fe){var ue=te[fe].replace(oe,"%20"),le=ue.indexOf(re),pe,rr,cr,ar;le>=0?(pe=ue.substr(0,le),rr=ue.substr(le+1)):(pe=ue,rr=""),cr=decodeURIComponent(pe),ar=decodeURIComponent(rr),hasOwnProperty(ie,cr)?Array.isArray(ie[cr])?ie[cr].push(ar):ie[cr]=[ie[cr],ar]:ie[cr]=ar}return ie},stringifyPrimitive=function(te){switch(typeof te){case"string":return te;case"boolean":return te?"true":"false";case"number":return isFinite(te)?te:"";default:return""}},encode$2=function(te,ee,re,ne){return ee=ee||"&",re=re||"=",te===null&&(te=void 0),typeof te=="object"?Object.keys(te).map(function(ie){var oe=encodeURIComponent(stringifyPrimitive(ie))+re;return Array.isArray(te[ie])?te[ie].map(function(se){return oe+encodeURIComponent(stringifyPrimitive(se))}).join(ee):oe+encodeURIComponent(stringifyPrimitive(te[ie]))}).join(ee):ne?encodeURIComponent(stringifyPrimitive(ne))+re+encodeURIComponent(stringifyPrimitive(te)):""};querystring$1.decode=querystring$1.parse=decode$3;querystring$1.encode=querystring$1.stringify=encode$2;var punycode=punycode$1.exports,util$4=util$5;url$1.parse=urlParse;url$1.resolve=urlResolve;url$1.resolveObject=urlResolveObject;url$1.format=urlFormat;url$1.Url=Url;function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r",`
`,"	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=querystring$1;function urlParse(te,ee,re){if(te&&util$4.isObject(te)&&te instanceof Url)return te;var ne=new Url;return ne.parse(te,ee,re),ne}Url.prototype.parse=function(te,ee,re){if(!util$4.isString(te))throw new TypeError("Parameter 'url' must be a string, not "+typeof te);var ne=te.indexOf("?"),ie=ne!==-1&&ne<te.indexOf("#")?"?":"#",oe=te.split(ie),se=/\\/g;oe[0]=oe[0].replace(se,"/"),te=oe.join(ie);var ae=te;if(ae=ae.trim(),!re&&te.split("#").length===1){var fe=simplePathPattern.exec(ae);if(fe)return this.path=ae,this.href=ae,this.pathname=fe[1],fe[2]?(this.search=fe[2],ee?this.query=querystring.parse(this.search.substr(1)):this.query=this.search.substr(1)):ee&&(this.search="",this.query={}),this}var ue=protocolPattern.exec(ae);if(ue){ue=ue[0];var le=ue.toLowerCase();this.protocol=le,ae=ae.substr(ue.length)}if(re||ue||ae.match(/^\/\/[^@\/]+@[^@\/]+/)){var pe=ae.substr(0,2)==="//";pe&&!(ue&&hostlessProtocol[ue])&&(ae=ae.substr(2),this.slashes=!0)}if(!hostlessProtocol[ue]&&(pe||ue&&!slashedProtocol[ue])){for(var rr=-1,cr=0;cr<hostEndingChars.length;cr++){var ar=ae.indexOf(hostEndingChars[cr]);ar!==-1&&(rr===-1||ar<rr)&&(rr=ar)}var mr,pr;rr===-1?pr=ae.lastIndexOf("@"):pr=ae.lastIndexOf("@",rr),pr!==-1&&(mr=ae.slice(0,pr),ae=ae.slice(pr+1),this.auth=decodeURIComponent(mr)),rr=-1;for(var cr=0;cr<nonHostChars.length;cr++){var ar=ae.indexOf(nonHostChars[cr]);ar!==-1&&(rr===-1||ar<rr)&&(rr=ar)}rr===-1&&(rr=ae.length),this.host=ae.slice(0,rr),ae=ae.slice(rr),this.parseHost(),this.hostname=this.hostname||"";var yr=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!yr)for(var vr=this.hostname.split(/\./),cr=0,Er=vr.length;cr<Er;cr++){var Tr=vr[cr];if(!!Tr&&!Tr.match(hostnamePartPattern)){for(var Ir="",Or=0,Hr=Tr.length;Or<Hr;Or++)Tr.charCodeAt(Or)>127?Ir+="x":Ir+=Tr[Or];if(!Ir.match(hostnamePartPattern)){var Pr=vr.slice(0,cr),Br=vr.slice(cr+1),Nr=Tr.match(hostnamePartStart);Nr&&(Pr.push(Nr[1]),Br.unshift(Nr[2])),Br.length&&(ae="/"+Br.join(".")+ae),this.hostname=Pr.join(".");break}}}this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),yr||(this.hostname=punycode.toASCII(this.hostname));var dr=this.port?":"+this.port:"",tr=this.hostname||"";this.host=tr+dr,this.href+=this.host,yr&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),ae[0]!=="/"&&(ae="/"+ae))}if(!unsafeProtocol[le])for(var cr=0,Er=autoEscape.length;cr<Er;cr++){var ve=autoEscape[cr];if(ae.indexOf(ve)!==-1){var ce=encodeURIComponent(ve);ce===ve&&(ce=escape(ve)),ae=ae.split(ve).join(ce)}}var me=ae.indexOf("#");me!==-1&&(this.hash=ae.substr(me),ae=ae.slice(0,me));var ir=ae.indexOf("?");if(ir!==-1?(this.search=ae.substr(ir),this.query=ae.substr(ir+1),ee&&(this.query=querystring.parse(this.query)),ae=ae.slice(0,ir)):ee&&(this.search="",this.query={}),ae&&(this.pathname=ae),slashedProtocol[le]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var dr=this.pathname||"",ur=this.search||"";this.path=dr+ur}return this.href=this.format(),this};function urlFormat(te){return util$4.isString(te)&&(te=urlParse(te)),te instanceof Url?te.format():Url.prototype.format.call(te)}Url.prototype.format=function(){var te=this.auth||"";te&&(te=encodeURIComponent(te),te=te.replace(/%3A/i,":"),te+="@");var ee=this.protocol||"",re=this.pathname||"",ne=this.hash||"",ie=!1,oe="";this.host?ie=te+this.host:this.hostname&&(ie=te+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(ie+=":"+this.port)),this.query&&util$4.isObject(this.query)&&Object.keys(this.query).length&&(oe=querystring.stringify(this.query));var se=this.search||oe&&"?"+oe||"";return ee&&ee.substr(-1)!==":"&&(ee+=":"),this.slashes||(!ee||slashedProtocol[ee])&&ie!==!1?(ie="//"+(ie||""),re&&re.charAt(0)!=="/"&&(re="/"+re)):ie||(ie=""),ne&&ne.charAt(0)!=="#"&&(ne="#"+ne),se&&se.charAt(0)!=="?"&&(se="?"+se),re=re.replace(/[?#]/g,function(ae){return encodeURIComponent(ae)}),se=se.replace("#","%23"),ee+ie+re+se+ne};function urlResolve(te,ee){return urlParse(te,!1,!0).resolve(ee)}Url.prototype.resolve=function(te){return this.resolveObject(urlParse(te,!1,!0)).format()};function urlResolveObject(te,ee){return te?urlParse(te,!1,!0).resolveObject(ee):ee}Url.prototype.resolveObject=function(te){if(util$4.isString(te)){var ee=new Url;ee.parse(te,!1,!0),te=ee}for(var re=new Url,ne=Object.keys(this),ie=0;ie<ne.length;ie++){var oe=ne[ie];re[oe]=this[oe]}if(re.hash=te.hash,te.href==="")return re.href=re.format(),re;if(te.slashes&&!te.protocol){for(var se=Object.keys(te),ae=0;ae<se.length;ae++){var fe=se[ae];fe!=="protocol"&&(re[fe]=te[fe])}return slashedProtocol[re.protocol]&&re.hostname&&!re.pathname&&(re.path=re.pathname="/"),re.href=re.format(),re}if(te.protocol&&te.protocol!==re.protocol){if(!slashedProtocol[te.protocol]){for(var ue=Object.keys(te),le=0;le<ue.length;le++){var pe=ue[le];re[pe]=te[pe]}return re.href=re.format(),re}if(re.protocol=te.protocol,!te.host&&!hostlessProtocol[te.protocol]){for(var Er=(te.pathname||"").split("/");Er.length&&!(te.host=Er.shift()););te.host||(te.host=""),te.hostname||(te.hostname=""),Er[0]!==""&&Er.unshift(""),Er.length<2&&Er.unshift(""),re.pathname=Er.join("/")}else re.pathname=te.pathname;if(re.search=te.search,re.query=te.query,re.host=te.host||"",re.auth=te.auth,re.hostname=te.hostname||te.host,re.port=te.port,re.pathname||re.search){var rr=re.pathname||"",cr=re.search||"";re.path=rr+cr}return re.slashes=re.slashes||te.slashes,re.href=re.format(),re}var ar=re.pathname&&re.pathname.charAt(0)==="/",mr=te.host||te.pathname&&te.pathname.charAt(0)==="/",pr=mr||ar||re.host&&te.pathname,yr=pr,vr=re.pathname&&re.pathname.split("/")||[],Er=te.pathname&&te.pathname.split("/")||[],Tr=re.protocol&&!slashedProtocol[re.protocol];if(Tr&&(re.hostname="",re.port=null,re.host&&(vr[0]===""?vr[0]=re.host:vr.unshift(re.host)),re.host="",te.protocol&&(te.hostname=null,te.port=null,te.host&&(Er[0]===""?Er[0]=te.host:Er.unshift(te.host)),te.host=null),pr=pr&&(Er[0]===""||vr[0]==="")),mr)re.host=te.host||te.host===""?te.host:re.host,re.hostname=te.hostname||te.hostname===""?te.hostname:re.hostname,re.search=te.search,re.query=te.query,vr=Er;else if(Er.length)vr||(vr=[]),vr.pop(),vr=vr.concat(Er),re.search=te.search,re.query=te.query;else if(!util$4.isNullOrUndefined(te.search)){if(Tr){re.hostname=re.host=vr.shift();var Ir=re.host&&re.host.indexOf("@")>0?re.host.split("@"):!1;Ir&&(re.auth=Ir.shift(),re.host=re.hostname=Ir.shift())}return re.search=te.search,re.query=te.query,(!util$4.isNull(re.pathname)||!util$4.isNull(re.search))&&(re.path=(re.pathname?re.pathname:"")+(re.search?re.search:"")),re.href=re.format(),re}if(!vr.length)return re.pathname=null,re.search?re.path="/"+re.search:re.path=null,re.href=re.format(),re;for(var Or=vr.slice(-1)[0],Hr=(re.host||te.host||vr.length>1)&&(Or==="."||Or==="..")||Or==="",Pr=0,Br=vr.length;Br>=0;Br--)Or=vr[Br],Or==="."?vr.splice(Br,1):Or===".."?(vr.splice(Br,1),Pr++):Pr&&(vr.splice(Br,1),Pr--);if(!pr&&!yr)for(;Pr--;Pr)vr.unshift("..");pr&&vr[0]!==""&&(!vr[0]||vr[0].charAt(0)!=="/")&&vr.unshift(""),Hr&&vr.join("/").substr(-1)!=="/"&&vr.push("");var Nr=vr[0]===""||vr[0]&&vr[0].charAt(0)==="/";if(Tr){re.hostname=re.host=Nr?"":vr.length?vr.shift():"";var Ir=re.host&&re.host.indexOf("@")>0?re.host.split("@"):!1;Ir&&(re.auth=Ir.shift(),re.host=re.hostname=Ir.shift())}return pr=pr||re.host&&vr.length,pr&&!Nr&&vr.unshift(""),vr.length?re.pathname=vr.join("/"):(re.pathname=null,re.path=null),(!util$4.isNull(re.pathname)||!util$4.isNull(re.search))&&(re.path=(re.pathname?re.pathname:"")+(re.search?re.search:"")),re.auth=te.auth||re.auth,re.slashes=re.slashes||te.slashes,re.href=re.format(),re};Url.prototype.parseHost=function(){var te=this.host,ee=portPattern.exec(te);ee&&(ee=ee[0],ee!==":"&&(this.port=ee.substr(1)),te=te.substr(0,te.length-ee.length)),te&&(this.hostname=te)};var progressEvent={};Object.defineProperty(progressEvent,"__esModule",{value:!0});var ProgressEvent=function(){function te(ee){this.type=ee,this.bubbles=!1,this.cancelable=!1,this.loaded=0,this.lengthComputable=!1,this.total=0}return te}();progressEvent.ProgressEvent=ProgressEvent;var errors$1={},__extends$3=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ee,re){ee.__proto__=re}||function(ee,re){for(var ne in re)re.hasOwnProperty(ne)&&(ee[ne]=re[ne])};return function(ee,re){te(ee,re);function ne(){this.constructor=ee}ee.prototype=re===null?Object.create(re):(ne.prototype=re.prototype,new ne)}}();Object.defineProperty(errors$1,"__esModule",{value:!0});var SecurityError=function(te){__extends$3(ee,te);function ee(){return te!==null&&te.apply(this,arguments)||this}return ee}(Error);errors$1.SecurityError=SecurityError;var InvalidStateError=function(te){__extends$3(ee,te);function ee(){return te!==null&&te.apply(this,arguments)||this}return ee}(Error);errors$1.InvalidStateError=InvalidStateError;var NetworkError=function(te){__extends$3(ee,te);function ee(){return te!==null&&te.apply(this,arguments)||this}return ee}(Error);errors$1.NetworkError=NetworkError;var SyntaxError$1=function(te){__extends$3(ee,te);function ee(){return te!==null&&te.apply(this,arguments)||this}return ee}(Error);errors$1.SyntaxError=SyntaxError$1;var xmlHttpRequestEventTarget={};Object.defineProperty(xmlHttpRequestEventTarget,"__esModule",{value:!0});var XMLHttpRequestEventTarget=function(){function te(){this.listeners={}}return te.prototype.addEventListener=function(ee,re){ee=ee.toLowerCase(),this.listeners[ee]=this.listeners[ee]||[],this.listeners[ee].push(re.handleEvent||re)},te.prototype.removeEventListener=function(ee,re){if(ee=ee.toLowerCase(),!!this.listeners[ee]){var ne=this.listeners[ee].indexOf(re.handleEvent||re);ne<0||this.listeners[ee].splice(ne,1)}},te.prototype.dispatchEvent=function(ee){var re=ee.type.toLowerCase();if(ee.target=this,this.listeners[re])for(var ne=0,ie=this.listeners[re];ne<ie.length;ne++){var oe=ie[ne];oe.call(this,ee)}var se=this["on"+re];return se&&se.call(this,ee),!0},te}();xmlHttpRequestEventTarget.XMLHttpRequestEventTarget=XMLHttpRequestEventTarget;var xmlHttpRequestUpload={},__extends$2=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ee,re){ee.__proto__=re}||function(ee,re){for(var ne in re)re.hasOwnProperty(ne)&&(ee[ne]=re[ne])};return function(ee,re){te(ee,re);function ne(){this.constructor=ee}ee.prototype=re===null?Object.create(re):(ne.prototype=re.prototype,new ne)}}();Object.defineProperty(xmlHttpRequestUpload,"__esModule",{value:!0});var xml_http_request_event_target_1$1=xmlHttpRequestEventTarget,XMLHttpRequestUpload=function(te){__extends$2(ee,te);function ee(){var re=te.call(this)||this;return re._contentType=null,re._body=null,re._reset(),re}return ee.prototype._reset=function(){this._contentType=null,this._body=null},ee.prototype._setData=function(re){if(re!=null)if(typeof re=="string")re.length!==0&&(this._contentType="text/plain;charset=UTF-8"),this._body=new buffer$2.Buffer(re,"utf-8");else if(buffer$2.Buffer.isBuffer(re))this._body=re;else if(re instanceof ArrayBuffer){for(var ne=new buffer$2.Buffer(re.byteLength),ie=new Uint8Array(re),oe=0;oe<re.byteLength;oe++)ne[oe]=ie[oe];this._body=ne}else if(re.buffer&&re.buffer instanceof ArrayBuffer){for(var ne=new buffer$2.Buffer(re.byteLength),se=re.byteOffset,ie=new Uint8Array(re.buffer),oe=0;oe<re.byteLength;oe++)ne[oe]=ie[oe+se];this._body=ne}else throw new Error("Unsupported send() data "+re)},ee.prototype._finalizeHeaders=function(re,ne){this._contentType&&!ne["content-type"]&&(re["Content-Type"]=this._contentType),this._body&&(re["Content-Length"]=this._body.length.toString())},ee.prototype._startUpload=function(re){this._body&&re.write(this._body),re.end()},ee}(xml_http_request_event_target_1$1.XMLHttpRequestEventTarget);xmlHttpRequestUpload.XMLHttpRequestUpload=XMLHttpRequestUpload;var cookiejar={};(function(){function te(ie,oe,se,ae){return this instanceof te?(this.domain=ie||void 0,this.path=oe||"/",this.secure=!!se,this.script=!!ae,this):new te(ie,oe,se,ae)}te.All=Object.freeze(Object.create(null)),cookiejar.CookieAccessInfo=te;function ee(ie,oe,se){return ie instanceof ee?ie:this instanceof ee?(this.name=null,this.value=null,this.expiration_date=1/0,this.path=String(se||"/"),this.explicit_path=!1,this.domain=oe||null,this.explicit_domain=!1,this.secure=!1,this.noscript=!1,ie&&this.parse(ie,oe,se),this):new ee(ie,oe,se)}cookiejar.Cookie=ee,ee.prototype.toString=function(){var oe=[this.name+"="+this.value];return this.expiration_date!==1/0&&oe.push("expires="+new Date(this.expiration_date).toGMTString()),this.domain&&oe.push("domain="+this.domain),this.path&&oe.push("path="+this.path),this.secure&&oe.push("secure"),this.noscript&&oe.push("httponly"),oe.join("; ")},ee.prototype.toValueString=function(){return this.name+"="+this.value};var re=/[:](?=\s*[a-zA-Z0-9_\-]+\s*[=])/g;ee.prototype.parse=function(oe,se,ae){if(this instanceof ee){var fe=oe.split(";").filter(function(cr){return!!cr}),ue,le=fe[0].match(/([^=]+)=([\s\S]*)/);if(!le){console.warn("Invalid cookie header encountered. Header: '"+oe+"'");return}var pe=le[1],rr=le[2];if(typeof pe!="string"||pe.length===0||typeof rr!="string"){console.warn("Unable to extract values from cookie header. Cookie: '"+oe+"'");return}for(this.name=pe,this.value=rr,ue=1;ue<fe.length;ue+=1)switch(le=fe[ue].match(/([^=]+)(?:=([\s\S]*))?/),pe=le[1].trim().toLowerCase(),rr=le[2],pe){case"httponly":this.noscript=!0;break;case"expires":this.expiration_date=rr?Number(Date.parse(rr)):1/0;break;case"path":this.path=rr?rr.trim():"",this.explicit_path=!0;break;case"domain":this.domain=rr?rr.trim():"",this.explicit_domain=!!this.domain;break;case"secure":this.secure=!0;break}return this.explicit_path||(this.path=ae||"/"),this.explicit_domain||(this.domain=se),this}return new ee().parse(oe,se,ae)},ee.prototype.matches=function(oe){return oe===te.All?!0:!(this.noscript&&oe.script||this.secure&&!oe.secure||!this.collidesWith(oe))},ee.prototype.collidesWith=function(oe){if(this.path&&!oe.path||this.domain&&!oe.domain||this.path&&oe.path.indexOf(this.path)!==0||this.explicit_path&&oe.path.indexOf(this.path)!==0)return!1;var se=oe.domain&&oe.domain.replace(/^[\.]/,""),ae=this.domain&&this.domain.replace(/^[\.]/,"");if(ae===se)return!0;if(ae){if(!this.explicit_domain)return!1;var fe=se.indexOf(ae);return!(fe===-1||fe!==se.length-ae.length)}return!0};function ne(){var ie,oe,se;return this instanceof ne?(ie=Object.create(null),this.setCookie=function(fe,ue,le){var pe,rr;if(fe=new ee(fe,ue,le),pe=fe.expiration_date<=Date.now(),ie[fe.name]!==void 0){for(oe=ie[fe.name],rr=0;rr<oe.length;rr+=1)if(se=oe[rr],se.collidesWith(fe))return pe?(oe.splice(rr,1),oe.length===0&&delete ie[fe.name],!1):(oe[rr]=fe,fe);return pe?!1:(oe.push(fe),fe)}return pe?!1:(ie[fe.name]=[fe],ie[fe.name])},this.getCookie=function(fe,ue){var le,pe;if(oe=ie[fe],!!oe)for(pe=0;pe<oe.length;pe+=1){if(le=oe[pe],le.expiration_date<=Date.now()){oe.length===0&&delete ie[le.name];continue}if(le.matches(ue))return le}},this.getCookies=function(fe){var ue=[],le,pe;for(le in ie)pe=this.getCookie(le,fe),pe&&ue.push(pe);return ue.toString=function(){return ue.join(":")},ue.toValueString=function(){return ue.map(function(cr){return cr.toValueString()}).join("; ")},ue},this):new ne}cookiejar.CookieJar=ne,ne.prototype.setCookies=function(oe,se,ae){oe=Array.isArray(oe)?oe:oe.split(re);var fe=[],ue,le;for(oe=oe.map(function(pe){return new ee(pe,se,ae)}),ue=0;ue<oe.length;ue+=1)le=oe[ue],this.setCookie(le,se,ae)&&fe.push(le);return fe}})();var __extends$1=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ee,re){ee.__proto__=re}||function(ee,re){for(var ne in re)re.hasOwnProperty(ne)&&(ee[ne]=re[ne])};return function(ee,re){te(ee,re);function ne(){this.constructor=ee}ee.prototype=re===null?Object.create(re):(ne.prototype=re.prototype,new ne)}}(),__assign=commonjsGlobal$1&&commonjsGlobal$1.__assign||Object.assign||function(te){for(var ee,re=1,ne=arguments.length;re<ne;re++){ee=arguments[re];for(var ie in ee)Object.prototype.hasOwnProperty.call(ee,ie)&&(te[ie]=ee[ie])}return te};Object.defineProperty(xmlHttpRequest,"__esModule",{value:!0});var http=require$$0$3,https=require$$0$3,os=require$$0$3,url=url$1,progress_event_1=progressEvent,errors_1=errors$1,xml_http_request_event_target_1=xmlHttpRequestEventTarget,xml_http_request_upload_1=xmlHttpRequestUpload,Cookie=cookiejar,XMLHttpRequest=function(te){__extends$1(ee,te);function ee(re){re===void 0&&(re={});var ne=te.call(this)||this;return ne.UNSENT=ee.UNSENT,ne.OPENED=ee.OPENED,ne.HEADERS_RECEIVED=ee.HEADERS_RECEIVED,ne.LOADING=ee.LOADING,ne.DONE=ee.DONE,ne.onreadystatechange=null,ne.readyState=ee.UNSENT,ne.response=null,ne.responseText="",ne.responseType="",ne.status=0,ne.statusText="",ne.timeout=0,ne.upload=new xml_http_request_upload_1.XMLHttpRequestUpload,ne.responseUrl="",ne.withCredentials=!1,ne._method=null,ne._url=null,ne._sync=!1,ne._headers={},ne._loweredHeaders={},ne._mimeOverride=null,ne._request=null,ne._response=null,ne._responseParts=null,ne._responseHeaders=null,ne._aborting=null,ne._error=null,ne._loadedBytes=0,ne._totalBytes=0,ne._lengthComputable=!1,ne._restrictedMethods={CONNECT:!0,TRACE:!0,TRACK:!0},ne._restrictedHeaders={"accept-charset":!0,"accept-encoding":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,cookie2:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,origin:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,via:!0},ne._privateHeaders={"set-cookie":!0,"set-cookie2":!0},ne._userAgent="Mozilla/5.0 ("+os.type()+" "+os.arch()+") node.js/"+process.versions.node+" v8/"+process.versions.v8,ne._anonymous=re.anon||!1,ne}return ee.prototype.open=function(re,ne,ie,oe,se){if(ie===void 0&&(ie=!0),re=re.toUpperCase(),this._restrictedMethods[re])throw new ee.SecurityError("HTTP method "+re+" is not allowed in XHR");var ae=this._parseUrl(ne,oe,se);this.readyState===ee.HEADERS_RECEIVED||(this.readyState,ee.LOADING),this._method=re,this._url=ae,this._sync=!ie,this._headers={},this._loweredHeaders={},this._mimeOverride=null,this._setReadyState(ee.OPENED),this._request=null,this._response=null,this.status=0,this.statusText="",this._responseParts=[],this._responseHeaders=null,this._loadedBytes=0,this._totalBytes=0,this._lengthComputable=!1},ee.prototype.setRequestHeader=function(re,ne){if(this.readyState!==ee.OPENED)throw new ee.InvalidStateError("XHR readyState must be OPENED");var ie=re.toLowerCase();if(this._restrictedHeaders[ie]||/^sec-/.test(ie)||/^proxy-/.test(ie)){console.warn('Refused to set unsafe header "'+re+'"');return}ne=ne.toString(),this._loweredHeaders[ie]!=null?(re=this._loweredHeaders[ie],this._headers[re]=this._headers[re]+", "+ne):(this._loweredHeaders[ie]=re,this._headers[re]=ne)},ee.prototype.send=function(re){if(this.readyState!==ee.OPENED)throw new ee.InvalidStateError("XHR readyState must be OPENED");if(this._request)throw new ee.InvalidStateError("send() already called");switch(this._url.protocol){case"file:":return this._sendFile(re);case"http:":case"https:":return this._sendHttp(re);default:throw new ee.NetworkError("Unsupported protocol "+this._url.protocol)}},ee.prototype.abort=function(){this._request!=null&&(this._request.abort(),this._setError(),this._dispatchProgress("abort"),this._dispatchProgress("loadend"))},ee.prototype.getResponseHeader=function(re){if(this._responseHeaders==null||re==null)return null;var ne=re.toLowerCase();return this._responseHeaders.hasOwnProperty(ne)?this._responseHeaders[re.toLowerCase()]:null},ee.prototype.getAllResponseHeaders=function(){var re=this;return this._responseHeaders==null?"":Object.keys(this._responseHeaders).map(function(ne){return ne+": "+re._responseHeaders[ne]}).join(`\r
`)},ee.prototype.overrideMimeType=function(re){if(this.readyState===ee.LOADING||this.readyState===ee.DONE)throw new ee.InvalidStateError("overrideMimeType() not allowed in LOADING or DONE");this._mimeOverride=re.toLowerCase()},ee.prototype.nodejsSet=function(re){if(this.nodejsHttpAgent=re.httpAgent||this.nodejsHttpAgent,this.nodejsHttpsAgent=re.httpsAgent||this.nodejsHttpsAgent,re.hasOwnProperty("baseUrl")){if(re.baseUrl!=null){var ne=url.parse(re.baseUrl,!1,!0);if(!ne.protocol)throw new ee.SyntaxError("baseUrl must be an absolute URL")}this.nodejsBaseUrl=re.baseUrl}},ee.nodejsSet=function(re){ee.prototype.nodejsSet(re)},ee.prototype._setReadyState=function(re){this.readyState=re,this.dispatchEvent(new progress_event_1.ProgressEvent("readystatechange"))},ee.prototype._sendFile=function(re){throw new Error("Protocol file: not implemented")},ee.prototype._sendHttp=function(re){if(this._sync)throw new Error("Synchronous XHR processing not implemented");re&&(this._method==="GET"||this._method==="HEAD")?(console.warn("Discarding entity body for "+this._method+" requests"),re=null):re=re||"",this.upload._setData(re),this._finalizeHeaders(),this._sendHxxpRequest()},ee.prototype._sendHxxpRequest=function(){var re=this;if(this.withCredentials){var ne=ee.cookieJar.getCookies(Cookie.CookieAccessInfo(this._url.hostname,this._url.pathname,this._url.protocol==="https:")).toValueString();this._headers.cookie=this._headers.cookie2=ne}var ie=this._url.protocol==="http:"?[http,this.nodejsHttpAgent]:[https,this.nodejsHttpsAgent],oe=ie[0],se=ie[1],ae=oe.request.bind(oe),fe=ae({hostname:this._url.hostname,port:+this._url.port,path:this._url.path,auth:this._url.auth,method:this._method,headers:this._headers,agent:se});this._request=fe,this.timeout&&fe.setTimeout(this.timeout,function(){return re._onHttpTimeout(fe)}),fe.on("response",function(ue){return re._onHttpResponse(fe,ue)}),fe.on("error",function(ue){return re._onHttpRequestError(fe,ue)}),this.upload._startUpload(fe),this._request===fe&&this._dispatchProgress("loadstart")},ee.prototype._finalizeHeaders=function(){this._headers=__assign({},this._headers,{Connection:"keep-alive",Host:this._url.host,"User-Agent":this._userAgent},this._anonymous?{Referer:"about:blank"}:{}),this.upload._finalizeHeaders(this._headers,this._loweredHeaders)},ee.prototype._onHttpResponse=function(re,ne){var ie=this;if(this._request===re){if(this.withCredentials&&(ne.headers["set-cookie"]||ne.headers["set-cookie2"])&&ee.cookieJar.setCookies(ne.headers["set-cookie"]||ne.headers["set-cookie2"]),[301,302,303,307,308].indexOf(ne.statusCode)>=0){this._url=this._parseUrl(ne.headers.location),this._method="GET",this._loweredHeaders["content-type"]&&(delete this._headers[this._loweredHeaders["content-type"]],delete this._loweredHeaders["content-type"]),this._headers["Content-Type"]!=null&&delete this._headers["Content-Type"],delete this._headers["Content-Length"],this.upload._reset(),this._finalizeHeaders(),this._sendHxxpRequest();return}this._response=ne,this._response.on("data",function(se){return ie._onHttpResponseData(ne,se)}),this._response.on("end",function(){return ie._onHttpResponseEnd(ne)}),this._response.on("close",function(){return ie._onHttpResponseClose(ne)}),this.responseUrl=this._url.href.split("#")[0],this.status=ne.statusCode,this.statusText=http.STATUS_CODES[this.status],this._parseResponseHeaders(ne);var oe=this._responseHeaders["content-length"]||"";this._totalBytes=+oe,this._lengthComputable=!!oe,this._setReadyState(ee.HEADERS_RECEIVED)}},ee.prototype._onHttpResponseData=function(re,ne){this._response===re&&(this._responseParts.push(new buffer$2.Buffer(ne)),this._loadedBytes+=ne.length,this.readyState!==ee.LOADING&&this._setReadyState(ee.LOADING),this._dispatchProgress("progress"))},ee.prototype._onHttpResponseEnd=function(re){this._response===re&&(this._parseResponse(),this._request=null,this._response=null,this._setReadyState(ee.DONE),this._dispatchProgress("load"),this._dispatchProgress("loadend"))},ee.prototype._onHttpResponseClose=function(re){if(this._response===re){var ne=this._request;this._setError(),ne.abort(),this._setReadyState(ee.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend")}},ee.prototype._onHttpTimeout=function(re){this._request===re&&(this._setError(),re.abort(),this._setReadyState(ee.DONE),this._dispatchProgress("timeout"),this._dispatchProgress("loadend"))},ee.prototype._onHttpRequestError=function(re,ne){this._request===re&&(this._setError(),re.abort(),this._setReadyState(ee.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend"))},ee.prototype._dispatchProgress=function(re){var ne=new ee.ProgressEvent(re);ne.lengthComputable=this._lengthComputable,ne.loaded=this._loadedBytes,ne.total=this._totalBytes,this.dispatchEvent(ne)},ee.prototype._setError=function(){this._request=null,this._response=null,this._responseHeaders=null,this._responseParts=null},ee.prototype._parseUrl=function(re,ne,ie){var oe=this.nodejsBaseUrl==null?re:url.resolve(this.nodejsBaseUrl,re),se=url.parse(oe,!1,!0);se.hash=null;var ae=(se.auth||"").split(":"),fe=ae[0],ue=ae[1];return(fe||ue||ne||ie)&&(se.auth=(ne||fe||"")+":"+(ie||ue||"")),se},ee.prototype._parseResponseHeaders=function(re){this._responseHeaders={};for(var ne in re.headers){var ie=ne.toLowerCase();this._privateHeaders[ie]||(this._responseHeaders[ie]=re.headers[ne])}this._mimeOverride!=null&&(this._responseHeaders["content-type"]=this._mimeOverride)},ee.prototype._parseResponse=function(){var re=buffer$2.Buffer.concat(this._responseParts);switch(this._responseParts=null,this.responseType){case"json":this.responseText=null;try{this.response=JSON.parse(re.toString("utf-8"))}catch{this.response=null}return;case"buffer":this.responseText=null,this.response=re;return;case"arraybuffer":this.responseText=null;for(var ne=new ArrayBuffer(re.length),ie=new Uint8Array(ne),oe=0;oe<re.length;oe++)ie[oe]=re[oe];this.response=ne;return;case"text":default:try{this.responseText=re.toString(this._parseResponseEncoding())}catch{this.responseText=re.toString("binary")}this.response=this.responseText}},ee.prototype._parseResponseEncoding=function(){return/;\s*charset=(.*)$/.exec(this._responseHeaders["content-type"]||"")[1]||"utf-8"},ee.ProgressEvent=progress_event_1.ProgressEvent,ee.InvalidStateError=errors_1.InvalidStateError,ee.NetworkError=errors_1.NetworkError,ee.SecurityError=errors_1.SecurityError,ee.SyntaxError=errors_1.SyntaxError,ee.XMLHttpRequestUpload=xml_http_request_upload_1.XMLHttpRequestUpload,ee.UNSENT=0,ee.OPENED=1,ee.HEADERS_RECEIVED=2,ee.LOADING=3,ee.DONE=4,ee.cookieJar=Cookie.CookieJar(),ee}(xml_http_request_event_target_1.XMLHttpRequestEventTarget);xmlHttpRequest.XMLHttpRequest=XMLHttpRequest;XMLHttpRequest.prototype.nodejsHttpAgent=http.globalAgent;XMLHttpRequest.prototype.nodejsHttpsAgent=https.globalAgent;XMLHttpRequest.prototype.nodejsBaseUrl=null;(function(te){function ee(ne){for(var ie in ne)te.hasOwnProperty(ie)||(te[ie]=ne[ie])}Object.defineProperty(te,"__esModule",{value:!0}),ee(xmlHttpRequest);var re=xmlHttpRequestEventTarget;te.XMLHttpRequestEventTarget=re.XMLHttpRequestEventTarget})(dist$2);const XHR=getFromWindow("XMLHttpRequest")||dist$2.XMLHttpRequest;class HTTPConnection extends EventEmitter{constructor(ee){super();this.url=ee}formatError(ee,re,ne=-1){return{error:{message:re,code:ne},id:ee.id,jsonrpc:ee.jsonrpc}}send(ee,re){return new Promise(ne=>{if(ee.method==="eth_subscribe"){const ae=this.formatError(ee,"Subscriptions are not supported by this HTTP endpoint");return this.emit("error",ae),ne(ae)}const ie=new XHR;let oe=!1;const se=(ae,fe)=>{if(!oe)if(ie.abort(),oe=!0,re)re(ae,fe);else{const{id:ue,jsonrpc:le}=ee,pe=ae?{id:ue,jsonrpc:le,error:{message:ae.message,code:ae.code}}:{id:ue,jsonrpc:le,result:fe};this.emit("payload",pe),ne(pe)}};ie.open("POST",this.url,!0),ie.setRequestHeader("Content-Type","application/json"),ie.timeout=60*1e3,ie.onerror=se,ie.ontimeout=se,ie.onreadystatechange=()=>{if(ie.readyState===4)try{const ae=JSON.parse(ie.responseText);se(ae.error,ae.result)}catch(ae){se(ae)}},ie.send(JSON.stringify(ee))})}}const ProviderEngine=web3ProviderEngine,CacheSubprovider=cache,FixtureSubprovider=fixture,FilterSubprovider=filters,HookedWalletSubprovider=hookedWallet,NonceSubprovider=nonceTracker,SubscriptionsSubprovider=subscriptions;class WalletConnectProvider extends ProviderEngine{constructor(ee){super({pollingInterval:ee.pollingInterval||8e3});if(this.bridge="https://bridge.walletconnect.org",this.qrcode=!0,this.qrcodeModal=cjs,this.qrcodeModalOptions=void 0,this.rpc=null,this.infuraId="",this.http=null,this.isConnecting=!1,this.connected=!1,this.connectCallbacks=[],this.accounts=[],this.chainId=1,this.rpcUrl="",this.enable=async()=>{const re=await this.getWalletConnector();if(re)return this.start(),this.subscribeWalletConnector(),re.accounts;throw new Error("Failed to connect to WalleConnect")},this.request=async re=>this.send(re),this.send=async(re,ne)=>{if(typeof re=="string"){const ie=re;let oe=ne;return ie==="personal_sign"&&(oe=parsePersonalSign(oe)),this.sendAsyncPromise(ie,oe)}if(re=Object.assign({id:payloadId(),jsonrpc:"2.0"},re),re.method==="personal_sign"&&(re.params=parsePersonalSign(re.params)),ne){this.sendAsync(re,ne);return}return this.sendAsyncPromise(re.method,re.params)},this.onConnect=re=>{this.connectCallbacks.push(re)},this.triggerConnect=re=>{this.connectCallbacks&&this.connectCallbacks.length&&this.connectCallbacks.forEach(ne=>ne(re))},this.bridge=ee.connector?ee.connector.bridge:ee.bridge||"https://bridge.walletconnect.org",this.qrcode=typeof ee.qrcode=="undefined"||ee.qrcode!==!1,this.qrcodeModal=ee.qrcodeModal||this.qrcodeModal,this.qrcodeModalOptions=ee.qrcodeModalOptions,this.wc=ee.connector||new WalletConnect({bridge:this.bridge,qrcodeModal:this.qrcode?this.qrcodeModal:void 0,qrcodeModalOptions:this.qrcodeModalOptions,storageId:ee==null?void 0:ee.storageId,signingMethods:ee==null?void 0:ee.signingMethods,clientMeta:ee==null?void 0:ee.clientMeta}),this.rpc=ee.rpc||null,!this.rpc&&(!ee.infuraId||typeof ee.infuraId!="string"||!ee.infuraId.trim()))throw new Error("Missing one of the required parameters: rpc or infuraId");this.infuraId=ee.infuraId||"",this.chainId=(ee==null?void 0:ee.chainId)||this.chainId,this.initialize()}get isWalletConnect(){return!0}get connector(){return this.wc}get walletMeta(){return this.wc.peerMeta}async disconnect(){this.close()}async close(){await(await this.getWalletConnector({disableSessionCreation:!0})).killSession(),await this.onDisconnect()}async handleRequest(ee){try{let re,ne=null;const ie=await this.getWalletConnector();switch(ee.method){case"wc_killSession":await this.close(),ne=null;break;case"eth_accounts":ne=ie.accounts;break;case"eth_coinbase":ne=ie.accounts[0];break;case"eth_chainId":ne=ie.chainId;break;case"net_version":ne=ie.chainId;break;case"eth_uninstallFilter":this.sendAsync(ee,oe=>oe),ne=!0;break;default:re=await this.handleOtherRequests(ee)}return re||this.formatResponse(ee,ne)}catch(re){throw this.emit("error",re),re}}async handleOtherRequests(ee){if(!signingMethods.includes(ee.method)&&ee.method.startsWith("eth_"))return this.handleReadRequests(ee);const ne=await(await this.getWalletConnector()).sendCustomRequest(ee);return this.formatResponse(ee,ne)}async handleReadRequests(ee){if(!this.http){const re=new Error("HTTP Connection not available");throw this.emit("error",re),re}return this.http.send(ee)}formatResponse(ee,re){return{id:ee.id,jsonrpc:ee.jsonrpc,result:re}}getWalletConnector(ee={}){const{disableSessionCreation:re=!1}=ee;return new Promise((ne,ie)=>{const oe=this.wc;this.isConnecting?this.onConnect(se=>ne(se)):!oe.connected&&!re?(this.isConnecting=!0,oe.on("modal_closed",()=>{ie(new Error("User closed modal"))}),oe.createSession({chainId:this.chainId}).then(()=>{oe.on("connect",(se,ae)=>{if(se)return this.isConnecting=!1,ie(se);this.isConnecting=!1,this.connected=!0,ae&&this.updateState(ae.params[0]),this.emit("connect"),this.triggerConnect(oe),ne(oe)})}).catch(se=>{this.isConnecting=!1,ie(se)})):(this.connected||(this.connected=!0,this.updateState(oe.session)),ne(oe))})}async subscribeWalletConnector(){const ee=await this.getWalletConnector();ee.on("disconnect",re=>{if(re){this.emit("error",re);return}this.onDisconnect()}),ee.on("session_update",(re,ne)=>{if(re){this.emit("error",re);return}this.updateState(ne.params[0])})}async onDisconnect(){await this.stop(),this.emit("close",1e3,"Connection closed"),this.emit("disconnect",1e3,"Connection disconnected"),this.connected=!1}async updateState(ee){const{accounts:re,chainId:ne,networkId:ie,rpcUrl:oe}=ee;(!this.accounts||re&&this.accounts!==re)&&(this.accounts=re,this.emit("accountsChanged",re)),(!this.chainId||ne&&this.chainId!==ne)&&(this.chainId=ne,this.emit("chainChanged",ne)),(!this.networkId||ie&&this.networkId!==ie)&&(this.networkId=ie,this.emit("networkChanged",ie)),this.updateRpcUrl(this.chainId,oe||"")}updateRpcUrl(ee,re=""){const ne={infuraId:this.infuraId,custom:this.rpc||void 0};re=re||getRpcUrl(ee,ne),re?(this.rpcUrl=re,this.updateHttpConnection()):this.emit("error",new Error(`No RPC Url available for chainId: ${ee}`))}updateHttpConnection(){this.rpcUrl&&(this.http=new HTTPConnection(this.rpcUrl),this.http.on("payload",ee=>this.emit("payload",ee)),this.http.on("error",ee=>this.emit("error",ee)))}sendAsyncPromise(ee,re){return new Promise((ne,ie)=>{this.sendAsync({id:payloadId(),jsonrpc:"2.0",method:ee,params:re||[]},(oe,se)=>{if(oe){ie(oe);return}ne(se.result)})})}initialize(){this.updateRpcUrl(this.chainId),this.addProvider(new FixtureSubprovider({eth_hashrate:"0x00",eth_mining:!1,eth_syncing:!0,net_listening:!0,web3_clientVersion:"WalletConnect/v1.x.x/javascript"})),this.addProvider(new CacheSubprovider),this.addProvider(new SubscriptionsSubprovider),this.addProvider(new FilterSubprovider),this.addProvider(new NonceSubprovider),this.addProvider(new HookedWalletSubprovider(this.configWallet())),this.addProvider({handleRequest:async(ee,re,ne)=>{try{const{error:ie,result:oe}=await this.handleRequest(ee);ne(ie,oe)}catch(ie){ne(ie)}},setEngine:ee=>ee})}configWallet(){return{getAccounts:async ee=>{try{const ne=(await this.getWalletConnector()).accounts;ne&&ne.length?ee(null,ne):ee(new Error("Failed to get accounts"))}catch(re){ee(re)}},processMessage:async(ee,re)=>{try{const ie=await(await this.getWalletConnector()).signMessage([ee.from,ee.data]);re(null,ie)}catch(ne){re(ne)}},processPersonalMessage:async(ee,re)=>{try{const ie=await(await this.getWalletConnector()).signPersonalMessage([ee.data,ee.from]);re(null,ie)}catch(ne){re(ne)}},processSignTransaction:async(ee,re)=>{try{const ie=await(await this.getWalletConnector()).signTransaction(ee);re(null,ie)}catch(ne){re(ne)}},processTransaction:async(ee,re)=>{try{const ie=await(await this.getWalletConnector()).sendTransaction(ee);re(null,ie)}catch(ne){re(ne)}},processTypedMessage:async(ee,re)=>{try{const ie=await(await this.getWalletConnector()).signTypedData([ee.from,ee.data]);re(null,ie)}catch(ne){re(ne)}}}}}var dist$1={},WalletLinkProvider$1={},bn$1={exports:{}};(function(te){(function(ee,re){function ne(ve,ce){if(!ve)throw new Error(ce||"Assertion failed")}function ie(ve,ce){ve.super_=ce;var me=function(){};me.prototype=ce.prototype,ve.prototype=new me,ve.prototype.constructor=ve}function oe(ve,ce,me){if(oe.isBN(ve))return ve;this.negative=0,this.words=null,this.length=0,this.red=null,ve!==null&&((ce==="le"||ce==="be")&&(me=ce,ce=10),this._init(ve||0,ce||10,me||"be"))}typeof ee=="object"?ee.exports=oe:re.BN=oe,oe.BN=oe,oe.wordSize=26;var se;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?se=window.Buffer:se=require("buffer").Buffer}catch{}oe.isBN=function(ce){return ce instanceof oe?!0:ce!==null&&typeof ce=="object"&&ce.constructor.wordSize===oe.wordSize&&Array.isArray(ce.words)},oe.max=function(ce,me){return ce.cmp(me)>0?ce:me},oe.min=function(ce,me){return ce.cmp(me)<0?ce:me},oe.prototype._init=function(ce,me,ir){if(typeof ce=="number")return this._initNumber(ce,me,ir);if(typeof ce=="object")return this._initArray(ce,me,ir);me==="hex"&&(me=16),ne(me===(me|0)&&me>=2&&me<=36),ce=ce.toString().replace(/\s+/g,"");var ur=0;ce[0]==="-"&&(ur++,this.negative=1),ur<ce.length&&(me===16?this._parseHex(ce,ur,ir):(this._parseBase(ce,me,ur),ir==="le"&&this._initArray(this.toArray(),me,ir)))},oe.prototype._initNumber=function(ce,me,ir){ce<0&&(this.negative=1,ce=-ce),ce<67108864?(this.words=[ce&67108863],this.length=1):ce<4503599627370496?(this.words=[ce&67108863,ce/67108864&67108863],this.length=2):(ne(ce<9007199254740992),this.words=[ce&67108863,ce/67108864&67108863,1],this.length=3),ir==="le"&&this._initArray(this.toArray(),me,ir)},oe.prototype._initArray=function(ce,me,ir){if(ne(typeof ce.length=="number"),ce.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(ce.length/3),this.words=new Array(this.length);for(var ur=0;ur<this.length;ur++)this.words[ur]=0;var lr,er,nr=0;if(ir==="be")for(ur=ce.length-1,lr=0;ur>=0;ur-=3)er=ce[ur]|ce[ur-1]<<8|ce[ur-2]<<16,this.words[lr]|=er<<nr&67108863,this.words[lr+1]=er>>>26-nr&67108863,nr+=24,nr>=26&&(nr-=26,lr++);else if(ir==="le")for(ur=0,lr=0;ur<ce.length;ur+=3)er=ce[ur]|ce[ur+1]<<8|ce[ur+2]<<16,this.words[lr]|=er<<nr&67108863,this.words[lr+1]=er>>>26-nr&67108863,nr+=24,nr>=26&&(nr-=26,lr++);return this._strip()};function ae(ve,ce){var me=ve.charCodeAt(ce);if(me>=48&&me<=57)return me-48;if(me>=65&&me<=70)return me-55;if(me>=97&&me<=102)return me-87;ne(!1,"Invalid character in "+ve)}function fe(ve,ce,me){var ir=ae(ve,me);return me-1>=ce&&(ir|=ae(ve,me-1)<<4),ir}oe.prototype._parseHex=function(ce,me,ir){this.length=Math.ceil((ce.length-me)/6),this.words=new Array(this.length);for(var ur=0;ur<this.length;ur++)this.words[ur]=0;var lr=0,er=0,nr;if(ir==="be")for(ur=ce.length-1;ur>=me;ur-=2)nr=fe(ce,me,ur)<<lr,this.words[er]|=nr&67108863,lr>=18?(lr-=18,er+=1,this.words[er]|=nr>>>26):lr+=8;else{var or=ce.length-me;for(ur=or%2===0?me+1:me;ur<ce.length;ur+=2)nr=fe(ce,me,ur)<<lr,this.words[er]|=nr&67108863,lr>=18?(lr-=18,er+=1,this.words[er]|=nr>>>26):lr+=8}this._strip()};function ue(ve,ce,me,ir){for(var ur=0,lr=0,er=Math.min(ve.length,me),nr=ce;nr<er;nr++){var or=ve.charCodeAt(nr)-48;ur*=ir,or>=49?lr=or-49+10:or>=17?lr=or-17+10:lr=or,ne(or>=0&&lr<ir,"Invalid character"),ur+=lr}return ur}oe.prototype._parseBase=function(ce,me,ir){this.words=[0],this.length=1;for(var ur=0,lr=1;lr<=67108863;lr*=me)ur++;ur--,lr=lr/me|0;for(var er=ce.length-ir,nr=er%ur,or=Math.min(er,er-nr)+ir,ye=0,gr=ir;gr<or;gr+=ur)ye=ue(ce,gr,gr+ur,me),this.imuln(lr),this.words[0]+ye<67108864?this.words[0]+=ye:this._iaddn(ye);if(nr!==0){var Ar=1;for(ye=ue(ce,gr,ce.length,me),gr=0;gr<nr;gr++)Ar*=me;this.imuln(Ar),this.words[0]+ye<67108864?this.words[0]+=ye:this._iaddn(ye)}this._strip()},oe.prototype.copy=function(ce){ce.words=new Array(this.length);for(var me=0;me<this.length;me++)ce.words[me]=this.words[me];ce.length=this.length,ce.negative=this.negative,ce.red=this.red};function le(ve,ce){ve.words=ce.words,ve.length=ce.length,ve.negative=ce.negative,ve.red=ce.red}if(oe.prototype._move=function(ce){le(ce,this)},oe.prototype.clone=function(){var ce=new oe(null);return this.copy(ce),ce},oe.prototype._expand=function(ce){for(;this.length<ce;)this.words[this.length++]=0;return this},oe.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},oe.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{oe.prototype[Symbol.for("nodejs.util.inspect.custom")]=pe}catch{oe.prototype.inspect=pe}else oe.prototype.inspect=pe;function pe(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var rr=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],cr=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ar=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];oe.prototype.toString=function(ce,me){ce=ce||10,me=me|0||1;var ir;if(ce===16||ce==="hex"){ir="";for(var ur=0,lr=0,er=0;er<this.length;er++){var nr=this.words[er],or=((nr<<ur|lr)&16777215).toString(16);lr=nr>>>24-ur&16777215,lr!==0||er!==this.length-1?ir=rr[6-or.length]+or+ir:ir=or+ir,ur+=2,ur>=26&&(ur-=26,er--)}for(lr!==0&&(ir=lr.toString(16)+ir);ir.length%me!==0;)ir="0"+ir;return this.negative!==0&&(ir="-"+ir),ir}if(ce===(ce|0)&&ce>=2&&ce<=36){var ye=cr[ce],gr=ar[ce];ir="";var Ar=this.clone();for(Ar.negative=0;!Ar.isZero();){var br=Ar.modrn(gr).toString(ce);Ar=Ar.idivn(gr),Ar.isZero()?ir=br+ir:ir=rr[ye-br.length]+br+ir}for(this.isZero()&&(ir="0"+ir);ir.length%me!==0;)ir="0"+ir;return this.negative!==0&&(ir="-"+ir),ir}ne(!1,"Base should be between 2 and 36")},oe.prototype.toNumber=function(){var ce=this.words[0];return this.length===2?ce+=this.words[1]*67108864:this.length===3&&this.words[2]===1?ce+=4503599627370496+this.words[1]*67108864:this.length>2&&ne(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-ce:ce},oe.prototype.toJSON=function(){return this.toString(16,2)},se&&(oe.prototype.toBuffer=function(ce,me){return this.toArrayLike(se,ce,me)}),oe.prototype.toArray=function(ce,me){return this.toArrayLike(Array,ce,me)};var mr=function(ce,me){return ce.allocUnsafe?ce.allocUnsafe(me):new ce(me)};oe.prototype.toArrayLike=function(ce,me,ir){this._strip();var ur=this.byteLength(),lr=ir||Math.max(1,ur);ne(ur<=lr,"byte array longer than desired length"),ne(lr>0,"Requested array length <= 0");var er=mr(ce,lr),nr=me==="le"?"LE":"BE";return this["_toArrayLike"+nr](er,ur),er},oe.prototype._toArrayLikeLE=function(ce,me){for(var ir=0,ur=0,lr=0,er=0;lr<this.length;lr++){var nr=this.words[lr]<<er|ur;ce[ir++]=nr&255,ir<ce.length&&(ce[ir++]=nr>>8&255),ir<ce.length&&(ce[ir++]=nr>>16&255),er===6?(ir<ce.length&&(ce[ir++]=nr>>24&255),ur=0,er=0):(ur=nr>>>24,er+=2)}if(ir<ce.length)for(ce[ir++]=ur;ir<ce.length;)ce[ir++]=0},oe.prototype._toArrayLikeBE=function(ce,me){for(var ir=ce.length-1,ur=0,lr=0,er=0;lr<this.length;lr++){var nr=this.words[lr]<<er|ur;ce[ir--]=nr&255,ir>=0&&(ce[ir--]=nr>>8&255),ir>=0&&(ce[ir--]=nr>>16&255),er===6?(ir>=0&&(ce[ir--]=nr>>24&255),ur=0,er=0):(ur=nr>>>24,er+=2)}if(ir>=0)for(ce[ir--]=ur;ir>=0;)ce[ir--]=0},Math.clz32?oe.prototype._countBits=function(ce){return 32-Math.clz32(ce)}:oe.prototype._countBits=function(ce){var me=ce,ir=0;return me>=4096&&(ir+=13,me>>>=13),me>=64&&(ir+=7,me>>>=7),me>=8&&(ir+=4,me>>>=4),me>=2&&(ir+=2,me>>>=2),ir+me},oe.prototype._zeroBits=function(ce){if(ce===0)return 26;var me=ce,ir=0;return(me&8191)===0&&(ir+=13,me>>>=13),(me&127)===0&&(ir+=7,me>>>=7),(me&15)===0&&(ir+=4,me>>>=4),(me&3)===0&&(ir+=2,me>>>=2),(me&1)===0&&ir++,ir},oe.prototype.bitLength=function(){var ce=this.words[this.length-1],me=this._countBits(ce);return(this.length-1)*26+me};function pr(ve){for(var ce=new Array(ve.bitLength()),me=0;me<ce.length;me++){var ir=me/26|0,ur=me%26;ce[me]=ve.words[ir]>>>ur&1}return ce}oe.prototype.zeroBits=function(){if(this.isZero())return 0;for(var ce=0,me=0;me<this.length;me++){var ir=this._zeroBits(this.words[me]);if(ce+=ir,ir!==26)break}return ce},oe.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},oe.prototype.toTwos=function(ce){return this.negative!==0?this.abs().inotn(ce).iaddn(1):this.clone()},oe.prototype.fromTwos=function(ce){return this.testn(ce-1)?this.notn(ce).iaddn(1).ineg():this.clone()},oe.prototype.isNeg=function(){return this.negative!==0},oe.prototype.neg=function(){return this.clone().ineg()},oe.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},oe.prototype.iuor=function(ce){for(;this.length<ce.length;)this.words[this.length++]=0;for(var me=0;me<ce.length;me++)this.words[me]=this.words[me]|ce.words[me];return this._strip()},oe.prototype.ior=function(ce){return ne((this.negative|ce.negative)===0),this.iuor(ce)},oe.prototype.or=function(ce){return this.length>ce.length?this.clone().ior(ce):ce.clone().ior(this)},oe.prototype.uor=function(ce){return this.length>ce.length?this.clone().iuor(ce):ce.clone().iuor(this)},oe.prototype.iuand=function(ce){var me;this.length>ce.length?me=ce:me=this;for(var ir=0;ir<me.length;ir++)this.words[ir]=this.words[ir]&ce.words[ir];return this.length=me.length,this._strip()},oe.prototype.iand=function(ce){return ne((this.negative|ce.negative)===0),this.iuand(ce)},oe.prototype.and=function(ce){return this.length>ce.length?this.clone().iand(ce):ce.clone().iand(this)},oe.prototype.uand=function(ce){return this.length>ce.length?this.clone().iuand(ce):ce.clone().iuand(this)},oe.prototype.iuxor=function(ce){var me,ir;this.length>ce.length?(me=this,ir=ce):(me=ce,ir=this);for(var ur=0;ur<ir.length;ur++)this.words[ur]=me.words[ur]^ir.words[ur];if(this!==me)for(;ur<me.length;ur++)this.words[ur]=me.words[ur];return this.length=me.length,this._strip()},oe.prototype.ixor=function(ce){return ne((this.negative|ce.negative)===0),this.iuxor(ce)},oe.prototype.xor=function(ce){return this.length>ce.length?this.clone().ixor(ce):ce.clone().ixor(this)},oe.prototype.uxor=function(ce){return this.length>ce.length?this.clone().iuxor(ce):ce.clone().iuxor(this)},oe.prototype.inotn=function(ce){ne(typeof ce=="number"&&ce>=0);var me=Math.ceil(ce/26)|0,ir=ce%26;this._expand(me),ir>0&&me--;for(var ur=0;ur<me;ur++)this.words[ur]=~this.words[ur]&67108863;return ir>0&&(this.words[ur]=~this.words[ur]&67108863>>26-ir),this._strip()},oe.prototype.notn=function(ce){return this.clone().inotn(ce)},oe.prototype.setn=function(ce,me){ne(typeof ce=="number"&&ce>=0);var ir=ce/26|0,ur=ce%26;return this._expand(ir+1),me?this.words[ir]=this.words[ir]|1<<ur:this.words[ir]=this.words[ir]&~(1<<ur),this._strip()},oe.prototype.iadd=function(ce){var me;if(this.negative!==0&&ce.negative===0)return this.negative=0,me=this.isub(ce),this.negative^=1,this._normSign();if(this.negative===0&&ce.negative!==0)return ce.negative=0,me=this.isub(ce),ce.negative=1,me._normSign();var ir,ur;this.length>ce.length?(ir=this,ur=ce):(ir=ce,ur=this);for(var lr=0,er=0;er<ur.length;er++)me=(ir.words[er]|0)+(ur.words[er]|0)+lr,this.words[er]=me&67108863,lr=me>>>26;for(;lr!==0&&er<ir.length;er++)me=(ir.words[er]|0)+lr,this.words[er]=me&67108863,lr=me>>>26;if(this.length=ir.length,lr!==0)this.words[this.length]=lr,this.length++;else if(ir!==this)for(;er<ir.length;er++)this.words[er]=ir.words[er];return this},oe.prototype.add=function(ce){var me;return ce.negative!==0&&this.negative===0?(ce.negative=0,me=this.sub(ce),ce.negative^=1,me):ce.negative===0&&this.negative!==0?(this.negative=0,me=ce.sub(this),this.negative=1,me):this.length>ce.length?this.clone().iadd(ce):ce.clone().iadd(this)},oe.prototype.isub=function(ce){if(ce.negative!==0){ce.negative=0;var me=this.iadd(ce);return ce.negative=1,me._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(ce),this.negative=1,this._normSign();var ir=this.cmp(ce);if(ir===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ur,lr;ir>0?(ur=this,lr=ce):(ur=ce,lr=this);for(var er=0,nr=0;nr<lr.length;nr++)me=(ur.words[nr]|0)-(lr.words[nr]|0)+er,er=me>>26,this.words[nr]=me&67108863;for(;er!==0&&nr<ur.length;nr++)me=(ur.words[nr]|0)+er,er=me>>26,this.words[nr]=me&67108863;if(er===0&&nr<ur.length&&ur!==this)for(;nr<ur.length;nr++)this.words[nr]=ur.words[nr];return this.length=Math.max(this.length,nr),ur!==this&&(this.negative=1),this._strip()},oe.prototype.sub=function(ce){return this.clone().isub(ce)};function yr(ve,ce,me){me.negative=ce.negative^ve.negative;var ir=ve.length+ce.length|0;me.length=ir,ir=ir-1|0;var ur=ve.words[0]|0,lr=ce.words[0]|0,er=ur*lr,nr=er&67108863,or=er/67108864|0;me.words[0]=nr;for(var ye=1;ye<ir;ye++){for(var gr=or>>>26,Ar=or&67108863,br=Math.min(ye,ce.length-1),Cr=Math.max(0,ye-ve.length+1);Cr<=br;Cr++){var Lr=ye-Cr|0;ur=ve.words[Lr]|0,lr=ce.words[Cr]|0,er=ur*lr+Ar,gr+=er/67108864|0,Ar=er&67108863}me.words[ye]=Ar|0,or=gr|0}return or!==0?me.words[ye]=or|0:me.length--,me._strip()}var vr=function(ce,me,ir){var ur=ce.words,lr=me.words,er=ir.words,nr=0,or,ye,gr,Ar=ur[0]|0,br=Ar&8191,Cr=Ar>>>13,Lr=ur[1]|0,Dr=Lr&8191,Wr=Lr>>>13,Qr=ur[2]|0,Zr=Qr&8191,Xr=Qr>>>13,Fr=ur[3]|0,Ur=Fr&8191,Kr=Fr>>>13,kr=ur[4]|0,_r=kr&8191,$r=kr>>>13,Mr=ur[5]|0,jr=Mr&8191,qr=Mr>>>13,Jr=ur[6]|0,qn=Jr&8191,zn=Jr>>>13,Xn=ur[7]|0,Jn=Xn&8191,Rr=Xn>>>13,xr=ur[8]|0,wr=xr&8191,Sr=xr>>>13,Gr=ur[9]|0,Vr=Gr&8191,Yr=Gr>>>13,Qn=lr[0]|0,ei=Qn&8191,Zn=Qn>>>13,bi=lr[1]|0,ti=bi&8191,ri=bi>>>13,xi=lr[2]|0,li=xi&8191,ni=xi>>>13,wi=lr[3]|0,ci=wi&8191,ii=wi>>>13,$i=lr[4]|0,hi=$i&8191,oi=$i>>>13,Ei=lr[5]|0,di=Ei&8191,si=Ei>>>13,Si=lr[6]|0,pi=Si&8191,ai=Si>>>13,Ai=lr[7]|0,gi=Ai&8191,fi=Ai>>>13,Ri=lr[8]|0,mi=Ri&8191,ui=Ri>>>13,_i=lr[9]|0,yi=_i&8191,vi=_i>>>13;ir.negative=ce.negative^me.negative,ir.length=19,or=Math.imul(br,ei),ye=Math.imul(br,Zn),ye=ye+Math.imul(Cr,ei)|0,gr=Math.imul(Cr,Zn);var Ni=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,or=Math.imul(Dr,ei),ye=Math.imul(Dr,Zn),ye=ye+Math.imul(Wr,ei)|0,gr=Math.imul(Wr,Zn),or=or+Math.imul(br,ti)|0,ye=ye+Math.imul(br,ri)|0,ye=ye+Math.imul(Cr,ti)|0,gr=gr+Math.imul(Cr,ri)|0;var Mi=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,or=Math.imul(Zr,ei),ye=Math.imul(Zr,Zn),ye=ye+Math.imul(Xr,ei)|0,gr=Math.imul(Xr,Zn),or=or+Math.imul(Dr,ti)|0,ye=ye+Math.imul(Dr,ri)|0,ye=ye+Math.imul(Wr,ti)|0,gr=gr+Math.imul(Wr,ri)|0,or=or+Math.imul(br,li)|0,ye=ye+Math.imul(br,ni)|0,ye=ye+Math.imul(Cr,li)|0,gr=gr+Math.imul(Cr,ni)|0;var Ci=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(Ci>>>26)|0,Ci&=67108863,or=Math.imul(Ur,ei),ye=Math.imul(Ur,Zn),ye=ye+Math.imul(Kr,ei)|0,gr=Math.imul(Kr,Zn),or=or+Math.imul(Zr,ti)|0,ye=ye+Math.imul(Zr,ri)|0,ye=ye+Math.imul(Xr,ti)|0,gr=gr+Math.imul(Xr,ri)|0,or=or+Math.imul(Dr,li)|0,ye=ye+Math.imul(Dr,ni)|0,ye=ye+Math.imul(Wr,li)|0,gr=gr+Math.imul(Wr,ni)|0,or=or+Math.imul(br,ci)|0,ye=ye+Math.imul(br,ii)|0,ye=ye+Math.imul(Cr,ci)|0,gr=gr+Math.imul(Cr,ii)|0;var Ti=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,or=Math.imul(_r,ei),ye=Math.imul(_r,Zn),ye=ye+Math.imul($r,ei)|0,gr=Math.imul($r,Zn),or=or+Math.imul(Ur,ti)|0,ye=ye+Math.imul(Ur,ri)|0,ye=ye+Math.imul(Kr,ti)|0,gr=gr+Math.imul(Kr,ri)|0,or=or+Math.imul(Zr,li)|0,ye=ye+Math.imul(Zr,ni)|0,ye=ye+Math.imul(Xr,li)|0,gr=gr+Math.imul(Xr,ni)|0,or=or+Math.imul(Dr,ci)|0,ye=ye+Math.imul(Dr,ii)|0,ye=ye+Math.imul(Wr,ci)|0,gr=gr+Math.imul(Wr,ii)|0,or=or+Math.imul(br,hi)|0,ye=ye+Math.imul(br,oi)|0,ye=ye+Math.imul(Cr,hi)|0,gr=gr+Math.imul(Cr,oi)|0;var ki=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(ki>>>26)|0,ki&=67108863,or=Math.imul(jr,ei),ye=Math.imul(jr,Zn),ye=ye+Math.imul(qr,ei)|0,gr=Math.imul(qr,Zn),or=or+Math.imul(_r,ti)|0,ye=ye+Math.imul(_r,ri)|0,ye=ye+Math.imul($r,ti)|0,gr=gr+Math.imul($r,ri)|0,or=or+Math.imul(Ur,li)|0,ye=ye+Math.imul(Ur,ni)|0,ye=ye+Math.imul(Kr,li)|0,gr=gr+Math.imul(Kr,ni)|0,or=or+Math.imul(Zr,ci)|0,ye=ye+Math.imul(Zr,ii)|0,ye=ye+Math.imul(Xr,ci)|0,gr=gr+Math.imul(Xr,ii)|0,or=or+Math.imul(Dr,hi)|0,ye=ye+Math.imul(Dr,oi)|0,ye=ye+Math.imul(Wr,hi)|0,gr=gr+Math.imul(Wr,oi)|0,or=or+Math.imul(br,di)|0,ye=ye+Math.imul(br,si)|0,ye=ye+Math.imul(Cr,di)|0,gr=gr+Math.imul(Cr,si)|0;var Ii=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,or=Math.imul(qn,ei),ye=Math.imul(qn,Zn),ye=ye+Math.imul(zn,ei)|0,gr=Math.imul(zn,Zn),or=or+Math.imul(jr,ti)|0,ye=ye+Math.imul(jr,ri)|0,ye=ye+Math.imul(qr,ti)|0,gr=gr+Math.imul(qr,ri)|0,or=or+Math.imul(_r,li)|0,ye=ye+Math.imul(_r,ni)|0,ye=ye+Math.imul($r,li)|0,gr=gr+Math.imul($r,ni)|0,or=or+Math.imul(Ur,ci)|0,ye=ye+Math.imul(Ur,ii)|0,ye=ye+Math.imul(Kr,ci)|0,gr=gr+Math.imul(Kr,ii)|0,or=or+Math.imul(Zr,hi)|0,ye=ye+Math.imul(Zr,oi)|0,ye=ye+Math.imul(Xr,hi)|0,gr=gr+Math.imul(Xr,oi)|0,or=or+Math.imul(Dr,di)|0,ye=ye+Math.imul(Dr,si)|0,ye=ye+Math.imul(Wr,di)|0,gr=gr+Math.imul(Wr,si)|0,or=or+Math.imul(br,pi)|0,ye=ye+Math.imul(br,ai)|0,ye=ye+Math.imul(Cr,pi)|0,gr=gr+Math.imul(Cr,ai)|0;var Pi=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(Pi>>>26)|0,Pi&=67108863,or=Math.imul(Jn,ei),ye=Math.imul(Jn,Zn),ye=ye+Math.imul(Rr,ei)|0,gr=Math.imul(Rr,Zn),or=or+Math.imul(qn,ti)|0,ye=ye+Math.imul(qn,ri)|0,ye=ye+Math.imul(zn,ti)|0,gr=gr+Math.imul(zn,ri)|0,or=or+Math.imul(jr,li)|0,ye=ye+Math.imul(jr,ni)|0,ye=ye+Math.imul(qr,li)|0,gr=gr+Math.imul(qr,ni)|0,or=or+Math.imul(_r,ci)|0,ye=ye+Math.imul(_r,ii)|0,ye=ye+Math.imul($r,ci)|0,gr=gr+Math.imul($r,ii)|0,or=or+Math.imul(Ur,hi)|0,ye=ye+Math.imul(Ur,oi)|0,ye=ye+Math.imul(Kr,hi)|0,gr=gr+Math.imul(Kr,oi)|0,or=or+Math.imul(Zr,di)|0,ye=ye+Math.imul(Zr,si)|0,ye=ye+Math.imul(Xr,di)|0,gr=gr+Math.imul(Xr,si)|0,or=or+Math.imul(Dr,pi)|0,ye=ye+Math.imul(Dr,ai)|0,ye=ye+Math.imul(Wr,pi)|0,gr=gr+Math.imul(Wr,ai)|0,or=or+Math.imul(br,gi)|0,ye=ye+Math.imul(br,fi)|0,ye=ye+Math.imul(Cr,gi)|0,gr=gr+Math.imul(Cr,fi)|0;var Oi=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(Oi>>>26)|0,Oi&=67108863,or=Math.imul(wr,ei),ye=Math.imul(wr,Zn),ye=ye+Math.imul(Sr,ei)|0,gr=Math.imul(Sr,Zn),or=or+Math.imul(Jn,ti)|0,ye=ye+Math.imul(Jn,ri)|0,ye=ye+Math.imul(Rr,ti)|0,gr=gr+Math.imul(Rr,ri)|0,or=or+Math.imul(qn,li)|0,ye=ye+Math.imul(qn,ni)|0,ye=ye+Math.imul(zn,li)|0,gr=gr+Math.imul(zn,ni)|0,or=or+Math.imul(jr,ci)|0,ye=ye+Math.imul(jr,ii)|0,ye=ye+Math.imul(qr,ci)|0,gr=gr+Math.imul(qr,ii)|0,or=or+Math.imul(_r,hi)|0,ye=ye+Math.imul(_r,oi)|0,ye=ye+Math.imul($r,hi)|0,gr=gr+Math.imul($r,oi)|0,or=or+Math.imul(Ur,di)|0,ye=ye+Math.imul(Ur,si)|0,ye=ye+Math.imul(Kr,di)|0,gr=gr+Math.imul(Kr,si)|0,or=or+Math.imul(Zr,pi)|0,ye=ye+Math.imul(Zr,ai)|0,ye=ye+Math.imul(Xr,pi)|0,gr=gr+Math.imul(Xr,ai)|0,or=or+Math.imul(Dr,gi)|0,ye=ye+Math.imul(Dr,fi)|0,ye=ye+Math.imul(Wr,gi)|0,gr=gr+Math.imul(Wr,fi)|0,or=or+Math.imul(br,mi)|0,ye=ye+Math.imul(br,ui)|0,ye=ye+Math.imul(Cr,mi)|0,gr=gr+Math.imul(Cr,ui)|0;var Bi=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(Bi>>>26)|0,Bi&=67108863,or=Math.imul(Vr,ei),ye=Math.imul(Vr,Zn),ye=ye+Math.imul(Yr,ei)|0,gr=Math.imul(Yr,Zn),or=or+Math.imul(wr,ti)|0,ye=ye+Math.imul(wr,ri)|0,ye=ye+Math.imul(Sr,ti)|0,gr=gr+Math.imul(Sr,ri)|0,or=or+Math.imul(Jn,li)|0,ye=ye+Math.imul(Jn,ni)|0,ye=ye+Math.imul(Rr,li)|0,gr=gr+Math.imul(Rr,ni)|0,or=or+Math.imul(qn,ci)|0,ye=ye+Math.imul(qn,ii)|0,ye=ye+Math.imul(zn,ci)|0,gr=gr+Math.imul(zn,ii)|0,or=or+Math.imul(jr,hi)|0,ye=ye+Math.imul(jr,oi)|0,ye=ye+Math.imul(qr,hi)|0,gr=gr+Math.imul(qr,oi)|0,or=or+Math.imul(_r,di)|0,ye=ye+Math.imul(_r,si)|0,ye=ye+Math.imul($r,di)|0,gr=gr+Math.imul($r,si)|0,or=or+Math.imul(Ur,pi)|0,ye=ye+Math.imul(Ur,ai)|0,ye=ye+Math.imul(Kr,pi)|0,gr=gr+Math.imul(Kr,ai)|0,or=or+Math.imul(Zr,gi)|0,ye=ye+Math.imul(Zr,fi)|0,ye=ye+Math.imul(Xr,gi)|0,gr=gr+Math.imul(Xr,fi)|0,or=or+Math.imul(Dr,mi)|0,ye=ye+Math.imul(Dr,ui)|0,ye=ye+Math.imul(Wr,mi)|0,gr=gr+Math.imul(Wr,ui)|0,or=or+Math.imul(br,yi)|0,ye=ye+Math.imul(br,vi)|0,ye=ye+Math.imul(Cr,yi)|0,gr=gr+Math.imul(Cr,vi)|0;var Li=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(Li>>>26)|0,Li&=67108863,or=Math.imul(Vr,ti),ye=Math.imul(Vr,ri),ye=ye+Math.imul(Yr,ti)|0,gr=Math.imul(Yr,ri),or=or+Math.imul(wr,li)|0,ye=ye+Math.imul(wr,ni)|0,ye=ye+Math.imul(Sr,li)|0,gr=gr+Math.imul(Sr,ni)|0,or=or+Math.imul(Jn,ci)|0,ye=ye+Math.imul(Jn,ii)|0,ye=ye+Math.imul(Rr,ci)|0,gr=gr+Math.imul(Rr,ii)|0,or=or+Math.imul(qn,hi)|0,ye=ye+Math.imul(qn,oi)|0,ye=ye+Math.imul(zn,hi)|0,gr=gr+Math.imul(zn,oi)|0,or=or+Math.imul(jr,di)|0,ye=ye+Math.imul(jr,si)|0,ye=ye+Math.imul(qr,di)|0,gr=gr+Math.imul(qr,si)|0,or=or+Math.imul(_r,pi)|0,ye=ye+Math.imul(_r,ai)|0,ye=ye+Math.imul($r,pi)|0,gr=gr+Math.imul($r,ai)|0,or=or+Math.imul(Ur,gi)|0,ye=ye+Math.imul(Ur,fi)|0,ye=ye+Math.imul(Kr,gi)|0,gr=gr+Math.imul(Kr,fi)|0,or=or+Math.imul(Zr,mi)|0,ye=ye+Math.imul(Zr,ui)|0,ye=ye+Math.imul(Xr,mi)|0,gr=gr+Math.imul(Xr,ui)|0,or=or+Math.imul(Dr,yi)|0,ye=ye+Math.imul(Dr,vi)|0,ye=ye+Math.imul(Wr,yi)|0,gr=gr+Math.imul(Wr,vi)|0;var Di=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(Di>>>26)|0,Di&=67108863,or=Math.imul(Vr,li),ye=Math.imul(Vr,ni),ye=ye+Math.imul(Yr,li)|0,gr=Math.imul(Yr,ni),or=or+Math.imul(wr,ci)|0,ye=ye+Math.imul(wr,ii)|0,ye=ye+Math.imul(Sr,ci)|0,gr=gr+Math.imul(Sr,ii)|0,or=or+Math.imul(Jn,hi)|0,ye=ye+Math.imul(Jn,oi)|0,ye=ye+Math.imul(Rr,hi)|0,gr=gr+Math.imul(Rr,oi)|0,or=or+Math.imul(qn,di)|0,ye=ye+Math.imul(qn,si)|0,ye=ye+Math.imul(zn,di)|0,gr=gr+Math.imul(zn,si)|0,or=or+Math.imul(jr,pi)|0,ye=ye+Math.imul(jr,ai)|0,ye=ye+Math.imul(qr,pi)|0,gr=gr+Math.imul(qr,ai)|0,or=or+Math.imul(_r,gi)|0,ye=ye+Math.imul(_r,fi)|0,ye=ye+Math.imul($r,gi)|0,gr=gr+Math.imul($r,fi)|0,or=or+Math.imul(Ur,mi)|0,ye=ye+Math.imul(Ur,ui)|0,ye=ye+Math.imul(Kr,mi)|0,gr=gr+Math.imul(Kr,ui)|0,or=or+Math.imul(Zr,yi)|0,ye=ye+Math.imul(Zr,vi)|0,ye=ye+Math.imul(Xr,yi)|0,gr=gr+Math.imul(Xr,vi)|0;var Fi=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(Fi>>>26)|0,Fi&=67108863,or=Math.imul(Vr,ci),ye=Math.imul(Vr,ii),ye=ye+Math.imul(Yr,ci)|0,gr=Math.imul(Yr,ii),or=or+Math.imul(wr,hi)|0,ye=ye+Math.imul(wr,oi)|0,ye=ye+Math.imul(Sr,hi)|0,gr=gr+Math.imul(Sr,oi)|0,or=or+Math.imul(Jn,di)|0,ye=ye+Math.imul(Jn,si)|0,ye=ye+Math.imul(Rr,di)|0,gr=gr+Math.imul(Rr,si)|0,or=or+Math.imul(qn,pi)|0,ye=ye+Math.imul(qn,ai)|0,ye=ye+Math.imul(zn,pi)|0,gr=gr+Math.imul(zn,ai)|0,or=or+Math.imul(jr,gi)|0,ye=ye+Math.imul(jr,fi)|0,ye=ye+Math.imul(qr,gi)|0,gr=gr+Math.imul(qr,fi)|0,or=or+Math.imul(_r,mi)|0,ye=ye+Math.imul(_r,ui)|0,ye=ye+Math.imul($r,mi)|0,gr=gr+Math.imul($r,ui)|0,or=or+Math.imul(Ur,yi)|0,ye=ye+Math.imul(Ur,vi)|0,ye=ye+Math.imul(Kr,yi)|0,gr=gr+Math.imul(Kr,vi)|0;var Ui=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,or=Math.imul(Vr,hi),ye=Math.imul(Vr,oi),ye=ye+Math.imul(Yr,hi)|0,gr=Math.imul(Yr,oi),or=or+Math.imul(wr,di)|0,ye=ye+Math.imul(wr,si)|0,ye=ye+Math.imul(Sr,di)|0,gr=gr+Math.imul(Sr,si)|0,or=or+Math.imul(Jn,pi)|0,ye=ye+Math.imul(Jn,ai)|0,ye=ye+Math.imul(Rr,pi)|0,gr=gr+Math.imul(Rr,ai)|0,or=or+Math.imul(qn,gi)|0,ye=ye+Math.imul(qn,fi)|0,ye=ye+Math.imul(zn,gi)|0,gr=gr+Math.imul(zn,fi)|0,or=or+Math.imul(jr,mi)|0,ye=ye+Math.imul(jr,ui)|0,ye=ye+Math.imul(qr,mi)|0,gr=gr+Math.imul(qr,ui)|0,or=or+Math.imul(_r,yi)|0,ye=ye+Math.imul(_r,vi)|0,ye=ye+Math.imul($r,yi)|0,gr=gr+Math.imul($r,vi)|0;var ji=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(ji>>>26)|0,ji&=67108863,or=Math.imul(Vr,di),ye=Math.imul(Vr,si),ye=ye+Math.imul(Yr,di)|0,gr=Math.imul(Yr,si),or=or+Math.imul(wr,pi)|0,ye=ye+Math.imul(wr,ai)|0,ye=ye+Math.imul(Sr,pi)|0,gr=gr+Math.imul(Sr,ai)|0,or=or+Math.imul(Jn,gi)|0,ye=ye+Math.imul(Jn,fi)|0,ye=ye+Math.imul(Rr,gi)|0,gr=gr+Math.imul(Rr,fi)|0,or=or+Math.imul(qn,mi)|0,ye=ye+Math.imul(qn,ui)|0,ye=ye+Math.imul(zn,mi)|0,gr=gr+Math.imul(zn,ui)|0,or=or+Math.imul(jr,yi)|0,ye=ye+Math.imul(jr,vi)|0,ye=ye+Math.imul(qr,yi)|0,gr=gr+Math.imul(qr,vi)|0;var Hi=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,or=Math.imul(Vr,pi),ye=Math.imul(Vr,ai),ye=ye+Math.imul(Yr,pi)|0,gr=Math.imul(Yr,ai),or=or+Math.imul(wr,gi)|0,ye=ye+Math.imul(wr,fi)|0,ye=ye+Math.imul(Sr,gi)|0,gr=gr+Math.imul(Sr,fi)|0,or=or+Math.imul(Jn,mi)|0,ye=ye+Math.imul(Jn,ui)|0,ye=ye+Math.imul(Rr,mi)|0,gr=gr+Math.imul(Rr,ui)|0,or=or+Math.imul(qn,yi)|0,ye=ye+Math.imul(qn,vi)|0,ye=ye+Math.imul(zn,yi)|0,gr=gr+Math.imul(zn,vi)|0;var Wi=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(Wi>>>26)|0,Wi&=67108863,or=Math.imul(Vr,gi),ye=Math.imul(Vr,fi),ye=ye+Math.imul(Yr,gi)|0,gr=Math.imul(Yr,fi),or=or+Math.imul(wr,mi)|0,ye=ye+Math.imul(wr,ui)|0,ye=ye+Math.imul(Sr,mi)|0,gr=gr+Math.imul(Sr,ui)|0,or=or+Math.imul(Jn,yi)|0,ye=ye+Math.imul(Jn,vi)|0,ye=ye+Math.imul(Rr,yi)|0,gr=gr+Math.imul(Rr,vi)|0;var zi=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(zi>>>26)|0,zi&=67108863,or=Math.imul(Vr,mi),ye=Math.imul(Vr,ui),ye=ye+Math.imul(Yr,mi)|0,gr=Math.imul(Yr,ui),or=or+Math.imul(wr,yi)|0,ye=ye+Math.imul(wr,vi)|0,ye=ye+Math.imul(Sr,yi)|0,gr=gr+Math.imul(Sr,vi)|0;var qi=(nr+or|0)+((ye&8191)<<13)|0;nr=(gr+(ye>>>13)|0)+(qi>>>26)|0,qi&=67108863,or=Math.imul(Vr,yi),ye=Math.imul(Vr,vi),ye=ye+Math.imul(Yr,yi)|0,gr=Math.imul(Yr,vi);var Gi=(nr+or|0)+((ye&8191)<<13)|0;return nr=(gr+(ye>>>13)|0)+(Gi>>>26)|0,Gi&=67108863,er[0]=Ni,er[1]=Mi,er[2]=Ci,er[3]=Ti,er[4]=ki,er[5]=Ii,er[6]=Pi,er[7]=Oi,er[8]=Bi,er[9]=Li,er[10]=Di,er[11]=Fi,er[12]=Ui,er[13]=ji,er[14]=Hi,er[15]=Wi,er[16]=zi,er[17]=qi,er[18]=Gi,nr!==0&&(er[19]=nr,ir.length++),ir};Math.imul||(vr=yr);function Er(ve,ce,me){me.negative=ce.negative^ve.negative,me.length=ve.length+ce.length;for(var ir=0,ur=0,lr=0;lr<me.length-1;lr++){var er=ur;ur=0;for(var nr=ir&67108863,or=Math.min(lr,ce.length-1),ye=Math.max(0,lr-ve.length+1);ye<=or;ye++){var gr=lr-ye,Ar=ve.words[gr]|0,br=ce.words[ye]|0,Cr=Ar*br,Lr=Cr&67108863;er=er+(Cr/67108864|0)|0,Lr=Lr+nr|0,nr=Lr&67108863,er=er+(Lr>>>26)|0,ur+=er>>>26,er&=67108863}me.words[lr]=nr,ir=er,er=ur}return ir!==0?me.words[lr]=ir:me.length--,me._strip()}function Tr(ve,ce,me){return Er(ve,ce,me)}oe.prototype.mulTo=function(ce,me){var ir,ur=this.length+ce.length;return this.length===10&&ce.length===10?ir=vr(this,ce,me):ur<63?ir=yr(this,ce,me):ur<1024?ir=Er(this,ce,me):ir=Tr(this,ce,me),ir},oe.prototype.mul=function(ce){var me=new oe(null);return me.words=new Array(this.length+ce.length),this.mulTo(ce,me)},oe.prototype.mulf=function(ce){var me=new oe(null);return me.words=new Array(this.length+ce.length),Tr(this,ce,me)},oe.prototype.imul=function(ce){return this.clone().mulTo(ce,this)},oe.prototype.imuln=function(ce){var me=ce<0;me&&(ce=-ce),ne(typeof ce=="number"),ne(ce<67108864);for(var ir=0,ur=0;ur<this.length;ur++){var lr=(this.words[ur]|0)*ce,er=(lr&67108863)+(ir&67108863);ir>>=26,ir+=lr/67108864|0,ir+=er>>>26,this.words[ur]=er&67108863}return ir!==0&&(this.words[ur]=ir,this.length++),me?this.ineg():this},oe.prototype.muln=function(ce){return this.clone().imuln(ce)},oe.prototype.sqr=function(){return this.mul(this)},oe.prototype.isqr=function(){return this.imul(this.clone())},oe.prototype.pow=function(ce){var me=pr(ce);if(me.length===0)return new oe(1);for(var ir=this,ur=0;ur<me.length&&me[ur]===0;ur++,ir=ir.sqr());if(++ur<me.length)for(var lr=ir.sqr();ur<me.length;ur++,lr=lr.sqr())me[ur]!==0&&(ir=ir.mul(lr));return ir},oe.prototype.iushln=function(ce){ne(typeof ce=="number"&&ce>=0);var me=ce%26,ir=(ce-me)/26,ur=67108863>>>26-me<<26-me,lr;if(me!==0){var er=0;for(lr=0;lr<this.length;lr++){var nr=this.words[lr]&ur,or=(this.words[lr]|0)-nr<<me;this.words[lr]=or|er,er=nr>>>26-me}er&&(this.words[lr]=er,this.length++)}if(ir!==0){for(lr=this.length-1;lr>=0;lr--)this.words[lr+ir]=this.words[lr];for(lr=0;lr<ir;lr++)this.words[lr]=0;this.length+=ir}return this._strip()},oe.prototype.ishln=function(ce){return ne(this.negative===0),this.iushln(ce)},oe.prototype.iushrn=function(ce,me,ir){ne(typeof ce=="number"&&ce>=0);var ur;me?ur=(me-me%26)/26:ur=0;var lr=ce%26,er=Math.min((ce-lr)/26,this.length),nr=67108863^67108863>>>lr<<lr,or=ir;if(ur-=er,ur=Math.max(0,ur),or){for(var ye=0;ye<er;ye++)or.words[ye]=this.words[ye];or.length=er}if(er!==0)if(this.length>er)for(this.length-=er,ye=0;ye<this.length;ye++)this.words[ye]=this.words[ye+er];else this.words[0]=0,this.length=1;var gr=0;for(ye=this.length-1;ye>=0&&(gr!==0||ye>=ur);ye--){var Ar=this.words[ye]|0;this.words[ye]=gr<<26-lr|Ar>>>lr,gr=Ar&nr}return or&&gr!==0&&(or.words[or.length++]=gr),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},oe.prototype.ishrn=function(ce,me,ir){return ne(this.negative===0),this.iushrn(ce,me,ir)},oe.prototype.shln=function(ce){return this.clone().ishln(ce)},oe.prototype.ushln=function(ce){return this.clone().iushln(ce)},oe.prototype.shrn=function(ce){return this.clone().ishrn(ce)},oe.prototype.ushrn=function(ce){return this.clone().iushrn(ce)},oe.prototype.testn=function(ce){ne(typeof ce=="number"&&ce>=0);var me=ce%26,ir=(ce-me)/26,ur=1<<me;if(this.length<=ir)return!1;var lr=this.words[ir];return!!(lr&ur)},oe.prototype.imaskn=function(ce){ne(typeof ce=="number"&&ce>=0);var me=ce%26,ir=(ce-me)/26;if(ne(this.negative===0,"imaskn works only with positive numbers"),this.length<=ir)return this;if(me!==0&&ir++,this.length=Math.min(ir,this.length),me!==0){var ur=67108863^67108863>>>me<<me;this.words[this.length-1]&=ur}return this._strip()},oe.prototype.maskn=function(ce){return this.clone().imaskn(ce)},oe.prototype.iaddn=function(ce){return ne(typeof ce=="number"),ne(ce<67108864),ce<0?this.isubn(-ce):this.negative!==0?this.length===1&&(this.words[0]|0)<=ce?(this.words[0]=ce-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(ce),this.negative=1,this):this._iaddn(ce)},oe.prototype._iaddn=function(ce){this.words[0]+=ce;for(var me=0;me<this.length&&this.words[me]>=67108864;me++)this.words[me]-=67108864,me===this.length-1?this.words[me+1]=1:this.words[me+1]++;return this.length=Math.max(this.length,me+1),this},oe.prototype.isubn=function(ce){if(ne(typeof ce=="number"),ne(ce<67108864),ce<0)return this.iaddn(-ce);if(this.negative!==0)return this.negative=0,this.iaddn(ce),this.negative=1,this;if(this.words[0]-=ce,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var me=0;me<this.length&&this.words[me]<0;me++)this.words[me]+=67108864,this.words[me+1]-=1;return this._strip()},oe.prototype.addn=function(ce){return this.clone().iaddn(ce)},oe.prototype.subn=function(ce){return this.clone().isubn(ce)},oe.prototype.iabs=function(){return this.negative=0,this},oe.prototype.abs=function(){return this.clone().iabs()},oe.prototype._ishlnsubmul=function(ce,me,ir){var ur=ce.length+ir,lr;this._expand(ur);var er,nr=0;for(lr=0;lr<ce.length;lr++){er=(this.words[lr+ir]|0)+nr;var or=(ce.words[lr]|0)*me;er-=or&67108863,nr=(er>>26)-(or/67108864|0),this.words[lr+ir]=er&67108863}for(;lr<this.length-ir;lr++)er=(this.words[lr+ir]|0)+nr,nr=er>>26,this.words[lr+ir]=er&67108863;if(nr===0)return this._strip();for(ne(nr===-1),nr=0,lr=0;lr<this.length;lr++)er=-(this.words[lr]|0)+nr,nr=er>>26,this.words[lr]=er&67108863;return this.negative=1,this._strip()},oe.prototype._wordDiv=function(ce,me){var ir=this.length-ce.length,ur=this.clone(),lr=ce,er=lr.words[lr.length-1]|0,nr=this._countBits(er);ir=26-nr,ir!==0&&(lr=lr.ushln(ir),ur.iushln(ir),er=lr.words[lr.length-1]|0);var or=ur.length-lr.length,ye;if(me!=="mod"){ye=new oe(null),ye.length=or+1,ye.words=new Array(ye.length);for(var gr=0;gr<ye.length;gr++)ye.words[gr]=0}var Ar=ur.clone()._ishlnsubmul(lr,1,or);Ar.negative===0&&(ur=Ar,ye&&(ye.words[or]=1));for(var br=or-1;br>=0;br--){var Cr=(ur.words[lr.length+br]|0)*67108864+(ur.words[lr.length+br-1]|0);for(Cr=Math.min(Cr/er|0,67108863),ur._ishlnsubmul(lr,Cr,br);ur.negative!==0;)Cr--,ur.negative=0,ur._ishlnsubmul(lr,1,br),ur.isZero()||(ur.negative^=1);ye&&(ye.words[br]=Cr)}return ye&&ye._strip(),ur._strip(),me!=="div"&&ir!==0&&ur.iushrn(ir),{div:ye||null,mod:ur}},oe.prototype.divmod=function(ce,me,ir){if(ne(!ce.isZero()),this.isZero())return{div:new oe(0),mod:new oe(0)};var ur,lr,er;return this.negative!==0&&ce.negative===0?(er=this.neg().divmod(ce,me),me!=="mod"&&(ur=er.div.neg()),me!=="div"&&(lr=er.mod.neg(),ir&&lr.negative!==0&&lr.iadd(ce)),{div:ur,mod:lr}):this.negative===0&&ce.negative!==0?(er=this.divmod(ce.neg(),me),me!=="mod"&&(ur=er.div.neg()),{div:ur,mod:er.mod}):(this.negative&ce.negative)!==0?(er=this.neg().divmod(ce.neg(),me),me!=="div"&&(lr=er.mod.neg(),ir&&lr.negative!==0&&lr.isub(ce)),{div:er.div,mod:lr}):ce.length>this.length||this.cmp(ce)<0?{div:new oe(0),mod:this}:ce.length===1?me==="div"?{div:this.divn(ce.words[0]),mod:null}:me==="mod"?{div:null,mod:new oe(this.modrn(ce.words[0]))}:{div:this.divn(ce.words[0]),mod:new oe(this.modrn(ce.words[0]))}:this._wordDiv(ce,me)},oe.prototype.div=function(ce){return this.divmod(ce,"div",!1).div},oe.prototype.mod=function(ce){return this.divmod(ce,"mod",!1).mod},oe.prototype.umod=function(ce){return this.divmod(ce,"mod",!0).mod},oe.prototype.divRound=function(ce){var me=this.divmod(ce);if(me.mod.isZero())return me.div;var ir=me.div.negative!==0?me.mod.isub(ce):me.mod,ur=ce.ushrn(1),lr=ce.andln(1),er=ir.cmp(ur);return er<0||lr===1&&er===0?me.div:me.div.negative!==0?me.div.isubn(1):me.div.iaddn(1)},oe.prototype.modrn=function(ce){var me=ce<0;me&&(ce=-ce),ne(ce<=67108863);for(var ir=(1<<26)%ce,ur=0,lr=this.length-1;lr>=0;lr--)ur=(ir*ur+(this.words[lr]|0))%ce;return me?-ur:ur},oe.prototype.modn=function(ce){return this.modrn(ce)},oe.prototype.idivn=function(ce){var me=ce<0;me&&(ce=-ce),ne(ce<=67108863);for(var ir=0,ur=this.length-1;ur>=0;ur--){var lr=(this.words[ur]|0)+ir*67108864;this.words[ur]=lr/ce|0,ir=lr%ce}return this._strip(),me?this.ineg():this},oe.prototype.divn=function(ce){return this.clone().idivn(ce)},oe.prototype.egcd=function(ce){ne(ce.negative===0),ne(!ce.isZero());var me=this,ir=ce.clone();me.negative!==0?me=me.umod(ce):me=me.clone();for(var ur=new oe(1),lr=new oe(0),er=new oe(0),nr=new oe(1),or=0;me.isEven()&&ir.isEven();)me.iushrn(1),ir.iushrn(1),++or;for(var ye=ir.clone(),gr=me.clone();!me.isZero();){for(var Ar=0,br=1;(me.words[0]&br)===0&&Ar<26;++Ar,br<<=1);if(Ar>0)for(me.iushrn(Ar);Ar-- >0;)(ur.isOdd()||lr.isOdd())&&(ur.iadd(ye),lr.isub(gr)),ur.iushrn(1),lr.iushrn(1);for(var Cr=0,Lr=1;(ir.words[0]&Lr)===0&&Cr<26;++Cr,Lr<<=1);if(Cr>0)for(ir.iushrn(Cr);Cr-- >0;)(er.isOdd()||nr.isOdd())&&(er.iadd(ye),nr.isub(gr)),er.iushrn(1),nr.iushrn(1);me.cmp(ir)>=0?(me.isub(ir),ur.isub(er),lr.isub(nr)):(ir.isub(me),er.isub(ur),nr.isub(lr))}return{a:er,b:nr,gcd:ir.iushln(or)}},oe.prototype._invmp=function(ce){ne(ce.negative===0),ne(!ce.isZero());var me=this,ir=ce.clone();me.negative!==0?me=me.umod(ce):me=me.clone();for(var ur=new oe(1),lr=new oe(0),er=ir.clone();me.cmpn(1)>0&&ir.cmpn(1)>0;){for(var nr=0,or=1;(me.words[0]&or)===0&&nr<26;++nr,or<<=1);if(nr>0)for(me.iushrn(nr);nr-- >0;)ur.isOdd()&&ur.iadd(er),ur.iushrn(1);for(var ye=0,gr=1;(ir.words[0]&gr)===0&&ye<26;++ye,gr<<=1);if(ye>0)for(ir.iushrn(ye);ye-- >0;)lr.isOdd()&&lr.iadd(er),lr.iushrn(1);me.cmp(ir)>=0?(me.isub(ir),ur.isub(lr)):(ir.isub(me),lr.isub(ur))}var Ar;return me.cmpn(1)===0?Ar=ur:Ar=lr,Ar.cmpn(0)<0&&Ar.iadd(ce),Ar},oe.prototype.gcd=function(ce){if(this.isZero())return ce.abs();if(ce.isZero())return this.abs();var me=this.clone(),ir=ce.clone();me.negative=0,ir.negative=0;for(var ur=0;me.isEven()&&ir.isEven();ur++)me.iushrn(1),ir.iushrn(1);do{for(;me.isEven();)me.iushrn(1);for(;ir.isEven();)ir.iushrn(1);var lr=me.cmp(ir);if(lr<0){var er=me;me=ir,ir=er}else if(lr===0||ir.cmpn(1)===0)break;me.isub(ir)}while(!0);return ir.iushln(ur)},oe.prototype.invm=function(ce){return this.egcd(ce).a.umod(ce)},oe.prototype.isEven=function(){return(this.words[0]&1)===0},oe.prototype.isOdd=function(){return(this.words[0]&1)===1},oe.prototype.andln=function(ce){return this.words[0]&ce},oe.prototype.bincn=function(ce){ne(typeof ce=="number");var me=ce%26,ir=(ce-me)/26,ur=1<<me;if(this.length<=ir)return this._expand(ir+1),this.words[ir]|=ur,this;for(var lr=ur,er=ir;lr!==0&&er<this.length;er++){var nr=this.words[er]|0;nr+=lr,lr=nr>>>26,nr&=67108863,this.words[er]=nr}return lr!==0&&(this.words[er]=lr,this.length++),this},oe.prototype.isZero=function(){return this.length===1&&this.words[0]===0},oe.prototype.cmpn=function(ce){var me=ce<0;if(this.negative!==0&&!me)return-1;if(this.negative===0&&me)return 1;this._strip();var ir;if(this.length>1)ir=1;else{me&&(ce=-ce),ne(ce<=67108863,"Number is too big");var ur=this.words[0]|0;ir=ur===ce?0:ur<ce?-1:1}return this.negative!==0?-ir|0:ir},oe.prototype.cmp=function(ce){if(this.negative!==0&&ce.negative===0)return-1;if(this.negative===0&&ce.negative!==0)return 1;var me=this.ucmp(ce);return this.negative!==0?-me|0:me},oe.prototype.ucmp=function(ce){if(this.length>ce.length)return 1;if(this.length<ce.length)return-1;for(var me=0,ir=this.length-1;ir>=0;ir--){var ur=this.words[ir]|0,lr=ce.words[ir]|0;if(ur!==lr){ur<lr?me=-1:ur>lr&&(me=1);break}}return me},oe.prototype.gtn=function(ce){return this.cmpn(ce)===1},oe.prototype.gt=function(ce){return this.cmp(ce)===1},oe.prototype.gten=function(ce){return this.cmpn(ce)>=0},oe.prototype.gte=function(ce){return this.cmp(ce)>=0},oe.prototype.ltn=function(ce){return this.cmpn(ce)===-1},oe.prototype.lt=function(ce){return this.cmp(ce)===-1},oe.prototype.lten=function(ce){return this.cmpn(ce)<=0},oe.prototype.lte=function(ce){return this.cmp(ce)<=0},oe.prototype.eqn=function(ce){return this.cmpn(ce)===0},oe.prototype.eq=function(ce){return this.cmp(ce)===0},oe.red=function(ce){return new dr(ce)},oe.prototype.toRed=function(ce){return ne(!this.red,"Already a number in reduction context"),ne(this.negative===0,"red works only with positives"),ce.convertTo(this)._forceRed(ce)},oe.prototype.fromRed=function(){return ne(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},oe.prototype._forceRed=function(ce){return this.red=ce,this},oe.prototype.forceRed=function(ce){return ne(!this.red,"Already a number in reduction context"),this._forceRed(ce)},oe.prototype.redAdd=function(ce){return ne(this.red,"redAdd works only with red numbers"),this.red.add(this,ce)},oe.prototype.redIAdd=function(ce){return ne(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,ce)},oe.prototype.redSub=function(ce){return ne(this.red,"redSub works only with red numbers"),this.red.sub(this,ce)},oe.prototype.redISub=function(ce){return ne(this.red,"redISub works only with red numbers"),this.red.isub(this,ce)},oe.prototype.redShl=function(ce){return ne(this.red,"redShl works only with red numbers"),this.red.shl(this,ce)},oe.prototype.redMul=function(ce){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,ce),this.red.mul(this,ce)},oe.prototype.redIMul=function(ce){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,ce),this.red.imul(this,ce)},oe.prototype.redSqr=function(){return ne(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},oe.prototype.redISqr=function(){return ne(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},oe.prototype.redSqrt=function(){return ne(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},oe.prototype.redInvm=function(){return ne(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},oe.prototype.redNeg=function(){return ne(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},oe.prototype.redPow=function(ce){return ne(this.red&&!ce.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,ce)};var Ir={k256:null,p224:null,p192:null,p25519:null};function Or(ve,ce){this.name=ve,this.p=new oe(ce,16),this.n=this.p.bitLength(),this.k=new oe(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Or.prototype._tmp=function(){var ce=new oe(null);return ce.words=new Array(Math.ceil(this.n/13)),ce},Or.prototype.ireduce=function(ce){var me=ce,ir;do this.split(me,this.tmp),me=this.imulK(me),me=me.iadd(this.tmp),ir=me.bitLength();while(ir>this.n);var ur=ir<this.n?-1:me.ucmp(this.p);return ur===0?(me.words[0]=0,me.length=1):ur>0?me.isub(this.p):me.strip!==void 0?me.strip():me._strip(),me},Or.prototype.split=function(ce,me){ce.iushrn(this.n,0,me)},Or.prototype.imulK=function(ce){return ce.imul(this.k)};function Hr(){Or.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}ie(Hr,Or),Hr.prototype.split=function(ce,me){for(var ir=4194303,ur=Math.min(ce.length,9),lr=0;lr<ur;lr++)me.words[lr]=ce.words[lr];if(me.length=ur,ce.length<=9){ce.words[0]=0,ce.length=1;return}var er=ce.words[9];for(me.words[me.length++]=er&ir,lr=10;lr<ce.length;lr++){var nr=ce.words[lr]|0;ce.words[lr-10]=(nr&ir)<<4|er>>>22,er=nr}er>>>=22,ce.words[lr-10]=er,er===0&&ce.length>10?ce.length-=10:ce.length-=9},Hr.prototype.imulK=function(ce){ce.words[ce.length]=0,ce.words[ce.length+1]=0,ce.length+=2;for(var me=0,ir=0;ir<ce.length;ir++){var ur=ce.words[ir]|0;me+=ur*977,ce.words[ir]=me&67108863,me=ur*64+(me/67108864|0)}return ce.words[ce.length-1]===0&&(ce.length--,ce.words[ce.length-1]===0&&ce.length--),ce};function Pr(){Or.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}ie(Pr,Or);function Br(){Or.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}ie(Br,Or);function Nr(){Or.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}ie(Nr,Or),Nr.prototype.imulK=function(ce){for(var me=0,ir=0;ir<ce.length;ir++){var ur=(ce.words[ir]|0)*19+me,lr=ur&67108863;ur>>>=26,ce.words[ir]=lr,me=ur}return me!==0&&(ce.words[ce.length++]=me),ce},oe._prime=function(ce){if(Ir[ce])return Ir[ce];var me;if(ce==="k256")me=new Hr;else if(ce==="p224")me=new Pr;else if(ce==="p192")me=new Br;else if(ce==="p25519")me=new Nr;else throw new Error("Unknown prime "+ce);return Ir[ce]=me,me};function dr(ve){if(typeof ve=="string"){var ce=oe._prime(ve);this.m=ce.p,this.prime=ce}else ne(ve.gtn(1),"modulus must be greater than 1"),this.m=ve,this.prime=null}dr.prototype._verify1=function(ce){ne(ce.negative===0,"red works only with positives"),ne(ce.red,"red works only with red numbers")},dr.prototype._verify2=function(ce,me){ne((ce.negative|me.negative)===0,"red works only with positives"),ne(ce.red&&ce.red===me.red,"red works only with red numbers")},dr.prototype.imod=function(ce){return this.prime?this.prime.ireduce(ce)._forceRed(this):(le(ce,ce.umod(this.m)._forceRed(this)),ce)},dr.prototype.neg=function(ce){return ce.isZero()?ce.clone():this.m.sub(ce)._forceRed(this)},dr.prototype.add=function(ce,me){this._verify2(ce,me);var ir=ce.add(me);return ir.cmp(this.m)>=0&&ir.isub(this.m),ir._forceRed(this)},dr.prototype.iadd=function(ce,me){this._verify2(ce,me);var ir=ce.iadd(me);return ir.cmp(this.m)>=0&&ir.isub(this.m),ir},dr.prototype.sub=function(ce,me){this._verify2(ce,me);var ir=ce.sub(me);return ir.cmpn(0)<0&&ir.iadd(this.m),ir._forceRed(this)},dr.prototype.isub=function(ce,me){this._verify2(ce,me);var ir=ce.isub(me);return ir.cmpn(0)<0&&ir.iadd(this.m),ir},dr.prototype.shl=function(ce,me){return this._verify1(ce),this.imod(ce.ushln(me))},dr.prototype.imul=function(ce,me){return this._verify2(ce,me),this.imod(ce.imul(me))},dr.prototype.mul=function(ce,me){return this._verify2(ce,me),this.imod(ce.mul(me))},dr.prototype.isqr=function(ce){return this.imul(ce,ce.clone())},dr.prototype.sqr=function(ce){return this.mul(ce,ce)},dr.prototype.sqrt=function(ce){if(ce.isZero())return ce.clone();var me=this.m.andln(3);if(ne(me%2===1),me===3){var ir=this.m.add(new oe(1)).iushrn(2);return this.pow(ce,ir)}for(var ur=this.m.subn(1),lr=0;!ur.isZero()&&ur.andln(1)===0;)lr++,ur.iushrn(1);ne(!ur.isZero());var er=new oe(1).toRed(this),nr=er.redNeg(),or=this.m.subn(1).iushrn(1),ye=this.m.bitLength();for(ye=new oe(2*ye*ye).toRed(this);this.pow(ye,or).cmp(nr)!==0;)ye.redIAdd(nr);for(var gr=this.pow(ye,ur),Ar=this.pow(ce,ur.addn(1).iushrn(1)),br=this.pow(ce,ur),Cr=lr;br.cmp(er)!==0;){for(var Lr=br,Dr=0;Lr.cmp(er)!==0;Dr++)Lr=Lr.redSqr();ne(Dr<Cr);var Wr=this.pow(gr,new oe(1).iushln(Cr-Dr-1));Ar=Ar.redMul(Wr),gr=Wr.redSqr(),br=br.redMul(gr),Cr=Dr}return Ar},dr.prototype.invm=function(ce){var me=ce._invmp(this.m);return me.negative!==0?(me.negative=0,this.imod(me).redNeg()):this.imod(me)},dr.prototype.pow=function(ce,me){if(me.isZero())return new oe(1).toRed(this);if(me.cmpn(1)===0)return ce.clone();var ir=4,ur=new Array(1<<ir);ur[0]=new oe(1).toRed(this),ur[1]=ce;for(var lr=2;lr<ur.length;lr++)ur[lr]=this.mul(ur[lr-1],ce);var er=ur[0],nr=0,or=0,ye=me.bitLength()%26;for(ye===0&&(ye=26),lr=me.length-1;lr>=0;lr--){for(var gr=me.words[lr],Ar=ye-1;Ar>=0;Ar--){var br=gr>>Ar&1;if(er!==ur[0]&&(er=this.sqr(er)),br===0&&nr===0){or=0;continue}nr<<=1,nr|=br,or++,!(or!==ir&&(lr!==0||Ar!==0))&&(er=this.mul(er,ur[nr]),or=0,nr=0)}ye=26}return er},dr.prototype.convertTo=function(ce){var me=ce.umod(this.m);return me===ce?me.clone():me},dr.prototype.convertFrom=function(ce){var me=ce.clone();return me.red=null,me},oe.mont=function(ce){return new tr(ce)};function tr(ve){dr.call(this,ve),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new oe(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ie(tr,dr),tr.prototype.convertTo=function(ce){return this.imod(ce.ushln(this.shift))},tr.prototype.convertFrom=function(ce){var me=this.imod(ce.mul(this.rinv));return me.red=null,me},tr.prototype.imul=function(ce,me){if(ce.isZero()||me.isZero())return ce.words[0]=0,ce.length=1,ce;var ir=ce.imul(me),ur=ir.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),lr=ir.isub(ur).iushrn(this.shift),er=lr;return lr.cmp(this.m)>=0?er=lr.isub(this.m):lr.cmpn(0)<0&&(er=lr.iadd(this.m)),er._forceRed(this)},tr.prototype.mul=function(ce,me){if(ce.isZero()||me.isZero())return new oe(0)._forceRed(this);var ir=ce.mul(me),ur=ir.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),lr=ir.isub(ur).iushrn(this.shift),er=lr;return lr.cmp(this.m)>=0?er=lr.isub(this.m):lr.cmpn(0)<0&&(er=lr.iadd(this.m)),er._forceRed(this)},tr.prototype.invm=function(ce){var me=this.imod(ce._invmp(this.m).mul(this.r2));return me._forceRed(this)}})(te,commonjsGlobal$1)})(bn$1);var dist={},classes={};Object.defineProperty(classes,"__esModule",{value:!0});classes.EthereumProviderError=classes.EthereumRpcError=void 0;const fast_safe_stringify_1=fastSafeStringify;class EthereumRpcError extends Error{constructor(ee,re,ne){if(!Number.isInteger(ee))throw new Error('"code" must be an integer.');if(!re||typeof re!="string")throw new Error('"message" must be a nonempty string.');super(re);this.code=ee,ne!==void 0&&(this.data=ne)}serialize(){const ee={code:this.code,message:this.message};return this.data!==void 0&&(ee.data=this.data),this.stack&&(ee.stack=this.stack),ee}toString(){return fast_safe_stringify_1.default(this.serialize(),stringifyReplacer,2)}}classes.EthereumRpcError=EthereumRpcError;class EthereumProviderError extends EthereumRpcError{constructor(ee,re,ne){if(!isValidEthProviderCode(ee))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(ee,re,ne)}}classes.EthereumProviderError=EthereumProviderError;function isValidEthProviderCode(te){return Number.isInteger(te)&&te>=1e3&&te<=4999}function stringifyReplacer(te,ee){if(ee!=="[Circular]")return ee}var utils={},errorConstants={};Object.defineProperty(errorConstants,"__esModule",{value:!0});errorConstants.errorValues=errorConstants.errorCodes=void 0;errorConstants.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};errorConstants.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},"4001":{standard:"EIP-1193",message:"User rejected the request."},"4100":{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},"4200":{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},"4900":{standard:"EIP-1193",message:"The provider is disconnected from all chains."},"4901":{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(te){Object.defineProperty(te,"__esModule",{value:!0}),te.serializeError=te.isValidCode=te.getMessageFromCode=te.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const ee=errorConstants,re=classes,ne=ee.errorCodes.rpc.internal,ie="Unspecified error message. This is a bug, please report it.",oe={code:ne,message:se(ne)};te.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function se(rr,cr=ie){if(Number.isInteger(rr)){const ar=rr.toString();if(pe(ee.errorValues,ar))return ee.errorValues[ar].message;if(ue(rr))return te.JSON_RPC_SERVER_ERROR_MESSAGE}return cr}te.getMessageFromCode=se;function ae(rr){if(!Number.isInteger(rr))return!1;const cr=rr.toString();return!!(ee.errorValues[cr]||ue(rr))}te.isValidCode=ae;function fe(rr,{fallbackError:cr=oe,shouldIncludeStack:ar=!1}={}){var mr,pr;if(!cr||!Number.isInteger(cr.code)||typeof cr.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(rr instanceof re.EthereumRpcError)return rr.serialize();const yr={};if(rr&&typeof rr=="object"&&!Array.isArray(rr)&&pe(rr,"code")&&ae(rr.code)){const Er=rr;yr.code=Er.code,Er.message&&typeof Er.message=="string"?(yr.message=Er.message,pe(Er,"data")&&(yr.data=Er.data)):(yr.message=se(yr.code),yr.data={originalError:le(rr)})}else{yr.code=cr.code;const Er=(mr=rr)===null||mr===void 0?void 0:mr.message;yr.message=Er&&typeof Er=="string"?Er:cr.message,yr.data={originalError:le(rr)}}const vr=(pr=rr)===null||pr===void 0?void 0:pr.stack;return ar&&rr&&vr&&typeof vr=="string"&&(yr.stack=vr),yr}te.serializeError=fe;function ue(rr){return rr>=-32099&&rr<=-32e3}function le(rr){return rr&&typeof rr=="object"&&!Array.isArray(rr)?Object.assign({},rr):rr}function pe(rr,cr){return Object.prototype.hasOwnProperty.call(rr,cr)}})(utils);var errors={};Object.defineProperty(errors,"__esModule",{value:!0});errors.ethErrors=void 0;const classes_1=classes,utils_1=utils,error_constants_1=errorConstants;errors.ethErrors={rpc:{parse:te=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.parse,te),invalidRequest:te=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidRequest,te),invalidParams:te=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidParams,te),methodNotFound:te=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.methodNotFound,te),internal:te=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.internal,te),server:te=>{if(!te||typeof te!="object"||Array.isArray(te))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:ee}=te;if(!Number.isInteger(ee)||ee>-32005||ee<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return getEthJsonRpcError(ee,te)},invalidInput:te=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidInput,te),resourceNotFound:te=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.resourceNotFound,te),resourceUnavailable:te=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.resourceUnavailable,te),transactionRejected:te=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.transactionRejected,te),methodNotSupported:te=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.methodNotSupported,te),limitExceeded:te=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.limitExceeded,te)},provider:{userRejectedRequest:te=>getEthProviderError(error_constants_1.errorCodes.provider.userRejectedRequest,te),unauthorized:te=>getEthProviderError(error_constants_1.errorCodes.provider.unauthorized,te),unsupportedMethod:te=>getEthProviderError(error_constants_1.errorCodes.provider.unsupportedMethod,te),disconnected:te=>getEthProviderError(error_constants_1.errorCodes.provider.disconnected,te),chainDisconnected:te=>getEthProviderError(error_constants_1.errorCodes.provider.chainDisconnected,te),custom:te=>{if(!te||typeof te!="object"||Array.isArray(te))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:ee,message:re,data:ne}=te;if(!re||typeof re!="string")throw new Error('"message" must be a nonempty string');return new classes_1.EthereumProviderError(ee,re,ne)}}};function getEthJsonRpcError(te,ee){const[re,ne]=parseOpts(ee);return new classes_1.EthereumRpcError(te,re||utils_1.getMessageFromCode(te),ne)}function getEthProviderError(te,ee){const[re,ne]=parseOpts(ee);return new classes_1.EthereumProviderError(te,re||utils_1.getMessageFromCode(te),ne)}function parseOpts(te){if(te){if(typeof te=="string")return[te];if(typeof te=="object"&&!Array.isArray(te)){const{message:ee,data:re}=te;if(ee&&typeof ee!="string")throw new Error("Must specify string message.");return[ee||void 0,re]}}return[]}(function(te){Object.defineProperty(te,"__esModule",{value:!0}),te.getMessageFromCode=te.serializeError=te.EthereumProviderError=te.EthereumRpcError=te.ethErrors=te.errorCodes=void 0;const ee=classes;Object.defineProperty(te,"EthereumRpcError",{enumerable:!0,get:function(){return ee.EthereumRpcError}}),Object.defineProperty(te,"EthereumProviderError",{enumerable:!0,get:function(){return ee.EthereumProviderError}});const re=utils;Object.defineProperty(te,"serializeError",{enumerable:!0,get:function(){return re.serializeError}}),Object.defineProperty(te,"getMessageFromCode",{enumerable:!0,get:function(){return re.getMessageFromCode}});const ne=errors;Object.defineProperty(te,"ethErrors",{enumerable:!0,get:function(){return ne.ethErrors}});const ie=errorConstants;Object.defineProperty(te,"errorCodes",{enumerable:!0,get:function(){return ie.errorCodes}})})(dist);var WalletLinkAnalytics$1={};Object.defineProperty(WalletLinkAnalytics$1,"__esModule",{value:!0});WalletLinkAnalytics$1.WalletLinkAnalytics=void 0;class WalletLinkAnalytics{sendEvent(ee,re){}}WalletLinkAnalytics$1.WalletLinkAnalytics=WalletLinkAnalytics;var init={},events={};Object.defineProperty(events,"__esModule",{value:!0});events.EVENTS=void 0;events.EVENTS={REQUEST_CHILD_ETHEREUM_ACCOUNTS_START:"walletlink_sdk.request_child_ethereum_accounts.start",REQUEST_CHILD_ETHEREUM_ACCOUNTS_RESPONSE:"walletlink_sdk.request_child_ethereum_accounts.response",STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var WalletLinkAnalyticsAbstract$1={};Object.defineProperty(WalletLinkAnalyticsAbstract$1,"__esModule",{value:!0});WalletLinkAnalyticsAbstract$1.WalletLinkAnalyticsAbstract=void 0;class WalletLinkAnalyticsAbstract{}WalletLinkAnalyticsAbstract$1.WalletLinkAnalyticsAbstract=WalletLinkAnalyticsAbstract;(function(te){var ee=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(ne,ie,oe,se){se===void 0&&(se=oe),Object.defineProperty(ne,se,{enumerable:!0,get:function(){return ie[oe]}})}:function(ne,ie,oe,se){se===void 0&&(se=oe),ne[se]=ie[oe]}),re=commonjsGlobal$1&&commonjsGlobal$1.__exportStar||function(ne,ie){for(var oe in ne)oe!=="default"&&!Object.prototype.hasOwnProperty.call(ie,oe)&&ee(ie,ne,oe)};Object.defineProperty(te,"__esModule",{value:!0}),re(events,te),re(WalletLinkAnalyticsAbstract$1,te)})(init);var Session$1={},sha256={exports:{}};/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal$1:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(te){return Object.prototype.toString.call(te)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(te){return typeof te=="object"&&te.buffer&&te.buffer.constructor===ArrayBuffer});var createOutputMethod=function(te,ee){return function(re){return new Sha256(ee,!0).update(re)[te]()}},createMethod=function(te){var ee=createOutputMethod("hex",te);NODE_JS&&(ee=nodeWrap(ee,te)),ee.create=function(){return new Sha256(te)},ee.update=function(ie){return ee.create().update(ie)};for(var re=0;re<OUTPUT_TYPES.length;++re){var ne=OUTPUT_TYPES[re];ee[ne]=createOutputMethod(ne,te)}return ee},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(te){if(typeof te=="string")return crypto.createHash(algorithm).update(te,"utf8").digest("hex");if(te==null)throw new Error(ERROR);return te.constructor===ArrayBuffer&&(te=new Uint8Array(te)),Array.isArray(te)||ArrayBuffer.isView(te)||te.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(te)).digest("hex"):method(te)};return nodeMethod},createHmacOutputMethod=function(te,ee){return function(re,ne){return new HmacSha256(re,ee,!0).update(ne)[te]()}},createHmacMethod=function(te){var ee=createHmacOutputMethod("hex",te);ee.create=function(ie){return new HmacSha256(ie,te)},ee.update=function(ie,oe){return ee.create(ie).update(oe)};for(var re=0;re<OUTPUT_TYPES.length;++re){var ne=OUTPUT_TYPES[re];ee[ne]=createHmacOutputMethod(ne,te)}return ee};function Sha256(te,ee){ee?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],te?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=te}Sha256.prototype.update=function(te){if(!this.finalized){var ee,re=typeof te;if(re!=="string"){if(re==="object"){if(te===null)throw new Error(ERROR);if(ARRAY_BUFFER&&te.constructor===ArrayBuffer)te=new Uint8Array(te);else if(!Array.isArray(te)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(te)))throw new Error(ERROR)}else throw new Error(ERROR);ee=!0}for(var ne,ie=0,oe,se=te.length,ae=this.blocks;ie<se;){if(this.hashed&&(this.hashed=!1,ae[0]=this.block,ae[16]=ae[1]=ae[2]=ae[3]=ae[4]=ae[5]=ae[6]=ae[7]=ae[8]=ae[9]=ae[10]=ae[11]=ae[12]=ae[13]=ae[14]=ae[15]=0),ee)for(oe=this.start;ie<se&&oe<64;++ie)ae[oe>>2]|=te[ie]<<SHIFT[oe++&3];else for(oe=this.start;ie<se&&oe<64;++ie)ne=te.charCodeAt(ie),ne<128?ae[oe>>2]|=ne<<SHIFT[oe++&3]:ne<2048?(ae[oe>>2]|=(192|ne>>6)<<SHIFT[oe++&3],ae[oe>>2]|=(128|ne&63)<<SHIFT[oe++&3]):ne<55296||ne>=57344?(ae[oe>>2]|=(224|ne>>12)<<SHIFT[oe++&3],ae[oe>>2]|=(128|ne>>6&63)<<SHIFT[oe++&3],ae[oe>>2]|=(128|ne&63)<<SHIFT[oe++&3]):(ne=65536+((ne&1023)<<10|te.charCodeAt(++ie)&1023),ae[oe>>2]|=(240|ne>>18)<<SHIFT[oe++&3],ae[oe>>2]|=(128|ne>>12&63)<<SHIFT[oe++&3],ae[oe>>2]|=(128|ne>>6&63)<<SHIFT[oe++&3],ae[oe>>2]|=(128|ne&63)<<SHIFT[oe++&3]);this.lastByteIndex=oe,this.bytes+=oe-this.start,oe>=64?(this.block=ae[16],this.start=oe-64,this.hash(),this.hashed=!0):this.start=oe}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var te=this.blocks,ee=this.lastByteIndex;te[16]=this.block,te[ee>>2]|=EXTRA[ee&3],this.block=te[16],ee>=56&&(this.hashed||this.hash(),te[0]=this.block,te[16]=te[1]=te[2]=te[3]=te[4]=te[5]=te[6]=te[7]=te[8]=te[9]=te[10]=te[11]=te[12]=te[13]=te[14]=te[15]=0),te[14]=this.hBytes<<3|this.bytes>>>29,te[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var te=this.h0,ee=this.h1,re=this.h2,ne=this.h3,ie=this.h4,oe=this.h5,se=this.h6,ae=this.h7,fe=this.blocks,ue,le,pe,rr,cr,ar,mr,pr,yr,vr,Er;for(ue=16;ue<64;++ue)cr=fe[ue-15],le=(cr>>>7|cr<<25)^(cr>>>18|cr<<14)^cr>>>3,cr=fe[ue-2],pe=(cr>>>17|cr<<15)^(cr>>>19|cr<<13)^cr>>>10,fe[ue]=fe[ue-16]+le+fe[ue-7]+pe<<0;for(Er=ee&re,ue=0;ue<64;ue+=4)this.first?(this.is224?(pr=300032,cr=fe[0]-1413257819,ae=cr-150054599<<0,ne=cr+24177077<<0):(pr=704751109,cr=fe[0]-210244248,ae=cr-1521486534<<0,ne=cr+143694565<<0),this.first=!1):(le=(te>>>2|te<<30)^(te>>>13|te<<19)^(te>>>22|te<<10),pe=(ie>>>6|ie<<26)^(ie>>>11|ie<<21)^(ie>>>25|ie<<7),pr=te&ee,rr=pr^te&re^Er,mr=ie&oe^~ie&se,cr=ae+pe+mr+K[ue]+fe[ue],ar=le+rr,ae=ne+cr<<0,ne=cr+ar<<0),le=(ne>>>2|ne<<30)^(ne>>>13|ne<<19)^(ne>>>22|ne<<10),pe=(ae>>>6|ae<<26)^(ae>>>11|ae<<21)^(ae>>>25|ae<<7),yr=ne&te,rr=yr^ne&ee^pr,mr=ae&ie^~ae&oe,cr=se+pe+mr+K[ue+1]+fe[ue+1],ar=le+rr,se=re+cr<<0,re=cr+ar<<0,le=(re>>>2|re<<30)^(re>>>13|re<<19)^(re>>>22|re<<10),pe=(se>>>6|se<<26)^(se>>>11|se<<21)^(se>>>25|se<<7),vr=re&ne,rr=vr^re&te^yr,mr=se&ae^~se&ie,cr=oe+pe+mr+K[ue+2]+fe[ue+2],ar=le+rr,oe=ee+cr<<0,ee=cr+ar<<0,le=(ee>>>2|ee<<30)^(ee>>>13|ee<<19)^(ee>>>22|ee<<10),pe=(oe>>>6|oe<<26)^(oe>>>11|oe<<21)^(oe>>>25|oe<<7),Er=ee&re,rr=Er^ee&ne^vr,mr=oe&se^~oe&ae,cr=ie+pe+mr+K[ue+3]+fe[ue+3],ar=le+rr,ie=te+cr<<0,te=cr+ar<<0;this.h0=this.h0+te<<0,this.h1=this.h1+ee<<0,this.h2=this.h2+re<<0,this.h3=this.h3+ne<<0,this.h4=this.h4+ie<<0,this.h5=this.h5+oe<<0,this.h6=this.h6+se<<0,this.h7=this.h7+ae<<0},Sha256.prototype.hex=function(){this.finalize();var te=this.h0,ee=this.h1,re=this.h2,ne=this.h3,ie=this.h4,oe=this.h5,se=this.h6,ae=this.h7,fe=HEX_CHARS[te>>28&15]+HEX_CHARS[te>>24&15]+HEX_CHARS[te>>20&15]+HEX_CHARS[te>>16&15]+HEX_CHARS[te>>12&15]+HEX_CHARS[te>>8&15]+HEX_CHARS[te>>4&15]+HEX_CHARS[te&15]+HEX_CHARS[ee>>28&15]+HEX_CHARS[ee>>24&15]+HEX_CHARS[ee>>20&15]+HEX_CHARS[ee>>16&15]+HEX_CHARS[ee>>12&15]+HEX_CHARS[ee>>8&15]+HEX_CHARS[ee>>4&15]+HEX_CHARS[ee&15]+HEX_CHARS[re>>28&15]+HEX_CHARS[re>>24&15]+HEX_CHARS[re>>20&15]+HEX_CHARS[re>>16&15]+HEX_CHARS[re>>12&15]+HEX_CHARS[re>>8&15]+HEX_CHARS[re>>4&15]+HEX_CHARS[re&15]+HEX_CHARS[ne>>28&15]+HEX_CHARS[ne>>24&15]+HEX_CHARS[ne>>20&15]+HEX_CHARS[ne>>16&15]+HEX_CHARS[ne>>12&15]+HEX_CHARS[ne>>8&15]+HEX_CHARS[ne>>4&15]+HEX_CHARS[ne&15]+HEX_CHARS[ie>>28&15]+HEX_CHARS[ie>>24&15]+HEX_CHARS[ie>>20&15]+HEX_CHARS[ie>>16&15]+HEX_CHARS[ie>>12&15]+HEX_CHARS[ie>>8&15]+HEX_CHARS[ie>>4&15]+HEX_CHARS[ie&15]+HEX_CHARS[oe>>28&15]+HEX_CHARS[oe>>24&15]+HEX_CHARS[oe>>20&15]+HEX_CHARS[oe>>16&15]+HEX_CHARS[oe>>12&15]+HEX_CHARS[oe>>8&15]+HEX_CHARS[oe>>4&15]+HEX_CHARS[oe&15]+HEX_CHARS[se>>28&15]+HEX_CHARS[se>>24&15]+HEX_CHARS[se>>20&15]+HEX_CHARS[se>>16&15]+HEX_CHARS[se>>12&15]+HEX_CHARS[se>>8&15]+HEX_CHARS[se>>4&15]+HEX_CHARS[se&15];return this.is224||(fe+=HEX_CHARS[ae>>28&15]+HEX_CHARS[ae>>24&15]+HEX_CHARS[ae>>20&15]+HEX_CHARS[ae>>16&15]+HEX_CHARS[ae>>12&15]+HEX_CHARS[ae>>8&15]+HEX_CHARS[ae>>4&15]+HEX_CHARS[ae&15]),fe},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var te=this.h0,ee=this.h1,re=this.h2,ne=this.h3,ie=this.h4,oe=this.h5,se=this.h6,ae=this.h7,fe=[te>>24&255,te>>16&255,te>>8&255,te&255,ee>>24&255,ee>>16&255,ee>>8&255,ee&255,re>>24&255,re>>16&255,re>>8&255,re&255,ne>>24&255,ne>>16&255,ne>>8&255,ne&255,ie>>24&255,ie>>16&255,ie>>8&255,ie&255,oe>>24&255,oe>>16&255,oe>>8&255,oe&255,se>>24&255,se>>16&255,se>>8&255,se&255];return this.is224||fe.push(ae>>24&255,ae>>16&255,ae>>8&255,ae&255),fe},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var te=new ArrayBuffer(this.is224?28:32),ee=new DataView(te);return ee.setUint32(0,this.h0),ee.setUint32(4,this.h1),ee.setUint32(8,this.h2),ee.setUint32(12,this.h3),ee.setUint32(16,this.h4),ee.setUint32(20,this.h5),ee.setUint32(24,this.h6),this.is224||ee.setUint32(28,this.h7),te};function HmacSha256(te,ee,re){var ne,ie=typeof te;if(ie==="string"){var oe=[],se=te.length,ae=0,fe;for(ne=0;ne<se;++ne)fe=te.charCodeAt(ne),fe<128?oe[ae++]=fe:fe<2048?(oe[ae++]=192|fe>>6,oe[ae++]=128|fe&63):fe<55296||fe>=57344?(oe[ae++]=224|fe>>12,oe[ae++]=128|fe>>6&63,oe[ae++]=128|fe&63):(fe=65536+((fe&1023)<<10|te.charCodeAt(++ne)&1023),oe[ae++]=240|fe>>18,oe[ae++]=128|fe>>12&63,oe[ae++]=128|fe>>6&63,oe[ae++]=128|fe&63);te=oe}else if(ie==="object"){if(te===null)throw new Error(ERROR);if(ARRAY_BUFFER&&te.constructor===ArrayBuffer)te=new Uint8Array(te);else if(!Array.isArray(te)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(te)))throw new Error(ERROR)}else throw new Error(ERROR);te.length>64&&(te=new Sha256(ee,!0).update(te).array());var ue=[],le=[];for(ne=0;ne<64;++ne){var pe=te[ne]||0;ue[ne]=92^pe,le[ne]=54^pe}Sha256.call(this,ee,re),this.update(le),this.oKeyPad=ue,this.inner=!0,this.sharedMemory=re}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var te=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(te),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(te,ee){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(re,ne){re.__proto__=ne}||function(re,ne){for(var ie in ne)ne.hasOwnProperty(ie)&&(re[ie]=ne[ie])},extendStatics(te,ee)};function __extends(te,ee){extendStatics(te,ee);function re(){this.constructor=te}te.prototype=ee===null?Object.create(ee):(re.prototype=ee.prototype,new re)}function isFunction$1(te){return typeof te=="function"}var _enable_super_gross_mode_that_will_cause_bad_things=!1,config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(te){if(te){var ee=new Error;""+ee.stack}_enable_super_gross_mode_that_will_cause_bad_things=te},get useDeprecatedSynchronousErrorHandling(){return _enable_super_gross_mode_that_will_cause_bad_things}};function hostReportError(te){setTimeout(function(){throw te},0)}var empty$1={closed:!0,next:function(te){},error:function(te){if(config.useDeprecatedSynchronousErrorHandling)throw te;hostReportError(te)},complete:function(){}},isArray$1=function(){return Array.isArray||function(te){return te&&typeof te.length=="number"}}();function isObject$1(te){return te!==null&&typeof te=="object"}var UnsubscriptionErrorImpl=function(){function te(ee){return Error.call(this),this.message=ee?ee.length+` errors occurred during unsubscription:
`+ee.map(function(re,ne){return ne+1+") "+re.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=ee,this}return te.prototype=Object.create(Error.prototype),te}(),UnsubscriptionError=UnsubscriptionErrorImpl,Subscription=function(){function te(ee){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ee&&(this._ctorUnsubscribe=!0,this._unsubscribe=ee)}return te.prototype.unsubscribe=function(){var ee;if(!this.closed){var re=this,ne=re._parentOrParents,ie=re._ctorUnsubscribe,oe=re._unsubscribe,se=re._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,ne instanceof te)ne.remove(this);else if(ne!==null)for(var ae=0;ae<ne.length;++ae){var fe=ne[ae];fe.remove(this)}if(isFunction$1(oe)){ie&&(this._unsubscribe=void 0);try{oe.call(this)}catch(pe){ee=pe instanceof UnsubscriptionError?flattenUnsubscriptionErrors(pe.errors):[pe]}}if(isArray$1(se))for(var ae=-1,ue=se.length;++ae<ue;){var le=se[ae];if(isObject$1(le))try{le.unsubscribe()}catch(rr){ee=ee||[],rr instanceof UnsubscriptionError?ee=ee.concat(flattenUnsubscriptionErrors(rr.errors)):ee.push(rr)}}if(ee)throw new UnsubscriptionError(ee)}},te.prototype.add=function(ee){var re=ee;if(!ee)return te.EMPTY;switch(typeof ee){case"function":re=new te(ee);case"object":if(re===this||re.closed||typeof re.unsubscribe!="function")return re;if(this.closed)return re.unsubscribe(),re;if(!(re instanceof te)){var ne=re;re=new te,re._subscriptions=[ne]}break;default:throw new Error("unrecognized teardown "+ee+" added to Subscription.")}var ie=re._parentOrParents;if(ie===null)re._parentOrParents=this;else if(ie instanceof te){if(ie===this)return re;re._parentOrParents=[ie,this]}else if(ie.indexOf(this)===-1)ie.push(this);else return re;var oe=this._subscriptions;return oe===null?this._subscriptions=[re]:oe.push(re),re},te.prototype.remove=function(ee){var re=this._subscriptions;if(re){var ne=re.indexOf(ee);ne!==-1&&re.splice(ne,1)}},te.EMPTY=function(ee){return ee.closed=!0,ee}(new te),te}();function flattenUnsubscriptionErrors(te){return te.reduce(function(ee,re){return ee.concat(re instanceof UnsubscriptionError?re.errors:re)},[])}var rxSubscriber=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Subscriber=function(te){__extends(ee,te);function ee(re,ne,ie){var oe=te.call(this)||this;switch(oe.syncErrorValue=null,oe.syncErrorThrown=!1,oe.syncErrorThrowable=!1,oe.isStopped=!1,arguments.length){case 0:oe.destination=empty$1;break;case 1:if(!re){oe.destination=empty$1;break}if(typeof re=="object"){re instanceof ee?(oe.syncErrorThrowable=re.syncErrorThrowable,oe.destination=re,re.add(oe)):(oe.syncErrorThrowable=!0,oe.destination=new SafeSubscriber(oe,re));break}default:oe.syncErrorThrowable=!0,oe.destination=new SafeSubscriber(oe,re,ne,ie);break}return oe}return ee.prototype[rxSubscriber]=function(){return this},ee.create=function(re,ne,ie){var oe=new ee(re,ne,ie);return oe.syncErrorThrowable=!1,oe},ee.prototype.next=function(re){this.isStopped||this._next(re)},ee.prototype.error=function(re){this.isStopped||(this.isStopped=!0,this._error(re))},ee.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},ee.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,te.prototype.unsubscribe.call(this))},ee.prototype._next=function(re){this.destination.next(re)},ee.prototype._error=function(re){this.destination.error(re),this.unsubscribe()},ee.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},ee.prototype._unsubscribeAndRecycle=function(){var re=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=re,this},ee}(Subscription),SafeSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie,oe){var se=te.call(this)||this;se._parentSubscriber=re;var ae,fe=se;return isFunction$1(ne)?ae=ne:ne&&(ae=ne.next,ie=ne.error,oe=ne.complete,ne!==empty$1&&(fe=Object.create(ne),isFunction$1(fe.unsubscribe)&&se.add(fe.unsubscribe.bind(fe)),fe.unsubscribe=se.unsubscribe.bind(se))),se._context=fe,se._next=ae,se._error=ie,se._complete=oe,se}return ee.prototype.next=function(re){if(!this.isStopped&&this._next){var ne=this._parentSubscriber;!config.useDeprecatedSynchronousErrorHandling||!ne.syncErrorThrowable?this.__tryOrUnsub(this._next,re):this.__tryOrSetError(ne,this._next,re)&&this.unsubscribe()}},ee.prototype.error=function(re){if(!this.isStopped){var ne=this._parentSubscriber,ie=config.useDeprecatedSynchronousErrorHandling;if(this._error)!ie||!ne.syncErrorThrowable?(this.__tryOrUnsub(this._error,re),this.unsubscribe()):(this.__tryOrSetError(ne,this._error,re),this.unsubscribe());else if(ne.syncErrorThrowable)ie?(ne.syncErrorValue=re,ne.syncErrorThrown=!0):hostReportError(re),this.unsubscribe();else{if(this.unsubscribe(),ie)throw re;hostReportError(re)}}},ee.prototype.complete=function(){var re=this;if(!this.isStopped){var ne=this._parentSubscriber;if(this._complete){var ie=function(){return re._complete.call(re._context)};!config.useDeprecatedSynchronousErrorHandling||!ne.syncErrorThrowable?(this.__tryOrUnsub(ie),this.unsubscribe()):(this.__tryOrSetError(ne,ie),this.unsubscribe())}else this.unsubscribe()}},ee.prototype.__tryOrUnsub=function(re,ne){try{re.call(this._context,ne)}catch(ie){if(this.unsubscribe(),config.useDeprecatedSynchronousErrorHandling)throw ie;hostReportError(ie)}},ee.prototype.__tryOrSetError=function(re,ne,ie){if(!config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ne.call(this._context,ie)}catch(oe){return config.useDeprecatedSynchronousErrorHandling?(re.syncErrorValue=oe,re.syncErrorThrown=!0,!0):(hostReportError(oe),!0)}return!1},ee.prototype._unsubscribe=function(){var re=this._parentSubscriber;this._context=null,this._parentSubscriber=null,re.unsubscribe()},ee}(Subscriber);function canReportError(te){for(;te;){var ee=te,re=ee.closed,ne=ee.destination,ie=ee.isStopped;if(re||ie)return!1;ne&&ne instanceof Subscriber?te=ne:te=null}return!0}function toSubscriber(te,ee,re){if(te){if(te instanceof Subscriber)return te;if(te[rxSubscriber])return te[rxSubscriber]()}return!te&&!ee&&!re?new Subscriber(empty$1):new Subscriber(te,ee,re)}var observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function identity(te){return te}function pipe(){for(var te=[],ee=0;ee<arguments.length;ee++)te[ee]=arguments[ee];return pipeFromArray(te)}function pipeFromArray(te){return te.length===0?identity:te.length===1?te[0]:function(re){return te.reduce(function(ne,ie){return ie(ne)},re)}}var Observable=function(){function te(ee){this._isScalar=!1,ee&&(this._subscribe=ee)}return te.prototype.lift=function(ee){var re=new te;return re.source=this,re.operator=ee,re},te.prototype.subscribe=function(ee,re,ne){var ie=this.operator,oe=toSubscriber(ee,re,ne);if(ie?oe.add(ie.call(oe,this.source)):oe.add(this.source||config.useDeprecatedSynchronousErrorHandling&&!oe.syncErrorThrowable?this._subscribe(oe):this._trySubscribe(oe)),config.useDeprecatedSynchronousErrorHandling&&oe.syncErrorThrowable&&(oe.syncErrorThrowable=!1,oe.syncErrorThrown))throw oe.syncErrorValue;return oe},te.prototype._trySubscribe=function(ee){try{return this._subscribe(ee)}catch(re){config.useDeprecatedSynchronousErrorHandling&&(ee.syncErrorThrown=!0,ee.syncErrorValue=re),canReportError(ee)?ee.error(re):console.warn(re)}},te.prototype.forEach=function(ee,re){var ne=this;return re=getPromiseCtor(re),new re(function(ie,oe){var se;se=ne.subscribe(function(ae){try{ee(ae)}catch(fe){oe(fe),se&&se.unsubscribe()}},oe,ie)})},te.prototype._subscribe=function(ee){var re=this.source;return re&&re.subscribe(ee)},te.prototype[observable]=function(){return this},te.prototype.pipe=function(){for(var ee=[],re=0;re<arguments.length;re++)ee[re]=arguments[re];return ee.length===0?this:pipeFromArray(ee)(this)},te.prototype.toPromise=function(ee){var re=this;return ee=getPromiseCtor(ee),new ee(function(ne,ie){var oe;re.subscribe(function(se){return oe=se},function(se){return ie(se)},function(){return ne(oe)})})},te.create=function(ee){return new te(ee)},te}();function getPromiseCtor(te){if(te||(te=config.Promise||Promise),!te)throw new Error("no Promise impl found");return te}var ObjectUnsubscribedErrorImpl=function(){function te(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return te.prototype=Object.create(Error.prototype),te}(),ObjectUnsubscribedError=ObjectUnsubscribedErrorImpl,SubjectSubscription=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this)||this;return ie.subject=re,ie.subscriber=ne,ie.closed=!1,ie}return ee.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var re=this.subject,ne=re.observers;if(this.subject=null,!(!ne||ne.length===0||re.isStopped||re.closed)){var ie=ne.indexOf(this.subscriber);ie!==-1&&ne.splice(ie,1)}}},ee}(Subscription),SubjectSubscriber=function(te){__extends(ee,te);function ee(re){var ne=te.call(this,re)||this;return ne.destination=re,ne}return ee}(Subscriber),Subject=function(te){__extends(ee,te);function ee(){var re=te.call(this)||this;return re.observers=[],re.closed=!1,re.isStopped=!1,re.hasError=!1,re.thrownError=null,re}return ee.prototype[rxSubscriber]=function(){return new SubjectSubscriber(this)},ee.prototype.lift=function(re){var ne=new AnonymousSubject(this,this);return ne.operator=re,ne},ee.prototype.next=function(re){if(this.closed)throw new ObjectUnsubscribedError;if(!this.isStopped)for(var ne=this.observers,ie=ne.length,oe=ne.slice(),se=0;se<ie;se++)oe[se].next(re)},ee.prototype.error=function(re){if(this.closed)throw new ObjectUnsubscribedError;this.hasError=!0,this.thrownError=re,this.isStopped=!0;for(var ne=this.observers,ie=ne.length,oe=ne.slice(),se=0;se<ie;se++)oe[se].error(re);this.observers.length=0},ee.prototype.complete=function(){if(this.closed)throw new ObjectUnsubscribedError;this.isStopped=!0;for(var re=this.observers,ne=re.length,ie=re.slice(),oe=0;oe<ne;oe++)ie[oe].complete();this.observers.length=0},ee.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},ee.prototype._trySubscribe=function(re){if(this.closed)throw new ObjectUnsubscribedError;return te.prototype._trySubscribe.call(this,re)},ee.prototype._subscribe=function(re){if(this.closed)throw new ObjectUnsubscribedError;return this.hasError?(re.error(this.thrownError),Subscription.EMPTY):this.isStopped?(re.complete(),Subscription.EMPTY):(this.observers.push(re),new SubjectSubscription(this,re))},ee.prototype.asObservable=function(){var re=new Observable;return re.source=this,re},ee.create=function(re,ne){return new AnonymousSubject(re,ne)},ee}(Observable),AnonymousSubject=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this)||this;return ie.destination=re,ie.source=ne,ie}return ee.prototype.next=function(re){var ne=this.destination;ne&&ne.next&&ne.next(re)},ee.prototype.error=function(re){var ne=this.destination;ne&&ne.error&&this.destination.error(re)},ee.prototype.complete=function(){var re=this.destination;re&&re.complete&&this.destination.complete()},ee.prototype._subscribe=function(re){var ne=this.source;return ne?this.source.subscribe(re):Subscription.EMPTY},ee}(Subject);function refCount(){return function(ee){return ee.lift(new RefCountOperator(ee))}}var RefCountOperator=function(){function te(ee){this.connectable=ee}return te.prototype.call=function(ee,re){var ne=this.connectable;ne._refCount++;var ie=new RefCountSubscriber(ee,ne),oe=re.subscribe(ie);return ie.closed||(ie.connection=ne.connect()),oe},te}(),RefCountSubscriber=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this,re)||this;return ie.connectable=ne,ie}return ee.prototype._unsubscribe=function(){var re=this.connectable;if(!re){this.connection=null;return}this.connectable=null;var ne=re._refCount;if(ne<=0){this.connection=null;return}if(re._refCount=ne-1,ne>1){this.connection=null;return}var ie=this.connection,oe=re._connection;this.connection=null,oe&&(!ie||oe===ie)&&oe.unsubscribe()},ee}(Subscriber),ConnectableObservable=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this)||this;return ie.source=re,ie.subjectFactory=ne,ie._refCount=0,ie._isComplete=!1,ie}return ee.prototype._subscribe=function(re){return this.getSubject().subscribe(re)},ee.prototype.getSubject=function(){var re=this._subject;return(!re||re.isStopped)&&(this._subject=this.subjectFactory()),this._subject},ee.prototype.connect=function(){var re=this._connection;return re||(this._isComplete=!1,re=this._connection=new Subscription,re.add(this.source.subscribe(new ConnectableSubscriber(this.getSubject(),this))),re.closed&&(this._connection=null,re=Subscription.EMPTY)),re},ee.prototype.refCount=function(){return refCount()(this)},ee}(Observable),connectableObservableDescriptor=function(){var te=ConnectableObservable.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:te._subscribe},_isComplete:{value:te._isComplete,writable:!0},getSubject:{value:te.getSubject},connect:{value:te.connect},refCount:{value:te.refCount}}}(),ConnectableSubscriber=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this,re)||this;return ie.connectable=ne,ie}return ee.prototype._error=function(re){this._unsubscribe(),te.prototype._error.call(this,re)},ee.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),te.prototype._complete.call(this)},ee.prototype._unsubscribe=function(){var re=this.connectable;if(re){this.connectable=null;var ne=re._connection;re._refCount=0,re._subject=null,re._connection=null,ne&&ne.unsubscribe()}},ee}(SubjectSubscriber);function groupBy(te,ee,re,ne){return function(ie){return ie.lift(new GroupByOperator(te,ee,re,ne))}}var GroupByOperator=function(){function te(ee,re,ne,ie){this.keySelector=ee,this.elementSelector=re,this.durationSelector=ne,this.subjectSelector=ie}return te.prototype.call=function(ee,re){return re.subscribe(new GroupBySubscriber(ee,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},te}(),GroupBySubscriber=function(te){__extends(ee,te);function ee(re,ne,ie,oe,se){var ae=te.call(this,re)||this;return ae.keySelector=ne,ae.elementSelector=ie,ae.durationSelector=oe,ae.subjectSelector=se,ae.groups=null,ae.attemptedToUnsubscribe=!1,ae.count=0,ae}return ee.prototype._next=function(re){var ne;try{ne=this.keySelector(re)}catch(ie){this.error(ie);return}this._group(re,ne)},ee.prototype._group=function(re,ne){var ie=this.groups;ie||(ie=this.groups=new Map);var oe=ie.get(ne),se;if(this.elementSelector)try{se=this.elementSelector(re)}catch(ue){this.error(ue)}else se=re;if(!oe){oe=this.subjectSelector?this.subjectSelector():new Subject,ie.set(ne,oe);var ae=new GroupedObservable(ne,oe,this);if(this.destination.next(ae),this.durationSelector){var fe=void 0;try{fe=this.durationSelector(new GroupedObservable(ne,oe))}catch(ue){this.error(ue);return}this.add(fe.subscribe(new GroupDurationSubscriber(ne,oe,this)))}}oe.closed||oe.next(se)},ee.prototype._error=function(re){var ne=this.groups;ne&&(ne.forEach(function(ie,oe){ie.error(re)}),ne.clear()),this.destination.error(re)},ee.prototype._complete=function(){var re=this.groups;re&&(re.forEach(function(ne,ie){ne.complete()}),re.clear()),this.destination.complete()},ee.prototype.removeGroup=function(re){this.groups.delete(re)},ee.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&te.prototype.unsubscribe.call(this))},ee}(Subscriber),GroupDurationSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie){var oe=te.call(this,ne)||this;return oe.key=re,oe.group=ne,oe.parent=ie,oe}return ee.prototype._next=function(re){this.complete()},ee.prototype._unsubscribe=function(){var re=this,ne=re.parent,ie=re.key;this.key=this.parent=null,ne&&ne.removeGroup(ie)},ee}(Subscriber),GroupedObservable=function(te){__extends(ee,te);function ee(re,ne,ie){var oe=te.call(this)||this;return oe.key=re,oe.groupSubject=ne,oe.refCountSubscription=ie,oe}return ee.prototype._subscribe=function(re){var ne=new Subscription,ie=this,oe=ie.refCountSubscription,se=ie.groupSubject;return oe&&!oe.closed&&ne.add(new InnerRefCountSubscription(oe)),ne.add(se.subscribe(re)),ne},ee}(Observable),InnerRefCountSubscription=function(te){__extends(ee,te);function ee(re){var ne=te.call(this)||this;return ne.parent=re,re.count++,ne}return ee.prototype.unsubscribe=function(){var re=this.parent;!re.closed&&!this.closed&&(te.prototype.unsubscribe.call(this),re.count-=1,re.count===0&&re.attemptedToUnsubscribe&&re.unsubscribe())},ee}(Subscription),BehaviorSubject=function(te){__extends(ee,te);function ee(re){var ne=te.call(this)||this;return ne._value=re,ne}return Object.defineProperty(ee.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),ee.prototype._subscribe=function(re){var ne=te.prototype._subscribe.call(this,re);return ne&&!ne.closed&&re.next(this._value),ne},ee.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ObjectUnsubscribedError;return this._value},ee.prototype.next=function(re){te.prototype.next.call(this,this._value=re)},ee}(Subject),Action=function(te){__extends(ee,te);function ee(re,ne){return te.call(this)||this}return ee.prototype.schedule=function(re,ne){return this},ee}(Subscription),AsyncAction=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this,re,ne)||this;return ie.scheduler=re,ie.work=ne,ie.pending=!1,ie}return ee.prototype.schedule=function(re,ne){if(ne===void 0&&(ne=0),this.closed)return this;this.state=re;var ie=this.id,oe=this.scheduler;return ie!=null&&(this.id=this.recycleAsyncId(oe,ie,ne)),this.pending=!0,this.delay=ne,this.id=this.id||this.requestAsyncId(oe,this.id,ne),this},ee.prototype.requestAsyncId=function(re,ne,ie){return ie===void 0&&(ie=0),setInterval(re.flush.bind(re,this),ie)},ee.prototype.recycleAsyncId=function(re,ne,ie){if(ie===void 0&&(ie=0),ie!==null&&this.delay===ie&&this.pending===!1)return ne;clearInterval(ne)},ee.prototype.execute=function(re,ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var ie=this._execute(re,ne);if(ie)return ie;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},ee.prototype._execute=function(re,ne){var ie=!1,oe=void 0;try{this.work(re)}catch(se){ie=!0,oe=!!se&&se||new Error(se)}if(ie)return this.unsubscribe(),oe},ee.prototype._unsubscribe=function(){var re=this.id,ne=this.scheduler,ie=ne.actions,oe=ie.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,oe!==-1&&ie.splice(oe,1),re!=null&&(this.id=this.recycleAsyncId(ne,re,null)),this.delay=null},ee}(Action),QueueAction=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this,re,ne)||this;return ie.scheduler=re,ie.work=ne,ie}return ee.prototype.schedule=function(re,ne){return ne===void 0&&(ne=0),ne>0?te.prototype.schedule.call(this,re,ne):(this.delay=ne,this.state=re,this.scheduler.flush(this),this)},ee.prototype.execute=function(re,ne){return ne>0||this.closed?te.prototype.execute.call(this,re,ne):this._execute(re,ne)},ee.prototype.requestAsyncId=function(re,ne,ie){return ie===void 0&&(ie=0),ie!==null&&ie>0||ie===null&&this.delay>0?te.prototype.requestAsyncId.call(this,re,ne,ie):re.flush(this)},ee}(AsyncAction),Scheduler=function(){function te(ee,re){re===void 0&&(re=te.now),this.SchedulerAction=ee,this.now=re}return te.prototype.schedule=function(ee,re,ne){return re===void 0&&(re=0),new this.SchedulerAction(this,ee).schedule(ne,re)},te.now=function(){return Date.now()},te}(),AsyncScheduler=function(te){__extends(ee,te);function ee(re,ne){ne===void 0&&(ne=Scheduler.now);var ie=te.call(this,re,function(){return ee.delegate&&ee.delegate!==ie?ee.delegate.now():ne()})||this;return ie.actions=[],ie.active=!1,ie.scheduled=void 0,ie}return ee.prototype.schedule=function(re,ne,ie){return ne===void 0&&(ne=0),ee.delegate&&ee.delegate!==this?ee.delegate.schedule(re,ne,ie):te.prototype.schedule.call(this,re,ne,ie)},ee.prototype.flush=function(re){var ne=this.actions;if(this.active){ne.push(re);return}var ie;this.active=!0;do if(ie=re.execute(re.state,re.delay))break;while(re=ne.shift());if(this.active=!1,ie){for(;re=ne.shift();)re.unsubscribe();throw ie}},ee}(Scheduler),QueueScheduler=function(te){__extends(ee,te);function ee(){return te!==null&&te.apply(this,arguments)||this}return ee}(AsyncScheduler),queueScheduler=new QueueScheduler(QueueAction),queue=queueScheduler,EMPTY=new Observable(function(te){return te.complete()});function empty(te){return te?emptyScheduled(te):EMPTY}function emptyScheduled(te){return new Observable(function(ee){return te.schedule(function(){return ee.complete()})})}function isScheduler(te){return te&&typeof te.schedule=="function"}var subscribeToArray=function(te){return function(ee){for(var re=0,ne=te.length;re<ne&&!ee.closed;re++)ee.next(te[re]);ee.complete()}};function scheduleArray(te,ee){return new Observable(function(re){var ne=new Subscription,ie=0;return ne.add(ee.schedule(function(){if(ie===te.length){re.complete();return}re.next(te[ie++]),re.closed||ne.add(this.schedule())})),ne})}function fromArray(te,ee){return ee?scheduleArray(te,ee):new Observable(subscribeToArray(te))}function of(){for(var te=[],ee=0;ee<arguments.length;ee++)te[ee]=arguments[ee];var re=te[te.length-1];return isScheduler(re)?(te.pop(),scheduleArray(te,re)):fromArray(te)}function throwError(te,ee){return ee?new Observable(function(re){return ee.schedule(dispatch$7,0,{error:te,subscriber:re})}):new Observable(function(re){return re.error(te)})}function dispatch$7(te){var ee=te.error,re=te.subscriber;re.error(ee)}var NotificationKind;NotificationKind||(NotificationKind={});var Notification=function(){function te(ee,re,ne){this.kind=ee,this.value=re,this.error=ne,this.hasValue=ee==="N"}return te.prototype.observe=function(ee){switch(this.kind){case"N":return ee.next&&ee.next(this.value);case"E":return ee.error&&ee.error(this.error);case"C":return ee.complete&&ee.complete()}},te.prototype.do=function(ee,re,ne){var ie=this.kind;switch(ie){case"N":return ee&&ee(this.value);case"E":return re&&re(this.error);case"C":return ne&&ne()}},te.prototype.accept=function(ee,re,ne){return ee&&typeof ee.next=="function"?this.observe(ee):this.do(ee,re,ne)},te.prototype.toObservable=function(){var ee=this.kind;switch(ee){case"N":return of(this.value);case"E":return throwError(this.error);case"C":return empty()}throw new Error("unexpected notification kind value")},te.createNext=function(ee){return typeof ee!="undefined"?new te("N",ee):te.undefinedValueNotification},te.createError=function(ee){return new te("E",void 0,ee)},te.createComplete=function(){return te.completeNotification},te.completeNotification=new te("C"),te.undefinedValueNotification=new te("N",void 0),te}();function observeOn(te,ee){return ee===void 0&&(ee=0),function(ne){return ne.lift(new ObserveOnOperator(te,ee))}}var ObserveOnOperator=function(){function te(ee,re){re===void 0&&(re=0),this.scheduler=ee,this.delay=re}return te.prototype.call=function(ee,re){return re.subscribe(new ObserveOnSubscriber(ee,this.scheduler,this.delay))},te}(),ObserveOnSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie){ie===void 0&&(ie=0);var oe=te.call(this,re)||this;return oe.scheduler=ne,oe.delay=ie,oe}return ee.dispatch=function(re){var ne=re.notification,ie=re.destination;ne.observe(ie),this.unsubscribe()},ee.prototype.scheduleMessage=function(re){var ne=this.destination;ne.add(this.scheduler.schedule(ee.dispatch,this.delay,new ObserveOnMessage(re,this.destination)))},ee.prototype._next=function(re){this.scheduleMessage(Notification.createNext(re))},ee.prototype._error=function(re){this.scheduleMessage(Notification.createError(re)),this.unsubscribe()},ee.prototype._complete=function(){this.scheduleMessage(Notification.createComplete()),this.unsubscribe()},ee}(Subscriber),ObserveOnMessage=function(){function te(ee,re){this.notification=ee,this.destination=re}return te}(),ReplaySubject=function(te){__extends(ee,te);function ee(re,ne,ie){re===void 0&&(re=Number.POSITIVE_INFINITY),ne===void 0&&(ne=Number.POSITIVE_INFINITY);var oe=te.call(this)||this;return oe.scheduler=ie,oe._events=[],oe._infiniteTimeWindow=!1,oe._bufferSize=re<1?1:re,oe._windowTime=ne<1?1:ne,ne===Number.POSITIVE_INFINITY?(oe._infiniteTimeWindow=!0,oe.next=oe.nextInfiniteTimeWindow):oe.next=oe.nextTimeWindow,oe}return ee.prototype.nextInfiniteTimeWindow=function(re){if(!this.isStopped){var ne=this._events;ne.push(re),ne.length>this._bufferSize&&ne.shift()}te.prototype.next.call(this,re)},ee.prototype.nextTimeWindow=function(re){this.isStopped||(this._events.push(new ReplayEvent(this._getNow(),re)),this._trimBufferThenGetEvents()),te.prototype.next.call(this,re)},ee.prototype._subscribe=function(re){var ne=this._infiniteTimeWindow,ie=ne?this._events:this._trimBufferThenGetEvents(),oe=this.scheduler,se=ie.length,ae;if(this.closed)throw new ObjectUnsubscribedError;if(this.isStopped||this.hasError?ae=Subscription.EMPTY:(this.observers.push(re),ae=new SubjectSubscription(this,re)),oe&&re.add(re=new ObserveOnSubscriber(re,oe)),ne)for(var fe=0;fe<se&&!re.closed;fe++)re.next(ie[fe]);else for(var fe=0;fe<se&&!re.closed;fe++)re.next(ie[fe].value);return this.hasError?re.error(this.thrownError):this.isStopped&&re.complete(),ae},ee.prototype._getNow=function(){return(this.scheduler||queue).now()},ee.prototype._trimBufferThenGetEvents=function(){for(var re=this._getNow(),ne=this._bufferSize,ie=this._windowTime,oe=this._events,se=oe.length,ae=0;ae<se&&!(re-oe[ae].time<ie);)ae++;return se>ne&&(ae=Math.max(ae,se-ne)),ae>0&&oe.splice(0,ae),oe},ee}(Subject),ReplayEvent=function(){function te(ee,re){this.time=ee,this.value=re}return te}(),AsyncSubject=function(te){__extends(ee,te);function ee(){var re=te!==null&&te.apply(this,arguments)||this;return re.value=null,re.hasNext=!1,re.hasCompleted=!1,re}return ee.prototype._subscribe=function(re){return this.hasError?(re.error(this.thrownError),Subscription.EMPTY):this.hasCompleted&&this.hasNext?(re.next(this.value),re.complete(),Subscription.EMPTY):te.prototype._subscribe.call(this,re)},ee.prototype.next=function(re){this.hasCompleted||(this.value=re,this.hasNext=!0)},ee.prototype.error=function(re){this.hasCompleted||te.prototype.error.call(this,re)},ee.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&te.prototype.next.call(this,this.value),te.prototype.complete.call(this)},ee}(Subject),nextHandle=1,RESOLVED=function(){return Promise.resolve()}(),activeHandles={};function findAndClearHandle(te){return te in activeHandles?(delete activeHandles[te],!0):!1}var Immediate={setImmediate:function(te){var ee=nextHandle++;return activeHandles[ee]=!0,RESOLVED.then(function(){return findAndClearHandle(ee)&&te()}),ee},clearImmediate:function(te){findAndClearHandle(te)}},AsapAction=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this,re,ne)||this;return ie.scheduler=re,ie.work=ne,ie}return ee.prototype.requestAsyncId=function(re,ne,ie){return ie===void 0&&(ie=0),ie!==null&&ie>0?te.prototype.requestAsyncId.call(this,re,ne,ie):(re.actions.push(this),re.scheduled||(re.scheduled=Immediate.setImmediate(re.flush.bind(re,null))))},ee.prototype.recycleAsyncId=function(re,ne,ie){if(ie===void 0&&(ie=0),ie!==null&&ie>0||ie===null&&this.delay>0)return te.prototype.recycleAsyncId.call(this,re,ne,ie);re.actions.length===0&&(Immediate.clearImmediate(ne),re.scheduled=void 0)},ee}(AsyncAction),AsapScheduler=function(te){__extends(ee,te);function ee(){return te!==null&&te.apply(this,arguments)||this}return ee.prototype.flush=function(re){this.active=!0,this.scheduled=void 0;var ne=this.actions,ie,oe=-1,se=ne.length;re=re||ne.shift();do if(ie=re.execute(re.state,re.delay))break;while(++oe<se&&(re=ne.shift()));if(this.active=!1,ie){for(;++oe<se&&(re=ne.shift());)re.unsubscribe();throw ie}},ee}(AsyncScheduler),asapScheduler=new AsapScheduler(AsapAction),asap=asapScheduler,asyncScheduler=new AsyncScheduler(AsyncAction),async=asyncScheduler,AnimationFrameAction=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this,re,ne)||this;return ie.scheduler=re,ie.work=ne,ie}return ee.prototype.requestAsyncId=function(re,ne,ie){return ie===void 0&&(ie=0),ie!==null&&ie>0?te.prototype.requestAsyncId.call(this,re,ne,ie):(re.actions.push(this),re.scheduled||(re.scheduled=requestAnimationFrame(function(){return re.flush(null)})))},ee.prototype.recycleAsyncId=function(re,ne,ie){if(ie===void 0&&(ie=0),ie!==null&&ie>0||ie===null&&this.delay>0)return te.prototype.recycleAsyncId.call(this,re,ne,ie);re.actions.length===0&&(cancelAnimationFrame(ne),re.scheduled=void 0)},ee}(AsyncAction),AnimationFrameScheduler=function(te){__extends(ee,te);function ee(){return te!==null&&te.apply(this,arguments)||this}return ee.prototype.flush=function(re){this.active=!0,this.scheduled=void 0;var ne=this.actions,ie,oe=-1,se=ne.length;re=re||ne.shift();do if(ie=re.execute(re.state,re.delay))break;while(++oe<se&&(re=ne.shift()));if(this.active=!1,ie){for(;++oe<se&&(re=ne.shift());)re.unsubscribe();throw ie}},ee}(AsyncScheduler),animationFrameScheduler=new AnimationFrameScheduler(AnimationFrameAction),animationFrame=animationFrameScheduler,VirtualTimeScheduler=function(te){__extends(ee,te);function ee(re,ne){re===void 0&&(re=VirtualAction),ne===void 0&&(ne=Number.POSITIVE_INFINITY);var ie=te.call(this,re,function(){return ie.frame})||this;return ie.maxFrames=ne,ie.frame=0,ie.index=-1,ie}return ee.prototype.flush=function(){for(var re=this,ne=re.actions,ie=re.maxFrames,oe,se;(se=ne[0])&&se.delay<=ie&&(ne.shift(),this.frame=se.delay,!(oe=se.execute(se.state,se.delay))););if(oe){for(;se=ne.shift();)se.unsubscribe();throw oe}},ee.frameTimeFactor=10,ee}(AsyncScheduler),VirtualAction=function(te){__extends(ee,te);function ee(re,ne,ie){ie===void 0&&(ie=re.index+=1);var oe=te.call(this,re,ne)||this;return oe.scheduler=re,oe.work=ne,oe.index=ie,oe.active=!0,oe.index=re.index=ie,oe}return ee.prototype.schedule=function(re,ne){if(ne===void 0&&(ne=0),!this.id)return te.prototype.schedule.call(this,re,ne);this.active=!1;var ie=new ee(this.scheduler,this.work);return this.add(ie),ie.schedule(re,ne)},ee.prototype.requestAsyncId=function(re,ne,ie){ie===void 0&&(ie=0),this.delay=re.frame+ie;var oe=re.actions;return oe.push(this),oe.sort(ee.sortActions),!0},ee.prototype.recycleAsyncId=function(re,ne,ie){},ee.prototype._execute=function(re,ne){if(this.active===!0)return te.prototype._execute.call(this,re,ne)},ee.sortActions=function(re,ne){return re.delay===ne.delay?re.index===ne.index?0:re.index>ne.index?1:-1:re.delay>ne.delay?1:-1},ee}(AsyncAction);function noop$2(){}function isObservable(te){return!!te&&(te instanceof Observable||typeof te.lift=="function"&&typeof te.subscribe=="function")}var ArgumentOutOfRangeErrorImpl=function(){function te(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return te.prototype=Object.create(Error.prototype),te}(),ArgumentOutOfRangeError=ArgumentOutOfRangeErrorImpl,EmptyErrorImpl=function(){function te(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return te.prototype=Object.create(Error.prototype),te}(),EmptyError=EmptyErrorImpl,TimeoutErrorImpl=function(){function te(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return te.prototype=Object.create(Error.prototype),te}(),TimeoutError=TimeoutErrorImpl;function map(te,ee){return function(ne){if(typeof te!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ne.lift(new MapOperator(te,ee))}}var MapOperator=function(){function te(ee,re){this.project=ee,this.thisArg=re}return te.prototype.call=function(ee,re){return re.subscribe(new MapSubscriber(ee,this.project,this.thisArg))},te}(),MapSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie){var oe=te.call(this,re)||this;return oe.project=ne,oe.count=0,oe.thisArg=ie||oe,oe}return ee.prototype._next=function(re){var ne;try{ne=this.project.call(this.thisArg,re,this.count++)}catch(ie){this.destination.error(ie);return}this.destination.next(ne)},ee}(Subscriber);function bindCallback(te,ee,re){if(ee)if(isScheduler(ee))re=ee;else return function(){for(var ne=[],ie=0;ie<arguments.length;ie++)ne[ie]=arguments[ie];return bindCallback(te,re).apply(void 0,ne).pipe(map(function(oe){return isArray$1(oe)?ee.apply(void 0,oe):ee(oe)}))};return function(){for(var ne=[],ie=0;ie<arguments.length;ie++)ne[ie]=arguments[ie];var oe=this,se,ae={context:oe,subject:se,callbackFunc:te,scheduler:re};return new Observable(function(fe){if(re){var le={args:ne,subscriber:fe,params:ae};return re.schedule(dispatch$6,0,le)}else{if(!se){se=new AsyncSubject;var ue=function(){for(var pe=[],rr=0;rr<arguments.length;rr++)pe[rr]=arguments[rr];se.next(pe.length<=1?pe[0]:pe),se.complete()};try{te.apply(oe,ne.concat([ue]))}catch(pe){canReportError(se)?se.error(pe):console.warn(pe)}}return se.subscribe(fe)}})}}function dispatch$6(te){var ee=this,re=te.args,ne=te.subscriber,ie=te.params,oe=ie.callbackFunc,se=ie.context,ae=ie.scheduler,fe=ie.subject;if(!fe){fe=ie.subject=new AsyncSubject;var ue=function(){for(var le=[],pe=0;pe<arguments.length;pe++)le[pe]=arguments[pe];var rr=le.length<=1?le[0]:le;ee.add(ae.schedule(dispatchNext$3,0,{value:rr,subject:fe}))};try{oe.apply(se,re.concat([ue]))}catch(le){fe.error(le)}}this.add(fe.subscribe(ne))}function dispatchNext$3(te){var ee=te.value,re=te.subject;re.next(ee),re.complete()}function bindNodeCallback(te,ee,re){if(ee)if(isScheduler(ee))re=ee;else return function(){for(var ne=[],ie=0;ie<arguments.length;ie++)ne[ie]=arguments[ie];return bindNodeCallback(te,re).apply(void 0,ne).pipe(map(function(oe){return isArray$1(oe)?ee.apply(void 0,oe):ee(oe)}))};return function(){for(var ne=[],ie=0;ie<arguments.length;ie++)ne[ie]=arguments[ie];var oe={subject:void 0,args:ne,callbackFunc:te,scheduler:re,context:this};return new Observable(function(se){var ae=oe.context,fe=oe.subject;if(re)return re.schedule(dispatch$5,0,{params:oe,subscriber:se,context:ae});if(!fe){fe=oe.subject=new AsyncSubject;var ue=function(){for(var le=[],pe=0;pe<arguments.length;pe++)le[pe]=arguments[pe];var rr=le.shift();if(rr){fe.error(rr);return}fe.next(le.length<=1?le[0]:le),fe.complete()};try{te.apply(ae,ne.concat([ue]))}catch(le){canReportError(fe)?fe.error(le):console.warn(le)}}return fe.subscribe(se)})}}function dispatch$5(te){var ee=this,re=te.params,ne=te.subscriber,ie=te.context,oe=re.callbackFunc,se=re.args,ae=re.scheduler,fe=re.subject;if(!fe){fe=re.subject=new AsyncSubject;var ue=function(){for(var le=[],pe=0;pe<arguments.length;pe++)le[pe]=arguments[pe];var rr=le.shift();if(rr)ee.add(ae.schedule(dispatchError,0,{err:rr,subject:fe}));else{var cr=le.length<=1?le[0]:le;ee.add(ae.schedule(dispatchNext$2,0,{value:cr,subject:fe}))}};try{oe.apply(ie,se.concat([ue]))}catch(le){this.add(ae.schedule(dispatchError,0,{err:le,subject:fe}))}}this.add(fe.subscribe(ne))}function dispatchNext$2(te){var ee=te.value,re=te.subject;re.next(ee),re.complete()}function dispatchError(te){var ee=te.err,re=te.subject;re.error(ee)}var OuterSubscriber=function(te){__extends(ee,te);function ee(){return te!==null&&te.apply(this,arguments)||this}return ee.prototype.notifyNext=function(re,ne,ie,oe,se){this.destination.next(ne)},ee.prototype.notifyError=function(re,ne){this.destination.error(re)},ee.prototype.notifyComplete=function(re){this.destination.complete()},ee}(Subscriber),InnerSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie){var oe=te.call(this)||this;return oe.parent=re,oe.outerValue=ne,oe.outerIndex=ie,oe.index=0,oe}return ee.prototype._next=function(re){this.parent.notifyNext(this.outerValue,re,this.outerIndex,this.index++,this)},ee.prototype._error=function(re){this.parent.notifyError(re,this),this.unsubscribe()},ee.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},ee}(Subscriber),subscribeToPromise=function(te){return function(ee){return te.then(function(re){ee.closed||(ee.next(re),ee.complete())},function(re){return ee.error(re)}).then(null,hostReportError),ee}};function getSymbolIterator(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var iterator=getSymbolIterator(),subscribeToIterable=function(te){return function(ee){var re=te[iterator]();do{var ne=void 0;try{ne=re.next()}catch(ie){return ee.error(ie),ee}if(ne.done){ee.complete();break}if(ee.next(ne.value),ee.closed)break}while(!0);return typeof re.return=="function"&&ee.add(function(){re.return&&re.return()}),ee}},subscribeToObservable=function(te){return function(ee){var re=te[observable]();if(typeof re.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return re.subscribe(ee)}},isArrayLike=function(te){return te&&typeof te.length=="number"&&typeof te!="function"};function isPromise(te){return!!te&&typeof te.subscribe!="function"&&typeof te.then=="function"}var subscribeTo=function(te){if(!!te&&typeof te[observable]=="function")return subscribeToObservable(te);if(isArrayLike(te))return subscribeToArray(te);if(isPromise(te))return subscribeToPromise(te);if(!!te&&typeof te[iterator]=="function")return subscribeToIterable(te);var ee=isObject$1(te)?"an invalid object":"'"+te+"'",re="You provided "+ee+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(re)};function subscribeToResult(te,ee,re,ne,ie){if(ie===void 0&&(ie=new InnerSubscriber(te,re,ne)),!ie.closed)return ee instanceof Observable?ee.subscribe(ie):subscribeTo(ee)(ie)}var NONE={};function combineLatest$1(){for(var te=[],ee=0;ee<arguments.length;ee++)te[ee]=arguments[ee];var re=void 0,ne=void 0;return isScheduler(te[te.length-1])&&(ne=te.pop()),typeof te[te.length-1]=="function"&&(re=te.pop()),te.length===1&&isArray$1(te[0])&&(te=te[0]),fromArray(te,ne).lift(new CombineLatestOperator(re))}var CombineLatestOperator=function(){function te(ee){this.resultSelector=ee}return te.prototype.call=function(ee,re){return re.subscribe(new CombineLatestSubscriber(ee,this.resultSelector))},te}(),CombineLatestSubscriber=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this,re)||this;return ie.resultSelector=ne,ie.active=0,ie.values=[],ie.observables=[],ie}return ee.prototype._next=function(re){this.values.push(NONE),this.observables.push(re)},ee.prototype._complete=function(){var re=this.observables,ne=re.length;if(ne===0)this.destination.complete();else{this.active=ne,this.toRespond=ne;for(var ie=0;ie<ne;ie++){var oe=re[ie];this.add(subscribeToResult(this,oe,void 0,ie))}}},ee.prototype.notifyComplete=function(re){(this.active-=1)===0&&this.destination.complete()},ee.prototype.notifyNext=function(re,ne,ie){var oe=this.values,se=oe[ie],ae=this.toRespond?se===NONE?--this.toRespond:this.toRespond:0;oe[ie]=ne,ae===0&&(this.resultSelector?this._tryResultSelector(oe):this.destination.next(oe.slice()))},ee.prototype._tryResultSelector=function(re){var ne;try{ne=this.resultSelector.apply(this,re)}catch(ie){this.destination.error(ie);return}this.destination.next(ne)},ee}(OuterSubscriber);function scheduleObservable(te,ee){return new Observable(function(re){var ne=new Subscription;return ne.add(ee.schedule(function(){var ie=te[observable]();ne.add(ie.subscribe({next:function(oe){ne.add(ee.schedule(function(){return re.next(oe)}))},error:function(oe){ne.add(ee.schedule(function(){return re.error(oe)}))},complete:function(){ne.add(ee.schedule(function(){return re.complete()}))}}))})),ne})}function schedulePromise(te,ee){return new Observable(function(re){var ne=new Subscription;return ne.add(ee.schedule(function(){return te.then(function(ie){ne.add(ee.schedule(function(){re.next(ie),ne.add(ee.schedule(function(){return re.complete()}))}))},function(ie){ne.add(ee.schedule(function(){return re.error(ie)}))})})),ne})}function scheduleIterable(te,ee){if(!te)throw new Error("Iterable cannot be null");return new Observable(function(re){var ne=new Subscription,ie;return ne.add(function(){ie&&typeof ie.return=="function"&&ie.return()}),ne.add(ee.schedule(function(){ie=te[iterator](),ne.add(ee.schedule(function(){if(!re.closed){var oe,se;try{var ae=ie.next();oe=ae.value,se=ae.done}catch(fe){re.error(fe);return}se?re.complete():(re.next(oe),this.schedule())}}))})),ne})}function isInteropObservable(te){return te&&typeof te[observable]=="function"}function isIterable(te){return te&&typeof te[iterator]=="function"}function scheduled(te,ee){if(te!=null){if(isInteropObservable(te))return scheduleObservable(te,ee);if(isPromise(te))return schedulePromise(te,ee);if(isArrayLike(te))return scheduleArray(te,ee);if(isIterable(te)||typeof te=="string")return scheduleIterable(te,ee)}throw new TypeError((te!==null&&typeof te||te)+" is not observable")}function from(te,ee){return ee?scheduled(te,ee):te instanceof Observable?te:new Observable(subscribeTo(te))}var SimpleInnerSubscriber=function(te){__extends(ee,te);function ee(re){var ne=te.call(this)||this;return ne.parent=re,ne}return ee.prototype._next=function(re){this.parent.notifyNext(re)},ee.prototype._error=function(re){this.parent.notifyError(re),this.unsubscribe()},ee.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},ee}(Subscriber),SimpleOuterSubscriber=function(te){__extends(ee,te);function ee(){return te!==null&&te.apply(this,arguments)||this}return ee.prototype.notifyNext=function(re){this.destination.next(re)},ee.prototype.notifyError=function(re){this.destination.error(re)},ee.prototype.notifyComplete=function(){this.destination.complete()},ee}(Subscriber);function innerSubscribe(te,ee){if(!ee.closed){if(te instanceof Observable)return te.subscribe(ee);var re;try{re=subscribeTo(te)(ee)}catch(ne){ee.error(ne)}return re}}function mergeMap(te,ee,re){return re===void 0&&(re=Number.POSITIVE_INFINITY),typeof ee=="function"?function(ne){return ne.pipe(mergeMap(function(ie,oe){return from(te(ie,oe)).pipe(map(function(se,ae){return ee(ie,se,oe,ae)}))},re))}:(typeof ee=="number"&&(re=ee),function(ne){return ne.lift(new MergeMapOperator(te,re))})}var MergeMapOperator=function(){function te(ee,re){re===void 0&&(re=Number.POSITIVE_INFINITY),this.project=ee,this.concurrent=re}return te.prototype.call=function(ee,re){return re.subscribe(new MergeMapSubscriber(ee,this.project,this.concurrent))},te}(),MergeMapSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie){ie===void 0&&(ie=Number.POSITIVE_INFINITY);var oe=te.call(this,re)||this;return oe.project=ne,oe.concurrent=ie,oe.hasCompleted=!1,oe.buffer=[],oe.active=0,oe.index=0,oe}return ee.prototype._next=function(re){this.active<this.concurrent?this._tryNext(re):this.buffer.push(re)},ee.prototype._tryNext=function(re){var ne,ie=this.index++;try{ne=this.project(re,ie)}catch(oe){this.destination.error(oe);return}this.active++,this._innerSub(ne)},ee.prototype._innerSub=function(re){var ne=new SimpleInnerSubscriber(this),ie=this.destination;ie.add(ne);var oe=innerSubscribe(re,ne);oe!==ne&&ie.add(oe)},ee.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},ee.prototype.notifyNext=function(re){this.destination.next(re)},ee.prototype.notifyComplete=function(){var re=this.buffer;this.active--,re.length>0?this._next(re.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},ee}(SimpleOuterSubscriber),flatMap=mergeMap;function mergeAll(te){return te===void 0&&(te=Number.POSITIVE_INFINITY),mergeMap(identity,te)}function concatAll(){return mergeAll(1)}function concat$1(){for(var te=[],ee=0;ee<arguments.length;ee++)te[ee]=arguments[ee];return concatAll()(of.apply(void 0,te))}function defer(te){return new Observable(function(ee){var re;try{re=te()}catch(ie){ee.error(ie);return}var ne=re?from(re):empty();return ne.subscribe(ee)})}function forkJoin(){for(var te=[],ee=0;ee<arguments.length;ee++)te[ee]=arguments[ee];if(te.length===1){var re=te[0];if(isArray$1(re))return forkJoinInternal(re,null);if(isObject$1(re)&&Object.getPrototypeOf(re)===Object.prototype){var ne=Object.keys(re);return forkJoinInternal(ne.map(function(oe){return re[oe]}),ne)}}if(typeof te[te.length-1]=="function"){var ie=te.pop();return te=te.length===1&&isArray$1(te[0])?te[0]:te,forkJoinInternal(te,null).pipe(map(function(oe){return ie.apply(void 0,oe)}))}return forkJoinInternal(te,null)}function forkJoinInternal(te,ee){return new Observable(function(re){var ne=te.length;if(ne===0){re.complete();return}for(var ie=new Array(ne),oe=0,se=0,ae=function(ue){var le=from(te[ue]),pe=!1;re.add(le.subscribe({next:function(rr){pe||(pe=!0,se++),ie[ue]=rr},error:function(rr){return re.error(rr)},complete:function(){oe++,(oe===ne||!pe)&&(se===ne&&re.next(ee?ee.reduce(function(rr,cr,ar){return rr[cr]=ie[ar],rr},{}):ie),re.complete())}}))},fe=0;fe<ne;fe++)ae(fe)})}function fromEvent(te,ee,re,ne){return isFunction$1(re)&&(ne=re,re=void 0),ne?fromEvent(te,ee,re).pipe(map(function(ie){return isArray$1(ie)?ne.apply(void 0,ie):ne(ie)})):new Observable(function(ie){function oe(se){arguments.length>1?ie.next(Array.prototype.slice.call(arguments)):ie.next(se)}setupSubscription(te,ee,oe,ie,re)})}function setupSubscription(te,ee,re,ne,ie){var oe;if(isEventTarget(te)){var se=te;te.addEventListener(ee,re,ie),oe=function(){return se.removeEventListener(ee,re,ie)}}else if(isJQueryStyleEventEmitter(te)){var ae=te;te.on(ee,re),oe=function(){return ae.off(ee,re)}}else if(isNodeStyleEventEmitter(te)){var fe=te;te.addListener(ee,re),oe=function(){return fe.removeListener(ee,re)}}else if(te&&te.length)for(var ue=0,le=te.length;ue<le;ue++)setupSubscription(te[ue],ee,re,ne,ie);else throw new TypeError("Invalid event target");ne.add(oe)}function isNodeStyleEventEmitter(te){return te&&typeof te.addListener=="function"&&typeof te.removeListener=="function"}function isJQueryStyleEventEmitter(te){return te&&typeof te.on=="function"&&typeof te.off=="function"}function isEventTarget(te){return te&&typeof te.addEventListener=="function"&&typeof te.removeEventListener=="function"}function fromEventPattern(te,ee,re){return re?fromEventPattern(te,ee).pipe(map(function(ne){return isArray$1(ne)?re.apply(void 0,ne):re(ne)})):new Observable(function(ne){var ie=function(){for(var se=[],ae=0;ae<arguments.length;ae++)se[ae]=arguments[ae];return ne.next(se.length===1?se[0]:se)},oe;try{oe=te(ie)}catch(se){ne.error(se);return}if(!!isFunction$1(ee))return function(){return ee(ie,oe)}})}function generate(te,ee,re,ne,ie){var oe,se;if(arguments.length==1){var ae=te;se=ae.initialState,ee=ae.condition,re=ae.iterate,oe=ae.resultSelector||identity,ie=ae.scheduler}else ne===void 0||isScheduler(ne)?(se=te,oe=identity,ie=ne):(se=te,oe=ne);return new Observable(function(fe){var ue=se;if(ie)return ie.schedule(dispatch$4,0,{subscriber:fe,iterate:re,condition:ee,resultSelector:oe,state:ue});do{if(ee){var le=void 0;try{le=ee(ue)}catch(rr){fe.error(rr);return}if(!le){fe.complete();break}}var pe=void 0;try{pe=oe(ue)}catch(rr){fe.error(rr);return}if(fe.next(pe),fe.closed)break;try{ue=re(ue)}catch(rr){fe.error(rr);return}}while(!0)})}function dispatch$4(te){var ee=te.subscriber,re=te.condition;if(!ee.closed){if(te.needIterate)try{te.state=te.iterate(te.state)}catch(oe){ee.error(oe);return}else te.needIterate=!0;if(re){var ne=void 0;try{ne=re(te.state)}catch(oe){ee.error(oe);return}if(!ne){ee.complete();return}if(ee.closed)return}var ie;try{ie=te.resultSelector(te.state)}catch(oe){ee.error(oe);return}if(!ee.closed&&(ee.next(ie),!ee.closed))return this.schedule(te)}}function iif(te,ee,re){return ee===void 0&&(ee=EMPTY),re===void 0&&(re=EMPTY),defer(function(){return te()?ee:re})}function isNumeric(te){return!isArray$1(te)&&te-parseFloat(te)+1>=0}function interval(te,ee){return te===void 0&&(te=0),ee===void 0&&(ee=async),(!isNumeric(te)||te<0)&&(te=0),(!ee||typeof ee.schedule!="function")&&(ee=async),new Observable(function(re){return re.add(ee.schedule(dispatch$3,te,{subscriber:re,counter:0,period:te})),re})}function dispatch$3(te){var ee=te.subscriber,re=te.counter,ne=te.period;ee.next(re),this.schedule({subscriber:ee,counter:re+1,period:ne},ne)}function merge$1(){for(var te=[],ee=0;ee<arguments.length;ee++)te[ee]=arguments[ee];var re=Number.POSITIVE_INFINITY,ne=null,ie=te[te.length-1];return isScheduler(ie)?(ne=te.pop(),te.length>1&&typeof te[te.length-1]=="number"&&(re=te.pop())):typeof ie=="number"&&(re=te.pop()),ne===null&&te.length===1&&te[0]instanceof Observable?te[0]:mergeAll(re)(fromArray(te,ne))}var NEVER=new Observable(noop$2);function never(){return NEVER}function onErrorResumeNext$1(){for(var te=[],ee=0;ee<arguments.length;ee++)te[ee]=arguments[ee];if(te.length===0)return EMPTY;var re=te[0],ne=te.slice(1);return te.length===1&&isArray$1(re)?onErrorResumeNext$1.apply(void 0,re):new Observable(function(ie){var oe=function(){return ie.add(onErrorResumeNext$1.apply(void 0,ne).subscribe(ie))};return from(re).subscribe({next:function(se){ie.next(se)},error:oe,complete:oe})})}function pairs(te,ee){return ee?new Observable(function(re){var ne=Object.keys(te),ie=new Subscription;return ie.add(ee.schedule(dispatch$2,0,{keys:ne,index:0,subscriber:re,subscription:ie,obj:te})),ie}):new Observable(function(re){for(var ne=Object.keys(te),ie=0;ie<ne.length&&!re.closed;ie++){var oe=ne[ie];te.hasOwnProperty(oe)&&re.next([oe,te[oe]])}re.complete()})}function dispatch$2(te){var ee=te.keys,re=te.index,ne=te.subscriber,ie=te.subscription,oe=te.obj;if(!ne.closed)if(re<ee.length){var se=ee[re];ne.next([se,oe[se]]),ie.add(this.schedule({keys:ee,index:re+1,subscriber:ne,subscription:ie,obj:oe}))}else ne.complete()}function not(te,ee){function re(){return!re.pred.apply(re.thisArg,arguments)}return re.pred=te,re.thisArg=ee,re}function filter(te,ee){return function(ne){return ne.lift(new FilterOperator(te,ee))}}var FilterOperator=function(){function te(ee,re){this.predicate=ee,this.thisArg=re}return te.prototype.call=function(ee,re){return re.subscribe(new FilterSubscriber(ee,this.predicate,this.thisArg))},te}(),FilterSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie){var oe=te.call(this,re)||this;return oe.predicate=ne,oe.thisArg=ie,oe.count=0,oe}return ee.prototype._next=function(re){var ne;try{ne=this.predicate.call(this.thisArg,re,this.count++)}catch(ie){this.destination.error(ie);return}ne&&this.destination.next(re)},ee}(Subscriber);function partition$1(te,ee,re){return[filter(ee,re)(new Observable(subscribeTo(te))),filter(not(ee,re))(new Observable(subscribeTo(te)))]}function race$1(){for(var te=[],ee=0;ee<arguments.length;ee++)te[ee]=arguments[ee];if(te.length===1)if(isArray$1(te[0]))te=te[0];else return te[0];return fromArray(te,void 0).lift(new RaceOperator)}var RaceOperator=function(){function te(){}return te.prototype.call=function(ee,re){return re.subscribe(new RaceSubscriber(ee))},te}(),RaceSubscriber=function(te){__extends(ee,te);function ee(re){var ne=te.call(this,re)||this;return ne.hasFirst=!1,ne.observables=[],ne.subscriptions=[],ne}return ee.prototype._next=function(re){this.observables.push(re)},ee.prototype._complete=function(){var re=this.observables,ne=re.length;if(ne===0)this.destination.complete();else{for(var ie=0;ie<ne&&!this.hasFirst;ie++){var oe=re[ie],se=subscribeToResult(this,oe,void 0,ie);this.subscriptions&&this.subscriptions.push(se),this.add(se)}this.observables=null}},ee.prototype.notifyNext=function(re,ne,ie){if(!this.hasFirst){this.hasFirst=!0;for(var oe=0;oe<this.subscriptions.length;oe++)if(oe!==ie){var se=this.subscriptions[oe];se.unsubscribe(),this.remove(se)}this.subscriptions=null}this.destination.next(ne)},ee}(OuterSubscriber);function range$1(te,ee,re){return te===void 0&&(te=0),new Observable(function(ne){ee===void 0&&(ee=te,te=0);var ie=0,oe=te;if(re)return re.schedule(dispatch$1,0,{index:ie,count:ee,start:te,subscriber:ne});do{if(ie++>=ee){ne.complete();break}if(ne.next(oe++),ne.closed)break}while(!0)})}function dispatch$1(te){var ee=te.start,re=te.index,ne=te.count,ie=te.subscriber;if(re>=ne){ie.complete();return}ie.next(ee),!ie.closed&&(te.index=re+1,te.start=ee+1,this.schedule(te))}function timer$1(te,ee,re){te===void 0&&(te=0);var ne=-1;return isNumeric(ee)?ne=Number(ee)<1&&1||Number(ee):isScheduler(ee)&&(re=ee),isScheduler(re)||(re=async),new Observable(function(ie){var oe=isNumeric(te)?te:+te-re.now();return re.schedule(dispatch,oe,{index:0,period:ne,subscriber:ie})})}function dispatch(te){var ee=te.index,re=te.period,ne=te.subscriber;if(ne.next(ee),!ne.closed){if(re===-1)return ne.complete();te.index=ee+1,this.schedule(te,re)}}function using(te,ee){return new Observable(function(re){var ne;try{ne=te()}catch(ae){re.error(ae);return}var ie;try{ie=ee(ne)}catch(ae){re.error(ae);return}var oe=ie?from(ie):EMPTY,se=oe.subscribe(re);return function(){se.unsubscribe(),ne&&ne.unsubscribe()}})}function zip$1(){for(var te=[],ee=0;ee<arguments.length;ee++)te[ee]=arguments[ee];var re=te[te.length-1];return typeof re=="function"&&te.pop(),fromArray(te,void 0).lift(new ZipOperator(re))}var ZipOperator=function(){function te(ee){this.resultSelector=ee}return te.prototype.call=function(ee,re){return re.subscribe(new ZipSubscriber(ee,this.resultSelector))},te}(),ZipSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie){var oe=te.call(this,re)||this;return oe.resultSelector=ne,oe.iterators=[],oe.active=0,oe.resultSelector=typeof ne=="function"?ne:void 0,oe}return ee.prototype._next=function(re){var ne=this.iterators;isArray$1(re)?ne.push(new StaticArrayIterator(re)):typeof re[iterator]=="function"?ne.push(new StaticIterator(re[iterator]())):ne.push(new ZipBufferIterator(this.destination,this,re))},ee.prototype._complete=function(){var re=this.iterators,ne=re.length;if(this.unsubscribe(),ne===0){this.destination.complete();return}this.active=ne;for(var ie=0;ie<ne;ie++){var oe=re[ie];if(oe.stillUnsubscribed){var se=this.destination;se.add(oe.subscribe())}else this.active--}},ee.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},ee.prototype.checkIterators=function(){for(var re=this.iterators,ne=re.length,ie=this.destination,oe=0;oe<ne;oe++){var se=re[oe];if(typeof se.hasValue=="function"&&!se.hasValue())return}for(var ae=!1,fe=[],oe=0;oe<ne;oe++){var se=re[oe],ue=se.next();if(se.hasCompleted()&&(ae=!0),ue.done){ie.complete();return}fe.push(ue.value)}this.resultSelector?this._tryresultSelector(fe):ie.next(fe),ae&&ie.complete()},ee.prototype._tryresultSelector=function(re){var ne;try{ne=this.resultSelector.apply(this,re)}catch(ie){this.destination.error(ie);return}this.destination.next(ne)},ee}(Subscriber),StaticIterator=function(){function te(ee){this.iterator=ee,this.nextResult=ee.next()}return te.prototype.hasValue=function(){return!0},te.prototype.next=function(){var ee=this.nextResult;return this.nextResult=this.iterator.next(),ee},te.prototype.hasCompleted=function(){var ee=this.nextResult;return Boolean(ee&&ee.done)},te}(),StaticArrayIterator=function(){function te(ee){this.array=ee,this.index=0,this.length=0,this.length=ee.length}return te.prototype[iterator]=function(){return this},te.prototype.next=function(ee){var re=this.index++,ne=this.array;return re<this.length?{value:ne[re],done:!1}:{value:null,done:!0}},te.prototype.hasValue=function(){return this.array.length>this.index},te.prototype.hasCompleted=function(){return this.array.length===this.index},te}(),ZipBufferIterator=function(te){__extends(ee,te);function ee(re,ne,ie){var oe=te.call(this,re)||this;return oe.parent=ne,oe.observable=ie,oe.stillUnsubscribed=!0,oe.buffer=[],oe.isComplete=!1,oe}return ee.prototype[iterator]=function(){return this},ee.prototype.next=function(){var re=this.buffer;return re.length===0&&this.isComplete?{value:null,done:!0}:{value:re.shift(),done:!1}},ee.prototype.hasValue=function(){return this.buffer.length>0},ee.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},ee.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},ee.prototype.notifyNext=function(re){this.buffer.push(re),this.parent.checkIterators()},ee.prototype.subscribe=function(){return innerSubscribe(this.observable,new SimpleInnerSubscriber(this))},ee}(SimpleOuterSubscriber),_esm5=Object.freeze(Object.defineProperty({__proto__:null,Observable,ConnectableObservable,GroupedObservable,observable,Subject,BehaviorSubject,ReplaySubject,AsyncSubject,asap,asapScheduler,async,asyncScheduler,queue,queueScheduler,animationFrame,animationFrameScheduler,VirtualTimeScheduler,VirtualAction,Scheduler,Subscription,Subscriber,Notification,get NotificationKind(){return NotificationKind},pipe,noop:noop$2,identity,isObservable,ArgumentOutOfRangeError,EmptyError,ObjectUnsubscribedError,UnsubscriptionError,TimeoutError,bindCallback,bindNodeCallback,combineLatest:combineLatest$1,concat:concat$1,defer,empty,forkJoin,from,fromEvent,fromEventPattern,generate,iif,interval,merge:merge$1,never,of,onErrorResumeNext:onErrorResumeNext$1,pairs,partition:partition$1,race:race$1,range:range$1,throwError,timer:timer$1,using,zip:zip$1,scheduled,EMPTY,NEVER,config},Symbol.toStringTag,{value:"Module"})),require$$2$1=getAugmentedNamespace(_esm5);function audit(te){return function(re){return re.lift(new AuditOperator(te))}}var AuditOperator=function(){function te(ee){this.durationSelector=ee}return te.prototype.call=function(ee,re){return re.subscribe(new AuditSubscriber(ee,this.durationSelector))},te}(),AuditSubscriber=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this,re)||this;return ie.durationSelector=ne,ie.hasValue=!1,ie}return ee.prototype._next=function(re){if(this.value=re,this.hasValue=!0,!this.throttled){var ne=void 0;try{var ie=this.durationSelector;ne=ie(re)}catch(se){return this.destination.error(se)}var oe=innerSubscribe(ne,new SimpleInnerSubscriber(this));!oe||oe.closed?this.clearThrottle():this.add(this.throttled=oe)}},ee.prototype.clearThrottle=function(){var re=this,ne=re.value,ie=re.hasValue,oe=re.throttled;oe&&(this.remove(oe),this.throttled=void 0,oe.unsubscribe()),ie&&(this.value=void 0,this.hasValue=!1,this.destination.next(ne))},ee.prototype.notifyNext=function(){this.clearThrottle()},ee.prototype.notifyComplete=function(){this.clearThrottle()},ee}(SimpleOuterSubscriber);function auditTime(te,ee){return ee===void 0&&(ee=async),audit(function(){return timer$1(te,ee)})}function buffer(te){return function(re){return re.lift(new BufferOperator(te))}}var BufferOperator=function(){function te(ee){this.closingNotifier=ee}return te.prototype.call=function(ee,re){return re.subscribe(new BufferSubscriber(ee,this.closingNotifier))},te}(),BufferSubscriber=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this,re)||this;return ie.buffer=[],ie.add(innerSubscribe(ne,new SimpleInnerSubscriber(ie))),ie}return ee.prototype._next=function(re){this.buffer.push(re)},ee.prototype.notifyNext=function(){var re=this.buffer;this.buffer=[],this.destination.next(re)},ee}(SimpleOuterSubscriber);function bufferCount(te,ee){return ee===void 0&&(ee=null),function(ne){return ne.lift(new BufferCountOperator(te,ee))}}var BufferCountOperator=function(){function te(ee,re){this.bufferSize=ee,this.startBufferEvery=re,!re||ee===re?this.subscriberClass=BufferCountSubscriber:this.subscriberClass=BufferSkipCountSubscriber}return te.prototype.call=function(ee,re){return re.subscribe(new this.subscriberClass(ee,this.bufferSize,this.startBufferEvery))},te}(),BufferCountSubscriber=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this,re)||this;return ie.bufferSize=ne,ie.buffer=[],ie}return ee.prototype._next=function(re){var ne=this.buffer;ne.push(re),ne.length==this.bufferSize&&(this.destination.next(ne),this.buffer=[])},ee.prototype._complete=function(){var re=this.buffer;re.length>0&&this.destination.next(re),te.prototype._complete.call(this)},ee}(Subscriber),BufferSkipCountSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie){var oe=te.call(this,re)||this;return oe.bufferSize=ne,oe.startBufferEvery=ie,oe.buffers=[],oe.count=0,oe}return ee.prototype._next=function(re){var ne=this,ie=ne.bufferSize,oe=ne.startBufferEvery,se=ne.buffers,ae=ne.count;this.count++,ae%oe===0&&se.push([]);for(var fe=se.length;fe--;){var ue=se[fe];ue.push(re),ue.length===ie&&(se.splice(fe,1),this.destination.next(ue))}},ee.prototype._complete=function(){for(var re=this,ne=re.buffers,ie=re.destination;ne.length>0;){var oe=ne.shift();oe.length>0&&ie.next(oe)}te.prototype._complete.call(this)},ee}(Subscriber);function bufferTime(te){var ee=arguments.length,re=async;isScheduler(arguments[arguments.length-1])&&(re=arguments[arguments.length-1],ee--);var ne=null;ee>=2&&(ne=arguments[1]);var ie=Number.POSITIVE_INFINITY;return ee>=3&&(ie=arguments[2]),function(se){return se.lift(new BufferTimeOperator(te,ne,ie,re))}}var BufferTimeOperator=function(){function te(ee,re,ne,ie){this.bufferTimeSpan=ee,this.bufferCreationInterval=re,this.maxBufferSize=ne,this.scheduler=ie}return te.prototype.call=function(ee,re){return re.subscribe(new BufferTimeSubscriber(ee,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},te}(),Context=function(){function te(){this.buffer=[]}return te}(),BufferTimeSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie,oe,se){var ae=te.call(this,re)||this;ae.bufferTimeSpan=ne,ae.bufferCreationInterval=ie,ae.maxBufferSize=oe,ae.scheduler=se,ae.contexts=[];var fe=ae.openContext();if(ae.timespanOnly=ie==null||ie<0,ae.timespanOnly){var ue={subscriber:ae,context:fe,bufferTimeSpan:ne};ae.add(fe.closeAction=se.schedule(dispatchBufferTimeSpanOnly,ne,ue))}else{var le={subscriber:ae,context:fe},pe={bufferTimeSpan:ne,bufferCreationInterval:ie,subscriber:ae,scheduler:se};ae.add(fe.closeAction=se.schedule(dispatchBufferClose,ne,le)),ae.add(se.schedule(dispatchBufferCreation,ie,pe))}return ae}return ee.prototype._next=function(re){for(var ne=this.contexts,ie=ne.length,oe,se=0;se<ie;se++){var ae=ne[se],fe=ae.buffer;fe.push(re),fe.length==this.maxBufferSize&&(oe=ae)}oe&&this.onBufferFull(oe)},ee.prototype._error=function(re){this.contexts.length=0,te.prototype._error.call(this,re)},ee.prototype._complete=function(){for(var re=this,ne=re.contexts,ie=re.destination;ne.length>0;){var oe=ne.shift();ie.next(oe.buffer)}te.prototype._complete.call(this)},ee.prototype._unsubscribe=function(){this.contexts=null},ee.prototype.onBufferFull=function(re){this.closeContext(re);var ne=re.closeAction;if(ne.unsubscribe(),this.remove(ne),!this.closed&&this.timespanOnly){re=this.openContext();var ie=this.bufferTimeSpan,oe={subscriber:this,context:re,bufferTimeSpan:ie};this.add(re.closeAction=this.scheduler.schedule(dispatchBufferTimeSpanOnly,ie,oe))}},ee.prototype.openContext=function(){var re=new Context;return this.contexts.push(re),re},ee.prototype.closeContext=function(re){this.destination.next(re.buffer);var ne=this.contexts,ie=ne?ne.indexOf(re):-1;ie>=0&&ne.splice(ne.indexOf(re),1)},ee}(Subscriber);function dispatchBufferTimeSpanOnly(te){var ee=te.subscriber,re=te.context;re&&ee.closeContext(re),ee.closed||(te.context=ee.openContext(),te.context.closeAction=this.schedule(te,te.bufferTimeSpan))}function dispatchBufferCreation(te){var ee=te.bufferCreationInterval,re=te.bufferTimeSpan,ne=te.subscriber,ie=te.scheduler,oe=ne.openContext(),se=this;ne.closed||(ne.add(oe.closeAction=ie.schedule(dispatchBufferClose,re,{subscriber:ne,context:oe})),se.schedule(te,ee))}function dispatchBufferClose(te){var ee=te.subscriber,re=te.context;ee.closeContext(re)}function bufferToggle(te,ee){return function(ne){return ne.lift(new BufferToggleOperator(te,ee))}}var BufferToggleOperator=function(){function te(ee,re){this.openings=ee,this.closingSelector=re}return te.prototype.call=function(ee,re){return re.subscribe(new BufferToggleSubscriber(ee,this.openings,this.closingSelector))},te}(),BufferToggleSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie){var oe=te.call(this,re)||this;return oe.closingSelector=ie,oe.contexts=[],oe.add(subscribeToResult(oe,ne)),oe}return ee.prototype._next=function(re){for(var ne=this.contexts,ie=ne.length,oe=0;oe<ie;oe++)ne[oe].buffer.push(re)},ee.prototype._error=function(re){for(var ne=this.contexts;ne.length>0;){var ie=ne.shift();ie.subscription.unsubscribe(),ie.buffer=null,ie.subscription=null}this.contexts=null,te.prototype._error.call(this,re)},ee.prototype._complete=function(){for(var re=this.contexts;re.length>0;){var ne=re.shift();this.destination.next(ne.buffer),ne.subscription.unsubscribe(),ne.buffer=null,ne.subscription=null}this.contexts=null,te.prototype._complete.call(this)},ee.prototype.notifyNext=function(re,ne){re?this.closeBuffer(re):this.openBuffer(ne)},ee.prototype.notifyComplete=function(re){this.closeBuffer(re.context)},ee.prototype.openBuffer=function(re){try{var ne=this.closingSelector,ie=ne.call(this,re);ie&&this.trySubscribe(ie)}catch(oe){this._error(oe)}},ee.prototype.closeBuffer=function(re){var ne=this.contexts;if(ne&&re){var ie=re.buffer,oe=re.subscription;this.destination.next(ie),ne.splice(ne.indexOf(re),1),this.remove(oe),oe.unsubscribe()}},ee.prototype.trySubscribe=function(re){var ne=this.contexts,ie=[],oe=new Subscription,se={buffer:ie,subscription:oe};ne.push(se);var ae=subscribeToResult(this,re,se);!ae||ae.closed?this.closeBuffer(se):(ae.context=se,this.add(ae),oe.add(ae))},ee}(OuterSubscriber);function bufferWhen(te){return function(ee){return ee.lift(new BufferWhenOperator(te))}}var BufferWhenOperator=function(){function te(ee){this.closingSelector=ee}return te.prototype.call=function(ee,re){return re.subscribe(new BufferWhenSubscriber(ee,this.closingSelector))},te}(),BufferWhenSubscriber=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this,re)||this;return ie.closingSelector=ne,ie.subscribing=!1,ie.openBuffer(),ie}return ee.prototype._next=function(re){this.buffer.push(re)},ee.prototype._complete=function(){var re=this.buffer;re&&this.destination.next(re),te.prototype._complete.call(this)},ee.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},ee.prototype.notifyNext=function(){this.openBuffer()},ee.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},ee.prototype.openBuffer=function(){var re=this.closingSubscription;re&&(this.remove(re),re.unsubscribe());var ne=this.buffer;this.buffer&&this.destination.next(ne),this.buffer=[];var ie;try{var oe=this.closingSelector;ie=oe()}catch(se){return this.error(se)}re=new Subscription,this.closingSubscription=re,this.add(re),this.subscribing=!0,re.add(innerSubscribe(ie,new SimpleInnerSubscriber(this))),this.subscribing=!1},ee}(SimpleOuterSubscriber);function catchError(te){return function(re){var ne=new CatchOperator(te),ie=re.lift(ne);return ne.caught=ie}}var CatchOperator=function(){function te(ee){this.selector=ee}return te.prototype.call=function(ee,re){return re.subscribe(new CatchSubscriber(ee,this.selector,this.caught))},te}(),CatchSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie){var oe=te.call(this,re)||this;return oe.selector=ne,oe.caught=ie,oe}return ee.prototype.error=function(re){if(!this.isStopped){var ne=void 0;try{ne=this.selector(re,this.caught)}catch(se){te.prototype.error.call(this,se);return}this._unsubscribeAndRecycle();var ie=new SimpleInnerSubscriber(this);this.add(ie);var oe=innerSubscribe(ne,ie);oe!==ie&&this.add(oe)}},ee}(SimpleOuterSubscriber);function combineAll(te){return function(ee){return ee.lift(new CombineLatestOperator(te))}}function combineLatest(){for(var te=[],ee=0;ee<arguments.length;ee++)te[ee]=arguments[ee];var re=null;return typeof te[te.length-1]=="function"&&(re=te.pop()),te.length===1&&isArray$1(te[0])&&(te=te[0].slice()),function(ne){return ne.lift.call(from([ne].concat(te)),new CombineLatestOperator(re))}}function concat(){for(var te=[],ee=0;ee<arguments.length;ee++)te[ee]=arguments[ee];return function(re){return re.lift.call(concat$1.apply(void 0,[re].concat(te)))}}function concatMap(te,ee){return mergeMap(te,ee,1)}function concatMapTo(te,ee){return concatMap(function(){return te},ee)}function count(te){return function(ee){return ee.lift(new CountOperator(te,ee))}}var CountOperator=function(){function te(ee,re){this.predicate=ee,this.source=re}return te.prototype.call=function(ee,re){return re.subscribe(new CountSubscriber(ee,this.predicate,this.source))},te}(),CountSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie){var oe=te.call(this,re)||this;return oe.predicate=ne,oe.source=ie,oe.count=0,oe.index=0,oe}return ee.prototype._next=function(re){this.predicate?this._tryPredicate(re):this.count++},ee.prototype._tryPredicate=function(re){var ne;try{ne=this.predicate(re,this.index++,this.source)}catch(ie){this.destination.error(ie);return}ne&&this.count++},ee.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},ee}(Subscriber);function debounce(te){return function(ee){return ee.lift(new DebounceOperator(te))}}var DebounceOperator=function(){function te(ee){this.durationSelector=ee}return te.prototype.call=function(ee,re){return re.subscribe(new DebounceSubscriber(ee,this.durationSelector))},te}(),DebounceSubscriber=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this,re)||this;return ie.durationSelector=ne,ie.hasValue=!1,ie}return ee.prototype._next=function(re){try{var ne=this.durationSelector.call(this,re);ne&&this._tryNext(re,ne)}catch(ie){this.destination.error(ie)}},ee.prototype._complete=function(){this.emitValue(),this.destination.complete()},ee.prototype._tryNext=function(re,ne){var ie=this.durationSubscription;this.value=re,this.hasValue=!0,ie&&(ie.unsubscribe(),this.remove(ie)),ie=innerSubscribe(ne,new SimpleInnerSubscriber(this)),ie&&!ie.closed&&this.add(this.durationSubscription=ie)},ee.prototype.notifyNext=function(){this.emitValue()},ee.prototype.notifyComplete=function(){this.emitValue()},ee.prototype.emitValue=function(){if(this.hasValue){var re=this.value,ne=this.durationSubscription;ne&&(this.durationSubscription=void 0,ne.unsubscribe(),this.remove(ne)),this.value=void 0,this.hasValue=!1,te.prototype._next.call(this,re)}},ee}(SimpleOuterSubscriber);function debounceTime(te,ee){return ee===void 0&&(ee=async),function(re){return re.lift(new DebounceTimeOperator(te,ee))}}var DebounceTimeOperator=function(){function te(ee,re){this.dueTime=ee,this.scheduler=re}return te.prototype.call=function(ee,re){return re.subscribe(new DebounceTimeSubscriber(ee,this.dueTime,this.scheduler))},te}(),DebounceTimeSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie){var oe=te.call(this,re)||this;return oe.dueTime=ne,oe.scheduler=ie,oe.debouncedSubscription=null,oe.lastValue=null,oe.hasValue=!1,oe}return ee.prototype._next=function(re){this.clearDebounce(),this.lastValue=re,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(dispatchNext$1,this.dueTime,this))},ee.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},ee.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var re=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(re)}},ee.prototype.clearDebounce=function(){var re=this.debouncedSubscription;re!==null&&(this.remove(re),re.unsubscribe(),this.debouncedSubscription=null)},ee}(Subscriber);function dispatchNext$1(te){te.debouncedNext()}function defaultIfEmpty(te){return te===void 0&&(te=null),function(ee){return ee.lift(new DefaultIfEmptyOperator(te))}}var DefaultIfEmptyOperator=function(){function te(ee){this.defaultValue=ee}return te.prototype.call=function(ee,re){return re.subscribe(new DefaultIfEmptySubscriber(ee,this.defaultValue))},te}(),DefaultIfEmptySubscriber=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this,re)||this;return ie.defaultValue=ne,ie.isEmpty=!0,ie}return ee.prototype._next=function(re){this.isEmpty=!1,this.destination.next(re)},ee.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},ee}(Subscriber);function isDate$1(te){return te instanceof Date&&!isNaN(+te)}function delay(te,ee){ee===void 0&&(ee=async);var re=isDate$1(te),ne=re?+te-ee.now():Math.abs(te);return function(ie){return ie.lift(new DelayOperator(ne,ee))}}var DelayOperator=function(){function te(ee,re){this.delay=ee,this.scheduler=re}return te.prototype.call=function(ee,re){return re.subscribe(new DelaySubscriber(ee,this.delay,this.scheduler))},te}(),DelaySubscriber=function(te){__extends(ee,te);function ee(re,ne,ie){var oe=te.call(this,re)||this;return oe.delay=ne,oe.scheduler=ie,oe.queue=[],oe.active=!1,oe.errored=!1,oe}return ee.dispatch=function(re){for(var ne=re.source,ie=ne.queue,oe=re.scheduler,se=re.destination;ie.length>0&&ie[0].time-oe.now()<=0;)ie.shift().notification.observe(se);if(ie.length>0){var ae=Math.max(0,ie[0].time-oe.now());this.schedule(re,ae)}else this.unsubscribe(),ne.active=!1},ee.prototype._schedule=function(re){this.active=!0;var ne=this.destination;ne.add(re.schedule(ee.dispatch,this.delay,{source:this,destination:this.destination,scheduler:re}))},ee.prototype.scheduleNotification=function(re){if(this.errored!==!0){var ne=this.scheduler,ie=new DelayMessage(ne.now()+this.delay,re);this.queue.push(ie),this.active===!1&&this._schedule(ne)}},ee.prototype._next=function(re){this.scheduleNotification(Notification.createNext(re))},ee.prototype._error=function(re){this.errored=!0,this.queue=[],this.destination.error(re),this.unsubscribe()},ee.prototype._complete=function(){this.scheduleNotification(Notification.createComplete()),this.unsubscribe()},ee}(Subscriber),DelayMessage=function(){function te(ee,re){this.time=ee,this.notification=re}return te}();function delayWhen(te,ee){return ee?function(re){return new SubscriptionDelayObservable(re,ee).lift(new DelayWhenOperator(te))}:function(re){return re.lift(new DelayWhenOperator(te))}}var DelayWhenOperator=function(){function te(ee){this.delayDurationSelector=ee}return te.prototype.call=function(ee,re){return re.subscribe(new DelayWhenSubscriber(ee,this.delayDurationSelector))},te}(),DelayWhenSubscriber=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this,re)||this;return ie.delayDurationSelector=ne,ie.completed=!1,ie.delayNotifierSubscriptions=[],ie.index=0,ie}return ee.prototype.notifyNext=function(re,ne,ie,oe,se){this.destination.next(re),this.removeSubscription(se),this.tryComplete()},ee.prototype.notifyError=function(re,ne){this._error(re)},ee.prototype.notifyComplete=function(re){var ne=this.removeSubscription(re);ne&&this.destination.next(ne),this.tryComplete()},ee.prototype._next=function(re){var ne=this.index++;try{var ie=this.delayDurationSelector(re,ne);ie&&this.tryDelay(ie,re)}catch(oe){this.destination.error(oe)}},ee.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},ee.prototype.removeSubscription=function(re){re.unsubscribe();var ne=this.delayNotifierSubscriptions.indexOf(re);return ne!==-1&&this.delayNotifierSubscriptions.splice(ne,1),re.outerValue},ee.prototype.tryDelay=function(re,ne){var ie=subscribeToResult(this,re,ne);if(ie&&!ie.closed){var oe=this.destination;oe.add(ie),this.delayNotifierSubscriptions.push(ie)}},ee.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},ee}(OuterSubscriber),SubscriptionDelayObservable=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this)||this;return ie.source=re,ie.subscriptionDelay=ne,ie}return ee.prototype._subscribe=function(re){this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(re,this.source))},ee}(Observable),SubscriptionDelaySubscriber=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this)||this;return ie.parent=re,ie.source=ne,ie.sourceSubscribed=!1,ie}return ee.prototype._next=function(re){this.subscribeToSource()},ee.prototype._error=function(re){this.unsubscribe(),this.parent.error(re)},ee.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},ee.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},ee}(Subscriber);function dematerialize(){return function(ee){return ee.lift(new DeMaterializeOperator)}}var DeMaterializeOperator=function(){function te(){}return te.prototype.call=function(ee,re){return re.subscribe(new DeMaterializeSubscriber(ee))},te}(),DeMaterializeSubscriber=function(te){__extends(ee,te);function ee(re){return te.call(this,re)||this}return ee.prototype._next=function(re){re.observe(this.destination)},ee}(Subscriber);function distinct(te,ee){return function(re){return re.lift(new DistinctOperator(te,ee))}}var DistinctOperator=function(){function te(ee,re){this.keySelector=ee,this.flushes=re}return te.prototype.call=function(ee,re){return re.subscribe(new DistinctSubscriber(ee,this.keySelector,this.flushes))},te}(),DistinctSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie){var oe=te.call(this,re)||this;return oe.keySelector=ne,oe.values=new Set,ie&&oe.add(innerSubscribe(ie,new SimpleInnerSubscriber(oe))),oe}return ee.prototype.notifyNext=function(){this.values.clear()},ee.prototype.notifyError=function(re){this._error(re)},ee.prototype._next=function(re){this.keySelector?this._useKeySelector(re):this._finalizeNext(re,re)},ee.prototype._useKeySelector=function(re){var ne,ie=this.destination;try{ne=this.keySelector(re)}catch(oe){ie.error(oe);return}this._finalizeNext(ne,re)},ee.prototype._finalizeNext=function(re,ne){var ie=this.values;ie.has(re)||(ie.add(re),this.destination.next(ne))},ee}(SimpleOuterSubscriber);function distinctUntilChanged(te,ee){return function(re){return re.lift(new DistinctUntilChangedOperator(te,ee))}}var DistinctUntilChangedOperator=function(){function te(ee,re){this.compare=ee,this.keySelector=re}return te.prototype.call=function(ee,re){return re.subscribe(new DistinctUntilChangedSubscriber(ee,this.compare,this.keySelector))},te}(),DistinctUntilChangedSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie){var oe=te.call(this,re)||this;return oe.keySelector=ie,oe.hasKey=!1,typeof ne=="function"&&(oe.compare=ne),oe}return ee.prototype.compare=function(re,ne){return re===ne},ee.prototype._next=function(re){var ne;try{var ie=this.keySelector;ne=ie?ie(re):re}catch(ae){return this.destination.error(ae)}var oe=!1;if(this.hasKey)try{var se=this.compare;oe=se(this.key,ne)}catch(ae){return this.destination.error(ae)}else this.hasKey=!0;oe||(this.key=ne,this.destination.next(re))},ee}(Subscriber);function distinctUntilKeyChanged(te,ee){return distinctUntilChanged(function(re,ne){return ee?ee(re[te],ne[te]):re[te]===ne[te]})}function throwIfEmpty(te){return te===void 0&&(te=defaultErrorFactory),function(ee){return ee.lift(new ThrowIfEmptyOperator(te))}}var ThrowIfEmptyOperator=function(){function te(ee){this.errorFactory=ee}return te.prototype.call=function(ee,re){return re.subscribe(new ThrowIfEmptySubscriber(ee,this.errorFactory))},te}(),ThrowIfEmptySubscriber=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this,re)||this;return ie.errorFactory=ne,ie.hasValue=!1,ie}return ee.prototype._next=function(re){this.hasValue=!0,this.destination.next(re)},ee.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var re=void 0;try{re=this.errorFactory()}catch(ne){re=ne}this.destination.error(re)},ee}(Subscriber);function defaultErrorFactory(){return new EmptyError}function take(te){return function(ee){return te===0?empty():ee.lift(new TakeOperator(te))}}var TakeOperator=function(){function te(ee){if(this.total=ee,this.total<0)throw new ArgumentOutOfRangeError}return te.prototype.call=function(ee,re){return re.subscribe(new TakeSubscriber(ee,this.total))},te}(),TakeSubscriber=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this,re)||this;return ie.total=ne,ie.count=0,ie}return ee.prototype._next=function(re){var ne=this.total,ie=++this.count;ie<=ne&&(this.destination.next(re),ie===ne&&(this.destination.complete(),this.unsubscribe()))},ee}(Subscriber);function elementAt(te,ee){if(te<0)throw new ArgumentOutOfRangeError;var re=arguments.length>=2;return function(ne){return ne.pipe(filter(function(ie,oe){return oe===te}),take(1),re?defaultIfEmpty(ee):throwIfEmpty(function(){return new ArgumentOutOfRangeError}))}}function endWith(){for(var te=[],ee=0;ee<arguments.length;ee++)te[ee]=arguments[ee];return function(re){return concat$1(re,of.apply(void 0,te))}}function every(te,ee){return function(re){return re.lift(new EveryOperator(te,ee,re))}}var EveryOperator=function(){function te(ee,re,ne){this.predicate=ee,this.thisArg=re,this.source=ne}return te.prototype.call=function(ee,re){return re.subscribe(new EverySubscriber(ee,this.predicate,this.thisArg,this.source))},te}(),EverySubscriber=function(te){__extends(ee,te);function ee(re,ne,ie,oe){var se=te.call(this,re)||this;return se.predicate=ne,se.thisArg=ie,se.source=oe,se.index=0,se.thisArg=ie||se,se}return ee.prototype.notifyComplete=function(re){this.destination.next(re),this.destination.complete()},ee.prototype._next=function(re){var ne=!1;try{ne=this.predicate.call(this.thisArg,re,this.index++,this.source)}catch(ie){this.destination.error(ie);return}ne||this.notifyComplete(!1)},ee.prototype._complete=function(){this.notifyComplete(!0)},ee}(Subscriber);function exhaust(){return function(te){return te.lift(new SwitchFirstOperator)}}var SwitchFirstOperator=function(){function te(){}return te.prototype.call=function(ee,re){return re.subscribe(new SwitchFirstSubscriber(ee))},te}(),SwitchFirstSubscriber=function(te){__extends(ee,te);function ee(re){var ne=te.call(this,re)||this;return ne.hasCompleted=!1,ne.hasSubscription=!1,ne}return ee.prototype._next=function(re){this.hasSubscription||(this.hasSubscription=!0,this.add(innerSubscribe(re,new SimpleInnerSubscriber(this))))},ee.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},ee.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},ee}(SimpleOuterSubscriber);function exhaustMap(te,ee){return ee?function(re){return re.pipe(exhaustMap(function(ne,ie){return from(te(ne,ie)).pipe(map(function(oe,se){return ee(ne,oe,ie,se)}))}))}:function(re){return re.lift(new ExhaustMapOperator(te))}}var ExhaustMapOperator=function(){function te(ee){this.project=ee}return te.prototype.call=function(ee,re){return re.subscribe(new ExhaustMapSubscriber(ee,this.project))},te}(),ExhaustMapSubscriber=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this,re)||this;return ie.project=ne,ie.hasSubscription=!1,ie.hasCompleted=!1,ie.index=0,ie}return ee.prototype._next=function(re){this.hasSubscription||this.tryNext(re)},ee.prototype.tryNext=function(re){var ne,ie=this.index++;try{ne=this.project(re,ie)}catch(oe){this.destination.error(oe);return}this.hasSubscription=!0,this._innerSub(ne)},ee.prototype._innerSub=function(re){var ne=new SimpleInnerSubscriber(this),ie=this.destination;ie.add(ne);var oe=innerSubscribe(re,ne);oe!==ne&&ie.add(oe)},ee.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},ee.prototype.notifyNext=function(re){this.destination.next(re)},ee.prototype.notifyError=function(re){this.destination.error(re)},ee.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},ee}(SimpleOuterSubscriber);function expand(te,ee,re){return ee===void 0&&(ee=Number.POSITIVE_INFINITY),ee=(ee||0)<1?Number.POSITIVE_INFINITY:ee,function(ne){return ne.lift(new ExpandOperator(te,ee,re))}}var ExpandOperator=function(){function te(ee,re,ne){this.project=ee,this.concurrent=re,this.scheduler=ne}return te.prototype.call=function(ee,re){return re.subscribe(new ExpandSubscriber(ee,this.project,this.concurrent,this.scheduler))},te}(),ExpandSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie,oe){var se=te.call(this,re)||this;return se.project=ne,se.concurrent=ie,se.scheduler=oe,se.index=0,se.active=0,se.hasCompleted=!1,ie<Number.POSITIVE_INFINITY&&(se.buffer=[]),se}return ee.dispatch=function(re){var ne=re.subscriber,ie=re.result,oe=re.value,se=re.index;ne.subscribeToProjection(ie,oe,se)},ee.prototype._next=function(re){var ne=this.destination;if(ne.closed){this._complete();return}var ie=this.index++;if(this.active<this.concurrent){ne.next(re);try{var oe=this.project,se=oe(re,ie);if(!this.scheduler)this.subscribeToProjection(se,re,ie);else{var ae={subscriber:this,result:se,value:re,index:ie},fe=this.destination;fe.add(this.scheduler.schedule(ee.dispatch,0,ae))}}catch(ue){ne.error(ue)}}else this.buffer.push(re)},ee.prototype.subscribeToProjection=function(re,ne,ie){this.active++;var oe=this.destination;oe.add(innerSubscribe(re,new SimpleInnerSubscriber(this)))},ee.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},ee.prototype.notifyNext=function(re){this._next(re)},ee.prototype.notifyComplete=function(){var re=this.buffer;this.active--,re&&re.length>0&&this._next(re.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},ee}(SimpleOuterSubscriber);function finalize(te){return function(ee){return ee.lift(new FinallyOperator(te))}}var FinallyOperator=function(){function te(ee){this.callback=ee}return te.prototype.call=function(ee,re){return re.subscribe(new FinallySubscriber(ee,this.callback))},te}(),FinallySubscriber=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this,re)||this;return ie.add(new Subscription(ne)),ie}return ee}(Subscriber);function find(te,ee){if(typeof te!="function")throw new TypeError("predicate is not a function");return function(re){return re.lift(new FindValueOperator(te,re,!1,ee))}}var FindValueOperator=function(){function te(ee,re,ne,ie){this.predicate=ee,this.source=re,this.yieldIndex=ne,this.thisArg=ie}return te.prototype.call=function(ee,re){return re.subscribe(new FindValueSubscriber(ee,this.predicate,this.source,this.yieldIndex,this.thisArg))},te}(),FindValueSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie,oe,se){var ae=te.call(this,re)||this;return ae.predicate=ne,ae.source=ie,ae.yieldIndex=oe,ae.thisArg=se,ae.index=0,ae}return ee.prototype.notifyComplete=function(re){var ne=this.destination;ne.next(re),ne.complete(),this.unsubscribe()},ee.prototype._next=function(re){var ne=this,ie=ne.predicate,oe=ne.thisArg,se=this.index++;try{var ae=ie.call(oe||this,re,se,this.source);ae&&this.notifyComplete(this.yieldIndex?se:re)}catch(fe){this.destination.error(fe)}},ee.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},ee}(Subscriber);function findIndex$1(te,ee){return function(re){return re.lift(new FindValueOperator(te,re,!0,ee))}}function first(te,ee){var re=arguments.length>=2;return function(ne){return ne.pipe(te?filter(function(ie,oe){return te(ie,oe,ne)}):identity,take(1),re?defaultIfEmpty(ee):throwIfEmpty(function(){return new EmptyError}))}}function ignoreElements(){return function(ee){return ee.lift(new IgnoreElementsOperator)}}var IgnoreElementsOperator=function(){function te(){}return te.prototype.call=function(ee,re){return re.subscribe(new IgnoreElementsSubscriber(ee))},te}(),IgnoreElementsSubscriber=function(te){__extends(ee,te);function ee(){return te!==null&&te.apply(this,arguments)||this}return ee.prototype._next=function(re){},ee}(Subscriber);function isEmpty(){return function(te){return te.lift(new IsEmptyOperator)}}var IsEmptyOperator=function(){function te(){}return te.prototype.call=function(ee,re){return re.subscribe(new IsEmptySubscriber(ee))},te}(),IsEmptySubscriber=function(te){__extends(ee,te);function ee(re){return te.call(this,re)||this}return ee.prototype.notifyComplete=function(re){var ne=this.destination;ne.next(re),ne.complete()},ee.prototype._next=function(re){this.notifyComplete(!1)},ee.prototype._complete=function(){this.notifyComplete(!0)},ee}(Subscriber);function takeLast(te){return function(re){return te===0?empty():re.lift(new TakeLastOperator(te))}}var TakeLastOperator=function(){function te(ee){if(this.total=ee,this.total<0)throw new ArgumentOutOfRangeError}return te.prototype.call=function(ee,re){return re.subscribe(new TakeLastSubscriber(ee,this.total))},te}(),TakeLastSubscriber=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this,re)||this;return ie.total=ne,ie.ring=new Array,ie.count=0,ie}return ee.prototype._next=function(re){var ne=this.ring,ie=this.total,oe=this.count++;if(ne.length<ie)ne.push(re);else{var se=oe%ie;ne[se]=re}},ee.prototype._complete=function(){var re=this.destination,ne=this.count;if(ne>0)for(var ie=this.count>=this.total?this.total:this.count,oe=this.ring,se=0;se<ie;se++){var ae=ne++%ie;re.next(oe[ae])}re.complete()},ee}(Subscriber);function last(te,ee){var re=arguments.length>=2;return function(ne){return ne.pipe(te?filter(function(ie,oe){return te(ie,oe,ne)}):identity,takeLast(1),re?defaultIfEmpty(ee):throwIfEmpty(function(){return new EmptyError}))}}function mapTo(te){return function(ee){return ee.lift(new MapToOperator(te))}}var MapToOperator=function(){function te(ee){this.value=ee}return te.prototype.call=function(ee,re){return re.subscribe(new MapToSubscriber(ee,this.value))},te}(),MapToSubscriber=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this,re)||this;return ie.value=ne,ie}return ee.prototype._next=function(re){this.destination.next(this.value)},ee}(Subscriber);function materialize(){return function(ee){return ee.lift(new MaterializeOperator)}}var MaterializeOperator=function(){function te(){}return te.prototype.call=function(ee,re){return re.subscribe(new MaterializeSubscriber(ee))},te}(),MaterializeSubscriber=function(te){__extends(ee,te);function ee(re){return te.call(this,re)||this}return ee.prototype._next=function(re){this.destination.next(Notification.createNext(re))},ee.prototype._error=function(re){var ne=this.destination;ne.next(Notification.createError(re)),ne.complete()},ee.prototype._complete=function(){var re=this.destination;re.next(Notification.createComplete()),re.complete()},ee}(Subscriber);function scan(te,ee){var re=!1;return arguments.length>=2&&(re=!0),function(ie){return ie.lift(new ScanOperator(te,ee,re))}}var ScanOperator=function(){function te(ee,re,ne){ne===void 0&&(ne=!1),this.accumulator=ee,this.seed=re,this.hasSeed=ne}return te.prototype.call=function(ee,re){return re.subscribe(new ScanSubscriber(ee,this.accumulator,this.seed,this.hasSeed))},te}(),ScanSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie,oe){var se=te.call(this,re)||this;return se.accumulator=ne,se._seed=ie,se.hasSeed=oe,se.index=0,se}return Object.defineProperty(ee.prototype,"seed",{get:function(){return this._seed},set:function(re){this.hasSeed=!0,this._seed=re},enumerable:!0,configurable:!0}),ee.prototype._next=function(re){if(!this.hasSeed)this.seed=re,this.destination.next(re);else return this._tryNext(re)},ee.prototype._tryNext=function(re){var ne=this.index++,ie;try{ie=this.accumulator(this.seed,re,ne)}catch(oe){this.destination.error(oe)}this.seed=ie,this.destination.next(ie)},ee}(Subscriber);function reduce(te,ee){return arguments.length>=2?function(ne){return pipe(scan(te,ee),takeLast(1),defaultIfEmpty(ee))(ne)}:function(ne){return pipe(scan(function(ie,oe,se){return te(ie,oe,se+1)}),takeLast(1))(ne)}}function max(te){var ee=typeof te=="function"?function(re,ne){return te(re,ne)>0?re:ne}:function(re,ne){return re>ne?re:ne};return reduce(ee)}function merge(){for(var te=[],ee=0;ee<arguments.length;ee++)te[ee]=arguments[ee];return function(re){return re.lift.call(merge$1.apply(void 0,[re].concat(te)))}}function mergeMapTo(te,ee,re){return re===void 0&&(re=Number.POSITIVE_INFINITY),typeof ee=="function"?mergeMap(function(){return te},ee,re):(typeof ee=="number"&&(re=ee),mergeMap(function(){return te},re))}function mergeScan(te,ee,re){return re===void 0&&(re=Number.POSITIVE_INFINITY),function(ne){return ne.lift(new MergeScanOperator(te,ee,re))}}var MergeScanOperator=function(){function te(ee,re,ne){this.accumulator=ee,this.seed=re,this.concurrent=ne}return te.prototype.call=function(ee,re){return re.subscribe(new MergeScanSubscriber(ee,this.accumulator,this.seed,this.concurrent))},te}(),MergeScanSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie,oe){var se=te.call(this,re)||this;return se.accumulator=ne,se.acc=ie,se.concurrent=oe,se.hasValue=!1,se.hasCompleted=!1,se.buffer=[],se.active=0,se.index=0,se}return ee.prototype._next=function(re){if(this.active<this.concurrent){var ne=this.index++,ie=this.destination,oe=void 0;try{var se=this.accumulator;oe=se(this.acc,re,ne)}catch(ae){return ie.error(ae)}this.active++,this._innerSub(oe)}else this.buffer.push(re)},ee.prototype._innerSub=function(re){var ne=new SimpleInnerSubscriber(this),ie=this.destination;ie.add(ne);var oe=innerSubscribe(re,ne);oe!==ne&&ie.add(oe)},ee.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},ee.prototype.notifyNext=function(re){var ne=this.destination;this.acc=re,this.hasValue=!0,ne.next(re)},ee.prototype.notifyComplete=function(){var re=this.buffer;this.active--,re.length>0?this._next(re.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},ee}(SimpleOuterSubscriber);function min(te){var ee=typeof te=="function"?function(re,ne){return te(re,ne)<0?re:ne}:function(re,ne){return re<ne?re:ne};return reduce(ee)}function multicast(te,ee){return function(ne){var ie;if(typeof te=="function"?ie=te:ie=function(){return te},typeof ee=="function")return ne.lift(new MulticastOperator(ie,ee));var oe=Object.create(ne,connectableObservableDescriptor);return oe.source=ne,oe.subjectFactory=ie,oe}}var MulticastOperator=function(){function te(ee,re){this.subjectFactory=ee,this.selector=re}return te.prototype.call=function(ee,re){var ne=this.selector,ie=this.subjectFactory(),oe=ne(ie).subscribe(ee);return oe.add(re.subscribe(ie)),oe},te}();function onErrorResumeNext(){for(var te=[],ee=0;ee<arguments.length;ee++)te[ee]=arguments[ee];return te.length===1&&isArray$1(te[0])&&(te=te[0]),function(re){return re.lift(new OnErrorResumeNextOperator(te))}}var OnErrorResumeNextOperator=function(){function te(ee){this.nextSources=ee}return te.prototype.call=function(ee,re){return re.subscribe(new OnErrorResumeNextSubscriber(ee,this.nextSources))},te}(),OnErrorResumeNextSubscriber=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this,re)||this;return ie.destination=re,ie.nextSources=ne,ie}return ee.prototype.notifyError=function(){this.subscribeToNextSource()},ee.prototype.notifyComplete=function(){this.subscribeToNextSource()},ee.prototype._error=function(re){this.subscribeToNextSource(),this.unsubscribe()},ee.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},ee.prototype.subscribeToNextSource=function(){var re=this.nextSources.shift();if(re){var ne=new SimpleInnerSubscriber(this),ie=this.destination;ie.add(ne);var oe=innerSubscribe(re,ne);oe!==ne&&ie.add(oe)}else this.destination.complete()},ee}(SimpleOuterSubscriber);function pairwise(){return function(te){return te.lift(new PairwiseOperator)}}var PairwiseOperator=function(){function te(){}return te.prototype.call=function(ee,re){return re.subscribe(new PairwiseSubscriber(ee))},te}(),PairwiseSubscriber=function(te){__extends(ee,te);function ee(re){var ne=te.call(this,re)||this;return ne.hasPrev=!1,ne}return ee.prototype._next=function(re){var ne;this.hasPrev?ne=[this.prev,re]:this.hasPrev=!0,this.prev=re,ne&&this.destination.next(ne)},ee}(Subscriber);function partition(te,ee){return function(re){return[filter(te,ee)(re),filter(not(te,ee))(re)]}}function pluck(){for(var te=[],ee=0;ee<arguments.length;ee++)te[ee]=arguments[ee];var re=te.length;if(re===0)throw new Error("list of properties cannot be empty.");return function(ne){return map(plucker(te,re))(ne)}}function plucker(te,ee){var re=function(ne){for(var ie=ne,oe=0;oe<ee;oe++){var se=ie!=null?ie[te[oe]]:void 0;if(se!==void 0)ie=se;else return}return ie};return re}function publish(te){return te?multicast(function(){return new Subject},te):multicast(new Subject)}function publishBehavior(te){return function(ee){return multicast(new BehaviorSubject(te))(ee)}}function publishLast(){return function(te){return multicast(new AsyncSubject)(te)}}function publishReplay(te,ee,re,ne){re&&typeof re!="function"&&(ne=re);var ie=typeof re=="function"?re:void 0,oe=new ReplaySubject(te,ee,ne);return function(se){return multicast(function(){return oe},ie)(se)}}function race(){for(var te=[],ee=0;ee<arguments.length;ee++)te[ee]=arguments[ee];return function(ne){return te.length===1&&isArray$1(te[0])&&(te=te[0]),ne.lift.call(race$1.apply(void 0,[ne].concat(te)))}}function repeat(te){return te===void 0&&(te=-1),function(ee){return te===0?empty():te<0?ee.lift(new RepeatOperator(-1,ee)):ee.lift(new RepeatOperator(te-1,ee))}}var RepeatOperator=function(){function te(ee,re){this.count=ee,this.source=re}return te.prototype.call=function(ee,re){return re.subscribe(new RepeatSubscriber(ee,this.count,this.source))},te}(),RepeatSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie){var oe=te.call(this,re)||this;return oe.count=ne,oe.source=ie,oe}return ee.prototype.complete=function(){if(!this.isStopped){var re=this,ne=re.source,ie=re.count;if(ie===0)return te.prototype.complete.call(this);ie>-1&&(this.count=ie-1),ne.subscribe(this._unsubscribeAndRecycle())}},ee}(Subscriber);function repeatWhen(te){return function(ee){return ee.lift(new RepeatWhenOperator(te))}}var RepeatWhenOperator=function(){function te(ee){this.notifier=ee}return te.prototype.call=function(ee,re){return re.subscribe(new RepeatWhenSubscriber(ee,this.notifier,re))},te}(),RepeatWhenSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie){var oe=te.call(this,re)||this;return oe.notifier=ne,oe.source=ie,oe.sourceIsBeingSubscribedTo=!0,oe}return ee.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},ee.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return te.prototype.complete.call(this)},ee.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return te.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},ee.prototype._unsubscribe=function(){var re=this,ne=re.notifications,ie=re.retriesSubscription;ne&&(ne.unsubscribe(),this.notifications=void 0),ie&&(ie.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},ee.prototype._unsubscribeAndRecycle=function(){var re=this._unsubscribe;return this._unsubscribe=null,te.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=re,this},ee.prototype.subscribeToRetries=function(){this.notifications=new Subject;var re;try{var ne=this.notifier;re=ne(this.notifications)}catch{return te.prototype.complete.call(this)}this.retries=re,this.retriesSubscription=innerSubscribe(re,new SimpleInnerSubscriber(this))},ee}(SimpleOuterSubscriber);function retry(te){return te===void 0&&(te=-1),function(ee){return ee.lift(new RetryOperator(te,ee))}}var RetryOperator=function(){function te(ee,re){this.count=ee,this.source=re}return te.prototype.call=function(ee,re){return re.subscribe(new RetrySubscriber(ee,this.count,this.source))},te}(),RetrySubscriber=function(te){__extends(ee,te);function ee(re,ne,ie){var oe=te.call(this,re)||this;return oe.count=ne,oe.source=ie,oe}return ee.prototype.error=function(re){if(!this.isStopped){var ne=this,ie=ne.source,oe=ne.count;if(oe===0)return te.prototype.error.call(this,re);oe>-1&&(this.count=oe-1),ie.subscribe(this._unsubscribeAndRecycle())}},ee}(Subscriber);function retryWhen(te){return function(ee){return ee.lift(new RetryWhenOperator(te,ee))}}var RetryWhenOperator=function(){function te(ee,re){this.notifier=ee,this.source=re}return te.prototype.call=function(ee,re){return re.subscribe(new RetryWhenSubscriber(ee,this.notifier,this.source))},te}(),RetryWhenSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie){var oe=te.call(this,re)||this;return oe.notifier=ne,oe.source=ie,oe}return ee.prototype.error=function(re){if(!this.isStopped){var ne=this.errors,ie=this.retries,oe=this.retriesSubscription;if(ie)this.errors=void 0,this.retriesSubscription=void 0;else{ne=new Subject;try{var se=this.notifier;ie=se(ne)}catch(ae){return te.prototype.error.call(this,ae)}oe=innerSubscribe(ie,new SimpleInnerSubscriber(this))}this._unsubscribeAndRecycle(),this.errors=ne,this.retries=ie,this.retriesSubscription=oe,ne.next(re)}},ee.prototype._unsubscribe=function(){var re=this,ne=re.errors,ie=re.retriesSubscription;ne&&(ne.unsubscribe(),this.errors=void 0),ie&&(ie.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},ee.prototype.notifyNext=function(){var re=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=re,this.source.subscribe(this)},ee}(SimpleOuterSubscriber);function sample(te){return function(ee){return ee.lift(new SampleOperator(te))}}var SampleOperator=function(){function te(ee){this.notifier=ee}return te.prototype.call=function(ee,re){var ne=new SampleSubscriber(ee),ie=re.subscribe(ne);return ie.add(innerSubscribe(this.notifier,new SimpleInnerSubscriber(ne))),ie},te}(),SampleSubscriber=function(te){__extends(ee,te);function ee(){var re=te!==null&&te.apply(this,arguments)||this;return re.hasValue=!1,re}return ee.prototype._next=function(re){this.value=re,this.hasValue=!0},ee.prototype.notifyNext=function(){this.emitValue()},ee.prototype.notifyComplete=function(){this.emitValue()},ee.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},ee}(SimpleOuterSubscriber);function sampleTime(te,ee){return ee===void 0&&(ee=async),function(re){return re.lift(new SampleTimeOperator(te,ee))}}var SampleTimeOperator=function(){function te(ee,re){this.period=ee,this.scheduler=re}return te.prototype.call=function(ee,re){return re.subscribe(new SampleTimeSubscriber(ee,this.period,this.scheduler))},te}(),SampleTimeSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie){var oe=te.call(this,re)||this;return oe.period=ne,oe.scheduler=ie,oe.hasValue=!1,oe.add(ie.schedule(dispatchNotification,ne,{subscriber:oe,period:ne})),oe}return ee.prototype._next=function(re){this.lastValue=re,this.hasValue=!0},ee.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},ee}(Subscriber);function dispatchNotification(te){var ee=te.subscriber,re=te.period;ee.notifyNext(),this.schedule(te,re)}function sequenceEqual(te,ee){return function(re){return re.lift(new SequenceEqualOperator(te,ee))}}var SequenceEqualOperator=function(){function te(ee,re){this.compareTo=ee,this.comparator=re}return te.prototype.call=function(ee,re){return re.subscribe(new SequenceEqualSubscriber(ee,this.compareTo,this.comparator))},te}(),SequenceEqualSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie){var oe=te.call(this,re)||this;return oe.compareTo=ne,oe.comparator=ie,oe._a=[],oe._b=[],oe._oneComplete=!1,oe.destination.add(ne.subscribe(new SequenceEqualCompareToSubscriber(re,oe))),oe}return ee.prototype._next=function(re){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(re),this.checkValues())},ee.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},ee.prototype.checkValues=function(){for(var re=this,ne=re._a,ie=re._b,oe=re.comparator;ne.length>0&&ie.length>0;){var se=ne.shift(),ae=ie.shift(),fe=!1;try{fe=oe?oe(se,ae):se===ae}catch(ue){this.destination.error(ue)}fe||this.emit(!1)}},ee.prototype.emit=function(re){var ne=this.destination;ne.next(re),ne.complete()},ee.prototype.nextB=function(re){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(re),this.checkValues())},ee.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},ee}(Subscriber),SequenceEqualCompareToSubscriber=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this,re)||this;return ie.parent=ne,ie}return ee.prototype._next=function(re){this.parent.nextB(re)},ee.prototype._error=function(re){this.parent.error(re),this.unsubscribe()},ee.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},ee}(Subscriber);function shareSubjectFactory(){return new Subject}function share(){return function(te){return refCount()(multicast(shareSubjectFactory)(te))}}function shareReplay(te,ee,re){var ne;return te&&typeof te=="object"?ne=te:ne={bufferSize:te,windowTime:ee,refCount:!1,scheduler:re},function(ie){return ie.lift(shareReplayOperator(ne))}}function shareReplayOperator(te){var ee=te.bufferSize,re=ee===void 0?Number.POSITIVE_INFINITY:ee,ne=te.windowTime,ie=ne===void 0?Number.POSITIVE_INFINITY:ne,oe=te.refCount,se=te.scheduler,ae,fe=0,ue,le=!1,pe=!1;return function(cr){fe++;var ar;!ae||le?(le=!1,ae=new ReplaySubject(re,ie,se),ar=ae.subscribe(this),ue=cr.subscribe({next:function(mr){ae.next(mr)},error:function(mr){le=!0,ae.error(mr)},complete:function(){pe=!0,ue=void 0,ae.complete()}}),pe&&(ue=void 0)):ar=ae.subscribe(this),this.add(function(){fe--,ar.unsubscribe(),ar=void 0,ue&&!pe&&oe&&fe===0&&(ue.unsubscribe(),ue=void 0,ae=void 0)})}}function single(te){return function(ee){return ee.lift(new SingleOperator(te,ee))}}var SingleOperator=function(){function te(ee,re){this.predicate=ee,this.source=re}return te.prototype.call=function(ee,re){return re.subscribe(new SingleSubscriber(ee,this.predicate,this.source))},te}(),SingleSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie){var oe=te.call(this,re)||this;return oe.predicate=ne,oe.source=ie,oe.seenValue=!1,oe.index=0,oe}return ee.prototype.applySingleValue=function(re){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=re)},ee.prototype._next=function(re){var ne=this.index++;this.predicate?this.tryNext(re,ne):this.applySingleValue(re)},ee.prototype.tryNext=function(re,ne){try{this.predicate(re,ne,this.source)&&this.applySingleValue(re)}catch(ie){this.destination.error(ie)}},ee.prototype._complete=function(){var re=this.destination;this.index>0?(re.next(this.seenValue?this.singleValue:void 0),re.complete()):re.error(new EmptyError)},ee}(Subscriber);function skip(te){return function(ee){return ee.lift(new SkipOperator(te))}}var SkipOperator=function(){function te(ee){this.total=ee}return te.prototype.call=function(ee,re){return re.subscribe(new SkipSubscriber(ee,this.total))},te}(),SkipSubscriber=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this,re)||this;return ie.total=ne,ie.count=0,ie}return ee.prototype._next=function(re){++this.count>this.total&&this.destination.next(re)},ee}(Subscriber);function skipLast(te){return function(ee){return ee.lift(new SkipLastOperator(te))}}var SkipLastOperator=function(){function te(ee){if(this._skipCount=ee,this._skipCount<0)throw new ArgumentOutOfRangeError}return te.prototype.call=function(ee,re){return this._skipCount===0?re.subscribe(new Subscriber(ee)):re.subscribe(new SkipLastSubscriber(ee,this._skipCount))},te}(),SkipLastSubscriber=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this,re)||this;return ie._skipCount=ne,ie._count=0,ie._ring=new Array(ne),ie}return ee.prototype._next=function(re){var ne=this._skipCount,ie=this._count++;if(ie<ne)this._ring[ie]=re;else{var oe=ie%ne,se=this._ring,ae=se[oe];se[oe]=re,this.destination.next(ae)}},ee}(Subscriber);function skipUntil(te){return function(ee){return ee.lift(new SkipUntilOperator(te))}}var SkipUntilOperator=function(){function te(ee){this.notifier=ee}return te.prototype.call=function(ee,re){return re.subscribe(new SkipUntilSubscriber(ee,this.notifier))},te}(),SkipUntilSubscriber=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this,re)||this;ie.hasValue=!1;var oe=new SimpleInnerSubscriber(ie);ie.add(oe),ie.innerSubscription=oe;var se=innerSubscribe(ne,oe);return se!==oe&&(ie.add(se),ie.innerSubscription=se),ie}return ee.prototype._next=function(re){this.hasValue&&te.prototype._next.call(this,re)},ee.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},ee.prototype.notifyComplete=function(){},ee}(SimpleOuterSubscriber);function skipWhile(te){return function(ee){return ee.lift(new SkipWhileOperator(te))}}var SkipWhileOperator=function(){function te(ee){this.predicate=ee}return te.prototype.call=function(ee,re){return re.subscribe(new SkipWhileSubscriber(ee,this.predicate))},te}(),SkipWhileSubscriber=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this,re)||this;return ie.predicate=ne,ie.skipping=!0,ie.index=0,ie}return ee.prototype._next=function(re){var ne=this.destination;this.skipping&&this.tryCallPredicate(re),this.skipping||ne.next(re)},ee.prototype.tryCallPredicate=function(re){try{var ne=this.predicate(re,this.index++);this.skipping=Boolean(ne)}catch(ie){this.destination.error(ie)}},ee}(Subscriber);function startWith(){for(var te=[],ee=0;ee<arguments.length;ee++)te[ee]=arguments[ee];var re=te[te.length-1];return isScheduler(re)?(te.pop(),function(ne){return concat$1(te,ne,re)}):function(ne){return concat$1(te,ne)}}var SubscribeOnObservable=function(te){__extends(ee,te);function ee(re,ne,ie){ne===void 0&&(ne=0),ie===void 0&&(ie=asap);var oe=te.call(this)||this;return oe.source=re,oe.delayTime=ne,oe.scheduler=ie,(!isNumeric(ne)||ne<0)&&(oe.delayTime=0),(!ie||typeof ie.schedule!="function")&&(oe.scheduler=asap),oe}return ee.create=function(re,ne,ie){return ne===void 0&&(ne=0),ie===void 0&&(ie=asap),new ee(re,ne,ie)},ee.dispatch=function(re){var ne=re.source,ie=re.subscriber;return this.add(ne.subscribe(ie))},ee.prototype._subscribe=function(re){var ne=this.delayTime,ie=this.source,oe=this.scheduler;return oe.schedule(ee.dispatch,ne,{source:ie,subscriber:re})},ee}(Observable);function subscribeOn(te,ee){return ee===void 0&&(ee=0),function(ne){return ne.lift(new SubscribeOnOperator(te,ee))}}var SubscribeOnOperator=function(){function te(ee,re){this.scheduler=ee,this.delay=re}return te.prototype.call=function(ee,re){return new SubscribeOnObservable(re,this.delay,this.scheduler).subscribe(ee)},te}();function switchMap(te,ee){return typeof ee=="function"?function(re){return re.pipe(switchMap(function(ne,ie){return from(te(ne,ie)).pipe(map(function(oe,se){return ee(ne,oe,ie,se)}))}))}:function(re){return re.lift(new SwitchMapOperator(te))}}var SwitchMapOperator=function(){function te(ee){this.project=ee}return te.prototype.call=function(ee,re){return re.subscribe(new SwitchMapSubscriber(ee,this.project))},te}(),SwitchMapSubscriber=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this,re)||this;return ie.project=ne,ie.index=0,ie}return ee.prototype._next=function(re){var ne,ie=this.index++;try{ne=this.project(re,ie)}catch(oe){this.destination.error(oe);return}this._innerSub(ne)},ee.prototype._innerSub=function(re){var ne=this.innerSubscription;ne&&ne.unsubscribe();var ie=new SimpleInnerSubscriber(this),oe=this.destination;oe.add(ie),this.innerSubscription=innerSubscribe(re,ie),this.innerSubscription!==ie&&oe.add(this.innerSubscription)},ee.prototype._complete=function(){var re=this.innerSubscription;(!re||re.closed)&&te.prototype._complete.call(this),this.unsubscribe()},ee.prototype._unsubscribe=function(){this.innerSubscription=void 0},ee.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&te.prototype._complete.call(this)},ee.prototype.notifyNext=function(re){this.destination.next(re)},ee}(SimpleOuterSubscriber);function switchAll(){return switchMap(identity)}function switchMapTo(te,ee){return ee?switchMap(function(){return te},ee):switchMap(function(){return te})}function takeUntil(te){return function(ee){return ee.lift(new TakeUntilOperator(te))}}var TakeUntilOperator=function(){function te(ee){this.notifier=ee}return te.prototype.call=function(ee,re){var ne=new TakeUntilSubscriber(ee),ie=innerSubscribe(this.notifier,new SimpleInnerSubscriber(ne));return ie&&!ne.seenValue?(ne.add(ie),re.subscribe(ne)):ne},te}(),TakeUntilSubscriber=function(te){__extends(ee,te);function ee(re){var ne=te.call(this,re)||this;return ne.seenValue=!1,ne}return ee.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},ee.prototype.notifyComplete=function(){},ee}(SimpleOuterSubscriber);function takeWhile(te,ee){return ee===void 0&&(ee=!1),function(re){return re.lift(new TakeWhileOperator(te,ee))}}var TakeWhileOperator=function(){function te(ee,re){this.predicate=ee,this.inclusive=re}return te.prototype.call=function(ee,re){return re.subscribe(new TakeWhileSubscriber(ee,this.predicate,this.inclusive))},te}(),TakeWhileSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie){var oe=te.call(this,re)||this;return oe.predicate=ne,oe.inclusive=ie,oe.index=0,oe}return ee.prototype._next=function(re){var ne=this.destination,ie;try{ie=this.predicate(re,this.index++)}catch(oe){ne.error(oe);return}this.nextOrComplete(re,ie)},ee.prototype.nextOrComplete=function(re,ne){var ie=this.destination;Boolean(ne)?ie.next(re):(this.inclusive&&ie.next(re),ie.complete())},ee}(Subscriber);function tap(te,ee,re){return function(ie){return ie.lift(new DoOperator(te,ee,re))}}var DoOperator=function(){function te(ee,re,ne){this.nextOrObserver=ee,this.error=re,this.complete=ne}return te.prototype.call=function(ee,re){return re.subscribe(new TapSubscriber(ee,this.nextOrObserver,this.error,this.complete))},te}(),TapSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie,oe){var se=te.call(this,re)||this;return se._tapNext=noop$2,se._tapError=noop$2,se._tapComplete=noop$2,se._tapError=ie||noop$2,se._tapComplete=oe||noop$2,isFunction$1(ne)?(se._context=se,se._tapNext=ne):ne&&(se._context=ne,se._tapNext=ne.next||noop$2,se._tapError=ne.error||noop$2,se._tapComplete=ne.complete||noop$2),se}return ee.prototype._next=function(re){try{this._tapNext.call(this._context,re)}catch(ne){this.destination.error(ne);return}this.destination.next(re)},ee.prototype._error=function(re){try{this._tapError.call(this._context,re)}catch(ne){this.destination.error(ne);return}this.destination.error(re)},ee.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(re){this.destination.error(re);return}return this.destination.complete()},ee}(Subscriber),defaultThrottleConfig={leading:!0,trailing:!1};function throttle(te,ee){return ee===void 0&&(ee=defaultThrottleConfig),function(re){return re.lift(new ThrottleOperator(te,!!ee.leading,!!ee.trailing))}}var ThrottleOperator=function(){function te(ee,re,ne){this.durationSelector=ee,this.leading=re,this.trailing=ne}return te.prototype.call=function(ee,re){return re.subscribe(new ThrottleSubscriber(ee,this.durationSelector,this.leading,this.trailing))},te}(),ThrottleSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie,oe){var se=te.call(this,re)||this;return se.destination=re,se.durationSelector=ne,se._leading=ie,se._trailing=oe,se._hasValue=!1,se}return ee.prototype._next=function(re){this._hasValue=!0,this._sendValue=re,this._throttled||(this._leading?this.send():this.throttle(re))},ee.prototype.send=function(){var re=this,ne=re._hasValue,ie=re._sendValue;ne&&(this.destination.next(ie),this.throttle(ie)),this._hasValue=!1,this._sendValue=void 0},ee.prototype.throttle=function(re){var ne=this.tryDurationSelector(re);ne&&this.add(this._throttled=innerSubscribe(ne,new SimpleInnerSubscriber(this)))},ee.prototype.tryDurationSelector=function(re){try{return this.durationSelector(re)}catch(ne){return this.destination.error(ne),null}},ee.prototype.throttlingDone=function(){var re=this,ne=re._throttled,ie=re._trailing;ne&&ne.unsubscribe(),this._throttled=void 0,ie&&this.send()},ee.prototype.notifyNext=function(){this.throttlingDone()},ee.prototype.notifyComplete=function(){this.throttlingDone()},ee}(SimpleOuterSubscriber);function throttleTime(te,ee,re){return ee===void 0&&(ee=async),re===void 0&&(re=defaultThrottleConfig),function(ne){return ne.lift(new ThrottleTimeOperator(te,ee,re.leading,re.trailing))}}var ThrottleTimeOperator=function(){function te(ee,re,ne,ie){this.duration=ee,this.scheduler=re,this.leading=ne,this.trailing=ie}return te.prototype.call=function(ee,re){return re.subscribe(new ThrottleTimeSubscriber(ee,this.duration,this.scheduler,this.leading,this.trailing))},te}(),ThrottleTimeSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie,oe,se){var ae=te.call(this,re)||this;return ae.duration=ne,ae.scheduler=ie,ae.leading=oe,ae.trailing=se,ae._hasTrailingValue=!1,ae._trailingValue=null,ae}return ee.prototype._next=function(re){this.throttled?this.trailing&&(this._trailingValue=re,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(dispatchNext,this.duration,{subscriber:this})),this.leading?this.destination.next(re):this.trailing&&(this._trailingValue=re,this._hasTrailingValue=!0))},ee.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},ee.prototype.clearThrottle=function(){var re=this.throttled;re&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),re.unsubscribe(),this.remove(re),this.throttled=null)},ee}(Subscriber);function dispatchNext(te){var ee=te.subscriber;ee.clearThrottle()}function timeInterval(te){return te===void 0&&(te=async),function(ee){return defer(function(){return ee.pipe(scan(function(re,ne){var ie=re.current;return{value:ne,current:te.now(),last:ie}},{current:te.now(),value:void 0,last:void 0}),map(function(re){var ne=re.current,ie=re.last,oe=re.value;return new TimeInterval(oe,ne-ie)}))})}}var TimeInterval=function(){function te(ee,re){this.value=ee,this.interval=re}return te}();function timeoutWith(te,ee,re){return re===void 0&&(re=async),function(ne){var ie=isDate$1(te),oe=ie?+te-re.now():Math.abs(te);return ne.lift(new TimeoutWithOperator(oe,ie,ee,re))}}var TimeoutWithOperator=function(){function te(ee,re,ne,ie){this.waitFor=ee,this.absoluteTimeout=re,this.withObservable=ne,this.scheduler=ie}return te.prototype.call=function(ee,re){return re.subscribe(new TimeoutWithSubscriber(ee,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},te}(),TimeoutWithSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie,oe,se){var ae=te.call(this,re)||this;return ae.absoluteTimeout=ne,ae.waitFor=ie,ae.withObservable=oe,ae.scheduler=se,ae.scheduleTimeout(),ae}return ee.dispatchTimeout=function(re){var ne=re.withObservable;re._unsubscribeAndRecycle(),re.add(innerSubscribe(ne,new SimpleInnerSubscriber(re)))},ee.prototype.scheduleTimeout=function(){var re=this.action;re?this.action=re.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(ee.dispatchTimeout,this.waitFor,this))},ee.prototype._next=function(re){this.absoluteTimeout||this.scheduleTimeout(),te.prototype._next.call(this,re)},ee.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},ee}(SimpleOuterSubscriber);function timeout(te,ee){return ee===void 0&&(ee=async),timeoutWith(te,throwError(new TimeoutError),ee)}function timestamp(te){return te===void 0&&(te=async),map(function(ee){return new Timestamp(ee,te.now())})}var Timestamp=function(){function te(ee,re){this.value=ee,this.timestamp=re}return te}();function toArrayReducer(te,ee,re){return re===0?[ee]:(te.push(ee),te)}function toArray(){return reduce(toArrayReducer,[])}function window$1(te){return function(re){return re.lift(new WindowOperator$1(te))}}var WindowOperator$1=function(){function te(ee){this.windowBoundaries=ee}return te.prototype.call=function(ee,re){var ne=new WindowSubscriber$1(ee),ie=re.subscribe(ne);return ie.closed||ne.add(innerSubscribe(this.windowBoundaries,new SimpleInnerSubscriber(ne))),ie},te}(),WindowSubscriber$1=function(te){__extends(ee,te);function ee(re){var ne=te.call(this,re)||this;return ne.window=new Subject,re.next(ne.window),ne}return ee.prototype.notifyNext=function(){this.openWindow()},ee.prototype.notifyError=function(re){this._error(re)},ee.prototype.notifyComplete=function(){this._complete()},ee.prototype._next=function(re){this.window.next(re)},ee.prototype._error=function(re){this.window.error(re),this.destination.error(re)},ee.prototype._complete=function(){this.window.complete(),this.destination.complete()},ee.prototype._unsubscribe=function(){this.window=null},ee.prototype.openWindow=function(){var re=this.window;re&&re.complete();var ne=this.destination,ie=this.window=new Subject;ne.next(ie)},ee}(SimpleOuterSubscriber);function windowCount(te,ee){return ee===void 0&&(ee=0),function(ne){return ne.lift(new WindowCountOperator(te,ee))}}var WindowCountOperator=function(){function te(ee,re){this.windowSize=ee,this.startWindowEvery=re}return te.prototype.call=function(ee,re){return re.subscribe(new WindowCountSubscriber(ee,this.windowSize,this.startWindowEvery))},te}(),WindowCountSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie){var oe=te.call(this,re)||this;return oe.destination=re,oe.windowSize=ne,oe.startWindowEvery=ie,oe.windows=[new Subject],oe.count=0,re.next(oe.windows[0]),oe}return ee.prototype._next=function(re){for(var ne=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,ie=this.destination,oe=this.windowSize,se=this.windows,ae=se.length,fe=0;fe<ae&&!this.closed;fe++)se[fe].next(re);var ue=this.count-oe+1;if(ue>=0&&ue%ne===0&&!this.closed&&se.shift().complete(),++this.count%ne===0&&!this.closed){var le=new Subject;se.push(le),ie.next(le)}},ee.prototype._error=function(re){var ne=this.windows;if(ne)for(;ne.length>0&&!this.closed;)ne.shift().error(re);this.destination.error(re)},ee.prototype._complete=function(){var re=this.windows;if(re)for(;re.length>0&&!this.closed;)re.shift().complete();this.destination.complete()},ee.prototype._unsubscribe=function(){this.count=0,this.windows=null},ee}(Subscriber);function windowTime(te){var ee=async,re=null,ne=Number.POSITIVE_INFINITY;return isScheduler(arguments[3])&&(ee=arguments[3]),isScheduler(arguments[2])?ee=arguments[2]:isNumeric(arguments[2])&&(ne=Number(arguments[2])),isScheduler(arguments[1])?ee=arguments[1]:isNumeric(arguments[1])&&(re=Number(arguments[1])),function(oe){return oe.lift(new WindowTimeOperator(te,re,ne,ee))}}var WindowTimeOperator=function(){function te(ee,re,ne,ie){this.windowTimeSpan=ee,this.windowCreationInterval=re,this.maxWindowSize=ne,this.scheduler=ie}return te.prototype.call=function(ee,re){return re.subscribe(new WindowTimeSubscriber(ee,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},te}(),CountedSubject=function(te){__extends(ee,te);function ee(){var re=te!==null&&te.apply(this,arguments)||this;return re._numberOfNextedValues=0,re}return ee.prototype.next=function(re){this._numberOfNextedValues++,te.prototype.next.call(this,re)},Object.defineProperty(ee.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),ee}(Subject),WindowTimeSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie,oe,se){var ae=te.call(this,re)||this;ae.destination=re,ae.windowTimeSpan=ne,ae.windowCreationInterval=ie,ae.maxWindowSize=oe,ae.scheduler=se,ae.windows=[];var fe=ae.openWindow();if(ie!==null&&ie>=0){var ue={subscriber:ae,window:fe,context:null},le={windowTimeSpan:ne,windowCreationInterval:ie,subscriber:ae,scheduler:se};ae.add(se.schedule(dispatchWindowClose,ne,ue)),ae.add(se.schedule(dispatchWindowCreation,ie,le))}else{var pe={subscriber:ae,window:fe,windowTimeSpan:ne};ae.add(se.schedule(dispatchWindowTimeSpanOnly,ne,pe))}return ae}return ee.prototype._next=function(re){for(var ne=this.windows,ie=ne.length,oe=0;oe<ie;oe++){var se=ne[oe];se.closed||(se.next(re),se.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(se))}},ee.prototype._error=function(re){for(var ne=this.windows;ne.length>0;)ne.shift().error(re);this.destination.error(re)},ee.prototype._complete=function(){for(var re=this.windows;re.length>0;){var ne=re.shift();ne.closed||ne.complete()}this.destination.complete()},ee.prototype.openWindow=function(){var re=new CountedSubject;this.windows.push(re);var ne=this.destination;return ne.next(re),re},ee.prototype.closeWindow=function(re){re.complete();var ne=this.windows;ne.splice(ne.indexOf(re),1)},ee}(Subscriber);function dispatchWindowTimeSpanOnly(te){var ee=te.subscriber,re=te.windowTimeSpan,ne=te.window;ne&&ee.closeWindow(ne),te.window=ee.openWindow(),this.schedule(te,re)}function dispatchWindowCreation(te){var ee=te.windowTimeSpan,re=te.subscriber,ne=te.scheduler,ie=te.windowCreationInterval,oe=re.openWindow(),se=this,ae={action:se,subscription:null},fe={subscriber:re,window:oe,context:ae};ae.subscription=ne.schedule(dispatchWindowClose,ee,fe),se.add(ae.subscription),se.schedule(te,ie)}function dispatchWindowClose(te){var ee=te.subscriber,re=te.window,ne=te.context;ne&&ne.action&&ne.subscription&&ne.action.remove(ne.subscription),ee.closeWindow(re)}function windowToggle(te,ee){return function(re){return re.lift(new WindowToggleOperator(te,ee))}}var WindowToggleOperator=function(){function te(ee,re){this.openings=ee,this.closingSelector=re}return te.prototype.call=function(ee,re){return re.subscribe(new WindowToggleSubscriber(ee,this.openings,this.closingSelector))},te}(),WindowToggleSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie){var oe=te.call(this,re)||this;return oe.openings=ne,oe.closingSelector=ie,oe.contexts=[],oe.add(oe.openSubscription=subscribeToResult(oe,ne,ne)),oe}return ee.prototype._next=function(re){var ne=this.contexts;if(ne)for(var ie=ne.length,oe=0;oe<ie;oe++)ne[oe].window.next(re)},ee.prototype._error=function(re){var ne=this.contexts;if(this.contexts=null,ne)for(var ie=ne.length,oe=-1;++oe<ie;){var se=ne[oe];se.window.error(re),se.subscription.unsubscribe()}te.prototype._error.call(this,re)},ee.prototype._complete=function(){var re=this.contexts;if(this.contexts=null,re)for(var ne=re.length,ie=-1;++ie<ne;){var oe=re[ie];oe.window.complete(),oe.subscription.unsubscribe()}te.prototype._complete.call(this)},ee.prototype._unsubscribe=function(){var re=this.contexts;if(this.contexts=null,re)for(var ne=re.length,ie=-1;++ie<ne;){var oe=re[ie];oe.window.unsubscribe(),oe.subscription.unsubscribe()}},ee.prototype.notifyNext=function(re,ne,ie,oe,se){if(re===this.openings){var ae=void 0;try{var fe=this.closingSelector;ae=fe(ne)}catch(cr){return this.error(cr)}var ue=new Subject,le=new Subscription,pe={window:ue,subscription:le};this.contexts.push(pe);var rr=subscribeToResult(this,ae,pe);rr.closed?this.closeWindow(this.contexts.length-1):(rr.context=pe,le.add(rr)),this.destination.next(ue)}else this.closeWindow(this.contexts.indexOf(re))},ee.prototype.notifyError=function(re){this.error(re)},ee.prototype.notifyComplete=function(re){re!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(re.context))},ee.prototype.closeWindow=function(re){if(re!==-1){var ne=this.contexts,ie=ne[re],oe=ie.window,se=ie.subscription;ne.splice(re,1),oe.complete(),se.unsubscribe()}},ee}(OuterSubscriber);function windowWhen(te){return function(re){return re.lift(new WindowOperator(te))}}var WindowOperator=function(){function te(ee){this.closingSelector=ee}return te.prototype.call=function(ee,re){return re.subscribe(new WindowSubscriber(ee,this.closingSelector))},te}(),WindowSubscriber=function(te){__extends(ee,te);function ee(re,ne){var ie=te.call(this,re)||this;return ie.destination=re,ie.closingSelector=ne,ie.openWindow(),ie}return ee.prototype.notifyNext=function(re,ne,ie,oe,se){this.openWindow(se)},ee.prototype.notifyError=function(re){this._error(re)},ee.prototype.notifyComplete=function(re){this.openWindow(re)},ee.prototype._next=function(re){this.window.next(re)},ee.prototype._error=function(re){this.window.error(re),this.destination.error(re),this.unsubscribeClosingNotification()},ee.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},ee.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},ee.prototype.openWindow=function(re){re===void 0&&(re=null),re&&(this.remove(re),re.unsubscribe());var ne=this.window;ne&&ne.complete();var ie=this.window=new Subject;this.destination.next(ie);var oe;try{var se=this.closingSelector;oe=se()}catch(ae){this.destination.error(ae),this.window.error(ae);return}this.add(this.closingNotification=subscribeToResult(this,oe))},ee}(OuterSubscriber);function withLatestFrom(){for(var te=[],ee=0;ee<arguments.length;ee++)te[ee]=arguments[ee];return function(re){var ne;typeof te[te.length-1]=="function"&&(ne=te.pop());var ie=te;return re.lift(new WithLatestFromOperator(ie,ne))}}var WithLatestFromOperator=function(){function te(ee,re){this.observables=ee,this.project=re}return te.prototype.call=function(ee,re){return re.subscribe(new WithLatestFromSubscriber(ee,this.observables,this.project))},te}(),WithLatestFromSubscriber=function(te){__extends(ee,te);function ee(re,ne,ie){var oe=te.call(this,re)||this;oe.observables=ne,oe.project=ie,oe.toRespond=[];var se=ne.length;oe.values=new Array(se);for(var ae=0;ae<se;ae++)oe.toRespond.push(ae);for(var ae=0;ae<se;ae++){var fe=ne[ae];oe.add(subscribeToResult(oe,fe,void 0,ae))}return oe}return ee.prototype.notifyNext=function(re,ne,ie){this.values[ie]=ne;var oe=this.toRespond;if(oe.length>0){var se=oe.indexOf(ie);se!==-1&&oe.splice(se,1)}},ee.prototype.notifyComplete=function(){},ee.prototype._next=function(re){if(this.toRespond.length===0){var ne=[re].concat(this.values);this.project?this._tryProject(ne):this.destination.next(ne)}},ee.prototype._tryProject=function(re){var ne;try{ne=this.project.apply(this,re)}catch(ie){this.destination.error(ie);return}this.destination.next(ne)},ee}(OuterSubscriber);function zip(){for(var te=[],ee=0;ee<arguments.length;ee++)te[ee]=arguments[ee];return function(ne){return ne.lift.call(zip$1.apply(void 0,[ne].concat(te)))}}function zipAll(te){return function(ee){return ee.lift(new ZipOperator(te))}}var operators=Object.freeze(Object.defineProperty({__proto__:null,audit,auditTime,buffer,bufferCount,bufferTime,bufferToggle,bufferWhen,catchError,combineAll,combineLatest,concat,concatAll,concatMap,concatMapTo,count,debounce,debounceTime,defaultIfEmpty,delay,delayWhen,dematerialize,distinct,distinctUntilChanged,distinctUntilKeyChanged,elementAt,endWith,every,exhaust,exhaustMap,expand,filter,finalize,find,findIndex:findIndex$1,first,groupBy,ignoreElements,isEmpty,last,map,mapTo,materialize,max,merge,mergeAll,mergeMap,flatMap,mergeMapTo,mergeScan,min,multicast,observeOn,onErrorResumeNext,pairwise,partition,pluck,publish,publishBehavior,publishLast,publishReplay,race,reduce,repeat,repeatWhen,retry,retryWhen,refCount,sample,sampleTime,scan,sequenceEqual,share,shareReplay,single,skip,skipLast,skipUntil,skipWhile,startWith,subscribeOn,switchAll,switchMap,switchMapTo,take,takeLast,takeUntil,takeWhile,tap,throttle,throttleTime,throwIfEmpty,timeInterval,timeout,timeoutWith,timestamp,toArray,window:window$1,windowCount,windowTime,windowToggle,windowWhen,withLatestFrom,zip,zipAll},Symbol.toStringTag,{value:"Module"})),require$$3=getAugmentedNamespace(operators),util$3={},types$1={};Object.defineProperty(types$1,"__esModule",{value:!0});types$1.RegExpString=types$1.IntNumber=types$1.BigIntString=types$1.AddressString=types$1.HexString=types$1.OpaqueType=void 0;function OpaqueType(){return te=>te}types$1.OpaqueType=OpaqueType;types$1.HexString=OpaqueType();types$1.AddressString=OpaqueType();types$1.BigIntString=OpaqueType();function IntNumber(te){return Math.floor(te)}types$1.IntNumber=IntNumber;types$1.RegExpString=OpaqueType();var __importDefault$8=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(te){return te&&te.__esModule?te:{default:te}};Object.defineProperty(util$3,"__esModule",{value:!0});util$3.getFavicon=util$3.range=util$3.isBigNumber=util$3.ensureParsedJSONObject=util$3.ensureBN=util$3.ensureRegExpString=util$3.ensureIntNumber=util$3.ensureBuffer=util$3.ensureAddressString=util$3.ensureEvenLengthHexString=util$3.ensureHexString=util$3.isHexString=util$3.prepend0x=util$3.strip0x=util$3.has0xPrefix=util$3.hexStringFromIntNumber=util$3.intNumberFromHexString=util$3.bigIntStringFromBN=util$3.hexStringFromBuffer=util$3.hexStringToUint8Array=util$3.uint8ArrayToHex=util$3.randomBytesHex=void 0;const bn_js_1$1=__importDefault$8(bn$1.exports),types_1$2=types$1,INT_STRING_REGEX=/^[0-9]*$/,HEXADECIMAL_STRING_REGEX=/^[a-f0-9]*$/;function randomBytesHex(te){return uint8ArrayToHex(crypto.getRandomValues(new Uint8Array(te)))}util$3.randomBytesHex=randomBytesHex;function uint8ArrayToHex(te){return[...te].map(ee=>ee.toString(16).padStart(2,"0")).join("")}util$3.uint8ArrayToHex=uint8ArrayToHex;function hexStringToUint8Array(te){return new Uint8Array(te.match(/.{1,2}/g).map(ee=>parseInt(ee,16)))}util$3.hexStringToUint8Array=hexStringToUint8Array;function hexStringFromBuffer(te,ee=!1){const re=te.toString("hex");return(0,types_1$2.HexString)(ee?"0x"+re:re)}util$3.hexStringFromBuffer=hexStringFromBuffer;function bigIntStringFromBN(te){return(0,types_1$2.BigIntString)(te.toString(10))}util$3.bigIntStringFromBN=bigIntStringFromBN;function intNumberFromHexString(te){return(0,types_1$2.IntNumber)(new bn_js_1$1.default(ensureEvenLengthHexString(te,!1),16).toNumber())}util$3.intNumberFromHexString=intNumberFromHexString;function hexStringFromIntNumber(te){return(0,types_1$2.HexString)("0x"+new bn_js_1$1.default(te).toString(16))}util$3.hexStringFromIntNumber=hexStringFromIntNumber;function has0xPrefix(te){return te.startsWith("0x")||te.startsWith("0X")}util$3.has0xPrefix=has0xPrefix;function strip0x(te){return has0xPrefix(te)?te.slice(2):te}util$3.strip0x=strip0x;function prepend0x(te){return has0xPrefix(te)?"0x"+te.slice(2):"0x"+te}util$3.prepend0x=prepend0x;function isHexString$1(te){if(typeof te!="string")return!1;const ee=strip0x(te).toLowerCase();return HEXADECIMAL_STRING_REGEX.test(ee)}util$3.isHexString=isHexString$1;function ensureHexString(te,ee=!1){if(typeof te=="string"){const re=strip0x(te).toLowerCase();if(HEXADECIMAL_STRING_REGEX.test(re))return(0,types_1$2.HexString)(ee?"0x"+re:re)}throw new Error(`"${String(te)}" is not a hexadecimal string`)}util$3.ensureHexString=ensureHexString;function ensureEvenLengthHexString(te,ee=!1){let re=ensureHexString(te,!1);return re.length%2===1&&(re=(0,types_1$2.HexString)("0"+re)),ee?(0,types_1$2.HexString)("0x"+re):re}util$3.ensureEvenLengthHexString=ensureEvenLengthHexString;function ensureAddressString(te){if(typeof te=="string"){const ee=strip0x(te).toLowerCase();if(isHexString$1(ee)&&ee.length===40)return(0,types_1$2.AddressString)(prepend0x(ee))}throw new Error(`Invalid Ethereum address: ${String(te)}`)}util$3.ensureAddressString=ensureAddressString;function ensureBuffer(te){if(buffer$2.Buffer.isBuffer(te))return te;if(typeof te=="string")if(isHexString$1(te)){const ee=ensureEvenLengthHexString(te,!1);return buffer$2.Buffer.from(ee,"hex")}else return buffer$2.Buffer.from(te,"utf8");throw new Error(`Not binary data: ${String(te)}`)}util$3.ensureBuffer=ensureBuffer;function ensureIntNumber(te){if(typeof te=="number"&&Number.isInteger(te))return(0,types_1$2.IntNumber)(te);if(typeof te=="string"){if(INT_STRING_REGEX.test(te))return(0,types_1$2.IntNumber)(Number(te));if(isHexString$1(te))return(0,types_1$2.IntNumber)(new bn_js_1$1.default(ensureEvenLengthHexString(te,!1),16).toNumber())}throw new Error(`Not an integer: ${String(te)}`)}util$3.ensureIntNumber=ensureIntNumber;function ensureRegExpString(te){if(te instanceof RegExp)return(0,types_1$2.RegExpString)(te.toString());throw new Error(`Not a RegExp: ${String(te)}`)}util$3.ensureRegExpString=ensureRegExpString;function ensureBN(te){if(te!==null&&(bn_js_1$1.default.isBN(te)||isBigNumber(te)))return new bn_js_1$1.default(te.toString(10),10);if(typeof te=="number")return new bn_js_1$1.default(ensureIntNumber(te));if(typeof te=="string"){if(INT_STRING_REGEX.test(te))return new bn_js_1$1.default(te,10);if(isHexString$1(te))return new bn_js_1$1.default(ensureEvenLengthHexString(te,!1),16)}throw new Error(`Not an integer: ${String(te)}`)}util$3.ensureBN=ensureBN;function ensureParsedJSONObject(te){if(typeof te=="string")return JSON.parse(te);if(typeof te=="object")return te;throw new Error(`Not a JSON string or an object: ${String(te)}`)}util$3.ensureParsedJSONObject=ensureParsedJSONObject;function isBigNumber(te){if(te==null||typeof te.constructor!="function")return!1;const{constructor:ee}=te;return typeof ee.config=="function"&&typeof ee.EUCLID=="number"}util$3.isBigNumber=isBigNumber;function range(te,ee){return Array.from({length:ee-te},(re,ne)=>te+ne)}util$3.range=range;function getFavicon(){const te=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:ee,host:re}=document.location,ne=te?te.getAttribute("href"):null;return!ne||ne.startsWith("javascript:")?null:ne.startsWith("http://")||ne.startsWith("https://")||ne.startsWith("data:")?ne:ne.startsWith("//")?ee+ne:`${ee}//${re}${ne}`}util$3.getFavicon=getFavicon;Object.defineProperty(Session$1,"__esModule",{value:!0});Session$1.Session=void 0;const js_sha256_1=sha256.exports,rxjs_1$4=require$$2$1,operators_1$3=require$$3,util_1$6=util$3,STORAGE_KEY_SESSION_ID="session:id",STORAGE_KEY_SESSION_SECRET="session:secret",STORAGE_KEY_SESSION_LINKED="session:linked";class Session{constructor(ee,re,ne,ie){this._storage=ee,this._id=re||(0,util_1$6.randomBytesHex)(16),this._secret=ne||(0,util_1$6.randomBytesHex)(32);const oe=js_sha256_1.sha256.create();oe.update(`${this._id}, ${this._secret} WalletLink`),this._key=oe.hex(),this._linked=!!ie}static load(ee){const re=ee.getItem(STORAGE_KEY_SESSION_ID),ne=ee.getItem(STORAGE_KEY_SESSION_LINKED),ie=ee.getItem(STORAGE_KEY_SESSION_SECRET);return re&&ie?new Session(ee,re,ie,ne==="1"):null}static get persistedSessionIdChange$(){return(0,rxjs_1$4.fromEvent)(window,"storage").pipe((0,operators_1$3.filter)(ee=>ee.key===STORAGE_KEY_SESSION_ID),(0,operators_1$3.map)(ee=>({oldValue:ee.oldValue||null,newValue:ee.newValue||null})))}static hash(ee){return js_sha256_1.sha256.create().update(ee).hex()}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(ee){this._linked=ee,this.persistLinked()}save(){return this._storage.setItem(STORAGE_KEY_SESSION_ID,this._id),this._storage.setItem(STORAGE_KEY_SESSION_SECRET,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(STORAGE_KEY_SESSION_LINKED,this._linked?"1":"0")}}Session$1.Session=Session;var WalletLinkRelayAbstract$1={};Object.defineProperty(WalletLinkRelayAbstract$1,"__esModule",{value:!0});WalletLinkRelayAbstract$1.WalletLinkRelayAbstract=WalletLinkRelayAbstract$1.APP_VERSION_KEY=WalletLinkRelayAbstract$1.LOCAL_STORAGE_ADDRESSES_KEY=WalletLinkRelayAbstract$1.WALLET_USER_NAME_KEY=void 0;const eth_rpc_errors_1$2=dist;WalletLinkRelayAbstract$1.WALLET_USER_NAME_KEY="walletUsername";WalletLinkRelayAbstract$1.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";WalletLinkRelayAbstract$1.APP_VERSION_KEY="AppVersion";class WalletLinkRelayAbstract{async makeEthereumJSONRPCRequest(ee,re){if(!re)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(re,{method:"POST",body:JSON.stringify(ee),mode:"cors",headers:{"Content-Type":"application/json"}}).then(ne=>ne.json()).then(ne=>{if(!ne)throw eth_rpc_errors_1$2.ethErrors.rpc.parse({});const ie=ne,{error:oe}=ie;if(oe)throw(0,eth_rpc_errors_1$2.serializeError)(oe);return ie})}}WalletLinkRelayAbstract$1.WalletLinkRelayAbstract=WalletLinkRelayAbstract;const createKeccakHash=js,BN$1=bn$1.exports;function zeros(te){return buffer$2.Buffer.allocUnsafe(te).fill(0)}function setLength(te,ee,re){const ne=zeros(ee);return te=toBuffer(te),re?te.length<ee?(te.copy(ne),ne):te.slice(0,ee):te.length<ee?(te.copy(ne,ee-te.length),ne):te.slice(-ee)}function setLengthRight(te,ee){return setLength(te,ee,!0)}function toBuffer(te){if(!buffer$2.Buffer.isBuffer(te))if(Array.isArray(te))te=buffer$2.Buffer.from(te);else if(typeof te=="string")isHexString(te)?te=buffer$2.Buffer.from(padToEven(stripHexPrefix(te)),"hex"):te=buffer$2.Buffer.from(te);else if(typeof te=="number")te=intToBuffer(te);else if(te==null)te=buffer$2.Buffer.allocUnsafe(0);else if(BN$1.isBN(te))te=te.toArrayLike(buffer$2.Buffer);else if(te.toArray)te=buffer$2.Buffer.from(te.toArray());else throw new Error("invalid type");return te}function bufferToHex(te){return te=toBuffer(te),"0x"+te.toString("hex")}function keccak(te,ee){return te=toBuffer(te),ee||(ee=256),createKeccakHash("keccak"+ee).update(te).digest()}function padToEven(te){return te.length%2?"0"+te:te}function isHexString(te){return typeof te=="string"&&te.match(/^0x[0-9A-Fa-f]*$/)}function stripHexPrefix(te){return typeof te=="string"&&te.startsWith("0x")?te.slice(2):te}var util$2={zeros,setLength,setLengthRight,isHexString,stripHexPrefix,toBuffer,bufferToHex,keccak};const util$1=util$2,BN=bn$1.exports;function elementaryName(te){return te.startsWith("int[")?"int256"+te.slice(3):te==="int"?"int256":te.startsWith("uint[")?"uint256"+te.slice(4):te==="uint"?"uint256":te.startsWith("fixed[")?"fixed128x128"+te.slice(5):te==="fixed"?"fixed128x128":te.startsWith("ufixed[")?"ufixed128x128"+te.slice(6):te==="ufixed"?"ufixed128x128":te}function parseTypeN(te){return parseInt(/^\D+(\d+)$/.exec(te)[1],10)}function parseTypeNxM(te){var ee=/^\D+(\d+)x(\d+)$/.exec(te);return[parseInt(ee[1],10),parseInt(ee[2],10)]}function parseTypeArray(te){var ee=te.match(/(.*)\[(.*?)\]$/);return ee?ee[2]===""?"dynamic":parseInt(ee[2],10):null}function parseNumber(te){var ee=typeof te;if(ee==="string")return util$1.isHexString(te)?new BN(util$1.stripHexPrefix(te),16):new BN(te,10);if(ee==="number")return new BN(te);if(te.toArray)return te;throw new Error("Argument is not a number")}function encodeSingle(te,ee){var re,ne,ie,oe;if(te==="address")return encodeSingle("uint160",parseNumber(ee));if(te==="bool")return encodeSingle("uint8",ee?1:0);if(te==="string")return encodeSingle("bytes",new buffer$2.Buffer(ee,"utf8"));if(isArray(te)){if(typeof ee.length=="undefined")throw new Error("Not an array?");if(re=parseTypeArray(te),re!=="dynamic"&&re!==0&&ee.length>re)throw new Error("Elements exceed array size: "+re);ie=[],te=te.slice(0,te.lastIndexOf("[")),typeof ee=="string"&&(ee=JSON.parse(ee));for(oe in ee)ie.push(encodeSingle(te,ee[oe]));if(re==="dynamic"){var se=encodeSingle("uint256",ee.length);ie.unshift(se)}return buffer$2.Buffer.concat(ie)}else{if(te==="bytes")return ee=new buffer$2.Buffer(ee),ie=buffer$2.Buffer.concat([encodeSingle("uint256",ee.length),ee]),ee.length%32!==0&&(ie=buffer$2.Buffer.concat([ie,util$1.zeros(32-ee.length%32)])),ie;if(te.startsWith("bytes")){if(re=parseTypeN(te),re<1||re>32)throw new Error("Invalid bytes<N> width: "+re);return util$1.setLengthRight(ee,32)}else if(te.startsWith("uint")){if(re=parseTypeN(te),re%8||re<8||re>256)throw new Error("Invalid uint<N> width: "+re);if(ne=parseNumber(ee),ne.bitLength()>re)throw new Error("Supplied uint exceeds width: "+re+" vs "+ne.bitLength());if(ne<0)throw new Error("Supplied uint is negative");return ne.toArrayLike(buffer$2.Buffer,"be",32)}else if(te.startsWith("int")){if(re=parseTypeN(te),re%8||re<8||re>256)throw new Error("Invalid int<N> width: "+re);if(ne=parseNumber(ee),ne.bitLength()>re)throw new Error("Supplied int exceeds width: "+re+" vs "+ne.bitLength());return ne.toTwos(256).toArrayLike(buffer$2.Buffer,"be",32)}else if(te.startsWith("ufixed")){if(re=parseTypeNxM(te),ne=parseNumber(ee),ne<0)throw new Error("Supplied ufixed is negative");return encodeSingle("uint256",ne.mul(new BN(2).pow(new BN(re[1]))))}else if(te.startsWith("fixed"))return re=parseTypeNxM(te),encodeSingle("int256",parseNumber(ee).mul(new BN(2).pow(new BN(re[1]))))}throw new Error("Unsupported or invalid type: "+te)}function isDynamic(te){return te==="string"||te==="bytes"||parseTypeArray(te)==="dynamic"}function isArray(te){return te.lastIndexOf("]")===te.length-1}function rawEncode(te,ee){var re=[],ne=[],ie=32*te.length;for(var oe in te){var se=elementaryName(te[oe]),ae=ee[oe],fe=encodeSingle(se,ae);isDynamic(se)?(re.push(encodeSingle("uint256",ie)),ne.push(fe),ie+=fe.length):re.push(fe)}return buffer$2.Buffer.concat(re.concat(ne))}function solidityPack(te,ee){if(te.length!==ee.length)throw new Error("Number of types are not matching the values");for(var re,ne,ie=[],oe=0;oe<te.length;oe++){var se=elementaryName(te[oe]),ae=ee[oe];if(se==="bytes")ie.push(ae);else if(se==="string")ie.push(new buffer$2.Buffer(ae,"utf8"));else if(se==="bool")ie.push(new buffer$2.Buffer(ae?"01":"00","hex"));else if(se==="address")ie.push(util$1.setLength(ae,20));else if(se.startsWith("bytes")){if(re=parseTypeN(se),re<1||re>32)throw new Error("Invalid bytes<N> width: "+re);ie.push(util$1.setLengthRight(ae,re))}else if(se.startsWith("uint")){if(re=parseTypeN(se),re%8||re<8||re>256)throw new Error("Invalid uint<N> width: "+re);if(ne=parseNumber(ae),ne.bitLength()>re)throw new Error("Supplied uint exceeds width: "+re+" vs "+ne.bitLength());ie.push(ne.toArrayLike(buffer$2.Buffer,"be",re/8))}else if(se.startsWith("int")){if(re=parseTypeN(se),re%8||re<8||re>256)throw new Error("Invalid int<N> width: "+re);if(ne=parseNumber(ae),ne.bitLength()>re)throw new Error("Supplied int exceeds width: "+re+" vs "+ne.bitLength());ie.push(ne.toTwos(re).toArrayLike(buffer$2.Buffer,"be",re/8))}else throw new Error("Unsupported or invalid type: "+se)}return buffer$2.Buffer.concat(ie)}function soliditySHA3(te,ee){return util$1.keccak(solidityPack(te,ee))}var abi$2={rawEncode,solidityPack,soliditySHA3};const util=util$2,abi$1=abi$2,TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},TypedDataUtils={encodeData(te,ee,re,ne=!0){const ie=["bytes32"],oe=[this.hashType(te,re)];if(ne){const se=(ae,fe,ue)=>{if(re[fe]!==void 0)return["bytes32",ue==null?"0x0000000000000000000000000000000000000000000000000000000000000000":util.keccak(this.encodeData(fe,ue,re,ne))];if(ue===void 0)throw new Error(`missing value for field ${ae} of type ${fe}`);if(fe==="bytes")return["bytes32",util.keccak(ue)];if(fe==="string")return typeof ue=="string"&&(ue=buffer$2.Buffer.from(ue,"utf8")),["bytes32",util.keccak(ue)];if(fe.lastIndexOf("]")===fe.length-1){const le=fe.slice(0,fe.lastIndexOf("[")),pe=ue.map(rr=>se(ae,le,rr));return["bytes32",util.keccak(abi$1.rawEncode(pe.map(([rr])=>rr),pe.map(([,rr])=>rr)))]}return[fe,ue]};for(const ae of re[te]){const[fe,ue]=se(ae.name,ae.type,ee[ae.name]);ie.push(fe),oe.push(ue)}}else for(const se of re[te]){let ae=ee[se.name];if(ae!==void 0)if(se.type==="bytes")ie.push("bytes32"),ae=util.keccak(ae),oe.push(ae);else if(se.type==="string")ie.push("bytes32"),typeof ae=="string"&&(ae=buffer$2.Buffer.from(ae,"utf8")),ae=util.keccak(ae),oe.push(ae);else if(re[se.type]!==void 0)ie.push("bytes32"),ae=util.keccak(this.encodeData(se.type,ae,re,ne)),oe.push(ae);else{if(se.type.lastIndexOf("]")===se.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");ie.push(se.type),oe.push(ae)}}return abi$1.rawEncode(ie,oe)},encodeType(te,ee){let re="",ne=this.findTypeDependencies(te,ee).filter(ie=>ie!==te);ne=[te].concat(ne.sort());for(const ie of ne){if(!ee[ie])throw new Error("No type definition specified: "+ie);re+=ie+"("+ee[ie].map(({name:se,type:ae})=>ae+" "+se).join(",")+")"}return re},findTypeDependencies(te,ee,re=[]){if(te=te.match(/^\w*/)[0],re.includes(te)||ee[te]===void 0)return re;re.push(te);for(const ne of ee[te])for(const ie of this.findTypeDependencies(ne.type,ee,re))!re.includes(ie)&&re.push(ie);return re},hashStruct(te,ee,re,ne=!0){return util.keccak(this.encodeData(te,ee,re,ne))},hashType(te,ee){return util.keccak(this.encodeType(te,ee))},sanitizeData(te){const ee={};for(const re in TYPED_MESSAGE_SCHEMA.properties)te[re]&&(ee[re]=te[re]);return ee.types&&(ee.types=Object.assign({EIP712Domain:[]},ee.types)),ee},hash(te,ee=!0){const re=this.sanitizeData(te),ne=[buffer$2.Buffer.from("1901","hex")];return ne.push(this.hashStruct("EIP712Domain",re.domain,re.types,ee)),re.primaryType!=="EIP712Domain"&&ne.push(this.hashStruct(re.primaryType,re.message,re.types,ee)),util.keccak(buffer$2.Buffer.concat(ne))}};var ethEip712Util={TYPED_MESSAGE_SCHEMA,TypedDataUtils,hashForSignTypedDataLegacy:function(te){return typedSignatureHashLegacy(te.data)},hashForSignTypedData_v3:function(te){return TypedDataUtils.hash(te.data,!1)},hashForSignTypedData_v4:function(te){return TypedDataUtils.hash(te.data)}};function typedSignatureHashLegacy(te){const ee=new Error("Expect argument to be non-empty array");if(typeof te!="object"||!te.length)throw ee;const re=te.map(function(oe){return oe.type==="bytes"?util.toBuffer(oe.value):oe.value}),ne=te.map(function(oe){return oe.type}),ie=te.map(function(oe){if(!oe.name)throw ee;return oe.type+" "+oe.name});return abi$1.soliditySHA3(["bytes32","bytes32"],[abi$1.soliditySHA3(new Array(te.length).fill("string"),ie),abi$1.soliditySHA3(ne,re)])}var FilterPolyfill$1={};Object.defineProperty(FilterPolyfill$1,"__esModule",{value:!0});FilterPolyfill$1.filterFromParam=FilterPolyfill$1.FilterPolyfill=void 0;const types_1$1=types$1,util_1$5=util$3,TIMEOUT=5*60*1e3,JSONRPC_TEMPLATE={jsonrpc:"2.0",id:0};class FilterPolyfill{constructor(ee){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,types_1$1.IntNumber)(1),this.provider=ee}async newFilter(ee){const re=filterFromParam(ee),ne=this.makeFilterId(),ie=await this.setInitialCursorPosition(ne,re.fromBlock);return console.log(`Installing new log filter(${ne}):`,re,"initial cursor position:",ie),this.logFilters.set(ne,re),this.setFilterTimeout(ne),(0,util_1$5.hexStringFromIntNumber)(ne)}async newBlockFilter(){const ee=this.makeFilterId(),re=await this.setInitialCursorPosition(ee,"latest");return console.log(`Installing new block filter (${ee}) with initial cursor position:`,re),this.blockFilters.add(ee),this.setFilterTimeout(ee),(0,util_1$5.hexStringFromIntNumber)(ee)}async newPendingTransactionFilter(){const ee=this.makeFilterId(),re=await this.setInitialCursorPosition(ee,"latest");return console.log(`Installing new block filter (${ee}) with initial cursor position:`,re),this.pendingTransactionFilters.add(ee),this.setFilterTimeout(ee),(0,util_1$5.hexStringFromIntNumber)(ee)}uninstallFilter(ee){const re=(0,util_1$5.intNumberFromHexString)(ee);return console.log(`Uninstalling filter (${re})`),this.deleteFilter(re),!0}getFilterChanges(ee){const re=(0,util_1$5.intNumberFromHexString)(ee);return this.timeouts.has(re)&&this.setFilterTimeout(re),this.logFilters.has(re)?this.getLogFilterChanges(re):this.blockFilters.has(re)?this.getBlockFilterChanges(re):this.pendingTransactionFilters.has(re)?this.getPendingTransactionFilterChanges(re):Promise.resolve(filterNotFoundError())}async getFilterLogs(ee){const re=(0,util_1$5.intNumberFromHexString)(ee),ne=this.logFilters.get(re);return ne?this.sendAsyncPromise(Object.assign(Object.assign({},JSONRPC_TEMPLATE),{method:"eth_getLogs",params:[paramFromFilter(ne)]})):filterNotFoundError()}makeFilterId(){return(0,types_1$1.IntNumber)(++this.nextFilterId)}sendAsyncPromise(ee){return new Promise((re,ne)=>{this.provider.sendAsync(ee,(ie,oe)=>{if(ie)return ne(ie);if(Array.isArray(oe)||oe==null)return ne(new Error(`unexpected response received: ${JSON.stringify(oe)}`));re(oe)})})}deleteFilter(ee){console.log(`Deleting filter (${ee})`),this.logFilters.delete(ee),this.blockFilters.delete(ee),this.pendingTransactionFilters.delete(ee),this.cursors.delete(ee),this.timeouts.delete(ee)}async getLogFilterChanges(ee){const re=this.logFilters.get(ee),ne=this.cursors.get(ee);if(!ne||!re)return filterNotFoundError();const ie=await this.getCurrentBlockHeight(),oe=re.toBlock==="latest"?ie:re.toBlock;if(ne>ie||ne>re.toBlock)return emptyResult();console.log(`Fetching logs from ${ne} to ${oe} for filter ${ee}`);const se=await this.sendAsyncPromise(Object.assign(Object.assign({},JSONRPC_TEMPLATE),{method:"eth_getLogs",params:[paramFromFilter(Object.assign(Object.assign({},re),{fromBlock:ne,toBlock:oe}))]}));if(Array.isArray(se.result)){const ae=se.result.map(ue=>(0,util_1$5.intNumberFromHexString)(ue.blockNumber||"0x0")),fe=Math.max(...ae);if(fe&&fe>ne){const ue=(0,types_1$1.IntNumber)(fe+1);console.log(`Moving cursor position for filter (${ee}) from ${ne} to ${ue}`),this.cursors.set(ee,ue)}}return se}async getBlockFilterChanges(ee){const re=this.cursors.get(ee);if(!re)return filterNotFoundError();const ne=await this.getCurrentBlockHeight();if(re>ne)return emptyResult();console.log(`Fetching blocks from ${re} to ${ne} for filter (${ee})`);const ie=(await Promise.all((0,util_1$5.range)(re,ne+1).map(se=>this.getBlockHashByNumber((0,types_1$1.IntNumber)(se))))).filter(se=>!!se),oe=(0,types_1$1.IntNumber)(re+ie.length);return console.log(`Moving cursor position for filter (${ee}) from ${re} to ${oe}`),this.cursors.set(ee,oe),Object.assign(Object.assign({},JSONRPC_TEMPLATE),{result:ie})}async getPendingTransactionFilterChanges(ee){return Promise.resolve(emptyResult())}async setInitialCursorPosition(ee,re){const ne=await this.getCurrentBlockHeight(),ie=typeof re=="number"&&re>ne?re:ne;return this.cursors.set(ee,ie),ie}setFilterTimeout(ee){const re=this.timeouts.get(ee);re&&window.clearTimeout(re);const ne=window.setTimeout(()=>{console.log(`Filter (${ee}) timed out`),this.deleteFilter(ee)},TIMEOUT);this.timeouts.set(ee,ne)}async getCurrentBlockHeight(){const{result:ee}=await this.sendAsyncPromise(Object.assign(Object.assign({},JSONRPC_TEMPLATE),{method:"eth_blockNumber",params:[]}));return(0,util_1$5.intNumberFromHexString)((0,util_1$5.ensureHexString)(ee))}async getBlockHashByNumber(ee){const re=await this.sendAsyncPromise(Object.assign(Object.assign({},JSONRPC_TEMPLATE),{method:"eth_getBlockByNumber",params:[(0,util_1$5.hexStringFromIntNumber)(ee),!1]}));return re.result&&typeof re.result.hash=="string"?(0,util_1$5.ensureHexString)(re.result.hash):null}}FilterPolyfill$1.FilterPolyfill=FilterPolyfill;function filterFromParam(te){return{fromBlock:intBlockHeightFromHexBlockHeight(te.fromBlock),toBlock:intBlockHeightFromHexBlockHeight(te.toBlock),addresses:te.address===void 0?null:Array.isArray(te.address)?te.address:[te.address],topics:te.topics||[]}}FilterPolyfill$1.filterFromParam=filterFromParam;function paramFromFilter(te){const ee={fromBlock:hexBlockHeightFromIntBlockHeight(te.fromBlock),toBlock:hexBlockHeightFromIntBlockHeight(te.toBlock),topics:te.topics};return te.addresses!==null&&(ee.address=te.addresses),ee}function intBlockHeightFromHexBlockHeight(te){if(te===void 0||te==="latest"||te==="pending")return"latest";if(te==="earliest")return(0,types_1$1.IntNumber)(0);if((0,util_1$5.isHexString)(te))return(0,util_1$5.intNumberFromHexString)(te);throw new Error(`Invalid block option: ${String(te)}`)}function hexBlockHeightFromIntBlockHeight(te){return te==="latest"?te:(0,util_1$5.hexStringFromIntNumber)(te)}function filterNotFoundError(){return Object.assign(Object.assign({},JSONRPC_TEMPLATE),{error:{code:-32e3,message:"filter not found"}})}function emptyResult(){return Object.assign(Object.assign({},JSONRPC_TEMPLATE),{result:[]})}var JSONRPC={};(function(te){Object.defineProperty(te,"__esModule",{value:!0}),te.JSONRPCMethod=void 0,function(ee){ee.eth_accounts="eth_accounts",ee.eth_coinbase="eth_coinbase",ee.net_version="net_version",ee.eth_chainId="eth_chainId",ee.eth_uninstallFilter="eth_uninstallFilter",ee.eth_requestAccounts="eth_requestAccounts",ee.eth_sign="eth_sign",ee.eth_ecRecover="eth_ecRecover",ee.personal_sign="personal_sign",ee.personal_ecRecover="personal_ecRecover",ee.eth_signTransaction="eth_signTransaction",ee.eth_sendRawTransaction="eth_sendRawTransaction",ee.eth_sendTransaction="eth_sendTransaction",ee.eth_signTypedData_v1="eth_signTypedData_v1",ee.eth_signTypedData_v2="eth_signTypedData_v2",ee.eth_signTypedData_v3="eth_signTypedData_v3",ee.eth_signTypedData_v4="eth_signTypedData_v4",ee.eth_signTypedData="eth_signTypedData",ee.walletlink_arbitrary="walletlink_arbitrary",ee.wallet_addEthereumChain="wallet_addEthereumChain",ee.wallet_switchEthereumChain="wallet_switchEthereumChain",ee.wallet_watchAsset="wallet_watchAsset",ee.eth_subscribe="eth_subscribe",ee.eth_unsubscribe="eth_unsubscribe",ee.eth_newFilter="eth_newFilter",ee.eth_newBlockFilter="eth_newBlockFilter",ee.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",ee.eth_getFilterChanges="eth_getFilterChanges",ee.eth_getFilterLogs="eth_getFilterLogs"}(te.JSONRPCMethod||(te.JSONRPCMethod={}))})(JSONRPC);var SubscriptionManager$1={};Object.defineProperty(SubscriptionManager$1,"__esModule",{value:!0});SubscriptionManager$1.SubscriptionManager=void 0;const PollingBlockTracker=polling,createSubscriptionManager=subscriptionManager,noop$1=()=>{};class SubscriptionManager{constructor(ee){const re=new PollingBlockTracker({provider:ee,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:ne,middleware:ie}=createSubscriptionManager({blockTracker:re,provider:ee});this.events=ne,this.subscriptionMiddleware=ie}async handleRequest(ee){const re={};return await this.subscriptionMiddleware(ee,re,noop$1,noop$1),re}destroy(){this.subscriptionMiddleware.destroy()}}SubscriptionManager$1.SubscriptionManager=SubscriptionManager;var __importDefault$7=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(te){return te&&te.__esModule?te:{default:te}};Object.defineProperty(WalletLinkProvider$1,"__esModule",{value:!0});WalletLinkProvider$1.WalletLinkProvider=void 0;const safe_event_emitter_1=__importDefault$7(safeEventEmitter),bn_js_1=__importDefault$7(bn$1.exports),eth_rpc_errors_1$1=dist,WalletLinkAnalytics_1$2=WalletLinkAnalytics$1,init_1$2=init,Session_1$2=Session$1,WalletLinkRelayAbstract_1$1=WalletLinkRelayAbstract$1,util_1$4=util$3,eth_eip712_util_1=__importDefault$7(ethEip712Util),FilterPolyfill_1=FilterPolyfill$1,JSONRPC_1=JSONRPC,SubscriptionManager_1=SubscriptionManager$1,DEFAULT_CHAIN_ID_KEY="DefaultChainId",DEFAULT_JSON_RPC_URL="DefaultJsonRpcUrl",HAS_CHAIN_BEEN_SWITCHED_KEY="HasChainBeenSwitched",HAS_CHAIN_OVERRIDDEN_FROM_RELAY="HasChainOverriddenFromRelay";class WalletLinkProvider extends safe_event_emitter_1.default{constructor(ee){var re;super();this._filterPolyfill=new FilterPolyfill_1.FilterPolyfill(this),this._subscriptionManager=new SubscriptionManager_1.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._jsonRpcUrlFromOpts=ee.jsonRpcUrl,this._overrideIsMetaMask=ee.overrideIsMetaMask,this._relayProvider=ee.relayProvider,this._storage=ee.storage,this._relayEventManager=ee.relayEventManager,this._walletLinkAnalytics=ee.walletLinkAnalytics?ee.walletLinkAnalytics:new WalletLinkAnalytics_1$2.WalletLinkAnalytics,this.isCoinbaseWallet=(re=ee.overrideIsCoinbaseWallet)!==null&&re!==void 0?re:!0;const ne=this.getChainId(),ie=(0,util_1$4.prepend0x)(ne.toString(16));this.emit("connect",{chainIdStr:ie});const oe=this._storage.getItem(WalletLinkRelayAbstract_1$1.LOCAL_STORAGE_ADDRESSES_KEY);if(oe){const se=oe.split(" ");se[0]!==""&&(this._addresses=se.map(ae=>(0,util_1$4.ensureAddressString)(ae)),this.emit("accountsChanged",se))}this._subscriptionManager.events.on("notification",se=>{this.emit("message",{type:se.method,data:se.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",se=>{var ae;if(se.data.type==="walletLinkMessage"&&se.data.data.action==="defaultChainChanged"){const fe=se.data.data.chainId,ue=(ae=se.data.data.jsonRpcUrl)!==null&&ae!==void 0?ae:this.jsonRpcUrl;this.updateProviderInfo(ue,Number(fe),!0)}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,util_1$4.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var ee;return(ee=this._storage.getItem(DEFAULT_JSON_RPC_URL))!==null&&ee!==void 0?ee:this._jsonRpcUrlFromOpts}set jsonRpcUrl(ee){this._storage.setItem(DEFAULT_JSON_RPC_URL,ee)}get isChainOverridden(){return this._storage.getItem(HAS_CHAIN_OVERRIDDEN_FROM_RELAY)==="true"}set isChainOverridden(ee){this._storage.setItem(HAS_CHAIN_OVERRIDDEN_FROM_RELAY,ee.toString())}setProviderInfo(ee,re){this.isChainOverridden||this.updateProviderInfo(ee,this.getChainId(),!1)}updateProviderInfo(ee,re,ne){if(this._storage.getItem(HAS_CHAIN_BEEN_SWITCHED_KEY)==="true"&&ne)return;ne&&(this.isChainOverridden=!0),this.jsonRpcUrl=ee;const oe=this.getChainId();this._storage.setItem(DEFAULT_CHAIN_ID_KEY,re.toString(10)),((0,util_1$4.ensureIntNumber)(re)!==oe||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(ee,re,ne,ie,oe){return!!(await(await this.initializeRelay()).watchAsset(ee,re,ne,ie,oe).promise).result}async addEthereumChain(ee,re,ne,ie,oe,se){var ae,fe;if((0,util_1$4.ensureIntNumber)(ee)===this.getChainId())return!1;const le=await(await this.initializeRelay()).addEthereumChain(ee.toString(),re,oe,ne,ie,se).promise;return((ae=le.result)===null||ae===void 0?void 0:ae.isApproved)===!0&&(this._storage.setItem(HAS_CHAIN_BEEN_SWITCHED_KEY,"true"),this.updateProviderInfo(re[0],ee,!1)),((fe=le.result)===null||fe===void 0?void 0:fe.isApproved)===!0}async switchEthereumChain(ee){if((0,util_1$4.ensureIntNumber)(ee)===this.getChainId())return;const ne=await(await this.initializeRelay()).switchEthereumChain(ee.toString(10)).promise;if(ne.errorCode)throw eth_rpc_errors_1$1.ethErrors.provider.custom({code:ne.errorCode});const ie=ne.result;ie.isApproved&&ie.rpcUrl.length>0&&(this._storage.setItem(HAS_CHAIN_BEEN_SWITCHED_KEY,"true"),this.updateProviderInfo(ie.rpcUrl,ee,!1))}setAppInfo(ee,re){this.initializeRelay().then(ne=>ne.setAppInfo(ee,re))}async enable(){return this._walletLinkAnalytics.sendEvent(init_1$2.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Session_1$2.Session.hash(this._relay.session.id):null}),this._addresses.length>0?[...this._addresses]:await this._send(JSONRPC_1.JSONRPCMethod.eth_requestAccounts)}close(){this.initializeRelay().then(ee=>ee.resetAndReload())}send(ee,re){if(typeof ee=="string"){const ie=ee,oe=Array.isArray(re)?re:re!==void 0?[re]:[],se={jsonrpc:"2.0",id:0,method:ie,params:oe};return this._sendRequestAsync(se).then(ae=>ae.result)}if(typeof re=="function"){const ie=ee,oe=re;return this._sendAsync(ie,oe)}if(Array.isArray(ee))return ee.map(oe=>this._sendRequest(oe));const ne=ee;return this._sendRequest(ne)}sendAsync(ee,re){if(typeof re!="function")throw new Error("callback is required");if(Array.isArray(ee)){const ie=re;this._sendMultipleRequestsAsync(ee).then(oe=>ie(null,oe)).catch(oe=>ie(oe,null));return}const ne=re;this._sendRequestAsync(ee).then(ie=>ne(null,ie)).catch(ie=>ne(ie,null))}async request(ee){if(!ee||typeof ee!="object"||Array.isArray(ee))throw eth_rpc_errors_1$1.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:ee});const{method:re,params:ne}=ee;if(typeof re!="string"||re.length===0)throw eth_rpc_errors_1$1.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:ee});if(ne!==void 0&&!Array.isArray(ne)&&(typeof ne!="object"||ne===null))throw eth_rpc_errors_1$1.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:ee});const ie=ne===void 0?[]:ne,oe=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:re,params:ie,jsonrpc:"2.0",id:oe})).result}async scanQRCode(ee){const ne=await(await this.initializeRelay()).scanQRCode((0,util_1$4.ensureRegExpString)(ee)).promise;if(typeof ne.result!="string")throw new Error("result was not a string");return ne.result}async genericRequest(ee,re){const ie=await(await this.initializeRelay()).genericRequest(ee,re).promise;if(typeof ie.result!="string")throw new Error("result was not a string");return ie.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(ee){const re={jsonrpc:"2.0",id:ee.id},{method:ne}=ee;if(re.result=this._handleSynchronousMethods(ee),re.result===void 0)throw new Error(`WalletLink does not support calling ${ne} synchronously without a callback. Please provide a callback parameter to call ${ne} asynchronously.`);return re}_setAddresses(ee){if(!Array.isArray(ee))throw new Error("addresses is not an array");const re=ee.map(ne=>(0,util_1$4.ensureAddressString)(ne));JSON.stringify(re)!==JSON.stringify(this._addresses)&&(this._addresses=re,this.emit("accountsChanged",this._addresses),this._storage.setItem(WalletLinkRelayAbstract_1$1.LOCAL_STORAGE_ADDRESSES_KEY,re.join(" ")),window.dispatchEvent(new CustomEvent("walletlink:addresses",{detail:this._addresses})))}_sendRequestAsync(ee){return new Promise((re,ne)=>{try{const ie=this._handleSynchronousMethods(ee);if(ie!==void 0)return re({jsonrpc:"2.0",id:ee.id,result:ie});const oe=this._handleAsynchronousFilterMethods(ee);if(oe!==void 0){oe.then(ae=>re(Object.assign(Object.assign({},ae),{id:ee.id}))).catch(ae=>ne(ae));return}const se=this._handleSubscriptionMethods(ee);if(se!==void 0){se.then(ae=>re({jsonrpc:"2.0",id:ee.id,result:ae.result})).catch(ae=>ne(ae));return}}catch(ie){return ne(ie)}this._handleAsynchronousMethods(ee).then(ie=>ie&&re(Object.assign(Object.assign({},ie),{id:ee.id}))).catch(ie=>ne(ie))})}_sendMultipleRequestsAsync(ee){return Promise.all(ee.map(re=>this._sendRequestAsync(re)))}_handleSynchronousMethods(ee){const{method:re}=ee,ne=ee.params||[];switch(re){case JSONRPC_1.JSONRPCMethod.eth_accounts:return this._eth_accounts();case JSONRPC_1.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case JSONRPC_1.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(ne);case JSONRPC_1.JSONRPCMethod.net_version:return this._net_version();case JSONRPC_1.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(ee){const{method:re}=ee,ne=ee.params||[];switch(re){case JSONRPC_1.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case JSONRPC_1.JSONRPCMethod.eth_sign:return this._eth_sign(ne);case JSONRPC_1.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(ne);case JSONRPC_1.JSONRPCMethod.personal_sign:return this._personal_sign(ne);case JSONRPC_1.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(ne);case JSONRPC_1.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(ne);case JSONRPC_1.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(ne);case JSONRPC_1.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(ne);case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(ne);case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(ne);case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v4:case JSONRPC_1.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(ne);case JSONRPC_1.JSONRPCMethod.walletlink_arbitrary:return this._walletlink_arbitrary(ne);case JSONRPC_1.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(ne);case JSONRPC_1.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(ne);case JSONRPC_1.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(ne)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(ee,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(ee){const{method:re}=ee,ne=ee.params||[];switch(re){case JSONRPC_1.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(ne);case JSONRPC_1.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case JSONRPC_1.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case JSONRPC_1.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(ne);case JSONRPC_1.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(ne)}}_handleSubscriptionMethods(ee){switch(ee.method){case JSONRPC_1.JSONRPCMethod.eth_subscribe:case JSONRPC_1.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(ee)}}_isKnownAddress(ee){try{const re=(0,util_1$4.ensureAddressString)(ee);return this._addresses.map(ie=>(0,util_1$4.ensureAddressString)(ie)).includes(re)}catch{}return!1}_ensureKnownAddress(ee){if(!this._isKnownAddress(ee))throw this._walletLinkAnalytics.sendEvent(init_1$2.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(ee){const re=ee.from?(0,util_1$4.ensureAddressString)(ee.from):this.selectedAddress;if(!re)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(re);const ne=ee.to?(0,util_1$4.ensureAddressString)(ee.to):null,ie=ee.value!=null?(0,util_1$4.ensureBN)(ee.value):new bn_js_1.default(0),oe=ee.data?(0,util_1$4.ensureBuffer)(ee.data):buffer$2.Buffer.alloc(0),se=ee.nonce!=null?(0,util_1$4.ensureIntNumber)(ee.nonce):null,ae=ee.gasPrice!=null?(0,util_1$4.ensureBN)(ee.gasPrice):null,fe=ee.maxFeePerGas!=null?(0,util_1$4.ensureBN)(ee.maxFeePerGas):null,ue=ee.maxPriorityFeePerGas!=null?(0,util_1$4.ensureBN)(ee.maxPriorityFeePerGas):null,le=ee.gas!=null?(0,util_1$4.ensureBN)(ee.gas):null,pe=this.getChainId();return{fromAddress:re,toAddress:ne,weiValue:ie,data:oe,nonce:se,gasPriceInWei:ae,maxFeePerGas:fe,maxPriorityFeePerGas:ue,gasLimit:le,chainId:pe}}_requireAuthorization(){if(this._addresses.length===0)throw eth_rpc_errors_1$1.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw eth_rpc_errors_1$1.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(ee,re,ne,ie){this._ensureKnownAddress(re);try{const se=await(await this.initializeRelay()).signEthereumMessage(ee,re,ne,ie).promise;return{jsonrpc:"2.0",id:0,result:se.result}}catch(oe){throw typeof oe.message=="string"&&oe.message.match(/(denied|rejected)/i)?eth_rpc_errors_1$1.ethErrors.provider.userRejectedRequest("User denied message signature"):oe}}async _ethereumAddressFromSignedMessage(ee,re,ne){const oe=await(await this.initializeRelay()).ethereumAddressFromSignedMessage(ee,re,ne).promise;return{jsonrpc:"2.0",id:0,result:oe.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,util_1$4.hexStringFromIntNumber)(this.getChainId())}getChainId(){const ee=this._storage.getItem(DEFAULT_CHAIN_ID_KEY)||"1",re=parseInt(ee,10);return(0,util_1$4.ensureIntNumber)(re)}async _eth_requestAccounts(){if(this._walletLinkAnalytics.sendEvent(init_1$2.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Session_1$2.Session.hash(this._relay.session.id):null}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let ee;try{ee=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(re){throw typeof re.message=="string"&&re.message.match(/(denied|rejected)/i)?eth_rpc_errors_1$1.ethErrors.provider.userRejectedRequest("User denied account authorization"):re}if(!ee.result)throw new Error("accounts received is empty");return this._setAddresses(ee.result),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(ee){this._requireAuthorization();const re=(0,util_1$4.ensureAddressString)(ee[0]),ne=(0,util_1$4.ensureBuffer)(ee[1]);return this._signEthereumMessage(ne,re,!1)}_eth_ecRecover(ee){const re=(0,util_1$4.ensureBuffer)(ee[0]),ne=(0,util_1$4.ensureBuffer)(ee[1]);return this._ethereumAddressFromSignedMessage(re,ne,!1)}_personal_sign(ee){this._requireAuthorization();const re=(0,util_1$4.ensureBuffer)(ee[0]),ne=(0,util_1$4.ensureAddressString)(ee[1]);return this._signEthereumMessage(re,ne,!0)}_personal_ecRecover(ee){const re=(0,util_1$4.ensureBuffer)(ee[0]),ne=(0,util_1$4.ensureBuffer)(ee[1]);return this._ethereumAddressFromSignedMessage(re,ne,!0)}async _eth_signTransaction(ee){this._requireAuthorization();const re=this._prepareTransactionParams(ee[0]||{});try{const ie=await(await this.initializeRelay()).signEthereumTransaction(re).promise;return{jsonrpc:"2.0",id:0,result:ie.result}}catch(ne){throw typeof ne.message=="string"&&ne.message.match(/(denied|rejected)/i)?eth_rpc_errors_1$1.ethErrors.provider.userRejectedRequest("User denied transaction signature"):ne}}async _eth_sendRawTransaction(ee){const re=(0,util_1$4.ensureBuffer)(ee[0]),ie=await(await this.initializeRelay()).submitEthereumTransaction(re,this.getChainId()).promise;return{jsonrpc:"2.0",id:0,result:ie.result}}async _eth_sendTransaction(ee){this._requireAuthorization();const re=this._prepareTransactionParams(ee[0]||{});try{const ie=await(await this.initializeRelay()).signAndSubmitEthereumTransaction(re).promise;return{jsonrpc:"2.0",id:0,result:ie.result}}catch(ne){throw typeof ne.message=="string"&&ne.message.match(/(denied|rejected)/i)?eth_rpc_errors_1$1.ethErrors.provider.userRejectedRequest("User denied transaction signature"):ne}}async _eth_signTypedData_v1(ee){this._requireAuthorization();const re=(0,util_1$4.ensureParsedJSONObject)(ee[0]),ne=(0,util_1$4.ensureAddressString)(ee[1]);this._ensureKnownAddress(ne);const ie=eth_eip712_util_1.default.hashForSignTypedDataLegacy({data:re}),oe=JSON.stringify(re,null,2);return this._signEthereumMessage(ie,ne,!1,oe)}async _eth_signTypedData_v3(ee){this._requireAuthorization();const re=(0,util_1$4.ensureAddressString)(ee[0]),ne=(0,util_1$4.ensureParsedJSONObject)(ee[1]);this._ensureKnownAddress(re);const ie=eth_eip712_util_1.default.hashForSignTypedData_v3({data:ne}),oe=JSON.stringify(ne,null,2);return this._signEthereumMessage(ie,re,!1,oe)}async _eth_signTypedData_v4(ee){this._requireAuthorization();const re=(0,util_1$4.ensureAddressString)(ee[0]),ne=(0,util_1$4.ensureParsedJSONObject)(ee[1]);this._ensureKnownAddress(re);const ie=eth_eip712_util_1.default.hashForSignTypedData_v4({data:ne}),oe=JSON.stringify(ne,null,2);return this._signEthereumMessage(ie,re,!1,oe)}async _walletlink_arbitrary(ee){const re=ee[0],ne=ee[1];if(typeof ne!="string")throw new Error("parameter must be a string");if(typeof re!="object"||re===null)throw new Error("parameter must be an object");const ie=await this.genericRequest(re,ne);return{jsonrpc:"2.0",id:0,result:ie}}async _wallet_addEthereumChain(ee){var re,ne,ie,oe;const se=ee[0];if(((re=se.rpcUrls)===null||re===void 0?void 0:re.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!se.chainName||se.chainName.trim()==="")throw eth_rpc_errors_1$1.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!se.nativeCurrency)throw eth_rpc_errors_1$1.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const ae=parseInt(se.chainId,16);return await this.addEthereumChain(ae,(ne=se.rpcUrls)!==null&&ne!==void 0?ne:[],(ie=se.blockExplorerUrls)!==null&&ie!==void 0?ie:[],se.chainName,(oe=se.iconUrls)!==null&&oe!==void 0?oe:[],se.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(ee){const re=ee[0];return await this.switchEthereumChain(parseInt(re.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(ee){var re;const ne=Array.isArray(ee)?ee[0]:ee;if(((re=ne.type)===null||re===void 0?void 0:re.length)===0)throw eth_rpc_errors_1$1.ethErrors.rpc.invalidParams({message:"type is a required field"});if(ne.type!=="ERC20")throw eth_rpc_errors_1$1.ethErrors.rpc.invalidParams({message:`Asset of type '${ne.type}' not supported`});if(!(ne!=null&&ne.options))throw eth_rpc_errors_1$1.ethErrors.rpc.invalidParams({message:"options is a required field"});if(!ne.options.address)throw eth_rpc_errors_1$1.ethErrors.rpc.invalidParams({message:"option address is a required option"});const{address:ie,symbol:oe,image:se,decimals:ae}=ne.options,fe=await this.watchAsset(ne.type,ie,oe,ae,se);return{jsonrpc:"2.0",id:0,result:fe}}_eth_uninstallFilter(ee){const re=(0,util_1$4.ensureHexString)(ee[0]);return this._filterPolyfill.uninstallFilter(re)}async _eth_newFilter(ee){const re=ee[0],ne=await this._filterPolyfill.newFilter(re);return{jsonrpc:"2.0",id:0,result:ne}}async _eth_newBlockFilter(){const ee=await this._filterPolyfill.newBlockFilter();return{jsonrpc:"2.0",id:0,result:ee}}async _eth_newPendingTransactionFilter(){const ee=await this._filterPolyfill.newPendingTransactionFilter();return{jsonrpc:"2.0",id:0,result:ee}}_eth_getFilterChanges(ee){const re=(0,util_1$4.ensureHexString)(ee[0]);return this._filterPolyfill.getFilterChanges(re)}_eth_getFilterLogs(ee){const re=(0,util_1$4.ensureHexString)(ee[0]);return this._filterPolyfill.getFilterLogs(re)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(ee=>(ee.setAccountsCallback(re=>this._setAddresses(re)),ee.setChainCallback((re,ne)=>{this.updateProviderInfo(ne,parseInt(re,10),!0)}),this._relay=ee,ee))}}WalletLinkProvider$1.WalletLinkProvider=WalletLinkProvider;var WalletLink$2={},ScopedLocalStorage$1={};Object.defineProperty(ScopedLocalStorage$1,"__esModule",{value:!0});ScopedLocalStorage$1.ScopedLocalStorage=void 0;class ScopedLocalStorage{constructor(ee){this.scope=ee}setItem(ee,re){localStorage.setItem(this.scopedKey(ee),re)}getItem(ee){return localStorage.getItem(this.scopedKey(ee))}removeItem(ee){localStorage.removeItem(this.scopedKey(ee))}clear(){const ee=this.scopedKey(""),re=[];for(let ne=0;ne<localStorage.length;ne++){const ie=localStorage.key(ne);typeof ie=="string"&&ie.startsWith(ee)&&re.push(ie)}re.forEach(ne=>localStorage.removeItem(ne))}scopedKey(ee){return`${this.scope}:${ee}`}}ScopedLocalStorage$1.ScopedLocalStorage=ScopedLocalStorage;var WalletLinkSdkUI$1={},LinkFlow$1={},n,l$1,u$1,i$2,t$1,o$1,r$1,f$1,e$1={},c$1=[],s$1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function a$1(te,ee){for(var re in ee)te[re]=ee[re];return te}function h$1(te){var ee=te.parentNode;ee&&ee.removeChild(te)}function v$1(te,ee,re){var ne,ie,oe,se={};for(oe in ee)oe=="key"?ne=ee[oe]:oe=="ref"?ie=ee[oe]:se[oe]=ee[oe];if(arguments.length>2&&(se.children=arguments.length>3?n.call(arguments,2):re),typeof te=="function"&&te.defaultProps!=null)for(oe in te.defaultProps)se[oe]===void 0&&(se[oe]=te.defaultProps[oe]);return y$1(te,se,ne,ie,null)}function y$1(te,ee,re,ne,ie){var oe={type:te,props:ee,key:re,ref:ne,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:ie==null?++u$1:ie};return ie==null&&l$1.vnode!=null&&l$1.vnode(oe),oe}function p$1(){return{current:null}}function d$1(te){return te.children}function _$1(te,ee){this.props=te,this.context=ee}function k$1(te,ee){if(ee==null)return te.__?k$1(te.__,te.__.__k.indexOf(te)+1):null;for(var re;ee<te.__k.length;ee++)if((re=te.__k[ee])!=null&&re.__e!=null)return re.__e;return typeof te.type=="function"?k$1(te):null}function b$1(te){var ee,re;if((te=te.__)!=null&&te.__c!=null){for(te.__e=te.__c.base=null,ee=0;ee<te.__k.length;ee++)if((re=te.__k[ee])!=null&&re.__e!=null){te.__e=te.__c.base=re.__e;break}return b$1(te)}}function m$1(te){(!te.__d&&(te.__d=!0)&&t$1.push(te)&&!g$1.__r++||r$1!==l$1.debounceRendering)&&((r$1=l$1.debounceRendering)||o$1)(g$1)}function g$1(){for(var te;g$1.__r=t$1.length;)te=t$1.sort(function(ee,re){return ee.__v.__b-re.__v.__b}),t$1=[],te.some(function(ee){var re,ne,ie,oe,se,ae;ee.__d&&(se=(oe=(re=ee).__v).__e,(ae=re.__P)&&(ne=[],(ie=a$1({},oe)).__v=oe.__v+1,j$1(ae,oe,ie,re.__n,ae.ownerSVGElement!==void 0,oe.__h!=null?[se]:null,ne,se==null?k$1(oe):se,oe.__h),z$1(ne,oe),oe.__e!=se&&b$1(oe)))})}function w$1(te,ee,re,ne,ie,oe,se,ae,fe,ue){var le,pe,rr,cr,ar,mr,pr,yr=ne&&ne.__k||c$1,vr=yr.length;for(re.__k=[],le=0;le<ee.length;le++)if((cr=re.__k[le]=(cr=ee[le])==null||typeof cr=="boolean"?null:typeof cr=="string"||typeof cr=="number"||typeof cr=="bigint"?y$1(null,cr,null,null,cr):Array.isArray(cr)?y$1(d$1,{children:cr},null,null,null):cr.__b>0?y$1(cr.type,cr.props,cr.key,null,cr.__v):cr)!=null){if(cr.__=re,cr.__b=re.__b+1,(rr=yr[le])===null||rr&&cr.key==rr.key&&cr.type===rr.type)yr[le]=void 0;else for(pe=0;pe<vr;pe++){if((rr=yr[pe])&&cr.key==rr.key&&cr.type===rr.type){yr[pe]=void 0;break}rr=null}j$1(te,cr,rr=rr||e$1,ie,oe,se,ae,fe,ue),ar=cr.__e,(pe=cr.ref)&&rr.ref!=pe&&(pr||(pr=[]),rr.ref&&pr.push(rr.ref,null,cr),pr.push(pe,cr.__c||ar,cr)),ar!=null?(mr==null&&(mr=ar),typeof cr.type=="function"&&cr.__k===rr.__k?cr.__d=fe=x$2(cr,fe,te):fe=P(te,cr,rr,yr,ar,fe),typeof re.type=="function"&&(re.__d=fe)):fe&&rr.__e==fe&&fe.parentNode!=te&&(fe=k$1(rr))}for(re.__e=mr,le=vr;le--;)yr[le]!=null&&(typeof re.type=="function"&&yr[le].__e!=null&&yr[le].__e==re.__d&&(re.__d=k$1(ne,le+1)),N(yr[le],yr[le]));if(pr)for(le=0;le<pr.length;le++)M(pr[le],pr[++le],pr[++le])}function x$2(te,ee,re){for(var ne,ie=te.__k,oe=0;ie&&oe<ie.length;oe++)(ne=ie[oe])&&(ne.__=te,ee=typeof ne.type=="function"?x$2(ne,ee,re):P(re,ne,ne,ie,ne.__e,ee));return ee}function A$1(te,ee){return ee=ee||[],te==null||typeof te=="boolean"||(Array.isArray(te)?te.some(function(re){A$1(re,ee)}):ee.push(te)),ee}function P(te,ee,re,ne,ie,oe){var se,ae,fe;if(ee.__d!==void 0)se=ee.__d,ee.__d=void 0;else if(re==null||ie!=oe||ie.parentNode==null)e:if(oe==null||oe.parentNode!==te)te.appendChild(ie),se=null;else{for(ae=oe,fe=0;(ae=ae.nextSibling)&&fe<ne.length;fe+=2)if(ae==ie)break e;te.insertBefore(ie,oe),se=oe}return se!==void 0?se:ie.nextSibling}function C(te,ee,re,ne,ie){var oe;for(oe in re)oe==="children"||oe==="key"||oe in ee||H(te,oe,null,re[oe],ne);for(oe in ee)ie&&typeof ee[oe]!="function"||oe==="children"||oe==="key"||oe==="value"||oe==="checked"||re[oe]===ee[oe]||H(te,oe,ee[oe],re[oe],ne)}function $(te,ee,re){ee[0]==="-"?te.setProperty(ee,re):te[ee]=re==null?"":typeof re!="number"||s$1.test(ee)?re:re+"px"}function H(te,ee,re,ne,ie){var oe;e:if(ee==="style")if(typeof re=="string")te.style.cssText=re;else{if(typeof ne=="string"&&(te.style.cssText=ne=""),ne)for(ee in ne)re&&ee in re||$(te.style,ee,"");if(re)for(ee in re)ne&&re[ee]===ne[ee]||$(te.style,ee,re[ee])}else if(ee[0]==="o"&&ee[1]==="n")oe=ee!==(ee=ee.replace(/Capture$/,"")),ee=ee.toLowerCase()in te?ee.toLowerCase().slice(2):ee.slice(2),te.l||(te.l={}),te.l[ee+oe]=re,re?ne||te.addEventListener(ee,oe?T$1:I,oe):te.removeEventListener(ee,oe?T$1:I,oe);else if(ee!=="dangerouslySetInnerHTML"){if(ie)ee=ee.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(ee!=="href"&&ee!=="list"&&ee!=="form"&&ee!=="tabIndex"&&ee!=="download"&&ee in te)try{te[ee]=re==null?"":re;break e}catch{}typeof re=="function"||(re!=null&&(re!==!1||ee[0]==="a"&&ee[1]==="r")?te.setAttribute(ee,re):te.removeAttribute(ee))}}function I(te){this.l[te.type+!1](l$1.event?l$1.event(te):te)}function T$1(te){this.l[te.type+!0](l$1.event?l$1.event(te):te)}function j$1(te,ee,re,ne,ie,oe,se,ae,fe){var ue,le,pe,rr,cr,ar,mr,pr,yr,vr,Er,Tr=ee.type;if(ee.constructor!==void 0)return null;re.__h!=null&&(fe=re.__h,ae=ee.__e=re.__e,ee.__h=null,oe=[ae]),(ue=l$1.__b)&&ue(ee);try{e:if(typeof Tr=="function"){if(pr=ee.props,yr=(ue=Tr.contextType)&&ne[ue.__c],vr=ue?yr?yr.props.value:ue.__:ne,re.__c?mr=(le=ee.__c=re.__c).__=le.__E:("prototype"in Tr&&Tr.prototype.render?ee.__c=le=new Tr(pr,vr):(ee.__c=le=new _$1(pr,vr),le.constructor=Tr,le.render=O),yr&&yr.sub(le),le.props=pr,le.state||(le.state={}),le.context=vr,le.__n=ne,pe=le.__d=!0,le.__h=[]),le.__s==null&&(le.__s=le.state),Tr.getDerivedStateFromProps!=null&&(le.__s==le.state&&(le.__s=a$1({},le.__s)),a$1(le.__s,Tr.getDerivedStateFromProps(pr,le.__s))),rr=le.props,cr=le.state,pe)Tr.getDerivedStateFromProps==null&&le.componentWillMount!=null&&le.componentWillMount(),le.componentDidMount!=null&&le.__h.push(le.componentDidMount);else{if(Tr.getDerivedStateFromProps==null&&pr!==rr&&le.componentWillReceiveProps!=null&&le.componentWillReceiveProps(pr,vr),!le.__e&&le.shouldComponentUpdate!=null&&le.shouldComponentUpdate(pr,le.__s,vr)===!1||ee.__v===re.__v){le.props=pr,le.state=le.__s,ee.__v!==re.__v&&(le.__d=!1),le.__v=ee,ee.__e=re.__e,ee.__k=re.__k,ee.__k.forEach(function(Ir){Ir&&(Ir.__=ee)}),le.__h.length&&se.push(le);break e}le.componentWillUpdate!=null&&le.componentWillUpdate(pr,le.__s,vr),le.componentDidUpdate!=null&&le.__h.push(function(){le.componentDidUpdate(rr,cr,ar)})}le.context=vr,le.props=pr,le.state=le.__s,(ue=l$1.__r)&&ue(ee),le.__d=!1,le.__v=ee,le.__P=te,ue=le.render(le.props,le.state,le.context),le.state=le.__s,le.getChildContext!=null&&(ne=a$1(a$1({},ne),le.getChildContext())),pe||le.getSnapshotBeforeUpdate==null||(ar=le.getSnapshotBeforeUpdate(rr,cr)),Er=ue!=null&&ue.type===d$1&&ue.key==null?ue.props.children:ue,w$1(te,Array.isArray(Er)?Er:[Er],ee,re,ne,ie,oe,se,ae,fe),le.base=ee.__e,ee.__h=null,le.__h.length&&se.push(le),mr&&(le.__E=le.__=null),le.__e=!1}else oe==null&&ee.__v===re.__v?(ee.__k=re.__k,ee.__e=re.__e):ee.__e=L(re.__e,ee,re,ne,ie,oe,se,fe);(ue=l$1.diffed)&&ue(ee)}catch(Ir){ee.__v=null,(fe||oe!=null)&&(ee.__e=ae,ee.__h=!!fe,oe[oe.indexOf(ae)]=null),l$1.__e(Ir,ee,re)}}function z$1(te,ee){l$1.__c&&l$1.__c(ee,te),te.some(function(re){try{te=re.__h,re.__h=[],te.some(function(ne){ne.call(re)})}catch(ne){l$1.__e(ne,re.__v)}})}function L(te,ee,re,ne,ie,oe,se,ae){var fe,ue,le,pe=re.props,rr=ee.props,cr=ee.type,ar=0;if(cr==="svg"&&(ie=!0),oe!=null){for(;ar<oe.length;ar++)if((fe=oe[ar])&&"setAttribute"in fe==!!cr&&(cr?fe.localName===cr:fe.nodeType===3)){te=fe,oe[ar]=null;break}}if(te==null){if(cr===null)return document.createTextNode(rr);te=ie?document.createElementNS("http://www.w3.org/2000/svg",cr):document.createElement(cr,rr.is&&rr),oe=null,ae=!1}if(cr===null)pe===rr||ae&&te.data===rr||(te.data=rr);else{if(oe=oe&&n.call(te.childNodes),ue=(pe=re.props||e$1).dangerouslySetInnerHTML,le=rr.dangerouslySetInnerHTML,!ae){if(oe!=null)for(pe={},ar=0;ar<te.attributes.length;ar++)pe[te.attributes[ar].name]=te.attributes[ar].value;(le||ue)&&(le&&(ue&&le.__html==ue.__html||le.__html===te.innerHTML)||(te.innerHTML=le&&le.__html||""))}if(C(te,rr,pe,ie,ae),le)ee.__k=[];else if(ar=ee.props.children,w$1(te,Array.isArray(ar)?ar:[ar],ee,re,ne,ie&&cr!=="foreignObject",oe,se,oe?oe[0]:re.__k&&k$1(re,0),ae),oe!=null)for(ar=oe.length;ar--;)oe[ar]!=null&&h$1(oe[ar]);ae||("value"in rr&&(ar=rr.value)!==void 0&&(ar!==te.value||cr==="progress"&&!ar||cr==="option"&&ar!==pe.value)&&H(te,"value",ar,pe.value,!1),"checked"in rr&&(ar=rr.checked)!==void 0&&ar!==te.checked&&H(te,"checked",ar,pe.checked,!1))}return te}function M(te,ee,re){try{typeof te=="function"?te(ee):te.current=ee}catch(ne){l$1.__e(ne,re)}}function N(te,ee,re){var ne,ie;if(l$1.unmount&&l$1.unmount(te),(ne=te.ref)&&(ne.current&&ne.current!==te.__e||M(ne,null,ee)),(ne=te.__c)!=null){if(ne.componentWillUnmount)try{ne.componentWillUnmount()}catch(oe){l$1.__e(oe,ee)}ne.base=ne.__P=null}if(ne=te.__k)for(ie=0;ie<ne.length;ie++)ne[ie]&&N(ne[ie],ee,typeof te.type!="function");re||te.__e==null||h$1(te.__e),te.__e=te.__d=void 0}function O(te,ee,re){return this.constructor(te,re)}function S(te,ee,re){var ne,ie,oe;l$1.__&&l$1.__(te,ee),ie=(ne=typeof re=="function")?null:re&&re.__k||ee.__k,oe=[],j$1(ee,te=(!ne&&re||ee).__k=v$1(d$1,null,[te]),ie||e$1,e$1,ee.ownerSVGElement!==void 0,!ne&&re?[re]:ie?null:ee.firstChild?n.call(ee.childNodes):null,oe,!ne&&re?re:ie?ie.__e:ee.firstChild,ne),z$1(oe,te)}function q$1(te,ee){S(te,ee,q$1)}function B(te,ee,re){var ne,ie,oe,se=a$1({},te.props);for(oe in ee)oe=="key"?ne=ee[oe]:oe=="ref"?ie=ee[oe]:se[oe]=ee[oe];return arguments.length>2&&(se.children=arguments.length>3?n.call(arguments,2):re),y$1(te.type,se,ne||te.key,ie||te.ref,null)}function D(te,ee){var re={__c:ee="__cC"+f$1++,__:te,Consumer:function(ne,ie){return ne.children(ie)},Provider:function(ne){var ie,oe;return this.getChildContext||(ie=[],(oe={})[ee]=this,this.getChildContext=function(){return oe},this.shouldComponentUpdate=function(se){this.props.value!==se.value&&ie.some(m$1)},this.sub=function(se){ie.push(se);var ae=se.componentWillUnmount;se.componentWillUnmount=function(){ie.splice(ie.indexOf(se),1),ae&&ae.call(se)}}),ne.children}};return re.Provider.__=re.Consumer.contextType=re}n=c$1.slice,l$1={__e:function(te,ee){for(var re,ne,ie;ee=ee.__;)if((re=ee.__c)&&!re.__)try{if((ne=re.constructor)&&ne.getDerivedStateFromError!=null&&(re.setState(ne.getDerivedStateFromError(te)),ie=re.__d),re.componentDidCatch!=null&&(re.componentDidCatch(te),ie=re.__d),ie)return re.__E=re}catch(oe){te=oe}throw te}},u$1=0,i$2=function(te){return te!=null&&te.constructor===void 0},_$1.prototype.setState=function(te,ee){var re;re=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=a$1({},this.state),typeof te=="function"&&(te=te(a$1({},re),this.props)),te&&a$1(re,te),te!=null&&this.__v&&(ee&&this.__h.push(ee),m$1(this))},_$1.prototype.forceUpdate=function(te){this.__v&&(this.__e=!0,te&&this.__h.push(te),m$1(this))},_$1.prototype.render=d$1,t$1=[],o$1=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g$1.__r=0,f$1=0;var preact_module=Object.freeze(Object.defineProperty({__proto__:null,render:S,hydrate:q$1,createElement:v$1,h:v$1,Fragment:d$1,createRef:p$1,get isValidElement(){return i$2},Component:_$1,cloneElement:B,createContext:D,toChildArray:A$1,get options(){return l$1}},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(preact_module),LinkDialog$1={};function toVal(te){var ee,re,ne="";if(typeof te=="string"||typeof te=="number")ne+=te;else if(typeof te=="object")if(Array.isArray(te))for(ee=0;ee<te.length;ee++)te[ee]&&(re=toVal(te[ee]))&&(ne&&(ne+=" "),ne+=re);else for(ee in te)te[ee]&&(ne&&(ne+=" "),ne+=ee);return ne}function clsx_m(){for(var te=0,ee,re,ne="";te<arguments.length;)(ee=arguments[te++])&&(re=toVal(ee))&&(ne&&(ne+=" "),ne+=re);return ne}var clsx_m$1=Object.freeze(Object.defineProperty({__proto__:null,default:clsx_m},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(clsx_m$1),t,u,r,o=0,i$1=[],c=l$1.__b,f=l$1.__r,e=l$1.diffed,a=l$1.__c,v=l$1.unmount;function m(te,ee){l$1.__h&&l$1.__h(u,te,o||ee),o=0;var re=u.__H||(u.__H={__:[],__h:[]});return te>=re.__.length&&re.__.push({}),re.__[te]}function l(te){return o=1,p(w,te)}function p(te,ee,re){var ne=m(t++,2);return ne.t=te,ne.__c||(ne.__=[re?re(ee):w(void 0,ee),function(ie){var oe=ne.t(ne.__[0],ie);ne.__[0]!==oe&&(ne.__=[oe,ne.__[1]],ne.__c.setState({}))}],ne.__c=u),ne.__}function y(te,ee){var re=m(t++,3);!l$1.__s&&k(re.__H,ee)&&(re.__=te,re.__H=ee,u.__H.__h.push(re))}function h(te,ee){var re=m(t++,4);!l$1.__s&&k(re.__H,ee)&&(re.__=te,re.__H=ee,u.__h.push(re))}function s(te){return o=5,d(function(){return{current:te}},[])}function _(te,ee,re){o=6,h(function(){typeof te=="function"?te(ee()):te&&(te.current=ee())},re==null?re:re.concat(te))}function d(te,ee){var re=m(t++,7);return k(re.__H,ee)&&(re.__=te(),re.__H=ee,re.__h=te),re.__}function A(te,ee){return o=8,d(function(){return te},ee)}function F(te){var ee=u.context[te.__c],re=m(t++,9);return re.c=te,ee?(re.__==null&&(re.__=!0,ee.sub(u)),ee.props.value):te.__}function T(te,ee){l$1.useDebugValue&&l$1.useDebugValue(ee?ee(te):te)}function q(te){var ee=m(t++,10),re=l();return ee.__=te,u.componentDidCatch||(u.componentDidCatch=function(ne){ee.__&&ee.__(ne),re[1](ne)}),[re[0],function(){re[1](void 0)}]}function x$1(){for(var te;te=i$1.shift();)if(te.__P)try{te.__H.__h.forEach(g),te.__H.__h.forEach(j),te.__H.__h=[]}catch(ee){te.__H.__h=[],l$1.__e(ee,te.__v)}}l$1.__b=function(te){u=null,c&&c(te)},l$1.__r=function(te){f&&f(te),t=0;var ee=(u=te.__c).__H;ee&&(ee.__h.forEach(g),ee.__h.forEach(j),ee.__h=[])},l$1.diffed=function(te){e&&e(te);var ee=te.__c;ee&&ee.__H&&ee.__H.__h.length&&(i$1.push(ee)!==1&&r===l$1.requestAnimationFrame||((r=l$1.requestAnimationFrame)||function(re){var ne,ie=function(){clearTimeout(oe),b&&cancelAnimationFrame(ne),setTimeout(re)},oe=setTimeout(ie,100);b&&(ne=requestAnimationFrame(ie))})(x$1)),u=null},l$1.__c=function(te,ee){ee.some(function(re){try{re.__h.forEach(g),re.__h=re.__h.filter(function(ne){return!ne.__||j(ne)})}catch(ne){ee.some(function(ie){ie.__h&&(ie.__h=[])}),ee=[],l$1.__e(ne,re.__v)}}),a&&a(te,ee)},l$1.unmount=function(te){v&&v(te);var ee,re=te.__c;re&&re.__H&&(re.__H.__.forEach(function(ne){try{g(ne)}catch(ie){ee=ie}}),ee&&l$1.__e(ee,re.__v))};var b=typeof requestAnimationFrame=="function";function g(te){var ee=u,re=te.__c;typeof re=="function"&&(te.__c=void 0,re()),u=ee}function j(te){var ee=u;te.__c=te.__(),u=ee}function k(te,ee){return!te||te.length!==ee.length||ee.some(function(re,ne){return re!==te[ne]})}function w(te,ee){return typeof ee=="function"?ee(te):ee}var hooks_module=Object.freeze(Object.defineProperty({__proto__:null,useState:l,useReducer:p,useEffect:y,useLayoutEffect:h,useRef:s,useImperativeHandle:_,useMemo:d,useCallback:A,useContext:F,useDebugValue:T,useErrorBoundary:q},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(hooks_module),LinkDialogCss={};Object.defineProperty(LinkDialogCss,"__esModule",{value:!0});LinkDialogCss.default='.-walletlink-css-reset .-walletlink-link-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-walletlink-css-reset .-walletlink-link-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.33);transition:opacity .25s}.-walletlink-css-reset .-walletlink-link-dialog-backdrop-hidden{opacity:0}.-walletlink-css-reset .-walletlink-link-dialog-box{display:flex;position:relative;flex-direction:column;background-color:#f6f6f6;border-radius:16px;box-shadow:0px 16px 24px rgba(0,0,0,.1),0px 0px 8px rgba(0,0,0,.05);transform:scale(1);transition:opacity .25s,transform .25s;overflow:hidden}.-walletlink-css-reset .-walletlink-link-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-walletlink-css-reset .-walletlink-link-dialog-box-content{padding:24px;text-align:center}.-walletlink-css-reset .-walletlink-link-dialog-box-content h3{display:block;margin-bottom:24px;text-align:left;text-transform:uppercase;font-size:22px;font-weight:bold;line-height:1.2;color:#000}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode{position:relative;display:block;margin-bottom:24px;background-color:#f6f6f6;padding:16px;border-radius:16px;box-shadow:4px 4px 8px rgba(0,0,0,.15),-8px -8px 8px #fff;overflow:hidden}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-wrapper{display:block;width:232px;height:232px;padding:4px;border-radius:4px;background:#f4f4f4;margin-bottom:16px}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-wrapper img{display:block;width:224px;height:224px}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode>p{display:block;color:gray;font-weight:bold;font-size:12px;text-align:center}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-connecting{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:rgba(246,246,246,.98)}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-connecting p{margin-top:16px;color:#333;font-size:12px;font-weight:bold}.-walletlink-css-reset .-walletlink-link-dialog-box-content a{text-align:center;cursor:pointer;transition:color .1s;font-size:14px}.-walletlink-css-reset .-walletlink-link-dialog-box-content a,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:link,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:visited{color:#999}.-walletlink-css-reset .-walletlink-link-dialog-box-content a:hover,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:active{color:#666;text-decoration:underline}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:24px;right:24px;width:24px;height:24px;border-radius:12px;background-color:#e7e7e7;cursor:pointer}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x{position:relative;display:block}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::after{content:"";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:2px;background-color:#999;transition:background-color .2s}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::before{transform:rotate(45deg)}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::after{transform:rotate(135deg)}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-a,.-walletlink-css-reset .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-b{background-color:#000}.-walletlink-css-reset .-walletlink-link-dialog-container{display:block}.-walletlink-css-reset .-walletlink-link-dialog-container-hidden{display:none}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box{background-color:#2a2a2a}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content h3{color:#ccc}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode{background-color:#2a2a2a;box-shadow:4px 4px 8px rgba(0,0,0,.5),-8px -8px 8px #343434}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode>p{color:#999}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode-connecting{background:rgba(42,42,42,.98)}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode-connecting p{color:#ddd}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:link,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:visited{color:#888}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:hover,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:active{color:#aaa}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel{background-color:#333}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel-x::after{background-color:#aaa}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x::after{background-color:#eee}';var QRCode$2={};function QR8bitByte(te){this.mode=QRMode.MODE_8BIT_BYTE,this.data=te,this.parsedData=[];for(var ee=0,re=this.data.length;ee<re;ee++){var ne=[],ie=this.data.charCodeAt(ee);ie>65536?(ne[0]=240|(ie&1835008)>>>18,ne[1]=128|(ie&258048)>>>12,ne[2]=128|(ie&4032)>>>6,ne[3]=128|ie&63):ie>2048?(ne[0]=224|(ie&61440)>>>12,ne[1]=128|(ie&4032)>>>6,ne[2]=128|ie&63):ie>128?(ne[0]=192|(ie&1984)>>>6,ne[1]=128|ie&63):ne[0]=ie,this.parsedData.push(ne)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}QR8bitByte.prototype={getLength:function(te){return this.parsedData.length},write:function(te){for(var ee=0,re=this.parsedData.length;ee<re;ee++)te.put(this.parsedData[ee],8)}};function QRCodeModel(te,ee){this.typeNumber=te,this.errorCorrectLevel=ee,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}QRCodeModel.prototype={addData:function(te){var ee=new QR8bitByte(te);this.dataList.push(ee),this.dataCache=null},isDark:function(te,ee){if(te<0||this.moduleCount<=te||ee<0||this.moduleCount<=ee)throw new Error(te+","+ee);return this.modules[te][ee]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(te,ee){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var re=0;re<this.moduleCount;re++){this.modules[re]=new Array(this.moduleCount);for(var ne=0;ne<this.moduleCount;ne++)this.modules[re][ne]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(te,ee),this.typeNumber>=7&&this.setupTypeNumber(te),this.dataCache==null&&(this.dataCache=QRCodeModel.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,ee)},setupPositionProbePattern:function(te,ee){for(var re=-1;re<=7;re++)if(!(te+re<=-1||this.moduleCount<=te+re))for(var ne=-1;ne<=7;ne++)ee+ne<=-1||this.moduleCount<=ee+ne||(0<=re&&re<=6&&(ne==0||ne==6)||0<=ne&&ne<=6&&(re==0||re==6)||2<=re&&re<=4&&2<=ne&&ne<=4?this.modules[te+re][ee+ne]=!0:this.modules[te+re][ee+ne]=!1)},getBestMaskPattern:function(){for(var te=0,ee=0,re=0;re<8;re++){this.makeImpl(!0,re);var ne=QRUtil.getLostPoint(this);(re==0||te>ne)&&(te=ne,ee=re)}return ee},createMovieClip:function(te,ee,re){var ne=te.createEmptyMovieClip(ee,re),ie=1;this.make();for(var oe=0;oe<this.modules.length;oe++)for(var se=oe*ie,ae=0;ae<this.modules[oe].length;ae++){var fe=ae*ie,ue=this.modules[oe][ae];ue&&(ne.beginFill(0,100),ne.moveTo(fe,se),ne.lineTo(fe+ie,se),ne.lineTo(fe+ie,se+ie),ne.lineTo(fe,se+ie),ne.endFill())}return ne},setupTimingPattern:function(){for(var te=8;te<this.moduleCount-8;te++)this.modules[te][6]==null&&(this.modules[te][6]=te%2==0);for(var ee=8;ee<this.moduleCount-8;ee++)this.modules[6][ee]==null&&(this.modules[6][ee]=ee%2==0)},setupPositionAdjustPattern:function(){for(var te=QRUtil.getPatternPosition(this.typeNumber),ee=0;ee<te.length;ee++)for(var re=0;re<te.length;re++){var ne=te[ee],ie=te[re];if(this.modules[ne][ie]==null)for(var oe=-2;oe<=2;oe++)for(var se=-2;se<=2;se++)oe==-2||oe==2||se==-2||se==2||oe==0&&se==0?this.modules[ne+oe][ie+se]=!0:this.modules[ne+oe][ie+se]=!1}},setupTypeNumber:function(te){for(var ee=QRUtil.getBCHTypeNumber(this.typeNumber),re=0;re<18;re++){var ne=!te&&(ee>>re&1)==1;this.modules[Math.floor(re/3)][re%3+this.moduleCount-8-3]=ne}for(var re=0;re<18;re++){var ne=!te&&(ee>>re&1)==1;this.modules[re%3+this.moduleCount-8-3][Math.floor(re/3)]=ne}},setupTypeInfo:function(te,ee){for(var re=this.errorCorrectLevel<<3|ee,ne=QRUtil.getBCHTypeInfo(re),ie=0;ie<15;ie++){var oe=!te&&(ne>>ie&1)==1;ie<6?this.modules[ie][8]=oe:ie<8?this.modules[ie+1][8]=oe:this.modules[this.moduleCount-15+ie][8]=oe}for(var ie=0;ie<15;ie++){var oe=!te&&(ne>>ie&1)==1;ie<8?this.modules[8][this.moduleCount-ie-1]=oe:ie<9?this.modules[8][15-ie-1+1]=oe:this.modules[8][15-ie-1]=oe}this.modules[this.moduleCount-8][8]=!te},mapData:function(te,ee){for(var re=-1,ne=this.moduleCount-1,ie=7,oe=0,se=this.moduleCount-1;se>0;se-=2)for(se==6&&se--;;){for(var ae=0;ae<2;ae++)if(this.modules[ne][se-ae]==null){var fe=!1;oe<te.length&&(fe=(te[oe]>>>ie&1)==1);var ue=QRUtil.getMask(ee,ne,se-ae);ue&&(fe=!fe),this.modules[ne][se-ae]=fe,ie--,ie==-1&&(oe++,ie=7)}if(ne+=re,ne<0||this.moduleCount<=ne){ne-=re,re=-re;break}}}};QRCodeModel.PAD0=236;QRCodeModel.PAD1=17;QRCodeModel.createData=function(te,ee,re){for(var ne=QRRSBlock.getRSBlocks(te,ee),ie=new QRBitBuffer,oe=0;oe<re.length;oe++){var se=re[oe];ie.put(se.mode,4),ie.put(se.getLength(),QRUtil.getLengthInBits(se.mode,te)),se.write(ie)}for(var ae=0,oe=0;oe<ne.length;oe++)ae+=ne[oe].dataCount;if(ie.getLengthInBits()>ae*8)throw new Error("code length overflow. ("+ie.getLengthInBits()+">"+ae*8+")");for(ie.getLengthInBits()+4<=ae*8&&ie.put(0,4);ie.getLengthInBits()%8!=0;)ie.putBit(!1);for(;!(ie.getLengthInBits()>=ae*8||(ie.put(QRCodeModel.PAD0,8),ie.getLengthInBits()>=ae*8));)ie.put(QRCodeModel.PAD1,8);return QRCodeModel.createBytes(ie,ne)};QRCodeModel.createBytes=function(te,ee){for(var re=0,ne=0,ie=0,oe=new Array(ee.length),se=new Array(ee.length),ae=0;ae<ee.length;ae++){var fe=ee[ae].dataCount,ue=ee[ae].totalCount-fe;ne=Math.max(ne,fe),ie=Math.max(ie,ue),oe[ae]=new Array(fe);for(var le=0;le<oe[ae].length;le++)oe[ae][le]=255&te.buffer[le+re];re+=fe;var pe=QRUtil.getErrorCorrectPolynomial(ue),rr=new QRPolynomial(oe[ae],pe.getLength()-1),cr=rr.mod(pe);se[ae]=new Array(pe.getLength()-1);for(var le=0;le<se[ae].length;le++){var ar=le+cr.getLength()-se[ae].length;se[ae][le]=ar>=0?cr.get(ar):0}}for(var mr=0,le=0;le<ee.length;le++)mr+=ee[le].totalCount;for(var pr=new Array(mr),yr=0,le=0;le<ne;le++)for(var ae=0;ae<ee.length;ae++)le<oe[ae].length&&(pr[yr++]=oe[ae][le]);for(var le=0;le<ie;le++)for(var ae=0;ae<ee.length;ae++)le<se[ae].length&&(pr[yr++]=se[ae][le]);return pr};var QRMode={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},QRErrorCorrectLevel={L:1,M:0,Q:3,H:2},QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(te){for(var ee=te<<10;QRUtil.getBCHDigit(ee)-QRUtil.getBCHDigit(QRUtil.G15)>=0;)ee^=QRUtil.G15<<QRUtil.getBCHDigit(ee)-QRUtil.getBCHDigit(QRUtil.G15);return(te<<10|ee)^QRUtil.G15_MASK},getBCHTypeNumber:function(te){for(var ee=te<<12;QRUtil.getBCHDigit(ee)-QRUtil.getBCHDigit(QRUtil.G18)>=0;)ee^=QRUtil.G18<<QRUtil.getBCHDigit(ee)-QRUtil.getBCHDigit(QRUtil.G18);return te<<12|ee},getBCHDigit:function(te){for(var ee=0;te!=0;)ee++,te>>>=1;return ee},getPatternPosition:function(te){return QRUtil.PATTERN_POSITION_TABLE[te-1]},getMask:function(te,ee,re){switch(te){case QRMaskPattern.PATTERN000:return(ee+re)%2==0;case QRMaskPattern.PATTERN001:return ee%2==0;case QRMaskPattern.PATTERN010:return re%3==0;case QRMaskPattern.PATTERN011:return(ee+re)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(ee/2)+Math.floor(re/3))%2==0;case QRMaskPattern.PATTERN101:return ee*re%2+ee*re%3==0;case QRMaskPattern.PATTERN110:return(ee*re%2+ee*re%3)%2==0;case QRMaskPattern.PATTERN111:return(ee*re%3+(ee+re)%2)%2==0;default:throw new Error("bad maskPattern:"+te)}},getErrorCorrectPolynomial:function(te){for(var ee=new QRPolynomial([1],0),re=0;re<te;re++)ee=ee.multiply(new QRPolynomial([1,QRMath.gexp(re)],0));return ee},getLengthInBits:function(te,ee){if(1<=ee&&ee<10)switch(te){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:return 8;case QRMode.MODE_KANJI:return 8;default:throw new Error("mode:"+te)}else if(ee<27)switch(te){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error("mode:"+te)}else if(ee<41)switch(te){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error("mode:"+te)}else throw new Error("type:"+ee)},getLostPoint:function(te){for(var ee=te.getModuleCount(),re=0,ne=0;ne<ee;ne++)for(var ie=0;ie<ee;ie++){for(var oe=0,se=te.isDark(ne,ie),ae=-1;ae<=1;ae++)if(!(ne+ae<0||ee<=ne+ae))for(var fe=-1;fe<=1;fe++)ie+fe<0||ee<=ie+fe||ae==0&&fe==0||se==te.isDark(ne+ae,ie+fe)&&oe++;oe>5&&(re+=3+oe-5)}for(var ne=0;ne<ee-1;ne++)for(var ie=0;ie<ee-1;ie++){var ue=0;te.isDark(ne,ie)&&ue++,te.isDark(ne+1,ie)&&ue++,te.isDark(ne,ie+1)&&ue++,te.isDark(ne+1,ie+1)&&ue++,(ue==0||ue==4)&&(re+=3)}for(var ne=0;ne<ee;ne++)for(var ie=0;ie<ee-6;ie++)te.isDark(ne,ie)&&!te.isDark(ne,ie+1)&&te.isDark(ne,ie+2)&&te.isDark(ne,ie+3)&&te.isDark(ne,ie+4)&&!te.isDark(ne,ie+5)&&te.isDark(ne,ie+6)&&(re+=40);for(var ie=0;ie<ee;ie++)for(var ne=0;ne<ee-6;ne++)te.isDark(ne,ie)&&!te.isDark(ne+1,ie)&&te.isDark(ne+2,ie)&&te.isDark(ne+3,ie)&&te.isDark(ne+4,ie)&&!te.isDark(ne+5,ie)&&te.isDark(ne+6,ie)&&(re+=40);for(var le=0,ie=0;ie<ee;ie++)for(var ne=0;ne<ee;ne++)te.isDark(ne,ie)&&le++;var pe=Math.abs(100*le/ee/ee-50)/5;return re+=pe*10,re}},QRMath={glog:function(te){if(te<1)throw new Error("glog("+te+")");return QRMath.LOG_TABLE[te]},gexp:function(te){for(;te<0;)te+=255;for(;te>=256;)te-=255;return QRMath.EXP_TABLE[te]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var i=0;i<8;i++)QRMath.EXP_TABLE[i]=1<<i;for(var i=8;i<256;i++)QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];for(var i=0;i<255;i++)QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;function QRPolynomial(te,ee){if(te.length==null)throw new Error(te.length+"/"+ee);for(var re=0;re<te.length&&te[re]==0;)re++;this.num=new Array(te.length-re+ee);for(var ne=0;ne<te.length-re;ne++)this.num[ne]=te[ne+re]}QRPolynomial.prototype={get:function(te){return this.num[te]},getLength:function(){return this.num.length},multiply:function(te){for(var ee=new Array(this.getLength()+te.getLength()-1),re=0;re<this.getLength();re++)for(var ne=0;ne<te.getLength();ne++)ee[re+ne]^=QRMath.gexp(QRMath.glog(this.get(re))+QRMath.glog(te.get(ne)));return new QRPolynomial(ee,0)},mod:function(te){if(this.getLength()-te.getLength()<0)return this;for(var ee=QRMath.glog(this.get(0))-QRMath.glog(te.get(0)),re=new Array(this.getLength()),ne=0;ne<this.getLength();ne++)re[ne]=this.get(ne);for(var ne=0;ne<te.getLength();ne++)re[ne]^=QRMath.gexp(QRMath.glog(te.get(ne))+ee);return new QRPolynomial(re,0).mod(te)}};function QRRSBlock(te,ee){this.totalCount=te,this.dataCount=ee}QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];QRRSBlock.getRSBlocks=function(te,ee){var re=QRRSBlock.getRsBlockTable(te,ee);if(re==null)throw new Error("bad rs block @ typeNumber:"+te+"/errorCorrectLevel:"+ee);for(var ne=re.length/3,ie=[],oe=0;oe<ne;oe++)for(var se=re[oe*3+0],ae=re[oe*3+1],fe=re[oe*3+2],ue=0;ue<se;ue++)ie.push(new QRRSBlock(ae,fe));return ie};QRRSBlock.getRsBlockTable=function(te,ee){switch(ee){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[(te-1)*4+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[(te-1)*4+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[(te-1)*4+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[(te-1)*4+3];default:return}};function QRBitBuffer(){this.buffer=[],this.length=0}QRBitBuffer.prototype={get:function(te){var ee=Math.floor(te/8);return(this.buffer[ee]>>>7-te%8&1)==1},put:function(te,ee){for(var re=0;re<ee;re++)this.putBit((te>>>ee-re-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(te){var ee=Math.floor(this.length/8);this.buffer.length<=ee&&this.buffer.push(0),te&&(this.buffer[ee]|=128>>>this.length%8),this.length++}};var QRCodeLimitLength=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function QRCode$1(te){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof te=="string"&&(te={content:te}),te)for(var ee in te)this.options[ee]=te[ee];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function re(fe){switch(fe){case"L":return QRErrorCorrectLevel.L;case"M":return QRErrorCorrectLevel.M;case"Q":return QRErrorCorrectLevel.Q;case"H":return QRErrorCorrectLevel.H;default:throw new Error("Unknwon error correction level: "+fe)}}function ne(fe,ue){for(var le=ie(fe),pe=1,rr=0,cr=0,ar=QRCodeLimitLength.length;cr<=ar;cr++){var mr=QRCodeLimitLength[cr];if(!mr)throw new Error("Content too long: expected "+rr+" but got "+le);switch(ue){case"L":rr=mr[0];break;case"M":rr=mr[1];break;case"Q":rr=mr[2];break;case"H":rr=mr[3];break;default:throw new Error("Unknwon error correction level: "+ue)}if(le<=rr)break;pe++}if(pe>QRCodeLimitLength.length)throw new Error("Content too long");return pe}function ie(fe){var ue=encodeURI(fe).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return ue.length+(ue.length!=fe?3:0)}var oe=this.options.content,se=ne(oe,this.options.ecl),ae=re(this.options.ecl);this.qrcode=new QRCodeModel(se,ae),this.qrcode.addData(oe),this.qrcode.make()}QRCode$1.prototype.svg=function(te){var ee=this.options||{},re=this.qrcode.modules;typeof te=="undefined"&&(te={container:ee.container||"svg"});for(var ne=typeof ee.pretty!="undefined"?!!ee.pretty:!0,ie=ne?"  ":"",oe=ne?`\r
`:"",se=ee.width,ae=ee.height,fe=re.length,ue=se/(fe+2*ee.padding),le=ae/(fe+2*ee.padding),pe=typeof ee.join!="undefined"?!!ee.join:!1,rr=typeof ee.swap!="undefined"?!!ee.swap:!1,cr=typeof ee.xmlDeclaration!="undefined"?!!ee.xmlDeclaration:!0,ar=typeof ee.predefined!="undefined"?!!ee.predefined:!1,mr=ar?ie+'<defs><path id="qrmodule" d="M0 0 h'+le+" v"+ue+' H0 z" style="fill:'+ee.color+';shape-rendering:crispEdges;" /></defs>'+oe:"",pr=ie+'<rect x="0" y="0" width="'+se+'" height="'+ae+'" style="fill:'+ee.background+';shape-rendering:crispEdges;"/>'+oe,yr="",vr="",Er=0;Er<fe;Er++)for(var Tr=0;Tr<fe;Tr++){var Ir=re[Tr][Er];if(Ir){var Or=Tr*ue+ee.padding*ue,Hr=Er*le+ee.padding*le;if(rr){var Pr=Or;Or=Hr,Hr=Pr}if(pe){var Br=ue+Or,Nr=le+Hr;Or=Number.isInteger(Or)?Number(Or):Or.toFixed(2),Hr=Number.isInteger(Hr)?Number(Hr):Hr.toFixed(2),Br=Number.isInteger(Br)?Number(Br):Br.toFixed(2),Nr=Number.isInteger(Nr)?Number(Nr):Nr.toFixed(2),vr+="M"+Or+","+Hr+" V"+Nr+" H"+Br+" V"+Hr+" H"+Or+" Z "}else ar?yr+=ie+'<use x="'+Or.toString()+'" y="'+Hr.toString()+'" href="#qrmodule" />'+oe:yr+=ie+'<rect x="'+Or.toString()+'" y="'+Hr.toString()+'" width="'+ue+'" height="'+le+'" style="fill:'+ee.color+';shape-rendering:crispEdges;"/>'+oe}}pe&&(yr=ie+'<path x="0" y="0" style="fill:'+ee.color+';shape-rendering:crispEdges;" d="'+vr+'" />');let dr="";if(this.options.image!==void 0&&this.options.image.svg){const ve=se*this.options.image.width/100,ce=ae*this.options.image.height/100,me=se/2-ve/2,ir=ae/2-ce/2;dr+=`<svg x="${me}" y="${ir}" width="${ve}" height="${ce}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,dr+=this.options.image.svg+oe,dr+="</svg>"}var tr="";switch(te.container){case"svg":cr&&(tr+='<?xml version="1.0" standalone="yes"?>'+oe),tr+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+se+'" height="'+ae+'">'+oe,tr+=mr+pr+yr,tr+=dr,tr+="</svg>";break;case"svg-viewbox":cr&&(tr+='<?xml version="1.0" standalone="yes"?>'+oe),tr+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+se+" "+ae+'">'+oe,tr+=mr+pr+yr,tr+=dr,tr+="</svg>";break;case"g":tr+='<g width="'+se+'" height="'+ae+'">'+oe,tr+=mr+pr+yr,tr+=dr,tr+="</g>";break;default:tr+=(mr+pr+yr+dr).replace(/^\s+/,"");break}return tr};var qrcodeSvg=QRCode$1,__importDefault$6=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(te){return te&&te.__esModule?te:{default:te}};Object.defineProperty(QRCode$2,"__esModule",{value:!0});QRCode$2.QRCode=void 0;const preact_1$5=require$$1,hooks_1$3=require$$2,qrcode_svg_1=__importDefault$6(qrcodeSvg),QRCode=te=>{const[ee,re]=(0,hooks_1$3.useState)("");return(0,hooks_1$3.useEffect)(()=>{var ne,ie;const oe=new qrcode_svg_1.default({content:te.content,background:te.bgColor||"#ffffff",color:te.fgColor||"#000000",container:"svg",ecl:"M",width:(ne=te.width)!==null&&ne!==void 0?ne:256,height:(ie=te.height)!==null&&ie!==void 0?ie:256,padding:0,image:te.image}),se=buffer$2.Buffer.from(oe.svg(),"utf8").toString("base64");re(`data:image/svg+xml;base64,${se}`)}),ee?(0,preact_1$5.h)("img",{src:ee,alt:"QR Code"}):null};QRCode$2.QRCode=QRCode;var Spinner$1={},SpinnerCss={};Object.defineProperty(SpinnerCss,"__esModule",{value:!0});SpinnerCss.default=".-walletlink-css-reset .-walletlink-spinner{display:inline-block}.-walletlink-css-reset .-walletlink-spinner svg{display:inline-block;animation:2s linear infinite -walletlink-spinner-svg}.-walletlink-css-reset .-walletlink-spinner svg circle{animation:1.9s ease-in-out infinite both -walletlink-spinner-circle;display:block;fill:transparent;stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -walletlink-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -walletlink-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var __importDefault$5=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(te){return te&&te.__esModule?te:{default:te}};Object.defineProperty(Spinner$1,"__esModule",{value:!0});Spinner$1.Spinner=void 0;const preact_1$4=require$$1,Spinner_css_1=__importDefault$5(SpinnerCss),Spinner=te=>{var ee;const re=(ee=te.size)!==null&&ee!==void 0?ee:64,ne=te.color||"#000";return(0,preact_1$4.h)("div",{class:"-walletlink-spinner"},(0,preact_1$4.h)("style",null,Spinner_css_1.default),(0,preact_1$4.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:re,height:re}},(0,preact_1$4.h)("circle",{style:{cx:50,cy:50,r:45,stroke:ne}})))};Spinner$1.Spinner=Spinner;var version$4={};Object.defineProperty(version$4,"__esModule",{value:!0});version$4.LIB_VERSION=void 0;version$4.LIB_VERSION="2.5.0";var __importDefault$4=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(te){return te&&te.__esModule?te:{default:te}};Object.defineProperty(LinkDialog$1,"__esModule",{value:!0});LinkDialog$1.LinkDialog=void 0;const clsx_1$2=__importDefault$4(require$$0),preact_1$3=require$$1,hooks_1$2=require$$2,LinkDialog_css_1=__importDefault$4(LinkDialogCss),QRCode_1$1=QRCode$2,Spinner_1$1=Spinner$1,version_1$1=version$4,LinkDialog=te=>{const[ee,re]=(0,hooks_1$2.useState)(!te.isOpen),[ne,ie]=(0,hooks_1$2.useState)(!te.isOpen);return(0,hooks_1$2.useEffect)(()=>{const{isOpen:oe}=te,se=[window.setTimeout(()=>{ie(!oe)},10)];return oe?re(!1):se.push(window.setTimeout(()=>{re(!0)},360)),()=>{se.forEach(window.clearTimeout)}},[te.isOpen]),(0,preact_1$3.h)("div",{class:(0,clsx_1$2.default)("-walletlink-link-dialog-container",te.darkMode&&"-walletlink-link-dialog-container-dark",ee&&"-walletlink-link-dialog-container-hidden")},(0,preact_1$3.h)("style",null,LinkDialog_css_1.default),(0,preact_1$3.h)("div",{class:(0,clsx_1$2.default)("-walletlink-link-dialog-backdrop",ne&&"-walletlink-link-dialog-backdrop-hidden")}),(0,preact_1$3.h)("div",{class:"-walletlink-link-dialog"},(0,preact_1$3.h)("div",{class:(0,clsx_1$2.default)("-walletlink-link-dialog-box",ne&&"-walletlink-link-dialog-box-hidden")},(0,preact_1$3.h)(ScanQRCode,{darkMode:te.darkMode,version:te.version,sessionId:te.sessionId,sessionSecret:te.sessionSecret,walletLinkUrl:te.walletLinkUrl,isConnected:te.isConnected,isParentConnection:te.isParentConnection}),te.onCancel&&(0,preact_1$3.h)(CancelButton$1,{onClick:te.onCancel}))))};LinkDialog$1.LinkDialog=LinkDialog;const ScanQRCode=te=>{const ee=window.encodeURIComponent(te.walletLinkUrl),re=te.isParentConnection?"parent-id":"id",ne=`${te.walletLinkUrl}/#/link?${re}=${te.sessionId}&secret=${te.sessionSecret}&server=${ee}&v=1`;return(0,preact_1$3.h)("div",{class:"-walletlink-link-dialog-box-content"},(0,preact_1$3.h)("h3",null,"Scan to",(0,preact_1$3.h)("br",null)," Connect"),(0,preact_1$3.h)("div",{class:"-walletlink-link-dialog-box-content-qrcode"},(0,preact_1$3.h)("div",{class:"-walletlink-link-dialog-box-content-qrcode-wrapper"},(0,preact_1$3.h)(QRCode_1$1.QRCode,{content:ne,width:224,height:224,fgColor:"#000",bgColor:"transparent"})),(0,preact_1$3.h)("input",{type:"hidden",name:"walletlink-version",value:version_1$1.LIB_VERSION}),(0,preact_1$3.h)("input",{type:"hidden",value:ne}),!te.isConnected&&(0,preact_1$3.h)("div",{class:"-walletlink-link-dialog-box-content-qrcode-connecting"},(0,preact_1$3.h)(Spinner_1$1.Spinner,{size:128,color:te.darkMode?"#fff":"#000"}),(0,preact_1$3.h)("p",null,"Connecting...")),(0,preact_1$3.h)("p",{title:`WalletLink v${te.version}`},"Powered by WalletLink")),(0,preact_1$3.h)("a",{href:`${te.walletLinkUrl}/#/wallets`,target:"_blank",rel:"noopener"},"Don\u2019t have a wallet app?"))},CancelButton$1=te=>(0,preact_1$3.h)("button",{class:"-walletlink-link-dialog-box-cancel",onClick:te.onClick},(0,preact_1$3.h)("div",{class:"-walletlink-link-dialog-box-cancel-x"}));var TryExtensionLinkDialog$1={},globeIconSvg={};Object.defineProperty(globeIconSvg,"__esModule",{value:!0});globeIconSvg.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTggMEMzLjU4IDAgMCAzLjU4IDAgOHMzLjU4IDggOCA4IDgtMy41OCA4LTgtMy41OC04LTgtOFptNS45MSA3aC0xLjk0Yy0uMS0xLjU3LS40Mi0zLS45MS00LjE1IDEuNDguODggMi41NSAyLjM4IDIuODUgNC4xNVpNOCAxNGMtLjQ1IDAtMS43Mi0xLjc3LTEuOTUtNWgzLjljLS4yMyAzLjIzLTEuNSA1LTEuOTUgNVpNNi4wNSA3QzYuMjggMy43NyA3LjU1IDIgOCAyYy40NSAwIDEuNzIgMS43NyAxLjk1IDVoLTMuOVpNNC45NCAyLjg1QzQuNDYgNCA0LjEzIDUuNDMgNC4wMyA3SDIuMDljLjMtMS43NyAxLjM3LTMuMjcgMi44NS00LjE1Wk0yLjA5IDloMS45NGMuMSAxLjU3LjQyIDMgLjkxIDQuMTVBNS45OTggNS45OTggMCAwIDEgMi4wOSA5Wm04Ljk3IDQuMTVjLjQ4LTEuMTUuODEtMi41OC45MS00LjE1aDEuOTRhNS45OTggNS45OTggMCAwIDEtMi44NSA0LjE1WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==";var linkIconSvg={};Object.defineProperty(linkIconSvg,"__esModule",{value:!0});linkIconSvg.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE1LjYzNSAyLjExN2EzLjg4OSAzLjg4OSAwIDAgMC01LjUyMSAwTDYuODkgNS4zMzVBMy44OTQgMy44OTQgMCAwIDAgNS44IDguNzM5Yy4wODMuNTA2LjI2OCAxLjAxMS41NTMgMS40NjYuMTUxLjI1My4zMzYuNDcyLjUzNy42OTFsLjYyMS42MjQgMS4xNDEtMS4xNDYtLjYyLS42MjRhMi4xMDUgMi4xMDUgMCAwIDEtLjQ4Ny0uNzQxIDIuMzQgMi4zNCAwIDAgMSAuNTAzLTIuNTFsMy4yMDYtMy4yMmEyLjI5MyAyLjI5MyAwIDAgMSAzLjIzOSAwYy44OS44OTQuODkgMi4zNDMgMCAzLjI1M2wtMS41MjcgMS41MzNjLjIzNC42NC4zMzUgMS4zMzEuMzAyIDIuMDA1bDIuMzgzLTIuMzkyYzEuNTEtMS41MzQgMS40OTMtNC4wMjgtLjAxNy01LjU2MVoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBkPSJNMTEuMjcxIDcuNzQ1YTMuMTMgMy4xMyAwIDAgMC0uNTU0LS42OWwtLjYyLS42MjQtMS4xNDIgMS4xNDYuNjIxLjYyM2MuMjE4LjIyLjM4Ni40ODkuNDg3Ljc1OC4zMzUuODI2LjE2NyAxLjgyLS41MDQgMi40OTRsLTMuMjA1IDMuMjE5YTIuMjkzIDIuMjkzIDAgMCAxLTMuMjQgMCAyLjMxNiAyLjMxNiAwIDAgMSAwLTMuMjUybDEuNTI4LTEuNTM0YTQuODE1IDQuODE1IDAgMCAxLS4yODUtMi4wMDVsLTIuMzgzIDIuMzkzYTMuOTI3IDMuOTI3IDAgMCAwIDAgNS41NDQgMy45MDkgMy45MDkgMCAwIDAgNS41MzggMGwzLjIwNS0zLjIxOWEzLjk1OCAzLjk1OCAwIDAgMCAxLjA5MS0zLjQwNCA0LjIxMSA0LjIxMSAwIDAgMC0uNTM3LTEuNDQ5WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==";var lockIconSvg={};Object.defineProperty(lockIconSvg,"__esModule",{value:!0});lockIconSvg.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEgN3Y5aDE0VjdIMVptNy41IDQuMzlWMTRoLTF2LTIuNjFjLS40NC0uMTktLjc1LS42My0uNzUtMS4xNGExLjI1IDEuMjUgMCAwIDEgMi41IDBjMCAuNTEtLjMxLjk1LS43NSAxLjE0Wk01LjY3IDZWNC4zM0M1LjY3IDMuMDUgNi43MSAyIDggMnMyLjMzIDEuMDUgMi4zMyAyLjMzVjZoMlY0LjMzQzEyLjMzIDEuOTQgMTAuMzkgMCA4IDBTMy42NyAxLjk0IDMuNjcgNC4zM1Y2aDJaIiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+";var QRLogo={};Object.defineProperty(QRLogo,"__esModule",{value:!0});QRLogo.default=`<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="50" cy="50" r="50" fill="white"/>
<circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
<circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
</svg>

`;var TryExtensionLinkDialogCss={};Object.defineProperty(TryExtensionLinkDialogCss,"__esModule",{value:!0});TryExtensionLinkDialogCss.default='.-walletlink-css-reset .-walletlink-extension-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-walletlink-css-reset .-walletlink-extension-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);transition:opacity .25s}.-walletlink-css-reset .-walletlink-extension-dialog-backdrop-hidden{opacity:0}.-walletlink-css-reset .-walletlink-extension-dialog-box{display:flex;position:relative;max-width:500px;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-walletlink-css-reset .-walletlink-extension-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-walletlink-css-reset .-walletlink-extension-dialog-box-top{display:flex;flex-direction:row;background-color:#fff;border-radius:8px;overflow:hidden;min-height:300px}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-install-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;padding:32px}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-install-region button{display:block;border-radius:8px;background-color:#1652f0;color:#fff;width:90%;min-width:fit-content;height:44px;margin-top:16px;font-size:16px;padding-left:16px;padding-right:16px;cursor:pointer;font-weight:500;text-align:center}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-info-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;background-color:#fafbfc}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description{display:flex;flex-direction:row;align-items:center;padding-top:14px;padding-bottom:14px;padding-left:24px;padding-right:32px}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description-icon-wrapper{display:block;position:relative;width:40px;height:40px;flex-shrink:0;flex-grow:0;border-radius:20px;background-color:#fff;box-shadow:0px 0px 8px rgba(0,0,0,.04),0px 16px 24px rgba(0,0,0,.06)}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description-icon-wrapper img{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description-text{margin-left:16px;flex-grow:1;font-size:13px;line-height:19px;color:#000;align-self:center}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom{display:flex;flex-direction:row;overflow:hidden;border-radius:8px;background-color:#fff;margin-top:8px}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-description-region{display:flex;flex-direction:column;justify-content:center;padding:32px;flex-grow:1}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-description{font-size:13px;line-height:19px;margin-top:12px;color:#aaa}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-description a{font-size:inherit;line-height:inherit;color:#1652f0;cursor:pointer}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-region{position:relative;flex-shrink:0;display:flex;flex-direction:column;justify-content:center;padding-left:24px;padding-right:24px;padding-top:16px;padding-bottom:16px}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-wrapper{position:relative;display:block;padding:8px;border-radius:8px;box-shadow:0px 4px 12px rgba(0,0,0,.1)}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-wrapper img{display:block}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:rgba(255,255,255,.95)}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-connecting>p{font-size:12px;font-weight:bold;color:#000;margin-top:16px}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:16px;right:16px;width:24px;height:24px;border-radius:12px;background-color:#fafbfc;cursor:pointer}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x{position:relative;display:block;cursor:pointer}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::after{content:"";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:1px;background-color:#000;transition:background-color .2s}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::before{transform:rotate(45deg)}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::after{transform:rotate(135deg)}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-a,.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-b{background-color:#000}.-walletlink-css-reset .-walletlink-extension-dialog-container{display:block}.-walletlink-css-reset .-walletlink-extension-dialog-container-hidden{display:none}.-walletlink-css-reset .-walletlink-extension-dialog h2{display:block;text-align:left;font-size:22px;font-weight:600;line-height:28px;color:#000}';var __importDefault$3=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(te){return te&&te.__esModule?te:{default:te}};Object.defineProperty(TryExtensionLinkDialog$1,"__esModule",{value:!0});TryExtensionLinkDialog$1.TryExtensionLinkDialog=void 0;const clsx_1$1=__importDefault$3(require$$0),preact_1$2=require$$1,hooks_1$1=require$$2,globe_icon_svg_1=__importDefault$3(globeIconSvg),link_icon_svg_1=__importDefault$3(linkIconSvg),lock_icon_svg_1=__importDefault$3(lockIconSvg),QRLogo_1=__importDefault$3(QRLogo),QRCode_1=QRCode$2,Spinner_1=Spinner$1,TryExtensionLinkDialog_css_1=__importDefault$3(TryExtensionLinkDialogCss),version_1=version$4,TryExtensionLinkDialog=te=>{const[ee,re]=(0,hooks_1$1.useState)(!te.isOpen),[ne,ie]=(0,hooks_1$1.useState)(!te.isOpen);return(0,hooks_1$1.useEffect)(()=>{const{isOpen:oe}=te,se=[window.setTimeout(()=>{ie(!oe)},10)];return oe?re(!1):se.push(window.setTimeout(()=>{re(!0)},360)),()=>{se.forEach(window.clearTimeout)}},[te.isOpen]),(0,preact_1$2.h)("div",{class:(0,clsx_1$1.default)("-walletlink-extension-dialog-container",ee&&"-walletlink-extension-dialog-container-hidden")},(0,preact_1$2.h)("style",null,TryExtensionLinkDialog_css_1.default),(0,preact_1$2.h)("div",{class:(0,clsx_1$1.default)("-walletlink-extension-dialog-backdrop",ne&&"-walletlink-extension-dialog-backdrop-hidden")}),(0,preact_1$2.h)("div",{class:"-walletlink-extension-dialog"},(0,preact_1$2.h)("div",{class:(0,clsx_1$1.default)("-walletlink-extension-dialog-box",ne&&"-walletlink-extension-dialog-box-hidden")},(0,preact_1$2.h)(TryExtensionBox,{onInstallClick:()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")}}),te.connectDisabled?null:(0,preact_1$2.h)(ScanQRBox,{darkMode:te.darkMode,version:te.version,sessionId:te.sessionId,sessionSecret:te.sessionSecret,walletLinkUrl:te.walletLinkUrl,isConnected:te.isConnected,isParentConnection:te.isParentConnection}),te.onCancel&&(0,preact_1$2.h)(CancelButton,{onClick:te.onCancel}))))};TryExtensionLinkDialog$1.TryExtensionLinkDialog=TryExtensionLinkDialog;const TryExtensionBox=te=>(0,preact_1$2.h)("div",{class:"-walletlink-extension-dialog-box-top"},(0,preact_1$2.h)("div",{class:"-walletlink-extension-dialog-box-top-install-region"},(0,preact_1$2.h)("h2",null,"Try the Coinbase Wallet extension"),(0,preact_1$2.h)("button",{onClick:te.onInstallClick},"Install")),(0,preact_1$2.h)("div",{class:"-walletlink-extension-dialog-box-top-info-region"},(0,preact_1$2.h)(DescriptionItem,{icon:link_icon_svg_1.default,text:"Connect to crypto apps with one click"}),(0,preact_1$2.h)(DescriptionItem,{icon:lock_icon_svg_1.default,text:"Your private key is stored securely"}),(0,preact_1$2.h)(DescriptionItem,{icon:globe_icon_svg_1.default,text:"Works with Ethereum, Polygon, and more"}))),ScanQRBox=te=>{const ee=window.encodeURIComponent(te.walletLinkUrl),re=te.isParentConnection?"parent-id":"id",ne=`${te.walletLinkUrl}/#/link?${re}=${te.sessionId}&secret=${te.sessionSecret}&server=${ee}&v=1`;return(0,preact_1$2.h)("div",{class:"-walletlink-extension-dialog-box-bottom"},(0,preact_1$2.h)("div",{class:"-walletlink-extension-dialog-box-bottom-description-region"},(0,preact_1$2.h)("h2",null,"Or scan to connect"),(0,preact_1$2.h)("body",{class:"-walletlink-extension-dialog-box-bottom-description"},"Open ",(0,preact_1$2.h)("a",{href:"https://wallet.coinbase.com/"},"Coinbase Wallet")," on your mobile phone and scan")),(0,preact_1$2.h)("div",{class:"-walletlink-extension-dialog-box-bottom-qr-region"},(0,preact_1$2.h)("div",{class:"-walletlink-extension-dialog-box-bottom-qr-wrapper"},(0,preact_1$2.h)(QRCode_1.QRCode,{content:ne,width:150,height:150,fgColor:"#000",bgColor:"transparent",image:{svg:QRLogo_1.default,width:34,height:34}})),(0,preact_1$2.h)("input",{type:"hidden",name:"walletlink-version",value:version_1.LIB_VERSION}),(0,preact_1$2.h)("input",{type:"hidden",value:ne}),!te.isConnected&&(0,preact_1$2.h)("div",{class:"-walletlink-extension-dialog-box-bottom-qr-connecting"},(0,preact_1$2.h)(Spinner_1.Spinner,{size:36,color:"#000"}),(0,preact_1$2.h)("p",null,"Connecting..."))))},DescriptionItem=te=>(0,preact_1$2.h)("div",{class:"-walletlink-extension-dialog-box-top-description"},(0,preact_1$2.h)("div",{class:"-walletlink-extension-dialog-box-top-description-icon-wrapper"},(0,preact_1$2.h)("img",{src:te.icon})),(0,preact_1$2.h)("body",{class:"-walletlink-extension-dialog-box-top-description-text"},te.text)),CancelButton=te=>(0,preact_1$2.h)("button",{class:"-walletlink-extension-dialog-box-cancel",onClick:te.onClick},(0,preact_1$2.h)("div",{class:"-walletlink-extension-dialog-box-cancel-x"}));Object.defineProperty(LinkFlow$1,"__esModule",{value:!0});LinkFlow$1.LinkFlow=void 0;const preact_1$1=require$$1,rxjs_1$3=require$$2$1,operators_1$2=require$$3,LinkDialog_1=LinkDialog$1,TryExtensionLinkDialog_1=TryExtensionLinkDialog$1;class LinkFlow{constructor(ee){this.extensionUI$=new rxjs_1$3.BehaviorSubject({}),this.subscriptions=new rxjs_1$3.Subscription,this.isConnected=!1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=ee.darkMode,this.version=ee.version,this.sessionId=ee.sessionId,this.sessionSecret=ee.sessionSecret,this.walletLinkUrl=ee.walletLinkUrl,this.isParentConnection=ee.isParentConnection,this.connected$=ee.connected$,fetch("https://api.wallet.coinbase.com/rpc/v2/getFeatureFlags").then(re=>re.json()).then(re=>{const ne=re.result.desktop.extension_ui;typeof ne=="undefined"?this.extensionUI$.next({value:!1}):this.extensionUI$.next({value:ne})}).catch(re=>{console.error("Couldn't fetch feature flags - ",re),this.extensionUI$.next({value:!1})})}attach(ee){this.root=document.createElement("div"),this.root.className="-walletlink-link-flow-root",ee.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(re=>{this.isConnected!==re&&(this.isConnected=re,this.render())}))}detach(){var ee;!this.root||(this.subscriptions.unsubscribe(),(0,preact_1$1.render)(null,this.root),(ee=this.root.parentElement)===null||ee===void 0||ee.removeChild(this.root))}setConnectDisabled(ee){this.connectDisabled=ee}open(ee){this.isOpen=!0,this.onCancel=ee.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const ee=this.extensionUI$.pipe((0,operators_1$2.first)(re=>re.value!==void 0)).subscribe(re=>{!this.root||(0,preact_1$1.render)(re.value?(0,preact_1$1.h)(TryExtensionLinkDialog_1.TryExtensionLinkDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,walletLinkUrl:this.walletLinkUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,onCancel:this.onCancel,connectDisabled:this.connectDisabled}):(0,preact_1$1.h)(LinkDialog_1.LinkDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,walletLinkUrl:this.walletLinkUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,onCancel:this.onCancel}),this.root)});this.subscriptions.add(ee)}}LinkFlow$1.LinkFlow=LinkFlow;var Snackbar$1={},SnackbarCss={};Object.defineProperty(SnackbarCss,"__esModule",{value:!0});SnackbarCss.default=".-walletlink-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-walletlink-css-reset .-gear-container *{user-select:none}.-walletlink-css-reset .-gear-container svg{opacity:0;position:absolute}.-walletlink-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-walletlink-css-reset .-walletlink-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-walletlink-css-reset .-walletlink-snackbar *{user-select:none}.-walletlink-css-reset .-walletlink-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-walletlink-css-reset .-walletlink-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-walletlink-css-reset .-walletlink-snackbar-instance-header *{cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-walletlink-css-reset .-walletlink-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-walletlink-css-reset .-walletlink-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-walletlink-css-reset .-walletlink-snackbar-instance-expanded .-walletlink-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";var __importDefault$2=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(te){return te&&te.__esModule?te:{default:te}};Object.defineProperty(Snackbar$1,"__esModule",{value:!0});Snackbar$1.Snackbar=void 0;const clsx_1=__importDefault$2(require$$0),preact_1=require$$1,hooks_1=require$$2,Snackbar_css_1=__importDefault$2(SnackbarCss),cblogo="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",gearIcon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class Snackbar{constructor(ee){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=ee.darkMode}attach(ee){this.root=document.createElement("div"),this.root.className="-walletlink-snackbar-root",ee.appendChild(this.root),this.render()}presentItem(ee){const re=this.nextItemKey++;return this.items.set(re,ee),this.render(),()=>{this.items.delete(re),this.render()}}clear(){this.items.clear(),this.render()}render(){!this.root||(0,preact_1.render)((0,preact_1.h)("div",null,(0,preact_1.h)(SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([ee,re])=>(0,preact_1.h)(SnackbarInstance,Object.assign({},re,{key:ee}))))),this.root)}}Snackbar$1.Snackbar=Snackbar;const SnackbarContainer=te=>(0,preact_1.h)("div",{class:(0,clsx_1.default)("-walletlink-snackbar-container")},(0,preact_1.h)("style",null,Snackbar_css_1.default),(0,preact_1.h)("div",{class:"-walletlink-snackbar"},te.children)),SnackbarInstance=({autoExpand:te,message:ee,menuItems:re})=>{const[ne,ie]=(0,hooks_1.useState)(!0),[oe,se]=(0,hooks_1.useState)(te!=null?te:!1);(0,hooks_1.useEffect)(()=>{const fe=[window.setTimeout(()=>{ie(!1)},1),window.setTimeout(()=>{se(!0)},1e4)];return()=>{fe.forEach(window.clearTimeout)}});const ae=()=>{se(!oe)};return(0,preact_1.h)("div",{class:(0,clsx_1.default)("-walletlink-snackbar-instance",ne&&"-walletlink-snackbar-instance-hidden",oe&&"-walletlink-snackbar-instance-expanded")},(0,preact_1.h)("div",{class:"-walletlink-snackbar-instance-header",onClick:ae},(0,preact_1.h)("img",{src:cblogo,class:"-walletlink-snackbar-instance-header-cblogo"}),(0,preact_1.h)("div",{class:"-walletlink-snackbar-instance-header-message"},ee),(0,preact_1.h)("div",{class:"-gear-container"},!oe&&(0,preact_1.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,preact_1.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,preact_1.h)("img",{src:gearIcon,class:"-gear-icon",title:"Expand"}))),re&&re.length>0&&(0,preact_1.h)("div",{class:"-walletlink-snackbar-instance-menu"},re.map((fe,ue)=>(0,preact_1.h)("div",{class:(0,clsx_1.default)("-walletlink-snackbar-instance-menu-item",fe.isRed&&"-walletlink-snackbar-instance-menu-item-is-red"),onClick:fe.onClick,key:ue},(0,preact_1.h)("svg",{width:fe.svgWidth,height:fe.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,preact_1.h)("path",{"fill-rule":fe.defaultFillRule,"clip-rule":fe.defaultClipRule,d:fe.path,fill:"#AAAAAA"})),(0,preact_1.h)("span",{class:(0,clsx_1.default)("-walletlink-snackbar-instance-menu-item-info",fe.isRed&&"-walletlink-snackbar-instance-menu-item-info-is-red")},fe.info)))))};var cssReset={},cssResetCss={};Object.defineProperty(cssResetCss,"__esModule",{value:!0});cssResetCss.default='@namespace svg "http://www.w3.org/2000/svg";.-walletlink-css-reset,.-walletlink-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:transparent;background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;bottom:auto;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:block;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";right:auto;tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;width:auto;word-spacing:normal;z-index:auto}.-walletlink-css-reset *{box-sizing:border-box;display:initial;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-walletlink-css-reset [class*=container]{margin:0;padding:0}.-walletlink-css-reset style{display:none}';var __importDefault$1=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(te){return te&&te.__esModule?te:{default:te}};Object.defineProperty(cssReset,"__esModule",{value:!0});cssReset.injectCssReset=void 0;const cssReset_css_1=__importDefault$1(cssResetCss);function injectCssReset(){const te=document.createElement("style");te.type="text/css",te.appendChild(document.createTextNode(cssReset_css_1.default)),document.documentElement.appendChild(te)}cssReset.injectCssReset=injectCssReset;var WalletLinkUI$1={};Object.defineProperty(WalletLinkUI$1,"__esModule",{value:!0});WalletLinkUI$1.WalletLinkUI=void 0;class WalletLinkUI{constructor(ee){}setConnectDisabled(ee){}}WalletLinkUI$1.WalletLinkUI=WalletLinkUI;Object.defineProperty(WalletLinkSdkUI$1,"__esModule",{value:!0});WalletLinkSdkUI$1.WalletLinkSdkUI=void 0;const LinkFlow_1=LinkFlow$1,Snackbar_1=Snackbar$1,cssReset_1=cssReset,WalletLinkUI_1=WalletLinkUI$1;class WalletLinkSdkUI extends WalletLinkUI_1.WalletLinkUI{constructor(ee){super(ee);this.attached=!1,this.snackbar=new Snackbar_1.Snackbar({darkMode:ee.darkMode}),this.linkFlow=new LinkFlow_1.LinkFlow({darkMode:ee.darkMode,version:ee.version,sessionId:ee.session.id,sessionSecret:ee.session.secret,walletLinkUrl:ee.walletLinkUrl,connected$:ee.connected$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("WalletLinkUI is already attached");const ee=document.documentElement,re=document.createElement("div");re.className="-walletlink-css-reset",ee.appendChild(re),this.linkFlow.attach(re),this.snackbar.attach(re),this.attached=!0,(0,cssReset_1.injectCssReset)()}setConnectDisabled(ee){this.linkFlow.setConnectDisabled(ee)}addEthereumChain(ee){}watchAsset(ee){}switchEthereumChain(ee){}requestEthereumAccounts(ee){this.linkFlow.open({onCancel:ee.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(ee){}signEthereumTransaction(ee){}submitEthereumTransaction(ee){}ethereumAddressFromSignedMessage(ee){}showConnecting(ee){let re;return ee.isUnlinkedErrorState?re={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:ee.onResetConnection}]}:re={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:ee.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:ee.onResetConnection}]},this.snackbar.presentItem(re)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(ee){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}isStandalone(){return!1}}WalletLinkSdkUI$1.WalletLinkSdkUI=WalletLinkSdkUI;var WalletLinkRelay$1={},bindDecorator={};Object.defineProperty(bindDecorator,"__esModule",{value:!0});var constants;(function(te){te.typeOfFunction="function",te.boolTrue=!0})(constants||(constants={}));function bind(te,ee,re){if(!re||typeof re.value!==constants.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+ee+"> is not a method!");return{configurable:constants.boolTrue,get:function(){var ne=re.value.bind(this);return Object.defineProperty(this,ee,{value:ne,configurable:constants.boolTrue,writable:constants.boolTrue}),ne}}}bindDecorator.bind=bind;bindDecorator.default=bind;var WalletLinkConnection$1={},ClientMessage={};Object.defineProperty(ClientMessage,"__esModule",{value:!0});ClientMessage.ClientMessagePublishEvent=ClientMessage.ClientMessageSetSessionConfig=ClientMessage.ClientMessageGetSessionConfig=ClientMessage.ClientMessageIsLinked=ClientMessage.ClientMessageHostSession=void 0;function ClientMessageHostSession(te){return Object.assign({type:"HostSession"},te)}ClientMessage.ClientMessageHostSession=ClientMessageHostSession;function ClientMessageIsLinked(te){return Object.assign({type:"IsLinked"},te)}ClientMessage.ClientMessageIsLinked=ClientMessageIsLinked;function ClientMessageGetSessionConfig(te){return Object.assign({type:"GetSessionConfig"},te)}ClientMessage.ClientMessageGetSessionConfig=ClientMessageGetSessionConfig;function ClientMessageSetSessionConfig(te){return Object.assign({type:"SetSessionConfig"},te)}ClientMessage.ClientMessageSetSessionConfig=ClientMessageSetSessionConfig;function ClientMessagePublishEvent(te){return Object.assign({type:"PublishEvent"},te)}ClientMessage.ClientMessagePublishEvent=ClientMessagePublishEvent;var RxWebSocket={};(function(te){Object.defineProperty(te,"__esModule",{value:!0}),te.RxWebSocket=te.ConnectionState=void 0;const ee=require$$2$1,re=require$$3;var ne;(function(oe){oe[oe.DISCONNECTED=0]="DISCONNECTED",oe[oe.CONNECTING=1]="CONNECTING",oe[oe.CONNECTED=2]="CONNECTED"})(ne=te.ConnectionState||(te.ConnectionState={}));class ie{constructor(se,ae=WebSocket){this.WebSocketClass=ae,this.webSocket=null,this.connectionStateSubject=new ee.BehaviorSubject(ne.DISCONNECTED),this.incomingDataSubject=new ee.Subject,this.url=se.replace(/^http/,"ws")}connect(){return this.webSocket?(0,ee.throwError)(new Error("webSocket object is not null")):new ee.Observable(se=>{let ae;try{this.webSocket=ae=new this.WebSocketClass(this.url)}catch(fe){se.error(fe);return}this.connectionStateSubject.next(ne.CONNECTING),ae.onclose=fe=>{this.clearWebSocket(),se.error(new Error(`websocket error ${fe.code}: ${fe.reason}`)),this.connectionStateSubject.next(ne.DISCONNECTED)},ae.onopen=fe=>{se.next(),se.complete(),this.connectionStateSubject.next(ne.CONNECTED)},ae.onmessage=fe=>{this.incomingDataSubject.next(fe.data)}}).pipe((0,re.take)(1))}disconnect(){const{webSocket:se}=this;if(!!se){this.clearWebSocket(),this.connectionStateSubject.next(ne.DISCONNECTED);try{se.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,re.flatMap)(se=>{let ae;try{ae=JSON.parse(se)}catch{return(0,ee.empty)()}return(0,ee.of)(ae)}))}sendData(se){const{webSocket:ae}=this;if(!ae)throw new Error("websocket is not connected");ae.send(se)}clearWebSocket(){const{webSocket:se}=this;!se||(this.webSocket=null,se.onclose=null,se.onerror=null,se.onmessage=null,se.onopen=null)}}te.RxWebSocket=ie})(RxWebSocket);var ServerMessage={};Object.defineProperty(ServerMessage,"__esModule",{value:!0});ServerMessage.isServerMessageFail=void 0;function isServerMessageFail(te){return te&&te.type==="Fail"&&typeof te.id=="number"&&typeof te.sessionId=="string"&&typeof te.error=="string"}ServerMessage.isServerMessageFail=isServerMessageFail;Object.defineProperty(WalletLinkConnection$1,"__esModule",{value:!0});WalletLinkConnection$1.WalletLinkConnection=void 0;const rxjs_1$2=require$$2$1,operators_1$1=require$$3,init_1$1=init,Session_1$1=Session$1,types_1=types$1,ClientMessage_1=ClientMessage,RxWebSocket_1=RxWebSocket,ServerMessage_1=ServerMessage,HEARTBEAT_INTERVAL=1e4,REQUEST_TIMEOUT=6e4;class WalletLinkConnection{constructor(ee,re,ne,ie,oe=WebSocket){this.sessionId=ee,this.sessionKey=re,this.subscriptions=new rxjs_1$2.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,types_1.IntNumber)(1),this.connectedSubject=new rxjs_1$2.BehaviorSubject(!1),this.linkedSubject=new rxjs_1$2.BehaviorSubject(!1),this.sessionConfigSubject=new rxjs_1$2.ReplaySubject(1);const se=new RxWebSocket_1.RxWebSocket(ne+"/rpc",oe);this.ws=se,this.walletLinkAnalytics=ie,this.subscriptions.add(se.connectionState$.pipe((0,operators_1$1.tap)(ae=>this.walletLinkAnalytics.sendEvent(init_1$1.EVENTS.CONNECTED_STATE_CHANGE,{state:ae,sessionIdHash:Session_1$1.Session.hash(ee)})),(0,operators_1$1.skip)(1),(0,operators_1$1.filter)(ae=>ae===RxWebSocket_1.ConnectionState.DISCONNECTED&&!this.destroyed),(0,operators_1$1.delay)(5e3),(0,operators_1$1.filter)(ae=>!this.destroyed),(0,operators_1$1.flatMap)(ae=>se.connect()),(0,operators_1$1.retry)()).subscribe()),this.subscriptions.add(se.connectionState$.pipe((0,operators_1$1.skip)(2),(0,operators_1$1.switchMap)(ae=>(0,rxjs_1$2.iif)(()=>ae===RxWebSocket_1.ConnectionState.CONNECTED,this.authenticate().pipe((0,operators_1$1.tap)(fe=>this.sendIsLinked()),(0,operators_1$1.tap)(fe=>this.sendGetSessionConfig()),(0,operators_1$1.map)(fe=>!0)),(0,rxjs_1$2.of)(!1))),(0,operators_1$1.distinctUntilChanged)(),(0,operators_1$1.catchError)(ae=>(0,rxjs_1$2.of)(!1))).subscribe(ae=>this.connectedSubject.next(ae))),this.subscriptions.add(se.connectionState$.pipe((0,operators_1$1.skip)(1),(0,operators_1$1.switchMap)(ae=>(0,rxjs_1$2.iif)(()=>ae===RxWebSocket_1.ConnectionState.CONNECTED,(0,rxjs_1$2.timer)(0,HEARTBEAT_INTERVAL)))).subscribe(ae=>ae===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(se.incomingData$.pipe((0,operators_1$1.filter)(ae=>ae==="h")).subscribe(ae=>this.updateLastHeartbeat())),this.subscriptions.add(se.incomingJSONData$.pipe((0,operators_1$1.filter)(ae=>["IsLinkedOK","Linked"].includes(ae.type))).subscribe(ae=>{const fe=ae;this.walletLinkAnalytics.sendEvent(init_1$1.EVENTS.LINKED,{sessionIdHash:Session_1$1.Session.hash(ee),linked:fe.linked,type:ae.type,onlineGuests:fe.onlineGuests}),this.linkedSubject.next(fe.linked||fe.onlineGuests>0)})),this.subscriptions.add(se.incomingJSONData$.pipe((0,operators_1$1.filter)(ae=>["GetSessionConfigOK","SessionConfigUpdated"].includes(ae.type))).subscribe(ae=>{const fe=ae;this.walletLinkAnalytics.sendEvent(init_1$1.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Session_1$1.Session.hash(ee),metadata_keys:fe&&fe.metadata?Object.keys(fe.metadata):void 0}),this.sessionConfigSubject.next({webhookId:fe.webhookId,webhookUrl:fe.webhookUrl,metadata:fe.metadata})}))}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.walletLinkAnalytics.sendEvent(init_1$1.EVENTS.STARTED_CONNECTING,{sessionIdHash:Session_1$1.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){this.subscriptions.unsubscribe(),this.ws.disconnect(),this.walletLinkAnalytics.sendEvent(init_1$1.EVENTS.DISCONNECTED,{sessionIdHash:Session_1$1.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,operators_1$1.filter)(ee=>ee),(0,operators_1$1.take)(1),(0,operators_1$1.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,operators_1$1.filter)(ee=>ee),(0,operators_1$1.take)(1),(0,operators_1$1.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,operators_1$1.filter)(ee=>{if(ee.type!=="Event")return!1;const re=ee;return typeof re.sessionId=="string"&&typeof re.eventId=="string"&&typeof re.event=="string"&&typeof re.data=="string"}),(0,operators_1$1.map)(ee=>ee))}setSessionMetadata(ee,re){const ne=(0,ClientMessage_1.ClientMessageSetSessionConfig)({id:(0,types_1.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[ee]:re}});return this.onceConnected$.pipe((0,operators_1$1.flatMap)(ie=>this.makeRequest(ne)),(0,operators_1$1.map)(ie=>{if((0,ServerMessage_1.isServerMessageFail)(ie))throw new Error(ie.error||"failed to set session metadata")}))}publishEvent(ee,re,ne=!1){const ie=(0,ClientMessage_1.ClientMessagePublishEvent)({id:(0,types_1.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:ee,data:re,callWebhook:ne});return this.onceLinked$.pipe((0,operators_1$1.flatMap)(oe=>this.makeRequest(ie)),(0,operators_1$1.map)(oe=>{if((0,ServerMessage_1.isServerMessageFail)(oe))throw new Error(oe.error||"failed to publish event");return oe.eventId}))}sendData(ee){this.ws.sendData(JSON.stringify(ee))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>HEARTBEAT_INTERVAL*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(ee,re=REQUEST_TIMEOUT){const ne=ee.id;try{this.sendData(ee)}catch(ie){return(0,rxjs_1$2.throwError)(ie)}return this.ws.incomingJSONData$.pipe((0,operators_1$1.timeoutWith)(re,(0,rxjs_1$2.throwError)(new Error(`request ${ne} timed out`))),(0,operators_1$1.filter)(ie=>ie.id===ne),(0,operators_1$1.take)(1))}authenticate(){const ee=(0,ClientMessage_1.ClientMessageHostSession)({id:(0,types_1.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(ee).pipe((0,operators_1$1.map)(re=>{if((0,ServerMessage_1.isServerMessageFail)(re))throw new Error(re.error||"failed to authentcate")}))}sendIsLinked(){const ee=(0,ClientMessage_1.ClientMessageIsLinked)({id:(0,types_1.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(ee)}sendGetSessionConfig(){const ee=(0,ClientMessage_1.ClientMessageGetSessionConfig)({id:(0,types_1.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(ee)}}WalletLinkConnection$1.WalletLinkConnection=WalletLinkConnection;var aes256gcm$1={};Object.defineProperty(aes256gcm$1,"__esModule",{value:!0});aes256gcm$1.decrypt=aes256gcm$1.encrypt=void 0;const rxjs_1$1=require$$2$1,util_1$3=util$3;async function encrypt(te,ee){if(ee.length!==64)throw Error("secret must be 256 bits");const re=crypto.getRandomValues(new Uint8Array(12)),ne=await crypto.subtle.importKey("raw",(0,util_1$3.hexStringToUint8Array)(ee),{name:"aes-gcm"},!1,["encrypt","decrypt"]),ie=new TextEncoder,oe=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:re},ne,ie.encode(te)),se=16,ae=oe.slice(oe.byteLength-se),fe=oe.slice(0,oe.byteLength-se),ue=new Uint8Array(ae),le=new Uint8Array(fe),pe=new Uint8Array([...re,...ue,...le]);return(0,util_1$3.uint8ArrayToHex)(pe)}aes256gcm$1.encrypt=encrypt;function decrypt(te,ee){if(ee.length!==64)throw Error("secret must be 256 bits");return new rxjs_1$1.Observable(re=>{(async function(){const ne=await crypto.subtle.importKey("raw",(0,util_1$3.hexStringToUint8Array)(ee),{name:"aes-gcm"},!1,["encrypt","decrypt"]),ie=(0,util_1$3.hexStringToUint8Array)(te),oe=ie.slice(0,12),se=ie.slice(12,28),ae=ie.slice(28),fe=new Uint8Array([...ae,...se]),ue={name:"AES-GCM",iv:new Uint8Array(oe)};try{const le=await window.crypto.subtle.decrypt(ue,ne,fe),pe=new TextDecoder;re.next(pe.decode(le)),re.complete()}catch(le){re.error(le)}})()})}aes256gcm$1.decrypt=decrypt;var Web3Method={};(function(te){Object.defineProperty(te,"__esModule",{value:!0}),te.Web3Method=void 0,function(ee){ee.requestEthereumAccounts="requestEthereumAccounts",ee.signEthereumMessage="signEthereumMessage",ee.signEthereumTransaction="signEthereumTransaction",ee.submitEthereumTransaction="submitEthereumTransaction",ee.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",ee.scanQRCode="scanQRCode",ee.generic="generic",ee.childRequestEthereumAccounts="childRequestEthereumAccounts",ee.addEthereumChain="addEthereumChain",ee.switchEthereumChain="switchEthereumChain",ee.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",ee.watchAsset="watchAsset"}(te.Web3Method||(te.Web3Method={}))})(Web3Method);var Web3RequestCanceledMessage$1={},RelayMessage={};(function(te){Object.defineProperty(te,"__esModule",{value:!0}),te.RelayMessageType=void 0,function(ee){ee.SESSION_ID_REQUEST="SESSION_ID_REQUEST",ee.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",ee.LINKED="LINKED",ee.UNLINKED="UNLINKED",ee.WEB3_REQUEST="WEB3_REQUEST",ee.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",ee.WEB3_RESPONSE="WEB3_RESPONSE"}(te.RelayMessageType||(te.RelayMessageType={}))})(RelayMessage);Object.defineProperty(Web3RequestCanceledMessage$1,"__esModule",{value:!0});Web3RequestCanceledMessage$1.Web3RequestCanceledMessage=void 0;const RelayMessage_1$2=RelayMessage;function Web3RequestCanceledMessage(te){return{type:RelayMessage_1$2.RelayMessageType.WEB3_REQUEST_CANCELED,id:te}}Web3RequestCanceledMessage$1.Web3RequestCanceledMessage=Web3RequestCanceledMessage;var Web3RequestMessage$1={};Object.defineProperty(Web3RequestMessage$1,"__esModule",{value:!0});Web3RequestMessage$1.Web3RequestMessage=void 0;const RelayMessage_1$1=RelayMessage;function Web3RequestMessage(te){return Object.assign({type:RelayMessage_1$1.RelayMessageType.WEB3_REQUEST},te)}Web3RequestMessage$1.Web3RequestMessage=Web3RequestMessage;var Web3Response={};Object.defineProperty(Web3Response,"__esModule",{value:!0});Web3Response.EthereumAddressFromSignedMessageResponse=Web3Response.SubmitEthereumTransactionResponse=Web3Response.SignEthereumTransactionResponse=Web3Response.SignEthereumMessageResponse=Web3Response.isRequestEthereumAccountsResponse=Web3Response.WatchAssetReponse=Web3Response.RequestEthereumAccountsResponse=Web3Response.SwitchEthereumChainResponse=Web3Response.AddEthereumChainResponse=Web3Response.ErrorResponse=void 0;const Web3Method_1$1=Web3Method;function ErrorResponse(te,ee,re){return{method:te,errorMessage:ee,errorCode:re}}Web3Response.ErrorResponse=ErrorResponse;function AddEthereumChainResponse(te){return{method:Web3Method_1$1.Web3Method.addEthereumChain,result:te}}Web3Response.AddEthereumChainResponse=AddEthereumChainResponse;function SwitchEthereumChainResponse(te){return{method:Web3Method_1$1.Web3Method.switchEthereumChain,result:te}}Web3Response.SwitchEthereumChainResponse=SwitchEthereumChainResponse;function RequestEthereumAccountsResponse(te){return{method:Web3Method_1$1.Web3Method.requestEthereumAccounts,result:te}}Web3Response.RequestEthereumAccountsResponse=RequestEthereumAccountsResponse;function WatchAssetReponse(te){return{method:Web3Method_1$1.Web3Method.watchAsset,result:te}}Web3Response.WatchAssetReponse=WatchAssetReponse;function isRequestEthereumAccountsResponse(te){return te&&te.method===Web3Method_1$1.Web3Method.requestEthereumAccounts}Web3Response.isRequestEthereumAccountsResponse=isRequestEthereumAccountsResponse;function SignEthereumMessageResponse(te){return{method:Web3Method_1$1.Web3Method.signEthereumMessage,result:te}}Web3Response.SignEthereumMessageResponse=SignEthereumMessageResponse;function SignEthereumTransactionResponse(te){return{method:Web3Method_1$1.Web3Method.signEthereumTransaction,result:te}}Web3Response.SignEthereumTransactionResponse=SignEthereumTransactionResponse;function SubmitEthereumTransactionResponse(te){return{method:Web3Method_1$1.Web3Method.submitEthereumTransaction,result:te}}Web3Response.SubmitEthereumTransactionResponse=SubmitEthereumTransactionResponse;function EthereumAddressFromSignedMessageResponse(te){return{method:Web3Method_1$1.Web3Method.ethereumAddressFromSignedMessage,result:te}}Web3Response.EthereumAddressFromSignedMessageResponse=EthereumAddressFromSignedMessageResponse;var Web3ResponseMessage$1={};Object.defineProperty(Web3ResponseMessage$1,"__esModule",{value:!0});Web3ResponseMessage$1.isWeb3ResponseMessage=Web3ResponseMessage$1.Web3ResponseMessage=void 0;const RelayMessage_1=RelayMessage;function Web3ResponseMessage(te){return Object.assign({type:RelayMessage_1.RelayMessageType.WEB3_RESPONSE},te)}Web3ResponseMessage$1.Web3ResponseMessage=Web3ResponseMessage;function isWeb3ResponseMessage(te){return te&&te.type===RelayMessage_1.RelayMessageType.WEB3_RESPONSE}Web3ResponseMessage$1.isWeb3ResponseMessage=isWeb3ResponseMessage;var __createBinding=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(te,ee,re,ne){ne===void 0&&(ne=re),Object.defineProperty(te,ne,{enumerable:!0,get:function(){return ee[re]}})}:function(te,ee,re,ne){ne===void 0&&(ne=re),te[ne]=ee[re]}),__setModuleDefault=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(te,ee){Object.defineProperty(te,"default",{enumerable:!0,value:ee})}:function(te,ee){te.default=ee}),__decorate=commonjsGlobal$1&&commonjsGlobal$1.__decorate||function(te,ee,re,ne){var ie=arguments.length,oe=ie<3?ee:ne===null?ne=Object.getOwnPropertyDescriptor(ee,re):ne,se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(te,ee,re,ne);else for(var ae=te.length-1;ae>=0;ae--)(se=te[ae])&&(oe=(ie<3?se(oe):ie>3?se(ee,re,oe):se(ee,re))||oe);return ie>3&&oe&&Object.defineProperty(ee,re,oe),oe},__importStar=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(te){if(te&&te.__esModule)return te;var ee={};if(te!=null)for(var re in te)re!=="default"&&Object.prototype.hasOwnProperty.call(te,re)&&__createBinding(ee,te,re);return __setModuleDefault(ee,te),ee},__importDefault=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(te){return te&&te.__esModule?te:{default:te}};Object.defineProperty(WalletLinkRelay$1,"__esModule",{value:!0});WalletLinkRelay$1.WalletLinkRelay=void 0;const bind_decorator_1=__importDefault(bindDecorator),eth_rpc_errors_1=dist,rxjs_1=require$$2$1,operators_1=require$$3,WalletLinkAnalytics_1$1=WalletLinkAnalytics$1,WalletLinkConnection_1=WalletLinkConnection$1,init_1=init,util_1$2=util$3,aes256gcm=__importStar(aes256gcm$1),Session_1=Session$1,WalletLinkRelayAbstract_1=WalletLinkRelayAbstract$1,Web3Method_1=Web3Method,Web3RequestCanceledMessage_1=Web3RequestCanceledMessage$1,Web3RequestMessage_1=Web3RequestMessage$1,Web3Response_1=Web3Response,Web3ResponseMessage_1=Web3ResponseMessage$1;class WalletLinkRelay extends WalletLinkRelayAbstract_1.WalletLinkRelayAbstract{constructor(ee){super();this.accountsCallback=null,this.chainCallback=null,this.appName="",this.appLogoUrl=null,this.subscriptions=new rxjs_1.Subscription,this.walletLinkUrl=ee.walletLinkUrl,this.storage=ee.storage,this._session=Session_1.Session.load(ee.storage)||new Session_1.Session(ee.storage).save(),this.relayEventManager=ee.relayEventManager,this.walletLinkAnalytics=ee.walletLinkAnalytics?ee.walletLinkAnalytics:new WalletLinkAnalytics_1$1.WalletLinkAnalytics,this.connection=new WalletLinkConnection_1.WalletLinkConnection(this._session.id,this._session.key,this.walletLinkUrl,this.walletLinkAnalytics),this.subscriptions.add(this.connection.incomingEvent$.pipe((0,operators_1.filter)(re=>re.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(this.connection.linked$.pipe((0,operators_1.skip)(1),(0,operators_1.tap)(re=>{var ne;this.isLinked=re;const ie=this.storage.getItem(WalletLinkRelayAbstract_1.LOCAL_STORAGE_ADDRESSES_KEY);if(re&&(this.session.linked=re),this.isUnlinkedErrorState=!1,ie){const oe=ie.split(" "),se=this.storage.getItem("IsStandaloneSigning")==="true";if(oe[0]!==""&&!re&&this.session.linked&&!se){this.isUnlinkedErrorState=!0;const ae=this.getSessionIdHash();(ne=this.walletLinkAnalytics)===null||ne===void 0||ne.sendEvent(init_1.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:ae,origin:location.origin})}}})).subscribe()),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,operators_1.filter)(re=>!!re.metadata&&re.metadata.__destroyed==="1")).subscribe(()=>{var re;const ne=this.connection.isDestroyed;return(re=this.walletLinkAnalytics)===null||re===void 0||re.sendEvent(init_1.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:ne,sessionIdHash:this.getSessionIdHash(),origin:location.origin}),this.resetAndReload()})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,operators_1.filter)(re=>re.metadata&&re.metadata.WalletUsername!==void 0)).pipe((0,operators_1.mergeMap)(re=>aes256gcm.decrypt(re.metadata.WalletUsername,this._session.secret))).subscribe({next:re=>{this.storage.setItem(WalletLinkRelayAbstract_1.WALLET_USER_NAME_KEY,re)},error:()=>{var re;(re=this.walletLinkAnalytics)===null||re===void 0||re.sendEvent(init_1.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,operators_1.filter)(re=>re.metadata&&re.metadata.AppVersion!==void 0)).pipe((0,operators_1.mergeMap)(re=>aes256gcm.decrypt(re.metadata.AppVersion,this._session.secret))).subscribe({next:re=>{this.storage.setItem(WalletLinkRelayAbstract_1.APP_VERSION_KEY,re)},error:()=>{var re;(re=this.walletLinkAnalytics)===null||re===void 0||re.sendEvent(init_1.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,operators_1.filter)(re=>re.metadata&&re.metadata.ChainId!==void 0&&re.metadata.JsonRpcUrl!==void 0)).pipe((0,operators_1.mergeMap)(re=>(0,rxjs_1.zip)(aes256gcm.decrypt(re.metadata.ChainId,this._session.secret),aes256gcm.decrypt(re.metadata.JsonRpcUrl,this._session.secret)))).pipe((0,operators_1.distinctUntilChanged)()).subscribe({next:([re,ne])=>{this.chainCallback&&this.chainCallback(re,ne)},error:()=>{var re;(re=this.walletLinkAnalytics)===null||re===void 0||re.sendEvent(init_1.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,operators_1.filter)(re=>re.metadata&&re.metadata.EthereumAddress!==void 0)).pipe((0,operators_1.mergeMap)(re=>aes256gcm.decrypt(re.metadata.EthereumAddress,this._session.secret))).subscribe({next:re=>{this.accountsCallback&&this.accountsCallback([re]),WalletLinkRelay.accountRequestCallbackIds.size>0&&(Array.from(WalletLinkRelay.accountRequestCallbackIds.values()).forEach(ne=>{const ie=(0,Web3ResponseMessage_1.Web3ResponseMessage)({id:ne,response:(0,Web3Response_1.RequestEthereumAccountsResponse)([re])});this.invokeCallback(Object.assign(Object.assign({},ie),{id:ne}))}),WalletLinkRelay.accountRequestCallbackIds.clear())},error:()=>{var re;(re=this.walletLinkAnalytics)===null||re===void 0||re.sendEvent(init_1.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.ui=ee.walletLinkUIConstructor({walletLinkUrl:ee.walletLinkUrl,version:ee.version,darkMode:ee.darkMode,session:this._session,connected$:this.connection.connected$}),this.connection.connect()}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,operators_1.timeout)(1e3),(0,operators_1.catchError)(ee=>(0,rxjs_1.of)(null))).subscribe(ee=>{var re,ne,ie;try{this.subscriptions.unsubscribe()}catch{(re=this.walletLinkAnalytics)===null||re===void 0||re.sendEvent(init_1.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(ne=this.walletLinkAnalytics)===null||ne===void 0||ne.sendEvent(init_1.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash(),origin:location.origin}),this.connection.destroy();const oe=Session_1.Session.load(this.storage);(oe==null?void 0:oe.id)===this._session.id?this.storage.clear():oe&&((ie=this.walletLinkAnalytics)===null||ie===void 0||ie.sendEvent(init_1.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Session_1.Session.hash(oe.id),origin:location.origin})),this.ui.reloadUI()},ee=>{var re;(re=this.walletLinkAnalytics)===null||re===void 0||re.sendEvent(init_1.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${ee}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(ee,re){this.appName=ee,this.appLogoUrl=re}getStorageItem(ee){return this.storage.getItem(ee)}get session(){return this._session}setStorageItem(ee,re){this.storage.setItem(ee,re)}signEthereumMessage(ee,re,ne,ie){return this.sendRequest({method:Web3Method_1.Web3Method.signEthereumMessage,params:{message:(0,util_1$2.hexStringFromBuffer)(ee,!0),address:re,addPrefix:ne,typedDataJson:ie||null}})}ethereumAddressFromSignedMessage(ee,re,ne){return this.sendRequest({method:Web3Method_1.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,util_1$2.hexStringFromBuffer)(ee,!0),signature:(0,util_1$2.hexStringFromBuffer)(re,!0),addPrefix:ne}})}signEthereumTransaction(ee){return this.sendRequest({method:Web3Method_1.Web3Method.signEthereumTransaction,params:{fromAddress:ee.fromAddress,toAddress:ee.toAddress,weiValue:(0,util_1$2.bigIntStringFromBN)(ee.weiValue),data:(0,util_1$2.hexStringFromBuffer)(ee.data,!0),nonce:ee.nonce,gasPriceInWei:ee.gasPriceInWei?(0,util_1$2.bigIntStringFromBN)(ee.gasPriceInWei):null,maxFeePerGas:ee.gasPriceInWei?(0,util_1$2.bigIntStringFromBN)(ee.gasPriceInWei):null,maxPriorityFeePerGas:ee.gasPriceInWei?(0,util_1$2.bigIntStringFromBN)(ee.gasPriceInWei):null,gasLimit:ee.gasLimit?(0,util_1$2.bigIntStringFromBN)(ee.gasLimit):null,chainId:ee.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(ee){return this.sendRequest({method:Web3Method_1.Web3Method.signEthereumTransaction,params:{fromAddress:ee.fromAddress,toAddress:ee.toAddress,weiValue:(0,util_1$2.bigIntStringFromBN)(ee.weiValue),data:(0,util_1$2.hexStringFromBuffer)(ee.data,!0),nonce:ee.nonce,gasPriceInWei:ee.gasPriceInWei?(0,util_1$2.bigIntStringFromBN)(ee.gasPriceInWei):null,maxFeePerGas:ee.maxFeePerGas?(0,util_1$2.bigIntStringFromBN)(ee.maxFeePerGas):null,maxPriorityFeePerGas:ee.maxPriorityFeePerGas?(0,util_1$2.bigIntStringFromBN)(ee.maxPriorityFeePerGas):null,gasLimit:ee.gasLimit?(0,util_1$2.bigIntStringFromBN)(ee.gasLimit):null,chainId:ee.chainId,shouldSubmit:!0}})}submitEthereumTransaction(ee,re){return this.sendRequest({method:Web3Method_1.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,util_1$2.hexStringFromBuffer)(ee,!0),chainId:re}})}scanQRCode(ee){return this.sendRequest({method:Web3Method_1.Web3Method.scanQRCode,params:{regExp:ee}})}genericRequest(ee,re){return this.sendRequest({method:Web3Method_1.Web3Method.generic,params:{action:re,data:ee}})}sendGenericMessage(ee){return this.sendRequest(ee)}sendRequest(ee){let re=null;const ne=(0,util_1$2.randomBytesHex)(8),ie=()=>{this.publishWeb3RequestCanceledEvent(ne),this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:ne,response:(0,Web3Response_1.ErrorResponse)(ee.method,"User rejected request")})),re==null||re()};return{promise:new Promise((se,ae)=>{this.ui.isStandalone()||(re=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:ie,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(ne,fe=>{if(re==null||re(),fe.errorMessage)return ae(new Error(fe.errorMessage));se(fe)}),this.ui.isStandalone()?this.sendRequestStandalone(ne,ee):this.publishWeb3RequestEvent(ne,ee)}),cancel:ie}}setConnectDisabled(ee){this.ui.setConnectDisabled(ee)}setAccountsCallback(ee){this.accountsCallback=ee}setChainCallback(ee){this.chainCallback=ee}publishWeb3RequestEvent(ee,re){var ne;const ie=(0,Web3RequestMessage_1.Web3RequestMessage)({id:ee,request:re}),oe=Session_1.Session.load(this.storage);(ne=this.walletLinkAnalytics)===null||ne===void 0||ne.sendEvent(init_1.EVENTS.WEB3_REQUEST,{eventId:ie.id,method:`relay::${ie.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:oe?Session_1.Session.hash(oe.id):"",isSessionMismatched:((oe==null?void 0:oe.id)!==this._session.id).toString(),origin:location.origin}),this.subscriptions.add(this.publishEvent("Web3Request",ie,!0).subscribe({next:se=>{var ae;(ae=this.walletLinkAnalytics)===null||ae===void 0||ae.sendEvent(init_1.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:ie.id,method:`relay::${ie.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:oe?Session_1.Session.hash(oe.id):"",isSessionMismatched:((oe==null?void 0:oe.id)!==this._session.id).toString(),origin:location.origin})},error:se=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:ie.id,response:{method:ie.request.method,errorMessage:se.message}}))}}))}publishWeb3RequestCanceledEvent(ee){const re=(0,Web3RequestCanceledMessage_1.Web3RequestCanceledMessage)(ee);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",re,!1).subscribe())}publishEvent(ee,re,ne){const ie=this.session.secret;return new rxjs_1.Observable(oe=>{aes256gcm.encrypt(JSON.stringify(Object.assign(Object.assign({},re),{origin:location.origin})),ie).then(se=>{oe.next(se),oe.complete()})}).pipe((0,operators_1.mergeMap)(oe=>this.connection.publishEvent(ee,oe,ne)))}handleIncomingEvent(ee){try{this.subscriptions.add(aes256gcm.decrypt(ee.data,this.session.secret).pipe((0,operators_1.map)(re=>JSON.parse(re))).subscribe({next:re=>{const ne=(0,Web3ResponseMessage_1.isWeb3ResponseMessage)(re)?re:null;!ne||this.handleWeb3ResponseMessage(ne)},error:()=>{var re;(re=this.walletLinkAnalytics)===null||re===void 0||re.sendEvent(init_1.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(ee){var re;const{response:ne}=ee;if((re=this.walletLinkAnalytics)===null||re===void 0||re.sendEvent(init_1.EVENTS.WEB3_RESPONSE,{eventId:ee.id,method:`relay::${ne.method}`,sessionIdHash:this.getSessionIdHash(),origin:location.origin}),(0,Web3Response_1.isRequestEthereumAccountsResponse)(ne)){Array.from(WalletLinkRelay.accountRequestCallbackIds.values()).forEach(ie=>this.invokeCallback(Object.assign(Object.assign({},ee),{id:ie}))),WalletLinkRelay.accountRequestCallbackIds.clear();return}this.invokeCallback(ee)}invokeCallback(ee){const re=this.relayEventManager.callbacks.get(ee.id);re&&(re(ee.response),this.relayEventManager.callbacks.delete(ee.id))}requestEthereumAccounts(){let ee={method:Web3Method_1.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}};const re=(0,util_1$2.randomBytesHex)(8),ne=()=>{this.publishWeb3RequestCanceledEvent(re),this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:re,response:(0,Web3Response_1.ErrorResponse)(ee.method,"User rejected request")}))};return{promise:new Promise((oe,se)=>{var ae;this.relayEventManager.callbacks.set(re,ue=>{if(this.ui.hideRequestEthereumAccounts(),ue.errorMessage)return se(new Error(ue.errorMessage));oe(ue)});const fe=((ae=window==null?void 0:window.navigator)===null||ae===void 0?void 0:ae.userAgent)||null;if(fe&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(fe)){window.location.href=`https://go.cb-w.com/xoXnYwQimhb?cb_url=${encodeURIComponent(window.location.href)}`;return}if(this.ui.inlineAccountsResponse()){const ue=le=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:re,response:(0,Web3Response_1.RequestEthereumAccountsResponse)(le)}))};this.ui.requestEthereumAccounts({onCancel:ne,onAccounts:ue})}else this.ui.requestEthereumAccounts({onCancel:ne});WalletLinkRelay.accountRequestCallbackIds.add(re),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(re,ee)}),cancel:ne}}watchAsset(ee,re,ne,ie,oe){const se={method:Web3Method_1.Web3Method.watchAsset,params:{type:ee,options:{address:re,symbol:ne,decimals:ie,image:oe}}};let ae=null;const fe=(0,util_1$2.randomBytesHex)(8),ue=()=>{this.publishWeb3RequestCanceledEvent(fe),this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:fe,response:(0,Web3Response_1.ErrorResponse)(se.method,"User rejected request")})),ae==null||ae()};this.ui.inlineWatchAsset()||(ae=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:ue,onResetConnection:this.resetAndReload}));const le=new Promise((pe,rr)=>{this.relayEventManager.callbacks.set(fe,mr=>{if(ae==null||ae(),mr.errorMessage)return rr(new Error(mr.errorMessage));pe(mr)});const cr=()=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:fe,response:(0,Web3Response_1.WatchAssetReponse)(!1)}))},ar=()=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:fe,response:(0,Web3Response_1.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:ar,onCancel:cr,type:ee,address:re,symbol:ne,decimals:ie,image:oe}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(fe,se)});return{cancel:ue,promise:le}}addEthereumChain(ee,re,ne,ie,oe,se){let ae={method:Web3Method_1.Web3Method.addEthereumChain,params:{chainId:ee,rpcUrls:re,blockExplorerUrls:ie,chainName:oe,iconUrls:ne,nativeCurrency:se}},fe=null;const ue=(0,util_1$2.randomBytesHex)(8),le=()=>{this.publishWeb3RequestCanceledEvent(ue),this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:ue,response:(0,Web3Response_1.ErrorResponse)(ae.method,"User rejected request")})),fe==null||fe()};return this.ui.inlineAddEthereumChain(ee)||(fe=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:le,onResetConnection:this.resetAndReload})),{promise:new Promise((rr,cr)=>{this.relayEventManager.callbacks.set(ue,pr=>{if(fe==null||fe(),pr.errorMessage)return cr(new Error(pr.errorMessage));rr(pr)});const ar=()=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:ue,response:(0,Web3Response_1.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},mr=pr=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:ue,response:(0,Web3Response_1.AddEthereumChainResponse)({isApproved:!0,rpcUrl:pr})}))};this.ui.inlineAddEthereumChain(ee)&&this.ui.addEthereumChain({onCancel:ar,onApprove:mr,chainId:ae.params.chainId,rpcUrls:ae.params.rpcUrls,blockExplorerUrls:ae.params.blockExplorerUrls,chainName:ae.params.chainName,iconUrls:ae.params.iconUrls,nativeCurrency:ae.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(ee)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(ue,ae)}),cancel:le}}switchEthereumChain(ee){let re={method:Web3Method_1.Web3Method.switchEthereumChain,params:{chainId:ee}},ne=null;const ie=(0,util_1$2.randomBytesHex)(8),oe=()=>{this.publishWeb3RequestCanceledEvent(ie),this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:ie,response:(0,Web3Response_1.ErrorResponse)(re.method,"User rejected request")})),ne==null||ne()};return this.ui.inlineSwitchEthereumChain()||(ne=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:oe,onResetConnection:this.resetAndReload})),{promise:new Promise((ae,fe)=>{this.relayEventManager.callbacks.set(ie,pe=>{if(ne==null||ne(),pe.errorMessage&&pe.errorCode)return fe(eth_rpc_errors_1.ethErrors.provider.custom({code:pe.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(pe.errorMessage)return fe(new Error(pe.errorMessage));ae(pe)});const ue=pe=>{pe?this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:ie,response:(0,Web3Response_1.ErrorResponse)(Web3Method_1.Web3Method.switchEthereumChain,"unsupported chainId",pe)})):this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:ie,response:(0,Web3Response_1.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},le=pe=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:ie,response:(0,Web3Response_1.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:pe})}))};this.ui.switchEthereumChain({onCancel:ue,onApprove:le,chainId:re.params.chainId}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(ie,re)}),cancel:oe}}getSessionIdHash(){return Session_1.Session.hash(this._session.id)}sendRequestStandalone(ee,re){const ne=()=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:ee,response:(0,Web3Response_1.ErrorResponse)(re.method,"User rejected request")}))},ie=oe=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:ee,response:oe}))};switch(re.method){case Web3Method_1.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:re,onSuccess:ie,onCancel:ne});break;case Web3Method_1.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:re,onSuccess:ie,onCancel:ne});break;case Web3Method_1.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:re,onSuccess:ie,onCancel:ne});break;case Web3Method_1.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:re,onSuccess:ie});break;default:ne();break}}}WalletLinkRelay.accountRequestCallbackIds=new Set;__decorate([bind_decorator_1.default],WalletLinkRelay.prototype,"resetAndReload",null);__decorate([bind_decorator_1.default],WalletLinkRelay.prototype,"handleIncomingEvent",null);WalletLinkRelay$1.WalletLinkRelay=WalletLinkRelay;var WalletLinkRelayEventManager$1={};Object.defineProperty(WalletLinkRelayEventManager$1,"__esModule",{value:!0});WalletLinkRelayEventManager$1.WalletLinkRelayEventManager=void 0;const util_1$1=util$3;class WalletLinkRelayEventManager{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const ee=this._nextRequestId,re=(0,util_1$1.prepend0x)(ee.toString(16));return this.callbacks.get(re)&&this.callbacks.delete(re),ee}}WalletLinkRelayEventManager$1.WalletLinkRelayEventManager=WalletLinkRelayEventManager;const name="walletlink",version$3="2.5.0",description="WalletLink JavaScript SDK",keywords=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],main="dist/index.js",types="dist/index.d.ts",repository="https://github.com/walletlink/walletlink.git",author="Coinbase, Inc.",license="Apache-2.0",scripts={tsc:"tsc --noEmit --pretty",test:"yarn build-npm && karma start",prebuild:`node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-chrome":"webpack --config webpack.config.chrome.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export WALLETLINK_URL='http://localhost:3000'; yarn build && yarn build-chrome","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --watch chrome/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-chrome && yarn build-npm && cp ./package.json ./README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,lint:"eslint ./src --ext .ts,.tsx","lint:watch":"nodemon -e ts,tsx,js,json,css,scss,svg --watch src/ --exec 'yarn tsc && yarn lint'"},dependencies={"@metamask/safe-event-emitter":"2.0.0","bind-decorator":"^1.0.11","bn.js":"^5.1.1",clsx:"^1.1.0","eth-block-tracker":"4.4.3","eth-json-rpc-filters":"4.2.2","eth-rpc-errors":"4.0.2","js-sha256":"0.9.0","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",rxjs:"^6.6.3","stream-browserify":"^3.0.0"},devDependencies={"@types/bn.js":"^4.11.6","@types/node":"^14.14.20","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",karma:"^6.3.15","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.32.0",svgo:"^2.8.0","ts-jest":"^26.4.4","ts-loader":"^8.0.13",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.49.0","webpack-cli":"^3.3.12","whatwg-fetch":"^3.5.0"},engines={node:">= 10.0.0"},jest={transform:{"^.+\\.tsx?$":"ts-jest"},testEnvironment:"node",testPathIgnorePatterns:["<rootDir>/dist/","<rootDir>/node_modules/"],testRegex:"(/__tests__/.*|\\.(test|spec))\\.(ts|tsx|js)$",moduleFileExtensions:["ts","js","json"]};var require$$7={name,version:version$3,description,keywords,main,types,repository,author,license,scripts,dependencies,devDependencies,engines,jest};Object.defineProperty(WalletLink$2,"__esModule",{value:!0});WalletLink$2.WalletLink=void 0;const WalletLinkAnalytics_1=WalletLinkAnalytics$1,ScopedLocalStorage_1=ScopedLocalStorage$1,WalletLinkProvider_1=WalletLinkProvider$1,WalletLinkSdkUI_1=WalletLinkSdkUI$1,WalletLinkRelay_1=WalletLinkRelay$1,WalletLinkRelayEventManager_1=WalletLinkRelayEventManager$1,util_1=util$3,WALLETLINK_URL={}.WALLETLINK_URL||"https://www.walletlink.org",WALLETLINK_VERSION={}.WALLETLINK_VERSION||require$$7.version||"unknown";class WalletLink$1{constructor(ee){var re;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const ne=ee.walletLinkUrl||WALLETLINK_URL;let ie;ee.walletLinkUIConstructor?ie=ee.walletLinkUIConstructor:ie=ae=>new WalletLinkSdkUI_1.WalletLinkSdkUI(ae),typeof ee.overrideIsMetaMask=="undefined"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=ee.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(re=ee.overrideIsCoinbaseWallet)!==null&&re!==void 0?re:!0,this._walletLinkAnalytics=ee.walletLinkAnalytics?ee.walletLinkAnalytics:new WalletLinkAnalytics_1.WalletLinkAnalytics;const oe=new URL(ne),se=`${oe.protocol}//${oe.host}`;this._storage=new ScopedLocalStorage_1.ScopedLocalStorage(`-walletlink:${se}`),this._storage.setItem("version",WalletLink$1.VERSION),typeof window.walletLinkExtension=="undefined"&&(this._relayEventManager=new WalletLinkRelayEventManager_1.WalletLinkRelayEventManager,this._relay=new WalletLinkRelay_1.WalletLinkRelay({walletLinkUrl:ne,version:WALLETLINK_VERSION,darkMode:!!ee.darkMode,walletLinkUIConstructor:ie,storage:this._storage,relayEventManager:this._relayEventManager,walletLinkAnalytics:this._walletLinkAnalytics}),this.setAppInfo(ee.appName,ee.appLogoUrl),this._relay.attachUI())}makeWeb3Provider(ee="",re=1){if(typeof window.walletLinkExtension!="undefined")return(typeof window.walletLinkExtension.isCipher!="boolean"||!window.walletLinkExtension.isCipher)&&window.walletLinkExtension.setProviderInfo(ee,re),window.walletLinkExtension;const ne=this._relay;if(!ne||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return ee||ne.setConnectDisabled(!0),new WalletLinkProvider_1.WalletLinkProvider({relayProvider:()=>Promise.resolve(ne),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:ee,chainId:re,walletLinkAnalytics:this._walletLinkAnalytics,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet})}setAppInfo(ee,re){var ne;this._appName=ee||"DApp",this._appLogoUrl=re||(0,util_1.getFavicon)(),typeof window.walletLinkExtension!="undefined"?(typeof window.walletLinkExtension.isCipher!="boolean"||!window.walletLinkExtension.isCipher)&&window.walletLinkExtension.setAppInfo(this._appName,this._appLogoUrl):(ne=this._relay)===null||ne===void 0||ne.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var ee;typeof window.walletLinkExtension!="undefined"?window.walletLinkExtension.close():(ee=this._relay)===null||ee===void 0||ee.resetAndReload()}}WalletLink$2.WalletLink=WalletLink$1;WalletLink$1.VERSION=WALLETLINK_VERSION;(function(te){Object.defineProperty(te,"__esModule",{value:!0}),te.WalletLink=te.WalletLinkProvider=void 0;const ee=WalletLinkProvider$1,re=WalletLink$2;var ne=WalletLinkProvider$1;Object.defineProperty(te,"WalletLinkProvider",{enumerable:!0,get:function(){return ne.WalletLinkProvider}});var ie=WalletLink$2;Object.defineProperty(te,"WalletLink",{enumerable:!0,get:function(){return ie.WalletLink}}),te.default=re.WalletLink,typeof window!="undefined"&&(window.WalletLink=re.WalletLink,window.WalletLinkProvider=ee.WalletLinkProvider)})(dist$1);var WalletLink=getDefaultExportFromCjs$1(dist$1);const version$2="networks/5.6.1",logger$5=new Logger$g(version$2);function isRenetworkable(te){return te&&typeof te.renetwork=="function"}function ethDefaultProvider(te){const ee=function(re,ne){ne==null&&(ne={});const ie=[];if(re.InfuraProvider&&ne.infura!=="-")try{ie.push(new re.InfuraProvider(te,ne.infura))}catch{}if(re.EtherscanProvider&&ne.etherscan!=="-")try{ie.push(new re.EtherscanProvider(te,ne.etherscan))}catch{}if(re.AlchemyProvider&&ne.alchemy!=="-")try{ie.push(new re.AlchemyProvider(te,ne.alchemy))}catch{}if(re.PocketProvider&&ne.pocket!=="-"){const oe=["goerli","ropsten","rinkeby"];try{const se=new re.PocketProvider(te);se.network&&oe.indexOf(se.network.name)===-1&&ie.push(se)}catch{}}if(re.CloudflareProvider&&ne.cloudflare!=="-")try{ie.push(new re.CloudflareProvider(te))}catch{}if(re.AnkrProvider&&ne.ankr!=="-")try{ie.push(new re.AnkrProvider(te,ne.ankr))}catch{}if(ie.length===0)return null;if(re.FallbackProvider){let oe=1;return ne.quorum!=null?oe=ne.quorum:te==="homestead"&&(oe=2),new re.FallbackProvider(ie,oe)}return ie[0]};return ee.renetwork=function(re){return ethDefaultProvider(re)},ee}function etcDefaultProvider(te,ee){const re=function(ne,ie){return ne.JsonRpcProvider?new ne.JsonRpcProvider(te,ee):null};return re.renetwork=function(ne){return etcDefaultProvider(te,ne)},re}const homestead={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ethDefaultProvider("homestead")},ropsten={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ethDefaultProvider("ropsten")},classicMordor={chainId:63,name:"classicMordor",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/mordor","classicMordor")},networks={unspecified:{chainId:0,name:"unspecified"},homestead,mainnet:homestead,morden:{chainId:2,name:"morden"},ropsten,testnet:ropsten,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ethDefaultProvider("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ethDefaultProvider("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ethDefaultProvider("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},classic:{chainId:61,name:"classic",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor,classicTestnet:classicMordor,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic"},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism"},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function getNetwork(te){if(te==null)return null;if(typeof te=="number"){for(const ne in networks){const ie=networks[ne];if(ie.chainId===te)return{name:ie.name,chainId:ie.chainId,ensAddress:ie.ensAddress||null,_defaultProvider:ie._defaultProvider||null}}return{chainId:te,name:"unknown"}}if(typeof te=="string"){const ne=networks[te];return ne==null?null:{name:ne.name,chainId:ne.chainId,ensAddress:ne.ensAddress,_defaultProvider:ne._defaultProvider||null}}const ee=networks[te.name];if(!ee)return typeof te.chainId!="number"&&logger$5.throwArgumentError("invalid network chainId","network",te),te;te.chainId!==0&&te.chainId!==ee.chainId&&logger$5.throwArgumentError("network chainId mismatch","network",te);let re=te._defaultProvider||null;return re==null&&ee._defaultProvider&&(isRenetworkable(ee._defaultProvider)?re=ee._defaultProvider.renetwork(te):re=ee._defaultProvider),{name:te.name,chainId:ee.chainId,ensAddress:te.ensAddress||ee.ensAddress||null,_defaultProvider:re}}function decode$2(te){te=atob(te);const ee=[];for(let re=0;re<te.length;re++)ee.push(te.charCodeAt(re));return arrayify$e(ee)}function encode$1(te){te=arrayify$e(te);let ee="";for(let re=0;re<te.length;re++)ee+=String.fromCharCode(te[re]);return btoa(ee)}const version$1="web/5.6.0";var __awaiter$4=globalThis&&globalThis.__awaiter||function(te,ee,re,ne){function ie(oe){return oe instanceof re?oe:new re(function(se){se(oe)})}return new(re||(re=Promise))(function(oe,se){function ae(le){try{ue(ne.next(le))}catch(pe){se(pe)}}function fe(le){try{ue(ne.throw(le))}catch(pe){se(pe)}}function ue(le){le.done?oe(le.value):ie(le.value).then(ae,fe)}ue((ne=ne.apply(te,ee||[])).next())})};function getUrl(te,ee){return __awaiter$4(this,void 0,void 0,function*(){ee==null&&(ee={});const re={method:ee.method||"GET",headers:ee.headers||{},body:ee.body||void 0};ee.skipFetchSetup!==!0&&(re.mode="cors",re.cache="no-cache",re.credentials="same-origin",re.redirect="follow",re.referrer="client");const ne=yield fetch(te,re),ie=yield ne.arrayBuffer(),oe={};return ne.headers.forEach?ne.headers.forEach((se,ae)=>{oe[ae.toLowerCase()]=se}):ne.headers.keys().forEach(se=>{oe[se.toLowerCase()]=ne.headers.get(se)}),{headers:oe,statusCode:ne.status,statusMessage:ne.statusText,body:arrayify$e(new Uint8Array(ie))}})}var __awaiter$3=globalThis&&globalThis.__awaiter||function(te,ee,re,ne){function ie(oe){return oe instanceof re?oe:new re(function(se){se(oe)})}return new(re||(re=Promise))(function(oe,se){function ae(le){try{ue(ne.next(le))}catch(pe){se(pe)}}function fe(le){try{ue(ne.throw(le))}catch(pe){se(pe)}}function ue(le){le.done?oe(le.value):ie(le.value).then(ae,fe)}ue((ne=ne.apply(te,ee||[])).next())})};const logger$4=new Logger$g(version$1);function staller(te){return new Promise(ee=>{setTimeout(ee,te)})}function bodyify(te,ee){if(te==null)return null;if(typeof te=="string")return te;if(isBytesLike$7(te)){if(ee&&(ee.split("/")[0]==="text"||ee.split(";")[0].trim()==="application/json"))try{return toUtf8String$2(te)}catch{}return hexlify$9(te)}return te}function _fetchData(te,ee,re){const ne=typeof te=="object"&&te.throttleLimit!=null?te.throttleLimit:12;logger$4.assertArgument(ne>0&&ne%1===0,"invalid connection throttle limit","connection.throttleLimit",ne);const ie=typeof te=="object"?te.throttleCallback:null,oe=typeof te=="object"&&typeof te.throttleSlotInterval=="number"?te.throttleSlotInterval:100;logger$4.assertArgument(oe>0&&oe%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",oe);const se=typeof te=="object"?!!te.errorPassThrough:!1,ae={};let fe=null;const ue={method:"GET"};let le=!1,pe=2*60*1e3;if(typeof te=="string")fe=te;else if(typeof te=="object"){if((te==null||te.url==null)&&logger$4.throwArgumentError("missing URL","connection.url",te),fe=te.url,typeof te.timeout=="number"&&te.timeout>0&&(pe=te.timeout),te.headers)for(const yr in te.headers)ae[yr.toLowerCase()]={key:yr,value:String(te.headers[yr])},["if-none-match","if-modified-since"].indexOf(yr.toLowerCase())>=0&&(le=!0);if(ue.allowGzip=!!te.allowGzip,te.user!=null&&te.password!=null){fe.substring(0,6)!=="https:"&&te.allowInsecureAuthentication!==!0&&logger$4.throwError("basic authentication requires a secure https url",Logger$g.errors.INVALID_ARGUMENT,{argument:"url",url:fe,user:te.user,password:"[REDACTED]"});const yr=te.user+":"+te.password;ae.authorization={key:"Authorization",value:"Basic "+encode$1(toUtf8Bytes$4(yr))}}te.skipFetchSetup!=null&&(ue.skipFetchSetup=!!te.skipFetchSetup)}const rr=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),cr=fe?fe.match(rr):null;if(cr)try{const yr={statusCode:200,statusMessage:"OK",headers:{"content-type":cr[1]},body:decode$2(cr[2])};let vr=yr.body;return re&&(vr=re(yr.body,yr)),Promise.resolve(vr)}catch(yr){logger$4.throwError("processing response error",Logger$g.errors.SERVER_ERROR,{body:bodyify(cr[1],cr[2]),error:yr,requestBody:null,requestMethod:"GET",url:fe})}ee&&(ue.method="POST",ue.body=ee,ae["content-type"]==null&&(ae["content-type"]={key:"Content-Type",value:"application/octet-stream"}),ae["content-length"]==null&&(ae["content-length"]={key:"Content-Length",value:String(ee.length)}));const ar={};Object.keys(ae).forEach(yr=>{const vr=ae[yr];ar[vr.key]=vr.value}),ue.headers=ar;const mr=function(){let yr=null;return{promise:new Promise(function(Tr,Ir){pe&&(yr=setTimeout(()=>{yr!=null&&(yr=null,Ir(logger$4.makeError("timeout",Logger$g.errors.TIMEOUT,{requestBody:bodyify(ue.body,ar["content-type"]),requestMethod:ue.method,timeout:pe,url:fe})))},pe))}),cancel:function(){yr!=null&&(clearTimeout(yr),yr=null)}}}(),pr=function(){return __awaiter$3(this,void 0,void 0,function*(){for(let yr=0;yr<ne;yr++){let vr=null;try{if(vr=yield getUrl(fe,ue),yr<ne){if(vr.statusCode===301||vr.statusCode===302){const Tr=vr.headers.location||"";if(ue.method==="GET"&&Tr.match(/^https:/)){fe=vr.headers.location;continue}}else if(vr.statusCode===429){let Tr=!0;if(ie&&(Tr=yield ie(yr,fe)),Tr){let Ir=0;const Or=vr.headers["retry-after"];typeof Or=="string"&&Or.match(/^[1-9][0-9]*$/)?Ir=parseInt(Or)*1e3:Ir=oe*parseInt(String(Math.random()*Math.pow(2,yr))),yield staller(Ir);continue}}}}catch(Tr){vr=Tr.response,vr==null&&(mr.cancel(),logger$4.throwError("missing response",Logger$g.errors.SERVER_ERROR,{requestBody:bodyify(ue.body,ar["content-type"]),requestMethod:ue.method,serverError:Tr,url:fe}))}let Er=vr.body;if(le&&vr.statusCode===304?Er=null:!se&&(vr.statusCode<200||vr.statusCode>=300)&&(mr.cancel(),logger$4.throwError("bad response",Logger$g.errors.SERVER_ERROR,{status:vr.statusCode,headers:vr.headers,body:bodyify(Er,vr.headers?vr.headers["content-type"]:null),requestBody:bodyify(ue.body,ar["content-type"]),requestMethod:ue.method,url:fe})),re)try{const Tr=yield re(Er,vr);return mr.cancel(),Tr}catch(Tr){if(Tr.throttleRetry&&yr<ne){let Ir=!0;if(ie&&(Ir=yield ie(yr,fe)),Ir){const Or=oe*parseInt(String(Math.random()*Math.pow(2,yr)));yield staller(Or);continue}}mr.cancel(),logger$4.throwError("processing response error",Logger$g.errors.SERVER_ERROR,{body:bodyify(Er,vr.headers?vr.headers["content-type"]:null),error:Tr,requestBody:bodyify(ue.body,ar["content-type"]),requestMethod:ue.method,url:fe})}return mr.cancel(),Er}return logger$4.throwError("failed response",Logger$g.errors.SERVER_ERROR,{requestBody:bodyify(ue.body,ar["content-type"]),requestMethod:ue.method,url:fe})})}();return Promise.race([mr.promise,pr])}function fetchJson(te,ee,re){let ne=(oe,se)=>{let ae=null;if(oe!=null)try{ae=JSON.parse(toUtf8String$2(oe))}catch(fe){logger$4.throwError("invalid JSON",Logger$g.errors.SERVER_ERROR,{body:oe,error:fe})}return re&&(ae=re(ae,se)),ae},ie=null;if(ee!=null){ie=toUtf8Bytes$4(ee);const oe=typeof te=="string"?{url:te}:shallowCopy$3(te);oe.headers?Object.keys(oe.headers).filter(ae=>ae.toLowerCase()==="content-type").length!==0||(oe.headers=shallowCopy$3(oe.headers),oe.headers["content-type"]="application/json"):oe.headers={"content-type":"application/json"},te=oe}return _fetchData(te,ie,ne)}function poll(te,ee){return ee||(ee={}),ee=shallowCopy$3(ee),ee.floor==null&&(ee.floor=0),ee.ceiling==null&&(ee.ceiling=1e4),ee.interval==null&&(ee.interval=250),new Promise(function(re,ne){let ie=null,oe=!1;const se=()=>oe?!1:(oe=!0,ie&&clearTimeout(ie),!0);ee.timeout&&(ie=setTimeout(()=>{se()&&ne(new Error("timeout"))},ee.timeout));const ae=ee.retryLimit;let fe=0;function ue(){return te().then(function(le){if(le!==void 0)se()&&re(le);else if(ee.oncePoll)ee.oncePoll.once("poll",ue);else if(ee.onceBlock)ee.onceBlock.once("block",ue);else if(!oe){if(fe++,fe>ae){se()&&ne(new Error("retry limit reached"));return}let pe=ee.interval*parseInt(String(Math.random()*Math.pow(2,fe)));pe<ee.floor&&(pe=ee.floor),pe>ee.ceiling&&(pe=ee.ceiling),setTimeout(ue,pe)}return null},function(le){se()&&ne(le)})}ue()})}var ALPHABET="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ALPHABET_MAP={};for(var z=0;z<ALPHABET.length;z++){var x=ALPHABET.charAt(z);if(ALPHABET_MAP[x]!==void 0)throw new TypeError(x+" is ambiguous");ALPHABET_MAP[x]=z}function polymodStep(te){var ee=te>>25;return(te&33554431)<<5^-(ee>>0&1)&996825010^-(ee>>1&1)&642813549^-(ee>>2&1)&513874426^-(ee>>3&1)&1027748829^-(ee>>4&1)&705979059}function prefixChk(te){for(var ee=1,re=0;re<te.length;++re){var ne=te.charCodeAt(re);if(ne<33||ne>126)return"Invalid prefix ("+te+")";ee=polymodStep(ee)^ne>>5}for(ee=polymodStep(ee),re=0;re<te.length;++re){var ie=te.charCodeAt(re);ee=polymodStep(ee)^ie&31}return ee}function encode(te,ee,re){if(re=re||90,te.length+7+ee.length>re)throw new TypeError("Exceeds length limit");te=te.toLowerCase();var ne=prefixChk(te);if(typeof ne=="string")throw new Error(ne);for(var ie=te+"1",oe=0;oe<ee.length;++oe){var se=ee[oe];if(se>>5!==0)throw new Error("Non 5-bit word");ne=polymodStep(ne)^se,ie+=ALPHABET.charAt(se)}for(oe=0;oe<6;++oe)ne=polymodStep(ne);for(ne^=1,oe=0;oe<6;++oe){var ae=ne>>(5-oe)*5&31;ie+=ALPHABET.charAt(ae)}return ie}function __decode(te,ee){if(ee=ee||90,te.length<8)return te+" too short";if(te.length>ee)return"Exceeds length limit";var re=te.toLowerCase(),ne=te.toUpperCase();if(te!==re&&te!==ne)return"Mixed-case string "+te;te=re;var ie=te.lastIndexOf("1");if(ie===-1)return"No separator character for "+te;if(ie===0)return"Missing prefix for "+te;var oe=te.slice(0,ie),se=te.slice(ie+1);if(se.length<6)return"Data too short";var ae=prefixChk(oe);if(typeof ae=="string")return ae;for(var fe=[],ue=0;ue<se.length;++ue){var le=se.charAt(ue),pe=ALPHABET_MAP[le];if(pe===void 0)return"Unknown character "+le;ae=polymodStep(ae)^pe,!(ue+6>=se.length)&&fe.push(pe)}return ae!==1?"Invalid checksum for "+te:{prefix:oe,words:fe}}function decodeUnsafe(){var te=__decode.apply(null,arguments);if(typeof te=="object")return te}function decode$1(te){var ee=__decode.apply(null,arguments);if(typeof ee=="object")return ee;throw new Error(ee)}function convert(te,ee,re,ne){for(var ie=0,oe=0,se=(1<<re)-1,ae=[],fe=0;fe<te.length;++fe)for(ie=ie<<ee|te[fe],oe+=ee;oe>=re;)oe-=re,ae.push(ie>>oe&se);if(ne)oe>0&&ae.push(ie<<re-oe&se);else{if(oe>=ee)return"Excess padding";if(ie<<re-oe&se)return"Non-zero padding"}return ae}function toWordsUnsafe(te){var ee=convert(te,8,5,!0);if(Array.isArray(ee))return ee}function toWords(te){var ee=convert(te,8,5,!0);if(Array.isArray(ee))return ee;throw new Error(ee)}function fromWordsUnsafe(te){var ee=convert(te,5,8,!1);if(Array.isArray(ee))return ee}function fromWords(te){var ee=convert(te,5,8,!1);if(Array.isArray(ee))return ee;throw new Error(ee)}var bech32={decodeUnsafe,decode:decode$1,encode,toWordsUnsafe,toWords,fromWordsUnsafe,fromWords};const version="providers/5.5.1",logger$3=new Logger$g(version);class Formatter{constructor(){logger$3.checkNew(new.target,Formatter),this.formats=this.getDefaultFormats()}getDefaultFormats(){const ee={},re=this.address.bind(this),ne=this.bigNumber.bind(this),ie=this.blockTag.bind(this),oe=this.data.bind(this),se=this.hash.bind(this),ae=this.hex.bind(this),fe=this.number.bind(this),ue=this.type.bind(this),le=pe=>this.data(pe,!0);return ee.transaction={hash:se,type:ue,accessList:Formatter.allowNull(this.accessList.bind(this),null),blockHash:Formatter.allowNull(se,null),blockNumber:Formatter.allowNull(fe,null),transactionIndex:Formatter.allowNull(fe,null),confirmations:Formatter.allowNull(fe,null),from:re,gasPrice:Formatter.allowNull(ne),maxPriorityFeePerGas:Formatter.allowNull(ne),maxFeePerGas:Formatter.allowNull(ne),gasLimit:ne,to:Formatter.allowNull(re,null),value:ne,nonce:fe,data:oe,r:Formatter.allowNull(this.uint256),s:Formatter.allowNull(this.uint256),v:Formatter.allowNull(fe),creates:Formatter.allowNull(re,null),raw:Formatter.allowNull(oe)},ee.transactionRequest={from:Formatter.allowNull(re),nonce:Formatter.allowNull(fe),gasLimit:Formatter.allowNull(ne),gasPrice:Formatter.allowNull(ne),maxPriorityFeePerGas:Formatter.allowNull(ne),maxFeePerGas:Formatter.allowNull(ne),to:Formatter.allowNull(re),value:Formatter.allowNull(ne),data:Formatter.allowNull(le),type:Formatter.allowNull(fe),accessList:Formatter.allowNull(this.accessList.bind(this),null)},ee.receiptLog={transactionIndex:fe,blockNumber:fe,transactionHash:se,address:re,topics:Formatter.arrayOf(se),data:oe,logIndex:fe,blockHash:se},ee.receipt={to:Formatter.allowNull(this.address,null),from:Formatter.allowNull(this.address,null),contractAddress:Formatter.allowNull(re,null),transactionIndex:fe,root:Formatter.allowNull(ae),gasUsed:ne,logsBloom:Formatter.allowNull(oe),blockHash:se,transactionHash:se,logs:Formatter.arrayOf(this.receiptLog.bind(this)),blockNumber:fe,confirmations:Formatter.allowNull(fe,null),cumulativeGasUsed:ne,effectiveGasPrice:Formatter.allowNull(ne),status:Formatter.allowNull(fe),type:ue},ee.block={hash:se,parentHash:se,number:fe,timestamp:fe,nonce:Formatter.allowNull(ae),difficulty:this.difficulty.bind(this),gasLimit:ne,gasUsed:ne,miner:re,extraData:oe,transactions:Formatter.allowNull(Formatter.arrayOf(se)),baseFeePerGas:Formatter.allowNull(ne)},ee.blockWithTransactions=shallowCopy$3(ee.block),ee.blockWithTransactions.transactions=Formatter.allowNull(Formatter.arrayOf(this.transactionResponse.bind(this))),ee.filter={fromBlock:Formatter.allowNull(ie,void 0),toBlock:Formatter.allowNull(ie,void 0),blockHash:Formatter.allowNull(se,void 0),address:Formatter.allowNull(re,void 0),topics:Formatter.allowNull(this.topics.bind(this),void 0)},ee.filterLog={blockNumber:Formatter.allowNull(fe),blockHash:Formatter.allowNull(se),transactionIndex:fe,removed:Formatter.allowNull(this.boolean.bind(this)),address:re,data:Formatter.allowFalsish(oe,"0x"),topics:Formatter.arrayOf(se),transactionHash:se,logIndex:fe},ee}accessList(ee){return accessListify$1(ee||[])}number(ee){return ee==="0x"?0:BigNumber$4.from(ee).toNumber()}type(ee){return ee==="0x"||ee==null?0:BigNumber$4.from(ee).toNumber()}bigNumber(ee){return BigNumber$4.from(ee)}boolean(ee){if(typeof ee=="boolean")return ee;if(typeof ee=="string"){if(ee=ee.toLowerCase(),ee==="true")return!0;if(ee==="false")return!1}throw new Error("invalid boolean - "+ee)}hex(ee,re){return typeof ee=="string"&&(!re&&ee.substring(0,2)!=="0x"&&(ee="0x"+ee),isHexString$j(ee))?ee.toLowerCase():logger$3.throwArgumentError("invalid hash","value",ee)}data(ee,re){const ne=this.hex(ee,re);if(ne.length%2!==0)throw new Error("invalid data; odd-length - "+ee);return ne}address(ee){return getAddress$4(ee)}callAddress(ee){if(!isHexString$j(ee,32))return null;const re=getAddress$4(hexDataSlice$4(ee,12));return re===AddressZero?null:re}contractAddress(ee){return getContractAddress$1(ee)}blockTag(ee){if(ee==null)return"latest";if(ee==="earliest")return"0x0";if(ee==="latest"||ee==="pending")return ee;if(typeof ee=="number"||isHexString$j(ee))return hexValue$1(ee);throw new Error("invalid blockTag")}hash(ee,re){const ne=this.hex(ee,re);return hexDataLength$3(ne)!==32?logger$3.throwArgumentError("invalid hash","value",ee):ne}difficulty(ee){if(ee==null)return null;const re=BigNumber$4.from(ee);try{return re.toNumber()}catch{}return null}uint256(ee){if(!isHexString$j(ee))throw new Error("invalid uint256");return hexZeroPad$5(ee,32)}_block(ee,re){ee.author!=null&&ee.miner==null&&(ee.miner=ee.author);const ne=ee._difficulty!=null?ee._difficulty:ee.difficulty,ie=Formatter.check(re,ee);return ie._difficulty=ne==null?null:BigNumber$4.from(ne),ie}block(ee){return this._block(ee,this.formats.block)}blockWithTransactions(ee){return this._block(ee,this.formats.blockWithTransactions)}transactionRequest(ee){return Formatter.check(this.formats.transactionRequest,ee)}transactionResponse(ee){ee.gas!=null&&ee.gasLimit==null&&(ee.gasLimit=ee.gas),ee.to&&BigNumber$4.from(ee.to).isZero()&&(ee.to="0x0000000000000000000000000000000000000000"),ee.input!=null&&ee.data==null&&(ee.data=ee.input),ee.to==null&&ee.creates==null&&(ee.creates=this.contractAddress(ee)),(ee.type===1||ee.type===2)&&ee.accessList==null&&(ee.accessList=[]);const re=Formatter.check(this.formats.transaction,ee);if(ee.chainId!=null){let ne=ee.chainId;isHexString$j(ne)&&(ne=BigNumber$4.from(ne).toNumber()),re.chainId=ne}else{let ne=ee.networkId;ne==null&&re.v==null&&(ne=ee.chainId),isHexString$j(ne)&&(ne=BigNumber$4.from(ne).toNumber()),typeof ne!="number"&&re.v!=null&&(ne=(re.v-35)/2,ne<0&&(ne=0),ne=parseInt(ne)),typeof ne!="number"&&(ne=0),re.chainId=ne}return re.blockHash&&re.blockHash.replace(/0/g,"")==="x"&&(re.blockHash=null),re}transaction(ee){return parse$3(ee)}receiptLog(ee){return Formatter.check(this.formats.receiptLog,ee)}receipt(ee){const re=Formatter.check(this.formats.receipt,ee);if(re.root!=null)if(re.root.length<=4){const ne=BigNumber$4.from(re.root).toNumber();ne===0||ne===1?(re.status!=null&&re.status!==ne&&logger$3.throwArgumentError("alt-root-status/status mismatch","value",{root:re.root,status:re.status}),re.status=ne,delete re.root):logger$3.throwArgumentError("invalid alt-root-status","value.root",re.root)}else re.root.length!==66&&logger$3.throwArgumentError("invalid root hash","value.root",re.root);return re.status!=null&&(re.byzantium=!0),re}topics(ee){return Array.isArray(ee)?ee.map(re=>this.topics(re)):ee!=null?this.hash(ee,!0):null}filter(ee){return Formatter.check(this.formats.filter,ee)}filterLog(ee){return Formatter.check(this.formats.filterLog,ee)}static check(ee,re){const ne={};for(const ie in ee)try{const oe=ee[ie](re[ie]);oe!==void 0&&(ne[ie]=oe)}catch(oe){throw oe.checkKey=ie,oe.checkValue=re[ie],oe}return ne}static allowNull(ee,re){return function(ne){return ne==null?re:ee(ne)}}static allowFalsish(ee,re){return function(ne){return ne?ee(ne):re}}static arrayOf(ee){return function(re){if(!Array.isArray(re))throw new Error("not an array");const ne=[];return re.forEach(function(ie){ne.push(ee(ie))}),ne}}}var __awaiter$2=globalThis&&globalThis.__awaiter||function(te,ee,re,ne){function ie(oe){return oe instanceof re?oe:new re(function(se){se(oe)})}return new(re||(re=Promise))(function(oe,se){function ae(le){try{ue(ne.next(le))}catch(pe){se(pe)}}function fe(le){try{ue(ne.throw(le))}catch(pe){se(pe)}}function ue(le){le.done?oe(le.value):ie(le.value).then(ae,fe)}ue((ne=ne.apply(te,ee||[])).next())})};const logger$2=new Logger$g(version);function checkTopic(te){return te==null?"null":(hexDataLength$3(te)!==32&&logger$2.throwArgumentError("invalid topic","topic",te),te.toLowerCase())}function serializeTopics(te){for(te=te.slice();te.length>0&&te[te.length-1]==null;)te.pop();return te.map(ee=>{if(Array.isArray(ee)){const re={};ee.forEach(ie=>{re[checkTopic(ie)]=!0});const ne=Object.keys(re);return ne.sort(),ne.join("|")}else return checkTopic(ee)}).join("&")}function deserializeTopics(te){return te===""?[]:te.split(/&/g).map(ee=>{if(ee==="")return[];const re=ee.split("|").map(ne=>ne==="null"?null:ne);return re.length===1?re[0]:re})}function getEventTag(te){if(typeof te=="string"){if(te=te.toLowerCase(),hexDataLength$3(te)===32)return"tx:"+te;if(te.indexOf(":")===-1)return te}else{if(Array.isArray(te))return"filter:*:"+serializeTopics(te);if(ForkEvent.isForkEvent(te))throw logger$2.warn("not implemented"),new Error("not implemented");if(te&&typeof te=="object")return"filter:"+(te.address||"*")+":"+serializeTopics(te.topics||[])}throw new Error("invalid event - "+te)}function getTime(){return new Date().getTime()}function stall(te){return new Promise(ee=>{setTimeout(ee,te)})}const PollableEvents=["block","network","pending","poll"];class Event{constructor(ee,re,ne){defineReadOnly$6(this,"tag",ee),defineReadOnly$6(this,"listener",re),defineReadOnly$6(this,"once",ne)}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const ee=this.tag.split(":");return ee[0]!=="tx"?null:ee[1]}get filter(){const ee=this.tag.split(":");if(ee[0]!=="filter")return null;const re=ee[1],ne=deserializeTopics(ee[2]),ie={};return ne.length>0&&(ie.topics=ne),re&&re!=="*"&&(ie.address=re),ie}pollable(){return this.tag.indexOf(":")>=0||PollableEvents.indexOf(this.tag)>=0}}const coinInfos={"0":{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},"2":{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},"3":{symbol:"doge",p2pkh:30,p2sh:22},"60":{symbol:"eth",ilk:"eth"},"61":{symbol:"etc",ilk:"eth"},"700":{symbol:"xdai",ilk:"eth"}};function bytes32ify(te){return hexZeroPad$5(BigNumber$4.from(te).toHexString(),32)}function base58Encode(te){return Base58.encode(concat$7([te,hexDataSlice$4(sha256$4(sha256$4(te)),0,4)]))}const matchers=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),new RegExp("^(ipfs)://(.*)$","i"),new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function _parseString(te){try{return toUtf8String$2(_parseBytes(te))}catch{}return null}function _parseBytes(te){if(te==="0x")return null;const ee=BigNumber$4.from(hexDataSlice$4(te,0,32)).toNumber(),re=BigNumber$4.from(hexDataSlice$4(te,ee,ee+32)).toNumber();return hexDataSlice$4(te,ee+32,ee+32+re)}class Resolver{constructor(ee,re,ne,ie){defineReadOnly$6(this,"provider",ee),defineReadOnly$6(this,"name",ne),defineReadOnly$6(this,"address",ee.formatter.address(re)),defineReadOnly$6(this,"_resolvedAddress",ie)}_fetchBytes(ee,re){return __awaiter$2(this,void 0,void 0,function*(){const ne={to:this.address,data:hexConcat$3([ee,namehash$1(this.name),re||"0x"])};try{return _parseBytes(yield this.provider.call(ne))}catch(ie){return ie.code===Logger$g.errors.CALL_EXCEPTION,null}})}_getAddress(ee,re){const ne=coinInfos[String(ee)];if(ne==null&&logger$2.throwError(`unsupported coin type: ${ee}`,Logger$g.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${ee})`}),ne.ilk==="eth")return this.provider.formatter.address(re);const ie=arrayify$e(re);if(ne.p2pkh!=null){const oe=re.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(oe){const se=parseInt(oe[1],16);if(oe[2].length===se*2&&se>=1&&se<=75)return base58Encode(concat$7([[ne.p2pkh],"0x"+oe[2]]))}}if(ne.p2sh!=null){const oe=re.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(oe){const se=parseInt(oe[1],16);if(oe[2].length===se*2&&se>=1&&se<=75)return base58Encode(concat$7([[ne.p2sh],"0x"+oe[2]]))}}if(ne.prefix!=null){const oe=ie[1];let se=ie[0];if(se===0?oe!==20&&oe!==32&&(se=-1):se=-1,se>=0&&ie.length===2+oe&&oe>=1&&oe<=75){const ae=bech32.toWords(ie.slice(2));return ae.unshift(se),bech32.encode(ne.prefix,ae)}}return null}getAddress(ee){return __awaiter$2(this,void 0,void 0,function*(){if(ee==null&&(ee=60),ee===60)try{const ie={to:this.address,data:"0x3b3b57de"+namehash$1(this.name).substring(2)},oe=yield this.provider.call(ie);return oe==="0x"||oe===HashZero$1?null:this.provider.formatter.callAddress(oe)}catch(ie){if(ie.code===Logger$g.errors.CALL_EXCEPTION)return null;throw ie}const re=yield this._fetchBytes("0xf1cb7e06",bytes32ify(ee));if(re==null||re==="0x")return null;const ne=this._getAddress(ee,re);return ne==null&&logger$2.throwError("invalid or unsupported coin data",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${ee})`,coinType:ee,data:re}),ne})}getAvatar(){return __awaiter$2(this,void 0,void 0,function*(){const ee=[];try{const re=yield this.getText("avatar");if(re==null)return null;for(let ne=0;ne<matchers.length;ne++){const ie=re.match(matchers[ne]);if(ie!=null)switch(ie[1]){case"https":return ee.push({type:"url",content:re}),{linkage:ee,url:re};case"data":return ee.push({type:"data",content:re}),{linkage:ee,url:re};case"ipfs":return ee.push({type:"ipfs",content:re}),{linkage:ee,url:`https://gateway.ipfs.io/ipfs/${re.substring(7)}`};case"erc721":case"erc1155":{const oe=ie[1]==="erc721"?"0xc87b56dd":"0x0e89341c";ee.push({type:ie[1],content:re});const se=this._resolvedAddress||(yield this.getAddress()),ae=(ie[2]||"").split("/");if(ae.length!==2)return null;const fe=yield this.provider.formatter.address(ae[0]),ue=hexZeroPad$5(BigNumber$4.from(ae[1]).toHexString(),32);if(ie[1]==="erc721"){const cr=this.provider.formatter.callAddress(yield this.provider.call({to:fe,data:hexConcat$3(["0x6352211e",ue])}));if(se!==cr)return null;ee.push({type:"owner",content:cr})}else if(ie[1]==="erc1155"){const cr=BigNumber$4.from(yield this.provider.call({to:fe,data:hexConcat$3(["0x00fdd58e",hexZeroPad$5(se,32),ue])}));if(cr.isZero())return null;ee.push({type:"balance",content:cr.toString()})}const le={to:this.provider.formatter.address(ae[0]),data:hexConcat$3([oe,ue])};let pe=_parseString(yield this.provider.call(le));if(pe==null)return null;ee.push({type:"metadata-url",content:pe}),ie[1]==="erc1155"&&(pe=pe.replace("{id}",ue.substring(2)));const rr=yield fetchJson(pe);return!rr||typeof rr.image!="string"||!rr.image.match(/^(https:\/\/|data:)/i)?null:(ee.push({type:"metadata",content:JSON.stringify(rr)}),ee.push({type:"url",content:rr.image}),{linkage:ee,url:rr.image})}}}}catch{}return null})}getContentHash(){return __awaiter$2(this,void 0,void 0,function*(){const ee=yield this._fetchBytes("0xbc1c58d1");if(ee==null||ee==="0x")return null;const re=ee.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(re){const ie=parseInt(re[3],16);if(re[4].length===ie*2)return"ipfs://"+Base58.encode("0x"+re[1])}const ne=ee.match(/^0xe40101fa011b20([0-9a-f]*)$/);return ne&&ne[1].length===32*2?"bzz://"+ne[1]:logger$2.throwError("invalid or unsupported content hash data",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:ee})})}getText(ee){return __awaiter$2(this,void 0,void 0,function*(){let re=toUtf8Bytes$4(ee);re=concat$7([bytes32ify(64),bytes32ify(re.length),re]),re.length%32!==0&&(re=concat$7([re,hexZeroPad$5("0x",32-ee.length%32)]));const ne=yield this._fetchBytes("0x59d1d43c",hexlify$9(re));return ne==null||ne==="0x"?null:toUtf8String$2(ne)})}}let defaultFormatter=null,nextPollId=1;class BaseProvider extends Provider{constructor(ee){logger$2.checkNew(new.target,Provider);super();if(this._events=[],this._emitted={block:-2},this.formatter=new.target.getFormatter(),defineReadOnly$6(this,"anyNetwork",ee==="any"),this.anyNetwork&&(ee=this.detectNetwork()),ee instanceof Promise)this._networkPromise=ee,ee.catch(re=>{}),this._ready().catch(re=>{});else{const re=getStatic$1(new.target,"getNetwork")(ee);re?(defineReadOnly$6(this,"_network",re),this.emit("network",re,null)):logger$2.throwArgumentError("invalid network","network",ee)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return __awaiter$2(this,void 0,void 0,function*(){if(this._network==null){let ee=null;if(this._networkPromise)try{ee=yield this._networkPromise}catch{}ee==null&&(ee=yield this.detectNetwork()),ee||logger$2.throwError("no network detected",Logger$g.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=ee:defineReadOnly$6(this,"_network",ee),this.emit("network",ee,null))}return this._network})}get ready(){return poll(()=>this._ready().then(ee=>ee,ee=>{if(!(ee.code===Logger$g.errors.NETWORK_ERROR&&ee.event==="noNetwork"))throw ee}))}static getFormatter(){return defaultFormatter==null&&(defaultFormatter=new Formatter),defaultFormatter}static getNetwork(ee){return getNetwork(ee==null?"homestead":ee)}_getInternalBlockNumber(ee){return __awaiter$2(this,void 0,void 0,function*(){if(yield this._ready(),ee>0)for(;this._internalBlockNumber;){const ie=this._internalBlockNumber;try{const oe=yield ie;if(getTime()-oe.respTime<=ee)return oe.blockNumber;break}catch{if(this._internalBlockNumber===ie)break}}const re=getTime(),ne=resolveProperties$1({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(ie=>null,ie=>ie)}).then(({blockNumber:ie,networkError:oe})=>{if(oe)throw this._internalBlockNumber===ne&&(this._internalBlockNumber=null),oe;const se=getTime();return ie=BigNumber$4.from(ie).toNumber(),ie<this._maxInternalBlockNumber&&(ie=this._maxInternalBlockNumber),this._maxInternalBlockNumber=ie,this._setFastBlockNumber(ie),{blockNumber:ie,reqTime:re,respTime:se}});return this._internalBlockNumber=ne,ne.catch(ie=>{this._internalBlockNumber===ne&&(this._internalBlockNumber=null)}),(yield ne).blockNumber})}poll(){return __awaiter$2(this,void 0,void 0,function*(){const ee=nextPollId++,re=[];let ne=null;try{ne=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(ie){this.emit("error",ie);return}if(this._setFastBlockNumber(ne),this.emit("poll",ee,ne),ne===this._lastBlockNumber){this.emit("didPoll",ee);return}if(this._emitted.block===-2&&(this._emitted.block=ne-1),Math.abs(this._emitted.block-ne)>1e3)logger$2.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${ne})`),this.emit("error",logger$2.makeError("network block skew detected",Logger$g.errors.NETWORK_ERROR,{blockNumber:ne,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",ne);else for(let ie=this._emitted.block+1;ie<=ne;ie++)this.emit("block",ie);this._emitted.block!==ne&&(this._emitted.block=ne,Object.keys(this._emitted).forEach(ie=>{if(ie==="block")return;const oe=this._emitted[ie];oe!=="pending"&&ne-oe>12&&delete this._emitted[ie]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=ne-1),this._events.forEach(ie=>{switch(ie.type){case"tx":{const oe=ie.hash;let se=this.getTransactionReceipt(oe).then(ae=>(!ae||ae.blockNumber==null||(this._emitted["t:"+oe]=ae.blockNumber,this.emit(oe,ae)),null)).catch(ae=>{this.emit("error",ae)});re.push(se);break}case"filter":{const oe=ie.filter;oe.fromBlock=this._lastBlockNumber+1,oe.toBlock=ne;const se=this.getLogs(oe).then(ae=>{ae.length!==0&&ae.forEach(fe=>{this._emitted["b:"+fe.blockHash]=fe.blockNumber,this._emitted["t:"+fe.transactionHash]=fe.blockNumber,this.emit(oe,fe)})}).catch(ae=>{this.emit("error",ae)});re.push(se);break}}}),this._lastBlockNumber=ne,Promise.all(re).then(()=>{this.emit("didPoll",ee)}).catch(ie=>{this.emit("error",ie)})})}resetEventsBlock(ee){this._lastBlockNumber=ee-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return __awaiter$2(this,void 0,void 0,function*(){return logger$2.throwError("provider does not support network detection",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return __awaiter$2(this,void 0,void 0,function*(){const ee=yield this._ready(),re=yield this.detectNetwork();if(ee.chainId!==re.chainId){if(this.anyNetwork)return this._network=re,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",re,ee),yield stall(0),this._network;const ne=logger$2.makeError("underlying network changed",Logger$g.errors.NETWORK_ERROR,{event:"changed",network:ee,detectedNetwork:re});throw this.emit("error",ne),ne}return ee})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(ee=>{this._setFastBlockNumber(ee)},ee=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(ee){ee&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!ee&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(ee){if(typeof ee!="number"||ee<=0||parseInt(String(ee))!=ee)throw new Error("invalid polling interval");this._pollingInterval=ee,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const ee=getTime();return ee-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=ee,this._fastBlockNumberPromise=this.getBlockNumber().then(re=>((this._fastBlockNumber==null||re>this._fastBlockNumber)&&(this._fastBlockNumber=re),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(ee){this._fastBlockNumber!=null&&ee<this._fastBlockNumber||(this._fastQueryDate=getTime(),(this._fastBlockNumber==null||ee>this._fastBlockNumber)&&(this._fastBlockNumber=ee,this._fastBlockNumberPromise=Promise.resolve(ee)))}waitForTransaction(ee,re,ne){return __awaiter$2(this,void 0,void 0,function*(){return this._waitForTransaction(ee,re==null?1:re,ne||0,null)})}_waitForTransaction(ee,re,ne,ie){return __awaiter$2(this,void 0,void 0,function*(){const oe=yield this.getTransactionReceipt(ee);return(oe?oe.confirmations:0)>=re?oe:new Promise((se,ae)=>{const fe=[];let ue=!1;const le=function(){return ue?!0:(ue=!0,fe.forEach(rr=>{rr()}),!1)},pe=rr=>{rr.confirmations<re||le()||se(rr)};if(this.on(ee,pe),fe.push(()=>{this.removeListener(ee,pe)}),ie){let rr=ie.startBlock,cr=null;const ar=mr=>__awaiter$2(this,void 0,void 0,function*(){ue||(yield stall(1e3),this.getTransactionCount(ie.from).then(pr=>__awaiter$2(this,void 0,void 0,function*(){if(!ue){if(pr<=ie.nonce)rr=mr;else{{const yr=yield this.getTransaction(ee);if(yr&&yr.blockNumber!=null)return}for(cr==null&&(cr=rr-3,cr<ie.startBlock&&(cr=ie.startBlock));cr<=mr;){if(ue)return;const yr=yield this.getBlockWithTransactions(cr);for(let vr=0;vr<yr.transactions.length;vr++){const Er=yr.transactions[vr];if(Er.hash===ee)return;if(Er.from===ie.from&&Er.nonce===ie.nonce){if(ue)return;const Tr=yield this.waitForTransaction(Er.hash,re);if(le())return;let Ir="replaced";Er.data===ie.data&&Er.to===ie.to&&Er.value.eq(ie.value)?Ir="repriced":Er.data==="0x"&&Er.from===Er.to&&Er.value.isZero()&&(Ir="cancelled"),ae(logger$2.makeError("transaction was replaced",Logger$g.errors.TRANSACTION_REPLACED,{cancelled:Ir==="replaced"||Ir==="cancelled",reason:Ir,replacement:this._wrapTransaction(Er),hash:ee,receipt:Tr}));return}}cr++}}ue||this.once("block",ar)}}),pr=>{ue||this.once("block",ar)}))});if(ue)return;this.once("block",ar),fe.push(()=>{this.removeListener("block",ar)})}if(typeof ne=="number"&&ne>0){const rr=setTimeout(()=>{le()||ae(logger$2.makeError("timeout exceeded",Logger$g.errors.TIMEOUT,{timeout:ne}))},ne);rr.unref&&rr.unref(),fe.push(()=>{clearTimeout(rr)})}})})}getBlockNumber(){return __awaiter$2(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return __awaiter$2(this,void 0,void 0,function*(){yield this.getNetwork();const ee=yield this.perform("getGasPrice",{});try{return BigNumber$4.from(ee)}catch(re){return logger$2.throwError("bad result from backend",Logger$g.errors.SERVER_ERROR,{method:"getGasPrice",result:ee,error:re})}})}getBalance(ee,re){return __awaiter$2(this,void 0,void 0,function*(){yield this.getNetwork();const ne=yield resolveProperties$1({address:this._getAddress(ee),blockTag:this._getBlockTag(re)}),ie=yield this.perform("getBalance",ne);try{return BigNumber$4.from(ie)}catch(oe){return logger$2.throwError("bad result from backend",Logger$g.errors.SERVER_ERROR,{method:"getBalance",params:ne,result:ie,error:oe})}})}getTransactionCount(ee,re){return __awaiter$2(this,void 0,void 0,function*(){yield this.getNetwork();const ne=yield resolveProperties$1({address:this._getAddress(ee),blockTag:this._getBlockTag(re)}),ie=yield this.perform("getTransactionCount",ne);try{return BigNumber$4.from(ie).toNumber()}catch(oe){return logger$2.throwError("bad result from backend",Logger$g.errors.SERVER_ERROR,{method:"getTransactionCount",params:ne,result:ie,error:oe})}})}getCode(ee,re){return __awaiter$2(this,void 0,void 0,function*(){yield this.getNetwork();const ne=yield resolveProperties$1({address:this._getAddress(ee),blockTag:this._getBlockTag(re)}),ie=yield this.perform("getCode",ne);try{return hexlify$9(ie)}catch(oe){return logger$2.throwError("bad result from backend",Logger$g.errors.SERVER_ERROR,{method:"getCode",params:ne,result:ie,error:oe})}})}getStorageAt(ee,re,ne){return __awaiter$2(this,void 0,void 0,function*(){yield this.getNetwork();const ie=yield resolveProperties$1({address:this._getAddress(ee),blockTag:this._getBlockTag(ne),position:Promise.resolve(re).then(se=>hexValue$1(se))}),oe=yield this.perform("getStorageAt",ie);try{return hexlify$9(oe)}catch(se){return logger$2.throwError("bad result from backend",Logger$g.errors.SERVER_ERROR,{method:"getStorageAt",params:ie,result:oe,error:se})}})}_wrapTransaction(ee,re,ne){if(re!=null&&hexDataLength$3(re)!==32)throw new Error("invalid response - sendTransaction");const ie=ee;return re!=null&&ee.hash!==re&&logger$2.throwError("Transaction hash mismatch from Provider.sendTransaction.",Logger$g.errors.UNKNOWN_ERROR,{expectedHash:ee.hash,returnedHash:re}),ie.wait=(oe,se)=>__awaiter$2(this,void 0,void 0,function*(){oe==null&&(oe=1),se==null&&(se=0);let ae;oe!==0&&ne!=null&&(ae={data:ee.data,from:ee.from,nonce:ee.nonce,to:ee.to,value:ee.value,startBlock:ne});const fe=yield this._waitForTransaction(ee.hash,oe,se,ae);return fe==null&&oe===0?null:(this._emitted["t:"+ee.hash]=fe.blockNumber,fe.status===0&&logger$2.throwError("transaction failed",Logger$g.errors.CALL_EXCEPTION,{transactionHash:ee.hash,transaction:ee,receipt:fe}),fe)}),ie}sendTransaction(ee){return __awaiter$2(this,void 0,void 0,function*(){yield this.getNetwork();const re=yield Promise.resolve(ee).then(oe=>hexlify$9(oe)),ne=this.formatter.transaction(ee);ne.confirmations==null&&(ne.confirmations=0);const ie=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const oe=yield this.perform("sendTransaction",{signedTransaction:re});return this._wrapTransaction(ne,oe,ie)}catch(oe){throw oe.transaction=ne,oe.transactionHash=ne.hash,oe}})}_getTransactionRequest(ee){return __awaiter$2(this,void 0,void 0,function*(){const re=yield ee,ne={};return["from","to"].forEach(ie=>{re[ie]!=null&&(ne[ie]=Promise.resolve(re[ie]).then(oe=>oe?this._getAddress(oe):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(ie=>{re[ie]!=null&&(ne[ie]=Promise.resolve(re[ie]).then(oe=>oe?BigNumber$4.from(oe):null))}),["type"].forEach(ie=>{re[ie]!=null&&(ne[ie]=Promise.resolve(re[ie]).then(oe=>oe!=null?oe:null))}),re.accessList&&(ne.accessList=this.formatter.accessList(re.accessList)),["data"].forEach(ie=>{re[ie]!=null&&(ne[ie]=Promise.resolve(re[ie]).then(oe=>oe?hexlify$9(oe):null))}),this.formatter.transactionRequest(yield resolveProperties$1(ne))})}_getFilter(ee){return __awaiter$2(this,void 0,void 0,function*(){ee=yield ee;const re={};return ee.address!=null&&(re.address=this._getAddress(ee.address)),["blockHash","topics"].forEach(ne=>{ee[ne]!=null&&(re[ne]=ee[ne])}),["fromBlock","toBlock"].forEach(ne=>{ee[ne]!=null&&(re[ne]=this._getBlockTag(ee[ne]))}),this.formatter.filter(yield resolveProperties$1(re))})}call(ee,re){return __awaiter$2(this,void 0,void 0,function*(){yield this.getNetwork();const ne=yield resolveProperties$1({transaction:this._getTransactionRequest(ee),blockTag:this._getBlockTag(re)}),ie=yield this.perform("call",ne);try{return hexlify$9(ie)}catch(oe){return logger$2.throwError("bad result from backend",Logger$g.errors.SERVER_ERROR,{method:"call",params:ne,result:ie,error:oe})}})}estimateGas(ee){return __awaiter$2(this,void 0,void 0,function*(){yield this.getNetwork();const re=yield resolveProperties$1({transaction:this._getTransactionRequest(ee)}),ne=yield this.perform("estimateGas",re);try{return BigNumber$4.from(ne)}catch(ie){return logger$2.throwError("bad result from backend",Logger$g.errors.SERVER_ERROR,{method:"estimateGas",params:re,result:ne,error:ie})}})}_getAddress(ee){return __awaiter$2(this,void 0,void 0,function*(){ee=yield ee,typeof ee!="string"&&logger$2.throwArgumentError("invalid address or ENS name","name",ee);const re=yield this.resolveName(ee);return re==null&&logger$2.throwError("ENS name not configured",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(ee)})`}),re})}_getBlock(ee,re){return __awaiter$2(this,void 0,void 0,function*(){yield this.getNetwork(),ee=yield ee;let ne=-128;const ie={includeTransactions:!!re};if(isHexString$j(ee,32))ie.blockHash=ee;else try{ie.blockTag=yield this._getBlockTag(ee),isHexString$j(ie.blockTag)&&(ne=parseInt(ie.blockTag.substring(2),16))}catch{logger$2.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",ee)}return poll(()=>__awaiter$2(this,void 0,void 0,function*(){const oe=yield this.perform("getBlock",ie);if(oe==null)return ie.blockHash!=null&&this._emitted["b:"+ie.blockHash]==null||ie.blockTag!=null&&ne>this._emitted.block?null:void 0;if(re){let se=null;for(let fe=0;fe<oe.transactions.length;fe++){const ue=oe.transactions[fe];if(ue.blockNumber==null)ue.confirmations=0;else if(ue.confirmations==null){se==null&&(se=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let le=se-ue.blockNumber+1;le<=0&&(le=1),ue.confirmations=le}}const ae=this.formatter.blockWithTransactions(oe);return ae.transactions=ae.transactions.map(fe=>this._wrapTransaction(fe)),ae}return this.formatter.block(oe)}),{oncePoll:this})})}getBlock(ee){return this._getBlock(ee,!1)}getBlockWithTransactions(ee){return this._getBlock(ee,!0)}getTransaction(ee){return __awaiter$2(this,void 0,void 0,function*(){yield this.getNetwork(),ee=yield ee;const re={transactionHash:this.formatter.hash(ee,!0)};return poll(()=>__awaiter$2(this,void 0,void 0,function*(){const ne=yield this.perform("getTransaction",re);if(ne==null)return this._emitted["t:"+ee]==null?null:void 0;const ie=this.formatter.transactionResponse(ne);if(ie.blockNumber==null)ie.confirmations=0;else if(ie.confirmations==null){let se=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-ie.blockNumber+1;se<=0&&(se=1),ie.confirmations=se}return this._wrapTransaction(ie)}),{oncePoll:this})})}getTransactionReceipt(ee){return __awaiter$2(this,void 0,void 0,function*(){yield this.getNetwork(),ee=yield ee;const re={transactionHash:this.formatter.hash(ee,!0)};return poll(()=>__awaiter$2(this,void 0,void 0,function*(){const ne=yield this.perform("getTransactionReceipt",re);if(ne==null)return this._emitted["t:"+ee]==null?null:void 0;if(ne.blockHash==null)return;const ie=this.formatter.receipt(ne);if(ie.blockNumber==null)ie.confirmations=0;else if(ie.confirmations==null){let se=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-ie.blockNumber+1;se<=0&&(se=1),ie.confirmations=se}return ie}),{oncePoll:this})})}getLogs(ee){return __awaiter$2(this,void 0,void 0,function*(){yield this.getNetwork();const re=yield resolveProperties$1({filter:this._getFilter(ee)}),ne=yield this.perform("getLogs",re);return ne.forEach(ie=>{ie.removed==null&&(ie.removed=!1)}),Formatter.arrayOf(this.formatter.filterLog.bind(this.formatter))(ne)})}getEtherPrice(){return __awaiter$2(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(ee){return __awaiter$2(this,void 0,void 0,function*(){if(ee=yield ee,typeof ee=="number"&&ee<0){ee%1&&logger$2.throwArgumentError("invalid BlockTag","blockTag",ee);let re=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return re+=ee,re<0&&(re=0),this.formatter.blockTag(re)}return this.formatter.blockTag(ee)})}getResolver(ee){return __awaiter$2(this,void 0,void 0,function*(){try{const re=yield this._getResolver(ee);return re==null?null:new Resolver(this,re,ee)}catch(re){return re.code===Logger$g.errors.CALL_EXCEPTION,null}})}_getResolver(ee){return __awaiter$2(this,void 0,void 0,function*(){const re=yield this.getNetwork();re.ensAddress||logger$2.throwError("network does not support ENS",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"ENS",network:re.name});const ne={to:re.ensAddress,data:"0x0178b8bf"+namehash$1(ee).substring(2)};try{return this.formatter.callAddress(yield this.call(ne))}catch(ie){if(ie.code===Logger$g.errors.CALL_EXCEPTION)return null;throw ie}})}resolveName(ee){return __awaiter$2(this,void 0,void 0,function*(){ee=yield ee;try{return Promise.resolve(this.formatter.address(ee))}catch(ne){if(isHexString$j(ee))throw ne}typeof ee!="string"&&logger$2.throwArgumentError("invalid ENS name","name",ee);const re=yield this.getResolver(ee);return re?yield re.getAddress():null})}lookupAddress(ee){return __awaiter$2(this,void 0,void 0,function*(){ee=yield ee,ee=this.formatter.address(ee);const re=ee.substring(2).toLowerCase()+".addr.reverse",ne=yield this._getResolver(re);if(!ne)return null;let ie=arrayify$e(yield this.call({to:ne,data:"0x691f3431"+namehash$1(re).substring(2)}));if(ie.length<32||!BigNumber$4.from(ie.slice(0,32)).eq(32)||(ie=ie.slice(32),ie.length<32))return null;const oe=BigNumber$4.from(ie.slice(0,32)).toNumber();if(ie=ie.slice(32),oe>ie.length)return null;const se=toUtf8String$2(ie.slice(0,oe));return(yield this.resolveName(se))!=ee?null:se})}getAvatar(ee){return __awaiter$2(this,void 0,void 0,function*(){let re=null;if(isHexString$j(ee)){const ie=this.formatter.address(ee),oe=ie.substring(2).toLowerCase()+".addr.reverse",se=yield this._getResolver(oe);if(!se)return null;re=new Resolver(this,se,"_",ie)}else if(re=yield this.getResolver(ee),!re)return null;const ne=yield re.getAvatar();return ne==null?null:ne.url})}perform(ee,re){return logger$2.throwError(ee+" not implemented",Logger$g.errors.NOT_IMPLEMENTED,{operation:ee})}_startEvent(ee){this.polling=this._events.filter(re=>re.pollable()).length>0}_stopEvent(ee){this.polling=this._events.filter(re=>re.pollable()).length>0}_addEventListener(ee,re,ne){const ie=new Event(getEventTag(ee),re,ne);return this._events.push(ie),this._startEvent(ie),this}on(ee,re){return this._addEventListener(ee,re,!1)}once(ee,re){return this._addEventListener(ee,re,!0)}emit(ee,...re){let ne=!1,ie=[],oe=getEventTag(ee);return this._events=this._events.filter(se=>se.tag!==oe?!0:(setTimeout(()=>{se.listener.apply(this,re)},0),ne=!0,se.once?(ie.push(se),!1):!0)),ie.forEach(se=>{this._stopEvent(se)}),ne}listenerCount(ee){if(!ee)return this._events.length;let re=getEventTag(ee);return this._events.filter(ne=>ne.tag===re).length}listeners(ee){if(ee==null)return this._events.map(ne=>ne.listener);let re=getEventTag(ee);return this._events.filter(ne=>ne.tag===re).map(ne=>ne.listener)}off(ee,re){if(re==null)return this.removeAllListeners(ee);const ne=[];let ie=!1,oe=getEventTag(ee);return this._events=this._events.filter(se=>se.tag!==oe||se.listener!=re||ie?!0:(ie=!0,ne.push(se),!1)),ne.forEach(se=>{this._stopEvent(se)}),this}removeAllListeners(ee){let re=[];if(ee==null)re=this._events,this._events=[];else{const ne=getEventTag(ee);this._events=this._events.filter(ie=>ie.tag!==ne?!0:(re.push(ie),!1))}return re.forEach(ne=>{this._stopEvent(ne)}),this}}var __awaiter$1=globalThis&&globalThis.__awaiter||function(te,ee,re,ne){function ie(oe){return oe instanceof re?oe:new re(function(se){se(oe)})}return new(re||(re=Promise))(function(oe,se){function ae(le){try{ue(ne.next(le))}catch(pe){se(pe)}}function fe(le){try{ue(ne.throw(le))}catch(pe){se(pe)}}function ue(le){le.done?oe(le.value):ie(le.value).then(ae,fe)}ue((ne=ne.apply(te,ee||[])).next())})};const logger$1=new Logger$g(version),errorGas=["call","estimateGas"];function checkError(te,ee,re){if(te==="call"&&ee.code===Logger$g.errors.SERVER_ERROR){const oe=ee.error;if(oe&&oe.message.match("reverted")&&isHexString$j(oe.data))return oe.data;logger$1.throwError("missing revert data in call exception",Logger$g.errors.CALL_EXCEPTION,{error:ee,data:"0x"})}let ne=ee.message;ee.code===Logger$g.errors.SERVER_ERROR&&ee.error&&typeof ee.error.message=="string"?ne=ee.error.message:typeof ee.body=="string"?ne=ee.body:typeof ee.responseText=="string"&&(ne=ee.responseText),ne=(ne||"").toLowerCase();const ie=re.transaction||re.signedTransaction;throw ne.match(/insufficient funds|base fee exceeds gas limit/)&&logger$1.throwError("insufficient funds for intrinsic transaction cost",Logger$g.errors.INSUFFICIENT_FUNDS,{error:ee,method:te,transaction:ie}),ne.match(/nonce too low/)&&logger$1.throwError("nonce has already been used",Logger$g.errors.NONCE_EXPIRED,{error:ee,method:te,transaction:ie}),ne.match(/replacement transaction underpriced/)&&logger$1.throwError("replacement fee too low",Logger$g.errors.REPLACEMENT_UNDERPRICED,{error:ee,method:te,transaction:ie}),ne.match(/only replay-protected/)&&logger$1.throwError("legacy pre-eip-155 transactions not supported",Logger$g.errors.UNSUPPORTED_OPERATION,{error:ee,method:te,transaction:ie}),errorGas.indexOf(te)>=0&&ne.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&logger$1.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger$g.errors.UNPREDICTABLE_GAS_LIMIT,{error:ee,method:te,transaction:ie}),ee}function timer(te){return new Promise(function(ee){setTimeout(ee,te)})}function getResult(te){if(te.error){const ee=new Error(te.error.message);throw ee.code=te.error.code,ee.data=te.error.data,ee}return te.result}function getLowerCase(te){return te&&te.toLowerCase()}const _constructorGuard={};class JsonRpcSigner extends Signer{constructor(ee,re,ne){logger$1.checkNew(new.target,JsonRpcSigner);super();if(ee!==_constructorGuard)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");defineReadOnly$6(this,"provider",re),ne==null&&(ne=0),typeof ne=="string"?(defineReadOnly$6(this,"_address",this.provider.formatter.address(ne)),defineReadOnly$6(this,"_index",null)):typeof ne=="number"?(defineReadOnly$6(this,"_index",ne),defineReadOnly$6(this,"_address",null)):logger$1.throwArgumentError("invalid address or index","addressOrIndex",ne)}connect(ee){return logger$1.throwError("cannot alter JSON-RPC Signer connection",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new UncheckedJsonRpcSigner(_constructorGuard,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(ee=>(ee.length<=this._index&&logger$1.throwError("unknown account #"+this._index,Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(ee[this._index])))}sendUncheckedTransaction(ee){ee=shallowCopy$3(ee);const re=this.getAddress().then(ne=>(ne&&(ne=ne.toLowerCase()),ne));if(ee.gasLimit==null){const ne=shallowCopy$3(ee);ne.from=re,ee.gasLimit=this.provider.estimateGas(ne)}return ee.to!=null&&(ee.to=Promise.resolve(ee.to).then(ne=>__awaiter$1(this,void 0,void 0,function*(){if(ne==null)return null;const ie=yield this.provider.resolveName(ne);return ie==null&&logger$1.throwArgumentError("provided ENS name resolves to null","tx.to",ne),ie}))),resolveProperties$1({tx:resolveProperties$1(ee),sender:re}).then(({tx:ne,sender:ie})=>{ne.from!=null?ne.from.toLowerCase()!==ie&&logger$1.throwArgumentError("from address mismatch","transaction",ee):ne.from=ie;const oe=this.provider.constructor.hexlifyTransaction(ne,{from:!0});return this.provider.send("eth_sendTransaction",[oe]).then(se=>se,se=>checkError("sendTransaction",se,oe))})}signTransaction(ee){return logger$1.throwError("signing transactions is unsupported",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(ee){return __awaiter$1(this,void 0,void 0,function*(){const re=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),ne=yield this.sendUncheckedTransaction(ee);try{return yield poll(()=>__awaiter$1(this,void 0,void 0,function*(){const ie=yield this.provider.getTransaction(ne);if(ie!==null)return this.provider._wrapTransaction(ie,ne,re)}),{oncePoll:this.provider})}catch(ie){throw ie.transactionHash=ne,ie}})}signMessage(ee){return __awaiter$1(this,void 0,void 0,function*(){const re=typeof ee=="string"?toUtf8Bytes$4(ee):ee,ne=yield this.getAddress();return yield this.provider.send("personal_sign",[hexlify$9(re),ne.toLowerCase()])})}_legacySignMessage(ee){return __awaiter$1(this,void 0,void 0,function*(){const re=typeof ee=="string"?toUtf8Bytes$4(ee):ee,ne=yield this.getAddress();return yield this.provider.send("eth_sign",[ne.toLowerCase(),hexlify$9(re)])})}_signTypedData(ee,re,ne){return __awaiter$1(this,void 0,void 0,function*(){const ie=yield TypedDataEncoder$1.resolveNames(ee,re,ne,se=>this.provider.resolveName(se)),oe=yield this.getAddress();return yield this.provider.send("eth_signTypedData_v4",[oe.toLowerCase(),JSON.stringify(TypedDataEncoder$1.getPayload(ie.domain,re,ie.value))])})}unlock(ee){return __awaiter$1(this,void 0,void 0,function*(){const re=this.provider,ne=yield this.getAddress();return re.send("personal_unlockAccount",[ne.toLowerCase(),ee,null])})}}class UncheckedJsonRpcSigner extends JsonRpcSigner{sendTransaction(ee){return this.sendUncheckedTransaction(ee).then(re=>({hash:re,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:ne=>this.provider.waitForTransaction(re,ne)}))}}const allowedTransactionKeys={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class JsonRpcProvider extends BaseProvider{constructor(ee,re){logger$1.checkNew(new.target,JsonRpcProvider);let ne=re;ne==null&&(ne=new Promise((ie,oe)=>{setTimeout(()=>{this.detectNetwork().then(se=>{ie(se)},se=>{oe(se)})},0)}));super(ne);ee||(ee=getStatic$1(this.constructor,"defaultUrl")()),typeof ee=="string"?defineReadOnly$6(this,"connection",Object.freeze({url:ee})):defineReadOnly$6(this,"connection",Object.freeze(shallowCopy$3(ee))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return __awaiter$1(this,void 0,void 0,function*(){yield timer(0);let ee=null;try{ee=yield this.send("eth_chainId",[])}catch{try{ee=yield this.send("net_version",[])}catch{}}if(ee!=null){const re=getStatic$1(this.constructor,"getNetwork");try{return re(BigNumber$4.from(ee).toNumber())}catch(ne){return logger$1.throwError("could not detect network",Logger$g.errors.NETWORK_ERROR,{chainId:ee,event:"invalidNetwork",serverError:ne})}}return logger$1.throwError("could not detect network",Logger$g.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(ee){return new JsonRpcSigner(_constructorGuard,this,ee)}getUncheckedSigner(ee){return this.getSigner(ee).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(ee=>ee.map(re=>this.formatter.address(re)))}send(ee,re){const ne={method:ee,params:re,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:deepCopy$2(ne),provider:this});const ie=["eth_chainId","eth_blockNumber"].indexOf(ee)>=0;if(ie&&this._cache[ee])return this._cache[ee];const oe=fetchJson(this.connection,JSON.stringify(ne),getResult).then(se=>(this.emit("debug",{action:"response",request:ne,response:se,provider:this}),se),se=>{throw this.emit("debug",{action:"response",error:se,request:ne,provider:this}),se});return ie&&(this._cache[ee]=oe,setTimeout(()=>{this._cache[ee]=null},0)),oe}prepareRequest(ee,re){switch(ee){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[getLowerCase(re.address),re.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[getLowerCase(re.address),re.blockTag]];case"getCode":return["eth_getCode",[getLowerCase(re.address),re.blockTag]];case"getStorageAt":return["eth_getStorageAt",[getLowerCase(re.address),re.position,re.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[re.signedTransaction]];case"getBlock":return re.blockTag?["eth_getBlockByNumber",[re.blockTag,!!re.includeTransactions]]:re.blockHash?["eth_getBlockByHash",[re.blockHash,!!re.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[re.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[re.transactionHash]];case"call":{const ne=getStatic$1(this.constructor,"hexlifyTransaction");return["eth_call",[ne(re.transaction,{from:!0}),re.blockTag]]}case"estimateGas":{const ne=getStatic$1(this.constructor,"hexlifyTransaction");return["eth_estimateGas",[ne(re.transaction,{from:!0})]]}case"getLogs":return re.filter&&re.filter.address!=null&&(re.filter.address=getLowerCase(re.filter.address)),["eth_getLogs",[re.filter]]}return null}perform(ee,re){return __awaiter$1(this,void 0,void 0,function*(){if(ee==="call"||ee==="estimateGas"){const ie=re.transaction;if(ie&&ie.type!=null&&BigNumber$4.from(ie.type).isZero()&&ie.maxFeePerGas==null&&ie.maxPriorityFeePerGas==null){const oe=yield this.getFeeData();oe.maxFeePerGas==null&&oe.maxPriorityFeePerGas==null&&(re=shallowCopy$3(re),re.transaction=shallowCopy$3(ie),delete re.transaction.type)}}const ne=this.prepareRequest(ee,re);ne==null&&logger$1.throwError(ee+" not implemented",Logger$g.errors.NOT_IMPLEMENTED,{operation:ee});try{return yield this.send(ne[0],ne[1])}catch(ie){return checkError(ee,ie,re)}})}_startEvent(ee){ee.tag==="pending"&&this._startPending(),super._startEvent(ee)}_startPending(){if(this._pendingFilter!=null)return;const ee=this,re=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=re,re.then(function(ne){function ie(){ee.send("eth_getFilterChanges",[ne]).then(function(oe){if(ee._pendingFilter!=re)return null;let se=Promise.resolve();return oe.forEach(function(ae){ee._emitted["t:"+ae.toLowerCase()]="pending",se=se.then(function(){return ee.getTransaction(ae).then(function(fe){return ee.emit("pending",fe),null})})}),se.then(function(){return timer(1e3)})}).then(function(){if(ee._pendingFilter!=re){ee.send("eth_uninstallFilter",[ne]);return}return setTimeout(function(){ie()},0),null}).catch(oe=>{})}return ie(),ne}).catch(ne=>{})}_stopEvent(ee){ee.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(ee)}static hexlifyTransaction(ee,re){const ne=shallowCopy$3(allowedTransactionKeys);if(re)for(const oe in re)re[oe]&&(ne[oe]=!0);checkProperties$2(ee,ne);const ie={};return["gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(oe){if(ee[oe]==null)return;const se=hexValue$1(ee[oe]);oe==="gasLimit"&&(oe="gas"),ie[oe]=se}),["from","to","data"].forEach(function(oe){ee[oe]!=null&&(ie[oe]=hexlify$9(ee[oe]))}),ee.accessList&&(ie.accessList=accessListify$1(ee.accessList)),ie}}const logger=new Logger$g(version);let _nextId=1;function buildWeb3LegacyFetcher(te,ee){const re="Web3LegacyFetcher";return function(ne,ie){const oe={method:ne,params:ie,id:_nextId++,jsonrpc:"2.0"};return new Promise((se,ae)=>{this.emit("debug",{action:"request",fetcher:re,request:deepCopy$2(oe),provider:this}),ee(oe,(fe,ue)=>{if(fe)return this.emit("debug",{action:"response",fetcher:re,error:fe,request:oe,provider:this}),ae(fe);if(this.emit("debug",{action:"response",fetcher:re,request:oe,response:ue,provider:this}),ue.error){const le=new Error(ue.error.message);return le.code=ue.error.code,le.data=ue.error.data,ae(le)}se(ue.result)})})}}function buildEip1193Fetcher(te){return function(ee,re){re==null&&(re=[]);const ne={method:ee,params:re};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:deepCopy$2(ne),provider:this}),te.request(ne).then(ie=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:ne,response:ie,provider:this}),ie),ie=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:ne,error:ie,provider:this}),ie})}}class Web3Provider extends JsonRpcProvider{constructor(ee,re){logger.checkNew(new.target,Web3Provider),ee==null&&logger.throwArgumentError("missing provider","provider",ee);let ne=null,ie=null,oe=null;typeof ee=="function"?(ne="unknown:",ie=ee):(ne=ee.host||ee.path||"",!ne&&ee.isMetaMask&&(ne="metamask"),oe=ee,ee.request?(ne===""&&(ne="eip-1193:"),ie=buildEip1193Fetcher(ee)):ee.sendAsync?ie=buildWeb3LegacyFetcher(ee,ee.sendAsync.bind(ee)):ee.send?ie=buildWeb3LegacyFetcher(ee,ee.send.bind(ee)):logger.throwArgumentError("unsupported provider","provider",ee),ne||(ne="unknown:"));super(ne,re);defineReadOnly$6(this,"jsonRpcFetchFunc",ie),defineReadOnly$6(this,"provider",oe)}send(ee,re){return this.jsonRpcFetchFunc(ee,re)}}new Logger$g(version);var ChainId;(function(te){te[te.Hardhat=31337]="Hardhat",te[te.Mainnet=1]="Mainnet",te[te.Ropsten=3]="Ropsten",te[te.Rinkeby=4]="Rinkeby",te[te.Goerli=5]="Goerli",te[te.Kovan=42]="Kovan",te[te.xDai=100]="xDai",te[te.Rinkarby=421611]="Rinkarby",te[te.Arbitrum=42161]="Arbitrum",te[te.Polygon=137]="Polygon"})(ChainId||(ChainId={}));const CHAIN_NAMES={[ChainId.Hardhat]:"Hardhat",[ChainId.Mainnet]:"Mainnet",[ChainId.Ropsten]:"Ropsten",[ChainId.Kovan]:"Kovan",[ChainId.Rinkeby]:"Rinkeby",[ChainId.Goerli]:"Goerli",[ChainId.xDai]:"xDai",[ChainId.Rinkarby]:"Rinkarby",[ChainId.Arbitrum]:"Arbitrum",[ChainId.Polygon]:"Polygon"},NETWORK_DETAILS={[ChainId.Arbitrum]:{chainId:"0x"+ChainId.Arbitrum.toString(16),chainName:"Arbitrum",nativeCurrency:{symbol:"ETH",decimals:18},rpcUrls:["https://arb1.arbitrum.io/rpc"],blockExplorerUrls:["https://arbiscan.io"]},[ChainId.Rinkarby]:{chainId:"0x"+ChainId.Rinkarby.toString(16),chainName:"RinkArby",nativeCurrency:{symbol:"ETH",decimals:18},rpcUrls:["https://rinkeby.arbitrum.io/rpc"],blockExplorerUrls:["https://rinkeby-explorer.arbitrum.io"]},[ChainId.xDai]:{chainId:"0x"+ChainId.xDai.toString(16),chainName:"xDAI",nativeCurrency:{symbol:"xDAI",decimals:18},rpcUrls:["https://rpc.xdaichain.com"],blockExplorerUrls:["https://blockscout.com/poa/xdai"]},[ChainId.Polygon]:{chainId:"0x"+ChainId.Polygon.toString(16),chainName:"Polygon Mainnet",nativeCurrency:{symbol:"MATIC",decimals:18},rpcUrls:["https://polygon-rpc.com/"],blockExplorerUrls:["https://polygonscan.com/"]}};var contractName="ERC20",abi=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}],bytecode="0x608060405234801561001057600080fd5b506105dd806100206000396000f3fe608060405234801561001057600080fd5b50600436106100a5576000357c01000000000000000000000000000000000000000000000000000000009004806370a082311161007857806370a0823114610166578063a457c2d71461018c578063a9059cbb146101b8578063dd62ed3e146101e4576100a5565b8063095ea7b3146100aa57806318160ddd146100ea57806323b872dd14610104578063395093511461013a575b600080fd5b6100d6600480360360408110156100c057600080fd5b50600160a060020a038135169060200135610212565b604080519115158252519081900360200190f35b6100f2610290565b60408051918252519081900360200190f35b6100d66004803603606081101561011a57600080fd5b50600160a060020a03813581169160208101359091169060400135610296565b6100d66004803603604081101561015057600080fd5b50600160a060020a03813516906020013561035f565b6100f26004803603602081101561017c57600080fd5b5035600160a060020a031661040f565b6100d6600480360360408110156101a257600080fd5b50600160a060020a03813516906020013561042a565b6100d6600480360360408110156101ce57600080fd5b50600160a060020a038135169060200135610475565b6100f2600480360360408110156101fa57600080fd5b50600160a060020a038135811691602001351661048b565b6000600160a060020a038316151561022957600080fd5b336000818152600160209081526040808320600160a060020a03881680855290835292819020869055805186815290519293927f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929181900390910190a350600192915050565b60025490565b600160a060020a03831660009081526001602090815260408083203384529091528120546102ca908363ffffffff6104b616565b600160a060020a03851660009081526001602090815260408083203384529091529020556102f98484846104cb565b600160a060020a0384166000818152600160209081526040808320338085529083529281902054815190815290519293927f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929181900390910190a35060019392505050565b6000600160a060020a038316151561037657600080fd5b336000908152600160209081526040808320600160a060020a03871684529091529020546103aa908363ffffffff61059816565b336000818152600160209081526040808320600160a060020a0389168085529083529281902085905580519485525191937f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929081900390910190a350600192915050565b600160a060020a031660009081526020819052604090205490565b6000600160a060020a038316151561044157600080fd5b336000908152600160209081526040808320600160a060020a03871684529091529020546103aa908363ffffffff6104b616565b60006104823384846104cb565b50600192915050565b600160a060020a03918216600090815260016020908152604080832093909416825291909152205490565b6000828211156104c557600080fd5b50900390565b600160a060020a03821615156104e057600080fd5b600160a060020a038316600090815260208190526040902054610509908263ffffffff6104b616565b600160a060020a03808516600090815260208190526040808220939093559084168152205461053e908263ffffffff61059816565b600160a060020a038084166000818152602081815260409182902094909455805185815290519193928716927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92918290030190a3505050565b6000828201838110156105aa57600080fd5b939250505056fea165627a7a72305820722c0187518ce2856a424bdba350d5a263c8f98fcb19cb4cc161372bc3b794c90029",deployedBytecode="0x608060405234801561001057600080fd5b50600436106100a5576000357c01000000000000000000000000000000000000000000000000000000009004806370a082311161007857806370a0823114610166578063a457c2d71461018c578063a9059cbb146101b8578063dd62ed3e146101e4576100a5565b8063095ea7b3146100aa57806318160ddd146100ea57806323b872dd14610104578063395093511461013a575b600080fd5b6100d6600480360360408110156100c057600080fd5b50600160a060020a038135169060200135610212565b604080519115158252519081900360200190f35b6100f2610290565b60408051918252519081900360200190f35b6100d66004803603606081101561011a57600080fd5b50600160a060020a03813581169160208101359091169060400135610296565b6100d66004803603604081101561015057600080fd5b50600160a060020a03813516906020013561035f565b6100f26004803603602081101561017c57600080fd5b5035600160a060020a031661040f565b6100d6600480360360408110156101a257600080fd5b50600160a060020a03813516906020013561042a565b6100d6600480360360408110156101ce57600080fd5b50600160a060020a038135169060200135610475565b6100f2600480360360408110156101fa57600080fd5b50600160a060020a038135811691602001351661048b565b6000600160a060020a038316151561022957600080fd5b336000818152600160209081526040808320600160a060020a03881680855290835292819020869055805186815290519293927f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929181900390910190a350600192915050565b60025490565b600160a060020a03831660009081526001602090815260408083203384529091528120546102ca908363ffffffff6104b616565b600160a060020a03851660009081526001602090815260408083203384529091529020556102f98484846104cb565b600160a060020a0384166000818152600160209081526040808320338085529083529281902054815190815290519293927f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929181900390910190a35060019392505050565b6000600160a060020a038316151561037657600080fd5b336000908152600160209081526040808320600160a060020a03871684529091529020546103aa908363ffffffff61059816565b336000818152600160209081526040808320600160a060020a0389168085529083529281902085905580519485525191937f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929081900390910190a350600192915050565b600160a060020a031660009081526020819052604090205490565b6000600160a060020a038316151561044157600080fd5b336000908152600160209081526040808320600160a060020a03871684529091529020546103aa908363ffffffff6104b616565b60006104823384846104cb565b50600192915050565b600160a060020a03918216600090815260016020908152604080832093909416825291909152205490565b6000828211156104c557600080fd5b50900390565b600160a060020a03821615156104e057600080fd5b600160a060020a038316600090815260208190526040902054610509908263ffffffff6104b616565b600160a060020a03808516600090815260208190526040808220939093559084168152205461053e908263ffffffff61059816565b600160a060020a038084166000818152602081815260409182902094909455805185815290519193928716927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92918290030190a3505050565b6000828201838110156105aa57600080fd5b939250505056fea165627a7a72305820722c0187518ce2856a424bdba350d5a263c8f98fcb19cb4cc161372bc3b794c90029",compiler={name:"solc",version:"0.5.4+commit.9549d8ff.Emscripten.clang"},ERC20={contractName,abi,bytecode,deployedBytecode,compiler};new Interface(ERC20.abi);const boardOpen=ref(!1);function useBoard(){return{boardOpen,open:()=>{boardOpen.value=!0},close:()=>{boardOpen.value=!1}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __awaiter(te,ee,re,ne){function ie(oe){return oe instanceof re?oe:new re(function(se){se(oe)})}return new(re||(re=Promise))(function(oe,se){function ae(le){try{ue(ne.next(le))}catch(pe){se(pe)}}function fe(le){try{ue(ne.throw(le))}catch(pe){se(pe)}}function ue(le){le.done?oe(le.value):ie(le.value).then(ae,fe)}ue((ne=ne.apply(te,ee||[])).next())})}function checkChainId(te){return te in ChainId}function shortenAddress(te){return utils$s.isAddress(te)?te.slice(0,6)+"..."+te.slice(-4):""}function displayChainName(te){return checkChainId(te)?CHAIN_NAMES[te].toLowerCase():(console.error("Error: Invalid chainId"),"network not found")}class Metamask{static check(){return __awaiter(this,void 0,void 0,function*(){return!!(yield dist$7())})}static connect(){var ee,re;return __awaiter(this,void 0,void 0,function*(){let ne=yield dist$7();return(((ee=ne==null?void 0:ne.providers)===null||ee===void 0?void 0:ee.length)||0)>1&&(ne=((re=ne==null?void 0:ne.providers)===null||re===void 0?void 0:re.find(oe=>oe.isMetaMask))||ne),yield ne.request({method:"eth_requestAccounts",params:[{eth_accounts:{}}]}),ne})}static switchChain(ee,re){return __awaiter(this,void 0,void 0,function*(){try{yield ee.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x"+re.toString(16)}]})}catch(ne){try{if(ne.code===4902&&checkChainId(re)){yield Metamask.addChain(ee,NETWORK_DETAILS[re]);return}}catch(ie){throw new Error(`Failed to add new chain: ${ie.message}`)}throw new Error(`Failed to switch chain: ${ne.message}`)}})}static addChain(ee,re){return __awaiter(this,void 0,void 0,function*(){return ee.request({method:"wallet_addEthereumChain",params:[re]})})}}class Walletconnect{static check(){return __awaiter(this,void 0,void 0,function*(){return WalletConnectProvider?!0:(console.warn('Walletconnect unavailable: please add below script to enable the feature: <script src="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@1.6.5/dist/umd/index.min.js"><\/script>'),!1)})}static connect(ee,re){return __awaiter(this,void 0,void 0,function*(){const ne=new WalletConnectProvider(Object.assign({infuraId:ee},re));return new Promise((ie,oe)=>__awaiter(this,void 0,void 0,function*(){ne.wc.on("disconnect",(se,ae)=>{ne.connected||(console.log(se,ae),oe(new Error("User rejected the request.")))});try{yield ne.enable()}catch(se){oe(new Error(se));return}ie(ne)}))})}}class Walletlink{static check(){return __awaiter(this,void 0,void 0,function*(){return WalletLink?!0:(console.warn("WalletLink unavailable"),!1)})}static connect(ee,re){return __awaiter(this,void 0,void 0,function*(){const ie=new WalletLink({appName:re}).makeWeb3Provider(`https://mainnet.infura.io/v3/${ee}`);return new Promise((oe,se)=>__awaiter(this,void 0,void 0,function*(){ie.on("disconnect",(ae,fe)=>{ie.connected||(console.log(ae,fe),se(new Error("User rejected the request.")))});try{yield ie.enable()}catch(ae){se(new Error(ae.message));return}oe(ie)}))})}}const isActivated=ref(!1),provider$2=ref(null),signer$1=ref(null),network$1=ref(null),address$1=ref(""),balance$1=ref(BigInt(0)),deactivate=()=>{isActivated.value=!1,provider$2.value=null,signer$1.value=null,network$1.value=null,address$1.value="",balance$1.value=BigInt(0)};function activate(te){return __awaiter(this,void 0,void 0,function*(){if(!te)throw new Error("Failed to activate: missing provider");const ee=new Web3Provider(te),re=ee.getSigner(),ne=yield ee.getNetwork(),ie=yield re.getAddress(),oe=yield re.getBalance();provider$2.value=markRaw(ee),signer$1.value=markRaw(re),network$1.value=ne,address$1.value=ie,balance$1.value=oe.toBigInt(),isActivated.value=!0})}function useEthers(){const te=computed(()=>{var ee;return(ee=network$1.value)===null||ee===void 0?void 0:ee.chainId});return{isActivated,provider:provider$2,signer:signer$1,network:network$1,address:address$1,balance:balance$1,chainId:te,activate,deactivate}}const provider$1=ref(null),status=ref("none"),walletName=ref("none"),error=ref(""),onDisconnectCallback=ref(null),onAccountsChangedCallback=ref(null),onChainChangedCallback=ref(null);function useWallet(te={library:"ethers"}){const{activate:ee,deactivate:re}=useEthers();function ne(){provider$1.value=null,status.value="none",walletName.value="none",error.value="",onDisconnectCallback.value=null,onAccountsChangedCallback.value=null,onChainChangedCallback.value=null,te.library==="ethers"&&re()}function ie(cr,ar,mr){return __awaiter(this,void 0,void 0,function*(){let pr=null;error.value="";try{switch(status.value="connecting",cr){case"metamask":if(pr=yield Metamask.connect(),!pr.isConnected)throw new Error("metamask is not connected");break;case"walletconnect":if(!ar)throw new Error("You should provide infuraAPI for connecting WalletConnect");if(pr=yield Walletconnect.connect(ar),!pr.connected)throw new Error("walletconnect is not connected");break;case"walletlink":if(!ar)throw new Error("You should provide infuraAPI for connecting WalletLink");if(!mr)throw new Error("You should provide an app name for connecting WalletLink");if(pr=yield Walletlink.connect(ar,mr),!pr.isConnected)throw new Error("walletlink is not connected");break;default:throw new Error("Connect Error: wallet name not found")}}catch(yr){ne(),error.value=`Failed to connect: ${yr.message}`;return}provider$1.value=markRaw(pr),walletName.value=cr,status.value="connected",se(),ae(),fe();try{te.library==="ethers"&&(yield ee(provider$1.value))}catch(yr){ne(),error.value=`Failed to load data: ${yr.message}`;return}})}function oe(){return __awaiter(this,void 0,void 0,function*(){if(walletName.value==="walletconnect")try{yield provider$1.value.disconnect()}catch(cr){console.error(cr.message)}ne(),onDisconnectCallback.value&&onDisconnectCallback.value("Disconnect from Dapp")})}function se(){switch(walletName.value){case"metamask":provider$1.value.on("disconnect",cr=>{ne(),onDisconnectCallback.value&&onDisconnectCallback.value(cr.message)});break;case"walletconnect":provider$1.value.on("disconnect",(cr,ar)=>{ne(),onDisconnectCallback.value&&onDisconnectCallback.value(`${cr}: ${ar}`)});break;case"walletlink":provider$1.value.on("disconnect",cr=>{ne(),onDisconnectCallback.value&&onDisconnectCallback.value(cr.message)});break}}function ae(){switch(walletName.value){case"metamask":provider$1.value.on("accountsChanged",cr=>__awaiter(this,void 0,void 0,function*(){try{te.library==="ethers"&&(yield ee(provider$1.value)),onAccountsChangedCallback.value&&onAccountsChangedCallback.value(cr)}catch(ar){error.value=`Failed when changing account: ${ar.message}`;return}}));break;case"walletconnect":provider$1.value.on("accountsChanged",cr=>__awaiter(this,void 0,void 0,function*(){try{te.library==="ethers"&&(yield ee(provider$1.value)),onAccountsChangedCallback.value&&onAccountsChangedCallback.value(cr)}catch(ar){error.value=`Failed when changing account: ${ar.message}`;return}}));break;case"walletlink":provider$1.value.on("accountsChanged",cr=>__awaiter(this,void 0,void 0,function*(){try{te.library==="ethers"&&(yield ee(provider$1.value)),onAccountsChangedCallback.value&&onAccountsChangedCallback.value(cr)}catch(ar){error.value=`Failed when changing account: ${ar.message}`;return}}));break}}function fe(){switch(walletName.value){case"metamask":provider$1.value.on("chainChanged",cr=>__awaiter(this,void 0,void 0,function*(){if(!provider$1.value){error.value="Failed when changing chain: missing provider";return}try{const ar=parseInt(cr,16);te.library==="ethers"&&(yield ee(provider$1.value)),onChainChangedCallback.value&&onChainChangedCallback.value(ar)}catch(ar){error.value=`Failed when changing chain: ${ar.message}`;return}}));break;case"walletconnect":provider$1.value.on("chainChanged",cr=>__awaiter(this,void 0,void 0,function*(){if(!provider$1.value){error.value="Failed when changing chain: missing provider";return}try{te.library==="ethers"&&(yield ee(provider$1.value)),onChainChangedCallback.value&&onChainChangedCallback.value(cr)}catch(ar){error.value=`Failed when changing chain: ${ar.message}`;return}}));break;case"walletlink":provider$1.value.on("chainChanged",cr=>__awaiter(this,void 0,void 0,function*(){if(!provider$1.value){error.value="Failed when changing chain: missing provider";return}try{const ar=parseInt(cr,16);te.library==="ethers"&&(yield ee(provider$1.value)),onChainChangedCallback.value&&onChainChangedCallback.value(ar)}catch(ar){error.value=`Failed when changing chain: ${ar.message}`;return}}));break}}function ue(cr){onDisconnectCallback.value=cr}function le(cr){onAccountsChangedCallback.value=cr}function pe(cr){onChainChangedCallback.value=cr}const rr=computed(()=>status.value==="connected");return{provider:provider$1,status,walletName,error,isConnected:rr,connect:ie,disconnect:oe,onDisconnect:ue,onAccountsChanged:le,onChainChanged:pe}}const{provider,signer,network,address,balance}=useEthers();function useEthersHooks(){const te=ref(null),ee=ref(null),re=ref(null);return watch(provider,(se,ae)=>{!ae&&se?te.value&&te.value({provider:se,signer:signer.value,network:network.value,address:address.value,balance:balance.value}):ae&&se?re.value&&re.value({provider:se,signer:signer.value,network:network.value,address:address.value,balance:balance.value}):ae&&!se&&ee.value&&ee.value()}),{onActivated:se=>te.value=se,onDeactivated:se=>ee.value=se,onChanged:se=>re.value=se}}const clickOutside={beforeMount:(te,ee)=>{te.clickOutsideEvent=ne=>{ne.stopPropagation(),ne.target!==te&&!te.contains(ne.target)&&ee.value(ne)};const re="ontouchstart"in document.documentElement?"touchstart":"click";setTimeout(()=>{document.addEventListener(re,te.clickOutsideEvent)},0)},unmounted:te=>{const ee=te.clickOutsideEvent;delete te.clickOutsideEvent;const re="ontouchstart"in document.documentElement?"touchstart":"click";document.removeEventListener(re,ee)}};var script$4=defineComponent({emits:["close"],props:{modalOpen:{type:Boolean,required:!0}},setup(te,{emit:ee}){const re=()=>{ee("close")};return watch(()=>te.modalOpen,ne=>{ne?document.body.style.overflow="hidden":document.body.style.overflow=""}),{closeModal:re}}});pushScopeId("data-v-701ac82d");const _hoisted_1$4={key:0,class:"modal"},_hoisted_2$4={class:"modal-inner"},_hoisted_3$3={class:"modal-content"};popScopeId();function render$4(te,ee,re,ne,ie,oe){return openBlock(),createBlock(Teleport,{to:"body"},[createVNode(Transition,{name:"modal-animation"},{default:withCtx(()=>[te.modalOpen?(openBlock(),createElementBlock("div",_hoisted_1$4,[createBaseVNode("div",_hoisted_2$4,[createBaseVNode("div",_hoisted_3$3,[createCommentVNode(" Modal Content "),renderSlot(te.$slots,"default")])])])):createCommentVNode("v-if",!0)]),_:3})])}function styleInject(te,ee){ee===void 0&&(ee={});var re=ee.insertAt;if(!(!te||typeof document=="undefined")){var ne=document.head||document.getElementsByTagName("head")[0],ie=document.createElement("style");ie.type="text/css",re==="top"&&ne.firstChild?ne.insertBefore(ie,ne.firstChild):ne.appendChild(ie),ie.styleSheet?ie.styleSheet.cssText=te:ie.appendChild(document.createTextNode(te))}}var css_248z$1=`
.modal[data-v-701ac82d] {
  position: fixed;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  min-width: 100%;
  height: 100%;
  background-color: rgba(107, 114, 128, 0.7);
  left: 0px;
  top: 0px;
  z-index: 50;
}
.modal-inner[data-v-701ac82d] {
  display: flex;
  background: #ffffff;
  border-radius: 1rem;
  box-shadow: rgba(255, 255, 255, 0.1) 0px 1px 1px 0px inset,
    rgba(50, 50, 93, 0.25) 0px 50px 100px -20px,
    rgba(0, 0, 0, 0.3) 0px 30px 60px -30px;
}
.modal-animation-enter-active[data-v-701ac82d],
.modal-animation-leave-active[data-v-701ac82d] {
  transition: opacity 0.3s cubic-bezier(0.52, 0.02, 0.19, 1.02);
}
.modal-animation-enter-from[data-v-701ac82d],
.modal-animation-leave-to[data-v-701ac82d] {
  opacity: 0;
}
`;styleInject(css_248z$1);script$4.render=render$4;script$4.__scopeId="data-v-701ac82d";script$4.__file="src/components/Modal.vue";const _hoisted_1$3={height:"246",viewBox:"0 0 400 246",width:"400",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$3=createBaseVNode("path",{d:"m81.9180572 48.3416816c65.2149658-63.8508884 170.9493158-63.8508884 236.1642788 0l7.848727 7.6845565c3.260748 3.1925442 3.260748 8.3686816 0 11.5612272l-26.848927 26.2873374c-1.630375 1.5962734-4.273733 1.5962734-5.904108 0l-10.800779-10.5748639c-45.495589-44.5439756-119.258514-44.5439756-164.754105 0l-11.566741 11.3248068c-1.630376 1.5962721-4.273735 1.5962721-5.904108 0l-26.8489263-26.2873375c-3.2607483-3.1925456-3.2607483-8.3686829 0-11.5612272zm291.6903948 54.3649934 23.895596 23.395862c3.260732 3.19253 3.260751 8.368636.000041 11.561187l-107.746894 105.494845c-3.260726 3.192568-8.547443 3.192604-11.808214.000083-.000013-.000013-.000029-.000029-.000042-.000043l-76.472191-74.872762c-.815187-.798136-2.136867-.798136-2.952053 0-.000006.000005-.00001.00001-.000015.000014l-76.470562 74.872708c-3.260715 3.192576-8.547434 3.19263-11.808215.000116-.000019-.000018-.000039-.000037-.000059-.000058l-107.74989297-105.496247c-3.26074695-3.192544-3.26074695-8.368682 0-11.561226l23.89563947-23.395823c3.260747-3.1925446 8.5474652-3.1925446 11.8082136 0l76.4733029 74.873809c.815188.798136 2.136866.798136 2.952054 0 .000012-.000012.000023-.000023.000035-.000032l76.469471-74.873777c3.260673-3.1926181 8.547392-3.1927378 11.808214-.000267.000046.000045.000091.00009.000135.000135l76.473203 74.873909c.815186.798135 2.136866.798135 2.952053 0l76.471967-74.872433c3.260748-3.1925458 8.547465-3.1925458 11.808213 0z",fill:"#3b99fc"},null,-1),_hoisted_3$2=[_hoisted_2$3];function render$3(te,ee){return openBlock(),createElementBlock("svg",_hoisted_1$3,_hoisted_3$2)}const script$3={};script$3.render=render$3;script$3.__file="src/components/logos/WalletConnect.vue";const _hoisted_1$2={height:"355",viewBox:"0 0 397 355",width:"397",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$2=createStaticVNode('<g fill="none" fill-rule="evenodd" transform="translate(-1 -1)"><path d="m114.622644 327.195472 52.004717 13.810198v-18.05949l4.245283-4.249292h29.716982v21.246459 14.872523h-31.839624l-39.268868-16.997169z" fill="#cdbdb2"></path><path d="m199.528305 327.195472 50.943397 13.810198v-18.05949l4.245283-4.249292h29.716981v21.246459 14.872523h-31.839623l-39.268868-16.997169z" fill="#cdbdb2" transform="matrix(-1 0 0 1 483.96227 0)"></path><path d="m170.872644 287.889523-4.245283 35.056657 5.306604-4.249292h55.18868l6.367925 4.249292-4.245284-35.056657-8.490565-5.311615-42.452832 1.062323z" fill="#393939"></path><path d="m142.216984 50.9915022 25.471698 59.4900858 11.674528 173.158643h41.391511l12.735849-173.158643 23.349056-59.4900858z" fill="#f89c35"></path><path d="m30.7783023 181.657226-29.71698153 86.048161 74.29245393-4.249293h47.7594343v-37.181303l-2.122641-76.487253-10.613208 8.498583z" fill="#f89d35"></path><path d="m87.0283032 191.218134 87.0283028 2.124646-9.551886 44.617563-41.391511-10.623229z" fill="#d87c30"></path><path d="m87.0283032 192.280457 36.0849058 33.994334v33.994334z" fill="#ea8d3a"></path><path d="m123.113209 227.337114 42.452831 10.623229 13.79717 45.679888-9.551886 5.311615-46.698115-27.620398z" fill="#f89d35"></path><path d="m123.113209 261.331448-8.490565 65.864024 56.25-39.305949z" fill="#eb8f35"></path><path d="m174.056606 193.34278 5.306604 90.297451-15.919812-46.211049z" fill="#ea8e3a"></path><path d="m74.2924539 262.393771 48.8207551-1.062323-8.490565 65.864024z" fill="#d87c30"></path><path d="m24.4103777 355.878193 90.2122663-28.682721-40.3301901-64.801701-73.23113313 5.311616z" fill="#eb8f35"></path><path d="m167.688682 110.481588-45.636793 38.243627-35.0235858 42.492919 87.0283028 3.186969z" fill="#e8821e"></path><path d="m114.622644 327.195472 56.25-39.305949-4.245283 33.994334v19.121813l-38.207548-7.43626z" fill="#dfcec3"></path><path d="m229.245286 327.195472 55.18868-39.305949-4.245283 33.994334v19.121813l-38.207548-7.43626z" fill="#dfcec3" transform="matrix(-1 0 0 1 513.679252 0)"></path><path d="m132.665096 212.464593-11.674528 24.433427 41.39151-10.623229z" fill="#393939" transform="matrix(-1 0 0 1 283.372646 0)"></path><path d="m23.349057 1.06232296 144.339625 109.41926504-24.410378-59.4900858z" fill="#e88f35"></path><path d="m23.349057 1.06232296-19.10377392 58.42776294 10.61320772 63.7393781-7.42924541 4.249292 10.61320771 9.560906-8.49056617 7.436261 11.67452847 10.623229-7.4292454 6.373938 16.9811323 21.246459 79.5990577-24.433428c38.915096-31.161473 58.018869-47.096318 57.311322-47.804533-.707548-.708215-48.820756-37.1813036-144.339625-109.41926504z" fill="#8e5a30"></path><g transform="matrix(-1 0 0 1 399.056611 0)"><path d="m30.7783023 181.657226-29.71698153 86.048161 74.29245393-4.249293h47.7594343v-37.181303l-2.122641-76.487253-10.613208 8.498583z" fill="#f89d35"></path><path d="m87.0283032 191.218134 87.0283028 2.124646-9.551886 44.617563-41.391511-10.623229z" fill="#d87c30"></path><path d="m87.0283032 192.280457 36.0849058 33.994334v33.994334z" fill="#ea8d3a"></path><path d="m123.113209 227.337114 42.452831 10.623229 13.79717 45.679888-9.551886 5.311615-46.698115-27.620398z" fill="#f89d35"></path><path d="m123.113209 261.331448-8.490565 65.864024 55.18868-38.243626z" fill="#eb8f35"></path><path d="m174.056606 193.34278 5.306604 90.297451-15.919812-46.211049z" fill="#ea8e3a"></path><path d="m74.2924539 262.393771 48.8207551-1.062323-8.490565 65.864024z" fill="#d87c30"></path><path d="m24.4103777 355.878193 90.2122663-28.682721-40.3301901-64.801701-73.23113313 5.311616z" fill="#eb8f35"></path><path d="m167.688682 110.481588-45.636793 38.243627-35.0235858 42.492919 87.0283028 3.186969z" fill="#e8821e"></path><path d="m132.665096 212.464593-11.674528 24.433427 41.39151-10.623229z" fill="#393939" transform="matrix(-1 0 0 1 283.372646 0)"></path><path d="m23.349057 1.06232296 144.339625 109.41926504-24.410378-59.4900858z" fill="#e88f35"></path><path d="m23.349057 1.06232296-19.10377392 58.42776294 10.61320772 63.7393781-7.42924541 4.249292 10.61320771 9.560906-8.49056617 7.436261 11.67452847 10.623229-7.4292454 6.373938 16.9811323 21.246459 79.5990577-24.433428c38.915096-31.161473 58.018869-47.096318 57.311322-47.804533-.707548-.708215-48.820756-37.1813036-144.339625-109.41926504z" fill="#8e5a30"></path></g></g>',1),_hoisted_3$1=[_hoisted_2$2];function render$2(te,ee){return openBlock(),createElementBlock("svg",_hoisted_1$2,_hoisted_3$1)}const script$2={};script$2.render=render$2;script$2.__file="src/components/logos/MetaMask.vue";const _hoisted_1$1={viewBox:"0 0 128 128",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},_hoisted_2$1=createStaticVNode('<defs><circle id="a" cx="59.928" cy="59.928" r="59.928"></circle><linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="c"><stop stop-color="#2E66F8" offset="0%"></stop><stop stop-color="#124ADB" offset="100%"></stop></linearGradient></defs><g fill="none" fill-rule="evenodd"><path fill="#FFF" fill-rule="nonzero" d="M0 0h128v128H0z"></path><path fill="#FFF" fill-rule="nonzero" d="M0 0h128v128H0z"></path><path d="M0 0h128v128H0z"></path><path d="M19 64c0 24.853 20.147 45 45 45s45-20.147 45-45-20.147-45-45-45-45 20.147-45 45zm33.5-14.5a3 3 0 0 0-3 3v23a3 3 0 0 0 3 3h23a3 3 0 0 0 3-3v-23a3 3 0 0 0-3-3h-23z" fill="#FFF"></path><g transform="translate(4 4)"><mask id="b" fill="#fff"><use xlink:href="#a"></use></mask><g mask="url(#b)"><path d="M0 0h119.856v119.856H0z"></path><rect fill="url(#c)" fill-rule="nonzero" width="119.856" height="119.856" rx="48"></rect><path d="M24.97 59.928c0 19.307 15.651 34.958 34.958 34.958s34.958-15.651 34.958-34.958S79.235 24.97 59.928 24.97 24.97 40.62 24.97 59.928zm26.024-11.264a2.33 2.33 0 0 0-2.33 2.33v17.868a2.33 2.33 0 0 0 2.33 2.33h17.868a2.33 2.33 0 0 0 2.33-2.33V50.994a2.33 2.33 0 0 0-2.33-2.33H50.994z" fill="#FFF"></path></g></g></g>',2),_hoisted_4$1=[_hoisted_2$1];function render$1(te,ee){return openBlock(),createElementBlock("svg",_hoisted_1$1,_hoisted_4$1)}const script$1={};script$1.render=render$1;script$1.__file="src/components/logos/WalletLink.vue";var script=defineComponent({components:{Modal:script$4,MetaMaskIcon:script$2,WalletConnectIcon:script$3,WalletLinkIcon:script$1},inject:["infuraId"],setup(){const{boardOpen:te,close:ee}=useBoard(),{connect:re,status:ne}=useWallet(),ie=ref(!0),oe=ref(!0),se=ref(!0),ae=inject("infuraId"),fe=inject("appName"),ue=inject("appUrl");onMounted(()=>__awaiter(this,void 0,void 0,function*(){(yield Metamask.check())&&(ie.value=!1),ae&&(yield Walletconnect.check())&&(oe.value=!1),ae&&fe&&(yield Walletlink.check())&&(se.value=!1)}));const le=ref(!1),pe=()=>{le.value=!0},rr=()=>{le.value=!1},cr=yr=>__awaiter(this,void 0,void 0,function*(){try{switch(yr){case"metamask":yield ar();break;case"walletconnect":yield mr();break;case"walletlink":yield pr();break}}catch(vr){console.error(vr.message)}finally{rr()}}),ar=()=>__awaiter(this,void 0,void 0,function*(){if(ie.value&&ue){window.open(`https://metamask.app.link/dapp/${ue}`,"_blank");return}else if(ie.value)return;ee(),pe(),yield re("metamask")}),mr=()=>__awaiter(this,void 0,void 0,function*(){oe.value||(ee(),pe(),yield re("walletconnect",ae))}),pr=()=>__awaiter(this,void 0,void 0,function*(){se.value||(ee(),pe(),yield re("walletlink",ae,fe))});return{status:ne,boardOpen:te,metamaskDisabled:ie,walletconnectDisabled:oe,walletlinkDisabled:se,appUrl:ue,close:ee,connectWallet:cr,loadingOpen:le,openLoading:pe,closeLoading:rr}}});pushScopeId("data-v-e1ee1034");const _hoisted_1$5={class:"item"},_hoisted_2$5=createBaseVNode("div",null,"MetaMask",-1),_hoisted_3$4=createBaseVNode("div",{class:"line"},null,-1),_hoisted_4={class:"item"},_hoisted_5=createBaseVNode("div",null,"WalletConnect",-1),_hoisted_6=createBaseVNode("div",{class:"line"},null,-1),_hoisted_7={class:"item"},_hoisted_8=createBaseVNode("div",null,"Coinbase Wallet",-1),_hoisted_9={key:0,class:"loading-modal"},_hoisted_10=createBaseVNode("p",null,"Pending Call Request",-1),_hoisted_11=createBaseVNode("p",null,"Approve or reject request using your wallet",-1),_hoisted_12$1=[_hoisted_10,_hoisted_11],_hoisted_13$1={key:1};popScopeId();function render$5(te,ee,re,ne,ie,oe){const se=resolveComponent("MetaMaskIcon"),ae=resolveComponent("WalletConnectIcon"),fe=resolveComponent("WalletLinkIcon"),ue=resolveComponent("Modal"),le=resolveDirective("click-outside");return openBlock(),createElementBlock(Fragment$1,null,[createVNode(ue,{modalOpen:te.boardOpen,onClose:te.close},{default:withCtx(()=>[withDirectives(createBaseVNode("div",null,[createBaseVNode("div",{onClick:ee[0]||(ee[0]=pe=>te.connectWallet("metamask")),class:normalizeClass(["wallet-item",te.metamaskDisabled&&!te.appUrl?"wallet-disabled":""])},[createBaseVNode("div",_hoisted_1$5,[createVNode(se,{class:"logo"}),_hoisted_2$5])],2),_hoisted_3$4,createBaseVNode("div",{onClick:ee[1]||(ee[1]=pe=>te.connectWallet("walletconnect")),class:normalizeClass(["wallet-item",te.walletconnectDisabled?"wallet-disabled":""])},[createBaseVNode("div",_hoisted_4,[createVNode(ae,{class:"logo"}),_hoisted_5])],2),_hoisted_6,createBaseVNode("div",{onClick:ee[2]||(ee[2]=pe=>te.connectWallet("walletlink")),class:normalizeClass(["wallet-item",te.walletlinkDisabled?"wallet-disabled":""])},[createBaseVNode("div",_hoisted_7,[createVNode(fe,{class:"logo"}),_hoisted_8])],2)],512),[[le,te.close]])]),_:1},8,["modalOpen","onClose"]),createVNode(ue,{modalOpen:te.loadingOpen},{default:withCtx(()=>[te.status==="connecting"?(openBlock(),createElementBlock("div",_hoisted_9,_hoisted_12$1)):createCommentVNode("v-if",!0),createCommentVNode(" loading between connected to isActivated "),te.status==="connected"?(openBlock(),createElementBlock("div",_hoisted_13$1)):createCommentVNode("v-if",!0)]),_:1},8,["modalOpen"])],64)}var css_248z=`
.wallet-item[data-v-e1ee1034] {
  display: flex;
  justify-content: center;
  padding-top: 1rem;
  padding-bottom: 0.6rem;
  padding-left: 1rem;
  padding-right: 1rem;
  margin: 0.5rem;
  border-radius: 0.75rem;
  cursor: pointer;
}
.wallet-item[data-v-e1ee1034]:hover {
  background-color: rgba(243, 244, 246, 0.664);
}
@media (min-width: 640px) {
.wallet-item[data-v-e1ee1034] {
    width: 24rem;
}
}
.item[data-v-e1ee1034] {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  font-size: 1.5rem;
  line-height: 2rem;
}
.item[data-v-e1ee1034] > :not([hidden]) ~ :not([hidden]) {
  margin-top: 1rem;
  margin-bottom: 1rem;
}
.line[data-v-e1ee1034] {
  color: #e5e7eb;
  border-width: 0px;
  border-bottom-width: 1px;
  border-style: solid;
}
.logo[data-v-e1ee1034] {
  width: 50px;
  height: 50px;
}
.wallet-disabled[data-v-e1ee1034] {
  opacity: 0.5;
}
.wallet-disabled[data-v-e1ee1034]:hover {
  background-color: rgba(255, 255, 255, 0.623);
  cursor: default;
}
.loading-modal[data-v-e1ee1034] {
  width: 20rem;
  padding: 2.5rem;
  text-align: center;
}
.loading-modal > p[data-v-e1ee1034]:first-child {
  font-size: 1.25rem;
  line-height: 1.75rem;
}
@media (min-width: 640px) {
.loading-modal[data-v-e1ee1034] {
    width: auto;
}
}
`;styleInject(css_248z);script.render=render$5;script.__scopeId="data-v-e1ee1034";script.__file="src/components/Board.vue";const VueDapp={install(te,ee){ee!=null&&ee.infuraId||console.warn('For enabling WalletConnect and WalletLink, you should provide infura ID in plugin options like "app.use(VueDapp, { infuraId: "<your-id>" })"'),ee!=null&&ee.appName||console.warn('For enabling WalletLink, you should provide the App Name in plugin options like "app.use(VueDapp, { appName: "<your-app-name>" })"'),ee!=null&&ee.appUrl||console.warn('For enabling a MetaMask fallback, you should provide the App Url in plugin options like "app.use(VueDapp, { appUrl: "<your-app-url>" })"'),te.directive("click-outside",clickOutside),te.component("vdapp-board",script),te.component("vdapp-modal",script$4),te.provide("infuraId",ee==null?void 0:ee.infuraId),te.provide("appName",ee==null?void 0:ee.appName),te.provide("appUrl",ee==null?void 0:ee.appUrl)}};/*!
  * vue-router v4.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const hasSymbol=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",PolySymbol=te=>hasSymbol?Symbol(te):"_vr_"+te,matchedRouteKey=PolySymbol("rvlm"),viewDepthKey=PolySymbol("rvd"),routerKey=PolySymbol("r"),routeLocationKey=PolySymbol("rl"),routerViewLocationKey=PolySymbol("rvl"),isBrowser$1=typeof window!="undefined";function isESModule(te){return te.__esModule||hasSymbol&&te[Symbol.toStringTag]==="Module"}const assign$1=Object.assign;function applyToParams(te,ee){const re={};for(const ne in ee){const ie=ee[ne];re[ne]=Array.isArray(ie)?ie.map(te):te(ie)}return re}const noop=()=>{},TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=te=>te.replace(TRAILING_SLASH_RE,"");function parseURL(te,ee,re="/"){let ne,ie={},oe="",se="";const ae=ee.indexOf("?"),fe=ee.indexOf("#",ae>-1?ae:0);return ae>-1&&(ne=ee.slice(0,ae),oe=ee.slice(ae+1,fe>-1?fe:ee.length),ie=te(oe)),fe>-1&&(ne=ne||ee.slice(0,fe),se=ee.slice(fe,ee.length)),ne=resolveRelativePath(ne!=null?ne:ee,re),{fullPath:ne+(oe&&"?")+oe+se,path:ne,query:ie,hash:se}}function stringifyURL(te,ee){const re=ee.query?te(ee.query):"";return ee.path+(re&&"?")+re+(ee.hash||"")}function stripBase(te,ee){return!ee||!te.toLowerCase().startsWith(ee.toLowerCase())?te:te.slice(ee.length)||"/"}function isSameRouteLocation(te,ee,re){const ne=ee.matched.length-1,ie=re.matched.length-1;return ne>-1&&ne===ie&&isSameRouteRecord(ee.matched[ne],re.matched[ie])&&isSameRouteLocationParams(ee.params,re.params)&&te(ee.query)===te(re.query)&&ee.hash===re.hash}function isSameRouteRecord(te,ee){return(te.aliasOf||te)===(ee.aliasOf||ee)}function isSameRouteLocationParams(te,ee){if(Object.keys(te).length!==Object.keys(ee).length)return!1;for(const re in te)if(!isSameRouteLocationParamsValue(te[re],ee[re]))return!1;return!0}function isSameRouteLocationParamsValue(te,ee){return Array.isArray(te)?isEquivalentArray(te,ee):Array.isArray(ee)?isEquivalentArray(ee,te):te===ee}function isEquivalentArray(te,ee){return Array.isArray(ee)?te.length===ee.length&&te.every((re,ne)=>re===ee[ne]):te.length===1&&te[0]===ee}function resolveRelativePath(te,ee){if(te.startsWith("/"))return te;if(!te)return ee;const re=ee.split("/"),ne=te.split("/");let ie=re.length-1,oe,se;for(oe=0;oe<ne.length;oe++)if(se=ne[oe],!(ie===1||se==="."))if(se==="..")ie--;else break;return re.slice(0,ie).join("/")+"/"+ne.slice(oe-(oe===ne.length?1:0)).join("/")}var NavigationType;(function(te){te.pop="pop",te.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(te){te.back="back",te.forward="forward",te.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(te){if(!te)if(isBrowser$1){const ee=document.querySelector("base");te=ee&&ee.getAttribute("href")||"/",te=te.replace(/^\w+:\/\/[^\/]+/,"")}else te="/";return te[0]!=="/"&&te[0]!=="#"&&(te="/"+te),removeTrailingSlash(te)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(te,ee){return te.replace(BEFORE_HASH_RE,"#")+ee}function getElementPosition(te,ee){const re=document.documentElement.getBoundingClientRect(),ne=te.getBoundingClientRect();return{behavior:ee.behavior,left:ne.left-re.left-(ee.left||0),top:ne.top-re.top-(ee.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(te){let ee;if("el"in te){const re=te.el,ne=typeof re=="string"&&re.startsWith("#"),ie=typeof re=="string"?ne?document.getElementById(re.slice(1)):document.querySelector(re):re;if(!ie)return;ee=getElementPosition(ie,te)}else ee=te;"scrollBehavior"in document.documentElement.style?window.scrollTo(ee):window.scrollTo(ee.left!=null?ee.left:window.pageXOffset,ee.top!=null?ee.top:window.pageYOffset)}function getScrollKey(te,ee){return(history.state?history.state.position-ee:-1)+te}const scrollPositions=new Map;function saveScrollPosition(te,ee){scrollPositions.set(te,ee)}function getSavedScrollPosition(te){const ee=scrollPositions.get(te);return scrollPositions.delete(te),ee}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(te,ee){const{pathname:re,search:ne,hash:ie}=ee,oe=te.indexOf("#");if(oe>-1){let ae=ie.includes(te.slice(oe))?te.slice(oe).length:1,fe=ie.slice(ae);return fe[0]!=="/"&&(fe="/"+fe),stripBase(fe,"")}return stripBase(re,te)+ne+ie}function useHistoryListeners(te,ee,re,ne){let ie=[],oe=[],se=null;const ae=({state:rr})=>{const cr=createCurrentLocation(te,location),ar=re.value,mr=ee.value;let pr=0;if(rr){if(re.value=cr,ee.value=rr,se&&se===ar){se=null;return}pr=mr?rr.position-mr.position:0}else ne(cr);ie.forEach(yr=>{yr(re.value,ar,{delta:pr,type:NavigationType.pop,direction:pr?pr>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function fe(){se=re.value}function ue(rr){ie.push(rr);const cr=()=>{const ar=ie.indexOf(rr);ar>-1&&ie.splice(ar,1)};return oe.push(cr),cr}function le(){const{history:rr}=window;!rr.state||rr.replaceState(assign$1({},rr.state,{scroll:computeScrollPosition()}),"")}function pe(){for(const rr of oe)rr();oe=[],window.removeEventListener("popstate",ae),window.removeEventListener("beforeunload",le)}return window.addEventListener("popstate",ae),window.addEventListener("beforeunload",le),{pauseListeners:fe,listen:ue,destroy:pe}}function buildState(te,ee,re,ne=!1,ie=!1){return{back:te,current:ee,forward:re,replaced:ne,position:window.history.length,scroll:ie?computeScrollPosition():null}}function useHistoryStateNavigation(te){const{history:ee,location:re}=window,ne={value:createCurrentLocation(te,re)},ie={value:ee.state};ie.value||oe(ne.value,{back:null,current:ne.value,forward:null,position:ee.length-1,replaced:!0,scroll:null},!0);function oe(fe,ue,le){const pe=te.indexOf("#"),rr=pe>-1?(re.host&&document.querySelector("base")?te:te.slice(pe))+fe:createBaseLocation()+te+fe;try{ee[le?"replaceState":"pushState"](ue,"",rr),ie.value=ue}catch(cr){console.error(cr),re[le?"replace":"assign"](rr)}}function se(fe,ue){const le=assign$1({},ee.state,buildState(ie.value.back,fe,ie.value.forward,!0),ue,{position:ie.value.position});oe(fe,le,!0),ne.value=fe}function ae(fe,ue){const le=assign$1({},ie.value,ee.state,{forward:fe,scroll:computeScrollPosition()});oe(le.current,le,!0);const pe=assign$1({},buildState(ne.value,fe,null),{position:le.position+1},ue);oe(fe,pe,!1),ne.value=fe}return{location:ne,state:ie,push:ae,replace:se}}function createWebHistory(te){te=normalizeBase(te);const ee=useHistoryStateNavigation(te),re=useHistoryListeners(te,ee.state,ee.location,ee.replace);function ne(oe,se=!0){se||re.pauseListeners(),history.go(oe)}const ie=assign$1({location:"",base:te,go:ne,createHref:createHref.bind(null,te)},ee,re);return Object.defineProperty(ie,"location",{enumerable:!0,get:()=>ee.location.value}),Object.defineProperty(ie,"state",{enumerable:!0,get:()=>ee.state.value}),ie}function createWebHashHistory(te){return te=location.host?te||location.pathname+location.search:"",te.includes("#")||(te+="#"),createWebHistory(te)}function isRouteLocation(te){return typeof te=="string"||te&&typeof te=="object"}function isRouteName(te){return typeof te=="string"||typeof te=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=PolySymbol("nf");var NavigationFailureType;(function(te){te[te.aborted=4]="aborted",te[te.cancelled=8]="cancelled",te[te.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(te,ee){return assign$1(new Error,{type:te,[NavigationFailureSymbol]:!0},ee)}function isNavigationFailure(te,ee){return te instanceof Error&&NavigationFailureSymbol in te&&(ee==null||!!(te.type&ee))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(te,ee){const re=assign$1({},BASE_PATH_PARSER_OPTIONS,ee),ne=[];let ie=re.start?"^":"";const oe=[];for(const ue of te){const le=ue.length?[]:[90];re.strict&&!ue.length&&(ie+="/");for(let pe=0;pe<ue.length;pe++){const rr=ue[pe];let cr=40+(re.sensitive?.25:0);if(rr.type===0)pe||(ie+="/"),ie+=rr.value.replace(REGEX_CHARS_RE,"\\$&"),cr+=40;else if(rr.type===1){const{value:ar,repeatable:mr,optional:pr,regexp:yr}=rr;oe.push({name:ar,repeatable:mr,optional:pr});const vr=yr||BASE_PARAM_PATTERN;if(vr!==BASE_PARAM_PATTERN){cr+=10;try{new RegExp(`(${vr})`)}catch(Tr){throw new Error(`Invalid custom RegExp for param "${ar}" (${vr}): `+Tr.message)}}let Er=mr?`((?:${vr})(?:/(?:${vr}))*)`:`(${vr})`;pe||(Er=pr&&ue.length<2?`(?:/${Er})`:"/"+Er),pr&&(Er+="?"),ie+=Er,cr+=20,pr&&(cr+=-8),mr&&(cr+=-20),vr===".*"&&(cr+=-50)}le.push(cr)}ne.push(le)}if(re.strict&&re.end){const ue=ne.length-1;ne[ue][ne[ue].length-1]+=.7000000000000001}re.strict||(ie+="/?"),re.end?ie+="$":re.strict&&(ie+="(?:/|$)");const se=new RegExp(ie,re.sensitive?"":"i");function ae(ue){const le=ue.match(se),pe={};if(!le)return null;for(let rr=1;rr<le.length;rr++){const cr=le[rr]||"",ar=oe[rr-1];pe[ar.name]=cr&&ar.repeatable?cr.split("/"):cr}return pe}function fe(ue){let le="",pe=!1;for(const rr of te){(!pe||!le.endsWith("/"))&&(le+="/"),pe=!1;for(const cr of rr)if(cr.type===0)le+=cr.value;else if(cr.type===1){const{value:ar,repeatable:mr,optional:pr}=cr,yr=ar in ue?ue[ar]:"";if(Array.isArray(yr)&&!mr)throw new Error(`Provided param "${ar}" is an array but it is not repeatable (* or + modifiers)`);const vr=Array.isArray(yr)?yr.join("/"):yr;if(!vr)if(pr)rr.length<2&&(le.endsWith("/")?le=le.slice(0,-1):pe=!0);else throw new Error(`Missing required param "${ar}"`);le+=vr}}return le}return{re:se,score:ne,keys:oe,parse:ae,stringify:fe}}function compareScoreArray(te,ee){let re=0;for(;re<te.length&&re<ee.length;){const ne=ee[re]-te[re];if(ne)return ne;re++}return te.length<ee.length?te.length===1&&te[0]===40+40?-1:1:te.length>ee.length?ee.length===1&&ee[0]===40+40?1:-1:0}function comparePathParserScore(te,ee){let re=0;const ne=te.score,ie=ee.score;for(;re<ne.length&&re<ie.length;){const oe=compareScoreArray(ne[re],ie[re]);if(oe)return oe;re++}return ie.length-ne.length}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(te){if(!te)return[[]];if(te==="/")return[[ROOT_TOKEN]];if(!te.startsWith("/"))throw new Error(`Invalid path "${te}"`);function ee(cr){throw new Error(`ERR (${re})/"${ue}": ${cr}`)}let re=0,ne=re;const ie=[];let oe;function se(){oe&&ie.push(oe),oe=[]}let ae=0,fe,ue="",le="";function pe(){!ue||(re===0?oe.push({type:0,value:ue}):re===1||re===2||re===3?(oe.length>1&&(fe==="*"||fe==="+")&&ee(`A repeatable param (${ue}) must be alone in its segment. eg: '/:ids+.`),oe.push({type:1,value:ue,regexp:le,repeatable:fe==="*"||fe==="+",optional:fe==="*"||fe==="?"})):ee("Invalid state to consume buffer"),ue="")}function rr(){ue+=fe}for(;ae<te.length;){if(fe=te[ae++],fe==="\\"&&re!==2){ne=re,re=4;continue}switch(re){case 0:fe==="/"?(ue&&pe(),se()):fe===":"?(pe(),re=1):rr();break;case 4:rr(),re=ne;break;case 1:fe==="("?re=2:VALID_PARAM_RE.test(fe)?rr():(pe(),re=0,fe!=="*"&&fe!=="?"&&fe!=="+"&&ae--);break;case 2:fe===")"?le[le.length-1]=="\\"?le=le.slice(0,-1)+fe:re=3:le+=fe;break;case 3:pe(),re=0,fe!=="*"&&fe!=="?"&&fe!=="+"&&ae--,le="";break;default:ee("Unknown state");break}}return re===2&&ee(`Unfinished custom RegExp for param "${ue}"`),pe(),se(),ie}function createRouteRecordMatcher(te,ee,re){const ne=tokensToParser(tokenizePath(te.path),re),ie=assign$1(ne,{record:te,parent:ee,children:[],alias:[]});return ee&&!ie.record.aliasOf==!ee.record.aliasOf&&ee.children.push(ie),ie}function createRouterMatcher(te,ee){const re=[],ne=new Map;ee=mergeOptions({strict:!1,end:!0,sensitive:!1},ee);function ie(le){return ne.get(le)}function oe(le,pe,rr){const cr=!rr,ar=normalizeRouteRecord(le);ar.aliasOf=rr&&rr.record;const mr=mergeOptions(ee,le),pr=[ar];if("alias"in le){const Er=typeof le.alias=="string"?[le.alias]:le.alias;for(const Tr of Er)pr.push(assign$1({},ar,{components:rr?rr.record.components:ar.components,path:Tr,aliasOf:rr?rr.record:ar}))}let yr,vr;for(const Er of pr){const{path:Tr}=Er;if(pe&&Tr[0]!=="/"){const Ir=pe.record.path,Or=Ir[Ir.length-1]==="/"?"":"/";Er.path=pe.record.path+(Tr&&Or+Tr)}if(yr=createRouteRecordMatcher(Er,pe,mr),rr?rr.alias.push(yr):(vr=vr||yr,vr!==yr&&vr.alias.push(yr),cr&&le.name&&!isAliasRecord(yr)&&se(le.name)),"children"in ar){const Ir=ar.children;for(let Or=0;Or<Ir.length;Or++)oe(Ir[Or],yr,rr&&rr.children[Or])}rr=rr||yr,fe(yr)}return vr?()=>{se(vr)}:noop}function se(le){if(isRouteName(le)){const pe=ne.get(le);pe&&(ne.delete(le),re.splice(re.indexOf(pe),1),pe.children.forEach(se),pe.alias.forEach(se))}else{const pe=re.indexOf(le);pe>-1&&(re.splice(pe,1),le.record.name&&ne.delete(le.record.name),le.children.forEach(se),le.alias.forEach(se))}}function ae(){return re}function fe(le){let pe=0;for(;pe<re.length&&comparePathParserScore(le,re[pe])>=0&&(le.record.path!==re[pe].record.path||!isRecordChildOf(le,re[pe]));)pe++;re.splice(pe,0,le),le.record.name&&!isAliasRecord(le)&&ne.set(le.record.name,le)}function ue(le,pe){let rr,cr={},ar,mr;if("name"in le&&le.name){if(rr=ne.get(le.name),!rr)throw createRouterError(1,{location:le});mr=rr.record.name,cr=assign$1(paramsFromLocation(pe.params,rr.keys.filter(vr=>!vr.optional).map(vr=>vr.name)),le.params),ar=rr.stringify(cr)}else if("path"in le)ar=le.path,rr=re.find(vr=>vr.re.test(ar)),rr&&(cr=rr.parse(ar),mr=rr.record.name);else{if(rr=pe.name?ne.get(pe.name):re.find(vr=>vr.re.test(pe.path)),!rr)throw createRouterError(1,{location:le,currentLocation:pe});mr=rr.record.name,cr=assign$1({},pe.params,le.params),ar=rr.stringify(cr)}const pr=[];let yr=rr;for(;yr;)pr.unshift(yr.record),yr=yr.parent;return{name:mr,path:ar,params:cr,matched:pr,meta:mergeMetaFields(pr)}}return te.forEach(le=>oe(le)),{addRoute:oe,resolve:ue,removeRoute:se,getRoutes:ae,getRecordMatcher:ie}}function paramsFromLocation(te,ee){const re={};for(const ne of ee)ne in te&&(re[ne]=te[ne]);return re}function normalizeRouteRecord(te){return{path:te.path,redirect:te.redirect,name:te.name,meta:te.meta||{},aliasOf:void 0,beforeEnter:te.beforeEnter,props:normalizeRecordProps(te),children:te.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in te?te.components||{}:{default:te.component}}}function normalizeRecordProps(te){const ee={},re=te.props||!1;if("component"in te)ee.default=re;else for(const ne in te.components)ee[ne]=typeof re=="boolean"?re:re[ne];return ee}function isAliasRecord(te){for(;te;){if(te.record.aliasOf)return!0;te=te.parent}return!1}function mergeMetaFields(te){return te.reduce((ee,re)=>assign$1(ee,re.meta),{})}function mergeOptions(te,ee){const re={};for(const ne in te)re[ne]=ne in ee?ee[ne]:te[ne];return re}function isRecordChildOf(te,ee){return ee.children.some(re=>re===te||isRecordChildOf(te,re))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(te){return encodeURI(""+te).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(te){return commonEncode(te).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(te){return commonEncode(te).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(te){return encodeQueryValue(te).replace(EQUAL_RE,"%3D")}function encodePath(te){return commonEncode(te).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(te){return te==null?"":encodePath(te).replace(SLASH_RE,"%2F")}function decode(te){try{return decodeURIComponent(""+te)}catch{}return""+te}function parseQuery(te){const ee={};if(te===""||te==="?")return ee;const ne=(te[0]==="?"?te.slice(1):te).split("&");for(let ie=0;ie<ne.length;++ie){const oe=ne[ie].replace(PLUS_RE," "),se=oe.indexOf("="),ae=decode(se<0?oe:oe.slice(0,se)),fe=se<0?null:decode(oe.slice(se+1));if(ae in ee){let ue=ee[ae];Array.isArray(ue)||(ue=ee[ae]=[ue]),ue.push(fe)}else ee[ae]=fe}return ee}function stringifyQuery(te){let ee="";for(let re in te){const ne=te[re];if(re=encodeQueryKey(re),ne==null){ne!==void 0&&(ee+=(ee.length?"&":"")+re);continue}(Array.isArray(ne)?ne.map(oe=>oe&&encodeQueryValue(oe)):[ne&&encodeQueryValue(ne)]).forEach(oe=>{oe!==void 0&&(ee+=(ee.length?"&":"")+re,oe!=null&&(ee+="="+oe))})}return ee}function normalizeQuery(te){const ee={};for(const re in te){const ne=te[re];ne!==void 0&&(ee[re]=Array.isArray(ne)?ne.map(ie=>ie==null?null:""+ie):ne==null?ne:""+ne)}return ee}function useCallbacks(){let te=[];function ee(ne){return te.push(ne),()=>{const ie=te.indexOf(ne);ie>-1&&te.splice(ie,1)}}function re(){te=[]}return{add:ee,list:()=>te,reset:re}}function guardToPromiseFn(te,ee,re,ne,ie){const oe=ne&&(ne.enterCallbacks[ie]=ne.enterCallbacks[ie]||[]);return()=>new Promise((se,ae)=>{const fe=pe=>{pe===!1?ae(createRouterError(4,{from:re,to:ee})):pe instanceof Error?ae(pe):isRouteLocation(pe)?ae(createRouterError(2,{from:ee,to:pe})):(oe&&ne.enterCallbacks[ie]===oe&&typeof pe=="function"&&oe.push(pe),se())},ue=te.call(ne&&ne.instances[ie],ee,re,fe);let le=Promise.resolve(ue);te.length<3&&(le=le.then(fe)),le.catch(pe=>ae(pe))})}function extractComponentsGuards(te,ee,re,ne){const ie=[];for(const oe of te)for(const se in oe.components){let ae=oe.components[se];if(!(ee!=="beforeRouteEnter"&&!oe.instances[se]))if(isRouteComponent(ae)){const ue=(ae.__vccOpts||ae)[ee];ue&&ie.push(guardToPromiseFn(ue,re,ne,oe,se))}else{let fe=ae();ie.push(()=>fe.then(ue=>{if(!ue)return Promise.reject(new Error(`Couldn't resolve component "${se}" at "${oe.path}"`));const le=isESModule(ue)?ue.default:ue;oe.components[se]=le;const rr=(le.__vccOpts||le)[ee];return rr&&guardToPromiseFn(rr,re,ne,oe,se)()}))}}return ie}function isRouteComponent(te){return typeof te=="object"||"displayName"in te||"props"in te||"__vccOpts"in te}function useLink(te){const ee=inject(routerKey),re=inject(routeLocationKey),ne=computed(()=>ee.resolve(unref(te.to))),ie=computed(()=>{const{matched:fe}=ne.value,{length:ue}=fe,le=fe[ue-1],pe=re.matched;if(!le||!pe.length)return-1;const rr=pe.findIndex(isSameRouteRecord.bind(null,le));if(rr>-1)return rr;const cr=getOriginalPath(fe[ue-2]);return ue>1&&getOriginalPath(le)===cr&&pe[pe.length-1].path!==cr?pe.findIndex(isSameRouteRecord.bind(null,fe[ue-2])):rr}),oe=computed(()=>ie.value>-1&&includesParams(re.params,ne.value.params)),se=computed(()=>ie.value>-1&&ie.value===re.matched.length-1&&isSameRouteLocationParams(re.params,ne.value.params));function ae(fe={}){return guardEvent(fe)?ee[unref(te.replace)?"replace":"push"](unref(te.to)).catch(noop):Promise.resolve()}return{route:ne,href:computed(()=>ne.value.href),isActive:oe,isExactActive:se,navigate:ae}}const RouterLinkImpl=defineComponent({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(te,{slots:ee}){const re=reactive(useLink(te)),{options:ne}=inject(routerKey),ie=computed(()=>({[getLinkClass(te.activeClass,ne.linkActiveClass,"router-link-active")]:re.isActive,[getLinkClass(te.exactActiveClass,ne.linkExactActiveClass,"router-link-exact-active")]:re.isExactActive}));return()=>{const oe=ee.default&&ee.default(re);return te.custom?oe:h$4("a",{"aria-current":re.isExactActive?te.ariaCurrentValue:null,href:re.href,onClick:re.navigate,class:ie.value},oe)}}}),RouterLink=RouterLinkImpl;function guardEvent(te){if(!(te.metaKey||te.altKey||te.ctrlKey||te.shiftKey)&&!te.defaultPrevented&&!(te.button!==void 0&&te.button!==0)){if(te.currentTarget&&te.currentTarget.getAttribute){const ee=te.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(ee))return}return te.preventDefault&&te.preventDefault(),!0}}function includesParams(te,ee){for(const re in ee){const ne=ee[re],ie=te[re];if(typeof ne=="string"){if(ne!==ie)return!1}else if(!Array.isArray(ie)||ie.length!==ne.length||ne.some((oe,se)=>oe!==ie[se]))return!1}return!0}function getOriginalPath(te){return te?te.aliasOf?te.aliasOf.path:te.path:""}const getLinkClass=(te,ee,re)=>te!=null?te:ee!=null?ee:re,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(te,{attrs:ee,slots:re}){const ne=inject(routerViewLocationKey),ie=computed(()=>te.route||ne.value),oe=inject(viewDepthKey,0),se=computed(()=>ie.value.matched[oe]);provide(viewDepthKey,oe+1),provide(matchedRouteKey,se),provide(routerViewLocationKey,ie);const ae=ref();return watch(()=>[ae.value,se.value,te.name],([fe,ue,le],[pe,rr,cr])=>{ue&&(ue.instances[le]=fe,rr&&rr!==ue&&fe&&fe===pe&&(ue.leaveGuards.size||(ue.leaveGuards=rr.leaveGuards),ue.updateGuards.size||(ue.updateGuards=rr.updateGuards))),fe&&ue&&(!rr||!isSameRouteRecord(ue,rr)||!pe)&&(ue.enterCallbacks[le]||[]).forEach(ar=>ar(fe))},{flush:"post"}),()=>{const fe=ie.value,ue=se.value,le=ue&&ue.components[te.name],pe=te.name;if(!le)return normalizeSlot(re.default,{Component:le,route:fe});const rr=ue.props[te.name],cr=rr?rr===!0?fe.params:typeof rr=="function"?rr(fe):rr:null,mr=h$4(le,assign$1({},cr,ee,{onVnodeUnmounted:pr=>{pr.component.isUnmounted&&(ue.instances[pe]=null)},ref:ae}));return normalizeSlot(re.default,{Component:mr,route:fe})||mr}}});function normalizeSlot(te,ee){if(!te)return null;const re=te(ee);return re.length===1?re[0]:re}const RouterView=RouterViewImpl;function createRouter(te){const ee=createRouterMatcher(te.routes,te),re=te.parseQuery||parseQuery,ne=te.stringifyQuery||stringifyQuery,ie=te.history,oe=useCallbacks(),se=useCallbacks(),ae=useCallbacks(),fe=shallowRef(START_LOCATION_NORMALIZED);let ue=START_LOCATION_NORMALIZED;isBrowser$1&&te.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const le=applyToParams.bind(null,br=>""+br),pe=applyToParams.bind(null,encodeParam),rr=applyToParams.bind(null,decode);function cr(br,Cr){let Lr,Dr;return isRouteName(br)?(Lr=ee.getRecordMatcher(br),Dr=Cr):Dr=br,ee.addRoute(Dr,Lr)}function ar(br){const Cr=ee.getRecordMatcher(br);Cr&&ee.removeRoute(Cr)}function mr(){return ee.getRoutes().map(br=>br.record)}function pr(br){return!!ee.getRecordMatcher(br)}function yr(br,Cr){if(Cr=assign$1({},Cr||fe.value),typeof br=="string"){const Xr=parseURL(re,br,Cr.path),Fr=ee.resolve({path:Xr.path},Cr),Ur=ie.createHref(Xr.fullPath);return assign$1(Xr,Fr,{params:rr(Fr.params),hash:decode(Xr.hash),redirectedFrom:void 0,href:Ur})}let Lr;if("path"in br)Lr=assign$1({},br,{path:parseURL(re,br.path,Cr.path).path});else{const Xr=assign$1({},br.params);for(const Fr in Xr)Xr[Fr]==null&&delete Xr[Fr];Lr=assign$1({},br,{params:pe(br.params)}),Cr.params=pe(Cr.params)}const Dr=ee.resolve(Lr,Cr),Wr=br.hash||"";Dr.params=le(rr(Dr.params));const Qr=stringifyURL(ne,assign$1({},br,{hash:encodeHash(Wr),path:Dr.path})),Zr=ie.createHref(Qr);return assign$1({fullPath:Qr,hash:Wr,query:ne===stringifyQuery?normalizeQuery(br.query):br.query||{}},Dr,{redirectedFrom:void 0,href:Zr})}function vr(br){return typeof br=="string"?parseURL(re,br,fe.value.path):assign$1({},br)}function Er(br,Cr){if(ue!==br)return createRouterError(8,{from:Cr,to:br})}function Tr(br){return Hr(br)}function Ir(br){return Tr(assign$1(vr(br),{replace:!0}))}function Or(br){const Cr=br.matched[br.matched.length-1];if(Cr&&Cr.redirect){const{redirect:Lr}=Cr;let Dr=typeof Lr=="function"?Lr(br):Lr;return typeof Dr=="string"&&(Dr=Dr.includes("?")||Dr.includes("#")?Dr=vr(Dr):{path:Dr},Dr.params={}),assign$1({query:br.query,hash:br.hash,params:br.params},Dr)}}function Hr(br,Cr){const Lr=ue=yr(br),Dr=fe.value,Wr=br.state,Qr=br.force,Zr=br.replace===!0,Xr=Or(Lr);if(Xr)return Hr(assign$1(vr(Xr),{state:Wr,force:Qr,replace:Zr}),Cr||Lr);const Fr=Lr;Fr.redirectedFrom=Cr;let Ur;return!Qr&&isSameRouteLocation(ne,Dr,Lr)&&(Ur=createRouterError(16,{to:Fr,from:Dr}),nr(Dr,Dr,!0,!1)),(Ur?Promise.resolve(Ur):Br(Fr,Dr)).catch(Kr=>isNavigationFailure(Kr)?isNavigationFailure(Kr,2)?Kr:er(Kr):ur(Kr,Fr,Dr)).then(Kr=>{if(Kr){if(isNavigationFailure(Kr,2))return Hr(assign$1(vr(Kr.to),{state:Wr,force:Qr,replace:Zr}),Cr||Fr)}else Kr=dr(Fr,Dr,!0,Zr,Wr);return Nr(Fr,Dr,Kr),Kr})}function Pr(br,Cr){const Lr=Er(br,Cr);return Lr?Promise.reject(Lr):Promise.resolve()}function Br(br,Cr){let Lr;const[Dr,Wr,Qr]=extractChangingRecords(br,Cr);Lr=extractComponentsGuards(Dr.reverse(),"beforeRouteLeave",br,Cr);for(const Xr of Dr)Xr.leaveGuards.forEach(Fr=>{Lr.push(guardToPromiseFn(Fr,br,Cr))});const Zr=Pr.bind(null,br,Cr);return Lr.push(Zr),runGuardQueue(Lr).then(()=>{Lr=[];for(const Xr of oe.list())Lr.push(guardToPromiseFn(Xr,br,Cr));return Lr.push(Zr),runGuardQueue(Lr)}).then(()=>{Lr=extractComponentsGuards(Wr,"beforeRouteUpdate",br,Cr);for(const Xr of Wr)Xr.updateGuards.forEach(Fr=>{Lr.push(guardToPromiseFn(Fr,br,Cr))});return Lr.push(Zr),runGuardQueue(Lr)}).then(()=>{Lr=[];for(const Xr of br.matched)if(Xr.beforeEnter&&!Cr.matched.includes(Xr))if(Array.isArray(Xr.beforeEnter))for(const Fr of Xr.beforeEnter)Lr.push(guardToPromiseFn(Fr,br,Cr));else Lr.push(guardToPromiseFn(Xr.beforeEnter,br,Cr));return Lr.push(Zr),runGuardQueue(Lr)}).then(()=>(br.matched.forEach(Xr=>Xr.enterCallbacks={}),Lr=extractComponentsGuards(Qr,"beforeRouteEnter",br,Cr),Lr.push(Zr),runGuardQueue(Lr))).then(()=>{Lr=[];for(const Xr of se.list())Lr.push(guardToPromiseFn(Xr,br,Cr));return Lr.push(Zr),runGuardQueue(Lr)}).catch(Xr=>isNavigationFailure(Xr,8)?Xr:Promise.reject(Xr))}function Nr(br,Cr,Lr){for(const Dr of ae.list())Dr(br,Cr,Lr)}function dr(br,Cr,Lr,Dr,Wr){const Qr=Er(br,Cr);if(Qr)return Qr;const Zr=Cr===START_LOCATION_NORMALIZED,Xr=isBrowser$1?history.state:{};Lr&&(Dr||Zr?ie.replace(br.fullPath,assign$1({scroll:Zr&&Xr&&Xr.scroll},Wr)):ie.push(br.fullPath,Wr)),fe.value=br,nr(br,Cr,Lr,Zr),er()}let tr;function ve(){tr=ie.listen((br,Cr,Lr)=>{const Dr=yr(br),Wr=Or(Dr);if(Wr){Hr(assign$1(Wr,{replace:!0}),Dr).catch(noop);return}ue=Dr;const Qr=fe.value;isBrowser$1&&saveScrollPosition(getScrollKey(Qr.fullPath,Lr.delta),computeScrollPosition()),Br(Dr,Qr).catch(Zr=>isNavigationFailure(Zr,12)?Zr:isNavigationFailure(Zr,2)?(Hr(Zr.to,Dr).then(Xr=>{isNavigationFailure(Xr,20)&&!Lr.delta&&Lr.type===NavigationType.pop&&ie.go(-1,!1)}).catch(noop),Promise.reject()):(Lr.delta&&ie.go(-Lr.delta,!1),ur(Zr,Dr,Qr))).then(Zr=>{Zr=Zr||dr(Dr,Qr,!1),Zr&&(Lr.delta?ie.go(-Lr.delta,!1):Lr.type===NavigationType.pop&&isNavigationFailure(Zr,20)&&ie.go(-1,!1)),Nr(Dr,Qr,Zr)}).catch(noop)})}let ce=useCallbacks(),me=useCallbacks(),ir;function ur(br,Cr,Lr){er(br);const Dr=me.list();return Dr.length?Dr.forEach(Wr=>Wr(br,Cr,Lr)):console.error(br),Promise.reject(br)}function lr(){return ir&&fe.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((br,Cr)=>{ce.add([br,Cr])})}function er(br){return ir||(ir=!br,ve(),ce.list().forEach(([Cr,Lr])=>br?Lr(br):Cr()),ce.reset()),br}function nr(br,Cr,Lr,Dr){const{scrollBehavior:Wr}=te;if(!isBrowser$1||!Wr)return Promise.resolve();const Qr=!Lr&&getSavedScrollPosition(getScrollKey(br.fullPath,0))||(Dr||!Lr)&&history.state&&history.state.scroll||null;return nextTick().then(()=>Wr(br,Cr,Qr)).then(Zr=>Zr&&scrollToPosition(Zr)).catch(Zr=>ur(Zr,br,Cr))}const or=br=>ie.go(br);let ye;const gr=new Set;return{currentRoute:fe,addRoute:cr,removeRoute:ar,hasRoute:pr,getRoutes:mr,resolve:yr,options:te,push:Tr,replace:Ir,go:or,back:()=>or(-1),forward:()=>or(1),beforeEach:oe.add,beforeResolve:se.add,afterEach:ae.add,onError:me.add,isReady:lr,install(br){const Cr=this;br.component("RouterLink",RouterLink),br.component("RouterView",RouterView),br.config.globalProperties.$router=Cr,Object.defineProperty(br.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(fe)}),isBrowser$1&&!ye&&fe.value===START_LOCATION_NORMALIZED&&(ye=!0,Tr(ie.location).catch(Wr=>{}));const Lr={};for(const Wr in START_LOCATION_NORMALIZED)Lr[Wr]=computed(()=>fe.value[Wr]);br.provide(routerKey,Cr),br.provide(routeLocationKey,reactive(Lr)),br.provide(routerViewLocationKey,fe);const Dr=br.unmount;gr.add(br),br.unmount=function(){gr.delete(br),gr.size<1&&(ue=START_LOCATION_NORMALIZED,tr&&tr(),fe.value=START_LOCATION_NORMALIZED,ye=!1,ir=!1),Dr()}}}}function runGuardQueue(te){return te.reduce((ee,re)=>ee.then(()=>re()),Promise.resolve())}function extractChangingRecords(te,ee){const re=[],ne=[],ie=[],oe=Math.max(ee.matched.length,te.matched.length);for(let se=0;se<oe;se++){const ae=ee.matched[se];ae&&(te.matched.find(ue=>isSameRouteRecord(ue,ae))?ne.push(ae):re.push(ae));const fe=te.matched[se];fe&&(ee.matched.find(ue=>isSameRouteRecord(ue,fe))||ie.push(fe))}return[re,ne,ie]}function useRouter(){return inject(routerKey)}function useRoute(){return inject(routeLocationKey)}/*!
  * @soerenmartius/vue3-clipboard v0.1.2
  * (c) 2021 Soeren Martius
  * @license MIT
  */var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(te){return te&&te.__esModule&&Object.prototype.hasOwnProperty.call(te,"default")?te.default:te}function createCommonjsModule(te,ee,re){return re={path:ee,exports:{},require:function(ne,ie){return commonjsRequire(ne,ie==null?re.path:ie)}},te(re,re.exports),re.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var clipboard=createCommonjsModule(function(te,ee){/*!
 * clipboard.js v2.0.6
 * https://clipboardjs.com/
 * 
 * Licensed MIT  Zeno Rocha
 */(function(ne,ie){te.exports=ie()})(commonjsGlobal,function(){return function(re){var ne={};function ie(oe){if(ne[oe])return ne[oe].exports;var se=ne[oe]={i:oe,l:!1,exports:{}};return re[oe].call(se.exports,se,se.exports,ie),se.l=!0,se.exports}return ie.m=re,ie.c=ne,ie.d=function(oe,se,ae){ie.o(oe,se)||Object.defineProperty(oe,se,{enumerable:!0,get:ae})},ie.r=function(oe){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(oe,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(oe,"__esModule",{value:!0})},ie.t=function(oe,se){if(se&1&&(oe=ie(oe)),se&8||se&4&&typeof oe=="object"&&oe&&oe.__esModule)return oe;var ae=Object.create(null);if(ie.r(ae),Object.defineProperty(ae,"default",{enumerable:!0,value:oe}),se&2&&typeof oe!="string")for(var fe in oe)ie.d(ae,fe,function(ue){return oe[ue]}.bind(null,fe));return ae},ie.n=function(oe){var se=oe&&oe.__esModule?function(){return oe.default}:function(){return oe};return ie.d(se,"a",se),se},ie.o=function(oe,se){return Object.prototype.hasOwnProperty.call(oe,se)},ie.p="",ie(ie.s=6)}([function(re,ne){function ie(oe){var se;if(oe.nodeName==="SELECT")oe.focus(),se=oe.value;else if(oe.nodeName==="INPUT"||oe.nodeName==="TEXTAREA"){var ae=oe.hasAttribute("readonly");ae||oe.setAttribute("readonly",""),oe.select(),oe.setSelectionRange(0,oe.value.length),ae||oe.removeAttribute("readonly"),se=oe.value}else{oe.hasAttribute("contenteditable")&&oe.focus();var fe=window.getSelection(),ue=document.createRange();ue.selectNodeContents(oe),fe.removeAllRanges(),fe.addRange(ue),se=fe.toString()}return se}re.exports=ie},function(re,ne){function ie(){}ie.prototype={on:function(oe,se,ae){var fe=this.e||(this.e={});return(fe[oe]||(fe[oe]=[])).push({fn:se,ctx:ae}),this},once:function(oe,se,ae){var fe=this;function ue(){fe.off(oe,ue),se.apply(ae,arguments)}return ue._=se,this.on(oe,ue,ae)},emit:function(oe){var se=[].slice.call(arguments,1),ae=((this.e||(this.e={}))[oe]||[]).slice(),fe=0,ue=ae.length;for(fe;fe<ue;fe++)ae[fe].fn.apply(ae[fe].ctx,se);return this},off:function(oe,se){var ae=this.e||(this.e={}),fe=ae[oe],ue=[];if(fe&&se)for(var le=0,pe=fe.length;le<pe;le++)fe[le].fn!==se&&fe[le].fn._!==se&&ue.push(fe[le]);return ue.length?ae[oe]=ue:delete ae[oe],this}},re.exports=ie,re.exports.TinyEmitter=ie},function(re,ne,ie){var oe=ie(3),se=ie(4);function ae(pe,rr,cr){if(!pe&&!rr&&!cr)throw new Error("Missing required arguments");if(!oe.string(rr))throw new TypeError("Second argument must be a String");if(!oe.fn(cr))throw new TypeError("Third argument must be a Function");if(oe.node(pe))return fe(pe,rr,cr);if(oe.nodeList(pe))return ue(pe,rr,cr);if(oe.string(pe))return le(pe,rr,cr);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function fe(pe,rr,cr){return pe.addEventListener(rr,cr),{destroy:function(){pe.removeEventListener(rr,cr)}}}function ue(pe,rr,cr){return Array.prototype.forEach.call(pe,function(ar){ar.addEventListener(rr,cr)}),{destroy:function(){Array.prototype.forEach.call(pe,function(ar){ar.removeEventListener(rr,cr)})}}}function le(pe,rr,cr){return se(document.body,pe,rr,cr)}re.exports=ae},function(re,ne){ne.node=function(ie){return ie!==void 0&&ie instanceof HTMLElement&&ie.nodeType===1},ne.nodeList=function(ie){var oe=Object.prototype.toString.call(ie);return ie!==void 0&&(oe==="[object NodeList]"||oe==="[object HTMLCollection]")&&"length"in ie&&(ie.length===0||ne.node(ie[0]))},ne.string=function(ie){return typeof ie=="string"||ie instanceof String},ne.fn=function(ie){var oe=Object.prototype.toString.call(ie);return oe==="[object Function]"}},function(re,ne,ie){var oe=ie(5);function se(ue,le,pe,rr,cr){var ar=fe.apply(this,arguments);return ue.addEventListener(pe,ar,cr),{destroy:function(){ue.removeEventListener(pe,ar,cr)}}}function ae(ue,le,pe,rr,cr){return typeof ue.addEventListener=="function"?se.apply(null,arguments):typeof pe=="function"?se.bind(null,document).apply(null,arguments):(typeof ue=="string"&&(ue=document.querySelectorAll(ue)),Array.prototype.map.call(ue,function(ar){return se(ar,le,pe,rr,cr)}))}function fe(ue,le,pe,rr){return function(cr){cr.delegateTarget=oe(cr.target,le),cr.delegateTarget&&rr.call(ue,cr)}}re.exports=ae},function(re,ne){var ie=9;if(typeof Element!="undefined"&&!Element.prototype.matches){var oe=Element.prototype;oe.matches=oe.matchesSelector||oe.mozMatchesSelector||oe.msMatchesSelector||oe.oMatchesSelector||oe.webkitMatchesSelector}function se(ae,fe){for(;ae&&ae.nodeType!==ie;){if(typeof ae.matches=="function"&&ae.matches(fe))return ae;ae=ae.parentNode}}re.exports=se},function(re,ne,ie){ie.r(ne);var oe=ie(0),se=ie.n(oe),ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Hr){return typeof Hr}:function(Hr){return Hr&&typeof Symbol=="function"&&Hr.constructor===Symbol&&Hr!==Symbol.prototype?"symbol":typeof Hr},fe=function(){function Hr(Pr,Br){for(var Nr=0;Nr<Br.length;Nr++){var dr=Br[Nr];dr.enumerable=dr.enumerable||!1,dr.configurable=!0,"value"in dr&&(dr.writable=!0),Object.defineProperty(Pr,dr.key,dr)}}return function(Pr,Br,Nr){return Br&&Hr(Pr.prototype,Br),Nr&&Hr(Pr,Nr),Pr}}();function ue(Hr,Pr){if(!(Hr instanceof Pr))throw new TypeError("Cannot call a class as a function")}var le=function(){function Hr(Pr){ue(this,Hr),this.resolveOptions(Pr),this.initSelection()}return fe(Hr,[{key:"resolveOptions",value:function(){var Br=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=Br.action,this.container=Br.container,this.emitter=Br.emitter,this.target=Br.target,this.text=Br.text,this.trigger=Br.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var Br=this,Nr=document.documentElement.getAttribute("dir")=="rtl";this.removeFake(),this.fakeHandlerCallback=function(){return Br.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[Nr?"right":"left"]="-9999px";var dr=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=dr+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=se()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=se()(this.target),this.copyText()}},{key:"copyText",value:function(){var Br=void 0;try{Br=document.execCommand(this.action)}catch{Br=!1}this.handleResult(Br)}},{key:"handleResult",value:function(Br){this.emitter.emit(Br?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var Br=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"copy";if(this._action=Br,this._action!=="copy"&&this._action!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(Br){if(Br!==void 0)if(Br&&(typeof Br=="undefined"?"undefined":ae(Br))==="object"&&Br.nodeType===1){if(this.action==="copy"&&Br.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(this.action==="cut"&&(Br.hasAttribute("readonly")||Br.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`);this._target=Br}else throw new Error('Invalid "target" value, use a valid Element')},get:function(){return this._target}}]),Hr}(),pe=le,rr=ie(1),cr=ie.n(rr),ar=ie(2),mr=ie.n(ar),pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Hr){return typeof Hr}:function(Hr){return Hr&&typeof Symbol=="function"&&Hr.constructor===Symbol&&Hr!==Symbol.prototype?"symbol":typeof Hr},yr=function(){function Hr(Pr,Br){for(var Nr=0;Nr<Br.length;Nr++){var dr=Br[Nr];dr.enumerable=dr.enumerable||!1,dr.configurable=!0,"value"in dr&&(dr.writable=!0),Object.defineProperty(Pr,dr.key,dr)}}return function(Pr,Br,Nr){return Br&&Hr(Pr.prototype,Br),Nr&&Hr(Pr,Nr),Pr}}();function vr(Hr,Pr){if(!(Hr instanceof Pr))throw new TypeError("Cannot call a class as a function")}function Er(Hr,Pr){if(!Hr)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Pr&&(typeof Pr=="object"||typeof Pr=="function")?Pr:Hr}function Tr(Hr,Pr){if(typeof Pr!="function"&&Pr!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Pr);Hr.prototype=Object.create(Pr&&Pr.prototype,{constructor:{value:Hr,enumerable:!1,writable:!0,configurable:!0}}),Pr&&(Object.setPrototypeOf?Object.setPrototypeOf(Hr,Pr):Hr.__proto__=Pr)}var Ir=function(Hr){Tr(Pr,Hr);function Pr(Br,Nr){vr(this,Pr);var dr=Er(this,(Pr.__proto__||Object.getPrototypeOf(Pr)).call(this));return dr.resolveOptions(Nr),dr.listenClick(Br),dr}return yr(Pr,[{key:"resolveOptions",value:function(){var Nr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof Nr.action=="function"?Nr.action:this.defaultAction,this.target=typeof Nr.target=="function"?Nr.target:this.defaultTarget,this.text=typeof Nr.text=="function"?Nr.text:this.defaultText,this.container=pr(Nr.container)==="object"?Nr.container:document.body}},{key:"listenClick",value:function(Nr){var dr=this;this.listener=mr()(Nr,"click",function(tr){return dr.onClick(tr)})}},{key:"onClick",value:function(Nr){var dr=Nr.delegateTarget||Nr.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new pe({action:this.action(dr),target:this.target(dr),text:this.text(dr),container:this.container,trigger:dr,emitter:this})}},{key:"defaultAction",value:function(Nr){return Or("action",Nr)}},{key:"defaultTarget",value:function(Nr){var dr=Or("target",Nr);if(dr)return document.querySelector(dr)}},{key:"defaultText",value:function(Nr){return Or("text",Nr)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var Nr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],dr=typeof Nr=="string"?[Nr]:Nr,tr=!!document.queryCommandSupported;return dr.forEach(function(ve){tr=tr&&!!document.queryCommandSupported(ve)}),tr}}]),Pr}(cr.a);function Or(Hr,Pr){var Br="data-clipboard-"+Hr;if(!!Pr.hasAttribute(Br))return Pr.getAttribute(Br)}ne.default=Ir}]).default})}),ClipboardJS=getDefaultExportFromCjs(clipboard);const defaultConfig={autoSetContainer:!1,appendToBody:!0},VueClipboard={config:te=>{const{autoSetContainer:ee,appendToBody:re}=te;defaultConfig.autoSetContainer=ee||!1,defaultConfig.appendToBody=re||!0},install:te=>{te.config.globalProperties.$vclipboard=toClipboard,te.directive("clipboard",{beforeMount(ee,re){if(re.arg==="success")ee._vClipboard_success=re.value;else if(re.arg==="error")ee._vClipboard_error=re.value;else{const ne=new ClipboardJS(ee,{text:()=>re.value,action:()=>re.arg==="cut"?"cut":"copy",container:defaultConfig.autoSetContainer?ee:void 0});ne.on("success",ie=>{const oe=ee._vClipboard_success;oe&&oe(ie)}),ne.on("error",ie=>{const oe=ee._vClipboard_error;oe&&oe(ie)}),ee._vClipboard=ne}},updated(ee,re){re.arg==="success"?ee._vClipboard_success=re.value:re.arg==="error"?ee._vClipboard_error=re.value:(ee._vClipboard.text=()=>re.value,ee._vClipboard.action=()=>re.arg==="cut"?"cut":"copy")},unmounted(ee,re){re.arg==="success"?delete ee._vClipboard_success:re.arg==="error"?delete ee._vClipboard_error:(ee._vClipboard.destroy(),delete ee._vClipboard)}})},toClipboard:(te,ee)=>toClipboard(te,ee)},toClipboard=(te,ee="copy")=>new Promise((re,ne)=>{const ie=document.createElement("button"),oe=new ClipboardJS(ie,{text:()=>te,action:()=>ee});oe.on("success",se=>{oe.destroy(),re(se)}),oe.on("error",se=>{oe.destroy(),ne(se)}),defaultConfig.appendToBody&&document.body.appendChild(ie),ie.click(),defaultConfig.appendToBody&&document.body.removeChild(ie)});var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(te,ee,re)=>ee in te?__defProp(te,ee,{enumerable:!0,configurable:!0,writable:!0,value:re}):te[ee]=re,__spreadValues=(te,ee)=>{for(var re in ee||(ee={}))__hasOwnProp.call(ee,re)&&__defNormalProp(te,re,ee[re]);if(__getOwnPropSymbols)for(var re of __getOwnPropSymbols(ee))__propIsEnum.call(ee,re)&&__defNormalProp(te,re,ee[re]);return te},isFunction=te=>typeof te=="function",isString=te=>typeof te=="string",isNonEmptyString=te=>isString(te)&&te.trim().length>0,isNumber=te=>typeof te=="number",isUndefined=te=>typeof te=="undefined",isObject=te=>typeof te=="object"&&te!==null,isJSX=te=>hasProp(te,"tag")&&isNonEmptyString(te.tag),isTouchEvent=te=>window.TouchEvent&&te instanceof TouchEvent,isToastComponent=te=>hasProp(te,"component")&&isToastContent(te.component),isVueComponent=te=>isFunction(te)||isObject(te),isToastContent=te=>!isUndefined(te)&&(isString(te)||isVueComponent(te)||isToastComponent(te)),isDOMRect=te=>isObject(te)&&["height","width","right","left","top","bottom"].every(ee=>isNumber(te[ee])),hasProp=(te,ee)=>(isObject(te)||isFunction(te))&&ee in te,getId=(te=>()=>te++)(0);function getX(te){return isTouchEvent(te)?te.targetTouches[0].clientX:te.clientX}function getY(te){return isTouchEvent(te)?te.targetTouches[0].clientY:te.clientY}var removeElement=te=>{isUndefined(te.remove)?te.parentNode&&te.parentNode.removeChild(te):te.remove()},getVueComponentFromObj=te=>isToastComponent(te)?getVueComponentFromObj(te.component):isJSX(te)?defineComponent({render(){return te}}):typeof te=="string"?te:toRaw(unref(te)),normalizeToastComponent=te=>{if(typeof te=="string")return te;const ee=hasProp(te,"props")&&isObject(te.props)?te.props:{},re=hasProp(te,"listeners")&&isObject(te.listeners)?te.listeners:{};return{component:getVueComponentFromObj(te),props:ee,listeners:re}},isBrowser=()=>typeof window!="undefined",EventBus=class{constructor(){this.allHandlers={}}getHandlers(te){return this.allHandlers[te]||[]}on(te,ee){const re=this.getHandlers(te);re.push(ee),this.allHandlers[te]=re}off(te,ee){const re=this.getHandlers(te);re.splice(re.indexOf(ee)>>>0,1)}emit(te,ee){this.getHandlers(te).forEach(ne=>ne(ee))}},isEventBusInterface=te=>["on","off","emit"].every(ee=>hasProp(te,ee)&&isFunction(te[ee])),TYPE;(function(te){te.SUCCESS="success",te.ERROR="error",te.WARNING="warning",te.INFO="info",te.DEFAULT="default"})(TYPE||(TYPE={}));var POSITION;(function(te){te.TOP_LEFT="top-left",te.TOP_CENTER="top-center",te.TOP_RIGHT="top-right",te.BOTTOM_LEFT="bottom-left",te.BOTTOM_CENTER="bottom-center",te.BOTTOM_RIGHT="bottom-right"})(POSITION||(POSITION={}));var EVENTS;(function(te){te.ADD="add",te.DISMISS="dismiss",te.UPDATE="update",te.CLEAR="clear",te.UPDATE_DEFAULTS="update_defaults"})(EVENTS||(EVENTS={}));var VT_NAMESPACE="Vue-Toastification",COMMON={type:{type:String,default:TYPE.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},ICON={type:COMMON.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},CLOSE_BUTTON={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:COMMON.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},PROGRESS_BAR={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},TRANSITION={transition:{type:[Object,String],default:`${VT_NAMESPACE}__bounce`}},CORE_TOAST={position:{type:String,default:POSITION.TOP_RIGHT},draggable:COMMON.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:COMMON.trueBoolean,pauseOnHover:COMMON.trueBoolean,closeOnClick:COMMON.trueBoolean,timeout:PROGRESS_BAR.timeout,hideProgressBar:PROGRESS_BAR.hideProgressBar,toastClassName:COMMON.classNames,bodyClassName:COMMON.classNames,icon:ICON.customIcon,closeButton:CLOSE_BUTTON.component,closeButtonClassName:CLOSE_BUTTON.classNames,showCloseButtonOnHover:CLOSE_BUTTON.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new EventBus}},TOAST={id:{type:[String,Number],required:!0,default:0},type:COMMON.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},CONTAINER={container:{type:[Object,Function],default:()=>document.body},newestOnTop:COMMON.trueBoolean,maxToasts:{type:Number,default:20},transition:TRANSITION.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:te=>te},filterToasts:{type:Function,default:te=>te},containerClassName:COMMON.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},propValidators_default={CORE_TOAST,TOAST,CONTAINER,PROGRESS_BAR,ICON,TRANSITION,CLOSE_BUTTON},VtProgressBar_default=defineComponent({name:"VtProgressBar",props:propValidators_default.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${VT_NAMESPACE}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function render(te,ee){return openBlock(),createElementBlock("div",{style:normalizeStyle(te.style),class:normalizeClass(te.cpClass)},null,6)}VtProgressBar_default.render=render;var VtProgressBar_default2=VtProgressBar_default,VtCloseButton_default=defineComponent({name:"VtCloseButton",props:propValidators_default.CLOSE_BUTTON,computed:{buttonComponent(){return this.component!==!1?getVueComponentFromObj(this.component):"button"},classes(){const te=[`${VT_NAMESPACE}__close-button`];return this.showOnHover&&te.push("show-on-hover"),te.concat(this.classNames)}}}),_hoisted_1=createTextVNode(" \xD7 ");function render2(te,ee){return openBlock(),createBlock(resolveDynamicComponent(te.buttonComponent),mergeProps({"aria-label":te.ariaLabel,class:te.classes},te.$attrs),{default:withCtx(()=>[_hoisted_1]),_:1},16,["aria-label","class"])}VtCloseButton_default.render=render2;var VtCloseButton_default2=VtCloseButton_default,VtSuccessIcon_default={},_hoisted_12={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},_hoisted_2=createBaseVNode("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),_hoisted_3=[_hoisted_2];function render3(te,ee){return openBlock(),createElementBlock("svg",_hoisted_12,_hoisted_3)}VtSuccessIcon_default.render=render3;var VtSuccessIcon_default2=VtSuccessIcon_default,VtInfoIcon_default={},_hoisted_13={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},_hoisted_22=createBaseVNode("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),_hoisted_32=[_hoisted_22];function render4(te,ee){return openBlock(),createElementBlock("svg",_hoisted_13,_hoisted_32)}VtInfoIcon_default.render=render4;var VtInfoIcon_default2=VtInfoIcon_default,VtWarningIcon_default={},_hoisted_14={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},_hoisted_23=createBaseVNode("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),_hoisted_33=[_hoisted_23];function render5(te,ee){return openBlock(),createElementBlock("svg",_hoisted_14,_hoisted_33)}VtWarningIcon_default.render=render5;var VtWarningIcon_default2=VtWarningIcon_default,VtErrorIcon_default={},_hoisted_15={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},_hoisted_24=createBaseVNode("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),_hoisted_34=[_hoisted_24];function render6(te,ee){return openBlock(),createElementBlock("svg",_hoisted_15,_hoisted_34)}VtErrorIcon_default.render=render6;var VtErrorIcon_default2=VtErrorIcon_default,VtIcon_default=defineComponent({name:"VtIcon",props:propValidators_default.ICON,computed:{customIconChildren(){return hasProp(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return isString(this.customIcon)?this.trimValue(this.customIcon):hasProp(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return hasProp(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:isToastContent(this.customIcon)?getVueComponentFromObj(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[TYPE.DEFAULT]:VtInfoIcon_default2,[TYPE.INFO]:VtInfoIcon_default2,[TYPE.SUCCESS]:VtSuccessIcon_default2,[TYPE.ERROR]:VtErrorIcon_default2,[TYPE.WARNING]:VtWarningIcon_default2}[this.type]},iconClasses(){const te=[`${VT_NAMESPACE}__icon`];return this.hasCustomIcon?te.concat(this.customIconClass):te}},methods:{trimValue(te,ee=""){return isNonEmptyString(te)?te.trim():ee}}});function render7(te,ee){return openBlock(),createBlock(resolveDynamicComponent(te.component),{class:normalizeClass(te.iconClasses)},{default:withCtx(()=>[createTextVNode(toDisplayString(te.customIconChildren),1)]),_:1},8,["class"])}VtIcon_default.render=render7;var VtIcon_default2=VtIcon_default,VtToast_default=defineComponent({name:"VtToast",components:{ProgressBar:VtProgressBar_default2,CloseButton:VtCloseButton_default2,Icon:VtIcon_default2},inheritAttrs:!1,props:Object.assign({},propValidators_default.CORE_TOAST,propValidators_default.TOAST),data(){return{isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}},computed:{classes(){const te=[`${VT_NAMESPACE}__toast`,`${VT_NAMESPACE}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&te.push("disable-transition"),this.rtl&&te.push(`${VT_NAMESPACE}__toast--rtl`),te},bodyClasses(){return[`${VT_NAMESPACE}__toast-${isString(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return isDOMRect(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp,getVueComponentFromObj,closeToast(){this.eventBus.emit(EVENTS.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(!this.beingDragged||this.dragStart===this.dragPos.x)&&this.closeToast()},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const te=this.$el;te.addEventListener("touchstart",this.onDragStart,{passive:!0}),te.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const te=this.$el;te.removeEventListener("touchstart",this.onDragStart),te.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(te){this.beingDragged=!0,this.dragPos={x:getX(te),y:getY(te)},this.dragStart=getX(te),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(te){this.beingDragged&&(te.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:getX(te),y:getY(te)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,isDOMRect(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),_hoisted_16=["role"];function render8(te,ee){const re=resolveComponent("Icon"),ne=resolveComponent("CloseButton"),ie=resolveComponent("ProgressBar");return openBlock(),createElementBlock("div",{class:normalizeClass(te.classes),style:normalizeStyle(te.draggableStyle),onClick:ee[0]||(ee[0]=(...oe)=>te.clickHandler&&te.clickHandler(...oe)),onMouseenter:ee[1]||(ee[1]=(...oe)=>te.hoverPause&&te.hoverPause(...oe)),onMouseleave:ee[2]||(ee[2]=(...oe)=>te.hoverPlay&&te.hoverPlay(...oe))},[te.icon?(openBlock(),createBlock(re,{key:0,"custom-icon":te.icon,type:te.type},null,8,["custom-icon","type"])):createCommentVNode("v-if",!0),createBaseVNode("div",{role:te.accessibility.toastRole||"alert",class:normalizeClass(te.bodyClasses)},[typeof te.content=="string"?(openBlock(),createElementBlock(Fragment$1,{key:0},[createTextVNode(toDisplayString(te.content),1)],2112)):(openBlock(),createBlock(resolveDynamicComponent(te.getVueComponentFromObj(te.content)),mergeProps({key:1,"toast-id":te.id},te.hasProp(te.content,"props")?te.content.props:{},toHandlers(te.hasProp(te.content,"listeners")?te.content.listeners:{}),{onCloseToast:te.closeToast}),null,16,["toast-id","onCloseToast"]))],10,_hoisted_16),te.closeButton?(openBlock(),createBlock(ne,{key:1,component:te.closeButton,"class-names":te.closeButtonClassName,"show-on-hover":te.showCloseButtonOnHover,"aria-label":te.accessibility.closeButtonLabel,onClick:withModifiers(te.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):createCommentVNode("v-if",!0),te.timeout?(openBlock(),createBlock(ie,{key:2,"is-running":te.isRunning,"hide-progress-bar":te.hideProgressBar,timeout:te.timeout,onCloseToast:te.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):createCommentVNode("v-if",!0)],38)}VtToast_default.render=render8;var VtToast_default2=VtToast_default,VtTransition_default=defineComponent({name:"VtTransition",props:propValidators_default.TRANSITION,emits:["leave"],methods:{hasProp,leave(te){te instanceof HTMLElement&&(te.style.left=te.offsetLeft+"px",te.style.top=te.offsetTop+"px",te.style.width=getComputedStyle(te).width,te.style.position="absolute")}}});function render9(te,ee){return openBlock(),createBlock(TransitionGroup,{tag:"div","enter-active-class":te.transition.enter?te.transition.enter:`${te.transition}-enter-active`,"move-class":te.transition.move?te.transition.move:`${te.transition}-move`,"leave-active-class":te.transition.leave?te.transition.leave:`${te.transition}-leave-active`,onLeave:te.leave},{default:withCtx(()=>[renderSlot(te.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}VtTransition_default.render=render9;var VtTransition_default2=VtTransition_default,VtToastContainer_default=defineComponent({name:"VueToastification",devtools:{hide:!0},components:{Toast:VtToast_default2,VtTransition:VtTransition_default2},props:Object.assign({},propValidators_default.CORE_TOAST,propValidators_default.CONTAINER,propValidators_default.TRANSITION),data(){return{count:0,positions:Object.values(POSITION),toasts:{},defaults:{}}},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const te=this.eventBus;te.on(EVENTS.ADD,this.addToast),te.on(EVENTS.CLEAR,this.clearToasts),te.on(EVENTS.DISMISS,this.dismissToast),te.on(EVENTS.UPDATE,this.updateToast),te.on(EVENTS.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(te){isFunction(te)&&(te=await te()),removeElement(this.$el),te.appendChild(this.$el)},setToast(te){isUndefined(te.id)||(this.toasts[te.id]=te)},addToast(te){te.content=normalizeToastComponent(te.content);const ee=Object.assign({},this.defaults,te.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[te.type],te),re=this.defaults.filterBeforeCreate(ee,this.toastArray);re&&this.setToast(re)},dismissToast(te){const ee=this.toasts[te];!isUndefined(ee)&&!isUndefined(ee.onClose)&&ee.onClose(),delete this.toasts[te]},clearToasts(){Object.keys(this.toasts).forEach(te=>{this.dismissToast(te)})},getPositionToasts(te){const ee=this.filteredToasts.filter(re=>re.position===te).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?ee.reverse():ee},updateDefaults(te){isUndefined(te.container)||this.setup(te.container),this.defaults=Object.assign({},this.defaults,te)},updateToast({id:te,options:ee,create:re}){this.toasts[te]?(ee.timeout&&ee.timeout===this.toasts[te].timeout&&ee.timeout++,this.setToast(Object.assign({},this.toasts[te],ee))):re&&this.addToast(Object.assign({},{id:te},ee))},getClasses(te){return[`${VT_NAMESPACE}__container`,te].concat(this.defaults.containerClassName)}}});function render10(te,ee){const re=resolveComponent("Toast"),ne=resolveComponent("VtTransition");return openBlock(),createElementBlock("div",null,[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(te.positions,ie=>(openBlock(),createElementBlock("div",{key:ie},[createVNode(ne,{transition:te.defaults.transition,class:normalizeClass(te.getClasses(ie))},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(te.getPositionToasts(ie),oe=>(openBlock(),createBlock(re,mergeProps({key:oe.id},oe),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}VtToastContainer_default.render=render10;var VtToastContainer_default2=VtToastContainer_default,buildInterface=(te={},ee=!0)=>{const re=te.eventBus=te.eventBus||new EventBus;ee&&nextTick(()=>{const oe=createApp(VtToastContainer_default2,__spreadValues({},te)),se=oe.mount(document.createElement("div")),ae=te.onMounted;if(isUndefined(ae)||ae(se,oe),te.shareAppContext){const fe=te.shareAppContext;fe===!0?console.warn(`[${VT_NAMESPACE}] App to share context with was not provided.`):(oe._context.components=fe._context.components,oe._context.directives=fe._context.directives,oe._context.mixins=fe._context.mixins,oe._context.provides=fe._context.provides,oe.config.globalProperties=fe.config.globalProperties)}});const ne=(oe,se)=>{const ae=Object.assign({},{id:getId(),type:TYPE.DEFAULT},se,{content:oe});return re.emit(EVENTS.ADD,ae),ae.id};ne.clear=()=>re.emit(EVENTS.CLEAR,void 0),ne.updateDefaults=oe=>{re.emit(EVENTS.UPDATE_DEFAULTS,oe)},ne.dismiss=oe=>{re.emit(EVENTS.DISMISS,oe)};function ie(oe,{content:se,options:ae},fe=!1){const ue=Object.assign({},ae,{content:se});re.emit(EVENTS.UPDATE,{id:oe,options:ue,create:fe})}return ne.update=ie,ne.success=(oe,se)=>ne(oe,Object.assign({},se,{type:TYPE.SUCCESS})),ne.info=(oe,se)=>ne(oe,Object.assign({},se,{type:TYPE.INFO})),ne.error=(oe,se)=>ne(oe,Object.assign({},se,{type:TYPE.ERROR})),ne.warning=(oe,se)=>ne(oe,Object.assign({},se,{type:TYPE.WARNING})),ne},createMockToastInterface=()=>{const te=()=>console.warn(`[${VT_NAMESPACE}] This plugin does not support SSR!`);return new Proxy(te,{get(){return te}})};function createToastInterface(te){return isBrowser()?isEventBusInterface(te)?buildInterface({eventBus:te},!1):buildInterface(te,!0):createMockToastInterface()}var toastInjectionKey=Symbol("VueToastification"),globalEventBus=new EventBus,VueToastificationPlugin=(te,ee)=>{(ee==null?void 0:ee.shareAppContext)===!0&&(ee.shareAppContext=te);const re=createToastInterface(__spreadValues({eventBus:globalEventBus},ee));te.provide(toastInjectionKey,re)},useToast=te=>{if(te)return createToastInterface(te);const ee=getCurrentInstance()?inject(toastInjectionKey,void 0):void 0;return ee||createToastInterface(globalEventBus)},src_default=VueToastificationPlugin;function toInteger(te){if(te===null||te===!0||te===!1)return NaN;var ee=Number(te);return isNaN(ee)?ee:ee<0?Math.ceil(ee):Math.floor(ee)}function requiredArgs(te,ee){if(ee.length<te)throw new TypeError(te+" argument"+(te>1?"s":"")+" required, but only "+ee.length+" present")}function toDate(te){requiredArgs(1,arguments);var ee=Object.prototype.toString.call(te);return te instanceof Date||typeof te=="object"&&ee==="[object Date]"?new Date(te.getTime()):typeof te=="number"||ee==="[object Number]"?new Date(te):((typeof te=="string"||ee==="[object String]")&&typeof console!="undefined"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function addDays(te,ee){requiredArgs(2,arguments);var re=toDate(te),ne=toInteger(ee);return isNaN(ne)?new Date(NaN):(ne&&re.setDate(re.getDate()+ne),re)}function addMonths(te,ee){requiredArgs(2,arguments);var re=toDate(te),ne=toInteger(ee);if(isNaN(ne))return new Date(NaN);if(!ne)return re;var ie=re.getDate(),oe=new Date(re.getTime());oe.setMonth(re.getMonth()+ne+1,0);var se=oe.getDate();return ie>=se?oe:(re.setFullYear(oe.getFullYear(),oe.getMonth(),ie),re)}function add(te,ee){if(requiredArgs(2,arguments),!ee||typeof ee!="object")return new Date(NaN);var re=ee.years?toInteger(ee.years):0,ne=ee.months?toInteger(ee.months):0,ie=ee.weeks?toInteger(ee.weeks):0,oe=ee.days?toInteger(ee.days):0,se=ee.hours?toInteger(ee.hours):0,ae=ee.minutes?toInteger(ee.minutes):0,fe=ee.seconds?toInteger(ee.seconds):0,ue=toDate(te),le=ne||re?addMonths(ue,ne+re*12):ue,pe=oe||ie?addDays(le,oe+ie*7):le,rr=ae+se*60,cr=fe+rr*60,ar=cr*1e3,mr=new Date(pe.getTime()+ar);return mr}function addMilliseconds(te,ee){requiredArgs(2,arguments);var re=toDate(te).getTime(),ne=toInteger(ee);return new Date(re+ne)}function startOfWeek(te,ee){requiredArgs(1,arguments);var re=ee||{},ne=re.locale,ie=ne&&ne.options&&ne.options.weekStartsOn,oe=ie==null?0:toInteger(ie),se=re.weekStartsOn==null?oe:toInteger(re.weekStartsOn);if(!(se>=0&&se<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var ae=toDate(te),fe=ae.getDay(),ue=(fe<se?7:0)+fe-se;return ae.setDate(ae.getDate()-ue),ae.setHours(0,0,0,0),ae}function startOfISOWeek(te){return requiredArgs(1,arguments),startOfWeek(te,{weekStartsOn:1})}function getISOWeekYear(te){requiredArgs(1,arguments);var ee=toDate(te),re=ee.getFullYear(),ne=new Date(0);ne.setFullYear(re+1,0,4),ne.setHours(0,0,0,0);var ie=startOfISOWeek(ne),oe=new Date(0);oe.setFullYear(re,0,4),oe.setHours(0,0,0,0);var se=startOfISOWeek(oe);return ee.getTime()>=ie.getTime()?re+1:ee.getTime()>=se.getTime()?re:re-1}function startOfISOWeekYear(te){requiredArgs(1,arguments);var ee=getISOWeekYear(te),re=new Date(0);re.setFullYear(ee,0,4),re.setHours(0,0,0,0);var ne=startOfISOWeek(re);return ne}function getTimezoneOffsetInMilliseconds(te){var ee=new Date(Date.UTC(te.getFullYear(),te.getMonth(),te.getDate(),te.getHours(),te.getMinutes(),te.getSeconds(),te.getMilliseconds()));return ee.setUTCFullYear(te.getFullYear()),te.getTime()-ee.getTime()}function startOfDay(te){requiredArgs(1,arguments);var ee=toDate(te);return ee.setHours(0,0,0,0),ee}var MILLISECONDS_IN_DAY$1=864e5;function differenceInCalendarDays(te,ee){requiredArgs(2,arguments);var re=startOfDay(te),ne=startOfDay(ee),ie=re.getTime()-getTimezoneOffsetInMilliseconds(re),oe=ne.getTime()-getTimezoneOffsetInMilliseconds(ne);return Math.round((ie-oe)/MILLISECONDS_IN_DAY$1)}function addYears(te,ee){requiredArgs(2,arguments);var re=toInteger(ee);return addMonths(te,re*12)}function isDate(te){return requiredArgs(1,arguments),te instanceof Date||typeof te=="object"&&Object.prototype.toString.call(te)==="[object Date]"}function isValid(te){if(requiredArgs(1,arguments),!isDate(te)&&typeof te!="number")return!1;var ee=toDate(te);return!isNaN(Number(ee))}function endOfWeek(te,ee){requiredArgs(1,arguments);var re=ee||{},ne=re.locale,ie=ne&&ne.options&&ne.options.weekStartsOn,oe=ie==null?0:toInteger(ie),se=re.weekStartsOn==null?oe:toInteger(re.weekStartsOn);if(!(se>=0&&se<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var ae=toDate(te),fe=ae.getDay(),ue=(fe<se?-7:0)+6-(fe-se);return ae.setDate(ae.getDate()+ue),ae.setHours(23,59,59,999),ae}var formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance=function(te,ee,re){var ne,ie=formatDistanceLocale[te];return typeof ie=="string"?ne=ie:ee===1?ne=ie.one:ne=ie.other.replace("{{count}}",ee.toString()),re!=null&&re.addSuffix?re.comparison&&re.comparison>0?"in "+ne:ne+" ago":ne},formatDistance$1=formatDistance;function buildFormatLongFn(te){return function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},re=ee.width?String(ee.width):te.defaultWidth,ne=te.formats[re]||te.formats[te.defaultWidth];return ne}}var dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatLong$1=formatLong,formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=function(te,ee,re,ne){return formatRelativeLocale[te]},formatRelative$1=formatRelative;function buildLocalizeFn(te){return function(ee,re){var ne=re||{},ie=ne.context?String(ne.context):"standalone",oe;if(ie==="formatting"&&te.formattingValues){var se=te.defaultFormattingWidth||te.defaultWidth,ae=ne.width?String(ne.width):se;oe=te.formattingValues[ae]||te.formattingValues[se]}else{var fe=te.defaultWidth,ue=ne.width?String(ne.width):te.defaultWidth;oe=te.values[ue]||te.values[fe]}var le=te.argumentCallback?te.argumentCallback(ee):ee;return oe[le]}}var eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=function(te,ee){var re=Number(te),ne=re%100;if(ne>20||ne<10)switch(ne%10){case 1:return re+"st";case 2:return re+"nd";case 3:return re+"rd"}return re+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:function(te){return te-1}}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})},localize$1=localize;function buildMatchFn(te){return function(ee){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=re.width,ie=ne&&te.matchPatterns[ne]||te.matchPatterns[te.defaultMatchWidth],oe=ee.match(ie);if(!oe)return null;var se=oe[0],ae=ne&&te.parsePatterns[ne]||te.parsePatterns[te.defaultParseWidth],fe=Array.isArray(ae)?findIndex(ae,function(pe){return pe.test(se)}):findKey(ae,function(pe){return pe.test(se)}),ue;ue=te.valueCallback?te.valueCallback(fe):fe,ue=re.valueCallback?re.valueCallback(ue):ue;var le=ee.slice(se.length);return{value:ue,rest:le}}}function findKey(te,ee){for(var re in te)if(te.hasOwnProperty(re)&&ee(te[re]))return re}function findIndex(te,ee){for(var re=0;re<te.length;re++)if(ee(te[re]))return re}function buildMatchPatternFn(te){return function(ee){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=ee.match(te.matchPattern);if(!ne)return null;var ie=ne[0],oe=ee.match(te.parsePattern);if(!oe)return null;var se=te.valueCallback?te.valueCallback(oe[0]):oe[0];se=re.valueCallback?re.valueCallback(se):se;var ae=ee.slice(ie.length);return{value:se,rest:ae}}}var matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:function(te){return parseInt(te,10)}}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:function(te){return te+1}}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},match$1=match,locale={code:"en-US",formatDistance:formatDistance$1,formatLong:formatLong$1,formatRelative:formatRelative$1,localize:localize$1,match:match$1,options:{weekStartsOn:0,firstWeekContainsDate:1}},defaultLocale=locale;function subMilliseconds(te,ee){requiredArgs(2,arguments);var re=toInteger(ee);return addMilliseconds(te,-re)}var MILLISECONDS_IN_DAY=864e5;function getUTCDayOfYear(te){requiredArgs(1,arguments);var ee=toDate(te),re=ee.getTime();ee.setUTCMonth(0,1),ee.setUTCHours(0,0,0,0);var ne=ee.getTime(),ie=re-ne;return Math.floor(ie/MILLISECONDS_IN_DAY)+1}function startOfUTCISOWeek(te){requiredArgs(1,arguments);var ee=1,re=toDate(te),ne=re.getUTCDay(),ie=(ne<ee?7:0)+ne-ee;return re.setUTCDate(re.getUTCDate()-ie),re.setUTCHours(0,0,0,0),re}function getUTCISOWeekYear(te){requiredArgs(1,arguments);var ee=toDate(te),re=ee.getUTCFullYear(),ne=new Date(0);ne.setUTCFullYear(re+1,0,4),ne.setUTCHours(0,0,0,0);var ie=startOfUTCISOWeek(ne),oe=new Date(0);oe.setUTCFullYear(re,0,4),oe.setUTCHours(0,0,0,0);var se=startOfUTCISOWeek(oe);return ee.getTime()>=ie.getTime()?re+1:ee.getTime()>=se.getTime()?re:re-1}function startOfUTCISOWeekYear(te){requiredArgs(1,arguments);var ee=getUTCISOWeekYear(te),re=new Date(0);re.setUTCFullYear(ee,0,4),re.setUTCHours(0,0,0,0);var ne=startOfUTCISOWeek(re);return ne}var MILLISECONDS_IN_WEEK$2=6048e5;function getUTCISOWeek(te){requiredArgs(1,arguments);var ee=toDate(te),re=startOfUTCISOWeek(ee).getTime()-startOfUTCISOWeekYear(ee).getTime();return Math.round(re/MILLISECONDS_IN_WEEK$2)+1}function startOfUTCWeek(te,ee){requiredArgs(1,arguments);var re=ee||{},ne=re.locale,ie=ne&&ne.options&&ne.options.weekStartsOn,oe=ie==null?0:toInteger(ie),se=re.weekStartsOn==null?oe:toInteger(re.weekStartsOn);if(!(se>=0&&se<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var ae=toDate(te),fe=ae.getUTCDay(),ue=(fe<se?7:0)+fe-se;return ae.setUTCDate(ae.getUTCDate()-ue),ae.setUTCHours(0,0,0,0),ae}function getUTCWeekYear(te,ee){requiredArgs(1,arguments);var re=toDate(te),ne=re.getUTCFullYear(),ie=ee||{},oe=ie.locale,se=oe&&oe.options&&oe.options.firstWeekContainsDate,ae=se==null?1:toInteger(se),fe=ie.firstWeekContainsDate==null?ae:toInteger(ie.firstWeekContainsDate);if(!(fe>=1&&fe<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var ue=new Date(0);ue.setUTCFullYear(ne+1,0,fe),ue.setUTCHours(0,0,0,0);var le=startOfUTCWeek(ue,ee),pe=new Date(0);pe.setUTCFullYear(ne,0,fe),pe.setUTCHours(0,0,0,0);var rr=startOfUTCWeek(pe,ee);return re.getTime()>=le.getTime()?ne+1:re.getTime()>=rr.getTime()?ne:ne-1}function startOfUTCWeekYear(te,ee){requiredArgs(1,arguments);var re=ee||{},ne=re.locale,ie=ne&&ne.options&&ne.options.firstWeekContainsDate,oe=ie==null?1:toInteger(ie),se=re.firstWeekContainsDate==null?oe:toInteger(re.firstWeekContainsDate),ae=getUTCWeekYear(te,ee),fe=new Date(0);fe.setUTCFullYear(ae,0,se),fe.setUTCHours(0,0,0,0);var ue=startOfUTCWeek(fe,ee);return ue}var MILLISECONDS_IN_WEEK$1=6048e5;function getUTCWeek(te,ee){requiredArgs(1,arguments);var re=toDate(te),ne=startOfUTCWeek(re,ee).getTime()-startOfUTCWeekYear(re,ee).getTime();return Math.round(ne/MILLISECONDS_IN_WEEK$1)+1}function addLeadingZeros(te,ee){for(var re=te<0?"-":"",ne=Math.abs(te).toString();ne.length<ee;)ne="0"+ne;return re+ne}var formatters$2={y:function(te,ee){var re=te.getUTCFullYear(),ne=re>0?re:1-re;return addLeadingZeros(ee==="yy"?ne%100:ne,ee.length)},M:function(te,ee){var re=te.getUTCMonth();return ee==="M"?String(re+1):addLeadingZeros(re+1,2)},d:function(te,ee){return addLeadingZeros(te.getUTCDate(),ee.length)},a:function(te,ee){var re=te.getUTCHours()/12>=1?"pm":"am";switch(ee){case"a":case"aa":return re.toUpperCase();case"aaa":return re;case"aaaaa":return re[0];case"aaaa":default:return re==="am"?"a.m.":"p.m."}},h:function(te,ee){return addLeadingZeros(te.getUTCHours()%12||12,ee.length)},H:function(te,ee){return addLeadingZeros(te.getUTCHours(),ee.length)},m:function(te,ee){return addLeadingZeros(te.getUTCMinutes(),ee.length)},s:function(te,ee){return addLeadingZeros(te.getUTCSeconds(),ee.length)},S:function(te,ee){var re=ee.length,ne=te.getUTCMilliseconds(),ie=Math.floor(ne*Math.pow(10,re-3));return addLeadingZeros(ie,ee.length)}},formatters$3=formatters$2,dayPeriodEnum={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(te,ee,re){var ne=te.getUTCFullYear()>0?1:0;switch(ee){case"G":case"GG":case"GGG":return re.era(ne,{width:"abbreviated"});case"GGGGG":return re.era(ne,{width:"narrow"});case"GGGG":default:return re.era(ne,{width:"wide"})}},y:function(te,ee,re){if(ee==="yo"){var ne=te.getUTCFullYear(),ie=ne>0?ne:1-ne;return re.ordinalNumber(ie,{unit:"year"})}return formatters$3.y(te,ee)},Y:function(te,ee,re,ne){var ie=getUTCWeekYear(te,ne),oe=ie>0?ie:1-ie;if(ee==="YY"){var se=oe%100;return addLeadingZeros(se,2)}return ee==="Yo"?re.ordinalNumber(oe,{unit:"year"}):addLeadingZeros(oe,ee.length)},R:function(te,ee){var re=getUTCISOWeekYear(te);return addLeadingZeros(re,ee.length)},u:function(te,ee){var re=te.getUTCFullYear();return addLeadingZeros(re,ee.length)},Q:function(te,ee,re){var ne=Math.ceil((te.getUTCMonth()+1)/3);switch(ee){case"Q":return String(ne);case"QQ":return addLeadingZeros(ne,2);case"Qo":return re.ordinalNumber(ne,{unit:"quarter"});case"QQQ":return re.quarter(ne,{width:"abbreviated",context:"formatting"});case"QQQQQ":return re.quarter(ne,{width:"narrow",context:"formatting"});case"QQQQ":default:return re.quarter(ne,{width:"wide",context:"formatting"})}},q:function(te,ee,re){var ne=Math.ceil((te.getUTCMonth()+1)/3);switch(ee){case"q":return String(ne);case"qq":return addLeadingZeros(ne,2);case"qo":return re.ordinalNumber(ne,{unit:"quarter"});case"qqq":return re.quarter(ne,{width:"abbreviated",context:"standalone"});case"qqqqq":return re.quarter(ne,{width:"narrow",context:"standalone"});case"qqqq":default:return re.quarter(ne,{width:"wide",context:"standalone"})}},M:function(te,ee,re){var ne=te.getUTCMonth();switch(ee){case"M":case"MM":return formatters$3.M(te,ee);case"Mo":return re.ordinalNumber(ne+1,{unit:"month"});case"MMM":return re.month(ne,{width:"abbreviated",context:"formatting"});case"MMMMM":return re.month(ne,{width:"narrow",context:"formatting"});case"MMMM":default:return re.month(ne,{width:"wide",context:"formatting"})}},L:function(te,ee,re){var ne=te.getUTCMonth();switch(ee){case"L":return String(ne+1);case"LL":return addLeadingZeros(ne+1,2);case"Lo":return re.ordinalNumber(ne+1,{unit:"month"});case"LLL":return re.month(ne,{width:"abbreviated",context:"standalone"});case"LLLLL":return re.month(ne,{width:"narrow",context:"standalone"});case"LLLL":default:return re.month(ne,{width:"wide",context:"standalone"})}},w:function(te,ee,re,ne){var ie=getUTCWeek(te,ne);return ee==="wo"?re.ordinalNumber(ie,{unit:"week"}):addLeadingZeros(ie,ee.length)},I:function(te,ee,re){var ne=getUTCISOWeek(te);return ee==="Io"?re.ordinalNumber(ne,{unit:"week"}):addLeadingZeros(ne,ee.length)},d:function(te,ee,re){return ee==="do"?re.ordinalNumber(te.getUTCDate(),{unit:"date"}):formatters$3.d(te,ee)},D:function(te,ee,re){var ne=getUTCDayOfYear(te);return ee==="Do"?re.ordinalNumber(ne,{unit:"dayOfYear"}):addLeadingZeros(ne,ee.length)},E:function(te,ee,re){var ne=te.getUTCDay();switch(ee){case"E":case"EE":case"EEE":return re.day(ne,{width:"abbreviated",context:"formatting"});case"EEEEE":return re.day(ne,{width:"narrow",context:"formatting"});case"EEEEEE":return re.day(ne,{width:"short",context:"formatting"});case"EEEE":default:return re.day(ne,{width:"wide",context:"formatting"})}},e:function(te,ee,re,ne){var ie=te.getUTCDay(),oe=(ie-ne.weekStartsOn+8)%7||7;switch(ee){case"e":return String(oe);case"ee":return addLeadingZeros(oe,2);case"eo":return re.ordinalNumber(oe,{unit:"day"});case"eee":return re.day(ie,{width:"abbreviated",context:"formatting"});case"eeeee":return re.day(ie,{width:"narrow",context:"formatting"});case"eeeeee":return re.day(ie,{width:"short",context:"formatting"});case"eeee":default:return re.day(ie,{width:"wide",context:"formatting"})}},c:function(te,ee,re,ne){var ie=te.getUTCDay(),oe=(ie-ne.weekStartsOn+8)%7||7;switch(ee){case"c":return String(oe);case"cc":return addLeadingZeros(oe,ee.length);case"co":return re.ordinalNumber(oe,{unit:"day"});case"ccc":return re.day(ie,{width:"abbreviated",context:"standalone"});case"ccccc":return re.day(ie,{width:"narrow",context:"standalone"});case"cccccc":return re.day(ie,{width:"short",context:"standalone"});case"cccc":default:return re.day(ie,{width:"wide",context:"standalone"})}},i:function(te,ee,re){var ne=te.getUTCDay(),ie=ne===0?7:ne;switch(ee){case"i":return String(ie);case"ii":return addLeadingZeros(ie,ee.length);case"io":return re.ordinalNumber(ie,{unit:"day"});case"iii":return re.day(ne,{width:"abbreviated",context:"formatting"});case"iiiii":return re.day(ne,{width:"narrow",context:"formatting"});case"iiiiii":return re.day(ne,{width:"short",context:"formatting"});case"iiii":default:return re.day(ne,{width:"wide",context:"formatting"})}},a:function(te,ee,re){var ne=te.getUTCHours(),ie=ne/12>=1?"pm":"am";switch(ee){case"a":case"aa":return re.dayPeriod(ie,{width:"abbreviated",context:"formatting"});case"aaa":return re.dayPeriod(ie,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return re.dayPeriod(ie,{width:"narrow",context:"formatting"});case"aaaa":default:return re.dayPeriod(ie,{width:"wide",context:"formatting"})}},b:function(te,ee,re){var ne=te.getUTCHours(),ie;switch(ne===12?ie=dayPeriodEnum.noon:ne===0?ie=dayPeriodEnum.midnight:ie=ne/12>=1?"pm":"am",ee){case"b":case"bb":return re.dayPeriod(ie,{width:"abbreviated",context:"formatting"});case"bbb":return re.dayPeriod(ie,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return re.dayPeriod(ie,{width:"narrow",context:"formatting"});case"bbbb":default:return re.dayPeriod(ie,{width:"wide",context:"formatting"})}},B:function(te,ee,re){var ne=te.getUTCHours(),ie;switch(ne>=17?ie=dayPeriodEnum.evening:ne>=12?ie=dayPeriodEnum.afternoon:ne>=4?ie=dayPeriodEnum.morning:ie=dayPeriodEnum.night,ee){case"B":case"BB":case"BBB":return re.dayPeriod(ie,{width:"abbreviated",context:"formatting"});case"BBBBB":return re.dayPeriod(ie,{width:"narrow",context:"formatting"});case"BBBB":default:return re.dayPeriod(ie,{width:"wide",context:"formatting"})}},h:function(te,ee,re){if(ee==="ho"){var ne=te.getUTCHours()%12;return ne===0&&(ne=12),re.ordinalNumber(ne,{unit:"hour"})}return formatters$3.h(te,ee)},H:function(te,ee,re){return ee==="Ho"?re.ordinalNumber(te.getUTCHours(),{unit:"hour"}):formatters$3.H(te,ee)},K:function(te,ee,re){var ne=te.getUTCHours()%12;return ee==="Ko"?re.ordinalNumber(ne,{unit:"hour"}):addLeadingZeros(ne,ee.length)},k:function(te,ee,re){var ne=te.getUTCHours();return ne===0&&(ne=24),ee==="ko"?re.ordinalNumber(ne,{unit:"hour"}):addLeadingZeros(ne,ee.length)},m:function(te,ee,re){return ee==="mo"?re.ordinalNumber(te.getUTCMinutes(),{unit:"minute"}):formatters$3.m(te,ee)},s:function(te,ee,re){return ee==="so"?re.ordinalNumber(te.getUTCSeconds(),{unit:"second"}):formatters$3.s(te,ee)},S:function(te,ee){return formatters$3.S(te,ee)},X:function(te,ee,re,ne){var ie=ne._originalDate||te,oe=ie.getTimezoneOffset();if(oe===0)return"Z";switch(ee){case"X":return formatTimezoneWithOptionalMinutes(oe);case"XXXX":case"XX":return formatTimezone(oe);case"XXXXX":case"XXX":default:return formatTimezone(oe,":")}},x:function(te,ee,re,ne){var ie=ne._originalDate||te,oe=ie.getTimezoneOffset();switch(ee){case"x":return formatTimezoneWithOptionalMinutes(oe);case"xxxx":case"xx":return formatTimezone(oe);case"xxxxx":case"xxx":default:return formatTimezone(oe,":")}},O:function(te,ee,re,ne){var ie=ne._originalDate||te,oe=ie.getTimezoneOffset();switch(ee){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(oe,":");case"OOOO":default:return"GMT"+formatTimezone(oe,":")}},z:function(te,ee,re,ne){var ie=ne._originalDate||te,oe=ie.getTimezoneOffset();switch(ee){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(oe,":");case"zzzz":default:return"GMT"+formatTimezone(oe,":")}},t:function(te,ee,re,ne){var ie=ne._originalDate||te,oe=Math.floor(ie.getTime()/1e3);return addLeadingZeros(oe,ee.length)},T:function(te,ee,re,ne){var ie=ne._originalDate||te,oe=ie.getTime();return addLeadingZeros(oe,ee.length)}};function formatTimezoneShort(te,ee){var re=te>0?"-":"+",ne=Math.abs(te),ie=Math.floor(ne/60),oe=ne%60;if(oe===0)return re+String(ie);var se=ee||"";return re+String(ie)+se+addLeadingZeros(oe,2)}function formatTimezoneWithOptionalMinutes(te,ee){if(te%60===0){var re=te>0?"-":"+";return re+addLeadingZeros(Math.abs(te)/60,2)}return formatTimezone(te,ee)}function formatTimezone(te,ee){var re=ee||"",ne=te>0?"-":"+",ie=Math.abs(te),oe=addLeadingZeros(Math.floor(ie/60),2),se=addLeadingZeros(ie%60,2);return ne+oe+re+se}var formatters$1=formatters;function dateLongFormatter(te,ee){switch(te){case"P":return ee.date({width:"short"});case"PP":return ee.date({width:"medium"});case"PPP":return ee.date({width:"long"});case"PPPP":default:return ee.date({width:"full"})}}function timeLongFormatter(te,ee){switch(te){case"p":return ee.time({width:"short"});case"pp":return ee.time({width:"medium"});case"ppp":return ee.time({width:"long"});case"pppp":default:return ee.time({width:"full"})}}function dateTimeLongFormatter(te,ee){var re=te.match(/(P+)(p+)?/)||[],ne=re[1],ie=re[2];if(!ie)return dateLongFormatter(te,ee);var oe;switch(ne){case"P":oe=ee.dateTime({width:"short"});break;case"PP":oe=ee.dateTime({width:"medium"});break;case"PPP":oe=ee.dateTime({width:"long"});break;case"PPPP":default:oe=ee.dateTime({width:"full"});break}return oe.replace("{{date}}",dateLongFormatter(ne,ee)).replace("{{time}}",timeLongFormatter(ie,ee))}var longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},longFormatters$1=longFormatters,protectedDayOfYearTokens=["D","DD"],protectedWeekYearTokens=["YY","YYYY"];function isProtectedDayOfYearToken(te){return protectedDayOfYearTokens.indexOf(te)!==-1}function isProtectedWeekYearToken(te){return protectedWeekYearTokens.indexOf(te)!==-1}function throwProtectedError(te,ee,re){if(te==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(ee,"`) for formatting years to the input `").concat(re,"`; see: https://git.io/fxCyr"));if(te==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(ee,"`) for formatting years to the input `").concat(re,"`; see: https://git.io/fxCyr"));if(te==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(ee,"`) for formatting days of the month to the input `").concat(re,"`; see: https://git.io/fxCyr"));if(te==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(ee,"`) for formatting days of the month to the input `").concat(re,"`; see: https://git.io/fxCyr"))}var formattingTokensRegExp$1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp$1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp$1=/^'([^]*?)'?$/,doubleQuoteRegExp$1=/''/g,unescapedLatinCharacterRegExp$1=/[a-zA-Z]/;function format(te,ee,re){requiredArgs(2,arguments);var ne=String(ee),ie=re||{},oe=ie.locale||defaultLocale,se=oe.options&&oe.options.firstWeekContainsDate,ae=se==null?1:toInteger(se),fe=ie.firstWeekContainsDate==null?ae:toInteger(ie.firstWeekContainsDate);if(!(fe>=1&&fe<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var ue=oe.options&&oe.options.weekStartsOn,le=ue==null?0:toInteger(ue),pe=ie.weekStartsOn==null?le:toInteger(ie.weekStartsOn);if(!(pe>=0&&pe<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!oe.localize)throw new RangeError("locale must contain localize property");if(!oe.formatLong)throw new RangeError("locale must contain formatLong property");var rr=toDate(te);if(!isValid(rr))throw new RangeError("Invalid time value");var cr=getTimezoneOffsetInMilliseconds(rr),ar=subMilliseconds(rr,cr),mr={firstWeekContainsDate:fe,weekStartsOn:pe,locale:oe,_originalDate:rr},pr=ne.match(longFormattingTokensRegExp$1).map(function(yr){var vr=yr[0];if(vr==="p"||vr==="P"){var Er=longFormatters$1[vr];return Er(yr,oe.formatLong,mr)}return yr}).join("").match(formattingTokensRegExp$1).map(function(yr){if(yr==="''")return"'";var vr=yr[0];if(vr==="'")return cleanEscapedString$1(yr);var Er=formatters$1[vr];if(Er)return!ie.useAdditionalWeekYearTokens&&isProtectedWeekYearToken(yr)&&throwProtectedError(yr,ee,te),!ie.useAdditionalDayOfYearTokens&&isProtectedDayOfYearToken(yr)&&throwProtectedError(yr,ee,te),Er(ar,yr,oe.localize,mr);if(vr.match(unescapedLatinCharacterRegExp$1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+vr+"`");return yr}).join("");return pr}function cleanEscapedString$1(te){return te.match(escapedStringRegExp$1)[1].replace(doubleQuoteRegExp$1,"'")}function assign(te,ee){if(te==null)throw new TypeError("assign requires that input parameter not be null or undefined");ee=ee||{};for(var re in ee)Object.prototype.hasOwnProperty.call(ee,re)&&(te[re]=ee[re]);return te}function getDay(te){requiredArgs(1,arguments);var ee=toDate(te),re=ee.getDay();return re}function getDaysInMonth(te){requiredArgs(1,arguments);var ee=toDate(te),re=ee.getFullYear(),ne=ee.getMonth(),ie=new Date(0);return ie.setFullYear(re,ne+1,0),ie.setHours(0,0,0,0),ie.getDate()}function getHours(te){requiredArgs(1,arguments);var ee=toDate(te),re=ee.getHours();return re}var MILLISECONDS_IN_WEEK=6048e5;function getISOWeek(te){requiredArgs(1,arguments);var ee=toDate(te),re=startOfISOWeek(ee).getTime()-startOfISOWeekYear(ee).getTime();return Math.round(re/MILLISECONDS_IN_WEEK)+1}function getMinutes(te){requiredArgs(1,arguments);var ee=toDate(te),re=ee.getMinutes();return re}function getMonth(te){requiredArgs(1,arguments);var ee=toDate(te),re=ee.getMonth();return re}function getSeconds(te){requiredArgs(1,arguments);var ee=toDate(te),re=ee.getSeconds();return re}function getYear(te){return requiredArgs(1,arguments),toDate(te).getFullYear()}function subDays(te,ee){requiredArgs(2,arguments);var re=toInteger(ee);return addDays(te,-re)}function subMonths(te,ee){requiredArgs(2,arguments);var re=toInteger(ee);return addMonths(te,-re)}function sub(te,ee){if(requiredArgs(2,arguments),!ee||typeof ee!="object")return new Date(NaN);var re=ee.years?toInteger(ee.years):0,ne=ee.months?toInteger(ee.months):0,ie=ee.weeks?toInteger(ee.weeks):0,oe=ee.days?toInteger(ee.days):0,se=ee.hours?toInteger(ee.hours):0,ae=ee.minutes?toInteger(ee.minutes):0,fe=ee.seconds?toInteger(ee.seconds):0,ue=subMonths(te,ne+re*12),le=subDays(ue,oe+ie*7),pe=ae+se*60,rr=fe+pe*60,cr=rr*1e3,ar=new Date(le.getTime()-cr);return ar}function isAfter(te,ee){requiredArgs(2,arguments);var re=toDate(te),ne=toDate(ee);return re.getTime()>ne.getTime()}function isBefore(te,ee){requiredArgs(2,arguments);var re=toDate(te),ne=toDate(ee);return re.getTime()<ne.getTime()}function isEqual(te,ee){requiredArgs(2,arguments);var re=toDate(te),ne=toDate(ee);return re.getTime()===ne.getTime()}function setUTCDay(te,ee,re){requiredArgs(2,arguments);var ne=re||{},ie=ne.locale,oe=ie&&ie.options&&ie.options.weekStartsOn,se=oe==null?0:toInteger(oe),ae=ne.weekStartsOn==null?se:toInteger(ne.weekStartsOn);if(!(ae>=0&&ae<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var fe=toDate(te),ue=toInteger(ee),le=fe.getUTCDay(),pe=ue%7,rr=(pe+7)%7,cr=(rr<ae?7:0)+ue-le;return fe.setUTCDate(fe.getUTCDate()+cr),fe}function setUTCISODay(te,ee){requiredArgs(2,arguments);var re=toInteger(ee);re%7===0&&(re=re-7);var ne=1,ie=toDate(te),oe=ie.getUTCDay(),se=re%7,ae=(se+7)%7,fe=(ae<ne?7:0)+re-oe;return ie.setUTCDate(ie.getUTCDate()+fe),ie}function setUTCISOWeek(te,ee){requiredArgs(2,arguments);var re=toDate(te),ne=toInteger(ee),ie=getUTCISOWeek(re)-ne;return re.setUTCDate(re.getUTCDate()-ie*7),re}function setUTCWeek(te,ee,re){requiredArgs(2,arguments);var ne=toDate(te),ie=toInteger(ee),oe=getUTCWeek(ne,re)-ie;return ne.setUTCDate(ne.getUTCDate()-oe*7),ne}var MILLISECONDS_IN_HOUR=36e5,MILLISECONDS_IN_MINUTE=6e4,MILLISECONDS_IN_SECOND=1e3,numericPatterns={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},timezonePatterns={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function parseNumericPattern(te,ee,re){var ne=ee.match(te);if(!ne)return null;var ie=parseInt(ne[0],10);return{value:re?re(ie):ie,rest:ee.slice(ne[0].length)}}function parseTimezonePattern(te,ee){var re=ee.match(te);if(!re)return null;if(re[0]==="Z")return{value:0,rest:ee.slice(1)};var ne=re[1]==="+"?1:-1,ie=re[2]?parseInt(re[2],10):0,oe=re[3]?parseInt(re[3],10):0,se=re[5]?parseInt(re[5],10):0;return{value:ne*(ie*MILLISECONDS_IN_HOUR+oe*MILLISECONDS_IN_MINUTE+se*MILLISECONDS_IN_SECOND),rest:ee.slice(re[0].length)}}function parseAnyDigitsSigned(te,ee){return parseNumericPattern(numericPatterns.anyDigitsSigned,te,ee)}function parseNDigits(te,ee,re){switch(te){case 1:return parseNumericPattern(numericPatterns.singleDigit,ee,re);case 2:return parseNumericPattern(numericPatterns.twoDigits,ee,re);case 3:return parseNumericPattern(numericPatterns.threeDigits,ee,re);case 4:return parseNumericPattern(numericPatterns.fourDigits,ee,re);default:return parseNumericPattern(new RegExp("^\\d{1,"+te+"}"),ee,re)}}function parseNDigitsSigned(te,ee,re){switch(te){case 1:return parseNumericPattern(numericPatterns.singleDigitSigned,ee,re);case 2:return parseNumericPattern(numericPatterns.twoDigitsSigned,ee,re);case 3:return parseNumericPattern(numericPatterns.threeDigitsSigned,ee,re);case 4:return parseNumericPattern(numericPatterns.fourDigitsSigned,ee,re);default:return parseNumericPattern(new RegExp("^-?\\d{1,"+te+"}"),ee,re)}}function dayPeriodEnumToHours(te){switch(te){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function normalizeTwoDigitYear(te,ee){var re=ee>0,ne=re?ee:1-ee,ie;if(ne<=50)ie=te||100;else{var oe=ne+50,se=Math.floor(oe/100)*100,ae=te>=oe%100;ie=te+se-(ae?100:0)}return re?ie:1-ie}var DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],DAYS_IN_MONTH_LEAP_YEAR=[31,29,31,30,31,30,31,31,30,31,30,31];function isLeapYearIndex(te){return te%400===0||te%4===0&&te%100!==0}var parsers={G:{priority:140,parse:function(te,ee,re,ne){switch(ee){case"G":case"GG":case"GGG":return re.era(te,{width:"abbreviated"})||re.era(te,{width:"narrow"});case"GGGGG":return re.era(te,{width:"narrow"});case"GGGG":default:return re.era(te,{width:"wide"})||re.era(te,{width:"abbreviated"})||re.era(te,{width:"narrow"})}},set:function(te,ee,re,ne){return ee.era=re,te.setUTCFullYear(re,0,1),te.setUTCHours(0,0,0,0),te},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(te,ee,re,ne){var ie=function(oe){return{year:oe,isTwoDigitYear:ee==="yy"}};switch(ee){case"y":return parseNDigits(4,te,ie);case"yo":return re.ordinalNumber(te,{unit:"year",valueCallback:ie});default:return parseNDigits(ee.length,te,ie)}},validate:function(te,ee,re){return ee.isTwoDigitYear||ee.year>0},set:function(te,ee,re,ne){var ie=te.getUTCFullYear();if(re.isTwoDigitYear){var oe=normalizeTwoDigitYear(re.year,ie);return te.setUTCFullYear(oe,0,1),te.setUTCHours(0,0,0,0),te}var se=!("era"in ee)||ee.era===1?re.year:1-re.year;return te.setUTCFullYear(se,0,1),te.setUTCHours(0,0,0,0),te},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(te,ee,re,ne){var ie=function(oe){return{year:oe,isTwoDigitYear:ee==="YY"}};switch(ee){case"Y":return parseNDigits(4,te,ie);case"Yo":return re.ordinalNumber(te,{unit:"year",valueCallback:ie});default:return parseNDigits(ee.length,te,ie)}},validate:function(te,ee,re){return ee.isTwoDigitYear||ee.year>0},set:function(te,ee,re,ne){var ie=getUTCWeekYear(te,ne);if(re.isTwoDigitYear){var oe=normalizeTwoDigitYear(re.year,ie);return te.setUTCFullYear(oe,0,ne.firstWeekContainsDate),te.setUTCHours(0,0,0,0),startOfUTCWeek(te,ne)}var se=!("era"in ee)||ee.era===1?re.year:1-re.year;return te.setUTCFullYear(se,0,ne.firstWeekContainsDate),te.setUTCHours(0,0,0,0),startOfUTCWeek(te,ne)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(te,ee,re,ne){return parseNDigitsSigned(ee==="R"?4:ee.length,te)},set:function(te,ee,re,ne){var ie=new Date(0);return ie.setUTCFullYear(re,0,4),ie.setUTCHours(0,0,0,0),startOfUTCISOWeek(ie)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(te,ee,re,ne){return parseNDigitsSigned(ee==="u"?4:ee.length,te)},set:function(te,ee,re,ne){return te.setUTCFullYear(re,0,1),te.setUTCHours(0,0,0,0),te},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(te,ee,re,ne){switch(ee){case"Q":case"QQ":return parseNDigits(ee.length,te);case"Qo":return re.ordinalNumber(te,{unit:"quarter"});case"QQQ":return re.quarter(te,{width:"abbreviated",context:"formatting"})||re.quarter(te,{width:"narrow",context:"formatting"});case"QQQQQ":return re.quarter(te,{width:"narrow",context:"formatting"});case"QQQQ":default:return re.quarter(te,{width:"wide",context:"formatting"})||re.quarter(te,{width:"abbreviated",context:"formatting"})||re.quarter(te,{width:"narrow",context:"formatting"})}},validate:function(te,ee,re){return ee>=1&&ee<=4},set:function(te,ee,re,ne){return te.setUTCMonth((re-1)*3,1),te.setUTCHours(0,0,0,0),te},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(te,ee,re,ne){switch(ee){case"q":case"qq":return parseNDigits(ee.length,te);case"qo":return re.ordinalNumber(te,{unit:"quarter"});case"qqq":return re.quarter(te,{width:"abbreviated",context:"standalone"})||re.quarter(te,{width:"narrow",context:"standalone"});case"qqqqq":return re.quarter(te,{width:"narrow",context:"standalone"});case"qqqq":default:return re.quarter(te,{width:"wide",context:"standalone"})||re.quarter(te,{width:"abbreviated",context:"standalone"})||re.quarter(te,{width:"narrow",context:"standalone"})}},validate:function(te,ee,re){return ee>=1&&ee<=4},set:function(te,ee,re,ne){return te.setUTCMonth((re-1)*3,1),te.setUTCHours(0,0,0,0),te},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(te,ee,re,ne){var ie=function(oe){return oe-1};switch(ee){case"M":return parseNumericPattern(numericPatterns.month,te,ie);case"MM":return parseNDigits(2,te,ie);case"Mo":return re.ordinalNumber(te,{unit:"month",valueCallback:ie});case"MMM":return re.month(te,{width:"abbreviated",context:"formatting"})||re.month(te,{width:"narrow",context:"formatting"});case"MMMMM":return re.month(te,{width:"narrow",context:"formatting"});case"MMMM":default:return re.month(te,{width:"wide",context:"formatting"})||re.month(te,{width:"abbreviated",context:"formatting"})||re.month(te,{width:"narrow",context:"formatting"})}},validate:function(te,ee,re){return ee>=0&&ee<=11},set:function(te,ee,re,ne){return te.setUTCMonth(re,1),te.setUTCHours(0,0,0,0),te},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(te,ee,re,ne){var ie=function(oe){return oe-1};switch(ee){case"L":return parseNumericPattern(numericPatterns.month,te,ie);case"LL":return parseNDigits(2,te,ie);case"Lo":return re.ordinalNumber(te,{unit:"month",valueCallback:ie});case"LLL":return re.month(te,{width:"abbreviated",context:"standalone"})||re.month(te,{width:"narrow",context:"standalone"});case"LLLLL":return re.month(te,{width:"narrow",context:"standalone"});case"LLLL":default:return re.month(te,{width:"wide",context:"standalone"})||re.month(te,{width:"abbreviated",context:"standalone"})||re.month(te,{width:"narrow",context:"standalone"})}},validate:function(te,ee,re){return ee>=0&&ee<=11},set:function(te,ee,re,ne){return te.setUTCMonth(re,1),te.setUTCHours(0,0,0,0),te},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(te,ee,re,ne){switch(ee){case"w":return parseNumericPattern(numericPatterns.week,te);case"wo":return re.ordinalNumber(te,{unit:"week"});default:return parseNDigits(ee.length,te)}},validate:function(te,ee,re){return ee>=1&&ee<=53},set:function(te,ee,re,ne){return startOfUTCWeek(setUTCWeek(te,re,ne),ne)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(te,ee,re,ne){switch(ee){case"I":return parseNumericPattern(numericPatterns.week,te);case"Io":return re.ordinalNumber(te,{unit:"week"});default:return parseNDigits(ee.length,te)}},validate:function(te,ee,re){return ee>=1&&ee<=53},set:function(te,ee,re,ne){return startOfUTCISOWeek(setUTCISOWeek(te,re,ne),ne)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(te,ee,re,ne){switch(ee){case"d":return parseNumericPattern(numericPatterns.date,te);case"do":return re.ordinalNumber(te,{unit:"date"});default:return parseNDigits(ee.length,te)}},validate:function(te,ee,re){var ne=te.getUTCFullYear(),ie=isLeapYearIndex(ne),oe=te.getUTCMonth();return ie?ee>=1&&ee<=DAYS_IN_MONTH_LEAP_YEAR[oe]:ee>=1&&ee<=DAYS_IN_MONTH[oe]},set:function(te,ee,re,ne){return te.setUTCDate(re),te.setUTCHours(0,0,0,0),te},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(te,ee,re,ne){switch(ee){case"D":case"DD":return parseNumericPattern(numericPatterns.dayOfYear,te);case"Do":return re.ordinalNumber(te,{unit:"date"});default:return parseNDigits(ee.length,te)}},validate:function(te,ee,re){var ne=te.getUTCFullYear(),ie=isLeapYearIndex(ne);return ie?ee>=1&&ee<=366:ee>=1&&ee<=365},set:function(te,ee,re,ne){return te.setUTCMonth(0,re),te.setUTCHours(0,0,0,0),te},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(te,ee,re,ne){switch(ee){case"E":case"EE":case"EEE":return re.day(te,{width:"abbreviated",context:"formatting"})||re.day(te,{width:"short",context:"formatting"})||re.day(te,{width:"narrow",context:"formatting"});case"EEEEE":return re.day(te,{width:"narrow",context:"formatting"});case"EEEEEE":return re.day(te,{width:"short",context:"formatting"})||re.day(te,{width:"narrow",context:"formatting"});case"EEEE":default:return re.day(te,{width:"wide",context:"formatting"})||re.day(te,{width:"abbreviated",context:"formatting"})||re.day(te,{width:"short",context:"formatting"})||re.day(te,{width:"narrow",context:"formatting"})}},validate:function(te,ee,re){return ee>=0&&ee<=6},set:function(te,ee,re,ne){return te=setUTCDay(te,re,ne),te.setUTCHours(0,0,0,0),te},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(te,ee,re,ne){var ie=function(oe){var se=Math.floor((oe-1)/7)*7;return(oe+ne.weekStartsOn+6)%7+se};switch(ee){case"e":case"ee":return parseNDigits(ee.length,te,ie);case"eo":return re.ordinalNumber(te,{unit:"day",valueCallback:ie});case"eee":return re.day(te,{width:"abbreviated",context:"formatting"})||re.day(te,{width:"short",context:"formatting"})||re.day(te,{width:"narrow",context:"formatting"});case"eeeee":return re.day(te,{width:"narrow",context:"formatting"});case"eeeeee":return re.day(te,{width:"short",context:"formatting"})||re.day(te,{width:"narrow",context:"formatting"});case"eeee":default:return re.day(te,{width:"wide",context:"formatting"})||re.day(te,{width:"abbreviated",context:"formatting"})||re.day(te,{width:"short",context:"formatting"})||re.day(te,{width:"narrow",context:"formatting"})}},validate:function(te,ee,re){return ee>=0&&ee<=6},set:function(te,ee,re,ne){return te=setUTCDay(te,re,ne),te.setUTCHours(0,0,0,0),te},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(te,ee,re,ne){var ie=function(oe){var se=Math.floor((oe-1)/7)*7;return(oe+ne.weekStartsOn+6)%7+se};switch(ee){case"c":case"cc":return parseNDigits(ee.length,te,ie);case"co":return re.ordinalNumber(te,{unit:"day",valueCallback:ie});case"ccc":return re.day(te,{width:"abbreviated",context:"standalone"})||re.day(te,{width:"short",context:"standalone"})||re.day(te,{width:"narrow",context:"standalone"});case"ccccc":return re.day(te,{width:"narrow",context:"standalone"});case"cccccc":return re.day(te,{width:"short",context:"standalone"})||re.day(te,{width:"narrow",context:"standalone"});case"cccc":default:return re.day(te,{width:"wide",context:"standalone"})||re.day(te,{width:"abbreviated",context:"standalone"})||re.day(te,{width:"short",context:"standalone"})||re.day(te,{width:"narrow",context:"standalone"})}},validate:function(te,ee,re){return ee>=0&&ee<=6},set:function(te,ee,re,ne){return te=setUTCDay(te,re,ne),te.setUTCHours(0,0,0,0),te},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(te,ee,re,ne){var ie=function(oe){return oe===0?7:oe};switch(ee){case"i":case"ii":return parseNDigits(ee.length,te);case"io":return re.ordinalNumber(te,{unit:"day"});case"iii":return re.day(te,{width:"abbreviated",context:"formatting",valueCallback:ie})||re.day(te,{width:"short",context:"formatting",valueCallback:ie})||re.day(te,{width:"narrow",context:"formatting",valueCallback:ie});case"iiiii":return re.day(te,{width:"narrow",context:"formatting",valueCallback:ie});case"iiiiii":return re.day(te,{width:"short",context:"formatting",valueCallback:ie})||re.day(te,{width:"narrow",context:"formatting",valueCallback:ie});case"iiii":default:return re.day(te,{width:"wide",context:"formatting",valueCallback:ie})||re.day(te,{width:"abbreviated",context:"formatting",valueCallback:ie})||re.day(te,{width:"short",context:"formatting",valueCallback:ie})||re.day(te,{width:"narrow",context:"formatting",valueCallback:ie})}},validate:function(te,ee,re){return ee>=1&&ee<=7},set:function(te,ee,re,ne){return te=setUTCISODay(te,re,ne),te.setUTCHours(0,0,0,0),te},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(te,ee,re,ne){switch(ee){case"a":case"aa":case"aaa":return re.dayPeriod(te,{width:"abbreviated",context:"formatting"})||re.dayPeriod(te,{width:"narrow",context:"formatting"});case"aaaaa":return re.dayPeriod(te,{width:"narrow",context:"formatting"});case"aaaa":default:return re.dayPeriod(te,{width:"wide",context:"formatting"})||re.dayPeriod(te,{width:"abbreviated",context:"formatting"})||re.dayPeriod(te,{width:"narrow",context:"formatting"})}},set:function(te,ee,re,ne){return te.setUTCHours(dayPeriodEnumToHours(re),0,0,0),te},incompatibleTokens:["b","B","H","k","t","T"]},b:{priority:80,parse:function(te,ee,re,ne){switch(ee){case"b":case"bb":case"bbb":return re.dayPeriod(te,{width:"abbreviated",context:"formatting"})||re.dayPeriod(te,{width:"narrow",context:"formatting"});case"bbbbb":return re.dayPeriod(te,{width:"narrow",context:"formatting"});case"bbbb":default:return re.dayPeriod(te,{width:"wide",context:"formatting"})||re.dayPeriod(te,{width:"abbreviated",context:"formatting"})||re.dayPeriod(te,{width:"narrow",context:"formatting"})}},set:function(te,ee,re,ne){return te.setUTCHours(dayPeriodEnumToHours(re),0,0,0),te},incompatibleTokens:["a","B","H","k","t","T"]},B:{priority:80,parse:function(te,ee,re,ne){switch(ee){case"B":case"BB":case"BBB":return re.dayPeriod(te,{width:"abbreviated",context:"formatting"})||re.dayPeriod(te,{width:"narrow",context:"formatting"});case"BBBBB":return re.dayPeriod(te,{width:"narrow",context:"formatting"});case"BBBB":default:return re.dayPeriod(te,{width:"wide",context:"formatting"})||re.dayPeriod(te,{width:"abbreviated",context:"formatting"})||re.dayPeriod(te,{width:"narrow",context:"formatting"})}},set:function(te,ee,re,ne){return te.setUTCHours(dayPeriodEnumToHours(re),0,0,0),te},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(te,ee,re,ne){switch(ee){case"h":return parseNumericPattern(numericPatterns.hour12h,te);case"ho":return re.ordinalNumber(te,{unit:"hour"});default:return parseNDigits(ee.length,te)}},validate:function(te,ee,re){return ee>=1&&ee<=12},set:function(te,ee,re,ne){var ie=te.getUTCHours()>=12;return ie&&re<12?te.setUTCHours(re+12,0,0,0):!ie&&re===12?te.setUTCHours(0,0,0,0):te.setUTCHours(re,0,0,0),te},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(te,ee,re,ne){switch(ee){case"H":return parseNumericPattern(numericPatterns.hour23h,te);case"Ho":return re.ordinalNumber(te,{unit:"hour"});default:return parseNDigits(ee.length,te)}},validate:function(te,ee,re){return ee>=0&&ee<=23},set:function(te,ee,re,ne){return te.setUTCHours(re,0,0,0),te},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(te,ee,re,ne){switch(ee){case"K":return parseNumericPattern(numericPatterns.hour11h,te);case"Ko":return re.ordinalNumber(te,{unit:"hour"});default:return parseNDigits(ee.length,te)}},validate:function(te,ee,re){return ee>=0&&ee<=11},set:function(te,ee,re,ne){var ie=te.getUTCHours()>=12;return ie&&re<12?te.setUTCHours(re+12,0,0,0):te.setUTCHours(re,0,0,0),te},incompatibleTokens:["h","H","k","t","T"]},k:{priority:70,parse:function(te,ee,re,ne){switch(ee){case"k":return parseNumericPattern(numericPatterns.hour24h,te);case"ko":return re.ordinalNumber(te,{unit:"hour"});default:return parseNDigits(ee.length,te)}},validate:function(te,ee,re){return ee>=1&&ee<=24},set:function(te,ee,re,ne){var ie=re<=24?re%24:re;return te.setUTCHours(ie,0,0,0),te},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(te,ee,re,ne){switch(ee){case"m":return parseNumericPattern(numericPatterns.minute,te);case"mo":return re.ordinalNumber(te,{unit:"minute"});default:return parseNDigits(ee.length,te)}},validate:function(te,ee,re){return ee>=0&&ee<=59},set:function(te,ee,re,ne){return te.setUTCMinutes(re,0,0),te},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(te,ee,re,ne){switch(ee){case"s":return parseNumericPattern(numericPatterns.second,te);case"so":return re.ordinalNumber(te,{unit:"second"});default:return parseNDigits(ee.length,te)}},validate:function(te,ee,re){return ee>=0&&ee<=59},set:function(te,ee,re,ne){return te.setUTCSeconds(re,0),te},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(te,ee,re,ne){var ie=function(oe){return Math.floor(oe*Math.pow(10,-ee.length+3))};return parseNDigits(ee.length,te,ie)},set:function(te,ee,re,ne){return te.setUTCMilliseconds(re),te},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(te,ee,re,ne){switch(ee){case"X":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,te);case"XX":return parseTimezonePattern(timezonePatterns.basic,te);case"XXXX":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,te);case"XXXXX":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,te);case"XXX":default:return parseTimezonePattern(timezonePatterns.extended,te)}},set:function(te,ee,re,ne){return ee.timestampIsSet?te:new Date(te.getTime()-re)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(te,ee,re,ne){switch(ee){case"x":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,te);case"xx":return parseTimezonePattern(timezonePatterns.basic,te);case"xxxx":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,te);case"xxxxx":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,te);case"xxx":default:return parseTimezonePattern(timezonePatterns.extended,te)}},set:function(te,ee,re,ne){return ee.timestampIsSet?te:new Date(te.getTime()-re)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(te,ee,re,ne){return parseAnyDigitsSigned(te)},set:function(te,ee,re,ne){return[new Date(re*1e3),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(te,ee,re,ne){return parseAnyDigitsSigned(te)},set:function(te,ee,re,ne){return[new Date(re),{timestampIsSet:!0}]},incompatibleTokens:"*"}},parsers$1=parsers,TIMEZONE_UNIT_PRIORITY=10,formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,notWhitespaceRegExp=/\S/,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function parse(te,ee,re,ne){requiredArgs(3,arguments);var ie=String(te),oe=String(ee),se=ne||{},ae=se.locale||defaultLocale;if(!ae.match)throw new RangeError("locale must contain match property");var fe=ae.options&&ae.options.firstWeekContainsDate,ue=fe==null?1:toInteger(fe),le=se.firstWeekContainsDate==null?ue:toInteger(se.firstWeekContainsDate);if(!(le>=1&&le<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var pe=ae.options&&ae.options.weekStartsOn,rr=pe==null?0:toInteger(pe),cr=se.weekStartsOn==null?rr:toInteger(se.weekStartsOn);if(!(cr>=0&&cr<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(oe==="")return ie===""?toDate(re):new Date(NaN);var ar={firstWeekContainsDate:le,weekStartsOn:cr,locale:ae},mr=[{priority:TIMEZONE_UNIT_PRIORITY,subPriority:-1,set:dateToSystemTimezone,index:0}],pr,yr=oe.match(longFormattingTokensRegExp).map(function(ur){var lr=ur[0];if(lr==="p"||lr==="P"){var er=longFormatters$1[lr];return er(ur,ae.formatLong,ar)}return ur}).join("").match(formattingTokensRegExp),vr=[];for(pr=0;pr<yr.length;pr++){var Er=yr[pr];!se.useAdditionalWeekYearTokens&&isProtectedWeekYearToken(Er)&&throwProtectedError(Er,oe,te),!se.useAdditionalDayOfYearTokens&&isProtectedDayOfYearToken(Er)&&throwProtectedError(Er,oe,te);var Tr=Er[0],Ir=parsers$1[Tr];if(Ir){var Or=Ir.incompatibleTokens;if(Array.isArray(Or)){for(var Hr=void 0,Pr=0;Pr<vr.length;Pr++){var Br=vr[Pr].token;if(Or.indexOf(Br)!==-1||Br===Tr){Hr=vr[Pr];break}}if(Hr)throw new RangeError("The format string mustn't contain `".concat(Hr.fullToken,"` and `").concat(Er,"` at the same time"))}else if(Ir.incompatibleTokens==="*"&&vr.length)throw new RangeError("The format string mustn't contain `".concat(Er,"` and any other token at the same time"));vr.push({token:Tr,fullToken:Er});var Nr=Ir.parse(ie,Er,ae.match,ar);if(!Nr)return new Date(NaN);mr.push({priority:Ir.priority,subPriority:Ir.subPriority||0,set:Ir.set,validate:Ir.validate,value:Nr.value,index:mr.length}),ie=Nr.rest}else{if(Tr.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Tr+"`");if(Er==="''"?Er="'":Tr==="'"&&(Er=cleanEscapedString(Er)),ie.indexOf(Er)===0)ie=ie.slice(Er.length);else return new Date(NaN)}}if(ie.length>0&&notWhitespaceRegExp.test(ie))return new Date(NaN);var dr=mr.map(function(ur){return ur.priority}).sort(function(ur,lr){return lr-ur}).filter(function(ur,lr,er){return er.indexOf(ur)===lr}).map(function(ur){return mr.filter(function(lr){return lr.priority===ur}).sort(function(lr,er){return er.subPriority-lr.subPriority})}).map(function(ur){return ur[0]}),tr=toDate(re);if(isNaN(tr))return new Date(NaN);var ve=subMilliseconds(tr,getTimezoneOffsetInMilliseconds(tr)),ce={};for(pr=0;pr<dr.length;pr++){var me=dr[pr];if(me.validate&&!me.validate(ve,me.value,ar))return new Date(NaN);var ir=me.set(ve,ce,me.value,ar);ir[0]?(ve=ir[0],assign(ce,ir[1])):ve=ir}return ve}function dateToSystemTimezone(te,ee){if(ee.timestampIsSet)return te;var re=new Date(0);return re.setFullYear(te.getUTCFullYear(),te.getUTCMonth(),te.getUTCDate()),re.setHours(te.getUTCHours(),te.getUTCMinutes(),te.getUTCSeconds(),te.getUTCMilliseconds()),re}function cleanEscapedString(te){return te.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp,"'")}function setMonth(te,ee){requiredArgs(2,arguments);var re=toDate(te),ne=toInteger(ee),ie=re.getFullYear(),oe=re.getDate(),se=new Date(0);se.setFullYear(ie,ne,15),se.setHours(0,0,0,0);var ae=getDaysInMonth(se);return re.setMonth(ne,Math.min(oe,ae)),re}function set(te,ee){if(requiredArgs(2,arguments),typeof ee!="object"||ee===null)throw new RangeError("values parameter must be an object");var re=toDate(te);return isNaN(re.getTime())?new Date(NaN):(ee.year!=null&&re.setFullYear(ee.year),ee.month!=null&&(re=setMonth(re,ee.month)),ee.date!=null&&re.setDate(toInteger(ee.date)),ee.hours!=null&&re.setHours(toInteger(ee.hours)),ee.minutes!=null&&re.setMinutes(toInteger(ee.minutes)),ee.seconds!=null&&re.setSeconds(toInteger(ee.seconds)),ee.milliseconds!=null&&re.setMilliseconds(toInteger(ee.milliseconds)),re)}function setHours(te,ee){requiredArgs(2,arguments);var re=toDate(te),ne=toInteger(ee);return re.setHours(ne),re}function setMilliseconds(te,ee){requiredArgs(2,arguments);var re=toDate(te),ne=toInteger(ee);return re.setMilliseconds(ne),re}function setMinutes(te,ee){requiredArgs(2,arguments);var re=toDate(te),ne=toInteger(ee);return re.setMinutes(ne),re}function setSeconds(te,ee){requiredArgs(2,arguments);var re=toDate(te),ne=toInteger(ee);return re.setSeconds(ne),re}function setYear(te,ee){requiredArgs(2,arguments);var re=toDate(te),ne=toInteger(ee);return isNaN(re.getTime())?new Date(NaN):(re.setFullYear(ne),re)}function subYears(te,ee){requiredArgs(2,arguments);var re=toInteger(ee);return addYears(te,-re)}function he(te,ee,re){return ee in te?Object.defineProperty(te,ee,{value:re,enumerable:!0,configurable:!0,writable:!0}):te[ee]=re,te}function _e(te,ee){(ee==null||ee>te.length)&&(ee=te.length);for(var re=0,ne=new Array(ee);re<ee;re++)ne[re]=te[re];return ne}function ge(te,ee){if(te){if(typeof te=="string")return _e(te,ee);var re=Object.prototype.toString.call(te).slice(8,-1);return re==="Object"&&te.constructor&&(re=te.constructor.name),re==="Map"||re==="Set"?Array.from(te):re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(re)?_e(te,ee):void 0}}function we(te,ee){return function(re){if(Array.isArray(re))return re}(te)||function(re,ne){var ie=re==null?null:typeof Symbol!="undefined"&&re[Symbol.iterator]||re["@@iterator"];if(ie!=null){var oe,se,ae=[],fe=!0,ue=!1;try{for(ie=ie.call(re);!(fe=(oe=ie.next()).done)&&(ae.push(oe.value),!ne||ae.length!==ne);fe=!0);}catch(le){ue=!0,se=le}finally{try{fe||ie.return==null||ie.return()}finally{if(ue)throw se}}return ae}}(te,ee)||ge(te,ee)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var be={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},ke=[createBaseVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"},null,-1),createBaseVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),createBaseVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),createBaseVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"},null,-1)],De={render:function(te,ee){return openBlock(),createElementBlock("svg",be,ke)}},Se={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Oe=[createBaseVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"},null,-1),createBaseVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1)],xe={render:function(te,ee){return openBlock(),createElementBlock("svg",Se,Oe)}},Pe={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Me=[createBaseVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1)],Ce={render:function(te,ee){return openBlock(),createElementBlock("svg",Pe,Me)}},Ae={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},$e=[createBaseVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"},null,-1)],Ve={render:function(te,ee){return openBlock(),createElementBlock("svg",Ae,$e)}},Ie={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Te=[createBaseVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"},null,-1),createBaseVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1)],Be={render:function(te,ee){return openBlock(),createElementBlock("svg",Ie,Te)}},Ne={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},je=[createBaseVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1)],Re={render:function(te,ee){return openBlock(),createElementBlock("svg",Ne,je)}},Ee={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Fe=[createBaseVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1)],Ye={render:function(te,ee){return openBlock(),createElementBlock("svg",Ee,Fe)}},Ke=function(te){var ee=6e4*te.getTimezoneOffset();return new Date(te.getTime()-ee)},Ue=function(te,ee){var re=parse(te,ee.slice(0,te.length),new Date);return isValid(re)&&isDate(re)?re:null},He=function(te){var ee=new Date(JSON.parse(JSON.stringify(te)));return ee=setHours(ee,0),ee=setMinutes(ee,0),ee=setSeconds(ee,0),ee=setMilliseconds(ee,0)},Ge=function(te){return Array.isArray(te)?isValid(te[0])&&(!te[1]||isValid(te[1])):!!te&&isValid(te)},Le=function(te,ee,re,ne){var ie=te?new Date(te):new Date;return(ee||ee===0)&&(ie=setHours(ie,+ee)),(re||re===0)&&(ie=setMinutes(ie,+re)),(ne||ne===0)&&(ie=setSeconds(ie,+ne)),setMilliseconds(ie,0)},We=function(te){var ee=addMonths(te,1);return{month:getMonth(ee),year:getYear(ee)}},ze=function(te,ee,re){var ne=te?new Date(te):new Date;return(ee||ee===0)&&(ne=setMonth(ne,ee)),re&&(ne=setYear(ne,re)),ne},qe=function(te,ee){return te?"HH:mm".concat(ee?":ss":""):"hh:mm".concat(ee?":ss":""," aa")},Je=function(te,ee,re,ne,ie,oe,se){return te||(ne?"MM/yyyy":ie?qe(ee,re):oe?"MM/dd/yyyy":se?"MM/dd/yyyy, ".concat(qe(ee,re)):"MM/dd/yyyy")},Xe=function(te){var ee=te||new Date;return{hours:getHours(ee),minutes:getMinutes(ee),seconds:getSeconds(ee)}},Ze=function(te){return{month:getMonth(te),year:getYear(te)}},Qe=function(te){return Array.isArray(te)?[Ze(te[0]),te[1]?Ze(te[1]):null]:Ze(te)},et=function(te){return Array.isArray(te)?[Xe(te[0]),Xe(te[1])]:Xe(te)},tt=function(te,ee,re){return re?format(te,ee,{locale:re}):format(te,ee)},nt=function(te,ee,re,ne){return Array.isArray(te)?"".concat(tt(te[0],ee,re)," ").concat(ne||"-"," ").concat(te[1]?tt(te[1],ee,re):""):tt(te,ee,re)},at=function(te,ee){return!(!te||!ee)&&isAfter(He(te),He(ee))},rt=function(te,ee){return!(!te||!ee)&&isBefore(He(te),He(ee))},lt=function(te,ee){return!(!te||!ee)&&isEqual(He(te),He(ee))},ot=function(te,ee){return add(set(new Date,te),ee)},ut=function(te,ee){return sub(set(new Date,te),ee)},it=function(te){return set(new Date,{hours:getHours(te),minutes:getMinutes(te),seconds:getSeconds(te)})},st=function(te){return set(new Date,{hours:+te.hours||0,minutes:+te.minutes||0,seconds:+te.seconds||0})},ct=function(te,ee,re){var ne=!0;if(!te)return!0;var ie=Array.isArray(te)?[te[0]?it(te[0]):null,te[1]?it(te[1]):null]:it(te);if(ee){var oe=st(ee);ne=Array.isArray(ie)?(!ie[0]||ie[0].getTime()<=oe.getTime())&&(!ie[1]||ie[1].getTime()<=oe.getTime()):ie.getTime()<=oe.getTime()}if(re){var se=st(re);ne=Array.isArray(ie)?(!ie[0]||ie[0].getTime()>=se.getTime())&&(!ie[1]||ie[1].getTime()>=se.getTime())&&ne:ie.getTime()>=se.getTime()&&ne}return ne},dt=function(te){var ee=Date.UTC(te.getUTCFullYear(),te.getUTCMonth(),te.getUTCDate(),te.getUTCHours(),te.getUTCMinutes(),te.getUTCSeconds());return new Date(ee).toISOString()},ft=function(te,ee,re){return te&&te[0]&&te[1]?at(re,te[0])&&rt(re,te[1]):!!(te&&te[0]&&ee)&&(at(re,te[0])&&rt(re,ee)||rt(re,te[0])&&at(re,ee))},pt=function(te,ee){return[startOfWeek(te,{weekStartsOn:ee}),endOfWeek(te,{weekStartsOn:ee})]};function mt(te){return function(ee){if(Array.isArray(ee))return _e(ee)}(te)||function(ee){if(typeof Symbol!="undefined"&&ee[Symbol.iterator]!=null||ee["@@iterator"]!=null)return Array.from(ee)}(te)||ge(te)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var vt=function(te,ee,re,ne){var ie=[],oe=new Date(ee,te),se=new Date(ee,te+1,0);return function ae(fe){var ue=function(le,pe,rr){for(var cr=new Date(JSON.parse(JSON.stringify(le))),ar=[],mr=0;mr<7;mr++){var pr=addDays(cr,mr),yr=getMonth(pr)!==pe;ar.push({text:rr&&yr?"":pr.getDate(),value:pr,current:!yr})}return ar}(fe,te,ne);ie.push({days:ue}),ie[ie.length-1].days.some(function(le){return lt(He(le.value),He(se))})||ae(addDays(fe,7))}(startOfWeek(oe,{weekStartsOn:re})),ie},yt=function(te){return function(ee){for(var re="",ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",ie=ne.length,oe=0;oe<ee;oe++)re+=ne.charAt(Math.floor(Math.random()*ie));return re+te}(5)},ht=function(te){var ee,re=unref(te);return(ee=re==null?void 0:re.$el)!==null&&ee!==void 0?ee:re},_t=function(te){return Object.assign({open:"dp-open",close:"dp-close",next:"calendar-next",previous:"calendar-prev"},te)},gt=["aria-disabled","aria-readonly"],wt={key:1,class:"dp__input_wrap"},bt=["id","name","placeholder","disabled","readonly","required","value","autocomplete","onKeydown"],kt={key:4,class:"dp__clear_icon"},Dt=defineComponent({props:{name:{type:String,default:null},inputValue:{type:String,default:""},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},disabled:{type:Boolean,default:!0},readonly:{type:Boolean,default:!0},clearable:{type:Boolean,default:!0},range:{type:Boolean,default:!1},state:{type:Boolean,default:null},inputClassName:{type:String,default:null},inline:{type:Boolean,default:!1},inlineWithInput:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:function(){return null}},isMenuOpen:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},pattern:{type:String,default:""},uid:{type:String,default:null},openMenuOnFocus:{type:Boolean,default:!0},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"}},emits:["clear","open","update:inputValue","setInputDate","close","selectDate","setEmptyDate"],setup:function(te,ee){var re=ee.expose,ne=ee.emit,ie=te,oe=ref(),se=ref(null),ae=ref(!1),fe=useSlots(),ue=computed(function(){return he({dp__pointer:!ie.disabled&&!ie.readonly&&!ie.textInput,dp__disabled:ie.disabled,dp__input:!0,dp__input_icon_pad:!ie.hideInputIcon,dp__input_valid:ie.state,dp__input_invalid:ie.state===!1,dp__input_focus:ae.value||ie.isMenuOpen},ie.inputClassName,!!ie.inputClassName)}),le=function(Er){var Tr=Er.target.value,Ir=ie.textInputOptions,Or=Ir.format,Hr=Ir.rangeSeparator;if(Tr!==""){if(ie.range){var Pr=we(Tr.split("".concat(Hr)),2),Br=Pr[0],Nr=Pr[1];if(Br&&Nr){var dr=Ue(Br.trim(),Or||ie.pattern),tr=Ue(Nr.trim(),Or||ie.pattern);oe.value=dr&&tr?[dr,tr]:null}}else oe.value=Ue(Tr,Or||ie.pattern);ne("setInputDate",oe.value)}else ne("setInputDate",null),ie.autoApply&&(ne("setEmptyDate"),oe.value=null);ne("update:inputValue",Tr)},pe=function(){var Er,Tr;(Er=ie.textInputOptions)!==null&&Er!==void 0&&Er.enterSubmit&&Ge(oe.value)&&ie.inputValue!==""?(ne("setInputDate",oe.value,!0),oe.value=null):(Tr=ie.textInputOptions)!==null&&Tr!==void 0&&Tr.enterSubmit&&ie.inputValue===""&&(oe.value=null,ne("clear"))},rr=function(){var Er,Tr;(Er=ie.textInputOptions)!==null&&Er!==void 0&&Er.tabSubmit&&Ge(oe.value)&&ie.inputValue!==""?(ne("setInputDate",oe.value,!0),oe.value=null):(Tr=ie.textInputOptions)!==null&&Tr!==void 0&&Tr.tabSubmit&&ie.inputValue===""&&(oe.value=null,ne("clear")),ne("close")},cr=function(){ie.inline||(ae.value=!0,ie.openMenuOnFocus&&!ie.isMenuOpen?ne("open"):ie.isMenuOpen&&(vr(),ne("close")))},ar=function(){var Er;(!ie.openMenuOnFocus||fe["dp-input"]||fe.trigger)&&(ie.textInput&&(Er=ie.textInputOptions)!==null&&Er!==void 0&&Er.openMenu&&!ie.isMenuOpen?ne("open"):ie.textInput||ne("open"))},mr=function(){ae.value=!1,ie.autoApply&&ie.textInput&&oe.value&&(ne("setInputDate",oe.value),ne("selectDate"),oe.value=null)},pr=function(Er){Er.stopImmediatePropagation()},yr=function(){ne("clear")},vr=function(){ae.value=!1;var Er=ht(se);Er&&Er.blur()};return re({unFocus:vr}),function(Er,Tr){return openBlock(),createElementBlock("div",{onClick:ar,"aria-label":"Datepicker input",role:"textbox","aria-multiline":"false","aria-disabled":te.disabled,"aria-readonly":te.readonly},[!Er.$slots.trigger||Er.$slots["dp-input"]||te.inline?createCommentVNode("",!0):renderSlot(Er.$slots,"trigger",{key:0}),Er.$slots.trigger||te.inline&&!te.inlineWithInput?createCommentVNode("",!0):(openBlock(),createElementBlock("div",wt,[!Er.$slots["dp-input"]||Er.$slots.trigger||te.inline?createCommentVNode("",!0):renderSlot(Er.$slots,"dp-input",{key:0,value:te.inputValue,onInput:le,onEnter:pe,onTab:rr,onClear:yr}),Er.$slots["dp-input"]?createCommentVNode("",!0):(openBlock(),createElementBlock("input",{key:1,ref_key:"inputRef",ref:se,id:te.uid?"dp-input-".concat(te.uid):void 0,name:te.name,class:normalizeClass(unref(ue)),placeholder:te.placeholder,disabled:te.disabled,readonly:te.readonly,required:te.required,value:te.inputValue,autocomplete:te.autocomplete,onInput:le,onKeydown:[withKeys(pe,["enter"]),withKeys(rr,["tab"])],onBlur:mr,onFocus:cr},null,42,bt)),Er.$slots["input-icon"]&&!te.hideInputIcon?(openBlock(),createElementBlock("span",{key:2,class:"dp__input_icon",onClick:pr},[renderSlot(Er.$slots,"input-icon")])):createCommentVNode("",!0),Er.$slots["input-icon"]||te.hideInputIcon||Er.$slots["dp-input"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(De),{key:3,class:"dp__input_icon dp__input_icons",onClick:pr})),Er.$slots["clear-icon"]&&te.clearable&&!te.disabled&&!te.readonly?(openBlock(),createElementBlock("span",kt,[renderSlot(Er.$slots,"clear-icon",{clear:yr})])):createCommentVNode("",!0),!te.clearable||Er.$slots["clear-icon"]||!te.inputValue||te.disabled||te.readonly?createCommentVNode("",!0):(openBlock(),createBlock(unref(xe),{key:5,class:"dp__clear_icon dp__input_icons",onClick:withModifiers(yr,["stop","prevent"])},null,8,["onClick"]))]))],8,gt)}}}),St={weekNumbers:{type:Boolean,default:!1},weekStart:{type:[Number,String],default:1},disableMonthYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},calendarClassName:{type:String,default:null},yearRange:{type:Array,default:function(){return[1970,2100]}},range:{type:Boolean,default:!1},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},is24:{type:Boolean,default:!0},hoursIncrement:{type:[String,Number],default:1},minutesIncrement:{type:[String,Number],default:1},secondsIncrement:{type:[String,Number],default:1},hoursGridIncrement:{type:[String,Number],default:1},secondsGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},autoApply:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},locale:{type:String,default:"en-US"},weekNumName:{type:String,default:"W"},disabledDates:{type:[Array,Function],default:function(){return[]}},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},inline:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},monthYearComponent:{type:Object,default:null},timePickerComponent:{type:Object,default:null},actionRowComponent:{type:Object,default:null},customProps:{type:Object,default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:function(){return[]}},allowedDates:{type:Array,default:function(){return[]}},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},monthChangeOnScroll:{type:[Boolean,String],default:!0},markers:{type:Array,default:function(){return[]}},uid:{type:String,default:null},modeHeight:{type:[Number,String],default:255},enableSeconds:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},textInput:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},multiDates:{type:Boolean,default:!1},presetRanges:{type:Array,default:function(){return[]}},flow:{type:Array,default:function(){return[]}},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1}},Ot=function(te){var ee={};return Object.keys(te).forEach(function(re){ee[re]=te[re]}),ee},xt={years:{type:Array,default:function(){return[]}},months:{type:Array,default:function(){return[]}},month:{type:Number,default:0},year:{type:Number,default:0},filters:{type:Object,default:function(){return{}}},monthPicker:{type:Boolean,default:!1},instance:{type:Number,default:1},internalModelValue:{type:[Date,Array],default:null},range:{type:Boolean,default:!1},multiCalendars:{type:Number,default:0},multiCalendarsSolo:{type:Boolean,default:!1},customProps:{type:Object,default:null}};function Pt(te,ee){var re=Object.keys(te);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(te);ee&&(ne=ne.filter(function(ie){return Object.getOwnPropertyDescriptor(te,ie).enumerable})),re.push.apply(re,ne)}return re}function Mt(te){for(var ee=1;ee<arguments.length;ee++){var re=arguments[ee]!=null?arguments[ee]:{};ee%2?Pt(Object(re),!0).forEach(function(ne){he(te,ne,re[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(re)):Pt(Object(re)).forEach(function(ne){Object.defineProperty(te,ne,Object.getOwnPropertyDescriptor(re,ne))})}return te}var Ct={class:"db__calendar_header",role:"row"},At={key:0,class:"dp__calendar_header_item",role:"gridcell"},$t=createBaseVNode("div",{class:"dp__calendar_header_separator"},null,-1),Vt={key:0,class:"dp__calendar",role:"grid","aria-label":"Calendar days"},It={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},Tt={class:"dp__cell_inner"},Bt=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],Nt=createBaseVNode("div",{class:"dp__arrow_bottom_tp"},null,-1),jt=defineComponent({props:Mt(Mt({},xt),{},{locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:Boolean,default:!1},mappedDates:{type:Array,default:function(){return[]}},monthYearComponent:{type:Object,default:null},calendarClassName:{type:String,default:null},timePicker:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},getWeekNum:{type:Function,default:function(){return""}},modeHeight:{type:[Number,String],default:255}}),emits:["selectDate","setHoverDate","handleScroll","mount"],setup:function(te,ee){var re=ee.emit,ne=te,ie=ref(null),oe=ref({bottom:"",left:"",transform:""}),se=ref([]),ae=ref(!0),fe=inject("transitions"),ue=ref(""),le=toRef(ne,"month"),pe=toRef(ne,"year"),rr=ref(),cr=ref(!1),ar=computed(function(){return function(Or,Hr){var Pr,Br,Nr=[1,2,3,4,5,6,7].map(function(ve){return new Intl.DateTimeFormat(Or,{weekday:"short",timeZone:"UTC"}).format(new Date("2017-01-0".concat(ve,"T00:00:00+00:00"))).slice(0,2)}),dr=Nr.slice(0,Hr),tr=Nr.slice(Hr+1,Nr.length);return(Pr=(Br=[Nr[Hr]]).concat.apply(Br,mt(tr))).concat.apply(Pr,mt(dr))}(ne.locale,+ne.weekStart)});onMounted(function(){ne.internalModelValue||(cr.value=!0),rr.value=ze(new Date,ne.month,ne.year),re("mount")});var mr=computed(function(){return ne.monthPicker||ne.timePicker});watch([le,pe],function(){if(fe!=null&&fe.value){var Or=ze(new Date,ne.month,ne.year);ue.value=at(ze(new Date,ne.month,ne.year),rr.value)?fe.value.next:fe.value.previous,rr.value=Or,cr.value&&(ae.value=!1,nextTick(function(){ae.value=!0}))}cr.value||(cr.value=!0)});var pr=computed(function(){return he({dp__calendar_wrap:!0},ne.calendarClassName,!!ne.calendarClassName)}),yr=computed(function(){return function(Or){var Hr=function(Pr){return Object.assign({type:"dot"},Pr)}(Or);return{dp__marker_dot:Hr.type==="dot",dp__marker_line:Hr.type==="line"}}}),vr=computed(function(){return function(Or){return lt(Or,ie.value)}}),Er=computed(function(){return{dp__calendar:!0,dp__calendar_next:ne.multiCalendars>0&&ne.instance!==0}}),Tr=computed(function(){return mr.value?{height:"".concat(ne.modeHeight,"px")}:null}),Ir=function(){ie.value=null};return function(Or,Hr){return openBlock(),createElementBlock("div",{class:normalizeClass(unref(Er))},[createBaseVNode("div",{style:normalizeStyle(unref(Tr))},[unref(mr)?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(pr)),role:"grid","aria-label":"Calendar wrapper",onWheel:Hr[1]||(Hr[1]=withModifiers(function(Pr){return Or.$emit("handleScroll",Pr)},["prevent"]))},[createBaseVNode("div",Ct,[te.weekNumbers?(openBlock(),createElementBlock("div",At,toDisplayString(te.weekNumName),1)):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(ar),function(Pr,Br){return openBlock(),createElementBlock("div",{class:"dp__calendar_header_item",role:"gridcell",key:Br},[Or.$slots["calendar-header"]?renderSlot(Or.$slots,"calendar-header",{key:0,day:Pr,index:Br}):createCommentVNode("",!0),Or.$slots["calendar-header"]?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment$1,{key:1},[createTextVNode(toDisplayString(Pr),1)],64))])}),128))]),$t,createVNode(Transition,{name:ue.value,css:!!unref(fe)},{default:withCtx(function(){return[ae.value?(openBlock(),createElementBlock("div",Vt,[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(te.mappedDates,function(Pr,Br){return openBlock(),createElementBlock("div",{class:"dp__calendar_row",role:"row",key:Br},[te.weekNumbers?(openBlock(),createElementBlock("div",It,[createBaseVNode("div",Tt,toDisplayString(te.getWeekNum(Pr.days)),1)])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment$1,null,renderList(Pr.days,function(Nr,dr){return openBlock(),createElementBlock("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:function(tr){tr&&(se.value[dr+Br]=tr)},key:dr+Br,"aria-selected":Nr.classData.dp__active_date||Nr.classData.dp__range_start||Nr.classData.dp__range_start,"aria-disabled":Nr.classData.dp__cell_disabled,tabindex:"0",onClick:function(tr){return Or.$emit("selectDate",Nr)},onKeydown:withKeys(function(tr){return Or.$emit("selectDate",Nr)},["enter"]),onMouseover:function(tr){return function(ve,ce){var me,ir;if(re("setHoverDate",ve),(me=ve.marker)!==null&&me!==void 0&&(ir=me.tooltip)!==null&&ir!==void 0&&ir.length){var ur=ht(se.value[ce]);if(ur){var lr=ur.getBoundingClientRect(),er=lr.width,nr=lr.height;oe.value={bottom:"".concat(nr,"px"),left:"".concat(er/2,"px"),transform:"translateX(-50%)"},ie.value=ve.value}}}(Nr,dr+Br)},onMouseleave:Ir},[createBaseVNode("div",{class:normalizeClass(["dp__cell_inner",Nr.classData])},[Or.$slots.day?renderSlot(Or.$slots,"day",{key:0,day:+Nr.text,date:Nr.value}):createCommentVNode("",!0),Or.$slots.day?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment$1,{key:1},[createTextVNode(toDisplayString(Nr.text),1)],64)),Nr.marker?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(unref(yr)(Nr.marker)),style:normalizeStyle(Nr.marker.color?{backgroundColor:Nr.marker.color}:{})},null,6)):createCommentVNode("",!0),unref(vr)(Nr.value)?(openBlock(),createElementBlock("div",{key:3,class:"dp__marker_tooltip",style:normalizeStyle(oe.value)},[createBaseVNode("div",{class:"dp__tooltip_content",onClick:Hr[0]||(Hr[0]=withModifiers(function(){},["stop"]))},[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(Nr.marker.tooltip,function(tr,ve){return openBlock(),createElementBlock("div",{key:ve,class:"dp__tooltip_text"},[Or.$slots["marker-tooltip"]?renderSlot(Or.$slots,"marker-tooltip",{key:0,tooltop:tr,day:Nr.value}):createCommentVNode("",!0),Or.$slots["marker-tooltip"]?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment$1,{key:1},[createBaseVNode("div",{class:"dp__tooltip_mark",style:normalizeStyle(tr.color?{backgroundColor:tr.color}:{})},null,4),createBaseVNode("div",null,toDisplayString(tr.text),1)],64))])}),128)),Nt])],4)):createCommentVNode("",!0)],2)],40,Bt)}),128))])}),128))])):createCommentVNode("",!0)]}),_:3},8,["name","css"])],34))],4)],2)}}});function Rt(te){return Rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},Rt(te)}var Et=function(te,ee){return ee},Ft=function(te){return Array.isArray(te)},Yt=function(te){return Array.isArray(te)},Kt=function(te){return Array.isArray(te)&&te.length===2},Ut=function(te){return typeof te=="string"},Ht={class:"dp__selection_preview"},Gt={class:"dp__action_buttons"},Lt=["onKeydown"],Wt=defineComponent({props:{selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},internalModelValue:{type:[Date,Array],default:null},range:{type:Boolean,default:!1},previewFormat:{type:[String,Function],default:function(){return""}},inline:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},multiCalendars:{type:Number,default:0},calendarWidth:{type:Number,default:0},menuMount:{type:Boolean,default:!1},customProps:{type:Object,default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},enableTimePicker:{type:Boolean,default:!0},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},multiDates:{type:Boolean,default:!1}},emits:["closePicker","selectDate"],setup:function(te,ee){var re=ee.emit,ne=te,ie=inject("formatLocale"),oe=computed(function(){return{dp__action:!0,dp__select:!0,dp__action_disabled:!se.value||!ae.value}}),se=computed(function(){return!ne.enableTimePicker||ct(ne.internalModelValue,ne.maxTime,ne.minTime)}),ae=computed(function(){return!ne.monthPicker||(pe=ne.internalModelValue,rr=ne.minDate,cr=ne.maxDate,ar=!0,rr&&cr&&(ar=at(new Date(pe),new Date(rr))&&rt(new Date(pe),new Date(cr))),rr&&(ar=at(new Date(pe),new Date(rr))),cr&&(ar=rt(new Date(pe),new Date(cr))),ar);var pe,rr,cr,ar}),fe=function(pe){return nt(pe,ne.previewFormat,ie==null?void 0:ie.value)},ue=computed(function(){return ne.internalModelValue&&ne.menuMount?typeof ne.previewFormat=="string"?Ft(ne.internalModelValue)?ne.internalModelValue.length===2&&ne.internalModelValue[1]?ne.multiCalendars>0?"".concat(fe(ne.internalModelValue[0])," - ").concat(fe(ne.internalModelValue[1])):[fe(ne.internalModelValue[0]),fe(ne.internalModelValue[1])]:ne.multiDates?ne.internalModelValue.map(function(pe){return"".concat(fe(pe))}):"".concat(fe(ne.internalModelValue[0])," -"):nt(ne.internalModelValue,ne.previewFormat,ie==null?void 0:ie.value):ne.timePicker?ne.previewFormat(et(ne.internalModelValue)):ne.monthPicker?ne.previewFormat(Ze(ne.internalModelValue)):ne.previewFormat(ne.internalModelValue):""}),le=function(){se.value&&ae.value&&re("selectDate")};return function(pe,rr){return openBlock(),createElementBlock("div",{class:"dp__action_row",style:normalizeStyle(te.calendarWidth?{width:"".concat(te.calendarWidth,"px")}:{})},[createBaseVNode("div",Ht,[pe.$slots["action-preview"]?renderSlot(pe.$slots,"action-preview",{key:0,value:te.internalModelValue}):createCommentVNode("",!0),pe.$slots["action-preview"]?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment$1,{key:1},[Array.isArray(unref(ue))?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment$1,{key:0},[createTextVNode(toDisplayString(unref(ue)),1)],64)),Array.isArray(unref(ue))?(openBlock(!0),createElementBlock(Fragment$1,{key:1},renderList(unref(ue),function(cr,ar){return openBlock(),createElementBlock("div",{key:ar},toDisplayString(cr),1)}),128)):createCommentVNode("",!0)],64))]),createBaseVNode("div",Gt,[pe.$slots["action-select"]?renderSlot(pe.$slots,"action-select",{key:0,value:te.internalModelValue}):createCommentVNode("",!0),pe.$slots["action-select"]?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment$1,{key:1},[te.inline?createCommentVNode("",!0):(openBlock(),createElementBlock("span",{key:0,class:"dp__action dp__cancel",tabindex:"0",onClick:rr[0]||(rr[0]=function(cr){return pe.$emit("closePicker")}),onKeydown:rr[1]||(rr[1]=withKeys(function(cr){return pe.$emit("closePicker")},["enter"]))},toDisplayString(te.cancelText),33)),createBaseVNode("span",{class:normalizeClass(unref(oe)),tabindex:"0",onKeydown:withKeys(le,["enter"]),onClick:le},toDisplayString(te.selectText),43,Lt)],64))])],4)}}});function zt(te,ee){var re=Object.keys(te);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(te);ee&&(ne=ne.filter(function(ie){return Object.getOwnPropertyDescriptor(te,ie).enumerable})),re.push.apply(re,ne)}return re}function qt(te){for(var ee=1;ee<arguments.length;ee++){var re=arguments[ee]!=null?arguments[ee]:{};ee%2?zt(Object(re),!0).forEach(function(ne){he(te,ne,re[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(re)):zt(Object(re)).forEach(function(ne){Object.defineProperty(te,ne,Object.getOwnPropertyDescriptor(re,ne))})}return te}var Jt={class:"dp__overlay_container",role:"grid"},Xt={class:"dp__selection_grid_header"},Zt=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],Qt=["onKeydown"],en=defineComponent({props:{items:{type:Array,default:function(){return[]}},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:function(){return[]}},disabledValues:{type:Array,default:function(){return[]}},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1}},emits:["update:modelValue","selected","toggle","reset-flow"],setup:function(te,ee){var re=ee.emit,ne=te,ie=ref(!1),oe=ref(null),se=ref(null),ae=inject("autoApply",!1),fe=inject("textInput",ref(!1)),ue=ref();onBeforeUpdate(function(){oe.value=null}),onMounted(function(){mr();var Er=ht(se);Er&&(fe.value||Er.focus({preventScroll:!0}),ie.value=Er.clientHeight<Er.scrollHeight)});var le=computed(function(){return{dp__overlay:!0}}),pe=computed(function(){return{dp__overlay_col:!0}}),rr=computed(function(){return ne.items.map(function(Er){return Er.filter(function(Tr){return Tr}).map(function(Tr){var Ir,Or,Hr,Pr=ne.disabledValues.some(function(Nr){return Nr===Tr.value})||ar(Tr.value),Br=(Ir=ne.multiModelValue)!==null&&Ir!==void 0&&Ir.length?(Or=ne.multiModelValue)===null||Or===void 0?void 0:Or.some(function(Nr){return lt(Nr,setYear(setMonth(new Date,Tr.value),ne.year))}):!ne.skipActive&&Tr.value===ne.modelValue;return qt(qt({},Tr),{},{className:{dp__overlay_cell_active:Br,dp__overlay_cell:!Br,dp__overlay_cell_disabled:Pr,dp__overlay_cell_active_disabled:Pr&&Br,dp__overlay_cell_pad:!0,dp__cell_in_between:!((Hr=ne.multiModelValue)===null||Hr===void 0||!Hr.length)&&yr(Tr.value)}})})})}),cr=computed(function(){return{dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:ie.value,dp__button_bottom:ae}}),ar=function(Er){var Tr=!!ne.maxValue&&+Er>+ne.maxValue,Ir=!!ne.minValue&&+Er<+ne.minValue;return Tr||Ir},mr=function(){var Er=ht(oe);if(Er){var Tr=ht(se);Tr&&(Tr.scrollTop=Er.offsetTop-Tr.offsetTop-(Tr.getBoundingClientRect().height/2-Er.getBoundingClientRect().height))}},pr=function(Er){ne.disabledValues.some(function(Tr){return Tr===Er})||ne.minValue&&!(+ne.minValue<=Er)||ne.maxValue&&!(+ne.maxValue>=Er)||(re("update:modelValue",Er),re("selected"))},yr=function(Er){return ft(ne.multiModelValue,setYear(setMonth(new Date,ue.value||0),ne.year),setYear(setMonth(new Date,Er),ne.year))},vr=function(){re("toggle"),re("reset-flow")};return function(Er,Tr){return openBlock(),createElementBlock("div",{ref_key:"gridWrapRef",ref:se,class:normalizeClass(unref(le)),role:"dialog",tabindex:"0"},[createBaseVNode("div",Jt,[createBaseVNode("div",Xt,[renderSlot(Er.$slots,"header")]),(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(rr),function(Ir,Or){return openBlock(),createElementBlock("div",{class:"dp__overlay_row",key:unref(yt)(Or),role:"row"},[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(Ir,function(Hr){return openBlock(),createElementBlock("div",{role:"gridcell",class:normalizeClass(unref(pe)),key:Hr.value,"aria-selected":Hr.value===te.modelValue&&!te.disabledValues.includes(Hr.value),"aria-disabled":Hr.className.dp__overlay_cell_disabled,ref_for:!0,ref:function(Pr){Hr.value!==te.modelValue||te.disabledValues.includes(Hr.value)||(oe.value=Pr)},tabindex:"0",onClick:function(Pr){return pr(Hr.value)},onKeydown:withKeys(function(Pr){return pr(Hr.value)},["enter"]),onMouseover:function(Pr){return ue.value=Hr.value}},[createBaseVNode("div",{class:normalizeClass(Hr.className)},[Er.$slots.item?renderSlot(Er.$slots,"item",{key:0,item:Hr}):createCommentVNode("",!0),Er.$slots.item?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment$1,{key:1},[createTextVNode(toDisplayString(Hr.text),1)],64))],2)],42,Zt)}),128))])}),128)),Er.$slots["button-icon"]?(openBlock(),createElementBlock("div",{key:0,role:"button","aria-label":"Toggle overlay",class:normalizeClass(unref(cr)),tabindex:"0",onClick:vr,onKeydown:withKeys(vr,["enter"])},[renderSlot(Er.$slots,"button-icon")],42,Qt)):createCommentVNode("",!0)])],2)}}}),tn=function(){var te=inject("transitions");return{transitionName:computed(function(){return function(ee){return te!=null&&te.value?ee?te.value.open:te.value.close:""}}),showTransition:!(te==null||!te.value)}},nn={key:0,class:"dp__time_input"},an=["onKeydown"],rn=["onKeydown"],ln=["onKeydown"],on={key:2},un=["onKeydown"],sn=defineComponent({props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},is24:{type:Boolean,default:!0},filters:{type:Object,default:function(){return{}}},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["setHours","setMinutes","update:hours","update:minutes","update:seconds","reset-flow"],setup:function(te,ee){var re=ee.expose,ne=ee.emit,ie=te,oe=ref(!1),se=ref(!1),ae=ref(!1),fe=ref("AM"),ue=tn(),le=ue.transitionName,pe=ue.showTransition,rr=computed(function(){return{dp__time_col:!0,dp__time_col_reg:!ie.enableSeconds&&ie.is24,dp__time_col_reg_with_button:!ie.enableSeconds&&!ie.is24,dp__time_col_sec:ie.enableSeconds&&ie.is24,dp__time_col_sec_with_button:ie.enableSeconds&&!ie.is24}}),cr=computed(function(){var Pr=Or(ie.hours);return{text:Pr<10?"0".concat(Pr):"".concat(Pr),value:Pr}}),ar=computed(function(){return{text:ie.minutes<10?"0".concat(ie.minutes):"".concat(ie.minutes),value:ie.minutes}}),mr=computed(function(){return{text:ie.seconds<10?"0".concat(ie.seconds):"".concat(ie.seconds),value:ie.seconds}}),pr=function(Pr,Br){return function(Nr,dr){for(var tr=[],ve=0;ve<Nr;ve+=dr)tr.push({value:ve,text:ve<10?"0".concat(ve):"".concat(ve)});return function(ce){for(var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,ir=[],ur=0;ur<ce.length;ur+=me)ir.push([ce[ur],ce[ur+1],ce[ur+2]]);return ir}(tr)}(Pr,+Br)},yr=function(){ie.noHoursOverlay||(oe.value=!oe.value)},vr=function(){ie.noMinutesOverlay||(se.value=!se.value)},Er=function(){ie.noSecondsOverlay||(ae.value=!ae.value)},Tr=function(Pr,Br){return{hours:Pr==="hours"?getHours(Br?ot({hours:+ie.hours},{hours:+ie.hoursIncrement}):ut({hours:+ie.hours},{hours:+ie.hoursIncrement})):ie.hours,minutes:Pr==="minutes"?getMinutes(Br?ot({minutes:ie.minutes},{minutes:+ie.minutesIncrement}):ut({minutes:ie.minutes},{minutes:+ie.minutesIncrement})):ie.minutes,seconds:Pr==="seconds"?getSeconds(Br?ot({seconds:ie.seconds},{seconds:+ie.secondsIncrement}):ut({seconds:ie.seconds},{seconds:+ie.secondsIncrement})):ie.seconds}},Ir=function(Pr){var Br=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],Nr=Tr(Pr,Br),dr=Nr[Pr];ne("update:".concat(Pr),dr)},Or=function(Pr){return ie.is24?Pr:(fe.value=Pr>=12?"PM":"AM",[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][Pr])},Hr=function(){fe.value==="PM"?(fe.value="AM",ne("update:hours",ie.hours-12)):(fe.value="PM",ne("update:hours",ie.hours+12))};return re({openChildCmp:function(Pr){switch(Pr){case"hours":oe.value=!0;break;case"minutes":se.value=!0;break;case"seconds":ae.value=!0}}}),function(Pr,Br){return te.disabled?createCommentVNode("",!0):(openBlock(),createElementBlock("div",nn,[createBaseVNode("div",{class:normalizeClass(unref(rr))},[createBaseVNode("div",{class:"dp__inc_dec_button",role:"button","aria-label":"Increment hours",tabindex:"0",onKeydown:Br[0]||(Br[0]=withKeys(function(Nr){return Ir("hours")},["enter"])),onClick:Br[1]||(Br[1]=function(Nr){return Ir("hours")})},[Pr.$slots["arrow-up"]?renderSlot(Pr.$slots,"arrow-up",{key:0}):createCommentVNode("",!0),Pr.$slots["arrow-up"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(Re),{key:1}))],32),createBaseVNode("div",{role:"button","aria-label":"Open hours overlay",class:normalizeClass(te.noHoursOverlay?"":"dp__time_display"),tabindex:"0",onKeydown:withKeys(yr,["enter"]),onClick:yr},[Pr.$slots.hours?renderSlot(Pr.$slots,"hours",{key:0,text:unref(cr).text,value:unref(cr).value}):createCommentVNode("",!0),Pr.$slots.hours?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment$1,{key:1},[createTextVNode(toDisplayString(unref(cr).text),1)],64))],42,an),createBaseVNode("div",{class:"dp__inc_dec_button",role:"button","aria-label":"Decrement hours",tabindex:"0",onKeydown:Br[2]||(Br[2]=withKeys(function(Nr){return Ir("hours",!1)},["enter"])),onClick:Br[3]||(Br[3]=function(Nr){return Ir("hours",!1)})},[Pr.$slots["arrow-down"]?renderSlot(Pr.$slots,"arrow-down",{key:0}):createCommentVNode("",!0),Pr.$slots["arrow-down"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(Ye),{key:1}))],32)],2),createBaseVNode("div",{class:normalizeClass(unref(rr))},":",2),createBaseVNode("div",{class:normalizeClass(unref(rr))},[createBaseVNode("div",{class:"dp__inc_dec_button",role:"button","aria-label":"Increment minutes",tabindex:"0",onKeydown:Br[4]||(Br[4]=withKeys(function(Nr){return Ir("minutes")},["enter"])),onClick:Br[5]||(Br[5]=function(Nr){return Ir("minutes")})},[Pr.$slots["arrow-up"]?renderSlot(Pr.$slots,"arrow-up",{key:0}):createCommentVNode("",!0),Pr.$slots["arrow-up"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(Re),{key:1}))],32),createBaseVNode("div",{"aria-label":"Open minutes overlay",role:"button",class:normalizeClass(te.noMinutesOverlay?"":"dp__time_display"),tabindex:"0",onKeydown:withKeys(vr,["enter"]),onClick:vr},[Pr.$slots.minutes?renderSlot(Pr.$slots,"minutes",{key:0,text:unref(ar).text,value:unref(ar).value}):createCommentVNode("",!0),Pr.$slots.minutes?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment$1,{key:1},[createTextVNode(toDisplayString(unref(ar).text),1)],64))],42,rn),createBaseVNode("div",{class:"dp__inc_dec_button",role:"button","aria-label":"Decrement minutes",tabindex:"0",onKeydown:Br[6]||(Br[6]=withKeys(function(Nr){return Ir("minutes",!1)},["enter"])),onClick:Br[7]||(Br[7]=function(Nr){return Ir("minutes",!1)})},[Pr.$slots["arrow-down"]?renderSlot(Pr.$slots,"arrow-down",{key:0}):createCommentVNode("",!0),Pr.$slots["arrow-down"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(Ye),{key:1}))],32)],2),te.enableSeconds?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(rr))},":",2)):createCommentVNode("",!0),te.enableSeconds?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(rr))},[createBaseVNode("div",{class:"dp__inc_dec_button",role:"button","aria-label":"Increment seconds",tabindex:"0",onKeydown:Br[8]||(Br[8]=withKeys(function(Nr){return Ir("seconds")},["enter"])),onClick:Br[9]||(Br[9]=function(Nr){return Ir("seconds")})},[Pr.$slots["arrow-up"]?renderSlot(Pr.$slots,"arrow-up",{key:0}):createCommentVNode("",!0),Pr.$slots["arrow-up"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(Re),{key:1}))],32),createBaseVNode("div",{role:"button","aria-label":"Open seconds overlay",class:normalizeClass(te.noSecondsOverlay?"":"dp__time_display"),tabindex:"0",onKeydown:withKeys(Er,["enter"]),onClick:Er},[Pr.$slots.seconds?renderSlot(Pr.$slots,"hours",{key:0,text:unref(mr).text,value:unref(mr).value}):createCommentVNode("",!0),Pr.$slots.seconds?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment$1,{key:1},[createTextVNode(toDisplayString(unref(mr).text),1)],64))],42,ln),createBaseVNode("div",{class:"dp__inc_dec_button",role:"button","aria-label":"Decrement seconds",tabindex:"0",onKeydown:Br[10]||(Br[10]=withKeys(function(Nr){return Ir("seconds",!1)},["enter"])),onClick:Br[11]||(Br[11]=function(Nr){return Ir("seconds",!1)})},[Pr.$slots["arrow-down"]?renderSlot(Pr.$slots,"arrow-down",{key:0}):createCommentVNode("",!0),Pr.$slots["arrow-down"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(Ye),{key:1}))],32)],2)):createCommentVNode("",!0),te.is24?createCommentVNode("",!0):(openBlock(),createElementBlock("div",on,[Pr.$slots["am-pm-button"]?renderSlot(Pr.$slots,"am-pm-button",{key:0,toggle:Hr,value:fe.value}):createCommentVNode("",!0),Pr.$slots["am-pm-button"]?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:1,class:"dp__pm_am_button",role:"button","aria-label":"Switch AM/PM mode",tabindex:"0",onClick:Hr,onKeydown:withKeys(Hr,["enter"])},toDisplayString(fe.value),41,un))])),createVNode(Transition,{name:unref(le)(oe.value),css:unref(pe)},{default:withCtx(function(){return[oe.value?(openBlock(),createBlock(en,{key:0,items:pr(te.is24?24:12,te.hoursGridIncrement),"disabled-values":te.filters.times.hours,"onUpdate:modelValue":Br[12]||(Br[12]=function(Nr){return Pr.$emit("update:hours",Nr)}),onSelected:yr,onToggle:yr,onResetFlow:Br[13]||(Br[13]=function(Nr){return Pr.$emit("reset-flow")})},createSlots({"button-icon":withCtx(function(){return[Pr.$slots["clock-icon"]?renderSlot(Pr.$slots,"clock-icon",{key:0}):createCommentVNode("",!0),Pr.$slots["clock-icon"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(Be),{key:1}))]}),_:2},[Pr.$slots["hours-overlay"]?{name:"item",fn:withCtx(function(Nr){var dr=Nr.item;return[renderSlot(Pr.$slots,"hours-overlay",{text:dr.text,value:dr.value})]})}:void 0]),1032,["items","disabled-values"])):createCommentVNode("",!0)]}),_:3},8,["name","css"]),createVNode(Transition,{name:unref(le)(se.value),css:unref(pe)},{default:withCtx(function(){return[se.value?(openBlock(),createBlock(en,{key:0,items:pr(60,te.minutesGridIncrement),"disabled-values":te.filters.times.minutes,"onUpdate:modelValue":Br[14]||(Br[14]=function(Nr){return Pr.$emit("update:minutes",Nr)}),onSelected:vr,onToggle:vr,onResetFlow:Br[15]||(Br[15]=function(Nr){return Pr.$emit("reset-flow")})},createSlots({"button-icon":withCtx(function(){return[Pr.$slots["clock-icon"]?renderSlot(Pr.$slots,"clock-icon",{key:0}):createCommentVNode("",!0),Pr.$slots["clock-icon"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(Be),{key:1}))]}),_:2},[Pr.$slots["minutes-overlay"]?{name:"item",fn:withCtx(function(Nr){var dr=Nr.item;return[renderSlot(Pr.$slots,"minutes-overlay",{text:dr.text,value:dr.value})]})}:void 0]),1032,["items","disabled-values"])):createCommentVNode("",!0)]}),_:3},8,["name","css"]),createVNode(Transition,{name:unref(le)(ae.value),css:unref(pe)},{default:withCtx(function(){return[ae.value?(openBlock(),createBlock(en,{key:0,items:pr(60,te.secondsGridIncrement),"disabled-values":te.filters.times.seconds,"onUpdate:modelValue":Br[16]||(Br[16]=function(Nr){return Pr.$emit("update:seconds",Nr)}),onSelected:Er,onToggle:Er,onResetFlow:Br[17]||(Br[17]=function(Nr){return Pr.$emit("reset-flow")})},createSlots({"button-icon":withCtx(function(){return[Pr.$slots["clock-icon"]?renderSlot(Pr.$slots,"clock-icon",{key:0}):createCommentVNode("",!0),Pr.$slots["clock-icon"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(Be),{key:1}))]}),_:2},[Pr.$slots["seconds-overlay"]?{name:"item",fn:withCtx(function(Nr){var dr=Nr.item;return[renderSlot(Pr.$slots,"seconds-overlay",{text:dr.text,value:dr.value})]})}:void 0]),1032,["items","disabled-values"])):createCommentVNode("",!0)]}),_:3},8,["name","css"])]))}}}),cn=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar"]},{name:"arrow-down",use:["time","calendar"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay",use:["calendar","month-year"]},{name:"year-overlay",use:["calendar","month-year"]},{name:"hours-overlay",use:["calendar","time"]},{name:"minutes-overlay",use:["calendar","time"]},{name:"seconds-overlay",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-select",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"now-button",use:[]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]}],dn=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],fn={all:function(){return cn},monthYear:function(){return cn.filter(function(te){return te.use.includes("month-year")})},input:function(){return dn},timePicker:function(){return cn.filter(function(te){return te.use.includes("time")})},action:function(){return cn.filter(function(te){return te.use.includes("action")})},calendar:function(){return cn.filter(function(te){return te.use.includes("calendar")})}},pn=function(te,ee){var re=[];return fn[ee]().forEach(function(ne){te[ne.name]&&re.push(ne.name)}),re},mn={key:0,class:"dp__overlay"},vn={class:"dp__overlay_container"},yn={key:1,class:"dp__overlay_row"},hn=defineComponent({props:{hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},is24:{type:Boolean,default:!0},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},range:{type:Boolean,default:!1},filters:{type:Object,default:function(){return{}}},timePicker:{type:Boolean,default:!1},hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},customProps:{type:Object,default:null},enableSeconds:{type:Boolean,default:!1},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1}},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow"],setup:function(te,ee){var re=ee.expose,ne=ee.emit,ie=te,oe=useSlots(),se=inject("autoApply",!1),ae=ref(null),fe=tn(),ue=fe.transitionName,le=fe.showTransition;onMounted(function(){ne("mount")});var pe=ref(!1),rr=function(Or){return{hours:Array.isArray(ie.hours)?ie.hours[Or]:ie.hours,minutes:Array.isArray(ie.minutes)?ie.minutes[Or]:ie.minutes,seconds:Array.isArray(ie.seconds)?ie.seconds[Or]:ie.seconds}},cr=computed(function(){var Or=[];if(ie.range)for(var Hr=0;Hr<2;Hr++)Or.push(rr(Hr));else Or.push(rr(0));return Or}),ar=function(Or){var Hr=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Pr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";Hr||ne("reset-flow"),pe.value=Or,nextTick(function(){Pr!==""&&ae.value&&ae.value.openChildCmp(Pr)})},mr=computed(function(){return{dp__button:!0,dp__button_bottom:se}}),pr=pn(oe,"timePicker"),yr=computed(function(){return{is24:ie.is24,hoursGridIncrement:ie.hoursGridIncrement,minutesGridIncrement:ie.minutesGridIncrement,secondsGridIncrement:ie.secondsGridIncrement,hoursIncrement:ie.hoursIncrement,minutesIncrement:ie.minutesIncrement,secondsIncrement:ie.secondsIncrement,filters:ie.filters,noHoursOverlay:ie.noHoursOverlay,noMinutesOverlay:ie.noMinutesOverlay,noSecondsOverlay:ie.noSecondsOverlay,enableSeconds:ie.enableSeconds}}),vr=function(Or,Hr,Pr){return ie.range?Hr===0?[Or,cr.value[1][Pr]]:[cr.value[0][Pr],Or]:Or},Er=function(Or){ne("update:hours",Or)},Tr=function(Or){ne("update:minutes",Or)},Ir=function(Or){ne("update:seconds",Or)};return re({toggleTimePicker:ar}),function(Or,Hr){return openBlock(),createElementBlock("div",null,[te.timePicker?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(mr)),role:"button","aria-label":"Open time picker",tabindex:"0",onKeydown:Hr[0]||(Hr[0]=withKeys(function(Pr){return ar(!0)},["enter"])),onClick:Hr[1]||(Hr[1]=function(Pr){return ar(!0)})},[Or.$slots["clock-icon"]?renderSlot(Or.$slots,"clock-icon",{key:0}):createCommentVNode("",!0),Or.$slots["clock-icon"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(Be),{key:1}))],34)),createVNode(Transition,{name:unref(ue)(pe.value),css:unref(le)},{default:withCtx(function(){return[pe.value||te.timePicker?(openBlock(),createElementBlock("div",mn,[createBaseVNode("div",vn,[Or.$slots["time-picker-overlay"]?renderSlot(Or.$slots,"time-picker-overlay",{key:0,range:te.range,hours:te.hours,minutes:te.minutes,seconds:te.seconds,setHours:Er,setMinutes:Tr,setSeconds:Ir}):createCommentVNode("",!0),Or.$slots["time-picker-overlay"]?createCommentVNode("",!0):(openBlock(),createElementBlock("div",yn,[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(cr),function(Pr,Br){return openBlock(),createBlock(sn,mergeProps({key:Br,disabled:Br===0?te.fixedStart:te.fixedEnd,hours:Pr.hours,minutes:Pr.minutes,seconds:Pr.seconds},unref(yr),{"onUpdate:hours":function(Nr){return Er(vr(Nr,Br,"hours"))},"onUpdate:minutes":function(Nr){return Tr(vr(Nr,Br,"minutes"))},"onUpdate:seconds":function(Nr){return Ir(vr(Nr,Br,"seconds"))}}),createSlots({_:2},[renderList(unref(pr),function(Nr,dr){return{name:Nr,fn:withCtx(function(tr){return[renderSlot(Or.$slots,Nr,normalizeProps(guardReactiveProps(tr)))]})}})]),1040,["disabled","hours","minutes","seconds","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])}),128))])),te.timePicker?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(unref(mr)),role:"button","aria-label":"Close time picker",tabindex:"0",onKeydown:Hr[2]||(Hr[2]=withKeys(function(Pr){return ar(!1)},["enter"])),onClick:Hr[3]||(Hr[3]=function(Pr){return ar(!1)})},[Or.$slots["calendar-icon"]?renderSlot(Or.$slots,"calendar-icon",{key:0}):createCommentVNode("",!0),Or.$slots["calendar-icon"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(De),{key:1}))],34))])])):createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),_n=function(te,ee){var re=function se(ae,fe){var ue=ae;return te.filters.months.includes(getMonth(ue))?se(ue=fe?addMonths(ae,1):subMonths(ae,1),fe):ue},ne=function se(ae,fe){var ue=ae;return te.filters.years.includes(getYear(ue))?se(ue=fe?addYears(ae,1):subYears(ae,1),fe):ue},ie=function(se,ae,fe){return[new Date(te[se]),set(new Date,{month:ae,year:fe})]},oe=function(se,ae){ee("update:month",se),ee("update:year",ae)};return{handleMonthYearChange:function(se){var ae=set(new Date,{month:te.month,year:te.year}),fe=se?addMonths(ae,1):subMonths(ae,1),ue=getMonth(fe),le=getYear(fe);te.filters.months.includes(ue)&&(fe=re(fe,se),ue=getMonth(fe),le=getYear(fe)),te.filters.years.includes(le)&&(fe=ne(fe,se),le=getYear(fe)),function(pe,rr){te.preventMinMaxNavigation&&(te.minDate||te.maxDate)?(te.maxDate&&(at.apply(void 0,mt(ie("maxDate",pe,rr)))||lt.apply(void 0,mt(ie("maxDate",pe,rr))))&&oe(pe,rr),(te.minDate&&rt.apply(void 0,mt(ie("minDate",pe,rr)))||lt.apply(void 0,mt(ie("minDate",pe,rr))))&&oe(pe,rr)):oe(pe,rr)}(ue,le)}}};function gn(te,ee){var re=Object.keys(te);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(te);ee&&(ne=ne.filter(function(ie){return Object.getOwnPropertyDescriptor(te,ie).enumerable})),re.push.apply(re,ne)}return re}function wn(te){for(var ee=1;ee<arguments.length;ee++){var re=arguments[ee]!=null?arguments[ee]:{};ee%2?gn(Object(re),!0).forEach(function(ne){he(te,ne,re[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(re)):gn(Object(re)).forEach(function(ne){Object.defineProperty(te,ne,Object.getOwnPropertyDescriptor(re,ne))})}return te}var bn={class:"dp__month_year_row"},kn={class:"dp__inner_nav",role:"button","aria-label":"Previous month"},Dn=["onKeydown"],Sn=["onKeydown"],On={class:"dp__inner_nav",role:"button","aria-label":"Next month"},xn={class:"dp__month_picker_header"},Pn={class:"dp__inner_nav",role:"button","aria-label":"Previous month"},Mn=["onKeydown"],Cn={class:"dp__inner_nav",role:"button","aria-label":"Next month"},An=defineComponent({props:wn(wn({},xt),{},{minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1}}),emits:["update:month","update:year","monthYearSelect","mount","reset-flow"],setup:function(te,ee){var re=ee.expose,ne=ee.emit,ie=te,oe=tn(),se=oe.transitionName,ae=oe.showTransition,fe=ref(!1),ue=ref(!1),le=_n(ie,ne).handleMonthYearChange;onMounted(function(){ne("mount")});var pe=function(tr){ne("update:month",tr),ne("monthYearSelect"),Pr(!0)},rr=function(tr){ne("update:year",tr),ne("monthYearSelect",!0),Br(!0)},cr=computed(function(){return ie.minDate?getYear(new Date(ie.minDate)):null}),ar=computed(function(){return ie.maxDate?getYear(new Date(ie.maxDate)):null}),mr=computed(function(){if(ie.minDate&&cr.value){if(cr.value>ie.year)return 12;if(cr.value===ie.year)return getMonth(new Date(ie.minDate))}return null}),pr=computed(function(){if(ie.maxDate&&ar.value){if(ar.value<ie.year)return-1;if(ar.value===ie.year)return getMonth(new Date(ie.maxDate))}return null}),yr=computed(function(){return ie.range&&ie.internalModelValue&&ie.monthPicker?ie.internalModelValue:[]}),vr=function(tr){for(var ve=[],ce=0;ce<tr.length;ce+=3){var me=[tr[ce],tr[ce+1],tr[ce+2]];ve.push(ie.reverseYears?me.reverse():me)}return ve},Er=computed(function(){var tr=ie.months.find(function(ve){return ve.value===ie.month});return tr||{text:"",value:0}}),Tr=computed(function(){return vr(ie.months)}),Ir=computed(function(){var tr=vr(ie.years);return ie.reverseYears?tr.reverse():tr}),Or=computed(function(){return!ie.multiCalendars||!!ie.multiCalendarsSolo||ie.instance===0}),Hr=computed(function(){return!ie.multiCalendars||!!ie.multiCalendarsSolo||ie.instance===ie.multiCalendars-1}),Pr=function(){var tr=arguments.length>0&&arguments[0]!==void 0&&arguments[0];Nr(tr),fe.value=!fe.value},Br=function(){var tr=arguments.length>0&&arguments[0]!==void 0&&arguments[0];Nr(tr),ue.value=!ue.value},Nr=function(tr){tr||ne("reset-flow")},dr=function(){var tr=arguments.length>0&&arguments[0]!==void 0&&arguments[0];ne("update:year",tr?ie.year+1:ie.year-1)};return re({toggleMonthPicker:Pr,toggleYearPicker:Br}),function(tr,ve){return openBlock(),createElementBlock("div",bn,[tr.monthPicker?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment$1,{key:0},[unref(Or)?(openBlock(),createElementBlock("div",{key:0,class:"dp__month_year_col_nav",onClick:ve[0]||(ve[0]=function(ce){return unref(le)(!1)}),onKeydown:ve[1]||(ve[1]=withKeys(function(ce){return unref(le)(!1)},["enter"])),tabindex:"0"},[createBaseVNode("div",kn,[tr.$slots["arrow-left"]?renderSlot(tr.$slots,"arrow-left",{key:0}):createCommentVNode("",!0),tr.$slots["arrow-left"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(Ce),{key:1}))])],32)):createCommentVNode("",!0),createBaseVNode("div",{class:"dp__month_year_select",onClick:Pr,onKeydown:withKeys(Pr,["enter"]),role:"button","aria-label":"Open months overlay",tabindex:"0"},[tr.$slots.month?renderSlot(tr.$slots,"month",{key:0,value:unref(Er).value,text:unref(Er).text}):createCommentVNode("",!0),tr.$slots.month?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment$1,{key:1},[createTextVNode(toDisplayString(unref(Er).text),1)],64))],40,Dn),createBaseVNode("div",{class:"dp__month_year_select",onClick:Br,onKeydown:withKeys(Br,["enter"]),role:"button","aria-label":"Open years overlay",tabindex:"0"},[tr.$slots.year?renderSlot(tr.$slots,"year",{key:0,year:tr.year}):createCommentVNode("",!0),tr.$slots.year?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment$1,{key:1},[createTextVNode(toDisplayString(tr.year),1)],64))],40,Sn),createVNode(Transition,{name:unref(se)(fe.value),css:unref(ae)},{default:withCtx(function(){return[fe.value?(openBlock(),createBlock(en,mergeProps({key:0},{modelValue:tr.month,items:unref(Tr),disabledValues:tr.filters.months,minValue:unref(mr),maxValue:unref(pr)},{"onUpdate:modelValue":pe,onToggle:Pr}),createSlots({"button-icon":withCtx(function(){return[tr.$slots["calendar-icon"]?renderSlot(tr.$slots,"calendar-icon",{key:0}):createCommentVNode("",!0),tr.$slots["calendar-icon"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(De),{key:1}))]}),_:2},[tr.$slots["month-overlay"]?{name:"item",fn:withCtx(function(ce){var me=ce.item;return[renderSlot(tr.$slots,"month-overlay",{text:me.text,value:me.value})]})}:void 0]),1040)):createCommentVNode("",!0)]}),_:3},8,["name","css"]),createVNode(Transition,{name:unref(se)(ue.value),css:unref(ae)},{default:withCtx(function(){return[ue.value?(openBlock(),createBlock(en,mergeProps({key:0},{modelValue:tr.year,items:unref(Ir),disabledValues:tr.filters.years,minValue:unref(cr),maxValue:unref(ar)},{"onUpdate:modelValue":rr,onToggle:Br}),createSlots({"button-icon":withCtx(function(){return[tr.$slots["calendar-icon"]?renderSlot(tr.$slots,"calendar-icon",{key:0}):createCommentVNode("",!0),tr.$slots["calendar-icon"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(De),{key:1}))]}),_:2},[tr.$slots["year-overlay"]?{name:"item",fn:withCtx(function(ce){var me=ce.item;return[renderSlot(tr.$slots,"year-overlay",{text:me.text,value:me.value})]})}:void 0]),1040)):createCommentVNode("",!0)]}),_:3},8,["name","css"]),unref(Hr)?(openBlock(),createElementBlock("div",{key:1,class:"dp__month_year_col_nav",onClick:ve[2]||(ve[2]=function(ce){return unref(le)(!0)}),onKeydown:ve[3]||(ve[3]=withKeys(function(ce){return unref(le)(!0)},["enter"])),tabindex:"0"},[createBaseVNode("div",On,[tr.$slots["arrow-right"]?renderSlot(tr.$slots,"arrow-right",{key:0}):createCommentVNode("",!0),tr.$slots["arrow-right"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(Ve),{key:1}))])],32)):createCommentVNode("",!0)],64)),tr.monthPicker?(openBlock(),createBlock(en,mergeProps({key:1},{modelValue:tr.month,items:unref(Tr),disabledValues:tr.filters.months,minValue:unref(mr),maxValue:unref(pr),multiModelValue:unref(yr),year:tr.year,skipActive:ie.range},{"onUpdate:modelValue":pe,onToggle:Pr}),createSlots({header:withCtx(function(){return[createBaseVNode("div",xn,[createBaseVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",onClick:ve[4]||(ve[4]=function(ce){return dr(!1)}),onKeydown:ve[5]||(ve[5]=withKeys(function(ce){return dr(!1)},["enter"]))},[createBaseVNode("div",Pn,[tr.$slots["arrow-left"]?renderSlot(tr.$slots,"arrow-left",{key:0}):createCommentVNode("",!0),tr.$slots["arrow-left"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(Ce),{key:1}))])],32),createBaseVNode("div",{class:"dp__pointer",role:"button","aria-label":"Open years overlay",tabindex:"0",onClick:Br,onKeydown:withKeys(Br,["enter"])},[tr.$slots.year?renderSlot(tr.$slots,"year",{key:0,year:tr.year}):createCommentVNode("",!0),tr.$slots.year?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment$1,{key:1},[createTextVNode(toDisplayString(tr.year),1)],64))],40,Mn),createBaseVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",onClick:ve[6]||(ve[6]=function(ce){return dr(!0)}),onKeydown:ve[7]||(ve[7]=withKeys(function(ce){return dr(!0)},["enter"]))},[createBaseVNode("div",Cn,[tr.$slots["arrow-right"]?renderSlot(tr.$slots,"arrow-right",{key:0}):createCommentVNode("",!0),tr.$slots["arrow-right"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(Ve),{key:1}))])],32)]),createVNode(Transition,{name:unref(se)(ue.value),css:unref(ae)},{default:withCtx(function(){return[ue.value?(openBlock(),createBlock(en,mergeProps({key:0},{modelValue:tr.year,items:unref(Ir),disabledValues:tr.filters.years,minValue:unref(cr),maxValue:unref(ar)},{"onUpdate:modelValue":rr,onToggle:Br}),createSlots({"button-icon":withCtx(function(){return[tr.$slots["calendar-icon"]?renderSlot(tr.$slots,"calendar-icon",{key:0}):createCommentVNode("",!0),tr.$slots["calendar-icon"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(De),{key:1}))]}),_:2},[tr.$slots["year-overlay"]?{name:"item",fn:withCtx(function(ce){var me=ce.item;return[renderSlot(tr.$slots,"year-overlay",{text:me.text,value:me.value})]})}:void 0]),1040)):createCommentVNode("",!0)]}),_:3},8,["name","css"])]}),_:2},[tr.$slots["month-overlay"]?{name:"item",fn:withCtx(function(ce){var me=ce.item;return[renderSlot(tr.$slots,"month-overlay",{text:me.text,value:me.value})]})}:void 0]),1040)):createCommentVNode("",!0)])}}}),$n=function(te,ee,re){var ne=ref(new Date),ie=ref(),oe=ref([{month:getMonth(new Date),year:getYear(new Date)}]),se=ref(te.range?[getHours(new Date),getHours(new Date)]:getHours(new Date)),ae=ref(te.range?[getMinutes(new Date),getMinutes(new Date)]:getMinutes(new Date)),fe=ref(te.range?[0,0]:0);watch(oe,function(){setTimeout(function(){te.openOnTop&&ee("dpOpen")},0)},{deep:!0}),onMounted(function(){Or(),pr.value||(te.startDate&&(oe.value[0].month=getMonth(new Date(te.startDate)),oe.value[0].year=getYear(new Date(te.startDate)),te.multiCalendars&&tr(0)),te.startTime&&mr())});var ue=computed(function(){return function(er){return oe.value[er]?oe.value[er].month:0}}),le=computed(function(){return function(er){return oe.value[er]?oe.value[er].year:0}}),pe=function(er,nr,or){oe.value[er].month=nr,oe.value[er].year=or},rr=function(er,nr){return oe.value[er].month=nr},cr=function(er,nr){return oe.value[er].year=nr},ar=function(){var er=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return te.enableSeconds?Array.isArray(fe.value)?er?fe.value[0]:fe.value[1]:fe.value:0},mr=function(){var er;te.startTime&&(er=te.startTime,Array.isArray(er)?(se.value=[+te.startTime[0].hours,+te.startTime[1].hours],ae.value=[+te.startTime[0].minutes,+te.startTime[1].minutes],te.enableSeconds&&(fe.value=[+te.startTime[0].seconds,+te.startTime[1].seconds])):(se.value=+te.startTime.hours,ae.value=+te.startTime.minutes,te.enableSeconds&&(fe.value=+te.startTime.seconds)))},pr=computed({get:function(){return te.internalModelValue},set:function(er){te.readonly||te.disabled||ee("update:internalModelValue",er)}});watch(pr,function(){return Or()});var yr=function(er){var nr=!!te.maxDate&&at(Ke(er),Ke(new Date(te.maxDate))),or=!!te.minDate&&rt(Ke(er),Ke(new Date(te.minDate))),ye=typeof te.disabledDates=="function"?te.disabledDates(er):te.disabledDates.some(function(Wr){return lt(Ke(new Date(Wr)),Ke(er))}),gr=te.filters.months.length?te.filters.months.map(function(Wr){return+Wr}):[],Ar=gr.includes(getMonth(er)),br=!!te.disabledWeekDays.length&&te.disabledWeekDays.some(function(Wr){return+Wr===getDay(er)}),Cr=!!te.allowedDates.length&&!te.allowedDates.some(function(Wr){return lt(Ke(new Date(Wr)),Ke(er))}),Lr=getYear(er),Dr=Lr<+te.yearRange[0]||Lr>+te.yearRange[1];return nr||or||ye||Ar||Dr||br||Cr},vr=function(er){return!!pr.value&&!(te.hideOffsetDates&&!er.current)&&!te.range&&(te.multiDates&&Array.isArray(pr.value)?pr.value.some(function(nr){return lt(nr,er.value)}):lt(er.value,pr.value?pr.value:ne.value))},Er=function(er){if(rr(0,getMonth(er)),cr(0,getYear(er)),te.multiCalendars)for(var nr=1;nr<te.multiCalendars;nr++){var or=set(new Date,{month:ue.value(nr-1),year:le.value(nr-1)}),ye=add(or,{months:1});oe.value.push({month:getMonth(ye),year:getYear(ye)})}},Tr=function(er){Er(er),se.value=getHours(er),ae.value=getMinutes(er),fe.value=getSeconds(er)},Ir=function(){return Array.isArray(pr.value)&&pr.value.length?pr.value[pr.value.length-1]:null},Or=function(){if(pr.value)if(Ft(pr.value)){if(pr.value.length!==2||te.multiDates){if(Ft(pr.value)&&te.multiDates){var er=pr.value[pr.value.length-1];er&&Tr(er)}}else Er(pr.value[0]),se.value=[getHours(pr.value[0]),pr.value[1]?getHours(pr.value[1]):getHours(new Date)],ae.value=[getMinutes(pr.value[0]),pr.value[1]?getMinutes(pr.value[1]):getMinutes(new Date)],fe.value=[getSeconds(pr.value[0]),pr.value[1]?getSeconds(pr.value[1]):getSeconds(new Date)];te.multiCalendars&&te.multiCalendarsSolo&&function(){if(Array.isArray(pr.value)&&pr.value.length===2){var nr=new Date(pr.value[1]?pr.value[1]:addMonths(pr.value[0],1));getMonth(pr.value[0])!==getMonth(pr.value[1])&&te.multiCalendarsSolo&&(rr(1,getMonth(nr)),cr(1,getYear(nr)))}}()}else Tr(pr.value);else te.timePicker?(mr(),te.range?Yt(se.value)&&Yt(ae.value)&&(pr.value=[Le(new Date,se.value[0],ae.value[0],ar()),Le(new Date,se.value[1],ae.value[1],ar(!1))]):pr.value=Le(new Date,se.value,ae.value,ar())):te.monthPicker&&!te.range?pr.value=ze(new Date,ue.value(0),le.value(0)):te.multiCalendars&&Er(new Date)},Hr=function(er){var nr=getMonth(new Date(er)),or=getYear(new Date(er));if(rr(0,nr),cr(0,or),te.multiCalendars>0)for(var ye=1;ye<te.multiCalendars;ye++){var gr=We(set(new Date(er),{year:ue.value(ye-1),month:le.value(ye-1)}));rr(ye,gr.month),cr(ye,gr.year)}},Pr=function(er){if(pr.value&&Array.isArray(pr.value))if(pr.value.some(function(or){return lt(er,or)})){var nr=pr.value.filter(function(or){return!lt(or,er)});pr.value=nr.length?nr:null}else(te.multiDatesLimit&&+te.multiDatesLimit>pr.value.length||!te.multiDatesLimit)&&pr.value.push(er);else pr.value=[er]},Br=function(er){if(Array.isArray(pr.value)&&pr.value[0]){var nr=differenceInCalendarDays(er,pr.value[0]),or=Math.abs(nr<0?nr+1:nr-1);if(te.minRange&&te.maxRange)return or>=+te.minRange&&or<=+te.maxRange;if(te.minRange)return or>=+te.minRange;if(te.maxRange)return or<=+te.maxRange}return!0},Nr=function(er){return Array.isArray(pr.value)&&pr.value.length===2?te.fixedStart&&(at(er,pr.value[0])||lt(er,pr.value[0]))?[pr.value[0],er]:te.fixedEnd&&(rt(er,pr.value[1])||lt(er,pr.value[1]))?[er,pr.value[1]]:pr.value:[]},dr=function(){te.autoApply&&ee("autoApply")},tr=function(er){for(var nr=er-1;nr>=0;nr--){var or=subMonths(set(new Date,{month:ue.value(nr+1),year:le.value(nr+1)}),1);pe(nr,getMonth(or),getYear(or))}for(var ye=er+1;ye<=te.multiCalendars-1;ye++){var gr=addMonths(set(new Date,{month:ue.value(ye-1),year:le.value(ye-1)}),1);pe(ye,getMonth(gr),getYear(gr))}},ve=function(er){return ze(new Date,ue.value(er),le.value(er))},ce=function(er){return Le(er,se.value,ae.value,ar())},me=function(er){Ft(er)&&Ft(pr.value)&&Yt(se.value)&&Yt(ae.value)?(er[0]&&pr.value[0]&&(pr.value[0]=Le(er[0],se.value[0],ae.value[0],ar())),er[1]&&pr.value[1]&&(pr.value[1]=Le(er[1],se.value[1],ae.value[1],ar(!1)))):te.multiDates&&Array.isArray(pr.value)?pr.value[pr.value.length-1]=ce(er):te.range||Kt(er)||(pr.value=ce(er)),ee("timeUpdate")},ir=function(er){return!(Et(pr.value,te.range)&&pr.value[0]&&ie.value)||(er?at(ie.value,pr.value[0]):rt(ie.value,pr.value[0]))},ur=function(er){var nr=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return(te.range||te.weekPicker)&&Kt(pr.value)?!(te.hideOffsetDates&&!er.current)&&lt(new Date(er.value),pr.value[nr?0:1]):!!te.range&&(lt(new Date(er.value),pr.value&&Array.isArray(pr.value)?nr?pr.value[0]||null:pr.value[1]:null)&&(!nr||!rt(ie.value||null,Array.isArray(pr.value)?pr.value[0]:null))||lt(er.value,Array.isArray(pr.value)?pr.value[0]:null)&&ir(nr))},lr=function(er,nr){var or=set(new Date,{month:ue.value(nr),year:le.value(nr)}),ye=er<0?addMonths(or,1):subMonths(or,1);pe(nr,getMonth(ye),getYear(ye)),te.multiCalendars&&!te.multiCalendarsSolo&&tr(nr)};return{today:ne,hours:se,minutes:ae,seconds:fe,month:ue,year:le,monthYearSelect:function(){var er=arguments.length>0&&arguments[0]!==void 0&&arguments[0];te.autoApply&&te.monthPicker&&ee("autoApply",er)},isDisabled:yr,updateTime:function(er){var nr=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],or=arguments.length>2&&arguments[2]!==void 0&&arguments[2],ye=nr?er:se.value,gr=nr||or?ae.value:er,Ar=or?er:fe.value;if(te.range&&Kt(pr.value)&&Yt(ye)&&Yt(gr)&&Yt(Ar)){var br=function(Dr){return Le(pr.value[Dr],ye[Dr],gr[Dr],Ar[Dr])},Cr=function(Dr){return setMilliseconds(pr.value[Dr],0)};if(lt(pr.value[0],pr.value[1])&&(isAfter(br(0),Cr(1))||isBefore(br(1),Cr(0))))return}if(se.value=ye,ae.value=gr,fe.value=Ar,pr.value)if(te.multiDates){var Lr=Ir();Lr&&me(Lr)}else me(pr.value);else te.timePicker&&me(te.range?[new Date,new Date]:new Date);re()},setHoverDate:function(er){!er.current&&te.hideOffsetDates||(ie.value=er.value)},getWeekNum:function(er){var nr=er.find(function(or){return or.current});return nr?getISOWeek(nr.value):""},selectDate:function(er){var nr=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!yr(er.value)&&(er.current||!te.hideOffsetDates)){if(te.weekPicker)return pr.value=pt(new Date(er.value),+te.weekStart),dr();if(te.range||Yt(se.value)||Yt(ae.value)){if(Yt(se.value)&&Yt(ae.value)&&!te.multiDates){var or=pr.value?pr.value.slice():[];or.length!==2||te.fixedStart||te.fixedEnd||(or=[]),te.autoRange?(nr&&Hr(er.value),or=[new Date(er.value),addDays(new Date(er.value),+te.autoRange)]):te.fixedStart||te.fixedEnd?or=Nr(new Date(er.value)):or[0]?Br(new Date(er.value))&&(rt(new Date(er.value),new Date(or[0]))?or.unshift(new Date(er.value)):or[1]=new Date(er.value)):or[0]=new Date(er.value),or[0]&&!or[1]?or[0]=Le(or[0],se.value[0],ae.value[0],ar()):(or[0]=Le(or[0],se.value[0],ae.value[0],ar()),or[1]=Le(or[1],se.value[1],ae.value[1],ar(!1)),re()),pr.value=or,or[0]&&or[1]&&te.autoApply&&ee("autoApply")}}else{var ye=Le(new Date(er.value),se.value,ae.value,ar());te.multiDates?Pr(ye):pr.value=ye,re(),dr()}}},rangeActive:function(er){return ft(pr.value,ie.value,er.value)},isActiveDate:vr,updateMonthYear:function(er,nr){var or=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(or?rr(er,nr):cr(er,nr),te.multiCalendars&&!te.multiCalendarsSolo&&tr(er),te.monthPicker)if(te.range){if(or){var ye=pr.value?pr.value.slice():[];ye.length===2&&(ye=[]),ye.length?rt(ve(er),ye[0])?ye.unshift(ve(er)):ye.push(ve(er)):ye=[ve(er)],pr.value=ye}}else pr.value=ve(er);re(),ee("updateMonthYear",{instance:er,value:nr,isMonth:or})},isHoverRangeEnd:function(er){if(te.autoRange||te.weekPicker){if(ie.value){if(te.hideOffsetDates&&!er.current)return!1;var nr=addDays(ie.value,+te.autoRange),or=pt(new Date(ie.value),+te.weekStart);return te.weekPicker?lt(or[1],new Date(er.value)):lt(nr,new Date(er.value))}return!1}return!1},isAutoRangeInBetween:function(er){if(te.autoRange||te.weekPicker){if(ie.value){var nr=addDays(ie.value,+te.autoRange);if(te.hideOffsetDates&&!er.current)return!1;var or=pt(new Date(ie.value),+te.weekStart);return te.weekPicker?at(er.value,or[0])&&rt(er.value,or[1]):at(er.value,ie.value)&&rt(er.value,nr)}return!1}return!1},isAutoRangeStart:function(er){if(te.autoRange||te.weekPicker){if(ie.value){if(te.hideOffsetDates&&!er.current)return!1;var nr=pt(new Date(ie.value),+te.weekStart);return te.weekPicker?lt(nr[0],er.value):lt(ie.value,er.value)}return!1}return!1},clearHoverDate:function(){ie.value=null},rangeActiveStartEnd:ur,handleScroll:function(er,nr){te.monthChangeOnScroll&&lr(te.monthChangeOnScroll==="inverse"?-er.deltaY:er.deltaY,nr)},getMarker:function(er){return te.markers.find(function(nr){return lt(Ke(new Date(er.value)),Ke(new Date(nr.date)))})},handleArrow:function(er,nr){te.monthChangeOnArrows&&lr(er==="right"?-1:1,nr)},selectCurrentDate:function(){te.range?Et(pr.value,te.range)&&(pr.value&&pr.value[0]?pr.value=rt(new Date,pr.value[0])?[new Date,pr.value[0]]:[pr.value[0],new Date]:pr.value=[new Date]):ee("update:internalModelValue",new Date),te.autoApply&&ee("selectDate")},isHoverDate:function(er,nr){return!(Array.isArray(te.internalModelValue)&&te.internalModelValue.length||te.weekPicker)&&!(er||vr(nr)||!nr.current&&te.hideOffsetDates||te.range&&(ur(nr)||ur(nr,!1)))},isHoverDateStartEnd:function(er,nr,or){return!(!Array.isArray(te.internalModelValue)||!te.internalModelValue[0]||te.internalModelValue.length!==1)&&!er&&(or?at(te.internalModelValue[0],nr.value):rt(te.internalModelValue[0],nr.value))},presetDateRange:function(er){er.length&&er.length<=2&&te.range&&(pr.value=er.map(function(nr){return new Date(nr)}),te.autoApply&&ee("selectDate"))}}};function Vn(te,ee){var re=Object.keys(te);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(te);ee&&(ne=ne.filter(function(ie){return Object.getOwnPropertyDescriptor(te,ie).enumerable})),re.push.apply(re,ne)}return re}function In(te){for(var ee=1;ee<arguments.length;ee++){var re=arguments[ee]!=null?arguments[ee]:{};ee%2?Vn(Object(re),!0).forEach(function(ne){he(te,ne,re[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(re)):Vn(Object(re)).forEach(function(ne){Object.defineProperty(te,ne,Object.getOwnPropertyDescriptor(re,ne))})}return te}var Tn,Bn=["id","onKeydown"],Nn={key:0,class:"dp__preset_ranges"},jn=["onClick"],Rn={key:1,class:"dp__now_wrap"},En=defineComponent({props:In(In({},St),{},{internalModelValue:{type:[Date,Array],default:null},multiCalendars:{type:Number,default:0},previewFormat:{type:[String,Function],default:function(){return null}},filters:{type:Object,default:function(){return{}}},openOnTop:{type:Boolean,default:!1}}),emits:["update:internalModelValue","closePicker","selectDate","dpOpen","autoApply","timeUpdate","flow-step","updateMonthYear"],setup:function(te,ee){var re=ee.emit,ne=te,ie=useSlots(),oe=ref(null),se=reactive({timePicker:!ne.enableTimePicker,monthYearInput:!1,calendar:!1}),ae=ref([]),fe=ref(null),ue=ref(null),le=ref(0),pe=ref(!1),rr=ref(0);onMounted(function(){var Sr;pe.value=!0,(Sr=ne.presetRanges)!==null&&Sr!==void 0&&Sr.length||Fr(),ne.inline||nextTick(function(){return re("dpOpen")});var Gr=ht(ue);if(!Gr||ne.textInput||ne.inline||Gr.focus({preventScroll:!0}),Gr){var Vr=function(Yr){Yr.stopImmediatePropagation(),Yr.stopPropagation()};Gr.addEventListener("pointerdown",Vr),Gr.addEventListener("mousedown",Vr)}document.addEventListener("resize",Fr)}),onUnmounted(function(){document.removeEventListener("resize",Fr)});var cr=function(){rr.value=-1},ar=$n(ne,re,function(){var Sr;(Sr=ne.flow)!==null&&Sr!==void 0&&Sr.length&&rr.value!==-1&&(rr.value+=1,re("flow-step",rr.value),wr())}),mr=ar.updateTime,pr=ar.updateMonthYear,yr=ar.today,vr=ar.month,Er=ar.year,Tr=ar.hours,Ir=ar.minutes,Or=ar.seconds,Hr=ar.isDisabled,Pr=ar.isActiveDate,Br=ar.selectDate,Nr=ar.getWeekNum,dr=ar.setHoverDate,tr=ar.isHoverRangeEnd,ve=ar.isAutoRangeInBetween,ce=ar.isAutoRangeStart,me=ar.rangeActive,ir=ar.clearHoverDate,ur=ar.rangeActiveStartEnd,lr=ar.monthYearSelect,er=ar.handleScroll,nr=ar.handleArrow,or=ar.getMarker,ye=ar.selectCurrentDate,gr=ar.isHoverDateStartEnd,Ar=ar.isHoverDate,br=ar.presetDateRange,Cr=pn(ie,"calendar"),Lr=pn(ie,"action"),Dr=pn(ie,"timePicker"),Wr=pn(ie,"monthYear"),Qr=computed(function(){return ne.openOnTop?"dp__arrow_bottom":"dp__arrow_top"}),Zr=computed(function(){return function(Sr){for(var Gr=[],Vr=+Sr[0];Vr<=+Sr[1];Vr++)Gr.push({value:+Vr,text:"".concat(Vr)});return Gr}(ne.yearRange)}),Xr=computed(function(){return function(Sr,Gr){var Vr=new Intl.DateTimeFormat(Sr,{month:Gr,timeZone:"UTC"});return[1,2,3,4,5,6,7,8,9,10,11,12].map(function(Yr){var Qn=Yr<10?"0".concat(Yr):Yr;return new Date("2017-".concat(Qn,"-01T00:00:00+00:00"))}).map(function(Yr,Qn){return{text:Vr.format(Yr),value:Qn}})}(ne.locale,ne.monthNameFormat)}),Fr=function(){var Sr=ht(oe);Sr&&(le.value=Sr.getBoundingClientRect().width)},Ur=computed(function(){return function(Sr){return vt(vr.value(Sr),Er.value(Sr),+ne.weekStart,ne.hideOffsetDates)}}),Kr=computed(function(){return ne.multiCalendars>0&&ne.range?mt(Array(ne.multiCalendars).keys()):[0]}),kr=computed(function(){return function(Sr){return Sr===1}}),_r=computed(function(){return ne.monthPicker||ne.timePicker}),$r=computed(function(){return{dp__flex_display:ne.multiCalendars>0}}),Mr=computed(function(){return{dp__instance_calendar:ne.multiCalendars>0}}),jr=computed(function(){return{dp__menu_disabled:ne.disabled,dp__menu_readonly:ne.readonly}}),qr=computed(function(){return function(Sr){return zn(Ur,Sr)}}),Jr=computed(function(){return{locale:ne.locale,weekNumName:ne.weekNumName,weekStart:ne.weekStart,weekNumbers:ne.weekNumbers,enableTimePicker:ne.enableTimePicker,disableMonthYearSelect:ne.disableMonthYearSelect,monthPicker:ne.monthPicker,timePicker:ne.timePicker,range:ne.range,filters:ne.filters,minTime:ne.minTime,maxTime:ne.maxTime,minDate:ne.minDate,maxDate:ne.maxDate,customProps:ne.customProps,calendarClassName:ne.calendarClassName,specificMode:_r.value,getWeekNum:Nr,multiCalendars:ne.multiCalendars,months:Xr.value,years:Zr.value,multiCalendarsSolo:ne.multiCalendarsSolo,modeHeight:ne.modeHeight,internalModelValue:ne.internalModelValue}}),qn=computed(function(){return he({dp__menu:!0,dp__menu_index:!ne.inline,dp__relative:ne.inline},ne.menuClassName,!!ne.menuClassName)}),zn=function(Sr,Gr){return Sr.value(Gr).map(function(Vr){return In(In({},Vr),{},{days:Vr.days.map(function(Yr){var Qn=Hr(Yr.value),ei=Ar(Qn,Yr);return Yr.marker=or(Yr),Yr.classData=he({dp__cell_offset:!Yr.current,dp__pointer:!(Qn||!Yr.current&&ne.hideOffsetDates),dp__active_date:!ne.range&&Pr(Yr),dp__date_hover:ei,dp__date_hover_start:gr(ei,Yr,!0),dp__date_hover_end:gr(ei,Yr,!1),dp__range_between:!(!ne.range&&!ne.weekPicker||ne.multiCalendars>0&&!Yr.current||Qn||!Yr.current&&ne.hideOffsetDates||Pr(Yr))&&me(Yr),dp__today:!ne.noToday&&lt(Yr.value,yr.value),dp__cell_disabled:Qn,dp__cell_auto_range:ve(Yr),dp__cell_auto_range_start:ce(Yr),dp__cell_auto_range_end:tr(Yr),dp__range_start:ne.multiCalendars>0?Yr.current&&ur(Yr):ur(Yr),dp__range_end:ne.multiCalendars>0?Yr.current&&ur(Yr,!1):ur(Yr,!1)},ne.calendarCellClassName,!!ne.calendarCellClassName),Yr})})})},Xn=function(Sr){Sr.stopPropagation(),Sr.preventDefault(),Sr.stopImmediatePropagation()},Jn=function(){ne.escClose&&re("closePicker")},Rr=function(Sr){Sr.stopImmediatePropagation(),Sr.preventDefault(),ne.spaceConfirm&&re("selectDate")},xr=function(Sr){var Gr;(Gr=ne.flow)!==null&&Gr!==void 0&&Gr.length&&(se[Sr]=!0,Object.keys(se).filter(function(Vr){return!se[Vr]}).length||wr())},wr=function(){ne.flow[rr.value]==="month"&&ae.value[0]&&ae.value[0].toggleMonthPicker(!0),ne.flow[rr.value]==="year"&&ae.value&&ae.value[0].toggleYearPicker(!0),ne.flow[rr.value]==="calendar"&&fe.value&&fe.value.toggleTimePicker(!1,!0),ne.flow[rr.value]==="time"&&fe.value&&fe.value.toggleTimePicker(!0,!0);var Sr=ne.flow[rr.value];Sr!=="hours"&&Sr!=="minutes"&&Sr!=="seconds"||fe.value&&fe.value.toggleTimePicker(!0,!0,Sr)};return function(Sr,Gr){return openBlock(),createElementBlock("div",{id:Sr.uid?"dp-menu-".concat(Sr.uid):void 0,tabindex:"0",ref_key:"dpMenuRef",ref:ue,role:"dialog","aria-label":"Datepicker menu",class:normalizeClass(unref(qn)),onMouseleave:Gr[11]||(Gr[11]=function(){return unref(ir)&&unref(ir).apply(void 0,arguments)}),onClick:Xn,onKeydown:[withKeys(Jn,["esc"]),withKeys(Rr,["space"]),Gr[12]||(Gr[12]=withKeys(function(Vr){return unref(nr)("left",0)},["left"])),Gr[13]||(Gr[13]=withKeys(function(Vr){return unref(nr)("right",0)},["right"]))]},[(Sr.disabled||Sr.readonly)&&Sr.inline?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(jr))},null,2)):createCommentVNode("",!0),Sr.inline?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(Qr))},null,2)),createBaseVNode("div",{class:normalizeClass(Sr.presetRanges.length?"dp__menu_content_wrapper":null)},[Sr.presetRanges.length?(openBlock(),createElementBlock("div",Nn,[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(Sr.presetRanges,function(Vr,Yr){return openBlock(),createElementBlock("div",{key:Yr,class:"dp__preset_range",onClick:function(Qn){return unref(br)(Vr.range)}},toDisplayString(Vr.label),9,jn)}),128))])):createCommentVNode("",!0),createBaseVNode("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:oe,role:"document"},[createBaseVNode("div",{class:normalizeClass(unref($r))},[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(Kr),function(Vr,Yr){return openBlock(),createElementBlock("div",{key:Vr,class:normalizeClass(unref(Mr))},[Sr.disableMonthYearSelect||Sr.timePicker?createCommentVNode("",!0):(openBlock(),createBlock(resolveDynamicComponent(Sr.monthYearComponent?Sr.monthYearComponent:An),mergeProps({key:0,ref_for:!0,ref:function(Qn){Qn&&(ae.value[Yr]=Qn)}},{months:unref(Xr),years:unref(Zr),filters:te.filters,monthPicker:Sr.monthPicker,month:unref(vr)(Vr),year:unref(Er)(Vr),customProps:Sr.customProps,multiCalendars:te.multiCalendars,multiCalendarsSolo:Sr.multiCalendarsSolo,instance:Vr,minDate:Sr.minDate,maxDate:Sr.maxDate,preventMinMaxNavigation:Sr.preventMinMaxNavigation,internalModelValue:te.internalModelValue,range:Sr.range,reverseYears:Sr.reverseYears},{onMount:Gr[0]||(Gr[0]=function(Qn){return xr("monthYearInput")}),onResetFlow:cr,"onUpdate:month":function(Qn){return unref(pr)(Vr,Qn,!0)},"onUpdate:year":function(Qn){return unref(pr)(Vr,Qn,!1)},onMonthYearSelect:unref(lr)}),createSlots({_:2},[renderList(unref(Wr),function(Qn,ei){return{name:Qn,fn:withCtx(function(Zn){return[renderSlot(Sr.$slots,Qn,normalizeProps(guardReactiveProps(Zn)))]})}})]),1040,["onUpdate:month","onUpdate:year","onMonthYearSelect"])),createVNode(jt,mergeProps(unref(Jr),{"flow-step":rr.value,"onUpdate:flow-step":Gr[1]||(Gr[1]=function(Qn){return rr.value=Qn}),instance:Vr,"mapped-dates":unref(qr)(Vr),month:unref(vr)(Vr),year:unref(Er)(Vr),"month-year-component":Sr.monthYearComponent,onSelectDate:function(Qn){return unref(Br)(Qn,!unref(kr)(Vr))},onSetHoverDate:Gr[2]||(Gr[2]=function(Qn){return unref(dr)(Qn)}),onHandleScroll:function(Qn){return unref(er)(Qn,Vr)},onMount:Gr[3]||(Gr[3]=function(Qn){return xr("calendar")}),onResetFlow:cr}),createSlots({_:2},[renderList(unref(Cr),function(Qn,ei){return{name:Qn,fn:withCtx(function(Zn){return[renderSlot(Sr.$slots,Qn,normalizeProps(guardReactiveProps(In({},Zn))))]})}})]),1040,["flow-step","instance","mapped-dates","month","year","month-year-component","onSelectDate","onHandleScroll"])],2)}),128))],2),createBaseVNode("div",null,[!Sr.enableTimePicker||Sr.monthPicker||Sr.weekPicker?createCommentVNode("",!0):(openBlock(),createBlock(resolveDynamicComponent(Sr.timePickerComponent?Sr.timePickerComponent:hn),mergeProps({key:0,ref_key:"timePickerRef",ref:fe},{is24:Sr.is24,hoursIncrement:Sr.hoursIncrement,minutesIncrement:Sr.minutesIncrement,hoursGridIncrement:Sr.hoursGridIncrement,secondsIncrement:Sr.secondsIncrement,minutesGridIncrement:Sr.minutesGridIncrement,secondsGridIncrement:Sr.secondsGridIncrement,noHoursOverlay:Sr.noHoursOverlay,noMinutesOverlay:Sr.noMinutesOverlay,noSecondsOverlay:Sr.noSecondsOverlay,range:Sr.range,filters:te.filters,timePicker:Sr.timePicker,hours:unref(Tr),minutes:unref(Ir),seconds:unref(Or),customProps:Sr.customProps,enableSeconds:Sr.enableSeconds,fixedStart:Sr.fixedStart,fixedEnd:Sr.fixedEnd},{onMount:Gr[4]||(Gr[4]=function(Vr){return xr("timePicker")}),"onUpdate:hours":Gr[5]||(Gr[5]=function(Vr){return unref(mr)(Vr)}),"onUpdate:minutes":Gr[6]||(Gr[6]=function(Vr){return unref(mr)(Vr,!1)}),"onUpdate:seconds":Gr[7]||(Gr[7]=function(Vr){return unref(mr)(Vr,!1,!0)}),onResetFlow:cr}),createSlots({_:2},[renderList(unref(Dr),function(Vr,Yr){return{name:Vr,fn:withCtx(function(Qn){return[renderSlot(Sr.$slots,Vr,normalizeProps(guardReactiveProps(Qn)))]})}})]),1040))])],512),Sr.showNowButton?(openBlock(),createElementBlock("div",Rn,[Sr.$slots["now-button"]?renderSlot(Sr.$slots,"now-button",{key:0,selectCurrentDate:unref(ye)}):createCommentVNode("",!0),Sr.$slots["now-button"]?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:1,type:"button",role:"button",class:"dp__now_button",onClick:Gr[8]||(Gr[8]=function(){return unref(ye)&&unref(ye).apply(void 0,arguments)})},toDisplayString(Sr.nowButtonLabel),1))])):createCommentVNode("",!0)],2),!Sr.autoApply||Sr.keepActionRow?(openBlock(),createBlock(resolveDynamicComponent(Sr.actionRowComponent?Sr.actionRowComponent:Wt),mergeProps({key:2},{calendarWidth:le.value,selectText:Sr.selectText,cancelText:Sr.cancelText,internalModelValue:te.internalModelValue,range:Sr.range,previewFormat:te.previewFormat,inline:Sr.inline,monthPicker:Sr.monthPicker,timePicker:Sr.timePicker,customProps:Sr.customProps,multiCalendars:te.multiCalendars,menuMount:pe.value,maxTime:Sr.maxTime,minTime:Sr.minTime,enableTimePicker:Sr.enableTimePicker,minDate:Sr.minDate,maxDate:Sr.maxDate,multiDates:Sr.multiDates},{onClosePicker:Gr[9]||(Gr[9]=function(Vr){return Sr.$emit("closePicker")}),onSelectDate:Gr[10]||(Gr[10]=function(Vr){return Sr.$emit("selectDate")})}),createSlots({_:2},[renderList(unref(Lr),function(Vr,Yr){return{name:Vr,fn:withCtx(function(Qn){return[renderSlot(Sr.$slots,Vr,normalizeProps(guardReactiveProps(In({},Qn))))]})}})]),1040)):createCommentVNode("",!0)],42,Bn)}}});(function(te){te.center="center",te.left="left",te.right="right"})(Tn||(Tn={}));var Fn=function(te,ee,re,ne,ie,oe,se,ae,fe,ue,le,pe,rr,cr){var ar=ref(""),mr=ref();watch(mr,function(){cr("internalModelChange",mr.value)});var pr=function(){if(mr.value)if(te&&typeof te!="string")ar.value=te(ee?et(mr.value):re?Qe(mr.value):mr.value);else{var yr=Je(te,oe,ae,re,ee,pe,se);Array.isArray(mr.value)&&ue?ar.value=mr.value.map(function(vr){return nt(vr,yr,fe==null?void 0:fe.value)}).join("; "):ar.value=nt(mr.value,yr,fe==null?void 0:fe.value,rr.rangeSeparator)}else ar.value=""};return{parseExternalModelValue:function(yr){var vr=null;yr?ee?function(Er){return Array.isArray(Er)&&Er.length===2}(yr)&&"hours"in yr[0]&&"minutes"in yr[0]?vr=[Le(null,+yr[0].hours,+yr[0].minutes,+yr[0].seconds),Le(null,+yr[1].hours,+yr[1].minutes,+yr[1].seconds)]:function(Er){return Rt(Er)==="object"}(yr)&&(vr=Le(null,+yr.hours,+yr.minutes,+yr.seconds)):re?function(Er){return Array.isArray(Er)}(yr)&&"month"in yr[0]&&"year"in yr[0]?vr=[ze(null,+yr[0].month,+yr[0].year),yr[1]?ze(null,+yr[1].month,+yr[1].year):null]:function(Er){return Rt(Er)==="object"}(yr)&&"month"in yr&&"year"in yr&&(vr=ze(null,+yr.month,+yr.year)):ue&&Array.isArray(yr)?vr=yr.map(function(Er){return new Date(Er)}):pe&&Array.isArray(yr)?vr=[new Date(yr[0]),new Date(yr[1])]:ne?function(Er,Tr){return Tr?Array.isArray(Er):Kt(Er)}(yr,ie)&&(vr=[new Date(yr[0]),yr[1]?new Date(yr[1]):null]):function(Er){return typeof Er=="string"||Rt(Er)==="object"}(yr)&&(vr=new Date(yr)):vr=null,Ge(vr)?(mr.value=vr,pr()):(mr.value=null,ar.value="")},formatInputValue:pr,internalModelValue:mr,inputValue:ar,emitModelValue:function(){if(re)cr("update:modelValue",Qe(mr.value));else if(ee)cr("update:modelValue",et(mr.value));else if(pe)cr("update:modelValue",mr.value);else{mr.value&&ne&&ie&&mr.value.length===1&&mr.value.push(null);var yr=le?Array.isArray(mr.value)?mr.value.map(function(vr){return vr&&dt(vr)}):dt(mr.value):mr.value;cr("update:modelValue",yr)}pr()},checkBeforeEmit:function(){return!!mr.value&&(ne?ie?mr.value.length>=1:mr.value.length===2:!!mr.value)}}},Yn=typeof window!="undefined"?window:void 0,Kn=function(){},Un=function(te,ee,re,ne){if(!te)return Kn;var ie,oe=Kn,se=watch(function(){return unref(te)},function(fe){oe(),fe&&(fe.addEventListener(ee,re,ne),oe=function(){fe.removeEventListener(ee,re,ne),oe=Kn})},{immediate:!0,flush:"post"}),ae=function(){se(),oe()};return ie=ae,getCurrentScope()&&onScopeDispose(ie),ae};function Hn(te,ee){var re=Object.keys(te);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(te);ee&&(ne=ne.filter(function(ie){return Object.getOwnPropertyDescriptor(te,ie).enumerable})),re.push.apply(re,ne)}return re}function Gn(te){for(var ee=1;ee<arguments.length;ee++){var re=arguments[ee]!=null?arguments[ee]:{};ee%2?Hn(Object(re),!0).forEach(function(ne){he(te,ne,re[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(re)):Hn(Object(re)).forEach(function(ne){Object.defineProperty(te,ne,Object.getOwnPropertyDescriptor(re,ne))})}return te}var Ln=defineComponent({props:Gn(Gn({},St),{},{name:{type:String,default:null},multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object],default:null},position:{type:String,default:"center"},placeholder:{type:String,default:null},dark:{type:Boolean,default:!1},required:{type:Boolean,default:!1},format:{type:[String,Function],default:function(){return null}},previewFormat:{type:[String,Function],default:function(){return null}},inputClassName:{type:String,default:null},hideInputIcon:{type:Boolean,default:!1},state:{type:Boolean,default:null},clearable:{type:Boolean,default:!0},closeOnScroll:{type:Boolean,default:!1},filters:{type:Object,default:function(){return{}}},inlineWithInput:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},textInputOptions:{type:Object,default:function(){return{}}},teleport:{type:String,default:"body"},altPosition:{type:[Boolean,Function],default:!1},partialRange:{type:Boolean,default:!0},transitions:{type:Boolean,default:!0},openMenuOnFocus:{type:Boolean,default:!0},formatLocale:{type:Object,default:null},autocomplete:{type:String,default:null},utc:{type:Boolean,default:!1}}),emits:["update:modelValue","textSubmit","closed","cleared","open","focus","blur","internalModelChange","recalculatePosition","flow-step","updateMonthYear"],setup:function(te,ee){var re=ee.expose,ne=ee.emit,ie=te,oe=useSlots(),se=ref(!1),ae=toRef(ie,"modelValue"),fe=ref(null),ue=ref(null),le=ref(null);provide("autoApply",ie.autoApply);var pe=computed(function(){return ie.formatLocale});provide("formatLocale",pe),provide("textInput",toRef(ie,"textInput")),onMounted(function(){Or(ie.modelValue),ie.inline||(window.addEventListener("scroll",er),window.addEventListener("resize",nr)),ie.inline&&(se.value=!0)}),onUnmounted(function(){ie.inline||(window.removeEventListener("scroll",er),window.removeEventListener("resize",nr))});var rr=pn(oe,"all"),cr=pn(oe,"input");watch(ae,function(){Or(ae.value)},{deep:!0});var ar=function(Qr,Zr,Xr,Fr,Ur,Kr){var kr=ref({top:"0",left:"0",transform:"none"}),_r=ref(!1),$r=function(Jr){var qn=Jr.getBoundingClientRect();return{left:qn.left+window.scrollX,top:qn.top+window.scrollY}},Mr=function(Jr){for(var qn=0,zn=0;Jr&&!isNaN(Jr.offsetLeft)&&!isNaN(Jr.offsetTop);)qn+=Jr.offsetLeft-Jr.scrollLeft,zn+=Jr.offsetTop-Jr.scrollTop,Jr=Jr.offsetParent;return{top:zn,left:qn}},jr=function(){var Jr=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],qn=ht(Ur);if(Zr&&typeof Zr!="boolean")kr.value=Zr(qn);else if(qn){var zn=qn.getBoundingClientRect(),Xn=zn.left,Jn=zn.width,Rr=zn.height,xr=(Zr?Mr(qn):$r(qn)).top,wr={top:"".concat(Rr+xr+10,"px"),left:"",transform:"none"};Qr===Tn.left&&(wr.left="".concat(Xn,"px")),Qr===Tn.right&&(wr.left="".concat(Xn+Jn,"px"),wr.transform="translateX(-100%)"),Qr===Tn.center&&(wr.left="".concat(Xn+Jn/2,"px"),wr.transform="translateX(-50%)"),kr.value=wr,Jr&&Xr&&qr()}},qr=function(){var Jr=ht(Ur);if(Jr&&Xr){var qn=Jr.getBoundingClientRect(),zn=qn.height,Xn=qn.top,Jn=(Zr?Mr(Jr):$r(Jr)).top,Rr=window.innerHeight-Xn-zn,xr=ht(Fr);if(xr){var wr=xr.getBoundingClientRect().height,Sr=wr+zn;Sr>Xn&&Sr>Rr?Xn<Rr&&(jr(!1),_r.value=!1):Sr>Rr?(kr.value.top="".concat(Jn-wr-10,"px"),_r.value=!0):(jr(!1),_r.value=!1)}}Kr("recalculatePosition")};return{openOnTop:_r,menuPosition:kr,setMenuPosition:jr,recalculatePosition:qr}}(ie.position,ie.altPosition,ie.autoPosition,fe,ue,ne),mr=ar.openOnTop,pr=ar.menuPosition,yr=ar.setMenuPosition,vr=ar.recalculatePosition,Er=Fn(ie.format,ie.timePicker,ie.monthPicker,ie.range,ie.partialRange,ie.is24,ie.enableTimePicker,ie.enableSeconds,pe,ie.multiDates,ie.utc,ie.weekPicker,ie.textInputOptions,ne),Tr=Er.internalModelValue,Ir=Er.inputValue,Or=Er.parseExternalModelValue,Hr=Er.emitModelValue,Pr=Er.checkBeforeEmit,Br=Er.formatInputValue,Nr=computed(function(){return{dp__main:!0,dp__theme_dark:ie.dark,dp__theme_light:!ie.dark,dp__flex_display:ie.inline,dp__flex_display_with_input:ie.inlineWithInput}}),dr=computed(function(){return Ut(ie.format)?ie.format:Je(null,ie.is24,ie.enableSeconds,ie.monthPicker,ie.timePicker,ie.weekPicker,ie.enableTimePicker)}),tr=computed(function(){return ie.previewFormat?ie.previewFormat:Ut(dr.value)?dr.value:ie.format}),ve=computed(function(){return typeof ie.transitions=="boolean"?!!ie.transitions&&_t({}):_t(ie.transitions)});provide("transitions",ve);var ce=computed(function(){return ie.dark?"dp__theme_dark":"dp__theme_light"}),me=computed(function(){return Object.assign({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "},ie.textInputOptions)}),ir=computed(function(){return Qr=ie.filters,Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},Qr);var Qr}),ur=computed(function(){var Qr=function(Zr){var Xr={hours:getHours(new Date),minutes:getMinutes(new Date),seconds:getSeconds(new Date)};return Object.assign(Xr,Zr)};return ie.range?ie.startTime&&Array.isArray(ie.startTime)?[Qr(ie.startTime[0]),Qr(ie.startTime[1])]:null:ie.startTime&&!Array.isArray(ie.startTime)?Qr(ie.startTime):null}),lr=computed(function(){return ie.multiCalendars===null?0:typeof ie.multiCalendars=="boolean"?ie.multiCalendars?2:0:+ie.multiCalendars>=2?+ie.multiCalendars:2}),er=function Qr(){se.value&&(ie.closeOnScroll?Cr():ie.autoPosition?yr():window.removeEventListener("scroll",Qr))},nr=function(){se.value&&yr()},or=function(){ie.disabled||ie.readonly||(yr(),se.value=!se.value,se.value||br(),se.value&&(ne("open"),ne("focus")),Or(ie.modelValue))},ye=function(){Ir.value="",br(),ne("update:modelValue",null),ne("cleared"),Cr()},gr=function(){Pr()&&(Hr(),Cr())},Ar=function(){var Qr=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(ie.autoApply){var Zr=!ie.enableTimePicker||ct(Tr.value,ie.maxTime,ie.minTime);Zr&&(Hr(),ie.closeOnAutoApply&&!Qr&&Cr())}},br=function(){Tr.value=null},Cr=function(){ie.inline||(se.value&&(se.value=!1,ne("closed"),ne("blur"),Ir.value&&Or(ae.value)),br(),ue.value&&ue.value.unFocus(),Wr())},Lr=function(Qr,Zr){Qr?(Tr.value=Qr,Zr&&(gr(),ne("textSubmit"))):Tr.value=null},Dr=function(){ie.autoApply&&ct(Tr.value,ie.maxTime,ie.minTime)&&Hr()},Wr=function(){le.value&&le.value.focus({preventScroll:!0})};return function(Qr,Zr,Xr){var Fr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Ur=Fr.window,Kr=Ur===void 0?Yn:Ur,kr=Fr.event,_r=kr===void 0?"pointerdown":kr;if(Kr){var $r=function(Mr){var jr=ht(Qr),qr=ht(Zr);jr&&qr&&(jr===Mr.target||Mr.composedPath().includes(jr)||Mr.composedPath().includes(qr)||Xr(Mr))};Un(Kr,_r,$r,{passive:!0})}}(fe,ue,Cr),re({closeMenu:Cr,selectDate:gr,clearValue:ye,openMenu:or,onScroll:er,formatInputValue:Br}),function(Qr,Zr){return openBlock(),createElementBlock("div",{class:normalizeClass(unref(Nr))},[createVNode(Dt,mergeProps({ref_key:"inputRef",ref:ue},{placeholder:te.placeholder,hideInputIcon:te.hideInputIcon,readonly:Qr.readonly,disabled:Qr.disabled,inputClassName:te.inputClassName,clearable:te.clearable,state:te.state,inline:Qr.inline,inlineWithInput:te.inlineWithInput,textInput:Qr.textInput,textInputOptions:unref(me),range:Qr.range,isMenuOpen:se.value,pattern:unref(dr),autoApply:Qr.autoApply,uid:Qr.uid,openMenuOnFocus:te.openMenuOnFocus,required:te.required,name:te.name,autocomplete:te.autocomplete},{"input-value":unref(Ir),"onUpdate:input-value":Zr[0]||(Zr[0]=function(Xr){return isRef(Ir)?Ir.value=Xr:null}),onClear:ye,onOpen:or,onSetInputDate:Lr,onSetEmptyDate:unref(Hr),onSelectDate:gr,onClose:Cr}),createSlots({_:2},[renderList(unref(cr),function(Xr,Fr){return{name:Xr,fn:withCtx(function(Ur){return[renderSlot(Qr.$slots,Xr,normalizeProps(guardReactiveProps(Ur)))]})}})]),1040,["input-value","onSetEmptyDate"]),createBaseVNode("span",{tabindex:"-1",ref_key:"focusRef",ref:le},null,512),se.value?(openBlock(),createBlock(Teleport,{key:0,to:te.teleport,disabled:Qr.inline},[se.value?(openBlock(),createBlock(En,mergeProps({key:0,ref_key:"dpMenuRef",ref:fe,class:unref(ce),style:unref(pr)},Gn(Gn({},unref(Ot)(Qr.$props)),{},{multiCalendars:unref(lr),previewFormat:unref(tr),filters:unref(ir),openOnTop:unref(mr),startTime:unref(ur)}),{internalModelValue:unref(Tr),"onUpdate:internalModelValue":Zr[1]||(Zr[1]=function(Xr){return isRef(Tr)?Tr.value=Xr:null}),onClosePicker:Cr,onSelectDate:gr,onDpOpen:unref(vr),onAutoApply:Ar,onTimeUpdate:Dr,onFlowStep:Zr[2]||(Zr[2]=function(Xr){return Qr.$emit("flow-step",Xr)}),onUpdateMonthYear:Zr[3]||(Zr[3]=function(Xr){return Qr.$emit("updateMonthYear",Xr)})}),createSlots({_:2},[renderList(unref(rr),function(Xr,Fr){return{name:Xr,fn:withCtx(function(Ur){return[renderSlot(Qr.$slots,Xr,normalizeProps(guardReactiveProps(Gn({},Ur))))]})}})]),1040,["class","style","internalModelValue","onDpOpen"])):createCommentVNode("",!0)],8,["to","disabled"])):createCommentVNode("",!0)],2)}}}),Wn=function(){var te=Ln;return te.install=function(ee){ee.component("Vue3DatePicker",te)},te}();export{shallowRef as $,onMounted as A,watchEffect as B,inject as C,toRaw as D,onUnmounted as E,Fragment$1 as F,nextTick as G,h$4 as H,reactive as I,onUpdated as J,cloneVNode as K,useRouter as L,require$$0$3 as M,getIntrinsic as N,callBound$3 as O,pushScopeId as P,popScopeId as Q,withDirectives as R,vModelText as S,Teleport as T,isRef as U,VueDapp as V,Wn as W,createCommentVNode as X,useRoute as Y,Transition as Z,commonjsGlobal$1 as _,createWebHashHistory as a,toRefs as a0,normalizeStyle as a1,renderSlot as a2,withScopeId as a3,withKeys as a4,mergeProps as a5,resolveDirective as a6,useWallet as a7,useEthers as a8,useEthersHooks as a9,Metamask as aa,Walletconnect as ab,Walletlink as ac,useBoard as ad,useToast as ae,ChainId as af,displayChainName as ag,shortenAddress as ah,buffer$2 as b,createRouter as c,createBlock as d,createApp as e,VueClipboard as f,defineComponent as g,createElementBlock as h,createVNode as i,createBaseVNode as j,renderList as k,unref as l,createTextVNode as m,normalizeClass as n,openBlock as o,process$2 as p,createStaticVNode as q,resolveComponent as r,src_default as s,toDisplayString as t,util$9 as u,ref as v,withCtx as w,computed as x,watch as y,provide as z};
