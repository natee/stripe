System.register(["./vendor-legacy.18a91e42.js","./index-legacy.077a0161.js","./Footer-legacy.39b339d5.js","./index-legacy.cce0c5e4.js"],(function(e){"use strict";var t,a,l,s,n,i,o,d,u,c,r,m,v,x,f,g,y,b,p,h,w,S,k,j;return{setters:[function(e){t=e.m,a=e.o,l=e.x,s=e.C,n=e.u,i=e.B,o=e.e,d=e.f,u=e.g,c=e.r,r=e.z,m=e.v,v=e.J,x=e.K,f=e.D,g=e.M,y=e.y,b=e.E,p=e.G},function(e){h=e.i,w=e.b,S=e.c},function(e){k=e._,j=e.F},function(){}],execute:function(){const C=["disabled"],T={props:{maxSecondNum:{type:Number,default:60},buttonText:{type:String,default:"获取验证码"},loadingText:{type:String,default:"发送中"},loading:{type:Boolean,default:!1}},setup(e,{emit:o}){const d=e,u=t({timing:!1,count:0}),c=()=>{u.timing=!0,u.count=d.maxSecondNum;const e=setInterval((()=>{const{count:t}=u;t>0&&t<=d.maxSecondNum?u.count--:(u.timing=!1,clearInterval(e),u.count=0)}),1e3)};return(t,d)=>(a(),l("button",{class:i(["btn-indigo w-full",{"btn-indigo--disabled":n(u).timing}]),disabled:n(u).timing,onClick:d[0]||(d[0]=e=>o("start",e,c))},s(e.loading?e.loadingText:n(u).timing?e.buttonText+"("+n(u).count+")":e.buttonText),11,C))}},D={class:"h-full flex items-center justify-center flex-col"},N={class:"w-full flex-1 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},B={class:"w-full max-w-lg space-y-8"},E={class:"rounded shadow sm:rounded-md sm:overflow-hidden bg-white p-16 pt-4"},F=r("h2",{class:"mt-6 text-left text-xl font-medium text-gray-900"},"Sign in to your account",-1),I={class:"mt-8"},L={class:"rounded-md shadow-sm"},U=r("label",{for:"email-address",class:"block text-sm font-medium text-gray-700"},"Email",-1),V={key:0,href:"#",class:"font-medium text-indigo-600 hover:text-indigo-500"},_={class:"mt-4"},z={key:0,class:"mt-8"},A={class:"rounded-md shadow-sm"},G=b('<div class="flex items-center justify-between"><div class="flex items-center"><label for="code" class="block text-sm font-medium text-gray-700">Code</label></div><div class="text-sm"><a href="#" class="text-sm text-indigo-600 hover:text-indigo-500"> Didn’t receive the email? 30s </a></div></div>',1),J={class:"mt-8"},K=["disabled"],M={class:"flex items-center justify-between"},W={class:"text-sm"},$=r("span",{class:"text-sm text-gray-900"},"Don't have an account?",-1),q=f(" Sign up ");e("default",{setup(e){o({CountDownButton:T,Logo:k,Footer:j});const t=p(),b=d(""),C=d(""),H=d(!1),O=u((()=>b.value&&h(b.value))),P=async(e,t)=>{if(O.value)try{H.value=!0;const e=await w(b.value);0===e.code?(C.value=e.data.code,H.value=!1,"function"==typeof t&&t()):console.error("发送失败")}catch(a){console.error(a.message)}else console.error(`email invalid: ${b.value}`)},Q=async()=>{try{const{code:e}=await S(b.value,C.value);0===e&&t.push("/dashboard")}catch(e){console.error(e.message)}};return(e,t)=>{const o=c("router-link");return a(),l("div",D,[r("div",N,[r("div",B,[m(k),r("div",E,[F,r("div",I,[r("div",L,[U,v(r("input",{name:"email",type:"email",autocomplete:"email",class:"input",placeholder:"Email address","onUpdate:modelValue":t[0]||(t[0]=e=>b.value=e)},null,512),[[x,b.value]])]),r("div",{class:i(["mt-2 w-full text-gray-500 text-xs",{visible:b.value,invisible:!b.value}])},[f(s(n(O)?"🎉  Awesome stuff. We sent you a code to confirm your email":b.value&&!n(O)?"Invalid email address. Did we make a mistake?":" ")+" ",1),b.value&&!n(O)?(a(),l("a",V,"Let us know")):g("",!0)],2),r("div",_,[m(T,{buttonText:"Send Code",maxSecondNum:30,loading:H.value,onStart:P},null,8,["loading"])])]),n(O)?(a(),l("div",z,[r("div",A,[G,v(r("input",{name:"code",type:"text",class:"input","onUpdate:modelValue":t[1]||(t[1]=e=>C.value=e)},null,512),[[x,C.value]])]),r("div",J,[r("button",{type:"button",class:i(["btn-indigo w-full",{"btn-indigo--disabled":!b.value||!C.value}]),disabled:!b.value||!C.value,onClick:Q}," Login ",10,K)])])):g("",!0)]),r("div",M,[r("div",W,[$,m(o,{to:"/register",class:"text-indigo-600 hover:text-indigo-500"},{default:y((()=>[q])),_:1})])])])]),m(j)])}}})}}}));
