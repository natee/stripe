(function(){System.register([],(function(exports){"use strict";return{execute:function(){exports({$:shallowRef,B:watchEffect,C:inject,D:toRaw,G:nextTick,H:h$4,I:reactive,K:cloneVNode,L:useRouter,P:pushScopeId,Q:popScopeId,R:withDirectives,U:isRef,X:createCommentVNode,Y:useRoute,a:createWebHashHistory,a0:toRefs,a1:normalizeStyle,a2:renderSlot,a5:mergeProps,a6:resolveDirective,a7:useWallet,a8:useEthers,a9:useEthersHooks,ad:useBoard,ag:displayChainName,ah:shortenAddress,c:createRouter,d:createBlock,g:defineComponent,h:createElementBlock,j:createBaseVNode,k:renderList,l:unref,m:createTextVNode,n:normalizeClass,o:openBlock,q:createStaticVNode,r:resolveComponent,v:ref,w:withCtx,y:watch,z:provide});var commonjsGlobal$1=exports("_","undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{});function getDefaultExportFromCjs$1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})})),t}var browser$5={exports:{}},process$1=browser$5.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(t){if(cachedSetTimeout===setTimeout)return setTimeout(t,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(t,0);try{return cachedSetTimeout(t,0)}catch(e){try{return cachedSetTimeout.call(null,t,0)}catch(e){return cachedSetTimeout.call(this,t,0)}}}function runClearTimeout(t){if(cachedClearTimeout===clearTimeout)return clearTimeout(t);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(t);try{return cachedClearTimeout(t)}catch(e){try{return cachedClearTimeout.call(null,t)}catch(e){return cachedClearTimeout.call(this,t)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var queue$2=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue$2=currentQueue.concat(queue$2):queueIndex=-1,queue$2.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue$2.length;t;){for(currentQueue=queue$2,queue$2=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue$2.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop$9(){}process$1.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue$2.push(new Item(e,t)),1!==queue$2.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process$1.title="browser",process$1.browser=!0,process$1.env={},process$1.argv=[],process$1.version="",process$1.versions={},process$1.on=noop$9,process$1.addListener=noop$9,process$1.once=noop$9,process$1.off=noop$9,process$1.removeListener=noop$9,process$1.removeAllListeners=noop$9,process$1.emit=noop$9,process$1.prependListener=noop$9,process$1.prependOnceListener=noop$9,process$1.listeners=function(e){return[]},process$1.binding=function(e){throw new Error("process.binding is not supported")},process$1.cwd=function(){return"/"},process$1.chdir=function(e){throw new Error("process.chdir is not supported")},process$1.umask=function(){return 0};var process$2=exports("p",browser$5.exports),buffer$2=exports("b",{}),base64Js={};base64Js.byteLength=byteLength$1,base64Js.toByteArray=toByteArray,base64Js.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i$5=0,len=code.length;i$5<len;++i$5)lookup[i$5]=code[i$5],revLookup[code.charCodeAt(i$5)]=i$5;function getLens(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function byteLength$1(e){var t=getLens(e),r=t[0],n=t[1];return 3*(r+n)/4-n}function _byteLength(e,t,r){return 3*(t+r)/4-r}function toByteArray(e){var t,r,n=getLens(e),i=n[0],o=n[1],s=new Arr(_byteLength(e,i,o)),a=0,u=o>0?i-4:i;for(r=0;r<u;r+=4)t=revLookup[e.charCodeAt(r)]<<18|revLookup[e.charCodeAt(r+1)]<<12|revLookup[e.charCodeAt(r+2)]<<6|revLookup[e.charCodeAt(r+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;return 2===o&&(t=revLookup[e.charCodeAt(r)]<<2|revLookup[e.charCodeAt(r+1)]>>4,s[a++]=255&t),1===o&&(t=revLookup[e.charCodeAt(r)]<<10|revLookup[e.charCodeAt(r+1)]<<4|revLookup[e.charCodeAt(r+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t),s}function tripletToBase64(e){return lookup[e>>18&63]+lookup[e>>12&63]+lookup[e>>6&63]+lookup[63&e]}function encodeChunk(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(tripletToBase64(n));return i.join("")}function fromByteArray(e){for(var t,r=e.length,n=r%3,i=[],o=16383,s=0,a=r-n;s<a;s+=o)i.push(encodeChunk(e,s,s+o>a?a:s+o));return 1===n?(t=e[r-1],i.push(lookup[t>>2]+lookup[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],i.push(lookup[t>>10]+lookup[t>>4&63]+lookup[t<<2&63]+"=")),i.join("")}revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63;var ieee754={/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */read:function(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,l=u>>1,c=-7,f=r?i-1:0,h=r?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-c)-1,d>>=-c,c+=a;c>0;o=256*o+e[t+f],f+=h,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;c>0;s=256*s+e[t+f],f+=h,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=l}return(d?-1:1)*s*Math.pow(2,o-n)},write:function(e,t,r,n,i,o){var s,a,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=c?(a=0,s=c):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[r+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;e[r+d]=255&s,d+=p,s/=256,l-=8);e[r+d-p]|=128*g}};
/*!
			 * The buffer module from node.js, for the browser.
			 *
			 * @author   Feross Aboukhadijeh <https://feross.org>
			 * @license  MIT
			 */
!function(t){const r=base64Js,n=ieee754,i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=function(e){+e!=e&&(e=0);return a.alloc(+e)},t.INSPECT_MAX_BYTES=50;const o=2147483647;function s(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|p(e,t);let n=s(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(K(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(K(e,ArrayBuffer)||e&&K(e.buffer,ArrayBuffer))return h(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(K(e,SharedArrayBuffer)||e&&K(e.buffer,SharedArrayBuffer)))return h(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return a.from(n,t,r);const i=function(e){if(a.isBuffer(e)){const t=0|d(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||J(e.length)?s(0):f(e);if("Buffer"===e.type&&Array.isArray(e.data))return f(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return l(e),s(e<0?0:0|d(e))}function f(e){const t=e.length<0?0:0|d(e.length),r=s(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,a.prototype),n}function d(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function p(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||K(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(e).length;default:if(i)return n?-1:q(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return N(this,t,r);case"latin1":case"binary":return x(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){let o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(o=r;o<a;o++)if(l(e,o)===l(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(l(e,o+n)!==l(t,n)){r=!1;break}if(r)return o}return-1}function v(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(J(n))return s;e[r+s]=n}return s}function _(e,t,r,n){return V(q(t,e.length-r),e,r,n)}function $(e,t,r,n){return V(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return V(G(t),e,r,n)}function E(e,t,r,n){return V(function(e,t){let r,n,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function A(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,a,u;switch(s){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(u=(31&t)<<6|63&r,u>127&&(o=u));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){const t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=R));return r}(n)}t.kMaxLength=o,a.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}(e,t,r)},a.allocUnsafe=function(e){return c(e)},a.allocUnsafeSlow=function(e){return c(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(K(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),K(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=a.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(K(t,Uint8Array))i+t.length>n.length?(a.isBuffer(t)||(t=a.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!a.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},a.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},a.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},a.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):g.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},i&&(a.prototype[i]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,i){if(K(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0);const u=Math.min(o,s),l=this.slice(n,i),c=e.slice(t,r);for(let a=0;a<u;++a)if(l[a]!==c[a]){o=l[a],s=c[a];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":case"latin1":case"binary":return $(this,e,t,r);case"base64":return w(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const R=4096;function N(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function x(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function k(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=t;o<r;++o)i+=Y[e[o]];return i}function C(e,t,r){const n=e.slice(t,r);let i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function T(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,r,n,i,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function P(e,t,r,n,i){j(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function I(e,t,r,n,i){j(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function O(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,r,i,o){return t=+t,r>>>=0,o||O(e,0,r,4),n.write(e,t,r,i,23,4),r+4}function L(e,t,r,i,o){return t=+t,r>>>=0,o||O(e,0,r,8),n.write(e,t,r,i,52,8),r+8}a.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readBigUInt64LE=X((function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||W(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),a.prototype.readBigUInt64BE=X((function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||W(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||T(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||T(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readBigInt64LE=X((function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||W(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),a.prototype.readBigInt64BE=X((function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||W(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),a.prototype.readFloatLE=function(e,t){return e>>>=0,t||T(e,4,this.length),n.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||T(e,4,this.length),n.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||T(e,8,this.length),n.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||T(e,8,this.length),n.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){M(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){M(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigUInt64LE=X((function(e,t=0){return P(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeBigUInt64BE=X((function(e,t=0){return I(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);M(this,e,t,r,n-1,-n)}let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);M(this,e,t,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigInt64LE=X((function(e,t=0){return P(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeBigInt64BE=X((function(e,t=0){return I(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return L(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return L(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},a.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=a.isBuffer(e)?e:a.from(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};const D={};function U(e,t,r){D[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function F(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function j(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new D.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){H(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||W(t,e.length-(r+1))}(n,i,o)}function H(e,t){if("number"!=typeof e)throw new D.ERR_INVALID_ARG_TYPE(t,"number",e)}function W(e,t,r){if(Math.floor(e)!==e)throw H(e,r),new D.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new D.ERR_BUFFER_OUT_OF_BOUNDS;throw new D.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}U("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),U("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),U("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=F(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const z=/[^+/0-9A-Za-z-_]/g;function q(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function G(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function K(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!=e}const Y=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function X(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}}(buffer$2);var util$9=exports("u",{}),types$2={},shams$1=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0},hasSymbols$2=shams$1,shams=function(){return hasSymbols$2()&&!!Symbol.toStringTag},origSymbol="undefined"!=typeof Symbol&&Symbol,hasSymbolSham=shams$1,hasSymbols$1=function(){return"function"==typeof origSymbol&&("function"==typeof Symbol&&("symbol"==typeof origSymbol("foo")&&("symbol"==typeof Symbol("bar")&&hasSymbolSham())))},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",slice$1=Array.prototype.slice,toStr$1=Object.prototype.toString,funcType="[object Function]",implementation$1=function(e){var t=this;if("function"!=typeof t||toStr$1.call(t)!==funcType)throw new TypeError(ERROR_MESSAGE+t);for(var r,n=slice$1.call(arguments,1),i=function(){if(this instanceof r){var i=t.apply(this,n.concat(slice$1.call(arguments)));return Object(i)===i?i:this}return t.apply(e,n.concat(slice$1.call(arguments)))},o=Math.max(0,t.length-n.length),s=[],a=0;a<o;a++)s.push("$"+a);if(r=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(i),t.prototype){var u=function(){};u.prototype=t.prototype,r.prototype=new u,u.prototype=null}return r},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,bind$2=functionBind,src$2=bind$2.call(Function.call,Object.prototype.hasOwnProperty),undefined$1,$SyntaxError=SyntaxError,$Function=Function,$TypeError=TypeError,getEvalledConstructor=function(t){try{return $Function('"use strict"; return ('+t+").constructor;")()}catch(e){}},$gOPD$1=Object.getOwnPropertyDescriptor;if($gOPD$1)try{$gOPD$1({},"")}catch(e){$gOPD$1=null}var throwTypeError=function(){throw new $TypeError},ThrowTypeError=$gOPD$1?function(){try{return throwTypeError}catch(e){try{return $gOPD$1(arguments,"callee").get}catch(t){return throwTypeError}}}():throwTypeError,hasSymbols=hasSymbols$1(),getProto$2=Object.getPrototypeOf||function(e){return e.__proto__},needsEval={},TypedArray="undefined"==typeof Uint8Array?undefined$1:getProto$2(Uint8Array),INTRINSICS={"%AggregateError%":"undefined"==typeof AggregateError?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols?getProto$2([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":"undefined"==typeof Atomics?undefined$1:Atomics,"%BigInt%":"undefined"==typeof BigInt?undefined$1:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?undefined$1:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?undefined$1:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":"undefined"==typeof Int8Array?undefined$1:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?undefined$1:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols?getProto$2(getProto$2([][Symbol.iterator]())):undefined$1,"%JSON%":"object"==typeof JSON?JSON:undefined$1,"%Map%":"undefined"==typeof Map?undefined$1:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&hasSymbols?getProto$2((new Map)[Symbol.iterator]()):undefined$1,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?undefined$1:Promise,"%Proxy%":"undefined"==typeof Proxy?undefined$1:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?undefined$1:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&hasSymbols?getProto$2((new Set)[Symbol.iterator]()):undefined$1,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols?getProto$2(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols?Symbol:undefined$1,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError,"%Uint8Array%":"undefined"==typeof Uint8Array?undefined$1:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?undefined$1:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?undefined$1:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?undefined$1:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?undefined$1:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?undefined$1:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?undefined$1:WeakSet},doEval=function e(t){var r;if("%AsyncFunction%"===t)r=getEvalledConstructor("async function () {}");else if("%GeneratorFunction%"===t)r=getEvalledConstructor("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=getEvalledConstructor("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(r=getProto$2(i.prototype))}return INTRINSICS[t]=r,r},LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind$1=functionBind,hasOwn$3=src$2,$concat=bind$1.call(Function.call,Array.prototype.concat),$spliceApply=bind$1.call(Function.apply,Array.prototype.splice),$replace=bind$1.call(Function.call,String.prototype.replace),$strSlice=bind$1.call(Function.call,String.prototype.slice),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(e){var t=$strSlice(e,0,1),r=$strSlice(e,-1);if("%"===t&&"%"!==r)throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");var n=[];return $replace(e,rePropName,(function(e,t,r,i){n[n.length]=r?$replace(i,reEscapeChar,"$1"):t||e})),n},getBaseIntrinsic=function(e,t){var r,n=e;if(hasOwn$3(LEGACY_ALIASES,n)&&(n="%"+(r=LEGACY_ALIASES[n])[0]+"%"),hasOwn$3(INTRINSICS,n)){var i=INTRINSICS[n];if(i===needsEval&&(i=doEval(n)),void 0===i&&!t)throw new $TypeError("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new $SyntaxError("intrinsic "+e+" does not exist!")},getIntrinsic=exports("N",(function(e,t){if("string"!=typeof e||0===e.length)throw new $TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new $TypeError('"allowMissing" argument must be a boolean');var r=stringToPath(e),n=r.length>0?r[0]:"",i=getBaseIntrinsic("%"+n+"%",t),o=i.name,s=i.value,a=!1,u=i.alias;u&&(n=u[0],$spliceApply(r,$concat([0,1],u)));for(var l=1,c=!0;l<r.length;l+=1){var f=r[l],h=$strSlice(f,0,1),d=$strSlice(f,-1);if(('"'===h||"'"===h||"`"===h||'"'===d||"'"===d||"`"===d)&&h!==d)throw new $SyntaxError("property names with quotes must have matching quotes");if("constructor"!==f&&c||(a=!0),hasOwn$3(INTRINSICS,o="%"+(n+="."+f)+"%"))s=INTRINSICS[o];else if(null!=s){if(!(f in s)){if(!t)throw new $TypeError("base intrinsic for "+e+" exists, but the property is not available.");return}if($gOPD$1&&l+1>=r.length){var p=$gOPD$1(s,f);s=(c=!!p)&&"get"in p&&!("originalValue"in p.get)?p.get:s[f]}else c=hasOwn$3(s,f),s=s[f];c&&!a&&(INTRINSICS[o]=s)}}return s})),callBind$1={exports:{}};!function(t){var r=functionBind,n=getIntrinsic,i=n("%Function.prototype.apply%"),o=n("%Function.prototype.call%"),s=n("%Reflect.apply%",!0)||r.call(o,i),a=n("%Object.getOwnPropertyDescriptor%",!0),u=n("%Object.defineProperty%",!0),l=n("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}t.exports=function(e){var t=s(r,o,arguments);if(a&&u){var n=a(t,"length");n.configurable&&u(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var c=function(){return s(r,i,arguments)};u?u(t.exports,"apply",{value:c}):t.exports.apply=c}(callBind$1);var GetIntrinsic$1=getIntrinsic,callBind=callBind$1.exports,$indexOf$1=callBind(GetIntrinsic$1("String.prototype.indexOf")),callBound$3=exports("O",(function(e,t){var r=GetIntrinsic$1(e,!!t);return"function"==typeof r&&$indexOf$1(e,".prototype.")>-1?callBind(r):r})),hasToStringTag$3=shams(),callBound$2=callBound$3,$toString$2=callBound$2("Object.prototype.toString"),isStandardArguments=function(e){return!(hasToStringTag$3&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===$toString$2(e)},isLegacyArguments=function(e){return!!isStandardArguments(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==$toString$2(e)&&"[object Function]"===$toString$2(e.callee)},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments$3=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr=Object.prototype.toString,fnToStr=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$2=shams(),getProto$1=Object.getPrototypeOf,getGeneratorFunc=function(){if(!hasToStringTag$2)return!1;try{return Function("return function*() {}")()}catch(e){}},GeneratorFunction,isGeneratorFunction=function(e){if("function"!=typeof e)return!1;if(isFnRegex.test(fnToStr.call(e)))return!0;if(!hasToStringTag$2)return"[object GeneratorFunction]"===toStr.call(e);if(!getProto$1)return!1;if(void 0===GeneratorFunction){var t=getGeneratorFunc();GeneratorFunction=!!t&&getProto$1(t)}return getProto$1(e)===GeneratorFunction},hasOwn$2=Object.prototype.hasOwnProperty,toString$2=Object.prototype.toString,foreach=function(e,t,r){if("[object Function]"!==toString$2.call(t))throw new TypeError("iterator must be a function");var n=e.length;if(n===+n)for(var i=0;i<n;i++)t.call(r,e[i],i,e);else for(var o in e)hasOwn$2.call(e,o)&&t.call(r,e[o],o,e)},possibleNames=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],g$6="undefined"==typeof globalThis?commonjsGlobal$1:globalThis,availableTypedArrays$2=function(){for(var e=[],t=0;t<possibleNames.length;t++)"function"==typeof g$6[possibleNames[t]]&&(e[e.length]=possibleNames[t]);return e},GetIntrinsic=getIntrinsic,$gOPD=GetIntrinsic("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch(e){$gOPD=null}var getOwnPropertyDescriptor=$gOPD,forEach$1=foreach,availableTypedArrays$1=availableTypedArrays$2,callBound$1=callBound$3,$toString$1=callBound$1("Object.prototype.toString"),hasToStringTag$1=shams(),g$5="undefined"==typeof globalThis?commonjsGlobal$1:globalThis,typedArrays$1=availableTypedArrays$1(),$indexOf=callBound$1("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},$slice$1=callBound$1("String.prototype.slice"),toStrTags$1={},gOPD$1=getOwnPropertyDescriptor,getPrototypeOf$1=Object.getPrototypeOf;hasToStringTag$1&&gOPD$1&&getPrototypeOf$1&&forEach$1(typedArrays$1,(function(e){var t=new g$5[e];if(Symbol.toStringTag in t){var r=getPrototypeOf$1(t),n=gOPD$1(r,Symbol.toStringTag);if(!n){var i=getPrototypeOf$1(r);n=gOPD$1(i,Symbol.toStringTag)}toStrTags$1[e]=n.get}}));var tryTypedArrays$1=function(t){var r=!1;return forEach$1(toStrTags$1,(function(n,i){if(!r)try{r=n.call(t)===i}catch(e){}})),r},isTypedArray$5=function(e){if(!e||"object"!=typeof e)return!1;if(!hasToStringTag$1||!(Symbol.toStringTag in e)){var t=$slice$1($toString$1(e),8,-1);return $indexOf(typedArrays$1,t)>-1}return!!gOPD$1&&tryTypedArrays$1(e)},forEach=foreach,availableTypedArrays=availableTypedArrays$2,callBound=callBound$3,$toString=callBound("Object.prototype.toString"),hasToStringTag=shams(),g$4="undefined"==typeof globalThis?commonjsGlobal$1:globalThis,typedArrays=availableTypedArrays(),$slice=callBound("String.prototype.slice"),toStrTags={},gOPD=getOwnPropertyDescriptor,getPrototypeOf=Object.getPrototypeOf;hasToStringTag&&gOPD&&getPrototypeOf&&forEach(typedArrays,(function(e){if("function"==typeof g$4[e]){var t=new g$4[e];if(Symbol.toStringTag in t){var r=getPrototypeOf(t),n=gOPD(r,Symbol.toStringTag);if(!n){var i=getPrototypeOf(r);n=gOPD(i,Symbol.toStringTag)}toStrTags[e]=n.get}}}));var tryTypedArrays=function(t){var r=!1;return forEach(toStrTags,(function(n,i){if(!r)try{var o=n.call(t);o===i&&(r=o)}catch(e){}})),r},isTypedArray$4=isTypedArray$5,whichTypedArray=function(e){return!!isTypedArray$4(e)&&(hasToStringTag&&Symbol.toStringTag in e?tryTypedArrays(e):$slice($toString(e),8,-1))};!function(t){var r=isArguments$3,n=isGeneratorFunction,i=whichTypedArray,o=isTypedArray$5;function s(e){return e.call.bind(e)}var a="undefined"!=typeof BigInt,u="undefined"!=typeof Symbol,l=s(Object.prototype.toString),c=s(Number.prototype.valueOf),f=s(String.prototype.valueOf),h=s(Boolean.prototype.valueOf);if(a)var d=s(BigInt.prototype.valueOf);if(u)var p=s(Symbol.prototype.valueOf);function g(t,r){if("object"!=typeof t)return!1;try{return r(t),!0}catch(e){return!1}}function m(e){return"[object Map]"===l(e)}function y(e){return"[object Set]"===l(e)}function b(e){return"[object WeakMap]"===l(e)}function v(e){return"[object WeakSet]"===l(e)}function _(e){return"[object ArrayBuffer]"===l(e)}function $(e){return"undefined"!=typeof ArrayBuffer&&(_.working?_(e):e instanceof ArrayBuffer)}function w(e){return"[object DataView]"===l(e)}function E(e){return"undefined"!=typeof DataView&&(w.working?w(e):e instanceof DataView)}t.isArgumentsObject=r,t.isGeneratorFunction=n,t.isTypedArray=o,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):o(e)||E(e)},t.isUint8Array=function(e){return"Uint8Array"===i(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===i(e)},t.isUint16Array=function(e){return"Uint16Array"===i(e)},t.isUint32Array=function(e){return"Uint32Array"===i(e)},t.isInt8Array=function(e){return"Int8Array"===i(e)},t.isInt16Array=function(e){return"Int16Array"===i(e)},t.isInt32Array=function(e){return"Int32Array"===i(e)},t.isFloat32Array=function(e){return"Float32Array"===i(e)},t.isFloat64Array=function(e){return"Float64Array"===i(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===i(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===i(e)},m.working="undefined"!=typeof Map&&m(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(m.working?m(e):e instanceof Map)},y.working="undefined"!=typeof Set&&y(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(y.working?y(e):e instanceof Set)},b.working="undefined"!=typeof WeakMap&&b(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(b.working?b(e):e instanceof WeakMap)},v.working="undefined"!=typeof WeakSet&&v(new WeakSet),t.isWeakSet=function(e){return v(e)},_.working="undefined"!=typeof ArrayBuffer&&_(new ArrayBuffer),t.isArrayBuffer=$,w.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&w(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=E;var S="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function A(e){return"[object SharedArrayBuffer]"===l(e)}function R(e){return void 0!==S&&(void 0===A.working&&(A.working=A(new S)),A.working?A(e):e instanceof S)}function N(e){return g(e,c)}function x(e){return g(e,f)}function k(e){return g(e,h)}function C(e){return a&&g(e,d)}function T(e){return u&&g(e,p)}t.isSharedArrayBuffer=R,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===l(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===l(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===l(e)},t.isGeneratorObject=function(e){return"[object Generator]"===l(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===l(e)},t.isNumberObject=N,t.isStringObject=x,t.isBooleanObject=k,t.isBigIntObject=C,t.isSymbolObject=T,t.isBoxedPrimitive=function(e){return N(e)||x(e)||k(e)||C(e)||T(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&($(e)||R(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))}(types$2);var isBufferBrowser$1=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8},inherits_browser$5={exports:{}};function makeMap(e,t){const r=Object.create(null),n=e.split(",");for(let i=0;i<n.length;i++)r[n[i]]=!0;return t?e=>!!r[e.toLowerCase()]:e=>!!r[e]}"function"==typeof Object.create?inherits_browser$5.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser$5.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e){var t=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},r=/%[sdj%]/g;e.format=function(e){if(!m(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,o=i.length,a=String(e).replace(r,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(_){return"[Circular]"}default:return e}})),u=i[n];n<o;u=i[++n])p(u)||!v(u)?a+=" "+u:a+=" "+s(u);return a},e.deprecate=function(t,r){if("undefined"!=typeof process&&!0===process.noDeprecation)return t;if("undefined"==typeof process)return function(){return e.deprecate(t,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return t.apply(this,arguments)}};var n={},i=/^$/;if({}.NODE_DEBUG){var o={}.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}function s(t,r){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),d(r)?n.showHidden=r:r&&e._extend(n,r),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=a),l(n,t,n.depth)}function a(e,t){var r=s.styles[t];return r?"["+s.colors[r][0]+"m"+e+"["+s.colors[r][1]+"m":e}function u(e,t){return e}function l(t,r,n){if(t.customInspect&&r&&E(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return m(i)||(i=l(t,i,n)),i}var o=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(m(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(g(t))return e.stylize(""+t,"number");if(d(t))return e.stylize(""+t,"boolean");if(p(t))return e.stylize("null","null")}(t,r);if(o)return o;var s=Object.keys(r),a=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(r)),w(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return c(r);if(0===s.length){if(E(r)){var u=r.name?": "+r.name:"";return t.stylize("[Function"+u+"]","special")}if(b(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if($(r))return t.stylize(Date.prototype.toString.call(r),"date");if(w(r))return c(r)}var v,_="",S=!1,A=["{","}"];(h(r)&&(S=!0,A=["[","]"]),E(r))&&(_=" [Function"+(r.name?": "+r.name:"")+"]");return b(r)&&(_=" "+RegExp.prototype.toString.call(r)),$(r)&&(_=" "+Date.prototype.toUTCString.call(r)),w(r)&&(_=" "+c(r)),0!==s.length||S&&0!=r.length?n<0?b(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),v=S?function(e,t,r,n,i){for(var o=[],s=0,a=t.length;s<a;++s)x(t,String(s))?o.push(f(e,t,r,n,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(f(e,t,r,n,i,!0))})),o}(t,r,n,a,s):s.map((function(e){return f(t,r,n,a,e,S)})),t.seen.pop(),function(e,t,r){if(e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(v,_,A)):A[0]+_+A[1]}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,r,n,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),x(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=p(r)?l(e,u.value,null):l(e,u.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),y(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function h(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function p(e){return null===e}function g(e){return"number"==typeof e}function m(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return v(e)&&"[object RegExp]"===S(e)}function v(e){return"object"==typeof e&&null!==e}function $(e){return v(e)&&"[object Date]"===S(e)}function w(e){return v(e)&&("[object Error]"===S(e)||e instanceof Error)}function E(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}e.debuglog=function(t){if(t=t.toUpperCase(),!n[t])if(i.test(t)){var r=process.pid;n[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else n[t]=function(){};return n[t]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=types$2,e.isArray=h,e.isBoolean=d,e.isNull=p,e.isNullOrUndefined=function(e){return null==e},e.isNumber=g,e.isString=m,e.isSymbol=function(e){return"symbol"==typeof e},e.isUndefined=y,e.isRegExp=b,e.types.isRegExp=b,e.isObject=v,e.isDate=$,e.types.isDate=$,e.isError=w,e.types.isNativeError=w,e.isFunction=E,e.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},e.isBuffer=isBufferBrowser$1;var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),R[e.getMonth()],t].join(" ")}function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.log=function(){console.log("%s - %s",N(),e.format.apply(e,arguments))},e.inherits=inherits_browser$5.exports,e._extend=function(e,t){if(!t||!v(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var k="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function C(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}e.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(k&&e[k]){var r;if("function"!=typeof(r=e[k]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,k,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(s){r(s)}return n}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),k&&Object.defineProperty(r,k,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,t(e))},e.promisify.custom=k,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function r(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var n=t.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var i=this,o=function(){return n.apply(i,arguments)};e.apply(this,t).then((function(e){process.nextTick(o.bind(null,null,e))}),(function(e){process.nextTick(C.bind(null,e,o))}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Object.defineProperties(r,t(e)),r}}(util$9);const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||""===e}function normalizeStyle(e){if(isArray$8(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=isString$1(n)?parseStringStyle(n):normalizeStyle(n);if(i)for(const e in i)t[e]=i[e]}return t}return isString$1(e)||isObject$4(e)?e:void 0}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:(.+)/;function parseStringStyle(e){const t={};return e.split(listDelimiterRE).forEach((e=>{if(e){const r=e.split(propertyDelimiterRE);r.length>1&&(t[r[0].trim()]=r[1].trim())}})),t}function normalizeClass(e){let t="";if(isString$1(e))t=e;else if(isArray$8(e))for(let r=0;r<e.length;r++){const n=normalizeClass(e[r]);n&&(t+=n+" ")}else if(isObject$4(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function normalizeProps(e){if(!e)return null;let{class:t,style:r}=e;return t&&!isString$1(t)&&(e.class=normalizeClass(t)),r&&(e.style=normalizeStyle(r)),e}const toDisplayString=exports("t",(e=>isString$1(e)?e:null==e?"":isArray$8(e)||isObject$4(e)&&(e.toString===objectToString$2||!isFunction$4(e.toString))?JSON.stringify(e,replacer,2):String(e))),replacer=(e,t)=>t&&t.__v_isRef?replacer(e,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,r])=>(e[`${t} =>`]=r,e)),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()]}:!isObject$4(t)||isArray$8(t)||isPlainObject(t)?t:String(t),EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=e=>onRE.test(e),isModelListener=e=>e.startsWith("onUpdate:"),extend$4=Object.assign,remove=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},hasOwnProperty$7=Object.prototype.hasOwnProperty,hasOwn$1=(e,t)=>hasOwnProperty$7.call(e,t),isArray$8=Array.isArray,isMap=e=>"[object Map]"===toTypeString$1(e),isSet=e=>"[object Set]"===toTypeString$1(e),isFunction$4=e=>"function"==typeof e,isString$1=e=>"string"==typeof e,isSymbol=e=>"symbol"==typeof e,isObject$4=e=>null!==e&&"object"==typeof e,isPromise$1=e=>isObject$4(e)&&isFunction$4(e.then)&&isFunction$4(e.catch),objectToString$2=Object.prototype.toString,toTypeString$1=e=>objectToString$2.call(e),toRawType=e=>toTypeString$1(e).slice(8,-1),isPlainObject=e=>"[object Object]"===toTypeString$1(e),isIntegerKey=e=>isString$1(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction((e=>e.replace(camelizeRE,((e,t)=>t?t.toUpperCase():"")))),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction((e=>e.replace(hyphenateRE,"-$1").toLowerCase())),capitalize=cacheStringFunction((e=>e.charAt(0).toUpperCase()+e.slice(1))),toHandlerKey=cacheStringFunction((e=>e?`on${capitalize(e)}`:"")),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},def=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},toNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});let activeEffectScope;class EffectScope{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&activeEffectScope&&(this.parent=activeEffectScope,this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(e){if(this.active)try{return activeEffectScope=this,e()}finally{activeEffectScope=this.parent}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(e){if(this.active){let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}function recordEffectScope(e,t=activeEffectScope){t&&t.active&&t.effects.push(e)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(e){activeEffectScope&&activeEffectScope.cleanups.push(e)}const createDep=e=>{const t=new Set(e);return t.w=0,t.n=0,t},wasTracked=e=>(e.w&trackOpBit)>0,newTracked=e=>(e.n&trackOpBit)>0,initDepMarkers=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=trackOpBit},finalizeDepMarkers=e=>{const{deps:t}=e;if(t.length){let r=0;for(let n=0;n<t.length;n++){const i=t[n];wasTracked(i)&&!newTracked(i)?i.delete(e):t[r++]=i,i.w&=~trackOpBit,i.n&=~trackOpBit}t.length=r}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(e,t=null,r){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,r)}run(){if(!this.active)return this.fn();let e=activeEffect,t=shouldTrack;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=t,this.parent=void 0}}stop(){this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=void 0===e||e}function track(e,t,r){if(shouldTrack&&activeEffect){let t=targetMap.get(e);t||targetMap.set(e,t=new Map);let n=t.get(r);n||t.set(r,n=createDep()),trackEffects(n)}}function trackEffects(e,t){let r=!1;effectTrackDepth<=maxMarkerBits?newTracked(e)||(e.n|=trackOpBit,r=!wasTracked(e)):r=!e.has(activeEffect),r&&(e.add(activeEffect),activeEffect.deps.push(e))}function trigger$1(e,t,r,n,i,o){const s=targetMap.get(e);if(!s)return;let a=[];if("clear"===t)a=[...s.values()];else if("length"===r&&isArray$8(e))s.forEach(((e,t)=>{("length"===t||t>=n)&&a.push(e)}));else switch(void 0!==r&&a.push(s.get(r)),t){case"add":isArray$8(e)?isIntegerKey(r)&&a.push(s.get("length")):(a.push(s.get(ITERATE_KEY)),isMap(e)&&a.push(s.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$8(e)||(a.push(s.get(ITERATE_KEY)),isMap(e)&&a.push(s.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&a.push(s.get(ITERATE_KEY))}if(1===a.length)a[0]&&triggerEffects(a[0]);else{const e=[];for(const t of a)t&&e.push(...t);triggerEffects(createDep(e))}}function triggerEffects(e,t){for(const r of isArray$8(e)?e:[...e])(r!==activeEffect||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(isSymbol)),get=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const r=toRaw(this);for(let t=0,i=this.length;t<i;t++)track(r,"get",t+"");const n=r[t](...e);return-1===n||!1===n?r[t](...e.map(toRaw)):n}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){pauseTracking();const r=toRaw(this)[t].apply(this,e);return resetTracking(),r}})),e}function createGetter(e=!1,t=!1){return function(r,n,i){if("__v_isReactive"===n)return!e;if("__v_isReadonly"===n)return e;if("__v_isShallow"===n)return t;if("__v_raw"===n&&i===(e?t?shallowReadonlyMap:readonlyMap:t?shallowReactiveMap:reactiveMap).get(r))return r;const o=isArray$8(r);if(!e&&o&&hasOwn$1(arrayInstrumentations,n))return Reflect.get(arrayInstrumentations,n,i);const s=Reflect.get(r,n,i);if(isSymbol(n)?builtInSymbols.has(n):isNonTrackableKeys(n))return s;if(e||track(r,"get",n),t)return s;if(isRef(s)){return!o||!isIntegerKey(n)?s.value:s}return isObject$4(s)?e?readonly(s):reactive(s):s}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(e=!1){return function(t,r,n,i){let o=t[r];if(isReadonly(o)&&isRef(o)&&!isRef(n))return!1;if(!e&&!isReadonly(n)&&(isShallow(n)||(n=toRaw(n),o=toRaw(o)),!isArray$8(t)&&isRef(o)&&!isRef(n)))return o.value=n,!0;const s=isArray$8(t)&&isIntegerKey(r)?Number(r)<t.length:hasOwn$1(t,r),a=Reflect.set(t,r,n,i);return t===toRaw(i)&&(s?hasChanged(n,o)&&trigger$1(t,"set",r,n):trigger$1(t,"add",r,n)),a}}function deleteProperty(e,t){const r=hasOwn$1(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&r&&trigger$1(e,"delete",t,void 0),n}function has(e,t){const r=Reflect.has(e,t);return isSymbol(t)&&builtInSymbols.has(t)||track(e,"has",t),r}function ownKeys$2(e){return track(e,"iterate",isArray$8(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}const mutableHandlers={get:get,set:set$1,deleteProperty:deleteProperty,has:has,ownKeys:ownKeys$2},readonlyHandlers={get:readonlyGet,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},shallowReactiveHandlers=extend$4({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function get$1(e,t,r=!1,n=!1){const i=toRaw(e=e.__v_raw),o=toRaw(t);t!==o&&!r&&track(i,"get",t),!r&&track(i,"get",o);const{has:s}=getProto(i),a=n?toShallow:r?toReadonly:toReactive;return s.call(i,t)?a(e.get(t)):s.call(i,o)?a(e.get(o)):void(e!==i&&e.get(t))}function has$1(e,t=!1){const r=this.__v_raw,n=toRaw(r),i=toRaw(e);return e!==i&&!t&&track(n,"has",e),!t&&track(n,"has",i),e===i?r.has(e):r.has(e)||r.has(i)}function size(e,t=!1){return e=e.__v_raw,!t&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add$1(e){e=toRaw(e);const t=toRaw(this);return getProto(t).has.call(t,e)||(t.add(e),trigger$1(t,"add",e,e)),this}function set$1$1(e,t){t=toRaw(t);const r=toRaw(this),{has:n,get:i}=getProto(r);let o=n.call(r,e);o||(e=toRaw(e),o=n.call(r,e));const s=i.call(r,e);return r.set(e,t),o?hasChanged(t,s)&&trigger$1(r,"set",e,t):trigger$1(r,"add",e,t),this}function deleteEntry(e){const t=toRaw(this),{has:r,get:n}=getProto(t);let i=r.call(t,e);i||(e=toRaw(e),i=r.call(t,e)),n&&n.call(t,e);const o=t.delete(e);return i&&trigger$1(t,"delete",e,void 0),o}function clear(){const e=toRaw(this),t=0!==e.size,r=e.clear();return t&&trigger$1(e,"clear",void 0,void 0),r}function createForEach(e,t){return function(r,n){const i=this,o=i.__v_raw,s=toRaw(o),a=t?toShallow:e?toReadonly:toReactive;return!e&&track(s,"iterate",ITERATE_KEY),o.forEach(((e,t)=>r.call(n,a(e),a(t),i)))}}function createIterableMethod(e,t,r){return function(...n){const i=this.__v_raw,o=toRaw(i),s=isMap(o),a="entries"===e||e===Symbol.iterator&&s,u="keys"===e&&s,l=i[e](...n),c=r?toShallow:t?toReadonly:toReactive;return!t&&track(o,"iterate",u?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:e,done:t}=l.next();return t?{value:e,done:t}:{value:a?[c(e[0]),c(e[1])]:c(e),done:t}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return"delete"!==e&&this}}function createInstrumentations(){const e={get(e){return get$1(this,e)},get size(){return size(this)},has:has$1,add:add$1,set:set$1$1,delete:deleteEntry,clear:clear,forEach:createForEach(!1,!1)},t={get(e){return get$1(this,e,!1,!0)},get size(){return size(this)},has:has$1,add:add$1,set:set$1$1,delete:deleteEntry,clear:clear,forEach:createForEach(!1,!0)},r={get(e){return get$1(this,e,!0)},get size(){return size(this,!0)},has(e){return has$1.call(this,e,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},n={get(e){return get$1(this,e,!0,!0)},get size(){return size(this,!0)},has(e){return has$1.call(this,e,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((i=>{e[i]=createIterableMethod(i,!1,!1),r[i]=createIterableMethod(i,!0,!1),t[i]=createIterableMethod(i,!1,!0),n[i]=createIterableMethod(i,!0,!0)})),[e,r,t,n]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(e,t){const r=t?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(t,n,i)=>"__v_isReactive"===n?!e:"__v_isReadonly"===n?e:"__v_raw"===n?t:Reflect.get(hasOwn$1(r,n)&&n in t?r:t,n,i)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(e,t,r,n,i){if(!isObject$4(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const s=getTargetType(e);if(0===s)return e;const a=new Proxy(e,2===s?n:r);return i.set(e,a),a}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!(!e||!e.__v_isReactive)}function isReadonly(e){return!(!e||!e.__v_isReadonly)}function isShallow(e){return!(!e||!e.__v_isShallow)}function isProxy(e){return isReactive(e)||isReadonly(e)}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return def(e,"__v_skip",!0),e}const toReactive=e=>isObject$4(e)?reactive(e):e,toReadonly=e=>isObject$4(e)?readonly(e):e;function trackRefValue(e){shouldTrack&&activeEffect&&trackEffects((e=toRaw(e)).dep||(e.dep=createDep()))}function triggerRefValue(e,t){(e=toRaw(e)).dep&&triggerEffects(e.dep)}function isRef(e){return!(!e||!0!==e.__v_isRef)}function ref(e){return createRef(e,!1)}function shallowRef(e){return createRef(e,!0)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:toRaw(e),this._value=t?e:toReactive(e)}get value(){return trackRefValue(this),this._value}set value(e){e=this.__v_isShallow?e:toRaw(e),hasChanged(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:toReactive(e),triggerRefValue(this))}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,r)=>unref(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return isRef(i)&&!isRef(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}function toRefs(e){const t=isArray$8(e)?new Array(e.length):{};for(const r in e)t[r]=toRef(e,r);return t}class ObjectRefImpl{constructor(e,t,r){this._object=e,this._key=t,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}}function toRef(e,t,r){const n=e[t];return isRef(n)?n:new ObjectRefImpl(e,t,r)}class ComputedRefImpl{constructor(e,t,r,n){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new ReactiveEffect(e,(()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=r}get value(){const e=toRaw(this);return trackRefValue(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function computed$1(e,t,r=!1){let n,i;const o=isFunction$4(e);o?(n=e,i=NOOP):(n=e.get,i=e.set);return new ComputedRefImpl(n,i,o||!i,r)}function callWithErrorHandling(e,t,r,n){let i;try{i=n?e(...n):e()}catch(o){handleError(o,t,r)}return i}function callWithAsyncErrorHandling(e,t,r,n){if(isFunction$4(e)){const i=callWithErrorHandling(e,t,r,n);return i&&isPromise$1(i)&&i.catch((e=>{handleError(e,t,r)})),i}const i=[];for(let o=0;o<e.length;o++)i.push(callWithAsyncErrorHandling(e[o],t,r,n));return i}function handleError(e,t,r,n=!0){const i=t?t.vnode:null;if(t){let n=t.parent;const i=t.proxy,o=r;for(;n;){const t=n.ec;if(t)for(let r=0;r<t.length;r++)if(!1===t[r](e,i,o))return;n=n.parent}const s=t.appContext.config.errorHandler;if(s)return void callWithErrorHandling(s,null,10,[e,i,o])}logError(e,r,i,n)}function logError(e,t,r,n=!0){console.error(e)}Promise.resolve();let isFlushing=!1,isFlushPending=!1;const queue$1=[];let flushIndex=0;const pendingPreFlushCbs=[];let activePreFlushCbs=null,preFlushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null,currentPreFlushParentJob=null;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex(e){let t=flushIndex+1,r=queue$1.length;for(;t<r;){const n=t+r>>>1;getId$1(queue$1[n])<e?t=n+1:r=n}return t}function queueJob(e){queue$1.length&&queue$1.includes(e,isFlushing&&e.allowRecurse?flushIndex+1:flushIndex)||e===currentPreFlushParentJob||(null==e.id?queue$1.push(e):queue$1.splice(findInsertionIndex(e.id),0,e),queueFlush())}function queueFlush(){isFlushing||isFlushPending||(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(e){const t=queue$1.indexOf(e);t>flushIndex&&queue$1.splice(t,1)}function queueCb(e,t,r,n){isArray$8(e)?r.push(...e):t&&t.includes(e,e.allowRecurse?n+1:n)||r.push(e),queueFlush()}function queuePreFlushCb(e){queueCb(e,activePreFlushCbs,pendingPreFlushCbs,preFlushIndex)}function queuePostFlushCb(e){queueCb(e,activePostFlushCbs,pendingPostFlushCbs,postFlushIndex)}function flushPreFlushCbs(e,t=null){if(pendingPreFlushCbs.length){for(currentPreFlushParentJob=t,activePreFlushCbs=[...new Set(pendingPreFlushCbs)],pendingPreFlushCbs.length=0,preFlushIndex=0;preFlushIndex<activePreFlushCbs.length;preFlushIndex++)activePreFlushCbs[preFlushIndex]();activePreFlushCbs=null,preFlushIndex=0,currentPreFlushParentJob=null,flushPreFlushCbs(e,t)}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs)return void activePostFlushCbs.push(...e);for(activePostFlushCbs=e,activePostFlushCbs.sort(((e,t)=>getId$1(e)-getId$1(t))),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId$1=e=>null==e.id?1/0:e.id;function flushJobs(e){isFlushPending=!1,isFlushing=!0,flushPreFlushCbs(e),queue$1.sort(((e,t)=>getId$1(e)-getId$1(t)));try{for(flushIndex=0;flushIndex<queue$1.length;flushIndex++){const e=queue$1[flushIndex];e&&!1!==e.active&&callWithErrorHandling(e,null,14)}}finally{flushIndex=0,queue$1.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue$1.length||pendingPreFlushCbs.length||pendingPostFlushCbs.length)&&flushJobs(e)}}function emit$1(e,t,...r){const n=e.vnode.props||EMPTY_OBJ;let i=r;const o=t.startsWith("update:"),s=o&&t.slice(7);if(s&&s in n){const e=`${"modelValue"===s?"model":s}Modifiers`,{number:t,trim:o}=n[e]||EMPTY_OBJ;o?i=r.map((e=>e.trim())):t&&(i=r.map(toNumber))}let a,u=n[a=toHandlerKey(t)]||n[a=toHandlerKey(camelize(t))];!u&&o&&(u=n[a=toHandlerKey(hyphenate(t))]),u&&callWithAsyncErrorHandling(u,e,6,i);const l=n[a+"Once"];if(l){if(e.emitted){if(e.emitted[a])return}else e.emitted={};e.emitted[a]=!0,callWithAsyncErrorHandling(l,e,6,i)}}function normalizeEmitsOptions(e,t,r=!1){const n=t.emitsCache,i=n.get(e);if(void 0!==i)return i;const o=e.emits;let s={},a=!1;if(!isFunction$4(e)){const n=e=>{const r=normalizeEmitsOptions(e,t,!0);r&&(a=!0,extend$4(s,r))};!r&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}return o||a?(isArray$8(o)?o.forEach((e=>s[e]=null)):extend$4(s,o),n.set(e,s),s):(n.set(e,null),null)}function isEmitListener(e,t){return!(!e||!isOn(t))&&(t=t.slice(2).replace(/Once$/,""),hasOwn$1(e,t[0].toLowerCase()+t.slice(1))||hasOwn$1(e,hyphenate(t))||hasOwn$1(e,t))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function pushScopeId(e){currentScopeId=e}function popScopeId(){currentScopeId=null}const withScopeId=exports("a3",(e=>withCtx));function withCtx(e,t=currentRenderingInstance,r){if(!t)return e;if(e._n)return e;const n=(...r)=>{n._d&&setBlockTracking(-1);const i=setCurrentRenderingInstance(t),o=e(...r);return setCurrentRenderingInstance(i),n._d&&setBlockTracking(1),o};return n._n=!0,n._c=!0,n._d=!0,n}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:r,proxy:n,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:u,emit:l,render:c,renderCache:f,data:h,setupState:d,ctx:p,inheritAttrs:g}=e;let m,y;const b=setCurrentRenderingInstance(e);try{if(4&r.shapeFlag){const e=i||n;m=normalizeVNode(c.call(e,e,f,o,d,h,p)),y=u}else{const e=t;0,m=normalizeVNode(e.length>1?e(o,{attrs:u,slots:a,emit:l}):e(o,null)),y=t.props?u:getFunctionalFallthrough(u)}}catch(_){blockStack.length=0,handleError(_,e,1),m=createVNode(Comment)}let v=m;if(y&&!1!==g){const e=Object.keys(y),{shapeFlag:t}=v;e.length&&7&t&&(s&&e.some(isModelListener)&&(y=filterModelListeners(y,s)),v=cloneVNode(v,y))}return r.dirs&&(v.dirs=v.dirs?v.dirs.concat(r.dirs):r.dirs),r.transition&&(v.transition=r.transition),m=v,setCurrentRenderingInstance(b),m}const getFunctionalFallthrough=e=>{let t;for(const r in e)("class"===r||"style"===r||isOn(r))&&((t||(t={}))[r]=e[r]);return t},filterModelListeners=(e,t)=>{const r={};for(const n in e)isModelListener(n)&&n.slice(9)in t||(r[n]=e[n]);return r};function shouldUpdateComponent(e,t,r){const{props:n,children:i,component:o}=e,{props:s,children:a,patchFlag:u}=t,l=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(r&&u>=0))return!(!i&&!a||a&&a.$stable)||n!==s&&(n?!s||hasPropsChanged(n,s,l):!!s);if(1024&u)return!0;if(16&u)return n?hasPropsChanged(n,s,l):!!s;if(8&u){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const r=e[t];if(s[r]!==n[r]&&!isEmitListener(l,r))return!0}}return!1}function hasPropsChanged(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(t[o]!==e[o]&&!isEmitListener(r,o))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray$8(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}function provide(e,t){if(currentInstance){let r=currentInstance.provides;const n=currentInstance.parent&&currentInstance.parent.provides;n===r&&(r=currentInstance.provides=Object.create(n)),r[e]=t}else;}function inject(e,t,r=!1){const n=currentInstance||currentRenderingInstance;if(n){const i=null==n.parent?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return r&&isFunction$4(t)?t.call(n.proxy):t}}function watchEffect(e,t){return doWatch(e,null,t)}const INITIAL_WATCHER_VALUE={};function watch(e,t,r){return doWatch(e,t,r)}function doWatch(e,t,{immediate:r,deep:n,flush:i,onTrack:o,onTrigger:s}=EMPTY_OBJ){const a=currentInstance;let u,l,c=!1,f=!1;if(isRef(e)?(u=()=>e.value,c=isShallow(e)):isReactive(e)?(u=()=>e,n=!0):isArray$8(e)?(f=!0,c=e.some(isReactive),u=()=>e.map((e=>isRef(e)?e.value:isReactive(e)?traverse(e):isFunction$4(e)?callWithErrorHandling(e,a,2):void 0))):u=isFunction$4(e)?t?()=>callWithErrorHandling(e,a,2):()=>{if(!a||!a.isUnmounted)return l&&l(),callWithAsyncErrorHandling(e,a,3,[h])}:NOOP,t&&n){const e=u;u=()=>traverse(e())}let h=e=>{l=m.onStop=()=>{callWithErrorHandling(e,a,4)}};if(isInSSRComponentSetup)return h=NOOP,t?r&&callWithAsyncErrorHandling(t,a,3,[u(),f?[]:void 0,h]):u(),NOOP;let d=f?[]:INITIAL_WATCHER_VALUE;const p=()=>{if(m.active)if(t){const e=m.run();(n||c||(f?e.some(((e,t)=>hasChanged(e,d[t]))):hasChanged(e,d)))&&(l&&l(),callWithAsyncErrorHandling(t,a,3,[e,d===INITIAL_WATCHER_VALUE?void 0:d,h]),d=e)}else m.run()};let g;p.allowRecurse=!!t,g="sync"===i?p:"post"===i?()=>queuePostRenderEffect(p,a&&a.suspense):()=>{!a||a.isMounted?queuePreFlushCb(p):p()};const m=new ReactiveEffect(u,g);return t?r?p():d=m.run():"post"===i?queuePostRenderEffect(m.run.bind(m),a&&a.suspense):m.run(),()=>{m.stop(),a&&a.scope&&remove(a.scope.effects,m)}}function instanceWatch(e,t,r){const n=this.proxy,i=isString$1(e)?e.includes(".")?createPathGetter(n,e):()=>n[e]:e.bind(n,n);let o;isFunction$4(t)?o=t:(o=t.handler,r=t);const s=currentInstance;setCurrentInstance(this);const a=doWatch(i,o.bind(n),r);return s?setCurrentInstance(s):unsetCurrentInstance(),a}function createPathGetter(e,t){const r=t.split(".");return()=>{let t=e;for(let e=0;e<r.length&&t;e++)t=t[r[e]];return t}}function traverse(e,t){if(!isObject$4(e)||e.__v_skip)return e;if((t=t||new Set).has(e))return e;if(t.add(e),isRef(e))traverse(e.value,t);else if(isArray$8(e))for(let r=0;r<e.length;r++)traverse(e[r],t);else if(isSet(e)||isMap(e))e.forEach((e=>{traverse(e,t)}));else if(isPlainObject(e))for(const r in e)traverse(e[r],t);return e}function useTransitionState(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted((()=>{e.isMounted=!0})),onBeforeUnmount((()=>{e.isUnmounting=!0})),e}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(e,{slots:t}){const r=getCurrentInstance(),n=useTransitionState();let i;return()=>{const o=t.default&&getTransitionRawChildren(t.default(),!0);if(!o||!o.length)return;const s=toRaw(e),{mode:a}=s,u=o[0];if(n.isLeaving)return emptyPlaceholder(u);const l=getKeepAliveChild(u);if(!l)return emptyPlaceholder(u);const c=resolveTransitionHooks(l,s,n,r);setTransitionHooks(l,c);const f=r.subTree,h=f&&getKeepAliveChild(f);let d=!1;const{getTransitionKey:p}=l.type;if(p){const e=p();void 0===i?i=e:e!==i&&(i=e,d=!0)}if(h&&h.type!==Comment&&(!isSameVNodeType(l,h)||d)){const e=resolveTransitionHooks(h,s,n,r);if(setTransitionHooks(h,e),"out-in"===a)return n.isLeaving=!0,e.afterLeave=()=>{n.isLeaving=!1,r.update()},emptyPlaceholder(u);"in-out"===a&&l.type!==Comment&&(e.delayLeave=(e,t,r)=>{getLeavingNodesForType(n,h)[String(h.key)]=h,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=r})}return u}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function resolveTransitionHooks(e,t,r,n){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:u,onAfterEnter:l,onEnterCancelled:c,onBeforeLeave:f,onLeave:h,onAfterLeave:d,onLeaveCancelled:p,onBeforeAppear:g,onAppear:m,onAfterAppear:y,onAppearCancelled:b}=t,v=String(e.key),_=getLeavingNodesForType(r,e),$=(e,t)=>{e&&callWithAsyncErrorHandling(e,n,9,t)},w={mode:o,persisted:s,beforeEnter(t){let n=a;if(!r.isMounted){if(!i)return;n=g||a}t._leaveCb&&t._leaveCb(!0);const o=_[v];o&&isSameVNodeType(e,o)&&o.el._leaveCb&&o.el._leaveCb(),$(n,[t])},enter(e){let t=u,n=l,o=c;if(!r.isMounted){if(!i)return;t=m||u,n=y||l,o=b||c}let s=!1;const a=e._enterCb=t=>{s||(s=!0,$(t?o:n,[e]),w.delayedLeave&&w.delayedLeave(),e._enterCb=void 0)};t?(t(e,a),t.length<=1&&a()):a()},leave(t,n){const i=String(e.key);if(t._enterCb&&t._enterCb(!0),r.isUnmounting)return n();$(f,[t]);let o=!1;const s=t._leaveCb=r=>{o||(o=!0,n(),$(r?p:d,[t]),t._leaveCb=void 0,_[i]===e&&delete _[i])};_[i]=e,h?(h(t,s),h.length<=1&&s()):s()},clone:e=>resolveTransitionHooks(e,t,r,n)};return w}function emptyPlaceholder(e){if(isKeepAlive(e))return(e=cloneVNode(e)).children=null,e}function getKeepAliveChild(e){return isKeepAlive(e)?e.children?e.children[0]:void 0:e}function setTransitionHooks(e,t){6&e.shapeFlag&&e.component?setTransitionHooks(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function getTransitionRawChildren(e,t=!1){let r=[],n=0;for(let i=0;i<e.length;i++){const o=e[i];o.type===Fragment$1?(128&o.patchFlag&&n++,r=r.concat(getTransitionRawChildren(o.children,t))):(t||o.type!==Comment)&&r.push(o)}if(n>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function defineComponent(e){return isFunction$4(e)?{setup:e,name:e.name}:e}const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,r=currentInstance){const n=e.__wdc||(e.__wdc=()=>{let t=r;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(injectHook(t,n,r),r){let e=r.parent;for(;e&&e.parent;)isKeepAlive(e.parent.vnode)&&injectToKeepAliveRoot(n,t,r,e),e=e.parent}}function injectToKeepAliveRoot(e,t,r,n){const i=injectHook(t,e,n,!0);onUnmounted((()=>{remove(n[t],i)}),r)}function injectHook(e,t,r=currentInstance,n=!1){if(r){const i=r[e]||(r[e]=[]),o=t.__weh||(t.__weh=(...n)=>{if(r.isUnmounted)return;pauseTracking(),setCurrentInstance(r);const i=callWithAsyncErrorHandling(t,r,e,n);return unsetCurrentInstance(),resetTracking(),i});return n?i.unshift(o):i.push(o),o}}const createHook=e=>(t,r=currentInstance)=>(!isInSSRComponentSetup||"sp"===e)&&injectHook(e,t,r),onBeforeMount=createHook("bm"),onMounted=exports("A",createHook("m")),onBeforeUpdate=createHook("bu"),onUpdated=exports("J",createHook("u")),onBeforeUnmount=createHook("bum"),onUnmounted=exports("E",createHook("um")),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),r=e.proxy,n=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook$1(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:s,watch:a,provide:u,inject:l,created:c,beforeMount:f,mounted:h,beforeUpdate:d,updated:p,activated:g,deactivated:m,beforeDestroy:y,beforeUnmount:b,destroyed:v,unmounted:_,render:$,renderTracked:w,renderTriggered:E,errorCaptured:S,serverPrefetch:A,expose:R,inheritAttrs:N,components:x,directives:k,filters:C}=t;if(l&&resolveInjections(l,n,null,e.appContext.config.unwrapInjectedRef),s)for(const M in s){const e=s[M];isFunction$4(e)&&(n[M]=e.bind(r))}if(i){const t=i.call(r,r);isObject$4(t)&&(e.data=reactive(t))}if(shouldCacheAccess=!0,o)for(const M in o){const e=o[M],t=isFunction$4(e)?e.bind(r,r):isFunction$4(e.get)?e.get.bind(r,r):NOOP,i=!isFunction$4(e)&&isFunction$4(e.set)?e.set.bind(r):NOOP,s=computed({get:t,set:i});Object.defineProperty(n,M,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e})}if(a)for(const M in a)createWatcher(a[M],n,r,M);if(u){const e=isFunction$4(u)?u.call(r):u;Reflect.ownKeys(e).forEach((t=>{provide(t,e[t])}))}function T(e,t){isArray$8(t)?t.forEach((t=>e(t.bind(r)))):t&&e(t.bind(r))}if(c&&callHook$1(c,e,"c"),T(onBeforeMount,f),T(onMounted,h),T(onBeforeUpdate,d),T(onUpdated,p),T(onActivated,g),T(onDeactivated,m),T(onErrorCaptured,S),T(onRenderTracked,w),T(onRenderTriggered,E),T(onBeforeUnmount,b),T(onUnmounted,_),T(onServerPrefetch,A),isArray$8(R))if(R.length){const t=e.exposed||(e.exposed={});R.forEach((e=>{Object.defineProperty(t,e,{get:()=>r[e],set:t=>r[e]=t})}))}else e.exposed||(e.exposed={});$&&e.render===NOOP&&(e.render=$),null!=N&&(e.inheritAttrs=N),x&&(e.components=x),k&&(e.directives=k)}function resolveInjections(e,t,r=NOOP,n=!1){isArray$8(e)&&(e=normalizeInject(e));for(const i in e){const r=e[i];let o;o=isObject$4(r)?"default"in r?inject(r.from||i,r.default,!0):inject(r.from||i):inject(r),isRef(o)&&n?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:e=>o.value=e}):t[i]=o}}function callHook$1(e,t,r){callWithAsyncErrorHandling(isArray$8(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,r)}function createWatcher(e,t,r,n){const i=n.includes(".")?createPathGetter(r,n):()=>r[n];if(isString$1(e)){const r=t[e];isFunction$4(r)&&watch(i,r)}else if(isFunction$4(e))watch(i,e.bind(r));else if(isObject$4(e))if(isArray$8(e))e.forEach((e=>createWatcher(e,t,r,n)));else{const n=isFunction$4(e.handler)?e.handler.bind(r):t[e.handler];isFunction$4(n)&&watch(i,n,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,a=o.get(t);let u;return a?u=a:i.length||r||n?(u={},i.length&&i.forEach((e=>mergeOptions$1(u,e,s,!0))),mergeOptions$1(u,t,s)):u=t,o.set(t,u),u}function mergeOptions$1(e,t,r,n=!1){const{mixins:i,extends:o}=t;o&&mergeOptions$1(e,o,r,!0),i&&i.forEach((t=>mergeOptions$1(e,t,r,!0)));for(const s in t)if(n&&"expose"===s);else{const n=internalOptionMergeStrats[s]||r&&r[s];e[s]=n?n(e[s],t[s]):t[s]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend$4(isFunction$4(e)?e.call(this,this):e,isFunction$4(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray$8(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend$4(extend$4(Object.create(null),e),t):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const r=extend$4(Object.create(null),e);for(const n in t)r[n]=mergeAsArray(e[n],t[n]);return r}function initProps(e,t,r,n=!1){const i={},o={};def(o,InternalObjectKey,1),e.propsDefaults=Object.create(null),setFullProps(e,t,i,o);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);r?e.props=n?i:shallowReactive(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function updateProps(e,t,r,n){const{props:i,attrs:o,vnode:{patchFlag:s}}=e,a=toRaw(i),[u]=e.propsOptions;let l=!1;if(!(n||s>0)||16&s){let n;setFullProps(e,t,i,o)&&(l=!0);for(const o in a)t&&(hasOwn$1(t,o)||(n=hyphenate(o))!==o&&hasOwn$1(t,n))||(u?!r||void 0===r[o]&&void 0===r[n]||(i[o]=resolvePropValue(u,a,o,void 0,e,!0)):delete i[o]);if(o!==a)for(const e in o)t&&hasOwn$1(t,e)||(delete o[e],l=!0)}else if(8&s){const r=e.vnode.dynamicProps;for(let n=0;n<r.length;n++){let s=r[n];const c=t[s];if(u)if(hasOwn$1(o,s))c!==o[s]&&(o[s]=c,l=!0);else{const t=camelize(s);i[t]=resolvePropValue(u,a,t,c,e,!1)}else c!==o[s]&&(o[s]=c,l=!0)}}l&&trigger$1(e,"set","$attrs")}function setFullProps(e,t,r,n){const[i,o]=e.propsOptions;let s,a=!1;if(t)for(let u in t){if(isReservedProp(u))continue;const l=t[u];let c;i&&hasOwn$1(i,c=camelize(u))?o&&o.includes(c)?(s||(s={}))[c]=l:r[c]=l:isEmitListener(e.emitsOptions,u)||u in n&&l===n[u]||(n[u]=l,a=!0)}if(o){const t=toRaw(r),n=s||EMPTY_OBJ;for(let s=0;s<o.length;s++){const a=o[s];r[a]=resolvePropValue(i,t,a,n[a],e,!hasOwn$1(n,a))}}return a}function resolvePropValue(e,t,r,n,i,o){const s=e[r];if(null!=s){const e=hasOwn$1(s,"default");if(e&&void 0===n){const e=s.default;if(s.type!==Function&&isFunction$4(e)){const{propsDefaults:o}=i;r in o?n=o[r]:(setCurrentInstance(i),n=o[r]=e.call(null,t),unsetCurrentInstance())}else n=e}s[0]&&(o&&!e?n=!1:!s[1]||""!==n&&n!==hyphenate(r)||(n=!0))}return n}function normalizePropsOptions(e,t,r=!1){const n=t.propsCache,i=n.get(e);if(i)return i;const o=e.props,s={},a=[];let u=!1;if(!isFunction$4(e)){const n=e=>{u=!0;const[r,n]=normalizePropsOptions(e,t,!0);extend$4(s,r),n&&a.push(...n)};!r&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}if(!o&&!u)return n.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray$8(o))for(let c=0;c<o.length;c++){const e=camelize(o[c]);validatePropName(e)&&(s[e]=EMPTY_OBJ)}else if(o)for(const c in o){const e=camelize(c);if(validatePropName(e)){const t=o[c],r=s[e]=isArray$8(t)||isFunction$4(t)?{type:t}:t;if(r){const t=getTypeIndex(Boolean,r.type),n=getTypeIndex(String,r.type);r[0]=t>-1,r[1]=n<0||t<n,(t>-1||hasOwn$1(r,"default"))&&a.push(e)}}}const l=[s,a];return n.set(e,l),l}function validatePropName(e){return"$"!==e[0]}function getType(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function isSameType(e,t){return getType(e)===getType(t)}function getTypeIndex(e,t){return isArray$8(t)?t.findIndex((t=>isSameType(t,e))):isFunction$4(t)&&isSameType(t,e)?0:-1}const isInternalKey=e=>"_"===e[0]||"$stable"===e,normalizeSlotValue=e=>isArray$8(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot$1=(e,t,r)=>{const n=withCtx(((...e)=>normalizeSlotValue(t(...e))),r);return n._c=!1,n},normalizeObjectSlots=(e,t,r)=>{const n=e._ctx;for(const i in e){if(isInternalKey(i))continue;const r=e[i];if(isFunction$4(r))t[i]=normalizeSlot$1(i,r,n);else if(null!=r){const e=normalizeSlotValue(r);t[i]=()=>e}}},normalizeVNodeSlots=(e,t)=>{const r=normalizeSlotValue(t);e.slots.default=()=>r},initSlots=(e,t)=>{if(32&e.vnode.shapeFlag){const r=t._;r?(e.slots=toRaw(t),def(t,"_",r)):normalizeObjectSlots(t,e.slots={})}else e.slots={},t&&normalizeVNodeSlots(e,t);def(e.slots,InternalObjectKey,1)},updateSlots=(e,t,r)=>{const{vnode:n,slots:i}=e;let o=!0,s=EMPTY_OBJ;if(32&n.shapeFlag){const e=t._;e?r&&1===e?o=!1:(extend$4(i,t),r||1!==e||delete i._):(o=!t.$stable,normalizeObjectSlots(t,i)),s=t}else t&&(normalizeVNodeSlots(e,t),s={default:1});if(o)for(const a in i)isInternalKey(a)||a in s||delete i[a]};function withDirectives(e,t){if(null===currentRenderingInstance)return e;const r=currentRenderingInstance.proxy,n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[e,o,s,a=EMPTY_OBJ]=t[i];isFunction$4(e)&&(e={mounted:e,updated:e}),e.deep&&traverse(o),n.push({dir:e,instance:r,value:o,oldValue:void 0,arg:s,modifiers:a})}return e}function invokeDirectiveHook(e,t,r,n){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let u=a.dir[n];u&&(pauseTracking(),callWithAsyncErrorHandling(u,r,8,[e.el,a,e,t]),resetTracking())}}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(e,t){return function(r,n=null){null==n||isObject$4(n)||(n=null);const i=createAppContext(),o=new Set;let s=!1;const a=i.app={_uid:uid++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:version$1t,get config(){return i.config},set config(e){},use:(e,...t)=>(o.has(e)||(e&&isFunction$4(e.install)?(o.add(e),e.install(a,...t)):isFunction$4(e)&&(o.add(e),e(a,...t))),a),mixin:e=>(i.mixins.includes(e)||i.mixins.push(e),a),component:(e,t)=>t?(i.components[e]=t,a):i.components[e],directive:(e,t)=>t?(i.directives[e]=t,a):i.directives[e],mount(o,u,l){if(!s){const c=createVNode(r,n);return c.appContext=i,u&&t?t(c,o):e(c,o,l),s=!0,a._container=o,o.__vue_app__=a,getExposeProxy(c.component)||c.component.proxy}},unmount(){s&&(e(null,a._container),delete a._container.__vue_app__)},provide:(e,t)=>(i.provides[e]=t,a)};return a}}function setRef(e,t,r,n,i=!1){if(isArray$8(e))return void e.forEach(((e,o)=>setRef(e,t&&(isArray$8(t)?t[o]:t),r,n,i)));if(isAsyncWrapper(n)&&!i)return;const o=4&n.shapeFlag?getExposeProxy(n.component)||n.component.proxy:n.el,s=i?null:o,{i:a,r:u}=e,l=t&&t.r,c=a.refs===EMPTY_OBJ?a.refs={}:a.refs,f=a.setupState;if(null!=l&&l!==u&&(isString$1(l)?(c[l]=null,hasOwn$1(f,l)&&(f[l]=null)):isRef(l)&&(l.value=null)),isFunction$4(u))callWithErrorHandling(u,a,12,[s,c]);else{const t=isString$1(u),n=isRef(u);if(t||n){const n=()=>{if(e.f){const r=t?c[u]:u.value;i?isArray$8(r)&&remove(r,o):isArray$8(r)?r.includes(o)||r.push(o):t?c[u]=[o]:(u.value=[o],e.k&&(c[e.k]=u.value))}else t?(c[u]=s,hasOwn$1(f,u)&&(f[u]=s)):isRef(u)&&(u.value=s,e.k&&(c[e.k]=s))};s?(n.id=-1,queuePostRenderEffect(n,r)):n()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){getGlobalThis().__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:s,createComment:a,setText:u,setElementText:l,parentNode:c,nextSibling:f,setScopeId:h=NOOP,cloneNode:d,insertStaticContent:p}=e,g=(e,t,r,n=null,i=null,o=null,s=!1,a=null,u=!!t.dynamicChildren)=>{if(e===t)return;e&&!isSameVNodeType(e,t)&&(n=j(e),B(e,i,o,!0),e=null),-2===t.patchFlag&&(u=!1,t.dynamicChildren=null);const{type:l,ref:c,shapeFlag:f}=t;switch(l){case Text:m(e,t,r,n);break;case Comment:y(e,t,r,n);break;case Static:null==e&&b(t,r,n,s);break;case Fragment$1:R(e,t,r,n,i,o,s,a,u);break;default:1&f?v(e,t,r,n,i,o,s,a,u):6&f?N(e,t,r,n,i,o,s,a,u):(64&f||128&f)&&l.process(e,t,r,n,i,o,s,a,u,W)}null!=c&&i&&setRef(c,e&&e.ref,o,t||e,!t)},m=(e,t,n,i)=>{if(null==e)r(t.el=s(t.children),n,i);else{const r=t.el=e.el;t.children!==e.children&&u(r,t.children)}},y=(e,t,n,i)=>{null==e?r(t.el=a(t.children||""),n,i):t.el=e.el},b=(e,t,r,n)=>{[e.el,e.anchor]=p(e.children,t,r,n,e.el,e.anchor)},v=(e,t,r,n,i,o,s,a,u)=>{s=s||"svg"===t.type,null==e?_(t,r,n,i,o,s,a,u):E(e,t,i,o,s,a,u)},_=(e,t,n,s,a,u,c,f)=>{let h,p;const{type:g,props:m,shapeFlag:y,transition:b,patchFlag:v,dirs:_}=e;if(e.el&&void 0!==d&&-1===v)h=e.el=d(e.el);else{if(h=e.el=o(e.type,u,m&&m.is,m),8&y?l(h,e.children):16&y&&w(e.children,h,null,s,a,u&&"foreignObject"!==g,c,f),_&&invokeDirectiveHook(e,null,s,"created"),m){for(const t in m)"value"===t||isReservedProp(t)||i(h,t,null,m[t],u,e.children,s,a,F);"value"in m&&i(h,"value",null,m.value),(p=m.onVnodeBeforeMount)&&invokeVNodeHook(p,s,e)}$(h,e,e.scopeId,c,s)}_&&invokeDirectiveHook(e,null,s,"beforeMount");const E=(!a||a&&!a.pendingBranch)&&b&&!b.persisted;E&&b.beforeEnter(h),r(h,t,n),((p=m&&m.onVnodeMounted)||E||_)&&queuePostRenderEffect((()=>{p&&invokeVNodeHook(p,s,e),E&&b.enter(h),_&&invokeDirectiveHook(e,null,s,"mounted")}),a)},$=(e,t,r,n,i)=>{if(r&&h(e,r),n)for(let o=0;o<n.length;o++)h(e,n[o]);if(i){if(t===i.subTree){const t=i.vnode;$(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},w=(e,t,r,n,i,o,s,a,u=0)=>{for(let l=u;l<e.length;l++){const u=e[l]=a?cloneIfMounted(e[l]):normalizeVNode(e[l]);g(null,u,t,r,n,i,o,s,a)}},E=(e,t,r,n,o,s,a)=>{const u=t.el=e.el;let{patchFlag:c,dynamicChildren:f,dirs:h}=t;c|=16&e.patchFlag;const d=e.props||EMPTY_OBJ,p=t.props||EMPTY_OBJ;let g;r&&toggleRecurse(r,!1),(g=p.onVnodeBeforeUpdate)&&invokeVNodeHook(g,r,t,e),h&&invokeDirectiveHook(t,e,r,"beforeUpdate"),r&&toggleRecurse(r,!0);const m=o&&"foreignObject"!==t.type;if(f?S(e.dynamicChildren,f,u,r,n,m,s):a||M(e,t,u,null,r,n,m,s,!1),c>0){if(16&c)A(u,t,d,p,r,n,o);else if(2&c&&d.class!==p.class&&i(u,"class",null,p.class,o),4&c&&i(u,"style",d.style,p.style,o),8&c){const s=t.dynamicProps;for(let t=0;t<s.length;t++){const a=s[t],l=d[a],c=p[a];c===l&&"value"!==a||i(u,a,l,c,o,e.children,r,n,F)}}1&c&&e.children!==t.children&&l(u,t.children)}else a||null!=f||A(u,t,d,p,r,n,o);((g=p.onVnodeUpdated)||h)&&queuePostRenderEffect((()=>{g&&invokeVNodeHook(g,r,t,e),h&&invokeDirectiveHook(t,e,r,"updated")}),n)},S=(e,t,r,n,i,o,s)=>{for(let a=0;a<t.length;a++){const u=e[a],l=t[a],f=u.el&&(u.type===Fragment$1||!isSameVNodeType(u,l)||70&u.shapeFlag)?c(u.el):r;g(u,l,f,null,n,i,o,s,!0)}},A=(e,t,r,n,o,s,a)=>{if(r!==n){for(const u in n){if(isReservedProp(u))continue;const l=n[u],c=r[u];l!==c&&"value"!==u&&i(e,u,c,l,a,t.children,o,s,F)}if(r!==EMPTY_OBJ)for(const u in r)isReservedProp(u)||u in n||i(e,u,r[u],null,a,t.children,o,s,F);"value"in n&&i(e,"value",r.value,n.value)}},R=(e,t,n,i,o,a,u,l,c)=>{const f=t.el=e?e.el:s(""),h=t.anchor=e?e.anchor:s("");let{patchFlag:d,dynamicChildren:p,slotScopeIds:g}=t;g&&(l=l?l.concat(g):g),null==e?(r(f,n,i),r(h,n,i),w(t.children,n,h,o,a,u,l,c)):d>0&&64&d&&p&&e.dynamicChildren?(S(e.dynamicChildren,p,n,o,a,u,l),(null!=t.key||o&&t===o.subTree)&&traverseStaticChildren(e,t,!0)):M(e,t,n,h,o,a,u,l,c)},N=(e,t,r,n,i,o,s,a,u)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?i.ctx.activate(t,r,n,s,u):x(t,r,n,i,o,s,u):k(e,t,u)},x=(e,t,r,n,i,o,s)=>{const a=e.component=createComponentInstance(e,n,i);if(isKeepAlive(e)&&(a.ctx.renderer=W),setupComponent(a),a.asyncDep){if(i&&i.registerDep(a,C),!e.el){const e=a.subTree=createVNode(Comment);y(null,e,t,r)}}else C(a,e,t,r,i,o,s)},k=(e,t,r)=>{const n=t.component=e.component;if(shouldUpdateComponent(e,t,r)){if(n.asyncDep&&!n.asyncResolved)return void T(n,t,r);n.next=t,invalidateJob(n.update),n.update()}else t.component=e.component,t.el=e.el,n.vnode=t},C=(e,t,r,n,i,o,s)=>{const a=e.effect=new ReactiveEffect((()=>{if(e.isMounted){let t,{next:r,bu:n,u:a,parent:u,vnode:l}=e,f=r;toggleRecurse(e,!1),r?(r.el=l.el,T(e,r,s)):r=l,n&&invokeArrayFns(n),(t=r.props&&r.props.onVnodeBeforeUpdate)&&invokeVNodeHook(t,u,r,l),toggleRecurse(e,!0);const h=renderComponentRoot(e),d=e.subTree;e.subTree=h,g(d,h,c(d.el),j(d),e,i,o),r.el=h.el,null===f&&updateHOCHostEl(e,h.el),a&&queuePostRenderEffect(a,i),(t=r.props&&r.props.onVnodeUpdated)&&queuePostRenderEffect((()=>invokeVNodeHook(t,u,r,l)),i)}else{let s;const{el:a,props:u}=t,{bm:l,m:c,parent:f}=e,h=isAsyncWrapper(t);if(toggleRecurse(e,!1),l&&invokeArrayFns(l),!h&&(s=u&&u.onVnodeBeforeMount)&&invokeVNodeHook(s,f,t),toggleRecurse(e,!0),a&&q){const r=()=>{e.subTree=renderComponentRoot(e),q(a,e.subTree,e,i,null)};h?t.type.__asyncLoader().then((()=>!e.isUnmounted&&r())):r()}else{const s=e.subTree=renderComponentRoot(e);g(null,s,r,n,e,i,o),t.el=s.el}if(c&&queuePostRenderEffect(c,i),!h&&(s=u&&u.onVnodeMounted)){const e=t;queuePostRenderEffect((()=>invokeVNodeHook(s,f,e)),i)}256&t.shapeFlag&&e.a&&queuePostRenderEffect(e.a,i),e.isMounted=!0,t=r=n=null}}),(()=>queueJob(e.update)),e.scope),u=e.update=a.run.bind(a);u.id=e.uid,toggleRecurse(e,!0),u()},T=(e,t,r)=>{t.component=e;const n=e.vnode.props;e.vnode=t,e.next=null,updateProps(e,t.props,n,r),updateSlots(e,t.children,r),pauseTracking(),flushPreFlushCbs(void 0,e.update),resetTracking()},M=(e,t,r,n,i,o,s,a,u=!1)=>{const c=e&&e.children,f=e?e.shapeFlag:0,h=t.children,{patchFlag:d,shapeFlag:p}=t;if(d>0){if(128&d)return void I(c,h,r,n,i,o,s,a,u);if(256&d)return void P(c,h,r,n,i,o,s,a,u)}8&p?(16&f&&F(c,i,o),h!==c&&l(r,h)):16&f?16&p?I(c,h,r,n,i,o,s,a,u):F(c,i,o,!0):(8&f&&l(r,""),16&p&&w(h,r,n,i,o,s,a,u))},P=(e,t,r,n,i,o,s,a,u)=>{t=t||EMPTY_ARR;const l=(e=e||EMPTY_ARR).length,c=t.length,f=Math.min(l,c);let h;for(h=0;h<f;h++){const n=t[h]=u?cloneIfMounted(t[h]):normalizeVNode(t[h]);g(e[h],n,r,null,i,o,s,a,u)}l>c?F(e,i,o,!0,!1,f):w(t,r,n,i,o,s,a,u,f)},I=(e,t,r,n,i,o,s,a,u)=>{let l=0;const c=t.length;let f=e.length-1,h=c-1;for(;l<=f&&l<=h;){const n=e[l],c=t[l]=u?cloneIfMounted(t[l]):normalizeVNode(t[l]);if(!isSameVNodeType(n,c))break;g(n,c,r,null,i,o,s,a,u),l++}for(;l<=f&&l<=h;){const n=e[f],l=t[h]=u?cloneIfMounted(t[h]):normalizeVNode(t[h]);if(!isSameVNodeType(n,l))break;g(n,l,r,null,i,o,s,a,u),f--,h--}if(l>f){if(l<=h){const e=h+1,f=e<c?t[e].el:n;for(;l<=h;)g(null,t[l]=u?cloneIfMounted(t[l]):normalizeVNode(t[l]),r,f,i,o,s,a,u),l++}}else if(l>h)for(;l<=f;)B(e[l],i,o,!0),l++;else{const d=l,p=l,m=new Map;for(l=p;l<=h;l++){const e=t[l]=u?cloneIfMounted(t[l]):normalizeVNode(t[l]);null!=e.key&&m.set(e.key,l)}let y,b=0;const v=h-p+1;let _=!1,$=0;const w=new Array(v);for(l=0;l<v;l++)w[l]=0;for(l=d;l<=f;l++){const n=e[l];if(b>=v){B(n,i,o,!0);continue}let c;if(null!=n.key)c=m.get(n.key);else for(y=p;y<=h;y++)if(0===w[y-p]&&isSameVNodeType(n,t[y])){c=y;break}void 0===c?B(n,i,o,!0):(w[c-p]=l+1,c>=$?$=c:_=!0,g(n,t[c],r,null,i,o,s,a,u),b++)}const E=_?getSequence(w):EMPTY_ARR;for(y=E.length-1,l=v-1;l>=0;l--){const e=p+l,f=t[e],h=e+1<c?t[e+1].el:n;0===w[l]?g(null,f,r,h,i,o,s,a,u):_&&(y<0||l!==E[y]?O(f,r,h,2):y--)}}},O=(e,t,n,i,o=null)=>{const{el:s,type:a,transition:u,children:l,shapeFlag:c}=e;if(6&c)return void O(e.component.subTree,t,n,i);if(128&c)return void e.suspense.move(t,n,i);if(64&c)return void a.move(e,t,n,W);if(a===Fragment$1){r(s,t,n);for(let e=0;e<l.length;e++)O(l[e],t,n,i);return void r(e.anchor,t,n)}if(a===Static)return void(({el:e,anchor:t},n,i)=>{let o;for(;e&&e!==t;)o=f(e),r(e,n,i),e=o;r(t,n,i)})(e,t,n);if(2!==i&&1&c&&u)if(0===i)u.beforeEnter(s),r(s,t,n),queuePostRenderEffect((()=>u.enter(s)),o);else{const{leave:e,delayLeave:i,afterLeave:o}=u,a=()=>r(s,t,n),l=()=>{e(s,(()=>{a(),o&&o()}))};i?i(s,a,l):l()}else r(s,t,n)},B=(e,t,r,n=!1,i=!1)=>{const{type:o,props:s,ref:a,children:u,dynamicChildren:l,shapeFlag:c,patchFlag:f,dirs:h}=e;if(null!=a&&setRef(a,null,r,e,!0),256&c)return void t.ctx.deactivate(e);const d=1&c&&h,p=!isAsyncWrapper(e);let g;if(p&&(g=s&&s.onVnodeBeforeUnmount)&&invokeVNodeHook(g,t,e),6&c)U(e.component,r,n);else{if(128&c)return void e.suspense.unmount(r,n);d&&invokeDirectiveHook(e,null,t,"beforeUnmount"),64&c?e.type.remove(e,t,r,i,W,n):l&&(o!==Fragment$1||f>0&&64&f)?F(l,t,r,!1,!0):(o===Fragment$1&&384&f||!i&&16&c)&&F(u,t,r),n&&L(e)}(p&&(g=s&&s.onVnodeUnmounted)||d)&&queuePostRenderEffect((()=>{g&&invokeVNodeHook(g,t,e),d&&invokeDirectiveHook(e,null,t,"unmounted")}),r)},L=e=>{const{type:t,el:r,anchor:i,transition:o}=e;if(t===Fragment$1)return void D(r,i);if(t===Static)return void(({el:e,anchor:t})=>{let r;for(;e&&e!==t;)r=f(e),n(e),e=r;n(t)})(e);const s=()=>{n(r),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&e.shapeFlag&&o&&!o.persisted){const{leave:t,delayLeave:n}=o,i=()=>t(r,s);n?n(e.el,s,i):i()}else s()},D=(e,t)=>{let r;for(;e!==t;)r=f(e),n(e),e=r;n(t)},U=(e,t,r)=>{const{bum:n,scope:i,update:o,subTree:s,um:a}=e;n&&invokeArrayFns(n),i.stop(),o&&(o.active=!1,B(s,e,t,r)),a&&queuePostRenderEffect(a,t),queuePostRenderEffect((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},F=(e,t,r,n=!1,i=!1,o=0)=>{for(let s=o;s<e.length;s++)B(e[s],t,r,n,i)},j=e=>6&e.shapeFlag?j(e.component.subTree):128&e.shapeFlag?e.suspense.next():f(e.anchor||e.el),H=(e,t,r)=>{null==e?t._vnode&&B(t._vnode,null,null,!0):g(t._vnode||null,e,t,null,null,null,r),flushPostFlushCbs(),t._vnode=e},W={p:g,um:B,m:O,r:L,mt:x,mc:w,pc:M,pbc:S,n:j,o:e};let z,q;return t&&([z,q]=t(W)),{render:H,hydrate:z,createApp:createAppAPI(H,z)}}function toggleRecurse({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function traverseStaticChildren(e,t,r=!1){const n=e.children,i=t.children;if(isArray$8(n)&&isArray$8(i))for(let o=0;o<n.length;o++){const e=n[o];let t=i[o];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=i[o]=cloneIfMounted(i[o]),t.el=e.el),r||traverseStaticChildren(e,t))}}function getSequence(e){const t=e.slice(),r=[0];let n,i,o,s,a;const u=e.length;for(n=0;n<u;n++){const u=e[n];if(0!==u){if(i=r[r.length-1],e[i]<u){t[n]=i,r.push(n);continue}for(o=0,s=r.length-1;o<s;)a=o+s>>1,e[r[a]]<u?o=a+1:s=a;u<e[r[o]]&&(o>0&&(t[n]=r[o-1]),r[o]=n)}}for(o=r.length,s=r[o-1];o-- >0;)r[o]=s,s=t[s];return r}const isTeleport=e=>e.__isTeleport,isTeleportDisabled=e=>e&&(e.disabled||""===e.disabled),isTargetSVG=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,resolveTarget=(e,t)=>{const r=e&&e.to;if(isString$1(r)){if(t){return t(r)}return null}return r},TeleportImpl={__isTeleport:!0,process(e,t,r,n,i,o,s,a,u,l){const{mc:c,pc:f,pbc:h,o:{insert:d,querySelector:p,createText:g,createComment:m}}=l,y=isTeleportDisabled(t.props);let{shapeFlag:b,children:v,dynamicChildren:_}=t;if(null==e){const e=t.el=g(""),l=t.anchor=g("");d(e,r,n),d(l,r,n);const f=t.target=resolveTarget(t.props,p),h=t.targetAnchor=g("");f&&(d(h,f),s=s||isTargetSVG(f));const m=(e,t)=>{16&b&&c(v,e,t,i,o,s,a,u)};y?m(r,l):f&&m(f,h)}else{t.el=e.el;const n=t.anchor=e.anchor,c=t.target=e.target,d=t.targetAnchor=e.targetAnchor,g=isTeleportDisabled(e.props),m=g?r:c,b=g?n:d;if(s=s||isTargetSVG(c),_?(h(e.dynamicChildren,_,m,i,o,s,a),traverseStaticChildren(e,t,!0)):u||f(e,t,m,b,i,o,s,a,!1),y)g||moveTeleport(t,r,n,l,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=resolveTarget(t.props,p);e&&moveTeleport(t,e,null,l,0)}else g&&moveTeleport(t,c,d,l,1)}},remove(e,t,r,n,{um:i,o:{remove:o}},s){const{shapeFlag:a,children:u,anchor:l,targetAnchor:c,target:f,props:h}=e;if(f&&o(c),(s||!isTeleportDisabled(h))&&(o(l),16&a))for(let d=0;d<u.length;d++){const e=u[d];i(e,t,r,!0,!!e.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(e,t,r,{o:{insert:n},m:i},o=2){0===o&&n(e.targetAnchor,t,r);const{el:s,anchor:a,shapeFlag:u,children:l,props:c}=e,f=2===o;if(f&&n(s,t,r),(!f||isTeleportDisabled(c))&&16&u)for(let h=0;h<l.length;h++)i(l[h],t,r,2);f&&n(a,t,r)}function hydrateTeleport(e,t,r,n,i,o,{o:{nextSibling:s,parentNode:a,querySelector:u}},l){const c=t.target=resolveTarget(t.props,u);if(c){const u=c._lpa||c.firstChild;16&t.shapeFlag&&(isTeleportDisabled(t.props)?(t.anchor=l(s(e),t,a(e),r,n,i,o),t.targetAnchor=u):(t.anchor=s(e),t.targetAnchor=l(u,t,c,r,n,i,o)),c._lpa=t.targetAnchor&&s(t.targetAnchor))}return t.anchor&&s(t.anchor)}const Teleport=exports("T",TeleportImpl),COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(e,t){return resolveAsset(COMPONENTS,e,!0,t)||e}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveDynamicComponent(e){return isString$1(e)?resolveAsset(COMPONENTS,e,!1)||e:e||NULL_DYNAMIC_COMPONENT}function resolveDirective(e){return resolveAsset(DIRECTIVES,e)}function resolveAsset(e,t,r=!0,n=!1){const i=currentRenderingInstance||currentInstance;if(i){const r=i.type;if(e===COMPONENTS){const e=getComponentName(r);if(e&&(e===t||e===camelize(t)||e===capitalize(camelize(t))))return r}const o=resolve(i[e]||r[e],t)||resolve(i.appContext[e],t);return!o&&n?r:o}}function resolve(e,t){return e&&(e[t]||e[camelize(t)]||e[capitalize(camelize(t))])}const Fragment$1=exports("F",Symbol(void 0)),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e){isBlockTreeEnabled+=e}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,r,n,i,o){return setupBlock(createBaseVNode(e,t,r,n,i,o,!0))}function createBlock(e,t,r,n,i){return setupBlock(createVNode(e,t,r,n,i,!0))}function isVNode(e){return!!e&&!0===e.__v_isVNode}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}const InternalObjectKey="__vInternal",normalizeKey=({key:e})=>null!=e?e:null,normalizeRef=({ref:e,ref_key:t,ref_for:r})=>null!=e?isString$1(e)||isRef(e)||isFunction$4(e)?{i:currentRenderingInstance,r:e,k:t,f:!!r}:e:null;function createBaseVNode(e,t=null,r=null,n=0,i=null,o=(e===Fragment$1?0:1),s=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null};return a?(normalizeChildren(u,r),128&o&&e.normalize(u)):r&&(u.shapeFlag|=isString$1(r)?8:16),isBlockTreeEnabled>0&&!s&&currentBlock&&(u.patchFlag>0||6&o)&&32!==u.patchFlag&&currentBlock.push(u),u}const createVNode=exports("i",_createVNode);function _createVNode(e,t=null,r=null,n=0,i=null,o=!1){if(e&&e!==NULL_DYNAMIC_COMPONENT||(e=Comment),isVNode(e)){const n=cloneVNode(e,t,!0);return r&&normalizeChildren(n,r),n}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:e,style:r}=t;e&&!isString$1(e)&&(t.class=normalizeClass(e)),isObject$4(r)&&(isProxy(r)&&!isArray$8(r)&&(r=extend$4({},r)),t.style=normalizeStyle(r))}return createBaseVNode(e,t,r,n,i,isString$1(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject$4(e)?4:isFunction$4(e)?2:0,o,!0)}function guardReactiveProps(e){return e?isProxy(e)||InternalObjectKey in e?extend$4({},e):e:null}function cloneVNode(e,t,r=!1){const{props:n,ref:i,patchFlag:o,children:s}=e,a=t?mergeProps(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&normalizeKey(a),ref:t&&t.ref?r&&i?isArray$8(i)?i.concat(normalizeRef(t)):[i,normalizeRef(t)]:normalizeRef(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment$1?-1===o?16:16|o:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor}}function createTextVNode(e=" ",t=0){return createVNode(Text,null,e,t)}function createStaticVNode(e,t){const r=createVNode(Static,null,e);return r.staticCount=t,r}function createCommentVNode(e="",t=!1){return t?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return null==e||"boolean"==typeof e?createVNode(Comment):isArray$8(e)?createVNode(Fragment$1,null,e.slice()):"object"==typeof e?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return null===e.el||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let r=0;const{shapeFlag:n}=e;if(null==t)t=null;else if(isArray$8(t))r=16;else if("object"==typeof t){if(65&n){const r=t.default;return void(r&&(r._c&&(r._d=!1),normalizeChildren(e,r()),r._c&&(r._d=!0)))}{r=32;const n=t._;n||InternalObjectKey in t?3===n&&currentRenderingInstance&&(1===currentRenderingInstance.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=currentRenderingInstance}}else isFunction$4(t)?(t={default:t,_ctx:currentRenderingInstance},r=32):(t=String(t),64&n?(r=16,t=[createTextVNode(t)]):r=8);e.children=t,e.shapeFlag|=r}function mergeProps(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const e in n)if("class"===e)t.class!==n.class&&(t.class=normalizeClass([t.class,n.class]));else if("style"===e)t.style=normalizeStyle([t.style,n.style]);else if(isOn(e)){const r=t[e],i=n[e];!i||r===i||isArray$8(r)&&r.includes(i)||(t[e]=r?[].concat(r,i):i)}else""!==e&&(t[e]=n[e])}return t}function invokeVNodeHook(e,t,r,n=null){callWithAsyncErrorHandling(e,t,7,[r,n])}function renderList(e,t,r,n){let i;const o=r&&r[n];if(isArray$8(e)||isString$1(e)){i=new Array(e.length);for(let r=0,n=e.length;r<n;r++)i[r]=t(e[r],r,void 0,o&&o[r])}else if("number"==typeof e){i=new Array(e);for(let r=0;r<e;r++)i[r]=t(r+1,r,void 0,o&&o[r])}else if(isObject$4(e))if(e[Symbol.iterator])i=Array.from(e,((e,r)=>t(e,r,void 0,o&&o[r])));else{const r=Object.keys(e);i=new Array(r.length);for(let n=0,s=r.length;n<s;n++){const s=r[n];i[n]=t(e[s],s,n,o&&o[n])}}else i=[];return r&&(r[n]=i),i}function createSlots(e,t){for(let r=0;r<t.length;r++){const n=t[r];if(isArray$8(n))for(let t=0;t<n.length;t++)e[n[t].name]=n[t].fn;else n&&(e[n.name]=n.fn)}return e}function renderSlot(e,t,r={},n,i){if(currentRenderingInstance.isCE)return createVNode("slot","default"===t?null:{name:t},n&&n());let o=e[t];o&&o._c&&(o._d=!1),openBlock();const s=o&&ensureValidVNode(o(r)),a=createBlock(Fragment$1,{key:r.key||`_${t}`},s||(n?n():[]),s&&1===e._?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function ensureValidVNode(e){return e.some((e=>!isVNode(e)||e.type!==Comment&&!(e.type===Fragment$1&&!ensureValidVNode(e.children))))?e:null}function toHandlers(e){const t={};for(const r in e)t[toHandlerKey(r)]=e[r];return t}const getPublicInstance=e=>e?isStatefulComponent(e)?getExposeProxy(e)||e.proxy:getPublicInstance(e.parent):null,publicPropertiesMap=extend$4(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>()=>queueJob(e.update),$nextTick:e=>nextTick.bind(e.proxy),$watch:e=>instanceWatch.bind(e)}),PublicInstanceProxyHandlers={get({_:e},t){const{ctx:r,setupState:n,data:i,props:o,accessCache:s,type:a,appContext:u}=e;let l;if("$"!==t[0]){const a=s[t];if(void 0!==a)switch(a){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return o[t]}else{if(n!==EMPTY_OBJ&&hasOwn$1(n,t))return s[t]=1,n[t];if(i!==EMPTY_OBJ&&hasOwn$1(i,t))return s[t]=2,i[t];if((l=e.propsOptions[0])&&hasOwn$1(l,t))return s[t]=3,o[t];if(r!==EMPTY_OBJ&&hasOwn$1(r,t))return s[t]=4,r[t];shouldCacheAccess&&(s[t]=0)}}const c=publicPropertiesMap[t];let f,h;return c?("$attrs"===t&&track(e,"get",t),c(e)):(f=a.__cssModules)&&(f=f[t])?f:r!==EMPTY_OBJ&&hasOwn$1(r,t)?(s[t]=4,r[t]):(h=u.config.globalProperties,hasOwn$1(h,t)?h[t]:void 0)},set({_:e},t,r){const{data:n,setupState:i,ctx:o}=e;return i!==EMPTY_OBJ&&hasOwn$1(i,t)?(i[t]=r,!0):n!==EMPTY_OBJ&&hasOwn$1(n,t)?(n[t]=r,!0):!hasOwn$1(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(o[t]=r,!0))},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,propsOptions:o}},s){let a;return!!r[s]||e!==EMPTY_OBJ&&hasOwn$1(e,s)||t!==EMPTY_OBJ&&hasOwn$1(t,s)||(a=o[0])&&hasOwn$1(a,s)||hasOwn$1(n,s)||hasOwn$1(publicPropertiesMap,s)||hasOwn$1(i.config.globalProperties,s)},defineProperty(e,t,r){return null!=r.get?this.set(e,t,r.get(),null):null!=r.value&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}},emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||emptyAppContext,o={uid:uid$1++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(n,i),emitsOptions:normalizeEmitsOptions(n,i),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:n.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=emit$1.bind(null,o),e.ce&&e.ce(o),o}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=e=>{currentInstance=e,e.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(e){return 4&e.vnode.shapeFlag}let isInSSRComponentSetup=!1,compile;function setupComponent(e,t=!1){isInSSRComponentSetup=t;const{props:r,children:n}=e.vnode,i=isStatefulComponent(e);initProps(e,r,i,t),initSlots(e,n);const o=i?setupStatefulComponent(e,t):void 0;return isInSSRComponentSetup=!1,o}function setupStatefulComponent(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=markRaw(new Proxy(e.ctx,PublicInstanceProxyHandlers));const{setup:n}=r;if(n){const r=e.setupContext=n.length>1?createSetupContext(e):null;setCurrentInstance(e),pauseTracking();const i=callWithErrorHandling(n,e,0,[e.props,r]);if(resetTracking(),unsetCurrentInstance(),isPromise$1(i)){if(i.then(unsetCurrentInstance,unsetCurrentInstance),t)return i.then((r=>{handleSetupResult(e,r,t)})).catch((t=>{handleError(t,e,0)}));e.asyncDep=i}else handleSetupResult(e,i,t)}else finishComponentSetup(e,t)}function handleSetupResult(e,t,r){isFunction$4(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject$4(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e,r)}function finishComponentSetup(e,t,r){const n=e.type;if(!e.render){if(!t&&compile&&!n.render){const t=n.template;if(t){const{isCustomElement:r,compilerOptions:i}=e.appContext.config,{delimiters:o,compilerOptions:s}=n,a=extend$4(extend$4({isCustomElement:r,delimiters:o},i),s);n.render=compile(t,a)}}e.render=n.render||NOOP}setCurrentInstance(e),pauseTracking(),applyOptions(e),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(e){return new Proxy(e.attrs,{get:(t,r)=>(track(e,"get","$attrs"),t[r])})}function createSetupContext(e){const t=t=>{e.exposed=t||{}};let r;return{get attrs(){return r||(r=createAttrsProxy(e))},slots:e.slots,emit:e.emit,expose:t}}function getExposeProxy(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get:(t,r)=>r in t?t[r]:r in publicPropertiesMap?publicPropertiesMap[r](e):void 0}))}function getComponentName(e){return isFunction$4(e)&&e.displayName||e.name}function isClassComponent(e){return isFunction$4(e)&&"__vccOpts"in e}const computed=exports("x",((e,t)=>computed$1(e,t,isInSSRComponentSetup)));function useSlots(){return getContext().slots}function getContext(){const e=getCurrentInstance();return e.setupContext||(e.setupContext=createSetupContext(e))}function h$4(e,t,r){const n=arguments.length;return 2===n?isObject$4(t)&&!isArray$8(t)?isVNode(t)?createVNode(e,null,[t]):createVNode(e,t):createVNode(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):3===n&&isVNode(r)&&(r=[r]),createVNode(e,t,r))}const version$1t="3.2.31",svgNS="http://www.w3.org/2000/svg",doc="undefined"!=typeof document?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t?doc.createElementNS(svgNS,e):doc.createElement(e,r?{is:r}:void 0);return"select"===e&&n&&null!=n.multiple&&i.setAttribute("multiple",n.multiple),i},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,r,n,i,o){const s=r?r.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),i!==o&&(i=i.nextSibling););else{templateContainer.innerHTML=n?`<svg>${e}</svg>`:e;const i=templateContainer.content;if(n){const e=i.firstChild;for(;e.firstChild;)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,r)}return[s?s.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function patchClass(e,t,r){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),null==t?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function patchStyle(e,t,r){const n=e.style,i=isString$1(r);if(r&&!i){for(const e in r)setStyle(n,e,r[e]);if(t&&!isString$1(t))for(const e in t)null==r[e]&&setStyle(n,e,"")}else{const o=n.display;i?t!==r&&(n.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=o)}}const importantRE=/\s*!important$/;function setStyle(e,t,r){if(isArray$8(r))r.forEach((r=>setStyle(e,t,r)));else if(t.startsWith("--"))e.setProperty(t,r);else{const n=autoPrefix(e,t);importantRE.test(r)?e.setProperty(hyphenate(n),r.replace(importantRE,""),"important"):e[n]=r}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const r=prefixCache[t];if(r)return r;let n=camelize(t);if("filter"!==n&&n in e)return prefixCache[t]=n;n=capitalize(n);for(let i=0;i<prefixes.length;i++){const r=prefixes[i]+n;if(r in e)return prefixCache[t]=r}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,r,n,i){if(n&&t.startsWith("xlink:"))null==r?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,r);else{const n=isSpecialBooleanAttr(t);null==r||n&&!includeBooleanAttr(r)?e.removeAttribute(t):e.setAttribute(t,n?"":r)}}function patchDOMProp(t,r,n,i,o,s,a){if("innerHTML"===r||"textContent"===r)return i&&a(i,o,s),void(t[r]=null==n?"":n);if("value"===r&&"PROGRESS"!==t.tagName&&!t.tagName.includes("-")){t._value=n;const e=null==n?"":n;return t.value===e&&"OPTION"!==t.tagName||(t.value=e),void(null==n&&t.removeAttribute(r))}if(""===n||null==n){const e=typeof t[r];if("boolean"===e)return void(t[r]=includeBooleanAttr(n));if(null==n&&"string"===e)return t[r]="",void t.removeAttribute(r);if("number"===e){try{t[r]=0}catch(u){}return void t.removeAttribute(r)}}try{t[r]=n}catch(e){}}let _getNow=Date.now,skipTimestampCheck=!1;if("undefined"!=typeof window){_getNow()>document.createEvent("Event").timeStamp&&(_getNow=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);skipTimestampCheck=!!(e&&Number(e[1])<=53)}let cachedNow=0;const p$4=Promise.resolve(),reset=()=>{cachedNow=0},getNow=()=>cachedNow||(p$4.then(reset),cachedNow=_getNow());function addEventListener$1(e,t,r,n){e.addEventListener(t,r,n)}function removeEventListener$1(e,t,r,n){e.removeEventListener(t,r,n)}function patchEvent(e,t,r,n,i=null){const o=e._vei||(e._vei={}),s=o[t];if(n&&s)s.value=n;else{const[r,a]=parseName(t);if(n){addEventListener$1(e,r,o[t]=createInvoker(n,i),a)}else s&&(removeEventListener$1(e,r,s,a),o[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){let r;for(t={};r=e.match(optionsModifierRE);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[hyphenate(e.slice(2)),t]}function createInvoker(e,t){const r=e=>{const n=e.timeStamp||_getNow();(skipTimestampCheck||n>=r.attached-1)&&callWithAsyncErrorHandling(patchStopImmediatePropagation(e,r.value),t,5,[e])};return r.value=e,r.attached=getNow(),r}function patchStopImmediatePropagation(e,t){if(isArray$8(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}const nativeOnRE=/^on[a-z]/,patchProp=(e,t,r,n,i=!1,o,s,a,u)=>{"class"===t?patchClass(e,n,i):"style"===t?patchStyle(e,r,n):isOn(t)?isModelListener(t)||patchEvent(e,t,r,n,s):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):shouldSetAsProp(e,t,n,i))?patchDOMProp(e,t,n,o,s,a,u):("true-value"===t?e._trueValue=n:"false-value"===t&&(e._falseValue=n),patchAttr(e,t,n,i))};function shouldSetAsProp(e,t,r,n){return n?"innerHTML"===t||"textContent"===t||!!(t in e&&nativeOnRE.test(t)&&isFunction$4(r)):"spellcheck"!==t&&"draggable"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!nativeOnRE.test(t)||!isString$1(r))&&t in e))))}const TRANSITION$1="transition",ANIMATION="animation",Transition=exports("Z",((e,{slots:t})=>h$4(BaseTransition,resolveTransitionProps(e),t)));Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend$4({},BaseTransition.props,DOMTransitionPropsValidators),callHook=(e,t=[])=>{isArray$8(e)?e.forEach((e=>e(...t))):e&&e(...t)},hasExplicitCallback=e=>!!e&&(isArray$8(e)?e.some((e=>e.length>1)):e.length>1);function resolveTransitionProps(e){const t={};for(const x in e)x in DOMTransitionPropsValidators||(t[x]=e[x]);if(!1===e.css)return t;const{name:r="v",type:n,duration:i,enterFromClass:o=`${r}-enter-from`,enterActiveClass:s=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:u=o,appearActiveClass:l=s,appearToClass:c=a,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:h=`${r}-leave-active`,leaveToClass:d=`${r}-leave-to`}=e,p=normalizeDuration(i),g=p&&p[0],m=p&&p[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:v,onLeave:_,onLeaveCancelled:$,onBeforeAppear:w=y,onAppear:E=b,onAppearCancelled:S=v}=t,A=(e,t,r)=>{removeTransitionClass(e,t?c:a),removeTransitionClass(e,t?l:s),r&&r()},R=(e,t)=>{removeTransitionClass(e,d),removeTransitionClass(e,h),t&&t()},N=e=>(t,r)=>{const i=e?E:b,s=()=>A(t,e,r);callHook(i,[t,s]),nextFrame((()=>{removeTransitionClass(t,e?u:o),addTransitionClass(t,e?c:a),hasExplicitCallback(i)||whenTransitionEnds(t,n,g,s)}))};return extend$4(t,{onBeforeEnter(e){callHook(y,[e]),addTransitionClass(e,o),addTransitionClass(e,s)},onBeforeAppear(e){callHook(w,[e]),addTransitionClass(e,u),addTransitionClass(e,l)},onEnter:N(!1),onAppear:N(!0),onLeave(e,t){const r=()=>R(e,t);addTransitionClass(e,f),forceReflow(),addTransitionClass(e,h),nextFrame((()=>{removeTransitionClass(e,f),addTransitionClass(e,d),hasExplicitCallback(_)||whenTransitionEnds(e,n,m,r)})),callHook(_,[e,r])},onEnterCancelled(e){A(e,!1),callHook(v,[e])},onAppearCancelled(e){A(e,!0),callHook(S,[e])},onLeaveCancelled(e){R(e),callHook($,[e])}})}function normalizeDuration(e){if(null==e)return null;if(isObject$4(e))return[NumberOf(e.enter),NumberOf(e.leave)];{const t=NumberOf(e);return[t,t]}}function NumberOf(e){return toNumber(e)}function addTransitionClass(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function removeTransitionClass(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:r}=e;r&&(r.delete(t),r.size||(e._vtc=void 0))}function nextFrame(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let endId=0;function whenTransitionEnds(e,t,r,n){const i=e._endId=++endId,o=()=>{i===e._endId&&n()};if(r)return setTimeout(o,r);const{type:s,timeout:a,propCount:u}=getTransitionInfo(e,t);if(!s)return n();const l=s+"end";let c=0;const f=()=>{e.removeEventListener(l,h),o()},h=t=>{t.target===e&&++c>=u&&f()};setTimeout((()=>{c<u&&f()}),a+1),e.addEventListener(l,h)}function getTransitionInfo(e,t){const r=window.getComputedStyle(e),n=e=>(r[e]||"").split(", "),i=n(TRANSITION$1+"Delay"),o=n(TRANSITION$1+"Duration"),s=getTimeout(i,o),a=n(ANIMATION+"Delay"),u=n(ANIMATION+"Duration"),l=getTimeout(a,u);let c=null,f=0,h=0;t===TRANSITION$1?s>0&&(c=TRANSITION$1,f=s,h=o.length):t===ANIMATION?l>0&&(c=ANIMATION,f=l,h=u.length):(f=Math.max(s,l),c=f>0?s>l?TRANSITION$1:ANIMATION:null,h=c?c===TRANSITION$1?o.length:u.length:0);return{type:c,timeout:f,propCount:h,hasTransform:c===TRANSITION$1&&/\b(transform|all)(,|$)/.test(r[TRANSITION$1+"Property"])}}function getTimeout(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,r)=>toMs(t)+toMs(e[r]))))}function toMs(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function forceReflow(){return document.body.offsetHeight}const positionMap=new WeakMap,newPositionMap=new WeakMap,TransitionGroupImpl={name:"TransitionGroup",props:extend$4({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=getCurrentInstance(),n=useTransitionState();let i,o;return onUpdated((()=>{if(!i.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!hasCSSTransform(i[0].el,r.vnode.el,t))return;i.forEach(callPendingCbs),i.forEach(recordPosition);const n=i.filter(applyTranslation);forceReflow(),n.forEach((e=>{const r=e.el,n=r.style;addTransitionClass(r,t),n.transform=n.webkitTransform=n.transitionDuration="";const i=r._moveCb=e=>{e&&e.target!==r||e&&!/transform$/.test(e.propertyName)||(r.removeEventListener("transitionend",i),r._moveCb=null,removeTransitionClass(r,t))};r.addEventListener("transitionend",i)}))})),()=>{const s=toRaw(e),a=resolveTransitionProps(s);let u=s.tag||Fragment$1;i=o,o=t.default?getTransitionRawChildren(t.default()):[];for(let e=0;e<o.length;e++){const t=o[e];null!=t.key&&setTransitionHooks(t,resolveTransitionHooks(t,a,n,r))}if(i)for(let e=0;e<i.length;e++){const t=i[e];setTransitionHooks(t,resolveTransitionHooks(t,a,n,r)),positionMap.set(t,t.el.getBoundingClientRect())}return createVNode(u,null,o)}}},TransitionGroup=TransitionGroupImpl;function callPendingCbs(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function recordPosition(e){newPositionMap.set(e,e.el.getBoundingClientRect())}function applyTranslation(e){const t=positionMap.get(e),r=newPositionMap.get(e),n=t.left-r.left,i=t.top-r.top;if(n||i){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${n}px,${i}px)`,t.transitionDuration="0s",e}}function hasCSSTransform(e,t,r){const n=e.cloneNode();e._vtc&&e._vtc.forEach((e=>{e.split(/\s+/).forEach((e=>e&&n.classList.remove(e)))})),r.split(/\s+/).forEach((e=>e&&n.classList.add(e))),n.style.display="none";const i=1===t.nodeType?t:t.parentNode;i.appendChild(n);const{hasTransform:o}=getTransitionInfo(n);return i.removeChild(n),o}const getModelAssigner=e=>{const t=e.props["onUpdate:modelValue"];return isArray$8(t)?e=>invokeArrayFns(t,e):t};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const t=e.target;t.composing&&(t.composing=!1,trigger(t,"input"))}function trigger(e,t){const r=document.createEvent("HTMLEvents");r.initEvent(t,!0,!0),e.dispatchEvent(r)}const vModelText=exports("S",{created(e,{modifiers:{lazy:t,trim:r,number:n}},i){e._assign=getModelAssigner(i);const o=n||i.props&&"number"===i.props.type;addEventListener$1(e,t?"change":"input",(t=>{if(t.target.composing)return;let n=e.value;r?n=n.trim():o&&(n=toNumber(n)),e._assign(n)})),r&&addEventListener$1(e,"change",(()=>{e.value=e.value.trim()})),t||(addEventListener$1(e,"compositionstart",onCompositionStart),addEventListener$1(e,"compositionend",onCompositionEnd),addEventListener$1(e,"change",onCompositionEnd))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:r,trim:n,number:i}},o){if(e._assign=getModelAssigner(o),e.composing)return;if(document.activeElement===e){if(r)return;if(n&&e.value.trim()===t)return;if((i||"number"===e.type)&&toNumber(e.value)===t)return}const s=null==t?"":t;e.value!==s&&(e.value=s)}}),systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>systemModifiers.some((r=>e[`${r}Key`]&&!t.includes(r)))},withModifiers=(e,t)=>(r,...n)=>{for(let e=0;e<t.length;e++){const n=modifierGuards[t[e]];if(n&&n(r,t))return}return e(r,...n)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=exports("a4",((e,t)=>r=>{if(!("key"in r))return;const n=hyphenate(r.key);return t.some((e=>e===n||keyNames[e]===n))?e(r):void 0})),rendererOptions=extend$4({patchProp:patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=exports("e",((...e)=>{const t=ensureRenderer().createApp(...e),{mount:r}=t;return t.mount=e=>{const n=normalizeContainer(e);if(!n)return;const i=t._component;isFunction$4(i)||i.render||i.template||(i.template=n.innerHTML),n.innerHTML="";const o=r(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t}));function normalizeContainer(e){if(isString$1(e)){return document.querySelector(e)}return e}var bn$4={exports:{}},module;module=bn$4,function(t,r){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof t?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require("buffer").Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function l(e,t,r,n){for(var i=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,c=r;c<a;c+=n)u=l(e,c,c+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=l(e,c,e.length,t),c=0;c<s;c++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var l=1;l<n;l++){for(var c=u>>>26,f=67108863&u,h=Math.min(l,t.length-1),d=Math.max(0,l-e.length+1);d<=h;d++){var p=l-d|0;c+=(s=(i=0|e.words[p])*(o=0|t.words[d])+f)/67108864|0,f=67108863&s}r.words[l]=0|f,u=0|c}return 0!==u?r.words[l]=0|u:r.length--,r.strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!=(o=a>>>24-i&16777215)||s!==this.length-1?c[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var l=f[e],d=h[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(d).toString(e);r=(p=p.idivn(d)).isZero()?g+r:c[l-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return n(void 0!==s),this.toArrayLike(s,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===t,l=new e(o),c=this.clone();if(u){for(a=0;!c.isZero();a++)s=c.andln(255),c.iushrn(8),l[a]=s;for(;a<o;a++)l[a]=0}else{for(a=0;a<o-i;a++)l[a]=0;for(a=0;!c.isZero();a++)s=c.andln(255),c.iushrn(8),l[o-a-1]=s}return l},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,o,s=e.words,a=t.words,u=r.words,l=0,c=0|s[0],f=8191&c,h=c>>>13,d=0|s[1],p=8191&d,g=d>>>13,m=0|s[2],y=8191&m,b=m>>>13,v=0|s[3],_=8191&v,$=v>>>13,w=0|s[4],E=8191&w,S=w>>>13,A=0|s[5],R=8191&A,N=A>>>13,x=0|s[6],k=8191&x,C=x>>>13,T=0|s[7],M=8191&T,P=T>>>13,I=0|s[8],O=8191&I,B=I>>>13,L=0|s[9],D=8191&L,U=L>>>13,F=0|a[0],j=8191&F,H=F>>>13,W=0|a[1],z=8191&W,q=W>>>13,G=0|a[2],V=8191&G,K=G>>>13,J=0|a[3],Y=8191&J,X=J>>>13,Z=0|a[4],Q=8191&Z,ee=Z>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ue=8191&ae,le=ae>>>13,ce=0|a[8],fe=8191&ce,he=ce>>>13,de=0|a[9],pe=8191&de,ge=de>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(l+(n=Math.imul(f,j))|0)+((8191&(i=(i=Math.imul(f,H))+Math.imul(h,j)|0))<<13)|0;l=((o=Math.imul(h,H))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,H))+Math.imul(g,j)|0,o=Math.imul(g,H);var ye=(l+(n=n+Math.imul(f,z)|0)|0)+((8191&(i=(i=i+Math.imul(f,q)|0)+Math.imul(h,z)|0))<<13)|0;l=((o=o+Math.imul(h,q)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,j),i=(i=Math.imul(y,H))+Math.imul(b,j)|0,o=Math.imul(b,H),n=n+Math.imul(p,z)|0,i=(i=i+Math.imul(p,q)|0)+Math.imul(g,z)|0,o=o+Math.imul(g,q)|0;var be=(l+(n=n+Math.imul(f,V)|0)|0)+((8191&(i=(i=i+Math.imul(f,K)|0)+Math.imul(h,V)|0))<<13)|0;l=((o=o+Math.imul(h,K)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(_,j),i=(i=Math.imul(_,H))+Math.imul($,j)|0,o=Math.imul($,H),n=n+Math.imul(y,z)|0,i=(i=i+Math.imul(y,q)|0)+Math.imul(b,z)|0,o=o+Math.imul(b,q)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(g,V)|0,o=o+Math.imul(g,K)|0;var ve=(l+(n=n+Math.imul(f,Y)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(h,Y)|0))<<13)|0;l=((o=o+Math.imul(h,X)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(E,j),i=(i=Math.imul(E,H))+Math.imul(S,j)|0,o=Math.imul(S,H),n=n+Math.imul(_,z)|0,i=(i=i+Math.imul(_,q)|0)+Math.imul($,z)|0,o=o+Math.imul($,q)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(b,V)|0,o=o+Math.imul(b,K)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(g,Y)|0,o=o+Math.imul(g,X)|0;var _e=(l+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(h,Q)|0))<<13)|0;l=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(R,j),i=(i=Math.imul(R,H))+Math.imul(N,j)|0,o=Math.imul(N,H),n=n+Math.imul(E,z)|0,i=(i=i+Math.imul(E,q)|0)+Math.imul(S,z)|0,o=o+Math.imul(S,q)|0,n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,K)|0)+Math.imul($,V)|0,o=o+Math.imul($,K)|0,n=n+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(b,Y)|0,o=o+Math.imul(b,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,ee)|0;var $e=(l+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(h,re)|0))<<13)|0;l=((o=o+Math.imul(h,ne)|0)+(i>>>13)|0)+($e>>>26)|0,$e&=67108863,n=Math.imul(k,j),i=(i=Math.imul(k,H))+Math.imul(C,j)|0,o=Math.imul(C,H),n=n+Math.imul(R,z)|0,i=(i=i+Math.imul(R,q)|0)+Math.imul(N,z)|0,o=o+Math.imul(N,q)|0,n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,K)|0)+Math.imul(S,V)|0,o=o+Math.imul(S,K)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,X)|0)+Math.imul($,Y)|0,o=o+Math.imul($,X)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(g,re)|0,o=o+Math.imul(g,ne)|0;var we=(l+(n=n+Math.imul(f,oe)|0)|0)+((8191&(i=(i=i+Math.imul(f,se)|0)+Math.imul(h,oe)|0))<<13)|0;l=((o=o+Math.imul(h,se)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(M,j),i=(i=Math.imul(M,H))+Math.imul(P,j)|0,o=Math.imul(P,H),n=n+Math.imul(k,z)|0,i=(i=i+Math.imul(k,q)|0)+Math.imul(C,z)|0,o=o+Math.imul(C,q)|0,n=n+Math.imul(R,V)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(N,V)|0,o=o+Math.imul(N,K)|0,n=n+Math.imul(E,Y)|0,i=(i=i+Math.imul(E,X)|0)+Math.imul(S,Y)|0,o=o+Math.imul(S,X)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul($,Q)|0,o=o+Math.imul($,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(g,oe)|0,o=o+Math.imul(g,se)|0;var Ee=(l+(n=n+Math.imul(f,ue)|0)|0)+((8191&(i=(i=i+Math.imul(f,le)|0)+Math.imul(h,ue)|0))<<13)|0;l=((o=o+Math.imul(h,le)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(O,j),i=(i=Math.imul(O,H))+Math.imul(B,j)|0,o=Math.imul(B,H),n=n+Math.imul(M,z)|0,i=(i=i+Math.imul(M,q)|0)+Math.imul(P,z)|0,o=o+Math.imul(P,q)|0,n=n+Math.imul(k,V)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(C,V)|0,o=o+Math.imul(C,K)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,X)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul($,re)|0,o=o+Math.imul($,ne)|0,n=n+Math.imul(y,oe)|0,i=(i=i+Math.imul(y,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(g,ue)|0,o=o+Math.imul(g,le)|0;var Se=(l+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,he)|0)+Math.imul(h,fe)|0))<<13)|0;l=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(D,j),i=(i=Math.imul(D,H))+Math.imul(U,j)|0,o=Math.imul(U,H),n=n+Math.imul(O,z)|0,i=(i=i+Math.imul(O,q)|0)+Math.imul(B,z)|0,o=o+Math.imul(B,q)|0,n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(P,V)|0,o=o+Math.imul(P,K)|0,n=n+Math.imul(k,Y)|0,i=(i=i+Math.imul(k,X)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,X)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(S,re)|0,o=o+Math.imul(S,ne)|0,n=n+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,se)|0)+Math.imul($,oe)|0,o=o+Math.imul($,se)|0,n=n+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,le)|0)+Math.imul(b,ue)|0,o=o+Math.imul(b,le)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(g,fe)|0,o=o+Math.imul(g,he)|0;var Ae=(l+(n=n+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ge)|0)+Math.imul(h,pe)|0))<<13)|0;l=((o=o+Math.imul(h,ge)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(D,z),i=(i=Math.imul(D,q))+Math.imul(U,z)|0,o=Math.imul(U,q),n=n+Math.imul(O,V)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(B,V)|0,o=o+Math.imul(B,K)|0,n=n+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(P,Y)|0,o=o+Math.imul(P,X)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,ee)|0,n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(N,re)|0,o=o+Math.imul(N,ne)|0,n=n+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,se)|0)+Math.imul(S,oe)|0,o=o+Math.imul(S,se)|0,n=n+Math.imul(_,ue)|0,i=(i=i+Math.imul(_,le)|0)+Math.imul($,ue)|0,o=o+Math.imul($,le)|0,n=n+Math.imul(y,fe)|0,i=(i=i+Math.imul(y,he)|0)+Math.imul(b,fe)|0,o=o+Math.imul(b,he)|0;var Re=(l+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ge)|0)+Math.imul(g,pe)|0))<<13)|0;l=((o=o+Math.imul(g,ge)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(D,V),i=(i=Math.imul(D,K))+Math.imul(U,V)|0,o=Math.imul(U,K),n=n+Math.imul(O,Y)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,X)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(C,re)|0,o=o+Math.imul(C,ne)|0,n=n+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,se)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,se)|0,n=n+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,le)|0)+Math.imul(S,ue)|0,o=o+Math.imul(S,le)|0,n=n+Math.imul(_,fe)|0,i=(i=i+Math.imul(_,he)|0)+Math.imul($,fe)|0,o=o+Math.imul($,he)|0;var Ne=(l+(n=n+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,ge)|0)+Math.imul(b,pe)|0))<<13)|0;l=((o=o+Math.imul(b,ge)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,n=Math.imul(D,Y),i=(i=Math.imul(D,X))+Math.imul(U,Y)|0,o=Math.imul(U,X),n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,se)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,se)|0,n=n+Math.imul(R,ue)|0,i=(i=i+Math.imul(R,le)|0)+Math.imul(N,ue)|0,o=o+Math.imul(N,le)|0,n=n+Math.imul(E,fe)|0,i=(i=i+Math.imul(E,he)|0)+Math.imul(S,fe)|0,o=o+Math.imul(S,he)|0;var xe=(l+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,ge)|0)+Math.imul($,pe)|0))<<13)|0;l=((o=o+Math.imul($,ge)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(D,Q),i=(i=Math.imul(D,ee))+Math.imul(U,Q)|0,o=Math.imul(U,ee),n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,se)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,se)|0,n=n+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,le)|0)+Math.imul(C,ue)|0,o=o+Math.imul(C,le)|0,n=n+Math.imul(R,fe)|0,i=(i=i+Math.imul(R,he)|0)+Math.imul(N,fe)|0,o=o+Math.imul(N,he)|0;var ke=(l+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,ge)|0)+Math.imul(S,pe)|0))<<13)|0;l=((o=o+Math.imul(S,ge)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(D,re),i=(i=Math.imul(D,ne))+Math.imul(U,re)|0,o=Math.imul(U,ne),n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,se)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,se)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,le)|0)+Math.imul(P,ue)|0,o=o+Math.imul(P,le)|0,n=n+Math.imul(k,fe)|0,i=(i=i+Math.imul(k,he)|0)+Math.imul(C,fe)|0,o=o+Math.imul(C,he)|0;var Ce=(l+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ge)|0)+Math.imul(N,pe)|0))<<13)|0;l=((o=o+Math.imul(N,ge)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(D,oe),i=(i=Math.imul(D,se))+Math.imul(U,oe)|0,o=Math.imul(U,se),n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,le)|0)+Math.imul(B,ue)|0,o=o+Math.imul(B,le)|0,n=n+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,he)|0)+Math.imul(P,fe)|0,o=o+Math.imul(P,he)|0;var Te=(l+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ge)|0)+Math.imul(C,pe)|0))<<13)|0;l=((o=o+Math.imul(C,ge)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(D,ue),i=(i=Math.imul(D,le))+Math.imul(U,ue)|0,o=Math.imul(U,le),n=n+Math.imul(O,fe)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(B,fe)|0,o=o+Math.imul(B,he)|0;var Me=(l+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,ge)|0)+Math.imul(P,pe)|0))<<13)|0;l=((o=o+Math.imul(P,ge)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(D,fe),i=(i=Math.imul(D,he))+Math.imul(U,fe)|0,o=Math.imul(U,he);var Pe=(l+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ge)|0)+Math.imul(B,pe)|0))<<13)|0;l=((o=o+Math.imul(B,ge)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Ie=(l+(n=Math.imul(D,pe))|0)+((8191&(i=(i=Math.imul(D,ge))+Math.imul(U,pe)|0))<<13)|0;return l=((o=Math.imul(U,ge))+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,u[0]=me,u[1]=ye,u[2]=be,u[3]=ve,u[4]=_e,u[5]=$e,u[6]=we,u[7]=Ee,u[8]=Se,u[9]=Ae,u[10]=Re,u[11]=Ne,u[12]=xe,u[13]=ke,u[14]=Ce,u[15]=Te,u[16]=Me,u[17]=Pe,u[18]=Ie,0!==l&&(u[19]=l,r.length++),r};function g(e,t,r){return(new m).mulp(e,t,r)}function m(e,t){this.x=e,this.y=t}Math.imul||(p=d),o.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):n<63?d(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,t.length-1),l=Math.max(0,o-e.length+1);l<=u;l++){var c=o-l,f=(0|e.words[c])*(0|t.words[l]),h=67108863&f;a=67108863&(h=h+a|0),i+=(s=(s=s+(f/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):g(this,e,t),r},m.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},m.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},m.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},m.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var f=u,h=l,d=0;d<s;d++){var p=r[c+d],g=n[c+d],m=r[c+d+s],y=n[c+d+s],b=f*m-h*y;y=f*y+h*m,m=b,r[c+d]=p+m,n[c+d]=g+y,r[c+d+s]=p-m,n[c+d+s]=g-y,d!==a&&(b=u*f-l*h,h=u*h+l*f,f=b)}},m.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},m.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},m.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},m.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},m.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),l=new Array(n),c=new Array(n),f=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,l,n),this.transform(s,o,a,u,n,i),this.transform(l,o,c,f,n,i);for(var d=0;d<n;d++){var p=a[d]*c[d]-u[d]*f[d];u[d]=a[d]*f[d]+u[d]*c[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),g(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,u=(0|this.words[t])-a<<r;this.words[t]=u|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var l=0;l<s;l++)u.words[l]=this.words[l];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,l=0;l<this.length;l++)this.words[l]=this.words[l+s];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var f=0|this.words[l];this.words[l]=c<<26-o|f>>>o,c=f&a}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r||!(this.words[r]&i))},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!=(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==t){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var c=n.clone()._ishlnsubmul(i,1,u);0===c.negative&&(n=c,a&&(a.words[u]=1));for(var f=u-1;f>=0;f--){var h=67108864*(0|n.words[i.length+f])+(0|n.words[i.length+f-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(i,h,f);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,f),n.isZero()||(n.negative^=1);a&&(a.words[f]=h)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},o.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),l=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++l;for(var c=r.clone(),f=t.clone();!t.isZero();){for(var h=0,d=1;0==(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(c),s.isub(f)),i.iushrn(1),s.iushrn(1);for(var p=0,g=1;0==(r.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(f)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(u)):(r.isub(t),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,c=1;0==(t.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(t.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var f=0,h=1;0==(r.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(r.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new E(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function $(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function S(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},i(v,b),v.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(_,b),i($,b),i(w,b),w.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new _;else if("p192"===e)t=new $;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new w}return y[e]=t,t},E.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,i),h=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=s;0!==d.cmp(a);){for(var g=d,m=0;0!==g.cmp(a);m++)g=g.redSqr();n(m<p);var y=this.pow(f,new o(1).iushln(p-m-1));h=h.redMul(y),f=y.redSqr(),d=d.redMul(f),p=m}return h},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var l=t.words[n],c=u-1;c>=0;c--){var f=l>>c&1;i!==r[0]&&(i=this.sqr(i)),0!==f||0!==s?(s<<=1,s|=f,(4==++a||0===n&&0===c)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new S(e)},i(S,E),S.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},S.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},S.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},S.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},S.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(module,commonjsGlobal$1);var _BN=bn$4.exports;const version$1s="logger/5.6.0";let _permanentCensorErrors$g=!1,_censorErrors$g=!1;const LogLevels$g={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$g=LogLevels$g.default,_globalLogger$g=null;function _checkNormalize$g(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(error){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(error){return error.message}return null}const _normalizeError$g=_checkNormalize$g();var LogLevel$g,ErrorCode$g;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(LogLevel$g||(LogLevel$g={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(ErrorCode$g||(ErrorCode$g={}));const HEX$g="0123456789abcdef";class Logger$g{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==LogLevels$g[r]&&this.throwArgumentError("invalid log level name","logLevel",e),_logLevel$g>LogLevels$g[r]||console.log.apply(console,t)}debug(...e){this._log(Logger$g.levels.DEBUG,e)}info(...e){this._log(Logger$g.levels.INFO,e)}warn(...e){this._log(Logger$g.levels.WARNING,e)}makeError(e,t,r){if(_censorErrors$g)return this.makeError("censored error",t,{});t||(t=Logger$g.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=HEX$g[t[e]>>4],r+=HEX$g[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(s){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;let o="";switch(t){case ErrorCode$g.NUMERIC_FAULT:{o="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case ErrorCode$g.CALL_EXCEPTION:case ErrorCode$g.INSUFFICIENT_FUNDS:case ErrorCode$g.MISSING_NEW:case ErrorCode$g.NONCE_EXPIRED:case ErrorCode$g.REPLACEMENT_UNDERPRICED:case ErrorCode$g.TRANSACTION_REPLACED:case ErrorCode$g.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Logger$g.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){_normalizeError$g&&this.throwError("platform missing String.prototype.normalize",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$g})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Logger$g.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Logger$g.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Logger$g.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Logger$g.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Logger$g.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Logger$g.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Logger$g.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return _globalLogger$g||(_globalLogger$g=new Logger$g(version$1s)),_globalLogger$g}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$g){if(!e)return;this.globalLogger().throwError("error censorship permanent",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$g=!!e,_permanentCensorErrors$g=!!t}static setLogLevel(e){const t=LogLevels$g[e.toLowerCase()];null!=t?_logLevel$g=t:Logger$g.globalLogger().warn("invalid log level - "+e)}static from(e){return new Logger$g(e)}}Logger$g.errors=ErrorCode$g,Logger$g.levels=LogLevel$g;const version$1r="bytes/5.6.1",logger$1e=new Logger$g(version$1r);function isHexable$e(e){return!!e.toHexString}function addSlice$e(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return addSlice$e(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function isBytesLike$7(e){return isHexString$j(e)&&!(e.length%2)||isBytes$e(e)}function isInteger$e(e){return"number"==typeof e&&e==e&&e%1==0}function isBytes$e(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!isInteger$e(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!isInteger$e(r)||r<0||r>=256)return!1}return!0}function arrayify$e(e,t){if(t||(t={}),"number"==typeof e){logger$1e.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),addSlice$e(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable$e(e)&&(e=e.toHexString()),isHexString$j(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":logger$1e.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return addSlice$e(new Uint8Array(n))}return isBytes$e(e)?addSlice$e(new Uint8Array(e)):logger$1e.throwArgumentError("invalid arrayify value","value",e)}function concat$7(e){const t=e.map((e=>arrayify$e(e))),r=t.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(r);return t.reduce(((e,t)=>(n.set(t,e),e+t.length)),0),addSlice$e(n)}function stripZeros$3(e){let t=arrayify$e(e);if(0===t.length)return t;let r=0;for(;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function zeroPad$4(e,t){(e=arrayify$e(e)).length>t&&logger$1e.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(t);return r.set(e,t-e.length),addSlice$e(r)}function isHexString$j(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}const HexCharacters$9="0123456789abcdef";function hexlify$9(e,t){if(t||(t={}),"number"==typeof e){logger$1e.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=HexCharacters$9[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable$e(e))return e.toHexString();if(isHexString$j(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":logger$1e.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(isBytes$e(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=HexCharacters$9[(240&n)>>4]+HexCharacters$9[15&n]}return t}return logger$1e.throwArgumentError("invalid hexlify value","value",e)}function hexDataLength$3(e){if("string"!=typeof e)e=hexlify$9(e);else if(!isHexString$j(e)||e.length%2)return null;return(e.length-2)/2}function hexDataSlice$4(e,t,r){return"string"!=typeof e?e=hexlify$9(e):(!isHexString$j(e)||e.length%2)&&logger$1e.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function hexConcat$3(e){let t="0x";return e.forEach((e=>{t+=hexlify$9(e).substring(2)})),t}function hexValue$1(e){const t=hexStripZeros$1(hexlify$9(e,{hexPad:"left"}));return"0x"===t?"0x0":t}function hexStripZeros$1(e){"string"!=typeof e&&(e=hexlify$9(e)),isHexString$j(e)||logger$1e.throwArgumentError("invalid hex string","value",e),e=e.substring(2);let t=0;for(;t<e.length&&"0"===e[t];)t++;return"0x"+e.substring(t)}function hexZeroPad$5(e,t){for("string"!=typeof e?e=hexlify$9(e):isHexString$j(e)||logger$1e.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&logger$1e.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function splitSignature$4(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(isBytesLike$7(e)){let r=arrayify$e(e);64===r.length?(t.v=27+(r[32]>>7),r[32]&=127,t.r=hexlify$9(r.slice(0,32)),t.s=hexlify$9(r.slice(32,64))):65===r.length?(t.r=hexlify$9(r.slice(0,32)),t.s=hexlify$9(r.slice(32,64)),t.v=r[64]):logger$1e.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:logger$1e.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=hexlify$9(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){const r=zeroPad$4(arrayify$e(t._vs),32);t._vs=hexlify$9(r);const n=r[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=n:t.recoveryParam!==n&&logger$1e.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),r[0]&=127;const i=hexlify$9(r);null==t.s?t.s=i:t.s!==i&&logger$1e.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?logger$1e.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{const r=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==r&&logger$1e.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&isHexString$j(t.r)?t.r=hexZeroPad$5(t.r,32):logger$1e.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&isHexString$j(t.s)?t.s=hexZeroPad$5(t.s,32):logger$1e.throwArgumentError("signature missing or invalid s","signature",e);const r=arrayify$e(t.s);r[0]>=128&&logger$1e.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);const n=hexlify$9(r);t._vs&&(isHexString$j(t._vs)||logger$1e.throwArgumentError("signature invalid _vs","signature",e),t._vs=hexZeroPad$5(t._vs,32)),null==t._vs?t._vs=n:t._vs!==n&&logger$1e.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}function joinSignature$1(e){return hexlify$9(concat$7([(e=splitSignature$4(e)).r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}const version$1q="bignumber/5.6.0";var BN$l=_BN.BN;const logger$1d=new Logger$g(version$1q),_constructorGuard$9={},MAX_SAFE$4=9007199254740991;function isBigNumberish(e){return null!=e&&(BigNumber$4.isBigNumber(e)||"number"==typeof e&&e%1==0||"string"==typeof e&&!!e.match(/^-?[0-9]+$/)||isHexString$j(e)||"bigint"==typeof e||isBytes$e(e))}let _warnedToStringRadix$4=!1;class BigNumber$4{constructor(e,t){logger$1d.checkNew(new.target,BigNumber$4),e!==_constructorGuard$9&&logger$1d.throwError("cannot call constructor directly; use BigNumber.from",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return toBigNumber$4(toBN$4(this).fromTwos(e))}toTwos(e){return toBigNumber$4(toBN$4(this).toTwos(e))}abs(){return"-"===this._hex[0]?BigNumber$4.from(this._hex.substring(1)):this}add(e){return toBigNumber$4(toBN$4(this).add(toBN$4(e)))}sub(e){return toBigNumber$4(toBN$4(this).sub(toBN$4(e)))}div(e){return BigNumber$4.from(e).isZero()&&throwFault$5("division-by-zero","div"),toBigNumber$4(toBN$4(this).div(toBN$4(e)))}mul(e){return toBigNumber$4(toBN$4(this).mul(toBN$4(e)))}mod(e){const t=toBN$4(e);return t.isNeg()&&throwFault$5("division-by-zero","mod"),toBigNumber$4(toBN$4(this).umod(t))}pow(e){const t=toBN$4(e);return t.isNeg()&&throwFault$5("negative-power","pow"),toBigNumber$4(toBN$4(this).pow(t))}and(e){const t=toBN$4(e);return(this.isNegative()||t.isNeg())&&throwFault$5("unbound-bitwise-result","and"),toBigNumber$4(toBN$4(this).and(t))}or(e){const t=toBN$4(e);return(this.isNegative()||t.isNeg())&&throwFault$5("unbound-bitwise-result","or"),toBigNumber$4(toBN$4(this).or(t))}xor(e){const t=toBN$4(e);return(this.isNegative()||t.isNeg())&&throwFault$5("unbound-bitwise-result","xor"),toBigNumber$4(toBN$4(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&throwFault$5("negative-width","mask"),toBigNumber$4(toBN$4(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&throwFault$5("negative-width","shl"),toBigNumber$4(toBN$4(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&throwFault$5("negative-width","shr"),toBigNumber$4(toBN$4(this).shrn(e))}eq(e){return toBN$4(this).eq(toBN$4(e))}lt(e){return toBN$4(this).lt(toBN$4(e))}lte(e){return toBN$4(this).lte(toBN$4(e))}gt(e){return toBN$4(this).gt(toBN$4(e))}gte(e){return toBN$4(this).gte(toBN$4(e))}isNegative(){return"-"===this._hex[0]}isZero(){return toBN$4(this).isZero()}toNumber(){try{return toBN$4(this).toNumber()}catch(error){throwFault$5("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return logger$1d.throwError("this platform does not support BigInt",Logger$g.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?_warnedToStringRadix$4||(_warnedToStringRadix$4=!0,logger$1d.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?logger$1d.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Logger$g.errors.UNEXPECTED_ARGUMENT,{}):logger$1d.throwError("BigNumber.toString does not accept parameters",Logger$g.errors.UNEXPECTED_ARGUMENT,{})),toBN$4(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof BigNumber$4)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new BigNumber$4(_constructorGuard$9,toHex$5(e)):e.match(/^-?[0-9]+$/)?new BigNumber$4(_constructorGuard$9,toHex$5(new BN$l(e))):logger$1d.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&throwFault$5("underflow","BigNumber.from",e),(e>=MAX_SAFE$4||e<=-MAX_SAFE$4)&&throwFault$5("overflow","BigNumber.from",e),BigNumber$4.from(String(e));const t=e;if("bigint"==typeof t)return BigNumber$4.from(t.toString());if(isBytes$e(t))return BigNumber$4.from(hexlify$9(t));if(t)if(t.toHexString){const e=t.toHexString();if("string"==typeof e)return BigNumber$4.from(e)}else{let e=t._hex;if(null==e&&"BigNumber"===t.type&&(e=t.hex),"string"==typeof e&&(isHexString$j(e)||"-"===e[0]&&isHexString$j(e.substring(1))))return BigNumber$4.from(e)}return logger$1d.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!(!e||!e._isBigNumber)}}function toHex$5(e){if("string"!=typeof e)return toHex$5(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&logger$1d.throwArgumentError("invalid hex","value",e),"0x00"===(e=toHex$5(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function toBigNumber$4(e){return BigNumber$4.from(toHex$5(e))}function toBN$4(e){const t=BigNumber$4.from(e).toHexString();return"-"===t[0]?new BN$l("-"+t.substring(3),16):new BN$l(t.substring(2),16)}function throwFault$5(e,t,r){const n={fault:e,operation:t};return null!=r&&(n.value=r),logger$1d.throwError(e,Logger$g.errors.NUMERIC_FAULT,n)}function _base36To16$4(e){return new BN$l(e,36).toString(16)}const logger$1c=new Logger$g(version$1q),_constructorGuard$8={},Zero$4=BigNumber$4.from(0),NegativeOne$3=BigNumber$4.from(-1);function throwFault$4(e,t,r,n){const i={fault:t,operation:r};return void 0!==n&&(i.value=n),logger$1c.throwError(e,Logger$g.errors.NUMERIC_FAULT,i)}let zeros$1="0";for(;zeros$1.length<256;)zeros$1+=zeros$1;function getMultiplier(t){if("number"!=typeof t)try{t=BigNumber$4.from(t).toNumber()}catch(e){}return"number"==typeof t&&t>=0&&t<=256&&!(t%1)?"1"+zeros$1.substring(0,t):logger$1c.throwArgumentError("invalid decimal size","decimals",t)}function formatFixed(e,t){null==t&&(t=0);const r=getMultiplier(t),n=(e=BigNumber$4.from(e)).lt(Zero$4);n&&(e=e.mul(NegativeOne$3));let i=e.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const o=e.div(r).toString();return e=1===r.length?o:o+"."+i,n&&(e="-"+e),e}function parseFixed(e,t){null==t&&(t=0);const r=getMultiplier(t);"string"==typeof e&&e.match(/^-?[0-9.]+$/)||logger$1c.throwArgumentError("invalid decimal value","value",e);const n="-"===e.substring(0,1);n&&(e=e.substring(1)),"."===e&&logger$1c.throwArgumentError("missing value","value",e);const i=e.split(".");i.length>2&&logger$1c.throwArgumentError("too many decimal points","value",e);let o=i[0],s=i[1];for(o||(o="0"),s||(s="0");"0"===s[s.length-1];)s=s.substring(0,s.length-1);for(s.length>r.length-1&&throwFault$4("fractional component exceeds decimals","underflow","parseFixed"),""===s&&(s="0");s.length<r.length-1;)s+="0";const a=BigNumber$4.from(o),u=BigNumber$4.from(s);let l=a.mul(r).add(u);return n&&(l=l.mul(NegativeOne$3)),l}class FixedFormat{constructor(e,t,r,n){e!==_constructorGuard$8&&logger$1c.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=r,this.decimals=n,this.name=(t?"":"u")+"fixed"+String(r)+"x"+String(n),this._multiplier=getMultiplier(n),Object.freeze(this)}static from(e){if(e instanceof FixedFormat)return e;"number"==typeof e&&(e=`fixed128x${e}`);let t=!0,r=128,n=18;if("string"==typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{const i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||logger$1c.throwArgumentError("invalid fixed format","format",e),t="u"!==i[1],r=parseInt(i[2]),n=parseInt(i[3])}else if(e){const i=(t,r,n)=>null==e[t]?n:(typeof e[t]!==r&&logger$1c.throwArgumentError("invalid fixed format ("+t+" not "+r+")","format."+t,e[t]),e[t]);t=i("signed","boolean",t),r=i("width","number",r),n=i("decimals","number",n)}return r%8&&logger$1c.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),n>80&&logger$1c.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new FixedFormat(_constructorGuard$8,t,r,n)}}class FixedNumber{constructor(e,t,r,n){logger$1c.checkNew(new.target,FixedNumber),e!==_constructorGuard$8&&logger$1c.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=t,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&logger$1c.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=parseFixed(this._value,this.format.decimals),r=parseFixed(e._value,e.format.decimals);return FixedNumber.fromValue(t.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=parseFixed(this._value,this.format.decimals),r=parseFixed(e._value,e.format.decimals);return FixedNumber.fromValue(t.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=parseFixed(this._value,this.format.decimals),r=parseFixed(e._value,e.format.decimals);return FixedNumber.fromValue(t.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=parseFixed(this._value,this.format.decimals),r=parseFixed(e._value,e.format.decimals);return FixedNumber.fromValue(t.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");1===e.length&&e.push("0");let t=FixedNumber.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(t=t.subUnsafe(ONE.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");1===e.length&&e.push("0");let t=FixedNumber.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(t=t.addUnsafe(ONE.toFormat(t.format))),t}round(e){null==e&&(e=0);const t=this.toString().split(".");if(1===t.length&&t.push("0"),(e<0||e>80||e%1)&&logger$1c.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const r=FixedNumber.from("1"+zeros$1.substring(0,e),this.format),n=BUMP.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(n).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(e){if(null==e)return this._hex;e%8&&logger$1c.throwArgumentError("invalid byte width","width",e);return hexZeroPad$5(BigNumber$4.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString(),e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return FixedNumber.fromString(this._value,e)}static fromValue(e,t,r){return null!=r||null==t||isBigNumberish(t)||(r=t,t=null),null==t&&(t=0),null==r&&(r="fixed"),FixedNumber.fromString(formatFixed(e,t),FixedFormat.from(r))}static fromString(e,t){null==t&&(t="fixed");const r=FixedFormat.from(t),n=parseFixed(e,r.decimals);!r.signed&&n.lt(Zero$4)&&throwFault$4("unsigned value cannot be negative","overflow","value",e);let i=null;r.signed?i=n.toTwos(r.width).toHexString():(i=n.toHexString(),i=hexZeroPad$5(i,r.width/8));const o=formatFixed(n,r.decimals);return new FixedNumber(_constructorGuard$8,i,o,r)}static fromBytes(e,t){null==t&&(t="fixed");const r=FixedFormat.from(t);if(arrayify$e(e).length>r.width/8)throw new Error("overflow");let n=BigNumber$4.from(e);r.signed&&(n=n.fromTwos(r.width));const i=n.toTwos((r.signed?0:1)+r.width).toHexString(),o=formatFixed(n,r.decimals);return new FixedNumber(_constructorGuard$8,i,o,r)}static from(e,t){if("string"==typeof e)return FixedNumber.fromString(e,t);if(isBytes$e(e))return FixedNumber.fromBytes(e,t);try{return FixedNumber.fromValue(e,0,t)}catch(error){if(error.code!==Logger$g.errors.INVALID_ARGUMENT)throw error}return logger$1c.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!(!e||!e._isFixedNumber)}}const ONE=FixedNumber.from(1),BUMP=FixedNumber.from("0.5"),version$1p="properties/5.6.0";var __awaiter$f=globalThis&&globalThis.__awaiter||function(t,r,n,i){return new(n||(n=Promise))((function(o,s){function a(t){try{l(i.next(t))}catch(e){s(e)}}function u(t){try{l(i.throw(t))}catch(e){s(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,u)}l((i=i.apply(t,r||[])).next())}))};const logger$1b=new Logger$g(version$1p);function defineReadOnly$6(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function getStatic$1(e,t){for(let r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function resolveProperties$1(e){return __awaiter$f(this,void 0,void 0,(function*(){const t=Object.keys(e).map((t=>{const r=e[t];return Promise.resolve(r).then((e=>({key:t,value:e})))}));return(yield Promise.all(t)).reduce(((e,t)=>(e[t.key]=t.value,e)),{})}))}function checkProperties$2(e,t){e&&"object"==typeof e||logger$1b.throwArgumentError("invalid object","object",e),Object.keys(e).forEach((r=>{t[r]||logger$1b.throwArgumentError("invalid object key - "+r,"transaction:"+r,e)}))}function shallowCopy$3(e){const t={};for(const r in e)t[r]=e[r];return t}const opaque$2={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function _isFrozen$2(e){if(null==e||opaque$2[typeof e])return!0;if(Array.isArray(e)||"object"==typeof e){if(!Object.isFrozen(e))return!1;const t=Object.keys(e);for(let r=0;r<t.length;r++){let n=null;try{n=e[t[r]]}catch(error){continue}if(!_isFrozen$2(n))return!1}return!0}return logger$1b.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function _deepCopy$2(e){if(_isFrozen$2(e))return e;if(Array.isArray(e))return Object.freeze(e.map((e=>deepCopy$2(e))));if("object"==typeof e){const t={};for(const r in e){const n=e[r];void 0!==n&&defineReadOnly$6(t,r,deepCopy$2(n))}return t}return logger$1b.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function deepCopy$2(e){return _deepCopy$2(e)}class Description$1{constructor(e){for(const t in e)this[t]=deepCopy$2(e[t])}}const version$1o="abi/5.5.0",logger$1a=new Logger$g(version$1o),_constructorGuard$7={};let ModifiersBytes={calldata:!0,memory:!0,storage:!0},ModifiersNest={calldata:!0,memory:!0};function checkModifier(e,t){if("bytes"===e||"string"===e){if(ModifiersBytes[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&ModifiersNest[t])return!0;return(ModifiersBytes[t]||"payable"===t)&&logger$1a.throwArgumentError("invalid modifier","name",t),!1}function parseParamType(e,t){let r=e;function n(t){logger$1a.throwArgumentError(`unexpected character at position ${t}`,"param",e)}function i(e){let r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");let o={type:"",name:"",state:{allowType:!0}},s=o;for(let a=0;a<e.length;a++){let r=e[a];switch(r){case"(":s.state.allowType&&""===s.type?s.type="tuple":s.state.allowParams||n(a),s.state.allowType=!1,s.type=verifyType(s.type),s.components=[i(s)],s=s.components[0];break;case")":delete s.state,"indexed"===s.name&&(t||n(a),s.indexed=!0,s.name=""),checkModifier(s.type,s.name)&&(s.name=""),s.type=verifyType(s.type);let e=s;s=s.parent,s||n(a),delete e.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,"indexed"===s.name&&(t||n(a),s.indexed=!0,s.name=""),checkModifier(s.type,s.name)&&(s.name=""),s.type=verifyType(s.type);let o=i(s.parent);s.parent.components.push(o),delete s.parent,s=o;break;case" ":s.state.allowType&&""!==s.type&&(s.type=verifyType(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&""!==s.name&&("indexed"===s.name?(t||n(a),s.indexed&&n(a),s.indexed=!0,s.name=""):checkModifier(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(a),s.type+=r,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(a),s.type+=r,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=r,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=r,delete s.state.allowArray):s.state.readArray?s.type+=r:n(a)}}return s.parent&&logger$1a.throwArgumentError("unexpected eof","param",e),delete o.state,"indexed"===s.name?(t||n(r.length-7),s.indexed&&n(r.length-7),s.indexed=!0,s.name=""):checkModifier(s.type,s.name)&&(s.name=""),o.type=verifyType(o.type),o}function populate(e,t){for(let r in t)defineReadOnly$6(e,r,t[r])}const FormatTypes=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),paramTypeArray=new RegExp(/^(.*)\[([0-9]*)\]$/);class ParamType{constructor(e,t){e!==_constructorGuard$7&&logger$1a.throwError("use fromString",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),populate(this,t);let r=this.type.match(paramTypeArray);populate(this,r?{arrayLength:parseInt(r[2]||"-1"),arrayChildren:ParamType.fromObject({type:r[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=FormatTypes.sighash),FormatTypes[e]||logger$1a.throwArgumentError("invalid format type","format",e),e===FormatTypes.json){let t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(t)}let t="";return"array"===this.baseType?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==FormatTypes.sighash&&(t+=this.type),t+="("+this.components.map((t=>t.format(e))).join(e===FormatTypes.full?", ":",")+")"):t+=this.type,e!==FormatTypes.sighash&&(!0===this.indexed&&(t+=" indexed"),e===FormatTypes.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return"string"==typeof e?ParamType.fromString(e,t):ParamType.fromObject(e)}static fromObject(e){return ParamType.isParamType(e)?e:new ParamType(_constructorGuard$7,{name:e.name||null,type:verifyType(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(ParamType.fromObject):null})}static fromString(e,t){return r=parseParamType(e,!!t),ParamType.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components});var r}static isParamType(e){return!(null==e||!e._isParamType)}}function parseParams(e,t){return splitNesting(e).map((e=>ParamType.fromString(e,t)))}class Fragment{constructor(e,t){e!==_constructorGuard$7&&logger$1a.throwError("use a static from method",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),populate(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return Fragment.isFragment(e)?e:"string"==typeof e?Fragment.fromString(e):Fragment.fromObject(e)}static fromObject(e){if(Fragment.isFragment(e))return e;switch(e.type){case"function":return FunctionFragment.fromObject(e);case"event":return EventFragment.fromObject(e);case"constructor":return ConstructorFragment.fromObject(e);case"error":return ErrorFragment.fromObject(e);case"fallback":case"receive":return null}return logger$1a.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?EventFragment.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?FunctionFragment.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?ConstructorFragment.fromString(e.trim()):"error"===e.split(" ")[0]?ErrorFragment.fromString(e.substring(5).trim()):logger$1a.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!(!e||!e._isFragment)}}class EventFragment extends Fragment{format(e){if(e||(e=FormatTypes.sighash),FormatTypes[e]||logger$1a.throwArgumentError("invalid format type","format",e),e===FormatTypes.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==FormatTypes.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===FormatTypes.full?", ":",")+") ",e!==FormatTypes.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return"string"==typeof e?EventFragment.fromString(e):EventFragment.fromObject(e)}static fromObject(e){if(EventFragment.isEventFragment(e))return e;"event"!==e.type&&logger$1a.throwArgumentError("invalid event object","value",e);const t={name:verifyIdentifier(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(ParamType.fromObject):[],type:"event"};return new EventFragment(_constructorGuard$7,t)}static fromString(e){let t=e.match(regexParen);t||logger$1a.throwArgumentError("invalid event string","value",e);let r=!1;return t[3].split(" ").forEach((e=>{switch(e.trim()){case"anonymous":r=!0;break;case"":break;default:logger$1a.warn("unknown modifier: "+e)}})),EventFragment.fromObject({name:t[1].trim(),anonymous:r,inputs:parseParams(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&"event"===e.type}}function parseGas(e,t){t.gas=null;let r=e.split("@");return 1!==r.length?(r.length>2&&logger$1a.throwArgumentError("invalid human-readable ABI signature","value",e),r[1].match(/^[0-9]+$/)||logger$1a.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=BigNumber$4.from(r[1]),r[0]):e}function parseModifiers(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach((e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}}))}function verifyState(e){let t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&logger$1a.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&logger$1a.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||logger$1a.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&logger$1a.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&logger$1a.throwArgumentError("unable to determine stateMutability","value",e),t}class ConstructorFragment extends Fragment{format(e){if(e||(e=FormatTypes.sighash),FormatTypes[e]||logger$1a.throwArgumentError("invalid format type","format",e),e===FormatTypes.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});e===FormatTypes.sighash&&logger$1a.throwError("cannot format a constructor for sighash",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map((t=>t.format(e))).join(e===FormatTypes.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}static from(e){return"string"==typeof e?ConstructorFragment.fromString(e):ConstructorFragment.fromObject(e)}static fromObject(e){if(ConstructorFragment.isConstructorFragment(e))return e;"constructor"!==e.type&&logger$1a.throwArgumentError("invalid constructor object","value",e);let t=verifyState(e);t.constant&&logger$1a.throwArgumentError("constructor cannot be constant","value",e);const r={name:null,type:e.type,inputs:e.inputs?e.inputs.map(ParamType.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?BigNumber$4.from(e.gas):null};return new ConstructorFragment(_constructorGuard$7,r)}static fromString(e){let t={type:"constructor"},r=(e=parseGas(e,t)).match(regexParen);return r&&"constructor"===r[1].trim()||logger$1a.throwArgumentError("invalid constructor string","value",e),t.inputs=parseParams(r[2].trim(),!1),parseModifiers(r[3].trim(),t),ConstructorFragment.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&"constructor"===e.type}}class FunctionFragment extends ConstructorFragment{format(e){if(e||(e=FormatTypes.sighash),FormatTypes[e]||logger$1a.throwArgumentError("invalid format type","format",e),e===FormatTypes.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==FormatTypes.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===FormatTypes.full?", ":",")+") ",e!==FormatTypes.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map((t=>t.format(e))).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return"string"==typeof e?FunctionFragment.fromString(e):FunctionFragment.fromObject(e)}static fromObject(e){if(FunctionFragment.isFunctionFragment(e))return e;"function"!==e.type&&logger$1a.throwArgumentError("invalid function object","value",e);let t=verifyState(e);const r={type:e.type,name:verifyIdentifier(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(ParamType.fromObject):[],outputs:e.outputs?e.outputs.map(ParamType.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?BigNumber$4.from(e.gas):null};return new FunctionFragment(_constructorGuard$7,r)}static fromString(e){let t={type:"function"},r=(e=parseGas(e,t)).split(" returns ");r.length>2&&logger$1a.throwArgumentError("invalid function string","value",e);let n=r[0].match(regexParen);if(n||logger$1a.throwArgumentError("invalid function signature","value",e),t.name=n[1].trim(),t.name&&verifyIdentifier(t.name),t.inputs=parseParams(n[2],!1),parseModifiers(n[3].trim(),t),r.length>1){let n=r[1].match(regexParen);""==n[1].trim()&&""==n[3].trim()||logger$1a.throwArgumentError("unexpected tokens","value",e),t.outputs=parseParams(n[2],!1)}else t.outputs=[];return FunctionFragment.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&"function"===e.type}}function checkForbidden(e){const t=e.format();return"Error(string)"!==t&&"Panic(uint256)"!==t||logger$1a.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e),e}class ErrorFragment extends Fragment{format(e){if(e||(e=FormatTypes.sighash),FormatTypes[e]||logger$1a.throwArgumentError("invalid format type","format",e),e===FormatTypes.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==FormatTypes.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===FormatTypes.full?", ":",")+") ",t.trim()}static from(e){return"string"==typeof e?ErrorFragment.fromString(e):ErrorFragment.fromObject(e)}static fromObject(e){if(ErrorFragment.isErrorFragment(e))return e;"error"!==e.type&&logger$1a.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:verifyIdentifier(e.name),inputs:e.inputs?e.inputs.map(ParamType.fromObject):[]};return checkForbidden(new ErrorFragment(_constructorGuard$7,t))}static fromString(e){let t={type:"error"},r=e.match(regexParen);return r||logger$1a.throwArgumentError("invalid error signature","value",e),t.name=r[1].trim(),t.name&&verifyIdentifier(t.name),t.inputs=parseParams(r[2],!1),checkForbidden(ErrorFragment.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&"error"===e.type}}function verifyType(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}const regexIdentifier=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function verifyIdentifier(e){return e&&e.match(regexIdentifier)||logger$1a.throwArgumentError(`invalid identifier "${e}"`,"value",e),e}const regexParen=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function splitNesting(e){e=e.trim();let t=[],r="",n=0;for(let i=0;i<e.length;i++){let o=e[i];","===o&&0===n?(t.push(r),r=""):(r+=o,"("===o?n++:")"===o&&(n--,-1===n&&logger$1a.throwArgumentError("unbalanced parenthesis","value",e)))}return r&&t.push(r),t}const logger$19=new Logger$g(version$1o);function checkResultErrors(e){const t=[],r=function(e,n){if(Array.isArray(n))for(let i in n){const o=e.slice();o.push(i);try{r(o,n[i])}catch(error){t.push({path:o,error:error})}}};return r([],e),t}class Coder{constructor(e,t,r,n){this.name=e,this.type=t,this.localName=r,this.dynamic=n}_throwError(e,t){logger$19.throwArgumentError(e,this.localName,t)}}class Writer{constructor(e){defineReadOnly$6(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return hexConcat$3(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(concat$7(e._data))}writeBytes(e){let t=arrayify$e(e);const r=t.length%this.wordSize;return r&&(t=concat$7([t,this._padding.slice(r)])),this._writeData(t)}_getValue(e){let t=arrayify$e(BigNumber$4.from(e));return t.length>this.wordSize&&logger$19.throwError("value out-of-bounds",Logger$g.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=concat$7([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class Reader{constructor(e,t,r,n){defineReadOnly$6(this,"_data",arrayify$e(e)),defineReadOnly$6(this,"wordSize",t||32),defineReadOnly$6(this,"_coerceFunc",r),defineReadOnly$6(this,"allowLoose",n),this._offset=0}get data(){return hexlify$9(this._data)}get consumed(){return this._offset}static coerce(e,t){let r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):Reader.coerce(e,t)}_peekBytes(e,t,r){let n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?n=t:logger$19.throwError("data out-of-bounds",Logger$g.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(e){return new Reader(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}readValue(){return BigNumber$4.from(this.readBytes(this.wordSize))}}var sha3$1={exports:{}};
/**
			 * [js-sha3]{@link https://github.com/emn178/js-sha3}
			 *
			 * @version 0.8.0
			 * @author Chen, Yi-Cyuan [emn178@gmail.com]
			 * @copyright Chen, Yi-Cyuan 2015-2018
			 * @license MIT
			 */!function(e){!function(){var t="input is invalid type",r="object"==typeof window,n=r?window:{};n.JS_SHA3_NO_WINDOW&&(r=!1);var i=!r&&"object"==typeof self;!n.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?n=commonjsGlobal$1:i&&(n=self);var o=!n.JS_SHA3_NO_COMMON_JS&&e.exports,s=!n.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,a="0123456789abcdef".split(""),u=[4,1024,262144,67108864],l=[0,8,16,24],c=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],f=[224,256,384,512],h=[128,256],d=["hex","buffer","arrayBuffer","array","digest"],p={128:168,256:136};!n.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!s||!n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var g=function(e,t,r){return function(n){return new C(e,t,e).update(n)[r]()}},m=function(e,t,r){return function(n,i){return new C(e,t,i).update(n)[r]()}},y=function(e,t,r){return function(t,n,i,o){return w["cshake"+e].update(t,n,i,o)[r]()}},b=function(e,t,r){return function(t,n,i,o){return w["kmac"+e].update(t,n,i,o)[r]()}},v=function(e,t,r,n){for(var i=0;i<d.length;++i){var o=d[i];e[o]=t(r,n,o)}return e},_=function(e,t){var r=g(e,t,"hex");return r.create=function(){return new C(e,t,e)},r.update=function(e){return r.create().update(e)},v(r,g,e,t)},$=[{name:"keccak",padding:[1,256,65536,16777216],bits:f,createMethod:_},{name:"sha3",padding:[6,1536,393216,100663296],bits:f,createMethod:_},{name:"shake",padding:[31,7936,2031616,520093696],bits:h,createMethod:function(e,t){var r=m(e,t,"hex");return r.create=function(r){return new C(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},v(r,m,e,t)}},{name:"cshake",padding:u,bits:h,createMethod:function(e,t){var r=p[e],n=y(e,0,"hex");return n.create=function(n,i,o){return i||o?new C(e,t,n).bytepad([i,o],r):w["shake"+e].create(n)},n.update=function(e,t,r,i){return n.create(t,r,i).update(e)},v(n,y,e,t)}},{name:"kmac",padding:u,bits:h,createMethod:function(e,t){var r=p[e],n=b(e,0,"hex");return n.create=function(n,i,o){return new T(e,t,i).bytepad(["KMAC",o],r).bytepad([n],r)},n.update=function(e,t,r,i){return n.create(e,r,i).update(t)},v(n,b,e,t)}}],w={},E=[],S=0;S<$.length;++S)for(var A=$[S],R=A.bits,N=0;N<R.length;++N){var x=A.name+"_"+R[N];if(E.push(x),w[x]=A.createMethod(R[N],A.padding),"sha3"!==A.name){var k=A.name+R[N];E.push(k),w[k]=w[x]}}function C(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function T(e,t,r){C.call(this,e,t,r)}C.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var r,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(t);if(null===e)throw new Error(t);if(s&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||s&&ArrayBuffer.isView(e)))throw new Error(t);r=!0}for(var i,o,a=this.blocks,u=this.byteCount,c=e.length,f=this.blockCount,h=0,d=this.s;h<c;){if(this.reset)for(this.reset=!1,a[0]=this.block,i=1;i<f+1;++i)a[i]=0;if(r)for(i=this.start;h<c&&i<u;++h)a[i>>2]|=e[h]<<l[3&i++];else for(i=this.start;h<c&&i<u;++h)(o=e.charCodeAt(h))<128?a[i>>2]|=o<<l[3&i++]:o<2048?(a[i>>2]|=(192|o>>6)<<l[3&i++],a[i>>2]|=(128|63&o)<<l[3&i++]):o<55296||o>=57344?(a[i>>2]|=(224|o>>12)<<l[3&i++],a[i>>2]|=(128|o>>6&63)<<l[3&i++],a[i>>2]|=(128|63&o)<<l[3&i++]):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++h)),a[i>>2]|=(240|o>>18)<<l[3&i++],a[i>>2]|=(128|o>>12&63)<<l[3&i++],a[i>>2]|=(128|o>>6&63)<<l[3&i++],a[i>>2]|=(128|63&o)<<l[3&i++]);if(this.lastByteIndex=i,i>=u){for(this.start=i-u,this.block=a[f],i=0;i<f;++i)d[i]^=a[i];M(d),this.reset=!0}else this.start=i}return this},C.prototype.encode=function(e,t){var r=255&e,n=1,i=[r];for(r=255&(e>>=8);r>0;)i.unshift(r),r=255&(e>>=8),++n;return t?i.push(n):i.unshift(n),this.update(i),i.length},C.prototype.encodeString=function(e){var r,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(t);if(null===e)throw new Error(t);if(s&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||s&&ArrayBuffer.isView(e)))throw new Error(t);r=!0}var i=0,o=e.length;if(r)i=o;else for(var a=0;a<e.length;++a){var u=e.charCodeAt(a);u<128?i+=1:u<2048?i+=2:u<55296||u>=57344?i+=3:(u=65536+((1023&u)<<10|1023&e.charCodeAt(++a)),i+=4)}return i+=this.encode(8*i),this.update(e),i},C.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=t-r%t,o=[];return o.length=i,this.update(o),this},C.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];M(n)}},C.prototype.toString=C.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,u="";s<n;){for(o=0;o<t&&s<n;++o,++s)e=r[o],u+=a[e>>4&15]+a[15&e]+a[e>>12&15]+a[e>>8&15]+a[e>>20&15]+a[e>>16&15]+a[e>>28&15]+a[e>>24&15];s%t==0&&(M(r),o=0)}return i&&(e=r[o],u+=a[e>>4&15]+a[15&e],i>1&&(u+=a[e>>12&15]+a[e>>8&15]),i>2&&(u+=a[e>>20&15]+a[e>>16&15])),u},C.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=this.outputBits>>3;e=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var u=new Uint32Array(e);s<n;){for(o=0;o<t&&s<n;++o,++s)u[s]=r[o];s%t==0&&M(r)}return i&&(u[o]=r[o],e=e.slice(0,a)),e},C.prototype.buffer=C.prototype.arrayBuffer,C.prototype.digest=C.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,u=[];a<i;){for(s=0;s<r&&a<i;++s,++a)e=a<<2,t=n[s],u[e]=255&t,u[e+1]=t>>8&255,u[e+2]=t>>16&255,u[e+3]=t>>24&255;a%r==0&&M(n)}return o&&(e=a<<2,t=n[s],u[e]=255&t,o>1&&(u[e+1]=t>>8&255),o>2&&(u[e+2]=t>>16&255)),u},T.prototype=new C,T.prototype.finalize=function(){return this.encode(this.outputBits,!0),C.prototype.finalize.call(this)};var M=function(e){var t,r,n,i,o,s,a,u,l,f,h,d,p,g,m,y,b,v,_,$,w,E,S,A,R,N,x,k,C,T,M,P,I,O,B,L,D,U,F,j,H,W,z,q,G,V,K,J,Y,X,Z,Q,ee,te,re,ne,ie,oe,se,ae,ue,le,ce;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],o=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],l=e[5]^e[15]^e[25]^e[35]^e[45],f=e[6]^e[16]^e[26]^e[36]^e[46],h=e[7]^e[17]^e[27]^e[37]^e[47],t=(d=e[8]^e[18]^e[28]^e[38]^e[48])^(s<<1|a>>>31),r=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(a<<1|s>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(u<<1|l>>>31),r=o^(l<<1|u>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=s^(f<<1|h>>>31),r=a^(h<<1|f>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=u^(d<<1|p>>>31),r=l^(p<<1|d>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=f^(i<<1|o>>>31),r=h^(o<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,g=e[0],m=e[1],V=e[11]<<4|e[10]>>>28,K=e[10]<<4|e[11]>>>28,k=e[20]<<3|e[21]>>>29,C=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,ue=e[30]<<9|e[31]>>>23,W=e[40]<<18|e[41]>>>14,z=e[41]<<18|e[40]>>>14,O=e[2]<<1|e[3]>>>31,B=e[3]<<1|e[2]>>>31,y=e[13]<<12|e[12]>>>20,b=e[12]<<12|e[13]>>>20,J=e[22]<<10|e[23]>>>22,Y=e[23]<<10|e[22]>>>22,T=e[33]<<13|e[32]>>>19,M=e[32]<<13|e[33]>>>19,le=e[42]<<2|e[43]>>>30,ce=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,L=e[14]<<6|e[15]>>>26,D=e[15]<<6|e[14]>>>26,v=e[25]<<11|e[24]>>>21,_=e[24]<<11|e[25]>>>21,X=e[34]<<15|e[35]>>>17,Z=e[35]<<15|e[34]>>>17,P=e[45]<<29|e[44]>>>3,I=e[44]<<29|e[45]>>>3,A=e[6]<<28|e[7]>>>4,R=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,U=e[26]<<25|e[27]>>>7,F=e[27]<<25|e[26]>>>7,$=e[36]<<21|e[37]>>>11,w=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,q=e[8]<<27|e[9]>>>5,G=e[9]<<27|e[8]>>>5,N=e[18]<<20|e[19]>>>12,x=e[19]<<20|e[18]>>>12,oe=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,j=e[38]<<8|e[39]>>>24,H=e[39]<<8|e[38]>>>24,E=e[48]<<14|e[49]>>>18,S=e[49]<<14|e[48]>>>18,e[0]=g^~y&v,e[1]=m^~b&_,e[10]=A^~N&k,e[11]=R^~x&C,e[20]=O^~L&U,e[21]=B^~D&F,e[30]=q^~V&J,e[31]=G^~K&Y,e[40]=te^~ne&oe,e[41]=re^~ie&se,e[2]=y^~v&$,e[3]=b^~_&w,e[12]=N^~k&T,e[13]=x^~C&M,e[22]=L^~U&j,e[23]=D^~F&H,e[32]=V^~J&X,e[33]=K^~Y&Z,e[42]=ne^~oe&ae,e[43]=ie^~se&ue,e[4]=v^~$&E,e[5]=_^~w&S,e[14]=k^~T&P,e[15]=C^~M&I,e[24]=U^~j&W,e[25]=F^~H&z,e[34]=J^~X&Q,e[35]=Y^~Z&ee,e[44]=oe^~ae&le,e[45]=se^~ue&ce,e[6]=$^~E&g,e[7]=w^~S&m,e[16]=T^~P&A,e[17]=M^~I&R,e[26]=j^~W&O,e[27]=H^~z&B,e[36]=X^~Q&q,e[37]=Z^~ee&G,e[46]=ae^~le&te,e[47]=ue^~ce&re,e[8]=E^~g&y,e[9]=S^~m&b,e[18]=P^~A&N,e[19]=I^~R&x,e[28]=W^~O&L,e[29]=z^~B&D,e[38]=Q^~q&V,e[39]=ee^~G&K,e[48]=le^~te&ne,e[49]=ce^~re&ie,e[0]^=c[n],e[1]^=c[n+1]};if(o)e.exports=w;else for(S=0;S<E.length;++S)n[E[S]]=w[E[S]]}()}(sha3$1);var sha3=sha3$1.exports;function keccak256$6(e){return"0x"+sha3.keccak_256(arrayify$e(e))}const version$1n="rlp/5.6.0",logger$18=new Logger$g(version$1n);function arrayifyInteger$3(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function unarrayifyInteger$2(e,t,r){let n=0;for(let i=0;i<r;i++)n=256*n+e[t+i];return n}function _encode$3(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(_encode$3(e))})),t.length<=55)return t.unshift(192+t.length),t;const r=arrayifyInteger$3(t.length);return r.unshift(247+r.length),r.concat(t)}isBytesLike$7(e)||logger$18.throwArgumentError("RLP object must be BytesLike","object",e);const t=Array.prototype.slice.call(arrayify$e(e));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const r=arrayifyInteger$3(t.length);return r.unshift(183+r.length),r.concat(t)}function encode$9(e){return hexlify$9(_encode$3(e))}function _decodeChildren$2(e,t,r,n){const i=[];for(;r<t+1+n;){const o=_decode$3(e,r);i.push(o.result),(r+=o.consumed)>t+1+n&&logger$18.throwError("child data too short",Logger$g.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function _decode$3(e,t){if(0===e.length&&logger$18.throwError("data too short",Logger$g.errors.BUFFER_OVERRUN,{}),e[t]>=248){const r=e[t]-247;t+1+r>e.length&&logger$18.throwError("data short segment too short",Logger$g.errors.BUFFER_OVERRUN,{});const n=unarrayifyInteger$2(e,t+1,r);return t+1+r+n>e.length&&logger$18.throwError("data long segment too short",Logger$g.errors.BUFFER_OVERRUN,{}),_decodeChildren$2(e,t,t+1+r,r+n)}if(e[t]>=192){const r=e[t]-192;return t+1+r>e.length&&logger$18.throwError("data array too short",Logger$g.errors.BUFFER_OVERRUN,{}),_decodeChildren$2(e,t,t+1,r)}if(e[t]>=184){const r=e[t]-183;t+1+r>e.length&&logger$18.throwError("data array too short",Logger$g.errors.BUFFER_OVERRUN,{});const n=unarrayifyInteger$2(e,t+1,r);t+1+r+n>e.length&&logger$18.throwError("data array too short",Logger$g.errors.BUFFER_OVERRUN,{});return{consumed:1+r+n,result:hexlify$9(e.slice(t+1+r,t+1+r+n))}}if(e[t]>=128){const r=e[t]-128;t+1+r>e.length&&logger$18.throwError("data too short",Logger$g.errors.BUFFER_OVERRUN,{});return{consumed:1+r,result:hexlify$9(e.slice(t+1,t+1+r))}}return{consumed:1,result:hexlify$9(e[t])}}function decode$a(e){const t=arrayify$e(e),r=_decode$3(t,0);return r.consumed!==t.length&&logger$18.throwArgumentError("invalid rlp data","data",e),r.result}const version$1m="address/5.6.0",logger$17=new Logger$g(version$1m);function getChecksumAddress$4(e){isHexString$j(e,20)||logger$17.throwArgumentError("invalid address","address",e);const t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=t[i].charCodeAt(0);const n=arrayify$e(keccak256$6(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(15&n[i>>1])>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const MAX_SAFE_INTEGER$6=9007199254740991;function log10$4(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}const ibanLookup$4={};for(let ee=0;ee<10;ee++)ibanLookup$4[String(ee)]=String(ee);for(let ee=0;ee<26;ee++)ibanLookup$4[String.fromCharCode(65+ee)]=String(10+ee);const safeDigits$4=Math.floor(log10$4(MAX_SAFE_INTEGER$6));function ibanChecksum$4(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>ibanLookup$4[e])).join("");for(;t.length>=safeDigits$4;){let e=t.substring(0,safeDigits$4);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function getAddress$4(e){let t=null;if("string"!=typeof e&&logger$17.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=getChecksumAddress$4(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&logger$17.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==ibanChecksum$4(e)&&logger$17.throwArgumentError("bad icap checksum","address",e),t=_base36To16$4(e.substring(4));t.length<40;)t="0"+t;t=getChecksumAddress$4("0x"+t)}else logger$17.throwArgumentError("invalid address","address",e);return t}function getContractAddress$1(e){let t=null;try{t=getAddress$4(e.from)}catch(error){logger$17.throwArgumentError("missing from address","transaction",e)}return getAddress$4(hexDataSlice$4(keccak256$6(encode$9([t,stripZeros$3(arrayify$e(BigNumber$4.from(e.nonce).toHexString()))])),12))}class AddressCoder extends Coder{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=getAddress$4(t)}catch(error){this._throwError(error.message,t)}return e.writeValue(t)}decode(e){return getAddress$4(hexZeroPad$5(e.readValue().toHexString(),20))}}class AnonymousCoder extends Coder{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const logger$16=new Logger$g(version$1o);function pack$1(e,t,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let e={};n=t.map((t=>{const n=t.localName;return n||logger$16.throwError("cannot encode object for signature with missing names",Logger$g.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]&&logger$16.throwError("cannot encode object for signature with duplicate names",Logger$g.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]=!0,r[n]}))}else logger$16.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&logger$16.throwArgumentError("types/value length mismatch","tuple",r);let i=new Writer(e.wordSize),o=new Writer(e.wordSize),s=[];t.forEach(((e,t)=>{let r=n[t];if(e.dynamic){let t=o.length;e.encode(o,r);let n=i.writeUpdatableValue();s.push((e=>{n(e+t)}))}else e.encode(i,r)})),s.forEach((e=>{e(i.length)}));let a=e.appendWriter(i);return a+=e.appendWriter(o),a}function unpack(e,t){let r=[],n=e.subReader(0);t.forEach((t=>{let i=null;if(t.dynamic){let r=e.readValue(),o=n.subReader(r.toNumber());try{i=t.decode(o)}catch(error){if(error.code===Logger$g.errors.BUFFER_OVERRUN)throw error;i=error,i.baseType=t.name,i.name=t.localName,i.type=t.type}}else try{i=t.decode(e)}catch(error){if(error.code===Logger$g.errors.BUFFER_OVERRUN)throw error;i=error,i.baseType=t.name,i.name=t.localName,i.type=t.type}null!=i&&r.push(i)}));const i=t.reduce(((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});t.forEach(((e,t)=>{let n=e.localName;if(!n||1!==i[n])return;if("length"===n&&(n="_length"),null!=r[n])return;const o=r[t];o instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:()=>{throw o}}):r[n]=o}));for(let o=0;o<r.length;o++){const e=r[o];e instanceof Error&&Object.defineProperty(r,o,{enumerable:!0,get:()=>{throw e}})}return Object.freeze(r)}class ArrayCoder extends Coder{constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),logger$16.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let i=0;i<t.length;i++)n.push(this.coder);return pack$1(e,n,t)}decode(e){let t=this.length;-1===t&&(t=e.readValue().toNumber(),32*t>e._data.length&&logger$16.throwError("insufficient data length",Logger$g.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let r=[];for(let n=0;n<t;n++)r.push(new AnonymousCoder(this.coder));return e.coerce(this.name,unpack(e,r))}}class BooleanCoder extends Coder{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class DynamicBytesCoder extends Coder{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=arrayify$e(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class BytesCoder extends DynamicBytesCoder{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,hexlify$9(super.decode(e)))}}class FixedBytesCoder extends Coder{constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=arrayify$e(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return e.coerce(this.name,hexlify$9(e.readBytes(this.size)))}}class NullCoder extends Coder{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const AddressZero="0x0000000000000000000000000000000000000000",NegativeOne$2=BigNumber$4.from(-1),Zero$3=BigNumber$4.from(0),One$2=BigNumber$4.from(1),MaxUint256$2=BigNumber$4.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),HashZero$1="0x0000000000000000000000000000000000000000000000000000000000000000";class NumberCoder extends Coder{constructor(e,t,r){const n=(t?"int":"uint")+8*e;super(n,n,r,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let r=BigNumber$4.from(t),n=MaxUint256$2.mask(8*e.wordSize);if(this.signed){let e=n.mask(8*this.size-1);(r.gt(e)||r.lt(e.add(One$2).mul(NegativeOne$2)))&&this._throwError("value out-of-bounds",t)}else(r.lt(Zero$3)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}const version$1l="strings/5.6.0",logger$15=new Logger$g(version$1l);var UnicodeNormalizationForm$4,Utf8ErrorReason$4;function errorFunc$4(e,t,r,n,i){return logger$15.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)}function ignoreFunc$4(e,t,r,n,i){if(e===Utf8ErrorReason$4.BAD_PREFIX||e===Utf8ErrorReason$4.UNEXPECTED_CONTINUE){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return e===Utf8ErrorReason$4.OVERRUN?r.length-t-1:0}function replaceFunc$4(e,t,r,n,i){return e===Utf8ErrorReason$4.OVERLONG?(n.push(i),0):(n.push(65533),ignoreFunc$4(e,t,r))}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(UnicodeNormalizationForm$4||(UnicodeNormalizationForm$4={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(Utf8ErrorReason$4||(Utf8ErrorReason$4={}));const Utf8ErrorFuncs$3=Object.freeze({error:errorFunc$4,ignore:ignoreFunc$4,replace:replaceFunc$4});function getUtf8CodePoints$3(e,t){null==t&&(t=Utf8ErrorFuncs$3.error),e=arrayify$e(e);const r=[];let n=0;for(;n<e.length;){const i=e[n++];if(i>>7==0){r.push(i);continue}let o=null,s=null;if(192==(224&i))o=1,s=127;else if(224==(240&i))o=2,s=2047;else{if(240!=(248&i)){n+=t(128==(192&i)?Utf8ErrorReason$4.UNEXPECTED_CONTINUE:Utf8ErrorReason$4.BAD_PREFIX,n-1,e,r);continue}o=3,s=65535}if(n-1+o>=e.length){n+=t(Utf8ErrorReason$4.OVERRUN,n-1,e,r);continue}let a=i&(1<<8-o-1)-1;for(let u=0;u<o;u++){let i=e[n];if(128!=(192&i)){n+=t(Utf8ErrorReason$4.MISSING_CONTINUE,n,e,r),a=null;break}a=a<<6|63&i,n++}null!==a&&(a>1114111?n+=t(Utf8ErrorReason$4.OUT_OF_RANGE,n-1-o,e,r,a):a>=55296&&a<=57343?n+=t(Utf8ErrorReason$4.UTF16_SURROGATE,n-1-o,e,r,a):a<=s?n+=t(Utf8ErrorReason$4.OVERLONG,n-1-o,e,r,a):r.push(a))}return r}function toUtf8Bytes$4(e,t=UnicodeNormalizationForm$4.current){t!=UnicodeNormalizationForm$4.current&&(logger$15.checkNormalize(),e=e.normalize(t));let r=[];for(let n=0;n<e.length;n++){const t=e.charCodeAt(n);if(t<128)r.push(t);else if(t<2048)r.push(t>>6|192),r.push(63&t|128);else if(55296==(64512&t)){n++;const i=e.charCodeAt(n);if(n>=e.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&t)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(t>>12|224),r.push(t>>6&63|128),r.push(63&t|128)}return arrayify$e(r)}function _toUtf8String$3(e){return e.map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}function toUtf8String$2(e,t){return _toUtf8String$3(getUtf8CodePoints$3(e,t))}function toUtf8CodePoints$2(e,t=UnicodeNormalizationForm$4.current){return getUtf8CodePoints$3(toUtf8Bytes$4(e,t))}function bytes2$2(e){if(e.length%4!=0)throw new Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}function createTable$2(e,t){t||(t=function(e){return[parseInt(e,16)]});let r=0,n={};return e.split(",").forEach((e=>{let i=e.split(":");r+=parseInt(i[0],16),n[r]=t(i[1])})),n}function createRangeTable$2(e){let t=0;return e.split(",").map((e=>{let r=e.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let n=t+parseInt(r[0],16);return t=parseInt(r[1],16),{l:n,h:t}}))}function matchMap$2(e,t){let r=0;for(let n=0;n<t.length;n++){let i=t[n];if(r+=i.l,e>=r&&e<=r+i.h&&(e-r)%(i.d||1)==0){if(i.e&&-1!==i.e.indexOf(e-r))continue;return i}}return null}const Table_A_1_ranges$2=createRangeTable$2("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Table_B_1_flags$2="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((e=>parseInt(e,16))),Table_B_2_ranges$2=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Table_B_2_lut_abs$2=createTable$2("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Table_B_2_lut_rel$2=createTable$2("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Table_B_2_complex$2=createTable$2("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",bytes2$2),Table_C_ranges$2=createRangeTable$2("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function flatten$2(e){return e.reduce(((e,t)=>(t.forEach((t=>{e.push(t)})),e)),[])}function _nameprepTableA1$2(e){return!!matchMap$2(e,Table_A_1_ranges$2)}function _nameprepTableB2$2(e){let t=matchMap$2(e,Table_B_2_ranges$2);if(t)return[e+t.s];let r=Table_B_2_lut_abs$2[e];if(r)return r;let n=Table_B_2_lut_rel$2[e];if(n)return[e+n[0]];let i=Table_B_2_complex$2[e];return i||null}function _nameprepTableC$2(e){return!!matchMap$2(e,Table_C_ranges$2)}function nameprep$2(e){if(e.match(/^[a-z0-9-]*$/i)&&e.length<=59)return e.toLowerCase();let t=toUtf8CodePoints$2(e);t=flatten$2(t.map((e=>{if(Table_B_1_flags$2.indexOf(e)>=0)return[];if(e>=65024&&e<=65039)return[];let t=_nameprepTableB2$2(e);return t||[e]}))),t=toUtf8CodePoints$2(_toUtf8String$3(t),UnicodeNormalizationForm$4.NFKC),t.forEach((e=>{if(_nameprepTableC$2(e))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),t.forEach((e=>{if(_nameprepTableA1$2(e))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));let r=_toUtf8String$3(t);if("-"===r.substring(0,1)||"--"===r.substring(2,4)||"-"===r.substring(r.length-1))throw new Error("invalid hyphen");if(r.length>63)throw new Error("too long");return r}class StringCoder extends DynamicBytesCoder{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,toUtf8Bytes$4(t))}decode(e){return toUtf8String$2(super.decode(e))}}class TupleCoder extends Coder{constructor(e,t){let r=!1;const n=[];e.forEach((e=>{e.dynamic&&(r=!0),n.push(e.type)}));super("tuple","tuple("+n.join(",")+")",t,r),this.coders=e}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});return this.coders.forEach(((r,n)=>{let i=r.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[n]))})),Object.freeze(e)}encode(e,t){return pack$1(e,this.coders,t)}decode(e){return e.coerce(this.name,unpack(e,this.coders))}}const logger$14=new Logger$g(version$1o),paramTypeBytes=new RegExp(/^bytes([0-9]*)$/),paramTypeNumber=new RegExp(/^(u?int)([0-9]*)$/);class AbiCoder{constructor(e){logger$14.checkNew(new.target,AbiCoder),defineReadOnly$6(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new AddressCoder(e.name);case"bool":return new BooleanCoder(e.name);case"string":return new StringCoder(e.name);case"bytes":return new BytesCoder(e.name);case"array":return new ArrayCoder(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new TupleCoder((e.components||[]).map((e=>this._getCoder(e))),e.name);case"":return new NullCoder(e.name)}let t=e.type.match(paramTypeNumber);if(t){let r=parseInt(t[2]||"256");return(0===r||r>256||r%8!=0)&&logger$14.throwArgumentError("invalid "+t[1]+" bit length","param",e),new NumberCoder(r/8,"int"===t[1],e.name)}if(t=e.type.match(paramTypeBytes),t){let r=parseInt(t[1]);return(0===r||r>32)&&logger$14.throwArgumentError("invalid bytes length","param",e),new FixedBytesCoder(r,e.name)}return logger$14.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new Reader(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new Writer(this._getWordSize())}getDefaultValue(e){const t=e.map((e=>this._getCoder(ParamType.from(e))));return new TupleCoder(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&logger$14.throwError("types/values length mismatch",Logger$g.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const r=e.map((e=>this._getCoder(ParamType.from(e)))),n=new TupleCoder(r,"_"),i=this._getWriter();return n.encode(i,t),i.data}decode(e,t,r){const n=e.map((e=>this._getCoder(ParamType.from(e))));return new TupleCoder(n,"_").decode(this._getReader(arrayify$e(t),r))}}const defaultAbiCoder=new AbiCoder;function id$2(e){return keccak256$6(toUtf8Bytes$4(e))}const version$1k="hash/5.6.0",logger$13=new Logger$g(version$1k),Zeros$2=new Uint8Array(32);Zeros$2.fill(0);const Partition$1=new RegExp("^((.*)\\.)?([^.]+)$");function namehash$1(e){"string"!=typeof e&&logger$13.throwArgumentError("invalid ENS name; not a string","name",e);let t=e,r=Zeros$2;for(;t.length;){const n=t.match(Partition$1);null!=n&&""!==n[2]||logger$13.throwArgumentError("invalid ENS address; missing component","name",e);r=keccak256$6(concat$7([r,keccak256$6(toUtf8Bytes$4(nameprep$2(n[3])))])),t=n[2]||""}return hexlify$9(r)}const messagePrefix$1="Ethereum Signed Message:\n";function hashMessage$1(e){return"string"==typeof e&&(e=toUtf8Bytes$4(e)),keccak256$6(concat$7([toUtf8Bytes$4(messagePrefix$1),toUtf8Bytes$4(String(e.length)),e]))}var __awaiter$e=globalThis&&globalThis.__awaiter||function(t,r,n,i){return new(n||(n=Promise))((function(o,s){function a(t){try{l(i.next(t))}catch(e){s(e)}}function u(t){try{l(i.throw(t))}catch(e){s(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,u)}l((i=i.apply(t,r||[])).next())}))};const logger$12=new Logger$g(version$1k),padding$1=new Uint8Array(32);padding$1.fill(0);const NegativeOne$1=BigNumber$4.from(-1),Zero$2=BigNumber$4.from(0),One$1=BigNumber$4.from(1),MaxUint256$1=BigNumber$4.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hexPadRight$1(e){const t=arrayify$e(e),r=t.length%32;return r?hexConcat$3([t,padding$1.slice(r)]):hexlify$9(t)}const hexTrue$1=hexZeroPad$5(One$1.toHexString(),32),hexFalse$1=hexZeroPad$5(Zero$2.toHexString(),32),domainFieldTypes$1={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},domainFieldNames$1=["name","version","chainId","verifyingContract","salt"];function checkString$1(e){return function(t){return"string"!=typeof t&&logger$12.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const domainChecks$1={name:checkString$1("name"),version:checkString$1("version"),chainId:function(e){try{return BigNumber$4.from(e).toString()}catch(error){}return logger$12.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return getAddress$4(e).toLowerCase()}catch(error){}return logger$12.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{const t=arrayify$e(e);if(32!==t.length)throw new Error("bad length");return hexlify$9(t)}catch(error){}return logger$12.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function getBaseEncoder$1(e){{const t=e.match(/^(u?)int(\d*)$/);if(t){const r=""===t[1],n=parseInt(t[2]||"256");(n%8!=0||n>256||t[2]&&t[2]!==String(n))&&logger$12.throwArgumentError("invalid numeric width","type",e);const i=MaxUint256$1.mask(r?n-1:n),o=r?i.add(One$1).mul(NegativeOne$1):Zero$2;return function(t){const r=BigNumber$4.from(t);return(r.lt(o)||r.gt(i))&&logger$12.throwArgumentError(`value out-of-bounds for ${e}`,"value",t),hexZeroPad$5(r.toTwos(256).toHexString(),32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const r=parseInt(t[1]);return(0===r||r>32||t[1]!==String(r))&&logger$12.throwArgumentError("invalid bytes width","type",e),function(t){return arrayify$e(t).length!==r&&logger$12.throwArgumentError(`invalid length for ${e}`,"value",t),hexPadRight$1(t)}}}switch(e){case"address":return function(e){return hexZeroPad$5(getAddress$4(e),32)};case"bool":return function(e){return e?hexTrue$1:hexFalse$1};case"bytes":return function(e){return keccak256$6(e)};case"string":return function(e){return id$2(e)}}return null}function encodeType$1(e,t){return`${e}(${t.map((({name:e,type:t})=>t+" "+e)).join(",")})`}class TypedDataEncoder$1{constructor(e){defineReadOnly$6(this,"types",Object.freeze(deepCopy$2(e))),defineReadOnly$6(this,"_encoderCache",{}),defineReadOnly$6(this,"_types",{});const t={},r={},n={};Object.keys(e).forEach((e=>{t[e]={},r[e]=[],n[e]={}}));for(const o in e){const n={};e[o].forEach((i=>{n[i.name]&&logger$12.throwArgumentError(`duplicate variable name ${JSON.stringify(i.name)} in ${JSON.stringify(o)}`,"types",e),n[i.name]=!0;const s=i.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===o&&logger$12.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",e);getBaseEncoder$1(s)||(r[s]||logger$12.throwArgumentError(`unknown type ${JSON.stringify(s)}`,"types",e),r[s].push(o),t[o][s]=!0)}))}const i=Object.keys(r).filter((e=>0===r[e].length));0===i.length?logger$12.throwArgumentError("missing primary type","types",e):i.length>1&&logger$12.throwArgumentError(`ambiguous primary types or unused types: ${i.map((e=>JSON.stringify(e))).join(", ")}`,"types",e),defineReadOnly$6(this,"primaryType",i[0]),function i(o,s){s[o]&&logger$12.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e),s[o]=!0,Object.keys(t[o]).forEach((e=>{r[e]&&(i(e,s),Object.keys(s).forEach((t=>{n[t][e]=!0})))})),delete s[o]}(this.primaryType,{});for(const o in n){const t=Object.keys(n[o]);t.sort(),this._types[o]=encodeType$1(o,e[o])+t.map((t=>encodeType$1(t,e[t]))).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const t=getBaseEncoder$1(e);if(t)return t}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const e=t[1],r=this.getEncoder(e),n=parseInt(t[3]);return t=>{n>=0&&t.length!==n&&logger$12.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t);let i=t.map(r);return this._types[e]&&(i=i.map(keccak256$6)),keccak256$6(hexConcat$3(i))}}const r=this.types[e];if(r){const t=id$2(this._types[e]);return e=>{const n=r.map((({name:t,type:r})=>{const n=this.getEncoder(r)(e[t]);return this._types[r]?keccak256$6(n):n}));return n.unshift(t),hexConcat$3(n)}}return logger$12.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||logger$12.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return keccak256$6(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(getBaseEncoder$1(e))return r(e,t);const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const e=n[1],i=parseInt(n[3]);return i>=0&&t.length!==i&&logger$12.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map((t=>this._visit(e,t,r)))}const i=this.types[e];return i?i.reduce(((e,{name:n,type:i})=>(e[n]=this._visit(i,t[n],r),e)),{}):logger$12.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new TypedDataEncoder$1(e)}static getPrimaryType(e){return TypedDataEncoder$1.from(e).primaryType}static hashStruct(e,t,r){return TypedDataEncoder$1.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){const n=domainFieldTypes$1[r];n||logger$12.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:n})}return t.sort(((e,t)=>domainFieldNames$1.indexOf(e.name)-domainFieldNames$1.indexOf(t.name))),TypedDataEncoder$1.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return hexConcat$3(["0x1901",TypedDataEncoder$1.hashDomain(e),TypedDataEncoder$1.from(t).hash(r)])}static hash(e,t,r){return keccak256$6(TypedDataEncoder$1.encode(e,t,r))}static resolveNames(e,t,r,n){return __awaiter$e(this,void 0,void 0,(function*(){e=shallowCopy$3(e);const i={};e.verifyingContract&&!isHexString$j(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const o=TypedDataEncoder$1.from(t);o.visit(r,((e,t)=>("address"!==e||isHexString$j(t,20)||(i[t]="0x"),t)));for(const e in i)i[e]=yield n(e);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=o.visit(r,((e,t)=>"address"===e&&i[t]?i[t]:t)),{domain:e,value:r}}))}static getPayload(e,t,r){TypedDataEncoder$1.hashDomain(e);const n={},i=[];domainFieldNames$1.forEach((t=>{const r=e[t];null!=r&&(n[t]=domainChecks$1[t](r),i.push({name:t,type:domainFieldTypes$1[t]}))}));const o=TypedDataEncoder$1.from(t),s=shallowCopy$3(t);return s.EIP712Domain?logger$12.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):s.EIP712Domain=i,o.encode(r),{types:s,domain:n,primaryType:o.primaryType,message:o.visit(r,((e,t)=>{if(e.match(/^bytes(\d*)/))return hexlify$9(arrayify$e(t));if(e.match(/^u?int/))return BigNumber$4.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!=typeof t&&logger$12.throwArgumentError("invalid string","value",t),t}return logger$12.throwArgumentError("unsupported type","type",e)}))}}}const logger$11=new Logger$g(version$1o);class LogDescription extends Description$1{}class TransactionDescription extends Description$1{}class ErrorDescription extends Description$1{}class Indexed extends Description$1{static isIndexed(e){return!(!e||!e._isIndexed)}}const BuiltinErrors={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function wrapAccessError(e,t){const r=new Error(`deferred error during ABI decoding triggered accessing ${e}`);return r.error=t,r}class Interface{constructor(e){logger$11.checkNew(new.target,Interface);let t=[];t="string"==typeof e?JSON.parse(e):e,defineReadOnly$6(this,"fragments",t.map((e=>Fragment.from(e))).filter((e=>null!=e))),defineReadOnly$6(this,"_abiCoder",getStatic$1(new.target,"getAbiCoder")()),defineReadOnly$6(this,"functions",{}),defineReadOnly$6(this,"errors",{}),defineReadOnly$6(this,"events",{}),defineReadOnly$6(this,"structs",{}),this.fragments.forEach((e=>{let t=null;switch(e.type){case"constructor":return this.deploy?void logger$11.warn("duplicate definition - constructor"):void defineReadOnly$6(this,"deploy",e);case"function":t=this.functions;break;case"event":t=this.events;break;case"error":t=this.errors;break;default:return}let r=e.format();t[r]?logger$11.warn("duplicate definition - "+r):t[r]=e})),this.deploy||defineReadOnly$6(this,"deploy",ConstructorFragment.from({payable:!1,type:"constructor"})),defineReadOnly$6(this,"_isInterface",!0)}format(e){e||(e=FormatTypes.full),e===FormatTypes.sighash&&logger$11.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map((t=>t.format(e)));return e===FormatTypes.json?JSON.stringify(t.map((e=>JSON.parse(e)))):t}static getAbiCoder(){return defaultAbiCoder}static getAddress(e){return getAddress$4(e)}static getSighash(e){return hexDataSlice$4(id$2(e.format()),0,4)}static getEventTopic(e){return id$2(e.format())}getFunction(e){if(isHexString$j(e)){for(const t in this.functions)if(e===this.getSighash(t))return this.functions[t];logger$11.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){const t=e.trim(),r=Object.keys(this.functions).filter((e=>e.split("(")[0]===t));return 0===r.length?logger$11.throwArgumentError("no matching function","name",t):r.length>1&&logger$11.throwArgumentError("multiple matching functions","name",t),this.functions[r[0]]}const t=this.functions[FunctionFragment.fromString(e).format()];return t||logger$11.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(isHexString$j(e)){const t=e.toLowerCase();for(const e in this.events)if(t===this.getEventTopic(e))return this.events[e];logger$11.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){const t=e.trim(),r=Object.keys(this.events).filter((e=>e.split("(")[0]===t));return 0===r.length?logger$11.throwArgumentError("no matching event","name",t):r.length>1&&logger$11.throwArgumentError("multiple matching events","name",t),this.events[r[0]]}const t=this.events[EventFragment.fromString(e).format()];return t||logger$11.throwArgumentError("no matching event","signature",e),t}getError(e){if(isHexString$j(e)){const t=getStatic$1(this.constructor,"getSighash");for(const r in this.errors){if(e===t(this.errors[r]))return this.errors[r]}logger$11.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){const t=e.trim(),r=Object.keys(this.errors).filter((e=>e.split("(")[0]===t));return 0===r.length?logger$11.throwArgumentError("no matching error","name",t):r.length>1&&logger$11.throwArgumentError("multiple matching errors","name",t),this.errors[r[0]]}const t=this.errors[FunctionFragment.fromString(e).format()];return t||logger$11.throwArgumentError("no matching error","signature",e),t}getSighash(e){if("string"==typeof e)try{e=this.getFunction(e)}catch(error){try{e=this.getError(e)}catch(_){throw error}}return getStatic$1(this.constructor,"getSighash")(e)}getEventTopic(e){return"string"==typeof e&&(e=this.getEvent(e)),getStatic$1(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){"string"==typeof e&&(e=this.getError(e));const r=arrayify$e(t);return hexlify$9(r.slice(0,4))!==this.getSighash(e)&&logger$11.throwArgumentError(`data signature does not match error ${e.name}.`,"data",hexlify$9(r)),this._decodeParams(e.inputs,r.slice(4))}encodeErrorResult(e,t){return"string"==typeof e&&(e=this.getError(e)),hexlify$9(concat$7([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){"string"==typeof e&&(e=this.getFunction(e));const r=arrayify$e(t);return hexlify$9(r.slice(0,4))!==this.getSighash(e)&&logger$11.throwArgumentError(`data signature does not match function ${e.name}.`,"data",hexlify$9(r)),this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,t){return"string"==typeof e&&(e=this.getFunction(e)),hexlify$9(concat$7([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){"string"==typeof e&&(e=this.getFunction(e));let r=arrayify$e(t),n=null,i=null,o=null,s=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch(error){}break;case 4:{const e=hexlify$9(r.slice(0,4)),t=BuiltinErrors[e];if(t)i=this._abiCoder.decode(t.inputs,r.slice(4)),o=t.name,s=t.signature,t.reason&&(n=i[0]);else try{const t=this.getError(e);i=this._abiCoder.decode(t.inputs,r.slice(4)),o=t.name,s=t.format()}catch(error){console.log(error)}break}}return logger$11.throwError("call revert exception",Logger$g.errors.CALL_EXCEPTION,{method:e.format(),errorArgs:i,errorName:o,errorSignature:s,reason:n})}encodeFunctionResult(e,t){return"string"==typeof e&&(e=this.getFunction(e)),hexlify$9(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){"string"==typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&logger$11.throwError("too many arguments for "+e.format(),Logger$g.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let r=[];e.anonymous||r.push(this.getEventTopic(e));const n=(e,t)=>"string"===e.type?id$2(t):"bytes"===e.type?keccak256$6(hexlify$9(t)):("address"===e.type&&this._abiCoder.encode(["address"],[t]),hexZeroPad$5(hexlify$9(t),32));for(t.forEach(((t,i)=>{let o=e.inputs[i];o.indexed?null==t?r.push(null):"array"===o.baseType||"tuple"===o.baseType?logger$11.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,t):Array.isArray(t)?r.push(t.map((e=>n(o,e)))):r.push(n(o,t)):null!=t&&logger$11.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,t)}));r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){"string"==typeof e&&(e=this.getEvent(e));const r=[],n=[],i=[];return e.anonymous||r.push(this.getEventTopic(e)),t.length!==e.inputs.length&&logger$11.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach(((e,o)=>{const s=t[o];if(e.indexed)if("string"===e.type)r.push(id$2(s));else if("bytes"===e.type)r.push(keccak256$6(s));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");r.push(this._abiCoder.encode([e.type],[s]))}else n.push(e),i.push(s)})),{data:this._abiCoder.encode(n,i),topics:r}}decodeEventLog(e,t,r){if("string"==typeof e&&(e=this.getEvent(e)),null!=r&&!e.anonymous){let t=this.getEventTopic(e);isHexString$j(r[0],32)&&r[0].toLowerCase()===t||logger$11.throwError("fragment/topic mismatch",Logger$g.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:t,value:r[0]}),r=r.slice(1)}let n=[],i=[],o=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(n.push(ParamType.fromObject({type:"bytes32",name:e.name})),o.push(!0)):(n.push(e),o.push(!1)):(i.push(e),o.push(!1))}));let s=null!=r?this._abiCoder.decode(n,concat$7(r)):null,a=this._abiCoder.decode(i,t,!0),u=[],l=0,c=0;e.inputs.forEach(((e,t)=>{if(e.indexed)if(null==s)u[t]=new Indexed({_isIndexed:!0,hash:null});else if(o[t])u[t]=new Indexed({_isIndexed:!0,hash:s[c++]});else try{u[t]=s[c++]}catch(error){u[t]=error}else try{u[t]=a[l++]}catch(error){u[t]=error}if(e.name&&null==u[e.name]){const r=u[t];r instanceof Error?Object.defineProperty(u,e.name,{enumerable:!0,get:()=>{throw wrapAccessError(`property ${JSON.stringify(e.name)}`,r)}}):u[e.name]=r}}));for(let f=0;f<u.length;f++){const e=u[f];e instanceof Error&&Object.defineProperty(u,f,{enumerable:!0,get:()=>{throw wrapAccessError(`index ${f}`,e)}})}return Object.freeze(u)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new TransactionDescription({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:BigNumber$4.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new LogDescription({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=hexlify$9(e);let r=this.getError(t.substring(0,10).toLowerCase());return r?new ErrorDescription({args:this._abiCoder.decode(r.inputs,"0x"+t.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(e){return!(!e||!e._isInterface)}}var lib_esm$k=Object.freeze(Object.defineProperty({__proto__:null,ConstructorFragment:ConstructorFragment,ErrorFragment:ErrorFragment,EventFragment:EventFragment,Fragment:Fragment,FunctionFragment:FunctionFragment,ParamType:ParamType,FormatTypes:FormatTypes,AbiCoder:AbiCoder,defaultAbiCoder:defaultAbiCoder,Interface:Interface,Indexed:Indexed,checkResultErrors:checkResultErrors,LogDescription:LogDescription,TransactionDescription:TransactionDescription},Symbol.toStringTag,{value:"Module"}));function detectEthereumProvider({mustBeMetaMask:e=!1,silent:t=!1,timeout:r=3e3}={}){!function(){if("boolean"!=typeof e)throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if("boolean"!=typeof t)throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if("number"!=typeof r)throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}();let n=!1;return new Promise((i=>{function o(){if(n)return;n=!0,window.removeEventListener("ethereum#initialized",o);const{ethereum:r}=window;if(!r||e&&!r.isMetaMask){const n=e&&r?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum.";!t&&console.error("@metamask/detect-provider:",n),i(null)}else i(r)}window.ethereum?o():(window.addEventListener("ethereum#initialized",o,{once:!0}),setTimeout((()=>{o()}),r))}))}var dist$7=detectEthereumProvider,utils$s={},require$$0$4=getAugmentedNamespace(lib_esm$k);const version$1j="logger/5.6.0";let _permanentCensorErrors$f=!1,_censorErrors$f=!1;const LogLevels$f={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$f=LogLevels$f.default,_globalLogger$f=null;function _checkNormalize$f(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(error){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(error){return error.message}return null}const _normalizeError$f=_checkNormalize$f();var LogLevel$f,ErrorCode$f;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(LogLevel$f||(LogLevel$f={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(ErrorCode$f||(ErrorCode$f={}));const HEX$f="0123456789abcdef";class Logger$f{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==LogLevels$f[r]&&this.throwArgumentError("invalid log level name","logLevel",e),_logLevel$f>LogLevels$f[r]||console.log.apply(console,t)}debug(...e){this._log(Logger$f.levels.DEBUG,e)}info(...e){this._log(Logger$f.levels.INFO,e)}warn(...e){this._log(Logger$f.levels.WARNING,e)}makeError(e,t,r){if(_censorErrors$f)return this.makeError("censored error",t,{});t||(t=Logger$f.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=HEX$f[t[e]>>4],r+=HEX$f[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(s){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;let o="";switch(t){case ErrorCode$f.NUMERIC_FAULT:{o="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case ErrorCode$f.CALL_EXCEPTION:case ErrorCode$f.INSUFFICIENT_FUNDS:case ErrorCode$f.MISSING_NEW:case ErrorCode$f.NONCE_EXPIRED:case ErrorCode$f.REPLACEMENT_UNDERPRICED:case ErrorCode$f.TRANSACTION_REPLACED:case ErrorCode$f.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Logger$f.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){_normalizeError$f&&this.throwError("platform missing String.prototype.normalize",Logger$f.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$f})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Logger$f.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Logger$f.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Logger$f.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Logger$f.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Logger$f.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Logger$f.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Logger$f.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return _globalLogger$f||(_globalLogger$f=new Logger$f(version$1j)),_globalLogger$f}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$f.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$f){if(!e)return;this.globalLogger().throwError("error censorship permanent",Logger$f.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$f=!!e,_permanentCensorErrors$f=!!t}static setLogLevel(e){const t=LogLevels$f[e.toLowerCase()];null!=t?_logLevel$f=t:Logger$f.globalLogger().warn("invalid log level - "+e)}static from(e){return new Logger$f(e)}}Logger$f.errors=ErrorCode$f,Logger$f.levels=LogLevel$f;const version$1i="bytes/5.6.1",logger$10=new Logger$f(version$1i);function isHexable$d(e){return!!e.toHexString}function addSlice$d(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return addSlice$d(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function isBytesLike$6(e){return isHexString$i(e)&&!(e.length%2)||isBytes$d(e)}function isInteger$d(e){return"number"==typeof e&&e==e&&e%1==0}function isBytes$d(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!isInteger$d(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!isInteger$d(r)||r<0||r>=256)return!1}return!0}function arrayify$d(e,t){if(t||(t={}),"number"==typeof e){logger$10.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),addSlice$d(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable$d(e)&&(e=e.toHexString()),isHexString$i(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":logger$10.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return addSlice$d(new Uint8Array(n))}return isBytes$d(e)?addSlice$d(new Uint8Array(e)):logger$10.throwArgumentError("invalid arrayify value","value",e)}function concat$6(e){const t=e.map((e=>arrayify$d(e))),r=t.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(r);return t.reduce(((e,t)=>(n.set(t,e),e+t.length)),0),addSlice$d(n)}function stripZeros$2(e){let t=arrayify$d(e);if(0===t.length)return t;let r=0;for(;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function isHexString$i(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}const HexCharacters$8="0123456789abcdef";function hexlify$8(e,t){if(t||(t={}),"number"==typeof e){logger$10.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=HexCharacters$8[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable$d(e))return e.toHexString();if(isHexString$i(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":logger$10.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(isBytes$d(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=HexCharacters$8[(240&n)>>4]+HexCharacters$8[15&n]}return t}return logger$10.throwArgumentError("invalid hexlify value","value",e)}function hexDataLength$2(e){if("string"!=typeof e)e=hexlify$8(e);else if(!isHexString$i(e)||e.length%2)return null;return(e.length-2)/2}function hexDataSlice$3(e,t,r){return"string"!=typeof e?e=hexlify$8(e):(!isHexString$i(e)||e.length%2)&&logger$10.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}const version$1h="bignumber/5.6.0";var BN$k=_BN.BN;const logger$$=new Logger$f(version$1h),_constructorGuard$6={},MAX_SAFE$3=9007199254740991;let _warnedToStringRadix$3=!1;class BigNumber$3{constructor(e,t){logger$$.checkNew(new.target,BigNumber$3),e!==_constructorGuard$6&&logger$$.throwError("cannot call constructor directly; use BigNumber.from",Logger$f.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return toBigNumber$3(toBN$3(this).fromTwos(e))}toTwos(e){return toBigNumber$3(toBN$3(this).toTwos(e))}abs(){return"-"===this._hex[0]?BigNumber$3.from(this._hex.substring(1)):this}add(e){return toBigNumber$3(toBN$3(this).add(toBN$3(e)))}sub(e){return toBigNumber$3(toBN$3(this).sub(toBN$3(e)))}div(e){return BigNumber$3.from(e).isZero()&&throwFault$3("division-by-zero","div"),toBigNumber$3(toBN$3(this).div(toBN$3(e)))}mul(e){return toBigNumber$3(toBN$3(this).mul(toBN$3(e)))}mod(e){const t=toBN$3(e);return t.isNeg()&&throwFault$3("division-by-zero","mod"),toBigNumber$3(toBN$3(this).umod(t))}pow(e){const t=toBN$3(e);return t.isNeg()&&throwFault$3("negative-power","pow"),toBigNumber$3(toBN$3(this).pow(t))}and(e){const t=toBN$3(e);return(this.isNegative()||t.isNeg())&&throwFault$3("unbound-bitwise-result","and"),toBigNumber$3(toBN$3(this).and(t))}or(e){const t=toBN$3(e);return(this.isNegative()||t.isNeg())&&throwFault$3("unbound-bitwise-result","or"),toBigNumber$3(toBN$3(this).or(t))}xor(e){const t=toBN$3(e);return(this.isNegative()||t.isNeg())&&throwFault$3("unbound-bitwise-result","xor"),toBigNumber$3(toBN$3(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&throwFault$3("negative-width","mask"),toBigNumber$3(toBN$3(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&throwFault$3("negative-width","shl"),toBigNumber$3(toBN$3(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&throwFault$3("negative-width","shr"),toBigNumber$3(toBN$3(this).shrn(e))}eq(e){return toBN$3(this).eq(toBN$3(e))}lt(e){return toBN$3(this).lt(toBN$3(e))}lte(e){return toBN$3(this).lte(toBN$3(e))}gt(e){return toBN$3(this).gt(toBN$3(e))}gte(e){return toBN$3(this).gte(toBN$3(e))}isNegative(){return"-"===this._hex[0]}isZero(){return toBN$3(this).isZero()}toNumber(){try{return toBN$3(this).toNumber()}catch(error){throwFault$3("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return logger$$.throwError("this platform does not support BigInt",Logger$f.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?_warnedToStringRadix$3||(_warnedToStringRadix$3=!0,logger$$.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?logger$$.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Logger$f.errors.UNEXPECTED_ARGUMENT,{}):logger$$.throwError("BigNumber.toString does not accept parameters",Logger$f.errors.UNEXPECTED_ARGUMENT,{})),toBN$3(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof BigNumber$3)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new BigNumber$3(_constructorGuard$6,toHex$4(e)):e.match(/^-?[0-9]+$/)?new BigNumber$3(_constructorGuard$6,toHex$4(new BN$k(e))):logger$$.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&throwFault$3("underflow","BigNumber.from",e),(e>=MAX_SAFE$3||e<=-MAX_SAFE$3)&&throwFault$3("overflow","BigNumber.from",e),BigNumber$3.from(String(e));const t=e;if("bigint"==typeof t)return BigNumber$3.from(t.toString());if(isBytes$d(t))return BigNumber$3.from(hexlify$8(t));if(t)if(t.toHexString){const e=t.toHexString();if("string"==typeof e)return BigNumber$3.from(e)}else{let e=t._hex;if(null==e&&"BigNumber"===t.type&&(e=t.hex),"string"==typeof e&&(isHexString$i(e)||"-"===e[0]&&isHexString$i(e.substring(1))))return BigNumber$3.from(e)}return logger$$.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!(!e||!e._isBigNumber)}}function toHex$4(e){if("string"!=typeof e)return toHex$4(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&logger$$.throwArgumentError("invalid hex","value",e),"0x00"===(e=toHex$4(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function toBigNumber$3(e){return BigNumber$3.from(toHex$4(e))}function toBN$3(e){const t=BigNumber$3.from(e).toHexString();return"-"===t[0]?new BN$k("-"+t.substring(3),16):new BN$k(t.substring(2),16)}function throwFault$3(e,t,r){const n={fault:e,operation:t};return null!=r&&(n.value=r),logger$$.throwError(e,Logger$f.errors.NUMERIC_FAULT,n)}function _base36To16$3(e){return new BN$k(e,36).toString(16)}function _base16To36(e){return new BN$k(e,16).toString(36)}function keccak256$5(e){return"0x"+sha3.keccak_256(arrayify$d(e))}const version$1g="rlp/5.6.0",logger$_=new Logger$f(version$1g);function arrayifyInteger$2(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function _encode$2(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(_encode$2(e))})),t.length<=55)return t.unshift(192+t.length),t;const r=arrayifyInteger$2(t.length);return r.unshift(247+r.length),r.concat(t)}isBytesLike$6(e)||logger$_.throwArgumentError("RLP object must be BytesLike","object",e);const t=Array.prototype.slice.call(arrayify$d(e));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const r=arrayifyInteger$2(t.length);return r.unshift(183+r.length),r.concat(t)}function encode$8(e){return hexlify$8(_encode$2(e))}const version$1f="address/5.5.0",logger$Z=new Logger$f(version$1f);function getChecksumAddress$3(e){isHexString$i(e,20)||logger$Z.throwArgumentError("invalid address","address",e);const t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=t[i].charCodeAt(0);const n=arrayify$d(keccak256$5(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(15&n[i>>1])>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const MAX_SAFE_INTEGER$5=9007199254740991;function log10$3(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}const ibanLookup$3={};for(let ee=0;ee<10;ee++)ibanLookup$3[String(ee)]=String(ee);for(let ee=0;ee<26;ee++)ibanLookup$3[String.fromCharCode(65+ee)]=String(10+ee);const safeDigits$3=Math.floor(log10$3(MAX_SAFE_INTEGER$5));function ibanChecksum$3(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>ibanLookup$3[e])).join("");for(;t.length>=safeDigits$3;){let e=t.substring(0,safeDigits$3);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function getAddress$3(e){let t=null;if("string"!=typeof e&&logger$Z.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=getChecksumAddress$3(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&logger$Z.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==ibanChecksum$3(e)&&logger$Z.throwArgumentError("bad icap checksum","address",e),t=_base36To16$3(e.substring(4));t.length<40;)t="0"+t;t=getChecksumAddress$3("0x"+t)}else logger$Z.throwArgumentError("invalid address","address",e);return t}function isAddress(e){try{return getAddress$3(e),!0}catch(error){}return!1}function getIcapAddress(e){let t=_base16To36(getAddress$3(e).substring(2)).toUpperCase();for(;t.length<30;)t="0"+t;return"XE"+ibanChecksum$3("XE00"+t)+t}function getContractAddress(e){let t=null;try{t=getAddress$3(e.from)}catch(error){logger$Z.throwArgumentError("missing from address","transaction",e)}return getAddress$3(hexDataSlice$3(keccak256$5(encode$8([t,stripZeros$2(arrayify$d(BigNumber$3.from(e.nonce).toHexString()))])),12))}function getCreate2Address(e,t,r){return 32!==hexDataLength$2(t)&&logger$Z.throwArgumentError("salt must be 32 bytes","salt",t),32!==hexDataLength$2(r)&&logger$Z.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),getAddress$3(hexDataSlice$3(keccak256$5(concat$6(["0xff",getAddress$3(e),t,r])),12))}var lib_esm$j=Object.freeze(Object.defineProperty({__proto__:null,getAddress:getAddress$3,isAddress:isAddress,getIcapAddress:getIcapAddress,getContractAddress:getContractAddress,getCreate2Address:getCreate2Address},Symbol.toStringTag,{value:"Module"})),require$$1$2=getAugmentedNamespace(lib_esm$j);const version$1e="logger/5.6.0";let _permanentCensorErrors$e=!1,_censorErrors$e=!1;const LogLevels$e={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$e=LogLevels$e.default,_globalLogger$e=null;function _checkNormalize$e(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(error){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(error){return error.message}return null}const _normalizeError$e=_checkNormalize$e();var LogLevel$e,ErrorCode$e;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(LogLevel$e||(LogLevel$e={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(ErrorCode$e||(ErrorCode$e={}));const HEX$e="0123456789abcdef";class Logger$e{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==LogLevels$e[r]&&this.throwArgumentError("invalid log level name","logLevel",e),_logLevel$e>LogLevels$e[r]||console.log.apply(console,t)}debug(...e){this._log(Logger$e.levels.DEBUG,e)}info(...e){this._log(Logger$e.levels.INFO,e)}warn(...e){this._log(Logger$e.levels.WARNING,e)}makeError(e,t,r){if(_censorErrors$e)return this.makeError("censored error",t,{});t||(t=Logger$e.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=HEX$e[t[e]>>4],r+=HEX$e[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(s){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;let o="";switch(t){case ErrorCode$e.NUMERIC_FAULT:{o="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case ErrorCode$e.CALL_EXCEPTION:case ErrorCode$e.INSUFFICIENT_FUNDS:case ErrorCode$e.MISSING_NEW:case ErrorCode$e.NONCE_EXPIRED:case ErrorCode$e.REPLACEMENT_UNDERPRICED:case ErrorCode$e.TRANSACTION_REPLACED:case ErrorCode$e.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Logger$e.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){_normalizeError$e&&this.throwError("platform missing String.prototype.normalize",Logger$e.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$e})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Logger$e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Logger$e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Logger$e.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Logger$e.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Logger$e.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Logger$e.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Logger$e.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return _globalLogger$e||(_globalLogger$e=new Logger$e(version$1e)),_globalLogger$e}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$e){if(!e)return;this.globalLogger().throwError("error censorship permanent",Logger$e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$e=!!e,_permanentCensorErrors$e=!!t}static setLogLevel(e){const t=LogLevels$e[e.toLowerCase()];null!=t?_logLevel$e=t:Logger$e.globalLogger().warn("invalid log level - "+e)}static from(e){return new Logger$e(e)}}Logger$e.errors=ErrorCode$e,Logger$e.levels=LogLevel$e;const version$1d="bytes/5.6.1",logger$Y=new Logger$e(version$1d);function isHexable$c(e){return!!e.toHexString}function addSlice$c(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return addSlice$c(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function isInteger$c(e){return"number"==typeof e&&e==e&&e%1==0}function isBytes$c(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!isInteger$c(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!isInteger$c(r)||r<0||r>=256)return!1}return!0}function arrayify$c(e,t){if(t||(t={}),"number"==typeof e){logger$Y.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),addSlice$c(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable$c(e)&&(e=e.toHexString()),isHexString$h(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":logger$Y.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return addSlice$c(new Uint8Array(n))}return isBytes$c(e)?addSlice$c(new Uint8Array(e)):logger$Y.throwArgumentError("invalid arrayify value","value",e)}function isHexString$h(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}function decode$9(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return arrayify$c(t)}function encode$7(e){e=arrayify$c(e);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}var lib_esm$i=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$9,encode:encode$7},Symbol.toStringTag,{value:"Module"})),require$$2$2=getAugmentedNamespace(lib_esm$i);const version$1c="logger/5.6.0";let _permanentCensorErrors$d=!1,_censorErrors$d=!1;const LogLevels$d={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$d=LogLevels$d.default,_globalLogger$d=null;function _checkNormalize$d(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(error){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(error){return error.message}return null}const _normalizeError$d=_checkNormalize$d();var LogLevel$d,ErrorCode$d;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(LogLevel$d||(LogLevel$d={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(ErrorCode$d||(ErrorCode$d={}));const HEX$d="0123456789abcdef";class Logger$d{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==LogLevels$d[r]&&this.throwArgumentError("invalid log level name","logLevel",e),_logLevel$d>LogLevels$d[r]||console.log.apply(console,t)}debug(...e){this._log(Logger$d.levels.DEBUG,e)}info(...e){this._log(Logger$d.levels.INFO,e)}warn(...e){this._log(Logger$d.levels.WARNING,e)}makeError(e,t,r){if(_censorErrors$d)return this.makeError("censored error",t,{});t||(t=Logger$d.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=HEX$d[t[e]>>4],r+=HEX$d[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(s){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;let o="";switch(t){case ErrorCode$d.NUMERIC_FAULT:{o="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case ErrorCode$d.CALL_EXCEPTION:case ErrorCode$d.INSUFFICIENT_FUNDS:case ErrorCode$d.MISSING_NEW:case ErrorCode$d.NONCE_EXPIRED:case ErrorCode$d.REPLACEMENT_UNDERPRICED:case ErrorCode$d.TRANSACTION_REPLACED:case ErrorCode$d.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Logger$d.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){_normalizeError$d&&this.throwError("platform missing String.prototype.normalize",Logger$d.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$d})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Logger$d.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Logger$d.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Logger$d.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Logger$d.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Logger$d.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Logger$d.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Logger$d.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return _globalLogger$d||(_globalLogger$d=new Logger$d(version$1c)),_globalLogger$d}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$d.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$d){if(!e)return;this.globalLogger().throwError("error censorship permanent",Logger$d.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$d=!!e,_permanentCensorErrors$d=!!t}static setLogLevel(e){const t=LogLevels$d[e.toLowerCase()];null!=t?_logLevel$d=t:Logger$d.globalLogger().warn("invalid log level - "+e)}static from(e){return new Logger$d(e)}}Logger$d.errors=ErrorCode$d,Logger$d.levels=LogLevel$d;const version$1b="bytes/5.6.1",logger$X=new Logger$d(version$1b);function isHexable$b(e){return!!e.toHexString}function addSlice$b(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return addSlice$b(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function isInteger$b(e){return"number"==typeof e&&e==e&&e%1==0}function isBytes$b(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!isInteger$b(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!isInteger$b(r)||r<0||r>=256)return!1}return!0}function arrayify$b(e,t){if(t||(t={}),"number"==typeof e){logger$X.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),addSlice$b(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable$b(e)&&(e=e.toHexString()),isHexString$g(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":logger$X.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return addSlice$b(new Uint8Array(n))}return isBytes$b(e)?addSlice$b(new Uint8Array(e)):logger$X.throwArgumentError("invalid arrayify value","value",e)}function isHexString$g(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}const version$1a="properties/5.6.0";function defineReadOnly$5(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}globalThis&&globalThis.__awaiter,new Logger$d(version$1a);class BaseX$2{constructor(e){defineReadOnly$5(this,"alphabet",e),defineReadOnly$5(this,"base",e.length),defineReadOnly$5(this,"_alphabetMap",{}),defineReadOnly$5(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=arrayify$b(e);if(0===t.length)return"";let r=[0];for(let i=0;i<t.length;++i){let e=t[i];for(let t=0;t<r.length;++t)e+=r[t]<<8,r[t]=e%this.base,e=e/this.base|0;for(;e>0;)r.push(e%this.base),e=e/this.base|0}let n="";for(let i=0;0===t[i]&&i<t.length-1;++i)n+=this._leader;for(let i=r.length-1;i>=0;--i)n+=this.alphabet[r[i]];return n}decode(e){if("string"!=typeof e)throw new TypeError("Expected String");let t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(let r=0;r<e.length;r++){let n=this._alphabetMap[e[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");let i=n;for(let e=0;e<t.length;++e)i+=t[e]*this.base,t[e]=255&i,i>>=8;for(;i>0;)t.push(255&i),i>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)t.push(0);return arrayify$b(new Uint8Array(t.reverse()))}}const Base32=new BaseX$2("abcdefghijklmnopqrstuvwxyz234567"),Base58$2=new BaseX$2("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var lib_esm$h=Object.freeze(Object.defineProperty({__proto__:null,BaseX:BaseX$2,Base32:Base32,Base58:Base58$2},Symbol.toStringTag,{value:"Module"})),require$$3$2=getAugmentedNamespace(lib_esm$h);const version$19="logger/5.6.0";let _permanentCensorErrors$c=!1,_censorErrors$c=!1;const LogLevels$c={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$c=LogLevels$c.default,_globalLogger$c=null;function _checkNormalize$c(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(error){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(error){return error.message}return null}const _normalizeError$c=_checkNormalize$c();var LogLevel$c,ErrorCode$c;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(LogLevel$c||(LogLevel$c={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(ErrorCode$c||(ErrorCode$c={}));const HEX$c="0123456789abcdef";class Logger$c{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==LogLevels$c[r]&&this.throwArgumentError("invalid log level name","logLevel",e),_logLevel$c>LogLevels$c[r]||console.log.apply(console,t)}debug(...e){this._log(Logger$c.levels.DEBUG,e)}info(...e){this._log(Logger$c.levels.INFO,e)}warn(...e){this._log(Logger$c.levels.WARNING,e)}makeError(e,t,r){if(_censorErrors$c)return this.makeError("censored error",t,{});t||(t=Logger$c.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=HEX$c[t[e]>>4],r+=HEX$c[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(s){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;let o="";switch(t){case ErrorCode$c.NUMERIC_FAULT:{o="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case ErrorCode$c.CALL_EXCEPTION:case ErrorCode$c.INSUFFICIENT_FUNDS:case ErrorCode$c.MISSING_NEW:case ErrorCode$c.NONCE_EXPIRED:case ErrorCode$c.REPLACEMENT_UNDERPRICED:case ErrorCode$c.TRANSACTION_REPLACED:case ErrorCode$c.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Logger$c.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){_normalizeError$c&&this.throwError("platform missing String.prototype.normalize",Logger$c.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$c})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Logger$c.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Logger$c.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Logger$c.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Logger$c.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Logger$c.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Logger$c.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Logger$c.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return _globalLogger$c||(_globalLogger$c=new Logger$c(version$19)),_globalLogger$c}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$c.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$c){if(!e)return;this.globalLogger().throwError("error censorship permanent",Logger$c.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$c=!!e,_permanentCensorErrors$c=!!t}static setLogLevel(e){const t=LogLevels$c[e.toLowerCase()];null!=t?_logLevel$c=t:Logger$c.globalLogger().warn("invalid log level - "+e)}static from(e){return new Logger$c(e)}}Logger$c.errors=ErrorCode$c,Logger$c.levels=LogLevel$c;const version$18="bytes/5.5.0",logger$W=new Logger$c(version$18);function isHexable$a(e){return!!e.toHexString}function addSlice$a(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return addSlice$a(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function isBytesLike$5(e){return isHexString$f(e)&&!(e.length%2)||isBytes$a(e)}function isInteger$a(e){return"number"==typeof e&&e==e&&e%1==0}function isBytes$a(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!isInteger$a(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!isInteger$a(r)||r<0||r>=256)return!1}return!0}function arrayify$a(e,t){if(t||(t={}),"number"==typeof e){logger$W.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),addSlice$a(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable$a(e)&&(e=e.toHexString()),isHexString$f(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0x0"+r.substring(2):"right"===t.hexPad?r+="0":logger$W.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return addSlice$a(new Uint8Array(n))}return isBytes$a(e)?addSlice$a(new Uint8Array(e)):logger$W.throwArgumentError("invalid arrayify value","value",e)}function concat$5(e){const t=e.map((e=>arrayify$a(e))),r=t.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(r);return t.reduce(((e,t)=>(n.set(t,e),e+t.length)),0),addSlice$a(n)}function stripZeros$1(e){let t=arrayify$a(e);if(0===t.length)return t;let r=0;for(;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function zeroPad$3(e,t){(e=arrayify$a(e)).length>t&&logger$W.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(t);return r.set(e,t-e.length),addSlice$a(r)}function isHexString$f(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}const HexCharacters$7="0123456789abcdef";function hexlify$7(e,t){if(t||(t={}),"number"==typeof e){logger$W.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=HexCharacters$7[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable$a(e))return e.toHexString();if(isHexString$f(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":logger$W.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(isBytes$a(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=HexCharacters$7[(240&n)>>4]+HexCharacters$7[15&n]}return t}return logger$W.throwArgumentError("invalid hexlify value","value",e)}function hexDataLength$1(e){if("string"!=typeof e)e=hexlify$7(e);else if(!isHexString$f(e)||e.length%2)return null;return(e.length-2)/2}function hexDataSlice$2(e,t,r){return"string"!=typeof e?e=hexlify$7(e):(!isHexString$f(e)||e.length%2)&&logger$W.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function hexConcat$2(e){let t="0x";return e.forEach((e=>{t+=hexlify$7(e).substring(2)})),t}function hexValue(e){const t=hexStripZeros(hexlify$7(e,{hexPad:"left"}));return"0x"===t?"0x0":t}function hexStripZeros(e){"string"!=typeof e&&(e=hexlify$7(e)),isHexString$f(e)||logger$W.throwArgumentError("invalid hex string","value",e),e=e.substring(2);let t=0;for(;t<e.length&&"0"===e[t];)t++;return"0x"+e.substring(t)}function hexZeroPad$4(e,t){for("string"!=typeof e?e=hexlify$7(e):isHexString$f(e)||logger$W.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&logger$W.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function splitSignature$3(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0};if(isBytesLike$5(e)){const r=arrayify$a(e);65!==r.length&&logger$W.throwArgumentError("invalid signature string; must be 65 bytes","signature",e),t.r=hexlify$7(r.slice(0,32)),t.s=hexlify$7(r.slice(32,64)),t.v=r[64],t.v<27&&(0===t.v||1===t.v?t.v+=27:logger$W.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=hexlify$7(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){const r=zeroPad$3(arrayify$a(t._vs),32);t._vs=hexlify$7(r);const n=r[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=n:t.recoveryParam!==n&&logger$W.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),r[0]&=127;const i=hexlify$7(r);null==t.s?t.s=i:t.s!==i&&logger$W.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?logger$W.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{const r=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==r&&logger$W.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&isHexString$f(t.r)?t.r=hexZeroPad$4(t.r,32):logger$W.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&isHexString$f(t.s)?t.s=hexZeroPad$4(t.s,32):logger$W.throwArgumentError("signature missing or invalid s","signature",e);const r=arrayify$a(t.s);r[0]>=128&&logger$W.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);const n=hexlify$7(r);t._vs&&(isHexString$f(t._vs)||logger$W.throwArgumentError("signature invalid _vs","signature",e),t._vs=hexZeroPad$4(t._vs,32)),null==t._vs?t._vs=n:t._vs!==n&&logger$W.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t}function joinSignature(e){return hexlify$7(concat$5([(e=splitSignature$3(e)).r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}var lib_esm$g=Object.freeze(Object.defineProperty({__proto__:null,isBytesLike:isBytesLike$5,isBytes:isBytes$a,arrayify:arrayify$a,concat:concat$5,stripZeros:stripZeros$1,zeroPad:zeroPad$3,isHexString:isHexString$f,hexlify:hexlify$7,hexDataLength:hexDataLength$1,hexDataSlice:hexDataSlice$2,hexConcat:hexConcat$2,hexValue:hexValue,hexStripZeros:hexStripZeros,hexZeroPad:hexZeroPad$4,splitSignature:splitSignature$3,joinSignature:joinSignature},Symbol.toStringTag,{value:"Module"})),require$$4=getAugmentedNamespace(lib_esm$g);const version$17="logger/5.6.0";let _permanentCensorErrors$b=!1,_censorErrors$b=!1;const LogLevels$b={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$b=LogLevels$b.default,_globalLogger$b=null;function _checkNormalize$b(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(error){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(error){return error.message}return null}const _normalizeError$b=_checkNormalize$b();var LogLevel$b,ErrorCode$b;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(LogLevel$b||(LogLevel$b={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(ErrorCode$b||(ErrorCode$b={}));const HEX$b="0123456789abcdef";class Logger$b{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==LogLevels$b[r]&&this.throwArgumentError("invalid log level name","logLevel",e),_logLevel$b>LogLevels$b[r]||console.log.apply(console,t)}debug(...e){this._log(Logger$b.levels.DEBUG,e)}info(...e){this._log(Logger$b.levels.INFO,e)}warn(...e){this._log(Logger$b.levels.WARNING,e)}makeError(e,t,r){if(_censorErrors$b)return this.makeError("censored error",t,{});t||(t=Logger$b.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=HEX$b[t[e]>>4],r+=HEX$b[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(s){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;let o="";switch(t){case ErrorCode$b.NUMERIC_FAULT:{o="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case ErrorCode$b.CALL_EXCEPTION:case ErrorCode$b.INSUFFICIENT_FUNDS:case ErrorCode$b.MISSING_NEW:case ErrorCode$b.NONCE_EXPIRED:case ErrorCode$b.REPLACEMENT_UNDERPRICED:case ErrorCode$b.TRANSACTION_REPLACED:case ErrorCode$b.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Logger$b.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){_normalizeError$b&&this.throwError("platform missing String.prototype.normalize",Logger$b.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$b})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Logger$b.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Logger$b.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Logger$b.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Logger$b.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Logger$b.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Logger$b.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Logger$b.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return _globalLogger$b||(_globalLogger$b=new Logger$b(version$17)),_globalLogger$b}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$b.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$b){if(!e)return;this.globalLogger().throwError("error censorship permanent",Logger$b.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$b=!!e,_permanentCensorErrors$b=!!t}static setLogLevel(e){const t=LogLevels$b[e.toLowerCase()];null!=t?_logLevel$b=t:Logger$b.globalLogger().warn("invalid log level - "+e)}static from(e){return new Logger$b(e)}}Logger$b.errors=ErrorCode$b,Logger$b.levels=LogLevel$b;const version$16="bytes/5.6.1",logger$V=new Logger$b(version$16);function isHexable$9(e){return!!e.toHexString}function addSlice$9(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return addSlice$9(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function isInteger$9(e){return"number"==typeof e&&e==e&&e%1==0}function isBytes$9(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!isInteger$9(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!isInteger$9(r)||r<0||r>=256)return!1}return!0}function arrayify$9(e,t){if(t||(t={}),"number"==typeof e){logger$V.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),addSlice$9(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable$9(e)&&(e=e.toHexString()),isHexString$e(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":logger$V.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return addSlice$9(new Uint8Array(n))}return isBytes$9(e)?addSlice$9(new Uint8Array(e)):logger$V.throwArgumentError("invalid arrayify value","value",e)}function concat$4(e){const t=e.map((e=>arrayify$9(e))),r=t.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(r);return t.reduce(((e,t)=>(n.set(t,e),e+t.length)),0),addSlice$9(n)}function isHexString$e(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}const HexCharacters$6="0123456789abcdef";function hexlify$6(e,t){if(t||(t={}),"number"==typeof e){logger$V.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=HexCharacters$6[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable$9(e))return e.toHexString();if(isHexString$e(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":logger$V.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(isBytes$9(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=HexCharacters$6[(240&n)>>4]+HexCharacters$6[15&n]}return t}return logger$V.throwArgumentError("invalid hexlify value","value",e)}function hexConcat$1(e){let t="0x";return e.forEach((e=>{t+=hexlify$6(e).substring(2)})),t}function hexZeroPad$3(e,t){for("string"!=typeof e?e=hexlify$6(e):isHexString$e(e)||logger$V.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&logger$V.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function keccak256$4(e){return"0x"+sha3.keccak_256(arrayify$9(e))}const version$15="bignumber/5.6.0";var BN$j=_BN.BN;const logger$U=new Logger$b(version$15),_constructorGuard$5={},MAX_SAFE$2=9007199254740991;let _warnedToStringRadix$2=!1;class BigNumber$2{constructor(e,t){logger$U.checkNew(new.target,BigNumber$2),e!==_constructorGuard$5&&logger$U.throwError("cannot call constructor directly; use BigNumber.from",Logger$b.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return toBigNumber$2(toBN$2(this).fromTwos(e))}toTwos(e){return toBigNumber$2(toBN$2(this).toTwos(e))}abs(){return"-"===this._hex[0]?BigNumber$2.from(this._hex.substring(1)):this}add(e){return toBigNumber$2(toBN$2(this).add(toBN$2(e)))}sub(e){return toBigNumber$2(toBN$2(this).sub(toBN$2(e)))}div(e){return BigNumber$2.from(e).isZero()&&throwFault$2("division-by-zero","div"),toBigNumber$2(toBN$2(this).div(toBN$2(e)))}mul(e){return toBigNumber$2(toBN$2(this).mul(toBN$2(e)))}mod(e){const t=toBN$2(e);return t.isNeg()&&throwFault$2("division-by-zero","mod"),toBigNumber$2(toBN$2(this).umod(t))}pow(e){const t=toBN$2(e);return t.isNeg()&&throwFault$2("negative-power","pow"),toBigNumber$2(toBN$2(this).pow(t))}and(e){const t=toBN$2(e);return(this.isNegative()||t.isNeg())&&throwFault$2("unbound-bitwise-result","and"),toBigNumber$2(toBN$2(this).and(t))}or(e){const t=toBN$2(e);return(this.isNegative()||t.isNeg())&&throwFault$2("unbound-bitwise-result","or"),toBigNumber$2(toBN$2(this).or(t))}xor(e){const t=toBN$2(e);return(this.isNegative()||t.isNeg())&&throwFault$2("unbound-bitwise-result","xor"),toBigNumber$2(toBN$2(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&throwFault$2("negative-width","mask"),toBigNumber$2(toBN$2(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&throwFault$2("negative-width","shl"),toBigNumber$2(toBN$2(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&throwFault$2("negative-width","shr"),toBigNumber$2(toBN$2(this).shrn(e))}eq(e){return toBN$2(this).eq(toBN$2(e))}lt(e){return toBN$2(this).lt(toBN$2(e))}lte(e){return toBN$2(this).lte(toBN$2(e))}gt(e){return toBN$2(this).gt(toBN$2(e))}gte(e){return toBN$2(this).gte(toBN$2(e))}isNegative(){return"-"===this._hex[0]}isZero(){return toBN$2(this).isZero()}toNumber(){try{return toBN$2(this).toNumber()}catch(error){throwFault$2("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return logger$U.throwError("this platform does not support BigInt",Logger$b.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?_warnedToStringRadix$2||(_warnedToStringRadix$2=!0,logger$U.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?logger$U.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Logger$b.errors.UNEXPECTED_ARGUMENT,{}):logger$U.throwError("BigNumber.toString does not accept parameters",Logger$b.errors.UNEXPECTED_ARGUMENT,{})),toBN$2(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof BigNumber$2)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new BigNumber$2(_constructorGuard$5,toHex$3(e)):e.match(/^-?[0-9]+$/)?new BigNumber$2(_constructorGuard$5,toHex$3(new BN$j(e))):logger$U.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&throwFault$2("underflow","BigNumber.from",e),(e>=MAX_SAFE$2||e<=-MAX_SAFE$2)&&throwFault$2("overflow","BigNumber.from",e),BigNumber$2.from(String(e));const t=e;if("bigint"==typeof t)return BigNumber$2.from(t.toString());if(isBytes$9(t))return BigNumber$2.from(hexlify$6(t));if(t)if(t.toHexString){const e=t.toHexString();if("string"==typeof e)return BigNumber$2.from(e)}else{let e=t._hex;if(null==e&&"BigNumber"===t.type&&(e=t.hex),"string"==typeof e&&(isHexString$e(e)||"-"===e[0]&&isHexString$e(e.substring(1))))return BigNumber$2.from(e)}return logger$U.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!(!e||!e._isBigNumber)}}function toHex$3(e){if("string"!=typeof e)return toHex$3(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&logger$U.throwArgumentError("invalid hex","value",e),"0x00"===(e=toHex$3(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function toBigNumber$2(e){return BigNumber$2.from(toHex$3(e))}function toBN$2(e){const t=BigNumber$2.from(e).toHexString();return"-"===t[0]?new BN$j("-"+t.substring(3),16):new BN$j(t.substring(2),16)}function throwFault$2(e,t,r){const n={fault:e,operation:t};return null!=r&&(n.value=r),logger$U.throwError(e,Logger$b.errors.NUMERIC_FAULT,n)}function _base36To16$2(e){return new BN$j(e,36).toString(16)}const version$14="strings/5.6.0",logger$T=new Logger$b(version$14);var UnicodeNormalizationForm$3,Utf8ErrorReason$3;function errorFunc$3(e,t,r,n,i){return logger$T.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)}function ignoreFunc$3(e,t,r,n,i){if(e===Utf8ErrorReason$3.BAD_PREFIX||e===Utf8ErrorReason$3.UNEXPECTED_CONTINUE){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return e===Utf8ErrorReason$3.OVERRUN?r.length-t-1:0}function replaceFunc$3(e,t,r,n,i){return e===Utf8ErrorReason$3.OVERLONG?(n.push(i),0):(n.push(65533),ignoreFunc$3(e,t,r))}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(UnicodeNormalizationForm$3||(UnicodeNormalizationForm$3={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(Utf8ErrorReason$3||(Utf8ErrorReason$3={}));const Utf8ErrorFuncs$2=Object.freeze({error:errorFunc$3,ignore:ignoreFunc$3,replace:replaceFunc$3});function getUtf8CodePoints$2(e,t){null==t&&(t=Utf8ErrorFuncs$2.error),e=arrayify$9(e);const r=[];let n=0;for(;n<e.length;){const i=e[n++];if(i>>7==0){r.push(i);continue}let o=null,s=null;if(192==(224&i))o=1,s=127;else if(224==(240&i))o=2,s=2047;else{if(240!=(248&i)){n+=t(128==(192&i)?Utf8ErrorReason$3.UNEXPECTED_CONTINUE:Utf8ErrorReason$3.BAD_PREFIX,n-1,e,r);continue}o=3,s=65535}if(n-1+o>=e.length){n+=t(Utf8ErrorReason$3.OVERRUN,n-1,e,r);continue}let a=i&(1<<8-o-1)-1;for(let u=0;u<o;u++){let i=e[n];if(128!=(192&i)){n+=t(Utf8ErrorReason$3.MISSING_CONTINUE,n,e,r),a=null;break}a=a<<6|63&i,n++}null!==a&&(a>1114111?n+=t(Utf8ErrorReason$3.OUT_OF_RANGE,n-1-o,e,r,a):a>=55296&&a<=57343?n+=t(Utf8ErrorReason$3.UTF16_SURROGATE,n-1-o,e,r,a):a<=s?n+=t(Utf8ErrorReason$3.OVERLONG,n-1-o,e,r,a):r.push(a))}return r}function toUtf8Bytes$3(e,t=UnicodeNormalizationForm$3.current){t!=UnicodeNormalizationForm$3.current&&(logger$T.checkNormalize(),e=e.normalize(t));let r=[];for(let n=0;n<e.length;n++){const t=e.charCodeAt(n);if(t<128)r.push(t);else if(t<2048)r.push(t>>6|192),r.push(63&t|128);else if(55296==(64512&t)){n++;const i=e.charCodeAt(n);if(n>=e.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&t)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(t>>12|224),r.push(t>>6&63|128),r.push(63&t|128)}return arrayify$9(r)}function _toUtf8String$2(e){return e.map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}function toUtf8CodePoints$1(e,t=UnicodeNormalizationForm$3.current){return getUtf8CodePoints$2(toUtf8Bytes$3(e,t))}function bytes2$1(e){if(e.length%4!=0)throw new Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}function createTable$1(e,t){t||(t=function(e){return[parseInt(e,16)]});let r=0,n={};return e.split(",").forEach((e=>{let i=e.split(":");r+=parseInt(i[0],16),n[r]=t(i[1])})),n}function createRangeTable$1(e){let t=0;return e.split(",").map((e=>{let r=e.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let n=t+parseInt(r[0],16);return t=parseInt(r[1],16),{l:n,h:t}}))}function matchMap$1(e,t){let r=0;for(let n=0;n<t.length;n++){let i=t[n];if(r+=i.l,e>=r&&e<=r+i.h&&(e-r)%(i.d||1)==0){if(i.e&&-1!==i.e.indexOf(e-r))continue;return i}}return null}const Table_A_1_ranges$1=createRangeTable$1("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Table_B_1_flags$1="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((e=>parseInt(e,16))),Table_B_2_ranges$1=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Table_B_2_lut_abs$1=createTable$1("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Table_B_2_lut_rel$1=createTable$1("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Table_B_2_complex$1=createTable$1("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",bytes2$1),Table_C_ranges$1=createRangeTable$1("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function flatten$1(e){return e.reduce(((e,t)=>(t.forEach((t=>{e.push(t)})),e)),[])}function _nameprepTableA1$1(e){return!!matchMap$1(e,Table_A_1_ranges$1)}function _nameprepTableB2$1(e){let t=matchMap$1(e,Table_B_2_ranges$1);if(t)return[e+t.s];let r=Table_B_2_lut_abs$1[e];if(r)return r;let n=Table_B_2_lut_rel$1[e];if(n)return[e+n[0]];let i=Table_B_2_complex$1[e];return i||null}function _nameprepTableC$1(e){return!!matchMap$1(e,Table_C_ranges$1)}function nameprep$1(e){if(e.match(/^[a-z0-9-]*$/i)&&e.length<=59)return e.toLowerCase();let t=toUtf8CodePoints$1(e);t=flatten$1(t.map((e=>{if(Table_B_1_flags$1.indexOf(e)>=0)return[];if(e>=65024&&e<=65039)return[];let t=_nameprepTableB2$1(e);return t||[e]}))),t=toUtf8CodePoints$1(_toUtf8String$2(t),UnicodeNormalizationForm$3.NFKC),t.forEach((e=>{if(_nameprepTableC$1(e))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),t.forEach((e=>{if(_nameprepTableA1$1(e))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));let r=_toUtf8String$2(t);if("-"===r.substring(0,1)||"--"===r.substring(2,4)||"-"===r.substring(r.length-1))throw new Error("invalid hyphen");if(r.length>63)throw new Error("too long");return r}function id$1(e){return keccak256$4(toUtf8Bytes$3(e))}const version$13="hash/5.5.0",logger$S=new Logger$b(version$13),Zeros$1=new Uint8Array(32);Zeros$1.fill(0);const Partition=new RegExp("^((.*)\\.)?([^.]+)$");function isValidName(e){try{const t=e.split(".");for(let e=0;e<t.length;e++)if(0===nameprep$1(t[e]).length)throw new Error("empty");return!0}catch(error){}return!1}function namehash(e){"string"!=typeof e&&logger$S.throwArgumentError("invalid ENS name; not a string","name",e);let t=e,r=Zeros$1;for(;t.length;){const n=t.match(Partition);null!=n&&""!==n[2]||logger$S.throwArgumentError("invalid ENS address; missing component","name",e);r=keccak256$4(concat$4([r,keccak256$4(toUtf8Bytes$3(nameprep$1(n[3])))])),t=n[2]||""}return hexlify$6(r)}const messagePrefix="Ethereum Signed Message:\n";function hashMessage(e){return"string"==typeof e&&(e=toUtf8Bytes$3(e)),keccak256$4(concat$4([toUtf8Bytes$3(messagePrefix),toUtf8Bytes$3(String(e.length)),e]))}const version$12="address/5.6.0",logger$R=new Logger$b(version$12);function getChecksumAddress$2(e){isHexString$e(e,20)||logger$R.throwArgumentError("invalid address","address",e);const t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=t[i].charCodeAt(0);const n=arrayify$9(keccak256$4(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(15&n[i>>1])>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const MAX_SAFE_INTEGER$4=9007199254740991;function log10$2(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}const ibanLookup$2={};for(let ee=0;ee<10;ee++)ibanLookup$2[String(ee)]=String(ee);for(let ee=0;ee<26;ee++)ibanLookup$2[String.fromCharCode(65+ee)]=String(10+ee);const safeDigits$2=Math.floor(log10$2(MAX_SAFE_INTEGER$4));function ibanChecksum$2(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>ibanLookup$2[e])).join("");for(;t.length>=safeDigits$2;){let e=t.substring(0,safeDigits$2);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function getAddress$2(e){let t=null;if("string"!=typeof e&&logger$R.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=getChecksumAddress$2(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&logger$R.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==ibanChecksum$2(e)&&logger$R.throwArgumentError("bad icap checksum","address",e),t=_base36To16$2(e.substring(4));t.length<40;)t="0"+t;t=getChecksumAddress$2("0x"+t)}else logger$R.throwArgumentError("invalid address","address",e);return t}const version$11="properties/5.6.0";globalThis&&globalThis.__awaiter;const logger$Q=new Logger$b(version$11);function defineReadOnly$4(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function shallowCopy$2(e){const t={};for(const r in e)t[r]=e[r];return t}const opaque$1={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function _isFrozen$1(e){if(null==e||opaque$1[typeof e])return!0;if(Array.isArray(e)||"object"==typeof e){if(!Object.isFrozen(e))return!1;const t=Object.keys(e);for(let r=0;r<t.length;r++){let n=null;try{n=e[t[r]]}catch(error){continue}if(!_isFrozen$1(n))return!1}return!0}return logger$Q.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function _deepCopy$1(e){if(_isFrozen$1(e))return e;if(Array.isArray(e))return Object.freeze(e.map((e=>deepCopy$1(e))));if("object"==typeof e){const t={};for(const r in e){const n=e[r];void 0!==n&&defineReadOnly$4(t,r,deepCopy$1(n))}return t}return logger$Q.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function deepCopy$1(e){return _deepCopy$1(e)}var __awaiter$d=globalThis&&globalThis.__awaiter||function(t,r,n,i){return new(n||(n=Promise))((function(o,s){function a(t){try{l(i.next(t))}catch(e){s(e)}}function u(t){try{l(i.throw(t))}catch(e){s(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,u)}l((i=i.apply(t,r||[])).next())}))};const logger$P=new Logger$b(version$13),padding=new Uint8Array(32);padding.fill(0);const NegativeOne=BigNumber$2.from(-1),Zero$1=BigNumber$2.from(0),One=BigNumber$2.from(1),MaxUint256=BigNumber$2.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hexPadRight(e){const t=arrayify$9(e),r=t.length%32;return r?hexConcat$1([t,padding.slice(r)]):hexlify$6(t)}const hexTrue=hexZeroPad$3(One.toHexString(),32),hexFalse=hexZeroPad$3(Zero$1.toHexString(),32),domainFieldTypes={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},domainFieldNames=["name","version","chainId","verifyingContract","salt"];function checkString(e){return function(t){return"string"!=typeof t&&logger$P.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const domainChecks={name:checkString("name"),version:checkString("version"),chainId:function(e){try{return BigNumber$2.from(e).toString()}catch(error){}return logger$P.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return getAddress$2(e).toLowerCase()}catch(error){}return logger$P.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{const t=arrayify$9(e);if(32!==t.length)throw new Error("bad length");return hexlify$6(t)}catch(error){}return logger$P.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function getBaseEncoder(e){{const t=e.match(/^(u?)int(\d*)$/);if(t){const r=""===t[1],n=parseInt(t[2]||"256");(n%8!=0||n>256||t[2]&&t[2]!==String(n))&&logger$P.throwArgumentError("invalid numeric width","type",e);const i=MaxUint256.mask(r?n-1:n),o=r?i.add(One).mul(NegativeOne):Zero$1;return function(t){const r=BigNumber$2.from(t);return(r.lt(o)||r.gt(i))&&logger$P.throwArgumentError(`value out-of-bounds for ${e}`,"value",t),hexZeroPad$3(r.toTwos(256).toHexString(),32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const r=parseInt(t[1]);return(0===r||r>32||t[1]!==String(r))&&logger$P.throwArgumentError("invalid bytes width","type",e),function(t){return arrayify$9(t).length!==r&&logger$P.throwArgumentError(`invalid length for ${e}`,"value",t),hexPadRight(t)}}}switch(e){case"address":return function(e){return hexZeroPad$3(getAddress$2(e),32)};case"bool":return function(e){return e?hexTrue:hexFalse};case"bytes":return function(e){return keccak256$4(e)};case"string":return function(e){return id$1(e)}}return null}function encodeType(e,t){return`${e}(${t.map((({name:e,type:t})=>t+" "+e)).join(",")})`}class TypedDataEncoder{constructor(e){defineReadOnly$4(this,"types",Object.freeze(deepCopy$1(e))),defineReadOnly$4(this,"_encoderCache",{}),defineReadOnly$4(this,"_types",{});const t={},r={},n={};Object.keys(e).forEach((e=>{t[e]={},r[e]=[],n[e]={}}));for(const o in e){const n={};e[o].forEach((i=>{n[i.name]&&logger$P.throwArgumentError(`duplicate variable name ${JSON.stringify(i.name)} in ${JSON.stringify(o)}`,"types",e),n[i.name]=!0;const s=i.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===o&&logger$P.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",e);getBaseEncoder(s)||(r[s]||logger$P.throwArgumentError(`unknown type ${JSON.stringify(s)}`,"types",e),r[s].push(o),t[o][s]=!0)}))}const i=Object.keys(r).filter((e=>0===r[e].length));0===i.length?logger$P.throwArgumentError("missing primary type","types",e):i.length>1&&logger$P.throwArgumentError(`ambiguous primary types or unused types: ${i.map((e=>JSON.stringify(e))).join(", ")}`,"types",e),defineReadOnly$4(this,"primaryType",i[0]),function i(o,s){s[o]&&logger$P.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e),s[o]=!0,Object.keys(t[o]).forEach((e=>{r[e]&&(i(e,s),Object.keys(s).forEach((t=>{n[t][e]=!0})))})),delete s[o]}(this.primaryType,{});for(const o in n){const t=Object.keys(n[o]);t.sort(),this._types[o]=encodeType(o,e[o])+t.map((t=>encodeType(t,e[t]))).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const t=getBaseEncoder(e);if(t)return t}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const e=t[1],r=this.getEncoder(e),n=parseInt(t[3]);return t=>{n>=0&&t.length!==n&&logger$P.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t);let i=t.map(r);return this._types[e]&&(i=i.map(keccak256$4)),keccak256$4(hexConcat$1(i))}}const r=this.types[e];if(r){const t=id$1(this._types[e]);return e=>{const n=r.map((({name:t,type:r})=>{const n=this.getEncoder(r)(e[t]);return this._types[r]?keccak256$4(n):n}));return n.unshift(t),hexConcat$1(n)}}return logger$P.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||logger$P.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return keccak256$4(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(getBaseEncoder(e))return r(e,t);const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const e=n[1],i=parseInt(n[3]);return i>=0&&t.length!==i&&logger$P.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map((t=>this._visit(e,t,r)))}const i=this.types[e];return i?i.reduce(((e,{name:n,type:i})=>(e[n]=this._visit(i,t[n],r),e)),{}):logger$P.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new TypedDataEncoder(e)}static getPrimaryType(e){return TypedDataEncoder.from(e).primaryType}static hashStruct(e,t,r){return TypedDataEncoder.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){const n=domainFieldTypes[r];n||logger$P.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:n})}return t.sort(((e,t)=>domainFieldNames.indexOf(e.name)-domainFieldNames.indexOf(t.name))),TypedDataEncoder.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return hexConcat$1(["0x1901",TypedDataEncoder.hashDomain(e),TypedDataEncoder.from(t).hash(r)])}static hash(e,t,r){return keccak256$4(TypedDataEncoder.encode(e,t,r))}static resolveNames(e,t,r,n){return __awaiter$d(this,void 0,void 0,(function*(){e=shallowCopy$2(e);const i={};e.verifyingContract&&!isHexString$e(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const o=TypedDataEncoder.from(t);o.visit(r,((e,t)=>("address"!==e||isHexString$e(t,20)||(i[t]="0x"),t)));for(const e in i)i[e]=yield n(e);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=o.visit(r,((e,t)=>"address"===e&&i[t]?i[t]:t)),{domain:e,value:r}}))}static getPayload(e,t,r){TypedDataEncoder.hashDomain(e);const n={},i=[];domainFieldNames.forEach((t=>{const r=e[t];null!=r&&(n[t]=domainChecks[t](r),i.push({name:t,type:domainFieldTypes[t]}))}));const o=TypedDataEncoder.from(t),s=shallowCopy$2(t);return s.EIP712Domain?logger$P.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):s.EIP712Domain=i,o.encode(r),{types:s,domain:n,primaryType:o.primaryType,message:o.visit(r,((e,t)=>{if(e.match(/^bytes(\d*)/))return hexlify$6(arrayify$9(t));if(e.match(/^u?int/))return BigNumber$2.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!=typeof t&&logger$P.throwArgumentError("invalid string","value",t),t}return logger$P.throwArgumentError("unsupported type","type",e)}))}}}var lib_esm$f=Object.freeze(Object.defineProperty({__proto__:null,id:id$1,namehash:namehash,isValidName:isValidName,messagePrefix:messagePrefix,hashMessage:hashMessage,_TypedDataEncoder:TypedDataEncoder},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(lib_esm$f);const version$10="logger/5.6.0";let _permanentCensorErrors$a=!1,_censorErrors$a=!1;const LogLevels$a={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$a=LogLevels$a.default,_globalLogger$a=null;function _checkNormalize$a(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(error){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(error){return error.message}return null}const _normalizeError$a=_checkNormalize$a();var LogLevel$a,ErrorCode$a;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(LogLevel$a||(LogLevel$a={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(ErrorCode$a||(ErrorCode$a={}));const HEX$a="0123456789abcdef";class Logger$a{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==LogLevels$a[r]&&this.throwArgumentError("invalid log level name","logLevel",e),_logLevel$a>LogLevels$a[r]||console.log.apply(console,t)}debug(...e){this._log(Logger$a.levels.DEBUG,e)}info(...e){this._log(Logger$a.levels.INFO,e)}warn(...e){this._log(Logger$a.levels.WARNING,e)}makeError(e,t,r){if(_censorErrors$a)return this.makeError("censored error",t,{});t||(t=Logger$a.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=HEX$a[t[e]>>4],r+=HEX$a[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(s){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;let o="";switch(t){case ErrorCode$a.NUMERIC_FAULT:{o="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case ErrorCode$a.CALL_EXCEPTION:case ErrorCode$a.INSUFFICIENT_FUNDS:case ErrorCode$a.MISSING_NEW:case ErrorCode$a.NONCE_EXPIRED:case ErrorCode$a.REPLACEMENT_UNDERPRICED:case ErrorCode$a.TRANSACTION_REPLACED:case ErrorCode$a.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Logger$a.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){_normalizeError$a&&this.throwError("platform missing String.prototype.normalize",Logger$a.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$a})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Logger$a.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Logger$a.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Logger$a.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Logger$a.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Logger$a.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Logger$a.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Logger$a.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return _globalLogger$a||(_globalLogger$a=new Logger$a(version$10)),_globalLogger$a}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$a.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$a){if(!e)return;this.globalLogger().throwError("error censorship permanent",Logger$a.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$a=!!e,_permanentCensorErrors$a=!!t}static setLogLevel(e){const t=LogLevels$a[e.toLowerCase()];null!=t?_logLevel$a=t:Logger$a.globalLogger().warn("invalid log level - "+e)}static from(e){return new Logger$a(e)}}Logger$a.errors=ErrorCode$a,Logger$a.levels=LogLevel$a;const version$$="bytes/5.6.1",logger$O=new Logger$a(version$$);function isHexable$8(e){return!!e.toHexString}function addSlice$8(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return addSlice$8(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function isBytesLike$4(e){return isHexString$d(e)&&!(e.length%2)||isBytes$8(e)}function isInteger$8(e){return"number"==typeof e&&e==e&&e%1==0}function isBytes$8(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!isInteger$8(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!isInteger$8(r)||r<0||r>=256)return!1}return!0}function arrayify$8(e,t){if(t||(t={}),"number"==typeof e){logger$O.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),addSlice$8(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable$8(e)&&(e=e.toHexString()),isHexString$d(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":logger$O.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return addSlice$8(new Uint8Array(n))}return isBytes$8(e)?addSlice$8(new Uint8Array(e)):logger$O.throwArgumentError("invalid arrayify value","value",e)}function concat$3(e){const t=e.map((e=>arrayify$8(e))),r=t.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(r);return t.reduce(((e,t)=>(n.set(t,e),e+t.length)),0),addSlice$8(n)}function zeroPad$2(e,t){(e=arrayify$8(e)).length>t&&logger$O.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(t);return r.set(e,t-e.length),addSlice$8(r)}function isHexString$d(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}const HexCharacters$5="0123456789abcdef";function hexlify$5(e,t){if(t||(t={}),"number"==typeof e){logger$O.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=HexCharacters$5[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable$8(e))return e.toHexString();if(isHexString$d(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":logger$O.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(isBytes$8(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=HexCharacters$5[(240&n)>>4]+HexCharacters$5[15&n]}return t}return logger$O.throwArgumentError("invalid hexlify value","value",e)}function hexDataSlice$1(e,t,r){return"string"!=typeof e?e=hexlify$5(e):(!isHexString$d(e)||e.length%2)&&logger$O.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function hexZeroPad$2(e,t){for("string"!=typeof e?e=hexlify$5(e):isHexString$d(e)||logger$O.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&logger$O.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function splitSignature$2(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(isBytesLike$4(e)){let r=arrayify$8(e);64===r.length?(t.v=27+(r[32]>>7),r[32]&=127,t.r=hexlify$5(r.slice(0,32)),t.s=hexlify$5(r.slice(32,64))):65===r.length?(t.r=hexlify$5(r.slice(0,32)),t.s=hexlify$5(r.slice(32,64)),t.v=r[64]):logger$O.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:logger$O.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=hexlify$5(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){const r=zeroPad$2(arrayify$8(t._vs),32);t._vs=hexlify$5(r);const n=r[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=n:t.recoveryParam!==n&&logger$O.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),r[0]&=127;const i=hexlify$5(r);null==t.s?t.s=i:t.s!==i&&logger$O.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?logger$O.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{const r=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==r&&logger$O.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&isHexString$d(t.r)?t.r=hexZeroPad$2(t.r,32):logger$O.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&isHexString$d(t.s)?t.s=hexZeroPad$2(t.s,32):logger$O.throwArgumentError("signature missing or invalid s","signature",e);const r=arrayify$8(t.s);r[0]>=128&&logger$O.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);const n=hexlify$5(r);t._vs&&(isHexString$d(t._vs)||logger$O.throwArgumentError("signature invalid _vs","signature",e),t._vs=hexZeroPad$2(t._vs,32)),null==t._vs?t._vs=n:t._vs!==n&&logger$O.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}const version$_="properties/5.6.0";function defineReadOnly$3(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}globalThis&&globalThis.__awaiter,new Logger$a(version$_);class BaseX$1{constructor(e){defineReadOnly$3(this,"alphabet",e),defineReadOnly$3(this,"base",e.length),defineReadOnly$3(this,"_alphabetMap",{}),defineReadOnly$3(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=arrayify$8(e);if(0===t.length)return"";let r=[0];for(let i=0;i<t.length;++i){let e=t[i];for(let t=0;t<r.length;++t)e+=r[t]<<8,r[t]=e%this.base,e=e/this.base|0;for(;e>0;)r.push(e%this.base),e=e/this.base|0}let n="";for(let i=0;0===t[i]&&i<t.length-1;++i)n+=this._leader;for(let i=r.length-1;i>=0;--i)n+=this.alphabet[r[i]];return n}decode(e){if("string"!=typeof e)throw new TypeError("Expected String");let t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(let r=0;r<e.length;r++){let n=this._alphabetMap[e[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");let i=n;for(let e=0;e<t.length;++e)i+=t[e]*this.base,t[e]=255&i,i>>=8;for(;i>0;)t.push(255&i),i>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)t.push(0);return arrayify$8(new Uint8Array(t.reverse()))}}new BaseX$1("abcdefghijklmnopqrstuvwxyz234567");const Base58$1=new BaseX$1("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),version$Z="bignumber/5.6.0";var BN$i=_BN.BN;const logger$N=new Logger$a(version$Z),_constructorGuard$4={},MAX_SAFE$1=9007199254740991;let _warnedToStringRadix$1=!1;class BigNumber$1{constructor(e,t){logger$N.checkNew(new.target,BigNumber$1),e!==_constructorGuard$4&&logger$N.throwError("cannot call constructor directly; use BigNumber.from",Logger$a.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return toBigNumber$1(toBN$1(this).fromTwos(e))}toTwos(e){return toBigNumber$1(toBN$1(this).toTwos(e))}abs(){return"-"===this._hex[0]?BigNumber$1.from(this._hex.substring(1)):this}add(e){return toBigNumber$1(toBN$1(this).add(toBN$1(e)))}sub(e){return toBigNumber$1(toBN$1(this).sub(toBN$1(e)))}div(e){return BigNumber$1.from(e).isZero()&&throwFault$1("division-by-zero","div"),toBigNumber$1(toBN$1(this).div(toBN$1(e)))}mul(e){return toBigNumber$1(toBN$1(this).mul(toBN$1(e)))}mod(e){const t=toBN$1(e);return t.isNeg()&&throwFault$1("division-by-zero","mod"),toBigNumber$1(toBN$1(this).umod(t))}pow(e){const t=toBN$1(e);return t.isNeg()&&throwFault$1("negative-power","pow"),toBigNumber$1(toBN$1(this).pow(t))}and(e){const t=toBN$1(e);return(this.isNegative()||t.isNeg())&&throwFault$1("unbound-bitwise-result","and"),toBigNumber$1(toBN$1(this).and(t))}or(e){const t=toBN$1(e);return(this.isNegative()||t.isNeg())&&throwFault$1("unbound-bitwise-result","or"),toBigNumber$1(toBN$1(this).or(t))}xor(e){const t=toBN$1(e);return(this.isNegative()||t.isNeg())&&throwFault$1("unbound-bitwise-result","xor"),toBigNumber$1(toBN$1(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&throwFault$1("negative-width","mask"),toBigNumber$1(toBN$1(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&throwFault$1("negative-width","shl"),toBigNumber$1(toBN$1(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&throwFault$1("negative-width","shr"),toBigNumber$1(toBN$1(this).shrn(e))}eq(e){return toBN$1(this).eq(toBN$1(e))}lt(e){return toBN$1(this).lt(toBN$1(e))}lte(e){return toBN$1(this).lte(toBN$1(e))}gt(e){return toBN$1(this).gt(toBN$1(e))}gte(e){return toBN$1(this).gte(toBN$1(e))}isNegative(){return"-"===this._hex[0]}isZero(){return toBN$1(this).isZero()}toNumber(){try{return toBN$1(this).toNumber()}catch(error){throwFault$1("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return logger$N.throwError("this platform does not support BigInt",Logger$a.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?_warnedToStringRadix$1||(_warnedToStringRadix$1=!0,logger$N.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?logger$N.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Logger$a.errors.UNEXPECTED_ARGUMENT,{}):logger$N.throwError("BigNumber.toString does not accept parameters",Logger$a.errors.UNEXPECTED_ARGUMENT,{})),toBN$1(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof BigNumber$1)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new BigNumber$1(_constructorGuard$4,toHex$2(e)):e.match(/^-?[0-9]+$/)?new BigNumber$1(_constructorGuard$4,toHex$2(new BN$i(e))):logger$N.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&throwFault$1("underflow","BigNumber.from",e),(e>=MAX_SAFE$1||e<=-MAX_SAFE$1)&&throwFault$1("overflow","BigNumber.from",e),BigNumber$1.from(String(e));const t=e;if("bigint"==typeof t)return BigNumber$1.from(t.toString());if(isBytes$8(t))return BigNumber$1.from(hexlify$5(t));if(t)if(t.toHexString){const e=t.toHexString();if("string"==typeof e)return BigNumber$1.from(e)}else{let e=t._hex;if(null==e&&"BigNumber"===t.type&&(e=t.hex),"string"==typeof e&&(isHexString$d(e)||"-"===e[0]&&isHexString$d(e.substring(1))))return BigNumber$1.from(e)}return logger$N.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!(!e||!e._isBigNumber)}}function toHex$2(e){if("string"!=typeof e)return toHex$2(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&logger$N.throwArgumentError("invalid hex","value",e),"0x00"===(e=toHex$2(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function toBigNumber$1(e){return BigNumber$1.from(toHex$2(e))}function toBN$1(e){const t=BigNumber$1.from(e).toHexString();return"-"===t[0]?new BN$i("-"+t.substring(3),16):new BN$i(t.substring(2),16)}function throwFault$1(e,t,r){const n={fault:e,operation:t};return null!=r&&(n.value=r),logger$N.throwError(e,Logger$a.errors.NUMERIC_FAULT,n)}function _base36To16$1(e){return new BN$i(e,36).toString(16)}const version$Y="strings/5.6.0",logger$M=new Logger$a(version$Y);var UnicodeNormalizationForm$2,Utf8ErrorReason$2;function errorFunc$2(e,t,r,n,i){return logger$M.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)}function ignoreFunc$2(e,t,r,n,i){if(e===Utf8ErrorReason$2.BAD_PREFIX||e===Utf8ErrorReason$2.UNEXPECTED_CONTINUE){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return e===Utf8ErrorReason$2.OVERRUN?r.length-t-1:0}function replaceFunc$2(e,t,r,n,i){return e===Utf8ErrorReason$2.OVERLONG?(n.push(i),0):(n.push(65533),ignoreFunc$2(e,t,r))}function toUtf8Bytes$2(e,t=UnicodeNormalizationForm$2.current){t!=UnicodeNormalizationForm$2.current&&(logger$M.checkNormalize(),e=e.normalize(t));let r=[];for(let n=0;n<e.length;n++){const t=e.charCodeAt(n);if(t<128)r.push(t);else if(t<2048)r.push(t>>6|192),r.push(63&t|128);else if(55296==(64512&t)){n++;const i=e.charCodeAt(n);if(n>=e.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&t)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(t>>12|224),r.push(t>>6&63|128),r.push(63&t|128)}return arrayify$8(r)}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(UnicodeNormalizationForm$2||(UnicodeNormalizationForm$2={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(Utf8ErrorReason$2||(Utf8ErrorReason$2={})),Object.freeze({error:errorFunc$2,ignore:ignoreFunc$2,replace:replaceFunc$2});var hash$4={},utils$r={},minimalisticAssert$4=assert$n;function assert$n(e,t){if(!e)throw new Error(t||"Assertion failed")}assert$n.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var assert$m=minimalisticAssert$4,inherits$j=inherits_browser$5.exports;function isSurrogatePair(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function toArray$1(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):isSurrogatePair(e,i)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r}function toHex$1(e){for(var t="",r=0;r<e.length;r++)t+=zero2(e[r].toString(16));return t}function htonl(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function toHex32(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=htonl(i)),r+=zero8(i.toString(16))}return r}function zero2(e){return 1===e.length?"0"+e:e}function zero8(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}function join32(e,t,r,n){var i=r-t;assert$m(i%4==0);for(var o=new Array(i/4),s=0,a=t;s<o.length;s++,a+=4){var u;u="big"===n?e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],o[s]=u>>>0}return o}function split32(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r}function rotr32$1(e,t){return e>>>t|e<<32-t}function rotl32$2(e,t){return e<<t|e>>>32-t}function sum32$3(e,t){return e+t>>>0}function sum32_3$1(e,t,r){return e+t+r>>>0}function sum32_4$2(e,t,r,n){return e+t+r+n>>>0}function sum32_5$2(e,t,r,n,i){return e+t+r+n+i>>>0}function sum64$1(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,s=(o<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=o}function sum64_hi$1(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0}function sum64_lo$1(e,t,r,n){return t+n>>>0}function sum64_4_hi$1(e,t,r,n,i,o,s,a){var u=0,l=t;return u+=(l=l+n>>>0)<t?1:0,u+=(l=l+o>>>0)<o?1:0,e+r+i+s+(u+=(l=l+a>>>0)<a?1:0)>>>0}function sum64_4_lo$1(e,t,r,n,i,o,s,a){return t+n+o+a>>>0}function sum64_5_hi$1(e,t,r,n,i,o,s,a,u,l){var c=0,f=t;return c+=(f=f+n>>>0)<t?1:0,c+=(f=f+o>>>0)<o?1:0,c+=(f=f+a>>>0)<a?1:0,e+r+i+s+u+(c+=(f=f+l>>>0)<l?1:0)>>>0}function sum64_5_lo$1(e,t,r,n,i,o,s,a,u,l){return t+n+o+a+l>>>0}function rotr64_hi$1(e,t,r){return(t<<32-r|e>>>r)>>>0}function rotr64_lo$1(e,t,r){return(e<<32-r|t>>>r)>>>0}function shr64_hi$1(e,t,r){return e>>>r}function shr64_lo$1(e,t,r){return(e<<32-r|t>>>r)>>>0}utils$r.inherits=inherits$j,utils$r.toArray=toArray$1,utils$r.toHex=toHex$1,utils$r.htonl=htonl,utils$r.toHex32=toHex32,utils$r.zero2=zero2,utils$r.zero8=zero8,utils$r.join32=join32,utils$r.split32=split32,utils$r.rotr32=rotr32$1,utils$r.rotl32=rotl32$2,utils$r.sum32=sum32$3,utils$r.sum32_3=sum32_3$1,utils$r.sum32_4=sum32_4$2,utils$r.sum32_5=sum32_5$2,utils$r.sum64=sum64$1,utils$r.sum64_hi=sum64_hi$1,utils$r.sum64_lo=sum64_lo$1,utils$r.sum64_4_hi=sum64_4_hi$1,utils$r.sum64_4_lo=sum64_4_lo$1,utils$r.sum64_5_hi=sum64_5_hi$1,utils$r.sum64_5_lo=sum64_5_lo$1,utils$r.rotr64_hi=rotr64_hi$1,utils$r.rotr64_lo=rotr64_lo$1,utils$r.shr64_hi=shr64_hi$1,utils$r.shr64_lo=shr64_lo$1;var common$5={},utils$q=utils$r,assert$l=minimalisticAssert$4;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$5.BlockHash=BlockHash$4,BlockHash$4.prototype.update=function(e,t){if(e=utils$q.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=utils$q.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},BlockHash$4.prototype.digest=function(e){return this.update(this._pad()),assert$l(null===this.pending),this._digest(e)},BlockHash$4.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n};var sha$2={},common$4={},utils$p=utils$r,rotr32=utils$p.rotr32;function ft_1$1(e,t,r,n){return 0===e?ch32$1(t,r,n):1===e||3===e?p32(t,r,n):2===e?maj32$1(t,r,n):void 0}function ch32$1(e,t,r){return e&t^~e&r}function maj32$1(e,t,r){return e&t^e&r^t&r}function p32(e,t,r){return e^t^r}function s0_256$1(e){return rotr32(e,2)^rotr32(e,13)^rotr32(e,22)}function s1_256$1(e){return rotr32(e,6)^rotr32(e,11)^rotr32(e,25)}function g0_256$1(e){return rotr32(e,7)^rotr32(e,18)^e>>>3}function g1_256$1(e){return rotr32(e,17)^rotr32(e,19)^e>>>10}common$4.ft_1=ft_1$1,common$4.ch32=ch32$1,common$4.maj32=maj32$1,common$4.p32=p32,common$4.s0_256=s0_256$1,common$4.s1_256=s1_256$1,common$4.g0_256=g0_256$1,common$4.g1_256=g1_256$1;var utils$o=utils$r,common$3=common$5,shaCommon$1=common$4,rotl32$1=utils$o.rotl32,sum32$2=utils$o.sum32,sum32_5$1=utils$o.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$3.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$o.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512,SHA1.outSize=160,SHA1.hmacStrength=80,SHA1.padLength=64,SHA1.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=rotl32$1(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4];for(n=0;n<r.length;n++){var l=~~(n/20),c=sum32_5$1(rotl32$1(i,5),ft_1(l,o,s,a),u,r[n],sha1_K[l]);u=a,a=s,s=rotl32$1(o,30),o=i,i=c}this.h[0]=sum32$2(this.h[0],i),this.h[1]=sum32$2(this.h[1],o),this.h[2]=sum32$2(this.h[2],s),this.h[3]=sum32$2(this.h[3],a),this.h[4]=sum32$2(this.h[4],u)},SHA1.prototype._digest=function(e){return"hex"===e?utils$o.toHex32(this.h,"big"):utils$o.split32(this.h,"big")};var utils$n=utils$r,common$2=common$5,shaCommon=common$4,assert$k=minimalisticAssert$4,sum32$1=utils$n.sum32,sum32_4$1=utils$n.sum32_4,sum32_5=utils$n.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$2.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$1(){if(!(this instanceof SHA256$1))return new SHA256$1;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$n.inherits(SHA256$1,BlockHash$2);var _256=SHA256$1;SHA256$1.blockSize=512,SHA256$1.outSize=256,SHA256$1.hmacStrength=192,SHA256$1.padLength=64,SHA256$1.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=sum32_4$1(g1_256(r[n-2]),r[n-7],g0_256(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4],l=this.h[5],c=this.h[6],f=this.h[7];for(assert$k(this.k.length===r.length),n=0;n<r.length;n++){var h=sum32_5(f,s1_256(u),ch32(u,l,c),this.k[n],r[n]),d=sum32$1(s0_256(i),maj32(i,o,s));f=c,c=l,l=u,u=sum32$1(a,h),a=s,s=o,o=i,i=sum32$1(h,d)}this.h[0]=sum32$1(this.h[0],i),this.h[1]=sum32$1(this.h[1],o),this.h[2]=sum32$1(this.h[2],s),this.h[3]=sum32$1(this.h[3],a),this.h[4]=sum32$1(this.h[4],u),this.h[5]=sum32$1(this.h[5],l),this.h[6]=sum32$1(this.h[6],c),this.h[7]=sum32$1(this.h[7],f)},SHA256$1.prototype._digest=function(e){return"hex"===e?utils$n.toHex32(this.h,"big"):utils$n.split32(this.h,"big")};var utils$m=utils$r,SHA256=_256;function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$m.inherits(SHA224,SHA256);var _224=SHA224;SHA224.blockSize=512,SHA224.outSize=224,SHA224.hmacStrength=192,SHA224.padLength=64,SHA224.prototype._digest=function(e){return"hex"===e?utils$m.toHex32(this.h.slice(0,7),"big"):utils$m.split32(this.h.slice(0,7),"big")};var utils$l=utils$r,common$1=common$5,assert$j=minimalisticAssert$4,rotr64_hi=utils$l.rotr64_hi,rotr64_lo=utils$l.rotr64_lo,shr64_hi=utils$l.shr64_hi,shr64_lo=utils$l.shr64_lo,sum64=utils$l.sum64,sum64_hi=utils$l.sum64_hi,sum64_lo=utils$l.sum64_lo,sum64_4_hi=utils$l.sum64_4_hi,sum64_4_lo=utils$l.sum64_4_lo,sum64_5_hi=utils$l.sum64_5_hi,sum64_5_lo=utils$l.sum64_5_lo,BlockHash$1=common$1.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$2(){if(!(this instanceof SHA512$2))return new SHA512$2;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$l.inherits(SHA512$2,BlockHash$1);var _512=SHA512$2;function ch64_hi(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function ch64_lo(e,t,r,n,i,o){var s=t&n^~t&o;return s<0&&(s+=4294967296),s}function maj64_hi(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function maj64_lo(e,t,r,n,i,o){var s=t&n^t&o^n&o;return s<0&&(s+=4294967296),s}function s0_512_hi(e,t){var r=rotr64_hi(e,t,28)^rotr64_hi(t,e,2)^rotr64_hi(t,e,7);return r<0&&(r+=4294967296),r}function s0_512_lo(e,t){var r=rotr64_lo(e,t,28)^rotr64_lo(t,e,2)^rotr64_lo(t,e,7);return r<0&&(r+=4294967296),r}function s1_512_hi(e,t){var r=rotr64_hi(e,t,14)^rotr64_hi(e,t,18)^rotr64_hi(t,e,9);return r<0&&(r+=4294967296),r}function s1_512_lo(e,t){var r=rotr64_lo(e,t,14)^rotr64_lo(e,t,18)^rotr64_lo(t,e,9);return r<0&&(r+=4294967296),r}function g0_512_hi(e,t){var r=rotr64_hi(e,t,1)^rotr64_hi(e,t,8)^shr64_hi(e,t,7);return r<0&&(r+=4294967296),r}function g0_512_lo(e,t){var r=rotr64_lo(e,t,1)^rotr64_lo(e,t,8)^shr64_lo(e,t,7);return r<0&&(r+=4294967296),r}function g1_512_hi(e,t){var r=rotr64_hi(e,t,19)^rotr64_hi(t,e,29)^shr64_hi(e,t,6);return r<0&&(r+=4294967296),r}function g1_512_lo(e,t){var r=rotr64_lo(e,t,19)^rotr64_lo(t,e,29)^shr64_lo(e,t,6);return r<0&&(r+=4294967296),r}SHA512$2.blockSize=1024,SHA512$2.outSize=512,SHA512$2.hmacStrength=192,SHA512$2.padLength=128,SHA512$2.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=g1_512_hi(r[n-4],r[n-3]),o=g1_512_lo(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],u=g0_512_hi(r[n-30],r[n-29]),l=g0_512_lo(r[n-30],r[n-29]),c=r[n-32],f=r[n-31];r[n]=sum64_4_hi(i,o,s,a,u,l,c,f),r[n+1]=sum64_4_lo(i,o,s,a,u,l,c,f)}},SHA512$2.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],a=this.h[4],u=this.h[5],l=this.h[6],c=this.h[7],f=this.h[8],h=this.h[9],d=this.h[10],p=this.h[11],g=this.h[12],m=this.h[13],y=this.h[14],b=this.h[15];assert$j(this.k.length===r.length);for(var v=0;v<r.length;v+=2){var _=y,$=b,w=s1_512_hi(f,h),E=s1_512_lo(f,h),S=ch64_hi(f,h,d,p,g),A=ch64_lo(f,h,d,p,g,m),R=this.k[v],N=this.k[v+1],x=r[v],k=r[v+1],C=sum64_5_hi(_,$,w,E,S,A,R,N,x,k),T=sum64_5_lo(_,$,w,E,S,A,R,N,x,k);_=s0_512_hi(n,i),$=s0_512_lo(n,i),w=maj64_hi(n,i,o,s,a),E=maj64_lo(n,i,o,s,a,u);var M=sum64_hi(_,$,w,E),P=sum64_lo(_,$,w,E);y=g,b=m,g=d,m=p,d=f,p=h,f=sum64_hi(l,c,C,T),h=sum64_lo(c,c,C,T),l=a,c=u,a=o,u=s,o=n,s=i,n=sum64_hi(C,T,M,P),i=sum64_lo(C,T,M,P)}sum64(this.h,0,n,i),sum64(this.h,2,o,s),sum64(this.h,4,a,u),sum64(this.h,6,l,c),sum64(this.h,8,f,h),sum64(this.h,10,d,p),sum64(this.h,12,g,m),sum64(this.h,14,y,b)},SHA512$2.prototype._digest=function(e){return"hex"===e?utils$l.toHex32(this.h,"big"):utils$l.split32(this.h,"big")};var utils$k=utils$r,SHA512$1=_512;function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512$1.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$k.inherits(SHA384,SHA512$1);var _384=SHA384;SHA384.blockSize=1024,SHA384.outSize=384,SHA384.hmacStrength=192,SHA384.padLength=128,SHA384.prototype._digest=function(e){return"hex"===e?utils$k.toHex32(this.h.slice(0,12),"big"):utils$k.split32(this.h.slice(0,12),"big")},sha$2.sha1=_1,sha$2.sha224=_224,sha$2.sha256=_256,sha$2.sha384=_384,sha$2.sha512=_512;var ripemd={},utils$j=utils$r,common=common$5,rotl32=utils$j.rotl32,sum32=utils$j.sum32,sum32_3=utils$j.sum32_3,sum32_4=utils$j.sum32_4,BlockHash=common.BlockHash;function RIPEMD160$2(){if(!(this instanceof RIPEMD160$2))return new RIPEMD160$2;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f$4(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function K$5(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function Kh(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}utils$j.inherits(RIPEMD160$2,BlockHash),ripemd.ripemd160=RIPEMD160$2,RIPEMD160$2.blockSize=512,RIPEMD160$2.outSize=160,RIPEMD160$2.hmacStrength=192,RIPEMD160$2.padLength=64,RIPEMD160$2.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],o=this.h[3],s=this.h[4],a=r,u=n,l=i,c=o,f=s,h=0;h<80;h++){var d=sum32(rotl32(sum32_4(r,f$4(h,n,i,o),e[r$5[h]+t],K$5(h)),s$4[h]),s);r=s,s=o,o=rotl32(i,10),i=n,n=d,d=sum32(rotl32(sum32_4(a,f$4(79-h,u,l,c),e[rh[h]+t],Kh(h)),sh[h]),f),a=f,f=c,c=rotl32(l,10),l=u,u=d}d=sum32_3(this.h[1],i,c),this.h[1]=sum32_3(this.h[2],o,f),this.h[2]=sum32_3(this.h[3],s,a),this.h[3]=sum32_3(this.h[4],r,u),this.h[4]=sum32_3(this.h[0],n,l),this.h[0]=d},RIPEMD160$2.prototype._digest=function(e){return"hex"===e?utils$j.toHex32(this.h,"little"):utils$j.split32(this.h,"little")};var r$5=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s$4=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils$i=utils$r,assert$i=minimalisticAssert$4;function Hmac(e,t,r){if(!(this instanceof Hmac))return new Hmac(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(utils$i.toArray(t,r))}var hmac=Hmac,SupportedAlgorithm$2;Hmac.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),assert$i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},Hmac.prototype.update=function(e,t){return this.inner.update(e,t),this},Hmac.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=utils$r,t.common=common$5,t.sha=sha$2,t.ripemd=ripemd,t.hmac=hmac,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(hash$4),function(e){e.sha256="sha256",e.sha512="sha512"}(SupportedAlgorithm$2||(SupportedAlgorithm$2={}));const version$X="sha2/5.6.0",logger$L=new Logger$a(version$X);function ripemd160$3(e){return"0x"+hash$4.ripemd160().update(arrayify$8(e)).digest("hex")}function sha256$5(e){return"0x"+hash$4.sha256().update(arrayify$8(e)).digest("hex")}function computeHmac$2(e,t,r){return SupportedAlgorithm$2[e]||logger$L.throwError("unsupported algorithm "+e,Logger$a.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+hash$4.hmac(hash$4[e],arrayify$8(t)).update(arrayify$8(r)).digest("hex")}function pbkdf2$3(e,t,r,n,i){let o;e=arrayify$8(e),t=arrayify$8(t);let s=1;const a=new Uint8Array(n),u=new Uint8Array(t.length+4);let l,c;u.set(t);for(let f=1;f<=s;f++){u[t.length]=f>>24&255,u[t.length+1]=f>>16&255,u[t.length+2]=f>>8&255,u[t.length+3]=255&f;let h=arrayify$8(computeHmac$2(i,e,u));o||(o=h.length,c=new Uint8Array(o),s=Math.ceil(n/o),l=n-(s-1)*o),c.set(h);for(let t=1;t<r;t++){h=arrayify$8(computeHmac$2(i,e,h));for(let e=0;e<o;e++)c[e]^=h[e]}const d=(f-1)*o,p=f===s?l:o;a.set(arrayify$8(c).slice(0,p),d)}return hexlify$5(a)}function createCommonjsModule$4(e,t,r){return r={path:t,exports:{},require:function(e,t){return commonjsRequire$4(e,null==t?r.path:t)}},e(r,r.exports),r.exports}function commonjsRequire$4(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var minimalisticAssert$3=assert$h;function assert$h(e,t){if(!e)throw new Error(t||"Assertion failed")}assert$h.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var utils_1$5=createCommonjsModule$4((function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}})),utils_1$1$4=createCommonjsModule$4((function(e,t){var r=t;r.assert=minimalisticAssert$3,r.toArray=utils_1$5.toArray,r.zero2=utils_1$5.zero2,r.toHex=utils_1$5.toHex,r.encode=utils_1$5.encode,r.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),s=0;s<n.length;s++){var a,u=o.andln(i-1);o.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var s,a,u=e.andln(3)+i&3,l=t.andln(3)+o&3;3===u&&(u=-1),3===l&&(l=-1),s=0==(1&u)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==l?u:-u,r[0].push(s),a=0==(1&l)?0:3!==(n=t.andln(7)+o&7)&&5!==n||2!==u?l:-l,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new _BN(e,"hex","le")}})),getNAF$4=utils_1$1$4.getNAF,getJSF$4=utils_1$1$4.getJSF,assert$1$4=utils_1$1$4.assert;function BaseCurve$4(e,t){this.type=e,this.p=new _BN(t.p,16),this.red=t.prime?_BN.red(t.prime):_BN.mont(this.p),this.zero=new _BN(0).toRed(this.red),this.one=new _BN(1).toRed(this.red),this.two=new _BN(2).toRed(this.red),this.n=t.n&&new _BN(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$5=BaseCurve$4;function BasePoint$4(e,t){this.curve=e,this.type=t,this.precomputed=null}BaseCurve$4.prototype.point=function(){throw new Error("Not implemented")},BaseCurve$4.prototype.validate=function(){throw new Error("Not implemented")},BaseCurve$4.prototype._fixedNafMul=function(e,t){assert$1$4(e.precomputed);var r=e._getDoubles(),n=getNAF$4(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,s,a=[];for(o=0;o<n.length;o+=r.step){s=0;for(var u=o+r.step-1;u>=o;u--)s=(s<<1)+n[u];a.push(s)}for(var l=this.jpoint(null,null,null),c=this.jpoint(null,null,null),f=i;f>0;f--){for(o=0;o<a.length;o++)(s=a[o])===f?c=c.mixedAdd(r.points[o]):s===-f&&(c=c.mixedAdd(r.points[o].neg()));l=l.add(c)}return l.toP()},BaseCurve$4.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=getNAF$4(t,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var u=0;a>=0&&0===o[a];a--)u++;if(a>=0&&u++,s=s.dblp(u),a<0)break;var l=o[a];assert$1$4(0!==l),s="affine"===e.type?l>0?s.mixedAdd(i[l-1>>1]):s.mixedAdd(i[-l-1>>1].neg()):l>0?s.add(i[l-1>>1]):s.add(i[-l-1>>1].neg())}return"affine"===e.type?s.toP():s},BaseCurve$4.prototype._wnafMulAdd=function(e,t,r,n,i){var o,s,a,u=this._wnafT1,l=this._wnafT2,c=this._wnafT3,f=0;for(o=0;o<n;o++){var h=(a=t[o])._getNAFPoints(e);u[o]=h.wnd,l[o]=h.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1===u[d]&&1===u[p]){var g=[t[d],null,null,t[p]];0===t[d].y.cmp(t[p].y)?(g[1]=t[d].add(t[p]),g[2]=t[d].toJ().mixedAdd(t[p].neg())):0===t[d].y.cmp(t[p].y.redNeg())?(g[1]=t[d].toJ().mixedAdd(t[p]),g[2]=t[d].add(t[p].neg())):(g[1]=t[d].toJ().mixedAdd(t[p]),g[2]=t[d].toJ().mixedAdd(t[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],y=getJSF$4(r[d],r[p]);for(f=Math.max(y[0].length,f),c[d]=new Array(f),c[p]=new Array(f),s=0;s<f;s++){var b=0|y[0][s],v=0|y[1][s];c[d][s]=m[3*(b+1)+(v+1)],c[p][s]=0,l[d]=g}}else c[d]=getNAF$4(r[d],u[d],this._bitLength),c[p]=getNAF$4(r[p],u[p],this._bitLength),f=Math.max(c[d].length,f),f=Math.max(c[p].length,f)}var _=this.jpoint(null,null,null),$=this._wnafT4;for(o=f;o>=0;o--){for(var w=0;o>=0;){var E=!0;for(s=0;s<n;s++)$[s]=0|c[s][o],0!==$[s]&&(E=!1);if(!E)break;w++,o--}if(o>=0&&w++,_=_.dblp(w),o<0)break;for(s=0;s<n;s++){var S=$[s];0!==S&&(S>0?a=l[s][S-1>>1]:S<0&&(a=l[s][-S-1>>1].neg()),_="affine"===a.type?_.mixedAdd(a):_.add(a))}}for(o=0;o<n;o++)l[o]=null;return i?_:_.toP()},BaseCurve$4.BasePoint=BasePoint$4,BasePoint$4.prototype.eq=function(){throw new Error("Not implemented")},BasePoint$4.prototype.validate=function(){return this.curve.validate(this)},BaseCurve$4.prototype.decodePoint=function(e,t){e=utils_1$1$4.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?assert$1$4(e[e.length-1]%2==0):7===e[0]&&assert$1$4(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},BasePoint$4.prototype.encodeCompressed=function(e){return this.encode(e,!0)},BasePoint$4.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},BasePoint$4.prototype.encode=function(e,t){return utils_1$1$4.encode(this._encode(t),e)},BasePoint$4.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},BasePoint$4.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},BasePoint$4.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},BasePoint$4.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},BasePoint$4.prototype._getBeta=function(){return null},BasePoint$4.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var inherits_browser$4=createCommonjsModule$4((function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),assert$2$4=utils_1$1$4.assert;function ShortCurve$4(e){base$5.call(this,"short",e),this.a=new _BN(e.a,16).toRed(this.red),this.b=new _BN(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits_browser$4(ShortCurve$4,base$5);var short_1$3=ShortCurve$4;function Point$6(e,t,r,n){base$5.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new _BN(t,16),this.y=new _BN(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function JPoint$4(e,t,r,n){base$5.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new _BN(0)):(this.x=new _BN(t,16),this.y=new _BN(r,16),this.z=new _BN(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}ShortCurve$4.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new _BN(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new _BN(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],assert$2$4(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new _BN(e.a,16),b:new _BN(e.b,16)}})):this._getEndoBasis(r)}}},ShortCurve$4.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:_BN.mont(e),r=new _BN(2).toRed(t).redInvm(),n=r.redNeg(),i=new _BN(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},ShortCurve$4.prototype._getEndoBasis=function(e){for(var t,r,n,i,o,s,a,u,l,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,h=this.n.clone(),d=new _BN(1),p=new _BN(0),g=new _BN(0),m=new _BN(1),y=0;0!==f.cmpn(0);){var b=h.div(f);u=h.sub(b.mul(f)),l=g.sub(b.mul(d));var v=m.sub(b.mul(p));if(!n&&u.cmp(c)<0)t=a.neg(),r=d,n=u.neg(),i=l;else if(n&&2==++y)break;a=u,h=f,f=u,g=d,d=l,m=p,p=v}o=u.neg(),s=l;var _=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(_)>=0&&(o=t,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},ShortCurve$4.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),l=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:u.add(l).neg()}},ShortCurve$4.prototype.pointFromX=function(e,t){(e=new _BN(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},ShortCurve$4.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},ShortCurve$4.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var l=this._wnafMulAdd(1,n,i,2*o,r),c=0;c<2*o;c++)n[c]=null,i[c]=null;return l},inherits_browser$4(Point$6,base$5.BasePoint),ShortCurve$4.prototype.point=function(e,t,r){return new Point$6(this,e,t,r)},ShortCurve$4.prototype.pointFromJSON=function(e,t){return Point$6.fromJSON(this,e,t)},Point$6.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},Point$6.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point$6.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},Point$6.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point$6.prototype.isInfinity=function(){return this.inf},Point$6.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Point$6.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},Point$6.prototype.getX=function(){return this.x.fromRed()},Point$6.prototype.getY=function(){return this.y.fromRed()},Point$6.prototype.mul=function(e){return e=new _BN(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Point$6.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Point$6.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Point$6.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},Point$6.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},Point$6.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},inherits_browser$4(JPoint$4,base$5.BasePoint),ShortCurve$4.prototype.jpoint=function(e,t,r){return new JPoint$4(this,e,t,r)},JPoint$4.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},JPoint$4.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint$4.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),c=l.redMul(a),f=n.redMul(l),h=u.redSqr().redIAdd(c).redISub(f).redISub(f),d=u.redMul(f.redISub(h)).redISub(o.redMul(c)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(h,d,p)},JPoint$4.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),l=u.redMul(s),c=r.redMul(u),f=a.redSqr().redIAdd(l).redISub(c).redISub(c),h=a.redMul(c.redISub(f)).redISub(i.redMul(l)),d=this.z.redMul(s);return this.curve.jpoint(f,h,d)},JPoint$4.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),l=s.redAdd(s);for(t=0;t<e;t++){var c=o.redSqr(),f=l.redSqr(),h=f.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(u)),p=o.redMul(f),g=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),y=d.redMul(m);y=y.redIAdd(y).redISub(h);var b=l.redMul(a);t+1<e&&(u=u.redMul(h)),o=g,a=b,l=y}return this.curve.jpoint(o,l.redMul(i),a)},JPoint$4.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint$4.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=u,t=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(c).redISub(h);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),g=p.redSqr(),m=h.redIAdd(h);m=(m=m.redIAdd(m)).redIAdd(m),e=g.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},JPoint$4.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);e=u;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),f=this.y.redSqr(),h=this.x.redMul(f),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=h.redIAdd(h),g=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(c);var m=f.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=d.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},JPoint$4.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),u=t.redAdd(t),l=(u=u.redIAdd(u)).redMul(s),c=a.redSqr().redISub(l.redAdd(l)),f=l.redISub(c),h=s.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=a.redMul(f).redISub(h),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,d,p)},JPoint$4.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),c=t.redMul(l);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.x.redMul(a).redISub(c);f=(f=f.redIAdd(f)).redIAdd(f);var h=this.y.redMul(l.redMul(u.redISub(l)).redISub(s.redMul(a)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(f,h,d)},JPoint$4.prototype.mul=function(e,t){return e=new _BN(e,t),this.curve._wnafMul(this,e)},JPoint$4.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},JPoint$4.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},JPoint$4.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint$4.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var curve_1$3=createCommonjsModule$4((function(e,t){var r=t;r.base=base$5,r.short=short_1$3,r.mont=null,r.edwards=null})),curves_1$3=createCommonjsModule$4((function(t,r){var n,i=r,o=utils_1$1$4.assert;function s(e){"short"===e.type?this.curve=new curve_1$3.short(e):"edwards"===e.type?this.curve=new curve_1$3.edwards(e):this.curve=new curve_1$3.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new s(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=s,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash$4.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash$4.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash$4.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash$4.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash$4.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$4.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$4.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=null.crash()}catch(e){n=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash$4.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})}));function HmacDRBG$5(e){if(!(this instanceof HmacDRBG$5))return new HmacDRBG$5(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=utils_1$5.toArray(e.entropy,e.entropyEnc||"hex"),r=utils_1$5.toArray(e.nonce,e.nonceEnc||"hex"),n=utils_1$5.toArray(e.pers,e.persEnc||"hex");minimalisticAssert$3(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var hmacDrbg$4=HmacDRBG$5;HmacDRBG$5.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},HmacDRBG$5.prototype._hmac=function(){return new hash$4.hmac(this.hash,this.K)},HmacDRBG$5.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG$5.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=utils_1$5.toArray(e,t),r=utils_1$5.toArray(r,n),minimalisticAssert$3(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},HmacDRBG$5.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=utils_1$5.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(r),this._reseed++,utils_1$5.encode(o,t)};var assert$3$4=utils_1$1$4.assert;function KeyPair$7(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var key$5=KeyPair$7;KeyPair$7.fromPublic=function(e,t,r){return t instanceof KeyPair$7?t:new KeyPair$7(e,{pub:t,pubEnc:r})},KeyPair$7.fromPrivate=function(e,t,r){return t instanceof KeyPair$7?t:new KeyPair$7(e,{priv:t,privEnc:r})},KeyPair$7.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair$7.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},KeyPair$7.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},KeyPair$7.prototype._importPrivate=function(e,t){this.priv=new _BN(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair$7.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?assert$3$4(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||assert$3$4(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},KeyPair$7.prototype.derive=function(e){return e.validate()||assert$3$4(e.validate(),"public point not validated"),e.mul(this.priv).getX()},KeyPair$7.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},KeyPair$7.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},KeyPair$7.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var assert$4$4=utils_1$1$4.assert;function Signature$7(e,t){if(e instanceof Signature$7)return e;this._importDER(e,t)||(assert$4$4(e.r&&e.s,"Signature without r or s"),this.r=new _BN(e.r,16),this.s=new _BN(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var signature$6=Signature$7;function Position$4(){this.place=0}function getLength$5(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function rmPadding$4(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function constructLength$4(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}Signature$7.prototype._importDER=function(e,t){e=utils_1$1$4.toArray(e,t);var r=new Position$4;if(48!==e[r.place++])return!1;var n=getLength$5(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=getLength$5(e,r);if(!1===i)return!1;var o=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var s=getLength$5(e,r);if(!1===s)return!1;if(e.length!==s+r.place)return!1;var a=e.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new _BN(o),this.s=new _BN(a),this.recoveryParam=null,!0},Signature$7.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=rmPadding$4(t),r=rmPadding$4(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];constructLength$4(n,t.length),(n=n.concat(t)).push(2),constructLength$4(n,r.length);var i=n.concat(r),o=[48];return constructLength$4(o,i.length),o=o.concat(i),utils_1$1$4.encode(o,e)};var rand$4=function(){throw new Error("unsupported")},assert$5$4=utils_1$1$4.assert;function EC$7(e){if(!(this instanceof EC$7))return new EC$7(e);"string"==typeof e&&(assert$5$4(Object.prototype.hasOwnProperty.call(curves_1$3,e),"Unknown curve "+e),e=curves_1$3[e]),e instanceof curves_1$3.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var ec$7=EC$7;EC$7.prototype.keyPair=function(e){return new key$5(this,e)},EC$7.prototype.keyFromPrivate=function(e,t){return key$5.fromPrivate(this,e,t)},EC$7.prototype.keyFromPublic=function(e,t){return key$5.fromPublic(this,e,t)},EC$7.prototype.genKeyPair=function(e){e||(e={});for(var t=new hmacDrbg$4({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||rand$4(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new _BN(2));;){var i=new _BN(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},EC$7.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},EC$7.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new _BN(e,16));for(var i=this.n.byteLength(),o=t.getPrivate().toArray("be",i),s=e.toArray("be",i),a=new hmacDrbg$4({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new _BN(1)),l=0;;l++){var c=n.k?n.k(l):new _BN(a.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||c.cmp(u)>=0)){var f=this.g.mul(c);if(!f.isInfinity()){var h=f.getX(),d=h.umod(this.n);if(0!==d.cmpn(0)){var p=c.invm(this.n).mul(d.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var g=(f.getY().isOdd()?1:0)|(0!==h.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),g^=1),new signature$6({r:d,s:p,recoveryParam:g})}}}}}},EC$7.prototype.verify=function(e,t,r,n){e=this._truncateToN(new _BN(e,16)),r=this.keyFromPublic(r,n);var i=(t=new signature$6(t,"hex")).r,o=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),u=a.mul(e).umod(this.n),l=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,r.getPublic(),l)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(u,r.getPublic(),l)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},EC$7.prototype.recoverPubKey=function(e,t,r,n){assert$5$4((3&r)===r,"The recovery param is more than two bits"),t=new signature$6(t,n);var i=this.n,o=new _BN(e),s=t.r,a=t.s,u=1&r,l=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");s=l?this.curve.pointFromX(s.add(this.curve.n),u):this.curve.pointFromX(s,u);var c=t.r.invm(i),f=i.sub(o).mul(c).umod(i),h=a.mul(c).umod(i);return this.g.mulAdd(f,s,h)},EC$7.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new signature$6(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var elliptic_1$3=createCommonjsModule$4((function(e,t){var r=t;r.version="6.5.4",r.utils=utils_1$1$4,r.rand=function(){throw new Error("unsupported")},r.curve=curve_1$3,r.curves=curves_1$3,r.ec=ec$7,r.eddsa=null})),EC$1$4=elliptic_1$3.ec;const version$W="signing-key/5.6.0",logger$K=new Logger$a(version$W);let _curve$3=null;function getCurve$3(){return _curve$3||(_curve$3=new EC$1$4("secp256k1")),_curve$3}class SigningKey$3{constructor(e){defineReadOnly$3(this,"curve","secp256k1"),defineReadOnly$3(this,"privateKey",hexlify$5(e));const t=getCurve$3().keyFromPrivate(arrayify$8(this.privateKey));defineReadOnly$3(this,"publicKey","0x"+t.getPublic(!1,"hex")),defineReadOnly$3(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),defineReadOnly$3(this,"_isSigningKey",!0)}_addPoint(e){const t=getCurve$3().keyFromPublic(arrayify$8(this.publicKey)),r=getCurve$3().keyFromPublic(arrayify$8(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const t=getCurve$3().keyFromPrivate(arrayify$8(this.privateKey)),r=arrayify$8(e);32!==r.length&&logger$K.throwArgumentError("bad digest length","digest",e);const n=t.sign(r,{canonical:!0});return splitSignature$2({recoveryParam:n.recoveryParam,r:hexZeroPad$2("0x"+n.r.toString(16),32),s:hexZeroPad$2("0x"+n.s.toString(16),32)})}computeSharedSecret(e){const t=getCurve$3().keyFromPrivate(arrayify$8(this.privateKey)),r=getCurve$3().keyFromPublic(arrayify$8(computePublicKey$3(e)));return hexZeroPad$2("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!(!e||!e._isSigningKey)}}function computePublicKey$3(e,t){const r=arrayify$8(e);if(32===r.length){const e=new SigningKey$3(r);return t?"0x"+getCurve$3().keyFromPrivate(r).getPublic(!0,"hex"):e.publicKey}return 33===r.length?t?hexlify$5(r):"0x"+getCurve$3().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+getCurve$3().keyFromPublic(r).getPublic(!0,"hex"):hexlify$5(r):logger$K.throwArgumentError("invalid public or private key","key","[REDACTED]")}function keccak256$3(e){return"0x"+sha3.keccak_256(arrayify$8(e))}const version$V="address/5.6.0",logger$J=new Logger$a(version$V);function getChecksumAddress$1(e){isHexString$d(e,20)||logger$J.throwArgumentError("invalid address","address",e);const t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=t[i].charCodeAt(0);const n=arrayify$8(keccak256$3(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(15&n[i>>1])>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const MAX_SAFE_INTEGER$3=9007199254740991;function log10$1(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}const ibanLookup$1={};for(let ee=0;ee<10;ee++)ibanLookup$1[String(ee)]=String(ee);for(let ee=0;ee<26;ee++)ibanLookup$1[String.fromCharCode(65+ee)]=String(10+ee);const safeDigits$1=Math.floor(log10$1(MAX_SAFE_INTEGER$3));function ibanChecksum$1(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>ibanLookup$1[e])).join("");for(;t.length>=safeDigits$1;){let e=t.substring(0,safeDigits$1);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function getAddress$1(e){let t=null;if("string"!=typeof e&&logger$J.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=getChecksumAddress$1(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&logger$J.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==ibanChecksum$1(e)&&logger$J.throwArgumentError("bad icap checksum","address",e),t=_base36To16$1(e.substring(4));t.length<40;)t="0"+t;t=getChecksumAddress$1("0x"+t)}else logger$J.throwArgumentError("invalid address","address",e);return t}const version$U="transactions/5.6.0";var TransactionTypes$2;function computeAddress$2(e){return getAddress$1(hexDataSlice$1(keccak256$3(hexDataSlice$1(computePublicKey$3(e),1)),12))}function id(e){return keccak256$3(toUtf8Bytes$2(e))}new Logger$a(version$U),function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(TransactionTypes$2||(TransactionTypes$2={}));const version$T="wordlists/5.6.0",logger$I=new Logger$a(version$T);class Wordlist$1{constructor(e){logger$I.checkAbstract(new.target,Wordlist$1),defineReadOnly$3(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let r=0;r<2048;r++){const n=e.getWord(r);if(r!==e.getWordIndex(n))return"0x";t.push(n)}return id(t.join("\n")+"\n")}static register(e,t){}}const words$1="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let wordlist$1=null;function loadWords$1(e){if(null==wordlist$1&&(wordlist$1=words$1.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==Wordlist$1.check(e)))throw wordlist$1=null,new Error("BIP39 Wordlist for en (English) FAILED")}class LangEn$1 extends Wordlist$1{constructor(){super("en")}getWord(e){return loadWords$1(this),wordlist$1[e]}getWordIndex(e){return loadWords$1(this),wordlist$1.indexOf(e)}}const langEn$1=new LangEn$1;Wordlist$1.register(langEn$1);const wordlists$1={en:langEn$1},version$S="hdnode/5.5.0",logger$H=new Logger$a(version$S),N$4=BigNumber$1.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),MasterSecret$1=toUtf8Bytes$2("Bitcoin seed"),HardenedBit$1=2147483648;function getUpperMask$1(e){return(1<<e)-1<<8-e}function getLowerMask$1(e){return(1<<e)-1}function bytes32$1(e){return hexZeroPad$2(hexlify$5(e),32)}function base58check$1(e){return Base58$1.encode(concat$3([e,hexDataSlice$1(sha256$5(sha256$5(e)),0,4)]))}function getWordlist$1(e){if(null==e)return wordlists$1.en;if("string"==typeof e){const t=wordlists$1[e];return null==t&&logger$H.throwArgumentError("unknown locale","wordlist",e),t}return e}const _constructorGuard$3={},defaultPath$1="m/44'/60'/0'/0/0";class HDNode$1{constructor(e,t,r,n,i,o,s,a){if(logger$H.checkNew(new.target,HDNode$1),e!==_constructorGuard$3)throw new Error("HDNode constructor cannot be called directly");if(t){const e=new SigningKey$3(t);defineReadOnly$3(this,"privateKey",e.privateKey),defineReadOnly$3(this,"publicKey",e.compressedPublicKey)}else defineReadOnly$3(this,"privateKey",null),defineReadOnly$3(this,"publicKey",hexlify$5(r));defineReadOnly$3(this,"parentFingerprint",n),defineReadOnly$3(this,"fingerprint",hexDataSlice$1(ripemd160$3(sha256$5(this.publicKey)),0,4)),defineReadOnly$3(this,"address",computeAddress$2(this.publicKey)),defineReadOnly$3(this,"chainCode",i),defineReadOnly$3(this,"index",o),defineReadOnly$3(this,"depth",s),null==a?(defineReadOnly$3(this,"mnemonic",null),defineReadOnly$3(this,"path",null)):"string"==typeof a?(defineReadOnly$3(this,"mnemonic",null),defineReadOnly$3(this,"path",a)):(defineReadOnly$3(this,"mnemonic",a),defineReadOnly$3(this,"path",a.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return base58check$1(concat$3([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",hexlify$5(this.depth),this.parentFingerprint,hexZeroPad$2(hexlify$5(this.index),4),this.chainCode,null!=this.privateKey?concat$3(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new HDNode$1(_constructorGuard$3,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&~HardenedBit$1));const r=new Uint8Array(37);if(e&HardenedBit$1){if(!this.privateKey)throw new Error("cannot derive child of neutered node");r.set(arrayify$8(this.privateKey),1),t&&(t+="'")}else r.set(arrayify$8(this.publicKey));for(let c=24;c>=0;c-=8)r[33+(c>>3)]=e>>24-c&255;const n=arrayify$8(computeHmac$2(SupportedAlgorithm$2.sha512,this.chainCode,r)),i=n.slice(0,32),o=n.slice(32);let s=null,a=null;if(this.privateKey)s=bytes32$1(BigNumber$1.from(i).add(this.privateKey).mod(N$4));else{a=new SigningKey$3(hexlify$5(i))._addPoint(this.publicKey)}let u=t;const l=this.mnemonic;return l&&(u=Object.freeze({phrase:l.phrase,path:t,locale:l.locale||"en"})),new HDNode$1(_constructorGuard$3,s,a,this.fingerprint,bytes32$1(o),e,this.depth+1,u)}derivePath(e){const t=e.split("/");if(0===t.length||"m"===t[0]&&0!==this.depth)throw new Error("invalid path - "+e);"m"===t[0]&&t.shift();let r=this;for(let n=0;n<t.length;n++){const e=t[n];if(e.match(/^[0-9]+'$/)){const t=parseInt(e.substring(0,e.length-1));if(t>=HardenedBit$1)throw new Error("invalid path index - "+e);r=r._derive(HardenedBit$1+t)}else{if(!e.match(/^[0-9]+$/))throw new Error("invalid path component - "+e);{const t=parseInt(e);if(t>=HardenedBit$1)throw new Error("invalid path index - "+e);r=r._derive(t)}}}return r}static _fromSeed(e,t){const r=arrayify$8(e);if(r.length<16||r.length>64)throw new Error("invalid seed");const n=arrayify$8(computeHmac$2(SupportedAlgorithm$2.sha512,MasterSecret$1,r));return new HDNode$1(_constructorGuard$3,bytes32$1(n.slice(0,32)),null,"0x00000000",bytes32$1(n.slice(32)),0,0,t)}static fromMnemonic(e,t,r){return e=entropyToMnemonic$1(mnemonicToEntropy$1(e,r=getWordlist$1(r)),r),HDNode$1._fromSeed(mnemonicToSeed$1(e,t),{phrase:e,path:"m",locale:r.locale})}static fromSeed(e){return HDNode$1._fromSeed(e,null)}static fromExtendedKey(e){const t=Base58$1.decode(e);82===t.length&&base58check$1(t.slice(0,78))===e||logger$H.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const r=t[4],n=hexlify$5(t.slice(5,9)),i=parseInt(hexlify$5(t.slice(9,13)).substring(2),16),o=hexlify$5(t.slice(13,45)),s=t.slice(45,78);switch(hexlify$5(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new HDNode$1(_constructorGuard$3,null,hexlify$5(s),n,o,i,r,null);case"0x0488ade4":case"0x04358394 ":if(0!==s[0])break;return new HDNode$1(_constructorGuard$3,hexlify$5(s.slice(1)),null,n,o,i,r,null)}return logger$H.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function mnemonicToSeed$1(e,t){t||(t="");const r=toUtf8Bytes$2("mnemonic"+t,UnicodeNormalizationForm$2.NFKD);return pbkdf2$3(toUtf8Bytes$2(e,UnicodeNormalizationForm$2.NFKD),r,2048,64,"sha512")}function mnemonicToEntropy$1(e,t){t=getWordlist$1(t),logger$H.checkNormalize();const r=t.split(e);if(r.length%3!=0)throw new Error("invalid mnemonic");const n=arrayify$8(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let a=0;a<r.length;a++){let e=t.getWordIndex(r[a].normalize("NFKD"));if(-1===e)throw new Error("invalid mnemonic");for(let t=0;t<11;t++)e&1<<10-t&&(n[i>>3]|=1<<7-i%8),i++}const o=32*r.length/3,s=getUpperMask$1(r.length/3);if((arrayify$8(sha256$5(n.slice(0,o/8)))[0]&s)!==(n[n.length-1]&s))throw new Error("invalid checksum");return hexlify$5(n.slice(0,o/8))}function entropyToMnemonic$1(e,t){if(t=getWordlist$1(t),(e=arrayify$8(e)).length%4!=0||e.length<16||e.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let s=0;s<e.length;s++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=e[s],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=e[s]>>8-n,r.push(e[s]&getLowerMask$1(8-n)),n+=3);const i=e.length/4,o=arrayify$8(sha256$5(e))[0]&getUpperMask$1(i);return r[r.length-1]<<=i,r[r.length-1]|=o>>8-i,t.join(r.map((e=>t.getWord(e))))}function isValidMnemonic(e,t){try{return mnemonicToEntropy$1(e,t),!0}catch(error){}return!1}function getAccountPath(e){return("number"!=typeof e||e<0||e>=HardenedBit$1||e%1)&&logger$H.throwArgumentError("invalid account index","index",e),`m/44'/60'/${e}'/0/0`}var lib_esm$e=Object.freeze(Object.defineProperty({__proto__:null,defaultPath:defaultPath$1,HDNode:HDNode$1,mnemonicToSeed:mnemonicToSeed$1,mnemonicToEntropy:mnemonicToEntropy$1,entropyToMnemonic:entropyToMnemonic$1,isValidMnemonic:isValidMnemonic,getAccountPath:getAccountPath},Symbol.toStringTag,{value:"Module"})),require$$6=getAugmentedNamespace(lib_esm$e),aesJs={exports:{}};!function(e,t){!function(t){function r(e){return parseInt(e)===e}function n(e){if(!r(e.length))return!1;for(var t=0;t<e.length;t++)if(!r(e[t])||e[t]<0||e[t]>255)return!1;return!0}function i(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!n(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(r(e.length)&&n(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function o(e){return new Uint8Array(e)}function s(e,t,r,n,i){null==n&&null==i||(e=e.slice?e.slice(n,i):Array.prototype.slice.call(e,n,i)),t.set(e,r)}var a,u={toBytes:function(e){var t=[],r=0;for(e=encodeURI(e);r<e.length;){var n=e.charCodeAt(r++);37===n?(t.push(parseInt(e.substr(r,2),16)),r+=2):t.push(n)}return i(t)},fromBytes:function(e){for(var t=[],r=0;r<e.length;){var n=e[r];n<128?(t.push(String.fromCharCode(n)),r++):n>191&&n<224?(t.push(String.fromCharCode((31&n)<<6|63&e[r+1])),r+=2):(t.push(String.fromCharCode((15&n)<<12|(63&e[r+1])<<6|63&e[r+2])),r+=3)}return t.join("")}},l=(a="0123456789abcdef",{toBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},fromBytes:function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(a[(240&n)>>4]+a[15&n])}return t.join("")}}),c={16:10,24:12,32:14},f=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],h=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],d=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],p=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],g=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],m=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],y=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],b=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],v=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],_=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],$=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],w=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],E=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],S=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],A=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function R(e){for(var t=[],r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}var N=function(e){if(!(this instanceof N))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:i(e,!0)}),this._prepare()};N.prototype._prepare=function(){var e=c[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var r,n=4*(e+1),i=this.key.length/4,o=R(this.key);for(t=0;t<i;t++)r=t>>2,this._Ke[r][t%4]=o[t],this._Kd[e-r][t%4]=o[t];for(var s,a=0,u=i;u<n;){if(s=o[i-1],o[0]^=h[s>>16&255]<<24^h[s>>8&255]<<16^h[255&s]<<8^h[s>>24&255]^f[a]<<24,a+=1,8!=i)for(t=1;t<i;t++)o[t]^=o[t-1];else{for(t=1;t<i/2;t++)o[t]^=o[t-1];s=o[i/2-1],o[i/2]^=h[255&s]^h[s>>8&255]<<8^h[s>>16&255]<<16^h[s>>24&255]<<24;for(t=i/2+1;t<i;t++)o[t]^=o[t-1]}for(t=0;t<i&&u<n;)l=u>>2,d=u%4,this._Ke[l][d]=o[t],this._Kd[e-l][d]=o[t++],u++}for(var l=1;l<e;l++)for(var d=0;d<4;d++)s=this._Kd[l][d],this._Kd[l][d]=w[s>>24&255]^E[s>>16&255]^S[s>>8&255]^A[255&s]},N.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,r=[0,0,0,0],n=R(e),i=0;i<4;i++)n[i]^=this._Ke[0][i];for(var s=1;s<t;s++){for(i=0;i<4;i++)r[i]=p[n[i]>>24&255]^g[n[(i+1)%4]>>16&255]^m[n[(i+2)%4]>>8&255]^y[255&n[(i+3)%4]]^this._Ke[s][i];n=r.slice()}var a,u=o(16);for(i=0;i<4;i++)a=this._Ke[t][i],u[4*i]=255&(h[n[i]>>24&255]^a>>24),u[4*i+1]=255&(h[n[(i+1)%4]>>16&255]^a>>16),u[4*i+2]=255&(h[n[(i+2)%4]>>8&255]^a>>8),u[4*i+3]=255&(h[255&n[(i+3)%4]]^a);return u},N.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,r=[0,0,0,0],n=R(e),i=0;i<4;i++)n[i]^=this._Kd[0][i];for(var s=1;s<t;s++){for(i=0;i<4;i++)r[i]=b[n[i]>>24&255]^v[n[(i+3)%4]>>16&255]^_[n[(i+2)%4]>>8&255]^$[255&n[(i+1)%4]]^this._Kd[s][i];n=r.slice()}var a,u=o(16);for(i=0;i<4;i++)a=this._Kd[t][i],u[4*i]=255&(d[n[i]>>24&255]^a>>24),u[4*i+1]=255&(d[n[(i+3)%4]>>16&255]^a>>16),u[4*i+2]=255&(d[n[(i+2)%4]>>8&255]^a>>8),u[4*i+3]=255&(d[255&n[(i+1)%4]]^a);return u};var x=function(e){if(!(this instanceof x))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new N(e)};x.prototype.encrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=o(e.length),r=o(16),n=0;n<e.length;n+=16)s(e,r,0,n,n+16),s(r=this._aes.encrypt(r),t,n);return t},x.prototype.decrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=o(e.length),r=o(16),n=0;n<e.length;n+=16)s(e,r,0,n,n+16),s(r=this._aes.decrypt(r),t,n);return t};var k=function(e,t){if(!(this instanceof k))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=o(16);this._lastCipherblock=i(t,!0),this._aes=new N(e)};k.prototype.encrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=o(e.length),r=o(16),n=0;n<e.length;n+=16){s(e,r,0,n,n+16);for(var a=0;a<16;a++)r[a]^=this._lastCipherblock[a];this._lastCipherblock=this._aes.encrypt(r),s(this._lastCipherblock,t,n)}return t},k.prototype.decrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=o(e.length),r=o(16),n=0;n<e.length;n+=16){s(e,r,0,n,n+16),r=this._aes.decrypt(r);for(var a=0;a<16;a++)t[n+a]=r[a]^this._lastCipherblock[a];s(e,this._lastCipherblock,0,n,n+16)}return t};var C=function(e,t,r){if(!(this instanceof C))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 size)")}else t=o(16);r||(r=1),this.segmentSize=r,this._shiftRegister=i(t,!0),this._aes=new N(e)};C.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,r=i(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var o=0;o<this.segmentSize;o++)r[n+o]^=t[o];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(r,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r},C.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,r=i(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var o=0;o<this.segmentSize;o++)r[n+o]^=t[o];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(e,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r};var T=function(e,t){if(!(this instanceof T))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=o(16);this._lastPrecipher=i(t,!0),this._lastPrecipherIndex=16,this._aes=new N(e)};T.prototype.encrypt=function(e){for(var t=i(e,!0),r=0;r<t.length;r++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[r]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},T.prototype.decrypt=T.prototype.encrypt;var M=function(e){if(!(this instanceof M))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"==typeof e?(this._counter=o(16),this.setValue(e)):this.setBytes(e)};M.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");for(var t=15;t>=0;--t)this._counter[t]=e%256,e>>=8},M.prototype.setBytes=function(e){if(16!=(e=i(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},M.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var P=function(e,t){if(!(this instanceof P))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof M||(t=new M(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new N(e)};P.prototype.encrypt=function(e){for(var t=i(e,!0),r=0;r<t.length;r++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[r]^=this._remainingCounter[this._remainingCounterIndex++];return t},P.prototype.decrypt=P.prototype.encrypt;var I={AES:N,Counter:M,ModeOfOperation:{ecb:x,cbc:k,cfb:C,ofb:T,ctr:P},utils:{hex:l,utf8:u},padding:{pkcs7:{pad:function(e){var t=16-(e=i(e,!0)).length%16,r=o(e.length+t);s(e,r);for(var n=e.length;n<r.length;n++)r[n]=t;return r},strip:function(e){if((e=i(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var r=e.length-t,n=0;n<t;n++)if(e[r+n]!==t)throw new Error("PKCS#7 invalid padding byte");var a=o(r);return s(e,a,0,0,r),a}}},_arrayTest:{coerceArray:i,createArray:o,copyArray:s}};e.exports=I}()}(aesJs);var aes=aesJs.exports,SupportedAlgorithm$1;!function(e){e.sha256="sha256",e.sha512="sha512"}(SupportedAlgorithm$1||(SupportedAlgorithm$1={}));const version$R="sha2/5.6.0",logger$G=new Logger$g(version$R);function ripemd160$2(e){return"0x"+hash$4.ripemd160().update(arrayify$e(e)).digest("hex")}function sha256$4(e){return"0x"+hash$4.sha256().update(arrayify$e(e)).digest("hex")}function computeHmac$1(e,t,r){return SupportedAlgorithm$1[e]||logger$G.throwError("unsupported algorithm "+e,Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+hash$4.hmac(hash$4[e],arrayify$e(t)).update(arrayify$e(r)).digest("hex")}function pbkdf2$2(e,t,r,n,i){let o;e=arrayify$e(e),t=arrayify$e(t);let s=1;const a=new Uint8Array(n),u=new Uint8Array(t.length+4);let l,c;u.set(t);for(let f=1;f<=s;f++){u[t.length]=f>>24&255,u[t.length+1]=f>>16&255,u[t.length+2]=f>>8&255,u[t.length+3]=255&f;let h=arrayify$e(computeHmac$1(i,e,u));o||(o=h.length,c=new Uint8Array(o),s=Math.ceil(n/o),l=n-(s-1)*o),c.set(h);for(let t=1;t<r;t++){h=arrayify$e(computeHmac$1(i,e,h));for(let e=0;e<o;e++)c[e]^=h[e]}const d=(f-1)*o,p=f===s?l:o;a.set(arrayify$e(c).slice(0,p),d)}return hexlify$9(a)}const version$Q="json-wallets/5.5.0";function looseArrayify$1(e){return"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),arrayify$e(e)}function zpad$1(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function getPassword$1(e){return"string"==typeof e?toUtf8Bytes$4(e,UnicodeNormalizationForm$4.NFKC):arrayify$e(e)}function searchPath$1(e,t){let r=e;const n=t.toLowerCase().split("/");for(let i=0;i<n.length;i++){let e=null;for(const t in r)if(t.toLowerCase()===n[i]){e=r[t];break}if(null===e)return null;r=e}return r}function uuidV4$1(e){const t=arrayify$e(e);t[6]=15&t[6]|64,t[8]=63&t[8]|128;const r=hexlify$9(t);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const logger$F=new Logger$g(version$Q);class CrowdsaleAccount$1 extends Description$1{isCrowdsaleAccount(e){return!(!e||!e._isCrowdsaleAccount)}}function decrypt$5(e,t){const r=JSON.parse(e);t=getPassword$1(t);const n=getAddress$4(searchPath$1(r,"ethaddr")),i=looseArrayify$1(searchPath$1(r,"encseed"));i&&i.length%16==0||logger$F.throwArgumentError("invalid encseed","json",e);const o=arrayify$e(pbkdf2$2(t,t,2e3,32,"sha256")).slice(0,16),s=i.slice(0,16),a=i.slice(16),u=new aes.ModeOfOperation.cbc(o,s),l=aes.padding.pkcs7.strip(arrayify$e(u.decrypt(a)));let c="";for(let h=0;h<l.length;h++)c+=String.fromCharCode(l[h]);const f=keccak256$6(toUtf8Bytes$4(c));return new CrowdsaleAccount$1({_isCrowdsaleAccount:!0,address:n,privateKey:f})}function isCrowdsaleWallet$1(e){let t=null;try{t=JSON.parse(e)}catch(error){return!1}return t.encseed&&t.ethaddr}function isKeystoreWallet$1(e){let t=null;try{t=JSON.parse(e)}catch(error){return!1}return!(!t.version||parseInt(t.version)!==t.version||3!==parseInt(t.version))}function getJsonWalletAddress(e){if(isCrowdsaleWallet$1(e))try{return getAddress$4(JSON.parse(e).ethaddr)}catch(error){return null}if(isKeystoreWallet$1(e))try{return getAddress$4(JSON.parse(e).address)}catch(error){return null}return null}var scrypt$1={exports:{}};!function(e,t){!function(t){const r=2147483647;function n(e){const t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let r=1779033703,n=3144134277,i=1013904242,o=2773480762,s=1359893119,a=2600822924,u=528734635,l=1541459225;const c=new Uint32Array(64);function f(e){let f=0,h=e.length;for(;h>=64;){let d,p,g,m,y,b=r,v=n,_=i,$=o,w=s,E=a,S=u,A=l;for(p=0;p<16;p++)g=f+4*p,c[p]=(255&e[g])<<24|(255&e[g+1])<<16|(255&e[g+2])<<8|255&e[g+3];for(p=16;p<64;p++)d=c[p-2],m=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,d=c[p-15],y=(d>>>7|d<<25)^(d>>>18|d<<14)^d>>>3,c[p]=(m+c[p-7]|0)+(y+c[p-16]|0)|0;for(p=0;p<64;p++)m=(((w>>>6|w<<26)^(w>>>11|w<<21)^(w>>>25|w<<7))+(w&E^~w&S)|0)+(A+(t[p]+c[p]|0)|0)|0,y=((b>>>2|b<<30)^(b>>>13|b<<19)^(b>>>22|b<<10))+(b&v^b&_^v&_)|0,A=S,S=E,E=w,w=$+m|0,$=_,_=v,v=b,b=m+y|0;r=r+b|0,n=n+v|0,i=i+_|0,o=o+$|0,s=s+w|0,a=a+E|0,u=u+S|0,l=l+A|0,f+=64,h-=64}}f(e);let h,d=e.length%64,p=e.length/536870912|0,g=e.length<<3,m=d<56?56:120,y=e.slice(e.length-d,e.length);for(y.push(128),h=d+1;h<m;h++)y.push(0);return y.push(p>>>24&255),y.push(p>>>16&255),y.push(p>>>8&255),y.push(p>>>0&255),y.push(g>>>24&255),y.push(g>>>16&255),y.push(g>>>8&255),y.push(g>>>0&255),f(y),[r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,u>>>24&255,u>>>16&255,u>>>8&255,u>>>0&255,l>>>24&255,l>>>16&255,l>>>8&255,l>>>0&255]}function i(e,t,r){e=e.length<=64?e:n(e);const i=64+t.length+4,o=new Array(i),s=new Array(64);let a,u=[];for(a=0;a<64;a++)o[a]=54;for(a=0;a<e.length;a++)o[a]^=e[a];for(a=0;a<t.length;a++)o[64+a]=t[a];for(a=i-4;a<i;a++)o[a]=0;for(a=0;a<64;a++)s[a]=92;for(a=0;a<e.length;a++)s[a]^=e[a];function l(){for(let e=i-1;e>=i-4;e--){if(o[e]++,o[e]<=255)return;o[e]=0}}for(;r>=32;)l(),u=u.concat(n(s.concat(n(o)))),r-=32;return r>0&&(l(),u=u.concat(n(s.concat(n(o))).slice(0,r))),u}function o(e,t,r,n,i){let o;for(l(e,16*(2*r-1),i,0,16),o=0;o<2*r;o++)u(e,16*o,i,16),a(i,n),l(i,0,e,t+16*o,16);for(o=0;o<r;o++)l(e,t+2*o*16,e,16*o,16);for(o=0;o<r;o++)l(e,t+16*(2*o+1),e,16*(o+r),16)}function s(e,t){return e<<t|e>>>32-t}function a(e,t){l(e,0,t,0,16);for(let r=8;r>0;r-=2)t[4]^=s(t[0]+t[12],7),t[8]^=s(t[4]+t[0],9),t[12]^=s(t[8]+t[4],13),t[0]^=s(t[12]+t[8],18),t[9]^=s(t[5]+t[1],7),t[13]^=s(t[9]+t[5],9),t[1]^=s(t[13]+t[9],13),t[5]^=s(t[1]+t[13],18),t[14]^=s(t[10]+t[6],7),t[2]^=s(t[14]+t[10],9),t[6]^=s(t[2]+t[14],13),t[10]^=s(t[6]+t[2],18),t[3]^=s(t[15]+t[11],7),t[7]^=s(t[3]+t[15],9),t[11]^=s(t[7]+t[3],13),t[15]^=s(t[11]+t[7],18),t[1]^=s(t[0]+t[3],7),t[2]^=s(t[1]+t[0],9),t[3]^=s(t[2]+t[1],13),t[0]^=s(t[3]+t[2],18),t[6]^=s(t[5]+t[4],7),t[7]^=s(t[6]+t[5],9),t[4]^=s(t[7]+t[6],13),t[5]^=s(t[4]+t[7],18),t[11]^=s(t[10]+t[9],7),t[8]^=s(t[11]+t[10],9),t[9]^=s(t[8]+t[11],13),t[10]^=s(t[9]+t[8],18),t[12]^=s(t[15]+t[14],7),t[13]^=s(t[12]+t[15],9),t[14]^=s(t[13]+t[12],13),t[15]^=s(t[14]+t[13],18);for(let r=0;r<16;++r)e[r]+=t[r]}function u(e,t,r,n){for(let i=0;i<n;i++)r[i]^=e[t+i]}function l(e,t,r,n,i){for(;i--;)r[n++]=e[t++]}function c(e){if(!e||"number"!=typeof e.length)return!1;for(let t=0;t<e.length;t++){const r=e[t];if("number"!=typeof r||r%1||r<0||r>=256)return!1}return!0}function f(e,t){if("number"!=typeof e||e%1)throw new Error("invalid "+t);return e}function h(e,t,n,s,a,h,d){if(n=f(n,"N"),s=f(s,"r"),a=f(a,"p"),h=f(h,"dkLen"),0===n||0!=(n&n-1))throw new Error("N must be power of 2");if(n>r/128/s)throw new Error("N too large");if(s>r/128/a)throw new Error("r too large");if(!c(e))throw new Error("password must be an array or buffer");if(e=Array.prototype.slice.call(e),!c(t))throw new Error("salt must be an array or buffer");t=Array.prototype.slice.call(t);let p=i(e,t,128*a*s);const g=new Uint32Array(32*a*s);for(let r=0;r<g.length;r++){const e=4*r;g[r]=(255&p[e+3])<<24|(255&p[e+2])<<16|(255&p[e+1])<<8|(255&p[e+0])<<0}const m=new Uint32Array(64*s),y=new Uint32Array(32*s*n),b=32*s,v=new Uint32Array(16),_=new Uint32Array(16),$=a*n*2;let w,E,S=0,A=null,R=!1,N=0,x=0;const k=d?parseInt(1e3/s):4294967295,C="undefined"!=typeof setImmediate?setImmediate:setTimeout,T=function(){if(R)return d(new Error("cancelled"),S/$);let t;switch(N){case 0:E=32*x*s,l(g,E,m,0,b),N=1,w=0;case 1:t=n-w,t>k&&(t=k);for(let e=0;e<t;e++)l(m,0,y,(w+e)*b,b),o(m,b,s,v,_);if(w+=t,S+=t,d){const e=parseInt(1e3*S/$);if(e!==A){if(R=d(null,S/$),R)break;A=e}}if(w<n)break;w=0,N=2;case 2:t=n-w,t>k&&(t=k);for(let e=0;e<t;e++){const e=m[16*(2*s-1)]&n-1;u(y,e*b,m,b),o(m,b,s,v,_)}if(w+=t,S+=t,d){const e=parseInt(1e3*S/$);if(e!==A){if(R=d(null,S/$),R)break;A=e}}if(w<n)break;if(l(m,0,g,E,b),x++,x<a){N=0;break}p=[];for(let e=0;e<g.length;e++)p.push(g[e]>>0&255),p.push(g[e]>>8&255),p.push(g[e]>>16&255),p.push(g[e]>>24&255);const r=i(e,p,h);return d&&d(null,1,r),r}d&&C(T)};if(!d)for(;;){const e=T();if(null!=e)return e}T()}const d={scrypt:function(e,t,r,n,i,o,s){return new Promise((function(a,u){let l=0;s&&s(0),h(e,t,r,n,i,o,(function(e,t,r){if(e)u(e);else if(r)s&&1!==l&&s(1),a(new Uint8Array(r));else if(s&&t!==l)return l=t,s(t)}))}))},syncScrypt:function(e,t,r,n,i,o){return new Uint8Array(h(e,t,r,n,i,o))}};e.exports=d}()}(scrypt$1);var scrypt=scrypt$1.exports;class BaseX{constructor(e){defineReadOnly$6(this,"alphabet",e),defineReadOnly$6(this,"base",e.length),defineReadOnly$6(this,"_alphabetMap",{}),defineReadOnly$6(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=arrayify$e(e);if(0===t.length)return"";let r=[0];for(let i=0;i<t.length;++i){let e=t[i];for(let t=0;t<r.length;++t)e+=r[t]<<8,r[t]=e%this.base,e=e/this.base|0;for(;e>0;)r.push(e%this.base),e=e/this.base|0}let n="";for(let i=0;0===t[i]&&i<t.length-1;++i)n+=this._leader;for(let i=r.length-1;i>=0;--i)n+=this.alphabet[r[i]];return n}decode(e){if("string"!=typeof e)throw new TypeError("Expected String");let t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(let r=0;r<e.length;r++){let n=this._alphabetMap[e[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");let i=n;for(let e=0;e<t.length;++e)i+=t[e]*this.base,t[e]=255&i,i>>=8;for(;i>0;)t.push(255&i),i>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)t.push(0);return arrayify$e(new Uint8Array(t.reverse()))}}new BaseX("abcdefghijklmnopqrstuvwxyz234567");const Base58=new BaseX("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function createCommonjsModule$3(e,t,r){return r={path:t,exports:{},require:function(e,t){return commonjsRequire$3(e,null==t?r.path:t)}},e(r,r.exports),r.exports}function commonjsRequire$3(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var minimalisticAssert$2=assert$g;function assert$g(e,t){if(!e)throw new Error(t||"Assertion failed")}assert$g.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var utils_1$4=createCommonjsModule$3((function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}})),utils_1$1$3=createCommonjsModule$3((function(e,t){var r=t;r.assert=minimalisticAssert$2,r.toArray=utils_1$4.toArray,r.zero2=utils_1$4.zero2,r.toHex=utils_1$4.toHex,r.encode=utils_1$4.encode,r.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),s=0;s<n.length;s++){var a,u=o.andln(i-1);o.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var s,a,u=e.andln(3)+i&3,l=t.andln(3)+o&3;3===u&&(u=-1),3===l&&(l=-1),s=0==(1&u)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==l?u:-u,r[0].push(s),a=0==(1&l)?0:3!==(n=t.andln(7)+o&7)&&5!==n||2!==u?l:-l,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new _BN(e,"hex","le")}})),getNAF$3=utils_1$1$3.getNAF,getJSF$3=utils_1$1$3.getJSF,assert$1$3=utils_1$1$3.assert;function BaseCurve$3(e,t){this.type=e,this.p=new _BN(t.p,16),this.red=t.prime?_BN.red(t.prime):_BN.mont(this.p),this.zero=new _BN(0).toRed(this.red),this.one=new _BN(1).toRed(this.red),this.two=new _BN(2).toRed(this.red),this.n=t.n&&new _BN(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$4=BaseCurve$3;function BasePoint$3(e,t){this.curve=e,this.type=t,this.precomputed=null}BaseCurve$3.prototype.point=function(){throw new Error("Not implemented")},BaseCurve$3.prototype.validate=function(){throw new Error("Not implemented")},BaseCurve$3.prototype._fixedNafMul=function(e,t){assert$1$3(e.precomputed);var r=e._getDoubles(),n=getNAF$3(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,s,a=[];for(o=0;o<n.length;o+=r.step){s=0;for(var u=o+r.step-1;u>=o;u--)s=(s<<1)+n[u];a.push(s)}for(var l=this.jpoint(null,null,null),c=this.jpoint(null,null,null),f=i;f>0;f--){for(o=0;o<a.length;o++)(s=a[o])===f?c=c.mixedAdd(r.points[o]):s===-f&&(c=c.mixedAdd(r.points[o].neg()));l=l.add(c)}return l.toP()},BaseCurve$3.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=getNAF$3(t,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var u=0;a>=0&&0===o[a];a--)u++;if(a>=0&&u++,s=s.dblp(u),a<0)break;var l=o[a];assert$1$3(0!==l),s="affine"===e.type?l>0?s.mixedAdd(i[l-1>>1]):s.mixedAdd(i[-l-1>>1].neg()):l>0?s.add(i[l-1>>1]):s.add(i[-l-1>>1].neg())}return"affine"===e.type?s.toP():s},BaseCurve$3.prototype._wnafMulAdd=function(e,t,r,n,i){var o,s,a,u=this._wnafT1,l=this._wnafT2,c=this._wnafT3,f=0;for(o=0;o<n;o++){var h=(a=t[o])._getNAFPoints(e);u[o]=h.wnd,l[o]=h.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1===u[d]&&1===u[p]){var g=[t[d],null,null,t[p]];0===t[d].y.cmp(t[p].y)?(g[1]=t[d].add(t[p]),g[2]=t[d].toJ().mixedAdd(t[p].neg())):0===t[d].y.cmp(t[p].y.redNeg())?(g[1]=t[d].toJ().mixedAdd(t[p]),g[2]=t[d].add(t[p].neg())):(g[1]=t[d].toJ().mixedAdd(t[p]),g[2]=t[d].toJ().mixedAdd(t[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],y=getJSF$3(r[d],r[p]);for(f=Math.max(y[0].length,f),c[d]=new Array(f),c[p]=new Array(f),s=0;s<f;s++){var b=0|y[0][s],v=0|y[1][s];c[d][s]=m[3*(b+1)+(v+1)],c[p][s]=0,l[d]=g}}else c[d]=getNAF$3(r[d],u[d],this._bitLength),c[p]=getNAF$3(r[p],u[p],this._bitLength),f=Math.max(c[d].length,f),f=Math.max(c[p].length,f)}var _=this.jpoint(null,null,null),$=this._wnafT4;for(o=f;o>=0;o--){for(var w=0;o>=0;){var E=!0;for(s=0;s<n;s++)$[s]=0|c[s][o],0!==$[s]&&(E=!1);if(!E)break;w++,o--}if(o>=0&&w++,_=_.dblp(w),o<0)break;for(s=0;s<n;s++){var S=$[s];0!==S&&(S>0?a=l[s][S-1>>1]:S<0&&(a=l[s][-S-1>>1].neg()),_="affine"===a.type?_.mixedAdd(a):_.add(a))}}for(o=0;o<n;o++)l[o]=null;return i?_:_.toP()},BaseCurve$3.BasePoint=BasePoint$3,BasePoint$3.prototype.eq=function(){throw new Error("Not implemented")},BasePoint$3.prototype.validate=function(){return this.curve.validate(this)},BaseCurve$3.prototype.decodePoint=function(e,t){e=utils_1$1$3.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?assert$1$3(e[e.length-1]%2==0):7===e[0]&&assert$1$3(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},BasePoint$3.prototype.encodeCompressed=function(e){return this.encode(e,!0)},BasePoint$3.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},BasePoint$3.prototype.encode=function(e,t){return utils_1$1$3.encode(this._encode(t),e)},BasePoint$3.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},BasePoint$3.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},BasePoint$3.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},BasePoint$3.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},BasePoint$3.prototype._getBeta=function(){return null},BasePoint$3.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var inherits_browser$3=createCommonjsModule$3((function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),assert$2$3=utils_1$1$3.assert;function ShortCurve$3(e){base$4.call(this,"short",e),this.a=new _BN(e.a,16).toRed(this.red),this.b=new _BN(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits_browser$3(ShortCurve$3,base$4);var short_1$2=ShortCurve$3;function Point$5(e,t,r,n){base$4.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new _BN(t,16),this.y=new _BN(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function JPoint$3(e,t,r,n){base$4.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new _BN(0)):(this.x=new _BN(t,16),this.y=new _BN(r,16),this.z=new _BN(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}ShortCurve$3.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new _BN(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new _BN(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],assert$2$3(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new _BN(e.a,16),b:new _BN(e.b,16)}})):this._getEndoBasis(r)}}},ShortCurve$3.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:_BN.mont(e),r=new _BN(2).toRed(t).redInvm(),n=r.redNeg(),i=new _BN(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},ShortCurve$3.prototype._getEndoBasis=function(e){for(var t,r,n,i,o,s,a,u,l,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,h=this.n.clone(),d=new _BN(1),p=new _BN(0),g=new _BN(0),m=new _BN(1),y=0;0!==f.cmpn(0);){var b=h.div(f);u=h.sub(b.mul(f)),l=g.sub(b.mul(d));var v=m.sub(b.mul(p));if(!n&&u.cmp(c)<0)t=a.neg(),r=d,n=u.neg(),i=l;else if(n&&2==++y)break;a=u,h=f,f=u,g=d,d=l,m=p,p=v}o=u.neg(),s=l;var _=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(_)>=0&&(o=t,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},ShortCurve$3.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),l=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:u.add(l).neg()}},ShortCurve$3.prototype.pointFromX=function(e,t){(e=new _BN(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},ShortCurve$3.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},ShortCurve$3.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var l=this._wnafMulAdd(1,n,i,2*o,r),c=0;c<2*o;c++)n[c]=null,i[c]=null;return l},inherits_browser$3(Point$5,base$4.BasePoint),ShortCurve$3.prototype.point=function(e,t,r){return new Point$5(this,e,t,r)},ShortCurve$3.prototype.pointFromJSON=function(e,t){return Point$5.fromJSON(this,e,t)},Point$5.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},Point$5.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point$5.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},Point$5.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point$5.prototype.isInfinity=function(){return this.inf},Point$5.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Point$5.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},Point$5.prototype.getX=function(){return this.x.fromRed()},Point$5.prototype.getY=function(){return this.y.fromRed()},Point$5.prototype.mul=function(e){return e=new _BN(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Point$5.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Point$5.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Point$5.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},Point$5.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},Point$5.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},inherits_browser$3(JPoint$3,base$4.BasePoint),ShortCurve$3.prototype.jpoint=function(e,t,r){return new JPoint$3(this,e,t,r)},JPoint$3.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},JPoint$3.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint$3.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),c=l.redMul(a),f=n.redMul(l),h=u.redSqr().redIAdd(c).redISub(f).redISub(f),d=u.redMul(f.redISub(h)).redISub(o.redMul(c)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(h,d,p)},JPoint$3.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),l=u.redMul(s),c=r.redMul(u),f=a.redSqr().redIAdd(l).redISub(c).redISub(c),h=a.redMul(c.redISub(f)).redISub(i.redMul(l)),d=this.z.redMul(s);return this.curve.jpoint(f,h,d)},JPoint$3.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),l=s.redAdd(s);for(t=0;t<e;t++){var c=o.redSqr(),f=l.redSqr(),h=f.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(u)),p=o.redMul(f),g=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),y=d.redMul(m);y=y.redIAdd(y).redISub(h);var b=l.redMul(a);t+1<e&&(u=u.redMul(h)),o=g,a=b,l=y}return this.curve.jpoint(o,l.redMul(i),a)},JPoint$3.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint$3.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=u,t=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(c).redISub(h);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),g=p.redSqr(),m=h.redIAdd(h);m=(m=m.redIAdd(m)).redIAdd(m),e=g.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},JPoint$3.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);e=u;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),f=this.y.redSqr(),h=this.x.redMul(f),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=h.redIAdd(h),g=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(c);var m=f.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=d.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},JPoint$3.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),u=t.redAdd(t),l=(u=u.redIAdd(u)).redMul(s),c=a.redSqr().redISub(l.redAdd(l)),f=l.redISub(c),h=s.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=a.redMul(f).redISub(h),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,d,p)},JPoint$3.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),c=t.redMul(l);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.x.redMul(a).redISub(c);f=(f=f.redIAdd(f)).redIAdd(f);var h=this.y.redMul(l.redMul(u.redISub(l)).redISub(s.redMul(a)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(f,h,d)},JPoint$3.prototype.mul=function(e,t){return e=new _BN(e,t),this.curve._wnafMul(this,e)},JPoint$3.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},JPoint$3.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},JPoint$3.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint$3.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var curve_1$2=createCommonjsModule$3((function(e,t){var r=t;r.base=base$4,r.short=short_1$2,r.mont=null,r.edwards=null})),curves_1$2=createCommonjsModule$3((function(t,r){var n,i=r,o=utils_1$1$3.assert;function s(e){"short"===e.type?this.curve=new curve_1$2.short(e):"edwards"===e.type?this.curve=new curve_1$2.edwards(e):this.curve=new curve_1$2.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new s(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=s,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash$4.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash$4.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash$4.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash$4.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash$4.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$4.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$4.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=null.crash()}catch(e){n=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash$4.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})}));function HmacDRBG$4(e){if(!(this instanceof HmacDRBG$4))return new HmacDRBG$4(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=utils_1$4.toArray(e.entropy,e.entropyEnc||"hex"),r=utils_1$4.toArray(e.nonce,e.nonceEnc||"hex"),n=utils_1$4.toArray(e.pers,e.persEnc||"hex");minimalisticAssert$2(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var hmacDrbg$3=HmacDRBG$4;HmacDRBG$4.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},HmacDRBG$4.prototype._hmac=function(){return new hash$4.hmac(this.hash,this.K)},HmacDRBG$4.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG$4.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=utils_1$4.toArray(e,t),r=utils_1$4.toArray(r,n),minimalisticAssert$2(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},HmacDRBG$4.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=utils_1$4.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(r),this._reseed++,utils_1$4.encode(o,t)};var assert$3$3=utils_1$1$3.assert;function KeyPair$6(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var key$4=KeyPair$6;KeyPair$6.fromPublic=function(e,t,r){return t instanceof KeyPair$6?t:new KeyPair$6(e,{pub:t,pubEnc:r})},KeyPair$6.fromPrivate=function(e,t,r){return t instanceof KeyPair$6?t:new KeyPair$6(e,{priv:t,privEnc:r})},KeyPair$6.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair$6.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},KeyPair$6.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},KeyPair$6.prototype._importPrivate=function(e,t){this.priv=new _BN(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair$6.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?assert$3$3(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||assert$3$3(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},KeyPair$6.prototype.derive=function(e){return e.validate()||assert$3$3(e.validate(),"public point not validated"),e.mul(this.priv).getX()},KeyPair$6.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},KeyPair$6.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},KeyPair$6.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var assert$4$3=utils_1$1$3.assert;function Signature$6(e,t){if(e instanceof Signature$6)return e;this._importDER(e,t)||(assert$4$3(e.r&&e.s,"Signature without r or s"),this.r=new _BN(e.r,16),this.s=new _BN(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var signature$5=Signature$6;function Position$3(){this.place=0}function getLength$4(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function rmPadding$3(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function constructLength$3(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}Signature$6.prototype._importDER=function(e,t){e=utils_1$1$3.toArray(e,t);var r=new Position$3;if(48!==e[r.place++])return!1;var n=getLength$4(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=getLength$4(e,r);if(!1===i)return!1;var o=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var s=getLength$4(e,r);if(!1===s)return!1;if(e.length!==s+r.place)return!1;var a=e.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new _BN(o),this.s=new _BN(a),this.recoveryParam=null,!0},Signature$6.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=rmPadding$3(t),r=rmPadding$3(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];constructLength$3(n,t.length),(n=n.concat(t)).push(2),constructLength$3(n,r.length);var i=n.concat(r),o=[48];return constructLength$3(o,i.length),o=o.concat(i),utils_1$1$3.encode(o,e)};var rand$3=function(){throw new Error("unsupported")},assert$5$3=utils_1$1$3.assert;function EC$6(e){if(!(this instanceof EC$6))return new EC$6(e);"string"==typeof e&&(assert$5$3(Object.prototype.hasOwnProperty.call(curves_1$2,e),"Unknown curve "+e),e=curves_1$2[e]),e instanceof curves_1$2.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var ec$6=EC$6;EC$6.prototype.keyPair=function(e){return new key$4(this,e)},EC$6.prototype.keyFromPrivate=function(e,t){return key$4.fromPrivate(this,e,t)},EC$6.prototype.keyFromPublic=function(e,t){return key$4.fromPublic(this,e,t)},EC$6.prototype.genKeyPair=function(e){e||(e={});for(var t=new hmacDrbg$3({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||rand$3(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new _BN(2));;){var i=new _BN(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},EC$6.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},EC$6.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new _BN(e,16));for(var i=this.n.byteLength(),o=t.getPrivate().toArray("be",i),s=e.toArray("be",i),a=new hmacDrbg$3({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new _BN(1)),l=0;;l++){var c=n.k?n.k(l):new _BN(a.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||c.cmp(u)>=0)){var f=this.g.mul(c);if(!f.isInfinity()){var h=f.getX(),d=h.umod(this.n);if(0!==d.cmpn(0)){var p=c.invm(this.n).mul(d.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var g=(f.getY().isOdd()?1:0)|(0!==h.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),g^=1),new signature$5({r:d,s:p,recoveryParam:g})}}}}}},EC$6.prototype.verify=function(e,t,r,n){e=this._truncateToN(new _BN(e,16)),r=this.keyFromPublic(r,n);var i=(t=new signature$5(t,"hex")).r,o=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),u=a.mul(e).umod(this.n),l=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,r.getPublic(),l)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(u,r.getPublic(),l)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},EC$6.prototype.recoverPubKey=function(e,t,r,n){assert$5$3((3&r)===r,"The recovery param is more than two bits"),t=new signature$5(t,n);var i=this.n,o=new _BN(e),s=t.r,a=t.s,u=1&r,l=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");s=l?this.curve.pointFromX(s.add(this.curve.n),u):this.curve.pointFromX(s,u);var c=t.r.invm(i),f=i.sub(o).mul(c).umod(i),h=a.mul(c).umod(i);return this.g.mulAdd(f,s,h)},EC$6.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new signature$5(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var elliptic_1$2=createCommonjsModule$3((function(e,t){var r=t;r.version="6.5.4",r.utils=utils_1$1$3,r.rand=function(){throw new Error("unsupported")},r.curve=curve_1$2,r.curves=curves_1$2,r.ec=ec$6,r.eddsa=null})),EC$1$3=elliptic_1$2.ec;const version$P="signing-key/5.6.0",logger$E=new Logger$g(version$P);let _curve$2=null;function getCurve$2(){return _curve$2||(_curve$2=new EC$1$3("secp256k1")),_curve$2}class SigningKey$2{constructor(e){defineReadOnly$6(this,"curve","secp256k1"),defineReadOnly$6(this,"privateKey",hexlify$9(e));const t=getCurve$2().keyFromPrivate(arrayify$e(this.privateKey));defineReadOnly$6(this,"publicKey","0x"+t.getPublic(!1,"hex")),defineReadOnly$6(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),defineReadOnly$6(this,"_isSigningKey",!0)}_addPoint(e){const t=getCurve$2().keyFromPublic(arrayify$e(this.publicKey)),r=getCurve$2().keyFromPublic(arrayify$e(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const t=getCurve$2().keyFromPrivate(arrayify$e(this.privateKey)),r=arrayify$e(e);32!==r.length&&logger$E.throwArgumentError("bad digest length","digest",e);const n=t.sign(r,{canonical:!0});return splitSignature$4({recoveryParam:n.recoveryParam,r:hexZeroPad$5("0x"+n.r.toString(16),32),s:hexZeroPad$5("0x"+n.s.toString(16),32)})}computeSharedSecret(e){const t=getCurve$2().keyFromPrivate(arrayify$e(this.privateKey)),r=getCurve$2().keyFromPublic(arrayify$e(computePublicKey$2(e)));return hexZeroPad$5("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!(!e||!e._isSigningKey)}}function recoverPublicKey$3(e,t){const r=splitSignature$4(t),n={r:arrayify$e(r.r),s:arrayify$e(r.s)};return"0x"+getCurve$2().recoverPubKey(arrayify$e(e),n,r.recoveryParam).encode("hex",!1)}function computePublicKey$2(e,t){const r=arrayify$e(e);if(32===r.length){const e=new SigningKey$2(r);return t?"0x"+getCurve$2().keyFromPrivate(r).getPublic(!0,"hex"):e.publicKey}return 33===r.length?t?hexlify$9(r):"0x"+getCurve$2().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+getCurve$2().keyFromPublic(r).getPublic(!0,"hex"):hexlify$9(r):logger$E.throwArgumentError("invalid public or private key","key","[REDACTED]")}const version$O="transactions/5.6.0",logger$D=new Logger$g(version$O);var TransactionTypes$1;function handleAddress$1(e){return"0x"===e?null:getAddress$4(e)}function handleNumber$1(e){return"0x"===e?Zero$3:BigNumber$4.from(e)}!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(TransactionTypes$1||(TransactionTypes$1={}));const transactionFields$1=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],allowedTransactionKeys$3={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function computeAddress$1(e){return getAddress$4(hexDataSlice$4(keccak256$6(hexDataSlice$4(computePublicKey$2(e),1)),12))}function recoverAddress$1(e,t){return computeAddress$1(recoverPublicKey$3(arrayify$e(e),t))}function formatNumber$1(e,t){const r=stripZeros$3(BigNumber$4.from(e).toHexString());return r.length>32&&logger$D.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function accessSetify$1(e,t){return{address:getAddress$4(e),storageKeys:(t||[]).map(((t,r)=>(32!==hexDataLength$3(t)&&logger$D.throwArgumentError("invalid access list storageKey",`accessList[${e}:${r}]`,t),t.toLowerCase())))}}function accessListify$1(e){if(Array.isArray(e))return e.map(((e,t)=>Array.isArray(e)?(e.length>2&&logger$D.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),accessSetify$1(e[0],e[1])):accessSetify$1(e.address,e.storageKeys)));const t=Object.keys(e).map((t=>{const r=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return accessSetify$1(t,Object.keys(r).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}function formatAccessList$1(e){return accessListify$1(e).map((e=>[e.address,e.storageKeys]))}function _serializeEip1559$1(e,t){if(null!=e.gasPrice){const t=BigNumber$4.from(e.gasPrice),r=BigNumber$4.from(e.maxFeePerGas||0);t.eq(r)||logger$D.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:r})}const r=[formatNumber$1(e.chainId||0,"chainId"),formatNumber$1(e.nonce||0,"nonce"),formatNumber$1(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber$1(e.maxFeePerGas||0,"maxFeePerGas"),formatNumber$1(e.gasLimit||0,"gasLimit"),null!=e.to?getAddress$4(e.to):"0x",formatNumber$1(e.value||0,"value"),e.data||"0x",formatAccessList$1(e.accessList||[])];if(t){const e=splitSignature$4(t);r.push(formatNumber$1(e.recoveryParam,"recoveryParam")),r.push(stripZeros$3(e.r)),r.push(stripZeros$3(e.s))}return hexConcat$3(["0x02",encode$9(r)])}function _serializeEip2930$1(e,t){const r=[formatNumber$1(e.chainId||0,"chainId"),formatNumber$1(e.nonce||0,"nonce"),formatNumber$1(e.gasPrice||0,"gasPrice"),formatNumber$1(e.gasLimit||0,"gasLimit"),null!=e.to?getAddress$4(e.to):"0x",formatNumber$1(e.value||0,"value"),e.data||"0x",formatAccessList$1(e.accessList||[])];if(t){const e=splitSignature$4(t);r.push(formatNumber$1(e.recoveryParam,"recoveryParam")),r.push(stripZeros$3(e.r)),r.push(stripZeros$3(e.s))}return hexConcat$3(["0x01",encode$9(r)])}function _serialize$1(e,t){checkProperties$2(e,allowedTransactionKeys$3);const r=[];transactionFields$1.forEach((function(t){let n=e[t.name]||[];const i={};t.numeric&&(i.hexPad="left"),n=arrayify$e(hexlify$9(n,i)),t.length&&n.length!==t.length&&n.length>0&&logger$D.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n),t.maxLength&&(n=stripZeros$3(n),n.length>t.maxLength&&logger$D.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n)),r.push(hexlify$9(n))}));let n=0;if(null!=e.chainId?(n=e.chainId,"number"!=typeof n&&logger$D.throwArgumentError("invalid transaction.chainId","transaction",e)):t&&!isBytesLike$7(t)&&t.v>28&&(n=Math.floor((t.v-35)/2)),0!==n&&(r.push(hexlify$9(n)),r.push("0x"),r.push("0x")),!t)return encode$9(r);const i=splitSignature$4(t);let o=27+i.recoveryParam;return 0!==n?(r.pop(),r.pop(),r.pop(),o+=2*n+8,i.v>28&&i.v!==o&&logger$D.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)):i.v!==o&&logger$D.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t),r.push(hexlify$9(o)),r.push(stripZeros$3(arrayify$e(i.r))),r.push(stripZeros$3(arrayify$e(i.s))),encode$9(r)}function serialize$1(e,t){if(null==e.type||0===e.type)return null!=e.accessList&&logger$D.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e),_serialize$1(e,t);switch(e.type){case 1:return _serializeEip2930$1(e,t);case 2:return _serializeEip1559$1(e,t)}return logger$D.throwError(`unsupported transaction type: ${e.type}`,Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})}function _parseEipSignature$1(e,t,r){try{const r=handleNumber$1(t[0]).toNumber();if(0!==r&&1!==r)throw new Error("bad recid");e.v=r}catch(error){logger$D.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=hexZeroPad$5(t[1],32),e.s=hexZeroPad$5(t[2],32);try{const t=keccak256$6(r(e));e.from=recoverAddress$1(t,{r:e.r,s:e.s,recoveryParam:e.v})}catch(error){console.log(error)}}function _parseEip1559$1(e){const t=decode$a(e.slice(1));9!==t.length&&12!==t.length&&logger$D.throwArgumentError("invalid component count for transaction type: 2","payload",hexlify$9(e));const r=handleNumber$1(t[2]),n=handleNumber$1(t[3]),i={type:2,chainId:handleNumber$1(t[0]).toNumber(),nonce:handleNumber$1(t[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:handleNumber$1(t[4]),to:handleAddress$1(t[5]),value:handleNumber$1(t[6]),data:t[7],accessList:accessListify$1(t[8])};return 9===t.length||(i.hash=keccak256$6(e),_parseEipSignature$1(i,t.slice(9),_serializeEip1559$1)),i}function _parseEip2930$1(e){const t=decode$a(e.slice(1));8!==t.length&&11!==t.length&&logger$D.throwArgumentError("invalid component count for transaction type: 1","payload",hexlify$9(e));const r={type:1,chainId:handleNumber$1(t[0]).toNumber(),nonce:handleNumber$1(t[1]).toNumber(),gasPrice:handleNumber$1(t[2]),gasLimit:handleNumber$1(t[3]),to:handleAddress$1(t[4]),value:handleNumber$1(t[5]),data:t[6],accessList:accessListify$1(t[7])};return 8===t.length||(r.hash=keccak256$6(e),_parseEipSignature$1(r,t.slice(8),_serializeEip2930$1)),r}function _parse$1(e){const t=decode$a(e);9!==t.length&&6!==t.length&&logger$D.throwArgumentError("invalid raw transaction","rawTransaction",e);const r={nonce:handleNumber$1(t[0]).toNumber(),gasPrice:handleNumber$1(t[1]),gasLimit:handleNumber$1(t[2]),to:handleAddress$1(t[3]),value:handleNumber$1(t[4]),data:t[5],chainId:0};if(6===t.length)return r;try{r.v=BigNumber$4.from(t[6]).toNumber()}catch(error){return console.log(error),r}if(r.r=hexZeroPad$5(t[7],32),r.s=hexZeroPad$5(t[8],32),BigNumber$4.from(r.r).isZero()&&BigNumber$4.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=t.slice(0,6);0!==r.chainId&&(i.push(hexlify$9(r.chainId)),i.push("0x"),i.push("0x"),n-=2*r.chainId+8);const o=keccak256$6(encode$9(i));try{r.from=recoverAddress$1(o,{r:hexlify$9(r.r),s:hexlify$9(r.s),recoveryParam:n})}catch(error){console.log(error)}r.hash=keccak256$6(e)}return r.type=null,r}function parse$3(e){const t=arrayify$e(e);if(t[0]>127)return _parse$1(t);switch(t[0]){case 1:return _parseEip2930$1(t);case 2:return _parseEip1559$1(t)}return logger$D.throwError(`unsupported transaction type: ${t[0]}`,Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}const version$N="wordlists/5.6.0",logger$C=new Logger$g(version$N);class Wordlist{constructor(e){logger$C.checkAbstract(new.target,Wordlist),defineReadOnly$6(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let r=0;r<2048;r++){const n=e.getWord(r);if(r!==e.getWordIndex(n))return"0x";t.push(n)}return id$2(t.join("\n")+"\n")}static register(e,t){}}const words="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let wordlist=null;function loadWords(e){if(null==wordlist&&(wordlist=words.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==Wordlist.check(e)))throw wordlist=null,new Error("BIP39 Wordlist for en (English) FAILED")}class LangEn extends Wordlist{constructor(){super("en")}getWord(e){return loadWords(this),wordlist[e]}getWordIndex(e){return loadWords(this),wordlist.indexOf(e)}}const langEn=new LangEn;Wordlist.register(langEn);const wordlists={en:langEn},version$M="hdnode/5.6.0",logger$B=new Logger$g(version$M),N$3=BigNumber$4.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),MasterSecret=toUtf8Bytes$4("Bitcoin seed"),HardenedBit=2147483648;function getUpperMask(e){return(1<<e)-1<<8-e}function getLowerMask(e){return(1<<e)-1}function bytes32(e){return hexZeroPad$5(hexlify$9(e),32)}function base58check(e){return Base58.encode(concat$7([e,hexDataSlice$4(sha256$4(sha256$4(e)),0,4)]))}function getWordlist(e){if(null==e)return wordlists.en;if("string"==typeof e){const t=wordlists[e];return null==t&&logger$B.throwArgumentError("unknown locale","wordlist",e),t}return e}const _constructorGuard$2={},defaultPath="m/44'/60'/0'/0/0";class HDNode{constructor(e,t,r,n,i,o,s,a){if(logger$B.checkNew(new.target,HDNode),e!==_constructorGuard$2)throw new Error("HDNode constructor cannot be called directly");if(t){const e=new SigningKey$2(t);defineReadOnly$6(this,"privateKey",e.privateKey),defineReadOnly$6(this,"publicKey",e.compressedPublicKey)}else defineReadOnly$6(this,"privateKey",null),defineReadOnly$6(this,"publicKey",hexlify$9(r));defineReadOnly$6(this,"parentFingerprint",n),defineReadOnly$6(this,"fingerprint",hexDataSlice$4(ripemd160$2(sha256$4(this.publicKey)),0,4)),defineReadOnly$6(this,"address",computeAddress$1(this.publicKey)),defineReadOnly$6(this,"chainCode",i),defineReadOnly$6(this,"index",o),defineReadOnly$6(this,"depth",s),null==a?(defineReadOnly$6(this,"mnemonic",null),defineReadOnly$6(this,"path",null)):"string"==typeof a?(defineReadOnly$6(this,"mnemonic",null),defineReadOnly$6(this,"path",a)):(defineReadOnly$6(this,"mnemonic",a),defineReadOnly$6(this,"path",a.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return base58check(concat$7([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",hexlify$9(this.depth),this.parentFingerprint,hexZeroPad$5(hexlify$9(this.index),4),this.chainCode,null!=this.privateKey?concat$7(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new HDNode(_constructorGuard$2,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&~HardenedBit));const r=new Uint8Array(37);if(e&HardenedBit){if(!this.privateKey)throw new Error("cannot derive child of neutered node");r.set(arrayify$e(this.privateKey),1),t&&(t+="'")}else r.set(arrayify$e(this.publicKey));for(let c=24;c>=0;c-=8)r[33+(c>>3)]=e>>24-c&255;const n=arrayify$e(computeHmac$1(SupportedAlgorithm$1.sha512,this.chainCode,r)),i=n.slice(0,32),o=n.slice(32);let s=null,a=null;if(this.privateKey)s=bytes32(BigNumber$4.from(i).add(this.privateKey).mod(N$3));else{a=new SigningKey$2(hexlify$9(i))._addPoint(this.publicKey)}let u=t;const l=this.mnemonic;return l&&(u=Object.freeze({phrase:l.phrase,path:t,locale:l.locale||"en"})),new HDNode(_constructorGuard$2,s,a,this.fingerprint,bytes32(o),e,this.depth+1,u)}derivePath(e){const t=e.split("/");if(0===t.length||"m"===t[0]&&0!==this.depth)throw new Error("invalid path - "+e);"m"===t[0]&&t.shift();let r=this;for(let n=0;n<t.length;n++){const e=t[n];if(e.match(/^[0-9]+'$/)){const t=parseInt(e.substring(0,e.length-1));if(t>=HardenedBit)throw new Error("invalid path index - "+e);r=r._derive(HardenedBit+t)}else{if(!e.match(/^[0-9]+$/))throw new Error("invalid path component - "+e);{const t=parseInt(e);if(t>=HardenedBit)throw new Error("invalid path index - "+e);r=r._derive(t)}}}return r}static _fromSeed(e,t){const r=arrayify$e(e);if(r.length<16||r.length>64)throw new Error("invalid seed");const n=arrayify$e(computeHmac$1(SupportedAlgorithm$1.sha512,MasterSecret,r));return new HDNode(_constructorGuard$2,bytes32(n.slice(0,32)),null,"0x00000000",bytes32(n.slice(32)),0,0,t)}static fromMnemonic(e,t,r){return e=entropyToMnemonic(mnemonicToEntropy(e,r=getWordlist(r)),r),HDNode._fromSeed(mnemonicToSeed(e,t),{phrase:e,path:"m",locale:r.locale})}static fromSeed(e){return HDNode._fromSeed(e,null)}static fromExtendedKey(e){const t=Base58.decode(e);82===t.length&&base58check(t.slice(0,78))===e||logger$B.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const r=t[4],n=hexlify$9(t.slice(5,9)),i=parseInt(hexlify$9(t.slice(9,13)).substring(2),16),o=hexlify$9(t.slice(13,45)),s=t.slice(45,78);switch(hexlify$9(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new HDNode(_constructorGuard$2,null,hexlify$9(s),n,o,i,r,null);case"0x0488ade4":case"0x04358394 ":if(0!==s[0])break;return new HDNode(_constructorGuard$2,hexlify$9(s.slice(1)),null,n,o,i,r,null)}return logger$B.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function mnemonicToSeed(e,t){t||(t="");const r=toUtf8Bytes$4("mnemonic"+t,UnicodeNormalizationForm$4.NFKD);return pbkdf2$2(toUtf8Bytes$4(e,UnicodeNormalizationForm$4.NFKD),r,2048,64,"sha512")}function mnemonicToEntropy(e,t){t=getWordlist(t),logger$B.checkNormalize();const r=t.split(e);if(r.length%3!=0)throw new Error("invalid mnemonic");const n=arrayify$e(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let a=0;a<r.length;a++){let e=t.getWordIndex(r[a].normalize("NFKD"));if(-1===e)throw new Error("invalid mnemonic");for(let t=0;t<11;t++)e&1<<10-t&&(n[i>>3]|=1<<7-i%8),i++}const o=32*r.length/3,s=getUpperMask(r.length/3);if((arrayify$e(sha256$4(n.slice(0,o/8)))[0]&s)!==(n[n.length-1]&s))throw new Error("invalid checksum");return hexlify$9(n.slice(0,o/8))}function entropyToMnemonic(e,t){if(t=getWordlist(t),(e=arrayify$e(e)).length%4!=0||e.length<16||e.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let s=0;s<e.length;s++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=e[s],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=e[s]>>8-n,r.push(e[s]&getLowerMask(8-n)),n+=3);const i=e.length/4,o=arrayify$e(sha256$4(e))[0]&getUpperMask(i);return r[r.length-1]<<=i,r[r.length-1]|=o>>8-i,t.join(r.map((e=>t.getWord(e))))}const version$L="random/5.6.0",logger$A=new Logger$g(version$L);function getGlobal(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}const anyGlobal$1=getGlobal();let crypto$5=anyGlobal$1.crypto||anyGlobal$1.msCrypto;function randomBytes$3(e){(e<=0||e>1024||e%1||e!=e)&&logger$A.throwArgumentError("invalid length","length",e);const t=new Uint8Array(e);return crypto$5.getRandomValues(t),arrayify$e(t)}crypto$5&&crypto$5.getRandomValues||(logger$A.warn("WARNING: Missing strong random number source"),crypto$5={getRandomValues:function(e){return logger$A.throwError("no secure random source avaialble",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});var __awaiter$c=globalThis&&globalThis.__awaiter||function(t,r,n,i){return new(n||(n=Promise))((function(o,s){function a(t){try{l(i.next(t))}catch(e){s(e)}}function u(t){try{l(i.throw(t))}catch(e){s(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,u)}l((i=i.apply(t,r||[])).next())}))};const logger$z=new Logger$g(version$Q);function hasMnemonic$2(e){return null!=e&&e.mnemonic&&e.mnemonic.phrase}class KeystoreAccount$1 extends Description$1{isKeystoreAccount(e){return!(!e||!e._isKeystoreAccount)}}function _decrypt$1(e,t,r){if("aes-128-ctr"===searchPath$1(e,"crypto/cipher")){const n=looseArrayify$1(searchPath$1(e,"crypto/cipherparams/iv")),i=new aes.Counter(n);return arrayify$e(new aes.ModeOfOperation.ctr(t,i).decrypt(r))}return null}function _getAccount$1(e,t){const r=looseArrayify$1(searchPath$1(e,"crypto/ciphertext"));if(hexlify$9(keccak256$6(concat$7([t.slice(16,32),r]))).substring(2)!==searchPath$1(e,"crypto/mac").toLowerCase())throw new Error("invalid password");const n=_decrypt$1(e,t.slice(0,16),r);n||logger$z.throwError("unsupported cipher",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const i=t.slice(32,64),o=computeAddress$1(n);if(e.address){let t=e.address.toLowerCase();if("0x"!==t.substring(0,2)&&(t="0x"+t),getAddress$4(t)!==o)throw new Error("address mismatch")}const s={_isKeystoreAccount:!0,address:o,privateKey:hexlify$9(n)};if("0.1"===searchPath$1(e,"x-ethers/version")){const t=looseArrayify$1(searchPath$1(e,"x-ethers/mnemonicCiphertext")),r=looseArrayify$1(searchPath$1(e,"x-ethers/mnemonicCounter")),n=new aes.Counter(r),o=new aes.ModeOfOperation.ctr(i,n),a=searchPath$1(e,"x-ethers/path")||defaultPath,u=searchPath$1(e,"x-ethers/locale")||"en",l=arrayify$e(o.decrypt(t));try{const e=entropyToMnemonic(l,u),t=HDNode.fromMnemonic(e,null,u).derivePath(a);if(t.privateKey!=s.privateKey)throw new Error("mnemonic mismatch");s.mnemonic=t.mnemonic}catch(error){if(error.code!==Logger$g.errors.INVALID_ARGUMENT||"wordlist"!==error.argument)throw error}}return new KeystoreAccount$1(s)}function pbkdf2Sync$1(e,t,r,n,i){return arrayify$e(pbkdf2$2(e,t,r,n,i))}function pbkdf2$1(e,t,r,n,i){return Promise.resolve(pbkdf2Sync$1(e,t,r,n,i))}function _computeKdfKey$1(e,t,r,n,i){const o=getPassword$1(t),s=searchPath$1(e,"crypto/kdf");if(s&&"string"==typeof s){const t=function(e,t){return logger$z.throwArgumentError("invalid key-derivation function parameters",e,t)};if("scrypt"===s.toLowerCase()){const r=looseArrayify$1(searchPath$1(e,"crypto/kdfparams/salt")),a=parseInt(searchPath$1(e,"crypto/kdfparams/n")),u=parseInt(searchPath$1(e,"crypto/kdfparams/r")),l=parseInt(searchPath$1(e,"crypto/kdfparams/p"));a&&u&&l||t("kdf",s),0!=(a&a-1)&&t("N",a);const c=parseInt(searchPath$1(e,"crypto/kdfparams/dklen"));return 32!==c&&t("dklen",c),n(o,r,a,u,l,64,i)}if("pbkdf2"===s.toLowerCase()){const n=looseArrayify$1(searchPath$1(e,"crypto/kdfparams/salt"));let i=null;const s=searchPath$1(e,"crypto/kdfparams/prf");"hmac-sha256"===s?i="sha256":"hmac-sha512"===s?i="sha512":t("prf",s);const a=parseInt(searchPath$1(e,"crypto/kdfparams/c")),u=parseInt(searchPath$1(e,"crypto/kdfparams/dklen"));return 32!==u&&t("dklen",u),r(o,n,a,u,i)}}return logger$z.throwArgumentError("unsupported key-derivation function","kdf",s)}function decryptSync$1(e,t){const r=JSON.parse(e);return _getAccount$1(r,_computeKdfKey$1(r,t,pbkdf2Sync$1,scrypt.syncScrypt))}function decrypt$4(e,t,r){return __awaiter$c(this,void 0,void 0,(function*(){const n=JSON.parse(e);return _getAccount$1(n,yield _computeKdfKey$1(n,t,pbkdf2$1,scrypt.scrypt,r))}))}function encrypt$3(t,r,n,i){try{if(getAddress$4(t.address)!==computeAddress$1(t.privateKey))throw new Error("address/privateKey mismatch");if(hasMnemonic$2(t)){const e=t.mnemonic;if(HDNode.fromMnemonic(e.phrase,null,e.locale).derivePath(e.path||defaultPath).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(e){return Promise.reject(e)}"function"!=typeof n||i||(i=n,n={}),n||(n={});const o=arrayify$e(t.privateKey),s=getPassword$1(r);let a=null,u=null,l=null;if(hasMnemonic$2(t)){const e=t.mnemonic;a=arrayify$e(mnemonicToEntropy(e.phrase,e.locale||"en")),u=e.path||defaultPath,l=e.locale||"en"}let c=n.client;c||(c="ethers.js");let f=null;f=n.salt?arrayify$e(n.salt):randomBytes$3(32);let h=null;if(n.iv){if(h=arrayify$e(n.iv),16!==h.length)throw new Error("invalid iv")}else h=randomBytes$3(16);let d=null;if(n.uuid){if(d=arrayify$e(n.uuid),16!==d.length)throw new Error("invalid uuid")}else d=randomBytes$3(16);let p=1<<17,g=8,m=1;return n.scrypt&&(n.scrypt.N&&(p=n.scrypt.N),n.scrypt.r&&(g=n.scrypt.r),n.scrypt.p&&(m=n.scrypt.p)),scrypt.scrypt(s,f,p,g,m,64,i).then((e=>{const r=(e=arrayify$e(e)).slice(0,16),n=e.slice(16,32),i=e.slice(32,64),s=new aes.Counter(h),y=arrayify$e(new aes.ModeOfOperation.ctr(r,s).encrypt(o)),b=keccak256$6(concat$7([n,y])),v={address:t.address.substring(2).toLowerCase(),id:uuidV4$1(d),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:hexlify$9(h).substring(2)},ciphertext:hexlify$9(y).substring(2),kdf:"scrypt",kdfparams:{salt:hexlify$9(f).substring(2),n:p,dklen:32,p:m,r:g},mac:b.substring(2)}};if(a){const e=randomBytes$3(16),t=new aes.Counter(e),r=arrayify$e(new aes.ModeOfOperation.ctr(i,t).encrypt(a)),n=new Date,o=n.getUTCFullYear()+"-"+zpad$1(n.getUTCMonth()+1,2)+"-"+zpad$1(n.getUTCDate(),2)+"T"+zpad$1(n.getUTCHours(),2)+"-"+zpad$1(n.getUTCMinutes(),2)+"-"+zpad$1(n.getUTCSeconds(),2)+".0Z";v["x-ethers"]={client:c,gethFilename:"UTC--"+o+"--"+v.address,mnemonicCounter:hexlify$9(e).substring(2),mnemonicCiphertext:hexlify$9(r).substring(2),path:u,locale:l,version:"0.1"}}return JSON.stringify(v)}))}function decryptJsonWallet$1(e,t,r){if(isCrowdsaleWallet$1(e)){r&&r(0);const n=decrypt$5(e,t);return r&&r(1),Promise.resolve(n)}return isKeystoreWallet$1(e)?decrypt$4(e,t,r):Promise.reject(new Error("invalid JSON wallet"))}function decryptJsonWalletSync$1(e,t){if(isCrowdsaleWallet$1(e))return decrypt$5(e,t);if(isKeystoreWallet$1(e))return decryptSync$1(e,t);throw new Error("invalid JSON wallet")}var lib_esm$d=Object.freeze(Object.defineProperty({__proto__:null,decryptCrowdsale:decrypt$5,decryptKeystore:decrypt$4,decryptKeystoreSync:decryptSync$1,encryptKeystore:encrypt$3,isCrowdsaleWallet:isCrowdsaleWallet$1,isKeystoreWallet:isKeystoreWallet$1,getJsonWalletAddress:getJsonWalletAddress,decryptJsonWallet:decryptJsonWallet$1,decryptJsonWalletSync:decryptJsonWalletSync$1},Symbol.toStringTag,{value:"Module"})),require$$7$1=getAugmentedNamespace(lib_esm$d);const version$K="logger/5.6.0";let _permanentCensorErrors$9=!1,_censorErrors$9=!1;const LogLevels$9={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$9=LogLevels$9.default,_globalLogger$9=null;function _checkNormalize$9(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(error){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(error){return error.message}return null}const _normalizeError$9=_checkNormalize$9();var LogLevel$9,ErrorCode$9;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(LogLevel$9||(LogLevel$9={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(ErrorCode$9||(ErrorCode$9={}));const HEX$9="0123456789abcdef";class Logger$9{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==LogLevels$9[r]&&this.throwArgumentError("invalid log level name","logLevel",e),_logLevel$9>LogLevels$9[r]||console.log.apply(console,t)}debug(...e){this._log(Logger$9.levels.DEBUG,e)}info(...e){this._log(Logger$9.levels.INFO,e)}warn(...e){this._log(Logger$9.levels.WARNING,e)}makeError(e,t,r){if(_censorErrors$9)return this.makeError("censored error",t,{});t||(t=Logger$9.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=HEX$9[t[e]>>4],r+=HEX$9[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(s){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;let o="";switch(t){case ErrorCode$9.NUMERIC_FAULT:{o="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case ErrorCode$9.CALL_EXCEPTION:case ErrorCode$9.INSUFFICIENT_FUNDS:case ErrorCode$9.MISSING_NEW:case ErrorCode$9.NONCE_EXPIRED:case ErrorCode$9.REPLACEMENT_UNDERPRICED:case ErrorCode$9.TRANSACTION_REPLACED:case ErrorCode$9.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Logger$9.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){_normalizeError$9&&this.throwError("platform missing String.prototype.normalize",Logger$9.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$9})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Logger$9.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Logger$9.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Logger$9.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Logger$9.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Logger$9.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Logger$9.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Logger$9.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return _globalLogger$9||(_globalLogger$9=new Logger$9(version$K)),_globalLogger$9}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$9.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$9){if(!e)return;this.globalLogger().throwError("error censorship permanent",Logger$9.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$9=!!e,_permanentCensorErrors$9=!!t}static setLogLevel(e){const t=LogLevels$9[e.toLowerCase()];null!=t?_logLevel$9=t:Logger$9.globalLogger().warn("invalid log level - "+e)}static from(e){return new Logger$9(e)}}Logger$9.errors=ErrorCode$9,Logger$9.levels=LogLevel$9;const version$J="bytes/5.6.1",logger$y=new Logger$9(version$J);function isHexable$7(e){return!!e.toHexString}function addSlice$7(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return addSlice$7(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function isInteger$7(e){return"number"==typeof e&&e==e&&e%1==0}function isBytes$7(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!isInteger$7(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!isInteger$7(r)||r<0||r>=256)return!1}return!0}function arrayify$7(e,t){if(t||(t={}),"number"==typeof e){logger$y.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),addSlice$7(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable$7(e)&&(e=e.toHexString()),isHexString$c(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":logger$y.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return addSlice$7(new Uint8Array(n))}return isBytes$7(e)?addSlice$7(new Uint8Array(e)):logger$y.throwArgumentError("invalid arrayify value","value",e)}function isHexString$c(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}function keccak256$2(e){return"0x"+sha3.keccak_256(arrayify$7(e))}var lib_esm$c=Object.freeze(Object.defineProperty({__proto__:null,keccak256:keccak256$2},Symbol.toStringTag,{value:"Module"})),require$$8=getAugmentedNamespace(lib_esm$c);const version$I="logger/5.5.0";let _permanentCensorErrors$8=!1,_censorErrors$8=!1;const LogLevels$8={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$8=LogLevels$8.default,_globalLogger$8=null;function _checkNormalize$8(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(error){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(error){return error.message}return null}const _normalizeError$8=_checkNormalize$8();var LogLevel$8,ErrorCode$8;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(LogLevel$8||(LogLevel$8={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(ErrorCode$8||(ErrorCode$8={}));const HEX$8="0123456789abcdef";class Logger$8{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==LogLevels$8[r]&&this.throwArgumentError("invalid log level name","logLevel",e),_logLevel$8>LogLevels$8[r]||console.log.apply(console,t)}debug(...e){this._log(Logger$8.levels.DEBUG,e)}info(...e){this._log(Logger$8.levels.INFO,e)}warn(...e){this._log(Logger$8.levels.WARNING,e)}makeError(e,t,r){if(_censorErrors$8)return this.makeError("censored error",t,{});t||(t=Logger$8.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=HEX$8[t[e]>>4],r+=HEX$8[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(o){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;n.length&&(e+=" ("+n.join(", ")+")");const o=new Error(e);return o.reason=i,o.code=t,Object.keys(r).forEach((function(e){o[e]=r[e]})),o}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Logger$8.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){_normalizeError$8&&this.throwError("platform missing String.prototype.normalize",Logger$8.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$8})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Logger$8.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Logger$8.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Logger$8.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Logger$8.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Logger$8.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Logger$8.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Logger$8.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return _globalLogger$8||(_globalLogger$8=new Logger$8(version$I)),_globalLogger$8}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$8.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$8){if(!e)return;this.globalLogger().throwError("error censorship permanent",Logger$8.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$8=!!e,_permanentCensorErrors$8=!!t}static setLogLevel(e){const t=LogLevels$8[e.toLowerCase()];null!=t?_logLevel$8=t:Logger$8.globalLogger().warn("invalid log level - "+e)}static from(e){return new Logger$8(e)}}Logger$8.errors=ErrorCode$8,Logger$8.levels=LogLevel$8;var lib_esm$b=Object.freeze(Object.defineProperty({__proto__:null,get LogLevel(){return LogLevel$8},get ErrorCode(){return ErrorCode$8},Logger:Logger$8},Symbol.toStringTag,{value:"Module"})),require$$9=getAugmentedNamespace(lib_esm$b);const version$H="logger/5.6.0";let _permanentCensorErrors$7=!1,_censorErrors$7=!1;const LogLevels$7={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$7=LogLevels$7.default,_globalLogger$7=null;function _checkNormalize$7(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(error){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(error){return error.message}return null}const _normalizeError$7=_checkNormalize$7();var LogLevel$7,ErrorCode$7;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(LogLevel$7||(LogLevel$7={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(ErrorCode$7||(ErrorCode$7={}));const HEX$7="0123456789abcdef";class Logger$7{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==LogLevels$7[r]&&this.throwArgumentError("invalid log level name","logLevel",e),_logLevel$7>LogLevels$7[r]||console.log.apply(console,t)}debug(...e){this._log(Logger$7.levels.DEBUG,e)}info(...e){this._log(Logger$7.levels.INFO,e)}warn(...e){this._log(Logger$7.levels.WARNING,e)}makeError(e,t,r){if(_censorErrors$7)return this.makeError("censored error",t,{});t||(t=Logger$7.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=HEX$7[t[e]>>4],r+=HEX$7[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(s){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;let o="";switch(t){case ErrorCode$7.NUMERIC_FAULT:{o="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case ErrorCode$7.CALL_EXCEPTION:case ErrorCode$7.INSUFFICIENT_FUNDS:case ErrorCode$7.MISSING_NEW:case ErrorCode$7.NONCE_EXPIRED:case ErrorCode$7.REPLACEMENT_UNDERPRICED:case ErrorCode$7.TRANSACTION_REPLACED:case ErrorCode$7.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Logger$7.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){_normalizeError$7&&this.throwError("platform missing String.prototype.normalize",Logger$7.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$7})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Logger$7.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Logger$7.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Logger$7.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Logger$7.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Logger$7.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Logger$7.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Logger$7.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return _globalLogger$7||(_globalLogger$7=new Logger$7(version$H)),_globalLogger$7}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$7.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$7){if(!e)return;this.globalLogger().throwError("error censorship permanent",Logger$7.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$7=!!e,_permanentCensorErrors$7=!!t}static setLogLevel(e){const t=LogLevels$7[e.toLowerCase()];null!=t?_logLevel$7=t:Logger$7.globalLogger().warn("invalid log level - "+e)}static from(e){return new Logger$7(e)}}Logger$7.errors=ErrorCode$7,Logger$7.levels=LogLevel$7;const version$G="bytes/5.6.1",logger$x=new Logger$7(version$G);function isHexable$6(e){return!!e.toHexString}function addSlice$6(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return addSlice$6(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function isInteger$6(e){return"number"==typeof e&&e==e&&e%1==0}function isBytes$6(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!isInteger$6(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!isInteger$6(r)||r<0||r>=256)return!1}return!0}function arrayify$6(e,t){if(t||(t={}),"number"==typeof e){logger$x.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),addSlice$6(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable$6(e)&&(e=e.toHexString()),isHexString$b(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":logger$x.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return addSlice$6(new Uint8Array(n))}return isBytes$6(e)?addSlice$6(new Uint8Array(e)):logger$x.throwArgumentError("invalid arrayify value","value",e)}function isHexString$b(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}var SupportedAlgorithm;!function(e){e.sha256="sha256",e.sha512="sha512"}(SupportedAlgorithm||(SupportedAlgorithm={}));const version$F="sha2/5.5.0",logger$w=new Logger$7(version$F);function ripemd160$1(e){return"0x"+hash$4.ripemd160().update(arrayify$6(e)).digest("hex")}function sha256$3(e){return"0x"+hash$4.sha256().update(arrayify$6(e)).digest("hex")}function sha512$1(e){return"0x"+hash$4.sha512().update(arrayify$6(e)).digest("hex")}function computeHmac(e,t,r){return SupportedAlgorithm[e]||logger$w.throwError("unsupported algorithm "+e,Logger$7.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+hash$4.hmac(hash$4[e],arrayify$6(t)).update(arrayify$6(r)).digest("hex")}var lib_esm$a=Object.freeze(Object.defineProperty({__proto__:null,computeHmac:computeHmac,ripemd160:ripemd160$1,sha256:sha256$3,sha512:sha512$1,get SupportedAlgorithm(){return SupportedAlgorithm}},Symbol.toStringTag,{value:"Module"})),require$$10=getAugmentedNamespace(lib_esm$a);const version$E="solidity/5.5.0",regexBytes=new RegExp("^bytes([0-9]+)$"),regexNumber=new RegExp("^(u?int)([0-9]*)$"),regexArray=new RegExp("^(.*)\\[([0-9]*)\\]$"),Zeros="0000000000000000000000000000000000000000000000000000000000000000",logger$v=new Logger$g(version$E);function _pack(e,t,r){switch(e){case"address":return r?zeroPad$4(t,32):arrayify$e(t);case"string":return toUtf8Bytes$4(t);case"bytes":return arrayify$e(t);case"bool":return t=t?"0x01":"0x00",r?zeroPad$4(t,32):arrayify$e(t)}let n=e.match(regexNumber);if(n){let i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!=0||0===i||i>256)&&logger$v.throwArgumentError("invalid number type","type",e),r&&(i=256),t=BigNumber$4.from(t).toTwos(i),zeroPad$4(t,i/8)}if(n=e.match(regexBytes),n){const i=parseInt(n[1]);return(String(i)!==n[1]||0===i||i>32)&&logger$v.throwArgumentError("invalid bytes type","type",e),arrayify$e(t).byteLength!==i&&logger$v.throwArgumentError(`invalid value for ${e}`,"value",t),r?arrayify$e((t+Zeros).substring(0,66)):t}if(n=e.match(regexArray),n&&Array.isArray(t)){const r=n[1];parseInt(n[2]||String(t.length))!=t.length&&logger$v.throwArgumentError(`invalid array length for ${e}`,"value",t);const i=[];return t.forEach((function(e){i.push(_pack(r,e,!0))})),concat$7(i)}return logger$v.throwArgumentError("invalid type","type",e)}function pack(e,t){e.length!=t.length&&logger$v.throwArgumentError("wrong number of values; expected ${ types.length }","values",t);const r=[];return e.forEach((function(e,n){r.push(_pack(e,t[n]))})),hexlify$9(concat$7(r))}function keccak256$1(e,t){return keccak256$6(pack(e,t))}function sha256$2(e,t){return sha256$4(pack(e,t))}var lib_esm$9=Object.freeze(Object.defineProperty({__proto__:null,pack:pack,keccak256:keccak256$1,sha256:sha256$2},Symbol.toStringTag,{value:"Module"})),require$$11=getAugmentedNamespace(lib_esm$9);const version$D="logger/5.6.0";let _permanentCensorErrors$6=!1,_censorErrors$6=!1;const LogLevels$6={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$6=LogLevels$6.default,_globalLogger$6=null;function _checkNormalize$6(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(error){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(error){return error.message}return null}const _normalizeError$6=_checkNormalize$6();var LogLevel$6,ErrorCode$6;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(LogLevel$6||(LogLevel$6={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(ErrorCode$6||(ErrorCode$6={}));const HEX$6="0123456789abcdef";class Logger$6{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==LogLevels$6[r]&&this.throwArgumentError("invalid log level name","logLevel",e),_logLevel$6>LogLevels$6[r]||console.log.apply(console,t)}debug(...e){this._log(Logger$6.levels.DEBUG,e)}info(...e){this._log(Logger$6.levels.INFO,e)}warn(...e){this._log(Logger$6.levels.WARNING,e)}makeError(e,t,r){if(_censorErrors$6)return this.makeError("censored error",t,{});t||(t=Logger$6.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=HEX$6[t[e]>>4],r+=HEX$6[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(s){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;let o="";switch(t){case ErrorCode$6.NUMERIC_FAULT:{o="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case ErrorCode$6.CALL_EXCEPTION:case ErrorCode$6.INSUFFICIENT_FUNDS:case ErrorCode$6.MISSING_NEW:case ErrorCode$6.NONCE_EXPIRED:case ErrorCode$6.REPLACEMENT_UNDERPRICED:case ErrorCode$6.TRANSACTION_REPLACED:case ErrorCode$6.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Logger$6.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){_normalizeError$6&&this.throwError("platform missing String.prototype.normalize",Logger$6.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$6})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Logger$6.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Logger$6.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Logger$6.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Logger$6.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Logger$6.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Logger$6.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Logger$6.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return _globalLogger$6||(_globalLogger$6=new Logger$6(version$D)),_globalLogger$6}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$6.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$6){if(!e)return;this.globalLogger().throwError("error censorship permanent",Logger$6.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$6=!!e,_permanentCensorErrors$6=!!t}static setLogLevel(e){const t=LogLevels$6[e.toLowerCase()];null!=t?_logLevel$6=t:Logger$6.globalLogger().warn("invalid log level - "+e)}static from(e){return new Logger$6(e)}}Logger$6.errors=ErrorCode$6,Logger$6.levels=LogLevel$6;const version$C="bytes/5.6.1",logger$u=new Logger$6(version$C);function isHexable$5(e){return!!e.toHexString}function addSlice$5(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return addSlice$5(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function isInteger$5(e){return"number"==typeof e&&e==e&&e%1==0}function isBytes$5(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!isInteger$5(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!isInteger$5(r)||r<0||r>=256)return!1}return!0}function arrayify$5(e,t){if(t||(t={}),"number"==typeof e){logger$u.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),addSlice$5(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable$5(e)&&(e=e.toHexString()),isHexString$a(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":logger$u.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return addSlice$5(new Uint8Array(n))}return isBytes$5(e)?addSlice$5(new Uint8Array(e)):logger$u.throwArgumentError("invalid arrayify value","value",e)}function isHexString$a(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}const version$B="random/5.5.0",logger$t=new Logger$6(version$B);let anyGlobal=null;try{if(anyGlobal=window,null==anyGlobal)throw new Error("try next")}catch(error){try{if(anyGlobal=global,null==anyGlobal)throw new Error("try next")}catch(error){anyGlobal={}}}let crypto$4=anyGlobal.crypto||anyGlobal.msCrypto;function randomBytes$2(e){(e<=0||e>1024||e%1||e!=e)&&logger$t.throwArgumentError("invalid length","length",e);const t=new Uint8Array(e);return crypto$4.getRandomValues(t),arrayify$5(t)}function shuffled(e){for(let t=(e=e.slice()).length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}crypto$4&&crypto$4.getRandomValues||(logger$t.warn("WARNING: Missing strong random number source"),crypto$4={getRandomValues:function(e){return logger$t.throwError("no secure random source avaialble",Logger$6.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});var lib_esm$8=Object.freeze(Object.defineProperty({__proto__:null,randomBytes:randomBytes$2,shuffled:shuffled},Symbol.toStringTag,{value:"Module"})),require$$12=getAugmentedNamespace(lib_esm$8);const version$A="logger/5.6.0";let _permanentCensorErrors$5=!1,_censorErrors$5=!1;const LogLevels$5={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$5=LogLevels$5.default,_globalLogger$5=null;function _checkNormalize$5(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(error){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(error){return error.message}return null}const _normalizeError$5=_checkNormalize$5();var LogLevel$5,ErrorCode$5;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(LogLevel$5||(LogLevel$5={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(ErrorCode$5||(ErrorCode$5={}));const HEX$5="0123456789abcdef";class Logger$5{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==LogLevels$5[r]&&this.throwArgumentError("invalid log level name","logLevel",e),_logLevel$5>LogLevels$5[r]||console.log.apply(console,t)}debug(...e){this._log(Logger$5.levels.DEBUG,e)}info(...e){this._log(Logger$5.levels.INFO,e)}warn(...e){this._log(Logger$5.levels.WARNING,e)}makeError(e,t,r){if(_censorErrors$5)return this.makeError("censored error",t,{});t||(t=Logger$5.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=HEX$5[t[e]>>4],r+=HEX$5[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(s){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;let o="";switch(t){case ErrorCode$5.NUMERIC_FAULT:{o="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case ErrorCode$5.CALL_EXCEPTION:case ErrorCode$5.INSUFFICIENT_FUNDS:case ErrorCode$5.MISSING_NEW:case ErrorCode$5.NONCE_EXPIRED:case ErrorCode$5.REPLACEMENT_UNDERPRICED:case ErrorCode$5.TRANSACTION_REPLACED:case ErrorCode$5.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Logger$5.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){_normalizeError$5&&this.throwError("platform missing String.prototype.normalize",Logger$5.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$5})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Logger$5.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Logger$5.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Logger$5.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Logger$5.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Logger$5.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Logger$5.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Logger$5.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return _globalLogger$5||(_globalLogger$5=new Logger$5(version$A)),_globalLogger$5}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$5.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$5){if(!e)return;this.globalLogger().throwError("error censorship permanent",Logger$5.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$5=!!e,_permanentCensorErrors$5=!!t}static setLogLevel(e){const t=LogLevels$5[e.toLowerCase()];null!=t?_logLevel$5=t:Logger$5.globalLogger().warn("invalid log level - "+e)}static from(e){return new Logger$5(e)}}Logger$5.errors=ErrorCode$5,Logger$5.levels=LogLevel$5;const version$z="properties/5.5.0";var __awaiter$b=globalThis&&globalThis.__awaiter||function(t,r,n,i){return new(n||(n=Promise))((function(o,s){function a(t){try{l(i.next(t))}catch(e){s(e)}}function u(t){try{l(i.throw(t))}catch(e){s(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,u)}l((i=i.apply(t,r||[])).next())}))};const logger$s=new Logger$5(version$z);function defineReadOnly$2(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function getStatic(e,t){for(let r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function resolveProperties(e){return __awaiter$b(this,void 0,void 0,(function*(){const t=Object.keys(e).map((t=>{const r=e[t];return Promise.resolve(r).then((e=>({key:t,value:e})))}));return(yield Promise.all(t)).reduce(((e,t)=>(e[t.key]=t.value,e)),{})}))}function checkProperties$1(e,t){e&&"object"==typeof e||logger$s.throwArgumentError("invalid object","object",e),Object.keys(e).forEach((r=>{t[r]||logger$s.throwArgumentError("invalid object key - "+r,"transaction:"+r,e)}))}function shallowCopy$1(e){const t={};for(const r in e)t[r]=e[r];return t}const opaque={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function _isFrozen(e){if(null==e||opaque[typeof e])return!0;if(Array.isArray(e)||"object"==typeof e){if(!Object.isFrozen(e))return!1;const t=Object.keys(e);for(let r=0;r<t.length;r++){let n=null;try{n=e[t[r]]}catch(error){continue}if(!_isFrozen(n))return!1}return!0}return logger$s.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function _deepCopy(e){if(_isFrozen(e))return e;if(Array.isArray(e))return Object.freeze(e.map((e=>deepCopy(e))));if("object"==typeof e){const t={};for(const r in e){const n=e[r];void 0!==n&&defineReadOnly$2(t,r,deepCopy(n))}return t}return logger$s.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function deepCopy(e){return _deepCopy(e)}class Description{constructor(e){for(const t in e)this[t]=deepCopy(e[t])}}var lib_esm$7=Object.freeze(Object.defineProperty({__proto__:null,defineReadOnly:defineReadOnly$2,getStatic:getStatic,resolveProperties:resolveProperties,checkProperties:checkProperties$1,shallowCopy:shallowCopy$1,deepCopy:deepCopy,Description:Description},Symbol.toStringTag,{value:"Module"})),require$$13=getAugmentedNamespace(lib_esm$7);const version$y="logger/5.6.0";let _permanentCensorErrors$4=!1,_censorErrors$4=!1;const LogLevels$4={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$4=LogLevels$4.default,_globalLogger$4=null;function _checkNormalize$4(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(error){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(error){return error.message}return null}const _normalizeError$4=_checkNormalize$4();var LogLevel$4,ErrorCode$4;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(LogLevel$4||(LogLevel$4={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(ErrorCode$4||(ErrorCode$4={}));const HEX$4="0123456789abcdef";class Logger$4{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==LogLevels$4[r]&&this.throwArgumentError("invalid log level name","logLevel",e),_logLevel$4>LogLevels$4[r]||console.log.apply(console,t)}debug(...e){this._log(Logger$4.levels.DEBUG,e)}info(...e){this._log(Logger$4.levels.INFO,e)}warn(...e){this._log(Logger$4.levels.WARNING,e)}makeError(e,t,r){if(_censorErrors$4)return this.makeError("censored error",t,{});t||(t=Logger$4.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=HEX$4[t[e]>>4],r+=HEX$4[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(s){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;let o="";switch(t){case ErrorCode$4.NUMERIC_FAULT:{o="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case ErrorCode$4.CALL_EXCEPTION:case ErrorCode$4.INSUFFICIENT_FUNDS:case ErrorCode$4.MISSING_NEW:case ErrorCode$4.NONCE_EXPIRED:case ErrorCode$4.REPLACEMENT_UNDERPRICED:case ErrorCode$4.TRANSACTION_REPLACED:case ErrorCode$4.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Logger$4.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){_normalizeError$4&&this.throwError("platform missing String.prototype.normalize",Logger$4.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$4})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Logger$4.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Logger$4.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Logger$4.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Logger$4.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Logger$4.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Logger$4.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Logger$4.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return _globalLogger$4||(_globalLogger$4=new Logger$4(version$y)),_globalLogger$4}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$4.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$4){if(!e)return;this.globalLogger().throwError("error censorship permanent",Logger$4.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$4=!!e,_permanentCensorErrors$4=!!t}static setLogLevel(e){const t=LogLevels$4[e.toLowerCase()];null!=t?_logLevel$4=t:Logger$4.globalLogger().warn("invalid log level - "+e)}static from(e){return new Logger$4(e)}}Logger$4.errors=ErrorCode$4,Logger$4.levels=LogLevel$4;const version$x="bytes/5.6.1",logger$r=new Logger$4(version$x);function isHexable$4(e){return!!e.toHexString}function addSlice$4(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return addSlice$4(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function isBytesLike$3(e){return isHexString$9(e)&&!(e.length%2)||isBytes$4(e)}function isInteger$4(e){return"number"==typeof e&&e==e&&e%1==0}function isBytes$4(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!isInteger$4(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!isInteger$4(r)||r<0||r>=256)return!1}return!0}function arrayify$4(e,t){if(t||(t={}),"number"==typeof e){logger$r.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),addSlice$4(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable$4(e)&&(e=e.toHexString()),isHexString$9(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":logger$r.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return addSlice$4(new Uint8Array(n))}return isBytes$4(e)?addSlice$4(new Uint8Array(e)):logger$r.throwArgumentError("invalid arrayify value","value",e)}function isHexString$9(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}const HexCharacters$4="0123456789abcdef";function hexlify$4(e,t){if(t||(t={}),"number"==typeof e){logger$r.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=HexCharacters$4[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable$4(e))return e.toHexString();if(isHexString$9(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":logger$r.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(isBytes$4(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=HexCharacters$4[(240&n)>>4]+HexCharacters$4[15&n]}return t}return logger$r.throwArgumentError("invalid hexlify value","value",e)}const version$w="rlp/5.5.0",logger$q=new Logger$4(version$w);function arrayifyInteger$1(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function unarrayifyInteger$1(e,t,r){let n=0;for(let i=0;i<r;i++)n=256*n+e[t+i];return n}function _encode$1(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(_encode$1(e))})),t.length<=55)return t.unshift(192+t.length),t;const r=arrayifyInteger$1(t.length);return r.unshift(247+r.length),r.concat(t)}isBytesLike$3(e)||logger$q.throwArgumentError("RLP object must be BytesLike","object",e);const t=Array.prototype.slice.call(arrayify$4(e));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const r=arrayifyInteger$1(t.length);return r.unshift(183+r.length),r.concat(t)}function encode$6(e){return hexlify$4(_encode$1(e))}function _decodeChildren$1(e,t,r,n){const i=[];for(;r<t+1+n;){const o=_decode$2(e,r);i.push(o.result),(r+=o.consumed)>t+1+n&&logger$q.throwError("child data too short",Logger$4.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function _decode$2(e,t){if(0===e.length&&logger$q.throwError("data too short",Logger$4.errors.BUFFER_OVERRUN,{}),e[t]>=248){const r=e[t]-247;t+1+r>e.length&&logger$q.throwError("data short segment too short",Logger$4.errors.BUFFER_OVERRUN,{});const n=unarrayifyInteger$1(e,t+1,r);return t+1+r+n>e.length&&logger$q.throwError("data long segment too short",Logger$4.errors.BUFFER_OVERRUN,{}),_decodeChildren$1(e,t,t+1+r,r+n)}if(e[t]>=192){const r=e[t]-192;return t+1+r>e.length&&logger$q.throwError("data array too short",Logger$4.errors.BUFFER_OVERRUN,{}),_decodeChildren$1(e,t,t+1,r)}if(e[t]>=184){const r=e[t]-183;t+1+r>e.length&&logger$q.throwError("data array too short",Logger$4.errors.BUFFER_OVERRUN,{});const n=unarrayifyInteger$1(e,t+1,r);t+1+r+n>e.length&&logger$q.throwError("data array too short",Logger$4.errors.BUFFER_OVERRUN,{});return{consumed:1+r+n,result:hexlify$4(e.slice(t+1+r,t+1+r+n))}}if(e[t]>=128){const r=e[t]-128;t+1+r>e.length&&logger$q.throwError("data too short",Logger$4.errors.BUFFER_OVERRUN,{});return{consumed:1+r,result:hexlify$4(e.slice(t+1,t+1+r))}}return{consumed:1,result:hexlify$4(e[t])}}function decode$8(e){const t=arrayify$4(e),r=_decode$2(t,0);return r.consumed!==t.length&&logger$q.throwArgumentError("invalid rlp data","data",e),r.result}var lib_esm$6=Object.freeze(Object.defineProperty({__proto__:null,encode:encode$6,decode:decode$8},Symbol.toStringTag,{value:"Module"})),require$$14=getAugmentedNamespace(lib_esm$6);function createCommonjsModule$2(e,t,r){return r={path:t,exports:{},require:function(e,t){return commonjsRequire$2(e,null==t?r.path:t)}},e(r,r.exports),r.exports}function commonjsRequire$2(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var minimalisticAssert$1=assert$f;function assert$f(e,t){if(!e)throw new Error(t||"Assertion failed")}assert$f.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var utils_1$3=createCommonjsModule$2((function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}})),utils_1$1$2=createCommonjsModule$2((function(e,t){var r=t;r.assert=minimalisticAssert$1,r.toArray=utils_1$3.toArray,r.zero2=utils_1$3.zero2,r.toHex=utils_1$3.toHex,r.encode=utils_1$3.encode,r.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),s=0;s<n.length;s++){var a,u=o.andln(i-1);o.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var s,a,u=e.andln(3)+i&3,l=t.andln(3)+o&3;3===u&&(u=-1),3===l&&(l=-1),s=0==(1&u)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==l?u:-u,r[0].push(s),a=0==(1&l)?0:3!==(n=t.andln(7)+o&7)&&5!==n||2!==u?l:-l,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new _BN(e,"hex","le")}})),getNAF$2=utils_1$1$2.getNAF,getJSF$2=utils_1$1$2.getJSF,assert$1$2=utils_1$1$2.assert;function BaseCurve$2(e,t){this.type=e,this.p=new _BN(t.p,16),this.red=t.prime?_BN.red(t.prime):_BN.mont(this.p),this.zero=new _BN(0).toRed(this.red),this.one=new _BN(1).toRed(this.red),this.two=new _BN(2).toRed(this.red),this.n=t.n&&new _BN(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$3=BaseCurve$2;function BasePoint$2(e,t){this.curve=e,this.type=t,this.precomputed=null}BaseCurve$2.prototype.point=function(){throw new Error("Not implemented")},BaseCurve$2.prototype.validate=function(){throw new Error("Not implemented")},BaseCurve$2.prototype._fixedNafMul=function(e,t){assert$1$2(e.precomputed);var r=e._getDoubles(),n=getNAF$2(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,s,a=[];for(o=0;o<n.length;o+=r.step){s=0;for(var u=o+r.step-1;u>=o;u--)s=(s<<1)+n[u];a.push(s)}for(var l=this.jpoint(null,null,null),c=this.jpoint(null,null,null),f=i;f>0;f--){for(o=0;o<a.length;o++)(s=a[o])===f?c=c.mixedAdd(r.points[o]):s===-f&&(c=c.mixedAdd(r.points[o].neg()));l=l.add(c)}return l.toP()},BaseCurve$2.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=getNAF$2(t,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var u=0;a>=0&&0===o[a];a--)u++;if(a>=0&&u++,s=s.dblp(u),a<0)break;var l=o[a];assert$1$2(0!==l),s="affine"===e.type?l>0?s.mixedAdd(i[l-1>>1]):s.mixedAdd(i[-l-1>>1].neg()):l>0?s.add(i[l-1>>1]):s.add(i[-l-1>>1].neg())}return"affine"===e.type?s.toP():s},BaseCurve$2.prototype._wnafMulAdd=function(e,t,r,n,i){var o,s,a,u=this._wnafT1,l=this._wnafT2,c=this._wnafT3,f=0;for(o=0;o<n;o++){var h=(a=t[o])._getNAFPoints(e);u[o]=h.wnd,l[o]=h.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1===u[d]&&1===u[p]){var g=[t[d],null,null,t[p]];0===t[d].y.cmp(t[p].y)?(g[1]=t[d].add(t[p]),g[2]=t[d].toJ().mixedAdd(t[p].neg())):0===t[d].y.cmp(t[p].y.redNeg())?(g[1]=t[d].toJ().mixedAdd(t[p]),g[2]=t[d].add(t[p].neg())):(g[1]=t[d].toJ().mixedAdd(t[p]),g[2]=t[d].toJ().mixedAdd(t[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],y=getJSF$2(r[d],r[p]);for(f=Math.max(y[0].length,f),c[d]=new Array(f),c[p]=new Array(f),s=0;s<f;s++){var b=0|y[0][s],v=0|y[1][s];c[d][s]=m[3*(b+1)+(v+1)],c[p][s]=0,l[d]=g}}else c[d]=getNAF$2(r[d],u[d],this._bitLength),c[p]=getNAF$2(r[p],u[p],this._bitLength),f=Math.max(c[d].length,f),f=Math.max(c[p].length,f)}var _=this.jpoint(null,null,null),$=this._wnafT4;for(o=f;o>=0;o--){for(var w=0;o>=0;){var E=!0;for(s=0;s<n;s++)$[s]=0|c[s][o],0!==$[s]&&(E=!1);if(!E)break;w++,o--}if(o>=0&&w++,_=_.dblp(w),o<0)break;for(s=0;s<n;s++){var S=$[s];0!==S&&(S>0?a=l[s][S-1>>1]:S<0&&(a=l[s][-S-1>>1].neg()),_="affine"===a.type?_.mixedAdd(a):_.add(a))}}for(o=0;o<n;o++)l[o]=null;return i?_:_.toP()},BaseCurve$2.BasePoint=BasePoint$2,BasePoint$2.prototype.eq=function(){throw new Error("Not implemented")},BasePoint$2.prototype.validate=function(){return this.curve.validate(this)},BaseCurve$2.prototype.decodePoint=function(e,t){e=utils_1$1$2.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?assert$1$2(e[e.length-1]%2==0):7===e[0]&&assert$1$2(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},BasePoint$2.prototype.encodeCompressed=function(e){return this.encode(e,!0)},BasePoint$2.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},BasePoint$2.prototype.encode=function(e,t){return utils_1$1$2.encode(this._encode(t),e)},BasePoint$2.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},BasePoint$2.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},BasePoint$2.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},BasePoint$2.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},BasePoint$2.prototype._getBeta=function(){return null},BasePoint$2.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var inherits_browser$2=createCommonjsModule$2((function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),assert$2$2=utils_1$1$2.assert;function ShortCurve$2(e){base$3.call(this,"short",e),this.a=new _BN(e.a,16).toRed(this.red),this.b=new _BN(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits_browser$2(ShortCurve$2,base$3);var short_1$1=ShortCurve$2;function Point$4(e,t,r,n){base$3.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new _BN(t,16),this.y=new _BN(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function JPoint$2(e,t,r,n){base$3.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new _BN(0)):(this.x=new _BN(t,16),this.y=new _BN(r,16),this.z=new _BN(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}ShortCurve$2.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new _BN(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new _BN(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],assert$2$2(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new _BN(e.a,16),b:new _BN(e.b,16)}})):this._getEndoBasis(r)}}},ShortCurve$2.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:_BN.mont(e),r=new _BN(2).toRed(t).redInvm(),n=r.redNeg(),i=new _BN(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},ShortCurve$2.prototype._getEndoBasis=function(e){for(var t,r,n,i,o,s,a,u,l,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,h=this.n.clone(),d=new _BN(1),p=new _BN(0),g=new _BN(0),m=new _BN(1),y=0;0!==f.cmpn(0);){var b=h.div(f);u=h.sub(b.mul(f)),l=g.sub(b.mul(d));var v=m.sub(b.mul(p));if(!n&&u.cmp(c)<0)t=a.neg(),r=d,n=u.neg(),i=l;else if(n&&2==++y)break;a=u,h=f,f=u,g=d,d=l,m=p,p=v}o=u.neg(),s=l;var _=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(_)>=0&&(o=t,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},ShortCurve$2.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),l=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:u.add(l).neg()}},ShortCurve$2.prototype.pointFromX=function(e,t){(e=new _BN(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},ShortCurve$2.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},ShortCurve$2.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var l=this._wnafMulAdd(1,n,i,2*o,r),c=0;c<2*o;c++)n[c]=null,i[c]=null;return l},inherits_browser$2(Point$4,base$3.BasePoint),ShortCurve$2.prototype.point=function(e,t,r){return new Point$4(this,e,t,r)},ShortCurve$2.prototype.pointFromJSON=function(e,t){return Point$4.fromJSON(this,e,t)},Point$4.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},Point$4.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point$4.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},Point$4.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point$4.prototype.isInfinity=function(){return this.inf},Point$4.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Point$4.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},Point$4.prototype.getX=function(){return this.x.fromRed()},Point$4.prototype.getY=function(){return this.y.fromRed()},Point$4.prototype.mul=function(e){return e=new _BN(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Point$4.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Point$4.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Point$4.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},Point$4.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},Point$4.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},inherits_browser$2(JPoint$2,base$3.BasePoint),ShortCurve$2.prototype.jpoint=function(e,t,r){return new JPoint$2(this,e,t,r)},JPoint$2.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},JPoint$2.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint$2.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),c=l.redMul(a),f=n.redMul(l),h=u.redSqr().redIAdd(c).redISub(f).redISub(f),d=u.redMul(f.redISub(h)).redISub(o.redMul(c)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(h,d,p)},JPoint$2.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),l=u.redMul(s),c=r.redMul(u),f=a.redSqr().redIAdd(l).redISub(c).redISub(c),h=a.redMul(c.redISub(f)).redISub(i.redMul(l)),d=this.z.redMul(s);return this.curve.jpoint(f,h,d)},JPoint$2.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),l=s.redAdd(s);for(t=0;t<e;t++){var c=o.redSqr(),f=l.redSqr(),h=f.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(u)),p=o.redMul(f),g=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),y=d.redMul(m);y=y.redIAdd(y).redISub(h);var b=l.redMul(a);t+1<e&&(u=u.redMul(h)),o=g,a=b,l=y}return this.curve.jpoint(o,l.redMul(i),a)},JPoint$2.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint$2.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=u,t=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(c).redISub(h);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),g=p.redSqr(),m=h.redIAdd(h);m=(m=m.redIAdd(m)).redIAdd(m),e=g.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},JPoint$2.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);e=u;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),f=this.y.redSqr(),h=this.x.redMul(f),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=h.redIAdd(h),g=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(c);var m=f.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=d.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},JPoint$2.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),u=t.redAdd(t),l=(u=u.redIAdd(u)).redMul(s),c=a.redSqr().redISub(l.redAdd(l)),f=l.redISub(c),h=s.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=a.redMul(f).redISub(h),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,d,p)},JPoint$2.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),c=t.redMul(l);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.x.redMul(a).redISub(c);f=(f=f.redIAdd(f)).redIAdd(f);var h=this.y.redMul(l.redMul(u.redISub(l)).redISub(s.redMul(a)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(f,h,d)},JPoint$2.prototype.mul=function(e,t){return e=new _BN(e,t),this.curve._wnafMul(this,e)},JPoint$2.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},JPoint$2.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},JPoint$2.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint$2.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var curve_1$1=createCommonjsModule$2((function(e,t){var r=t;r.base=base$3,r.short=short_1$1,r.mont=null,r.edwards=null})),curves_1$1=createCommonjsModule$2((function(t,r){var n,i=r,o=utils_1$1$2.assert;function s(e){"short"===e.type?this.curve=new curve_1$1.short(e):"edwards"===e.type?this.curve=new curve_1$1.edwards(e):this.curve=new curve_1$1.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new s(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=s,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash$4.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash$4.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash$4.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash$4.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash$4.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$4.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$4.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=null.crash()}catch(e){n=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash$4.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})}));function HmacDRBG$3(e){if(!(this instanceof HmacDRBG$3))return new HmacDRBG$3(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=utils_1$3.toArray(e.entropy,e.entropyEnc||"hex"),r=utils_1$3.toArray(e.nonce,e.nonceEnc||"hex"),n=utils_1$3.toArray(e.pers,e.persEnc||"hex");minimalisticAssert$1(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var hmacDrbg$2=HmacDRBG$3;HmacDRBG$3.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},HmacDRBG$3.prototype._hmac=function(){return new hash$4.hmac(this.hash,this.K)},HmacDRBG$3.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG$3.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=utils_1$3.toArray(e,t),r=utils_1$3.toArray(r,n),minimalisticAssert$1(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},HmacDRBG$3.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=utils_1$3.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(r),this._reseed++,utils_1$3.encode(o,t)};var assert$3$2=utils_1$1$2.assert;function KeyPair$5(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var key$3=KeyPair$5;KeyPair$5.fromPublic=function(e,t,r){return t instanceof KeyPair$5?t:new KeyPair$5(e,{pub:t,pubEnc:r})},KeyPair$5.fromPrivate=function(e,t,r){return t instanceof KeyPair$5?t:new KeyPair$5(e,{priv:t,privEnc:r})},KeyPair$5.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair$5.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},KeyPair$5.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},KeyPair$5.prototype._importPrivate=function(e,t){this.priv=new _BN(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair$5.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?assert$3$2(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||assert$3$2(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},KeyPair$5.prototype.derive=function(e){return e.validate()||assert$3$2(e.validate(),"public point not validated"),e.mul(this.priv).getX()},KeyPair$5.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},KeyPair$5.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},KeyPair$5.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var assert$4$2=utils_1$1$2.assert;function Signature$5(e,t){if(e instanceof Signature$5)return e;this._importDER(e,t)||(assert$4$2(e.r&&e.s,"Signature without r or s"),this.r=new _BN(e.r,16),this.s=new _BN(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var signature$4=Signature$5;function Position$2(){this.place=0}function getLength$3(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function rmPadding$2(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function constructLength$2(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}Signature$5.prototype._importDER=function(e,t){e=utils_1$1$2.toArray(e,t);var r=new Position$2;if(48!==e[r.place++])return!1;var n=getLength$3(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=getLength$3(e,r);if(!1===i)return!1;var o=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var s=getLength$3(e,r);if(!1===s)return!1;if(e.length!==s+r.place)return!1;var a=e.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new _BN(o),this.s=new _BN(a),this.recoveryParam=null,!0},Signature$5.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=rmPadding$2(t),r=rmPadding$2(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];constructLength$2(n,t.length),(n=n.concat(t)).push(2),constructLength$2(n,r.length);var i=n.concat(r),o=[48];return constructLength$2(o,i.length),o=o.concat(i),utils_1$1$2.encode(o,e)};var rand$2=function(){throw new Error("unsupported")},assert$5$2=utils_1$1$2.assert;function EC$5(e){if(!(this instanceof EC$5))return new EC$5(e);"string"==typeof e&&(assert$5$2(Object.prototype.hasOwnProperty.call(curves_1$1,e),"Unknown curve "+e),e=curves_1$1[e]),e instanceof curves_1$1.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var ec$5=EC$5;EC$5.prototype.keyPair=function(e){return new key$3(this,e)},EC$5.prototype.keyFromPrivate=function(e,t){return key$3.fromPrivate(this,e,t)},EC$5.prototype.keyFromPublic=function(e,t){return key$3.fromPublic(this,e,t)},EC$5.prototype.genKeyPair=function(e){e||(e={});for(var t=new hmacDrbg$2({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||rand$2(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new _BN(2));;){var i=new _BN(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},EC$5.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},EC$5.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new _BN(e,16));for(var i=this.n.byteLength(),o=t.getPrivate().toArray("be",i),s=e.toArray("be",i),a=new hmacDrbg$2({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new _BN(1)),l=0;;l++){var c=n.k?n.k(l):new _BN(a.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||c.cmp(u)>=0)){var f=this.g.mul(c);if(!f.isInfinity()){var h=f.getX(),d=h.umod(this.n);if(0!==d.cmpn(0)){var p=c.invm(this.n).mul(d.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var g=(f.getY().isOdd()?1:0)|(0!==h.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),g^=1),new signature$4({r:d,s:p,recoveryParam:g})}}}}}},EC$5.prototype.verify=function(e,t,r,n){e=this._truncateToN(new _BN(e,16)),r=this.keyFromPublic(r,n);var i=(t=new signature$4(t,"hex")).r,o=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),u=a.mul(e).umod(this.n),l=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,r.getPublic(),l)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(u,r.getPublic(),l)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},EC$5.prototype.recoverPubKey=function(e,t,r,n){assert$5$2((3&r)===r,"The recovery param is more than two bits"),t=new signature$4(t,n);var i=this.n,o=new _BN(e),s=t.r,a=t.s,u=1&r,l=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");s=l?this.curve.pointFromX(s.add(this.curve.n),u):this.curve.pointFromX(s,u);var c=t.r.invm(i),f=i.sub(o).mul(c).umod(i),h=a.mul(c).umod(i);return this.g.mulAdd(f,s,h)},EC$5.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new signature$4(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var elliptic_1$1=createCommonjsModule$2((function(e,t){var r=t;r.version="6.5.4",r.utils=utils_1$1$2,r.rand=function(){throw new Error("unsupported")},r.curve=curve_1$1,r.curves=curves_1$1,r.ec=ec$5,r.eddsa=null})),EC$1$2=elliptic_1$1.ec;const version$v="logger/5.6.0";let _permanentCensorErrors$3=!1,_censorErrors$3=!1;const LogLevels$3={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$3=LogLevels$3.default,_globalLogger$3=null;function _checkNormalize$3(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(error){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(error){return error.message}return null}const _normalizeError$3=_checkNormalize$3();var LogLevel$3,ErrorCode$3;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(LogLevel$3||(LogLevel$3={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(ErrorCode$3||(ErrorCode$3={}));const HEX$3="0123456789abcdef";class Logger$3{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==LogLevels$3[r]&&this.throwArgumentError("invalid log level name","logLevel",e),_logLevel$3>LogLevels$3[r]||console.log.apply(console,t)}debug(...e){this._log(Logger$3.levels.DEBUG,e)}info(...e){this._log(Logger$3.levels.INFO,e)}warn(...e){this._log(Logger$3.levels.WARNING,e)}makeError(e,t,r){if(_censorErrors$3)return this.makeError("censored error",t,{});t||(t=Logger$3.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=HEX$3[t[e]>>4],r+=HEX$3[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(s){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;let o="";switch(t){case ErrorCode$3.NUMERIC_FAULT:{o="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case ErrorCode$3.CALL_EXCEPTION:case ErrorCode$3.INSUFFICIENT_FUNDS:case ErrorCode$3.MISSING_NEW:case ErrorCode$3.NONCE_EXPIRED:case ErrorCode$3.REPLACEMENT_UNDERPRICED:case ErrorCode$3.TRANSACTION_REPLACED:case ErrorCode$3.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Logger$3.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){_normalizeError$3&&this.throwError("platform missing String.prototype.normalize",Logger$3.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$3})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Logger$3.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Logger$3.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Logger$3.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Logger$3.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Logger$3.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Logger$3.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Logger$3.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return _globalLogger$3||(_globalLogger$3=new Logger$3(version$v)),_globalLogger$3}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$3.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$3){if(!e)return;this.globalLogger().throwError("error censorship permanent",Logger$3.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$3=!!e,_permanentCensorErrors$3=!!t}static setLogLevel(e){const t=LogLevels$3[e.toLowerCase()];null!=t?_logLevel$3=t:Logger$3.globalLogger().warn("invalid log level - "+e)}static from(e){return new Logger$3(e)}}Logger$3.errors=ErrorCode$3,Logger$3.levels=LogLevel$3;const version$u="bytes/5.6.1",logger$p=new Logger$3(version$u);function isHexable$3(e){return!!e.toHexString}function addSlice$3(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return addSlice$3(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function isBytesLike$2(e){return isHexString$8(e)&&!(e.length%2)||isBytes$3(e)}function isInteger$3(e){return"number"==typeof e&&e==e&&e%1==0}function isBytes$3(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!isInteger$3(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!isInteger$3(r)||r<0||r>=256)return!1}return!0}function arrayify$3(e,t){if(t||(t={}),"number"==typeof e){logger$p.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),addSlice$3(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable$3(e)&&(e=e.toHexString()),isHexString$8(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":logger$p.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return addSlice$3(new Uint8Array(n))}return isBytes$3(e)?addSlice$3(new Uint8Array(e)):logger$p.throwArgumentError("invalid arrayify value","value",e)}function zeroPad$1(e,t){(e=arrayify$3(e)).length>t&&logger$p.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(t);return r.set(e,t-e.length),addSlice$3(r)}function isHexString$8(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}const HexCharacters$3="0123456789abcdef";function hexlify$3(e,t){if(t||(t={}),"number"==typeof e){logger$p.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=HexCharacters$3[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable$3(e))return e.toHexString();if(isHexString$8(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":logger$p.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(isBytes$3(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=HexCharacters$3[(240&n)>>4]+HexCharacters$3[15&n]}return t}return logger$p.throwArgumentError("invalid hexlify value","value",e)}function hexZeroPad$1(e,t){for("string"!=typeof e?e=hexlify$3(e):isHexString$8(e)||logger$p.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&logger$p.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function splitSignature$1(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(isBytesLike$2(e)){let r=arrayify$3(e);64===r.length?(t.v=27+(r[32]>>7),r[32]&=127,t.r=hexlify$3(r.slice(0,32)),t.s=hexlify$3(r.slice(32,64))):65===r.length?(t.r=hexlify$3(r.slice(0,32)),t.s=hexlify$3(r.slice(32,64)),t.v=r[64]):logger$p.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:logger$p.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=hexlify$3(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){const r=zeroPad$1(arrayify$3(t._vs),32);t._vs=hexlify$3(r);const n=r[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=n:t.recoveryParam!==n&&logger$p.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),r[0]&=127;const i=hexlify$3(r);null==t.s?t.s=i:t.s!==i&&logger$p.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?logger$p.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{const r=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==r&&logger$p.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&isHexString$8(t.r)?t.r=hexZeroPad$1(t.r,32):logger$p.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&isHexString$8(t.s)?t.s=hexZeroPad$1(t.s,32):logger$p.throwArgumentError("signature missing or invalid s","signature",e);const r=arrayify$3(t.s);r[0]>=128&&logger$p.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);const n=hexlify$3(r);t._vs&&(isHexString$8(t._vs)||logger$p.throwArgumentError("signature invalid _vs","signature",e),t._vs=hexZeroPad$1(t._vs,32)),null==t._vs?t._vs=n:t._vs!==n&&logger$p.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}const version$t="properties/5.6.0";function defineReadOnly$1(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}globalThis&&globalThis.__awaiter,new Logger$3(version$t);const version$s="signing-key/5.5.0",logger$o=new Logger$3(version$s);let _curve$1=null;function getCurve$1(){return _curve$1||(_curve$1=new EC$1$2("secp256k1")),_curve$1}class SigningKey$1{constructor(e){defineReadOnly$1(this,"curve","secp256k1"),defineReadOnly$1(this,"privateKey",hexlify$3(e));const t=getCurve$1().keyFromPrivate(arrayify$3(this.privateKey));defineReadOnly$1(this,"publicKey","0x"+t.getPublic(!1,"hex")),defineReadOnly$1(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),defineReadOnly$1(this,"_isSigningKey",!0)}_addPoint(e){const t=getCurve$1().keyFromPublic(arrayify$3(this.publicKey)),r=getCurve$1().keyFromPublic(arrayify$3(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const t=getCurve$1().keyFromPrivate(arrayify$3(this.privateKey)),r=arrayify$3(e);32!==r.length&&logger$o.throwArgumentError("bad digest length","digest",e);const n=t.sign(r,{canonical:!0});return splitSignature$1({recoveryParam:n.recoveryParam,r:hexZeroPad$1("0x"+n.r.toString(16),32),s:hexZeroPad$1("0x"+n.s.toString(16),32)})}computeSharedSecret(e){const t=getCurve$1().keyFromPrivate(arrayify$3(this.privateKey)),r=getCurve$1().keyFromPublic(arrayify$3(computePublicKey$1(e)));return hexZeroPad$1("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!(!e||!e._isSigningKey)}}function recoverPublicKey$2(e,t){const r=splitSignature$1(t),n={r:arrayify$3(r.r),s:arrayify$3(r.s)};return"0x"+getCurve$1().recoverPubKey(arrayify$3(e),n,r.recoveryParam).encode("hex",!1)}function computePublicKey$1(e,t){const r=arrayify$3(e);if(32===r.length){const e=new SigningKey$1(r);return t?"0x"+getCurve$1().keyFromPrivate(r).getPublic(!0,"hex"):e.publicKey}return 33===r.length?t?hexlify$3(r):"0x"+getCurve$1().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+getCurve$1().keyFromPublic(r).getPublic(!0,"hex"):hexlify$3(r):logger$o.throwArgumentError("invalid public or private key","key","[REDACTED]")}var lib_esm$5=Object.freeze(Object.defineProperty({__proto__:null,SigningKey:SigningKey$1,recoverPublicKey:recoverPublicKey$2,computePublicKey:computePublicKey$1},Symbol.toStringTag,{value:"Module"})),require$$15=getAugmentedNamespace(lib_esm$5);const version$r="logger/5.6.0";let _permanentCensorErrors$2=!1,_censorErrors$2=!1;const LogLevels$2={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$2=LogLevels$2.default,_globalLogger$2=null;function _checkNormalize$2(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(error){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(error){return error.message}return null}const _normalizeError$2=_checkNormalize$2();var LogLevel$2,ErrorCode$2;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(LogLevel$2||(LogLevel$2={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(ErrorCode$2||(ErrorCode$2={}));const HEX$2="0123456789abcdef";class Logger$2{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==LogLevels$2[r]&&this.throwArgumentError("invalid log level name","logLevel",e),_logLevel$2>LogLevels$2[r]||console.log.apply(console,t)}debug(...e){this._log(Logger$2.levels.DEBUG,e)}info(...e){this._log(Logger$2.levels.INFO,e)}warn(...e){this._log(Logger$2.levels.WARNING,e)}makeError(e,t,r){if(_censorErrors$2)return this.makeError("censored error",t,{});t||(t=Logger$2.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=HEX$2[t[e]>>4],r+=HEX$2[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(s){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;let o="";switch(t){case ErrorCode$2.NUMERIC_FAULT:{o="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case ErrorCode$2.CALL_EXCEPTION:case ErrorCode$2.INSUFFICIENT_FUNDS:case ErrorCode$2.MISSING_NEW:case ErrorCode$2.NONCE_EXPIRED:case ErrorCode$2.REPLACEMENT_UNDERPRICED:case ErrorCode$2.TRANSACTION_REPLACED:case ErrorCode$2.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Logger$2.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){_normalizeError$2&&this.throwError("platform missing String.prototype.normalize",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$2})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Logger$2.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Logger$2.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Logger$2.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Logger$2.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Logger$2.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Logger$2.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Logger$2.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return _globalLogger$2||(_globalLogger$2=new Logger$2(version$r)),_globalLogger$2}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$2){if(!e)return;this.globalLogger().throwError("error censorship permanent",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$2=!!e,_permanentCensorErrors$2=!!t}static setLogLevel(e){const t=LogLevels$2[e.toLowerCase()];null!=t?_logLevel$2=t:Logger$2.globalLogger().warn("invalid log level - "+e)}static from(e){return new Logger$2(e)}}Logger$2.errors=ErrorCode$2,Logger$2.levels=LogLevel$2;const version$q="bytes/5.6.1",logger$n=new Logger$2(version$q);function isHexable$2(e){return!!e.toHexString}function addSlice$2(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return addSlice$2(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function isInteger$2(e){return"number"==typeof e&&e==e&&e%1==0}function isBytes$2(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!isInteger$2(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!isInteger$2(r)||r<0||r>=256)return!1}return!0}function arrayify$2(e,t){if(t||(t={}),"number"==typeof e){logger$n.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),addSlice$2(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable$2(e)&&(e=e.toHexString()),isHexString$7(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":logger$n.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return addSlice$2(new Uint8Array(n))}return isBytes$2(e)?addSlice$2(new Uint8Array(e)):logger$n.throwArgumentError("invalid arrayify value","value",e)}function concat$2(e){const t=e.map((e=>arrayify$2(e))),r=t.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(r);return t.reduce(((e,t)=>(n.set(t,e),e+t.length)),0),addSlice$2(n)}function isHexString$7(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}const HexCharacters$2="0123456789abcdef";function hexlify$2(e,t){if(t||(t={}),"number"==typeof e){logger$n.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=HexCharacters$2[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable$2(e))return e.toHexString();if(isHexString$7(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":logger$n.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(isBytes$2(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=HexCharacters$2[(240&n)>>4]+HexCharacters$2[15&n]}return t}return logger$n.throwArgumentError("invalid hexlify value","value",e)}const HashZero="0x0000000000000000000000000000000000000000000000000000000000000000",version$p="strings/5.5.0",logger$m=new Logger$2(version$p);var UnicodeNormalizationForm$1,Utf8ErrorReason$1;function errorFunc$1(e,t,r,n,i){return logger$m.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)}function ignoreFunc$1(e,t,r,n,i){if(e===Utf8ErrorReason$1.BAD_PREFIX||e===Utf8ErrorReason$1.UNEXPECTED_CONTINUE){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return e===Utf8ErrorReason$1.OVERRUN?r.length-t-1:0}function replaceFunc$1(e,t,r,n,i){return e===Utf8ErrorReason$1.OVERLONG?(n.push(i),0):(n.push(65533),ignoreFunc$1(e,t,r))}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(UnicodeNormalizationForm$1||(UnicodeNormalizationForm$1={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(Utf8ErrorReason$1||(Utf8ErrorReason$1={}));const Utf8ErrorFuncs$1=Object.freeze({error:errorFunc$1,ignore:ignoreFunc$1,replace:replaceFunc$1});function getUtf8CodePoints$1(e,t){null==t&&(t=Utf8ErrorFuncs$1.error),e=arrayify$2(e);const r=[];let n=0;for(;n<e.length;){const i=e[n++];if(i>>7==0){r.push(i);continue}let o=null,s=null;if(192==(224&i))o=1,s=127;else if(224==(240&i))o=2,s=2047;else{if(240!=(248&i)){n+=t(128==(192&i)?Utf8ErrorReason$1.UNEXPECTED_CONTINUE:Utf8ErrorReason$1.BAD_PREFIX,n-1,e,r);continue}o=3,s=65535}if(n-1+o>=e.length){n+=t(Utf8ErrorReason$1.OVERRUN,n-1,e,r);continue}let a=i&(1<<8-o-1)-1;for(let u=0;u<o;u++){let i=e[n];if(128!=(192&i)){n+=t(Utf8ErrorReason$1.MISSING_CONTINUE,n,e,r),a=null;break}a=a<<6|63&i,n++}null!==a&&(a>1114111?n+=t(Utf8ErrorReason$1.OUT_OF_RANGE,n-1-o,e,r,a):a>=55296&&a<=57343?n+=t(Utf8ErrorReason$1.UTF16_SURROGATE,n-1-o,e,r,a):a<=s?n+=t(Utf8ErrorReason$1.OVERLONG,n-1-o,e,r,a):r.push(a))}return r}function toUtf8Bytes$1(e,t=UnicodeNormalizationForm$1.current){t!=UnicodeNormalizationForm$1.current&&(logger$m.checkNormalize(),e=e.normalize(t));let r=[];for(let n=0;n<e.length;n++){const t=e.charCodeAt(n);if(t<128)r.push(t);else if(t<2048)r.push(t>>6|192),r.push(63&t|128);else if(55296==(64512&t)){n++;const i=e.charCodeAt(n);if(n>=e.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&t)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(t>>12|224),r.push(t>>6&63|128),r.push(63&t|128)}return arrayify$2(r)}function escapeChar(e){const t="0000"+e.toString(16);return"\\u"+t.substring(t.length-4)}function _toEscapedUtf8String(e,t){return'"'+getUtf8CodePoints$1(e,t).map((e=>{if(e<256){switch(e){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(e>=32&&e<127)return String.fromCharCode(e)}return e<=65535?escapeChar(e):escapeChar(55296+((e-=65536)>>10&1023))+escapeChar(56320+(1023&e))})).join("")+'"'}function _toUtf8String$1(e){return e.map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}function toUtf8String$1(e,t){return _toUtf8String$1(getUtf8CodePoints$1(e,t))}function toUtf8CodePoints(e,t=UnicodeNormalizationForm$1.current){return getUtf8CodePoints$1(toUtf8Bytes$1(e,t))}function formatBytes32String(e){const t=toUtf8Bytes$1(e);if(t.length>31)throw new Error("bytes32 string must be less than 32 bytes");return hexlify$2(concat$2([t,HashZero]).slice(0,32))}function parseBytes32String(e){const t=arrayify$2(e);if(32!==t.length)throw new Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw new Error("invalid bytes32 string - no null terminator");let r=31;for(;0===t[r-1];)r--;return toUtf8String$1(t.slice(0,r))}function bytes2(e){if(e.length%4!=0)throw new Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}function createTable(e,t){t||(t=function(e){return[parseInt(e,16)]});let r=0,n={};return e.split(",").forEach((e=>{let i=e.split(":");r+=parseInt(i[0],16),n[r]=t(i[1])})),n}function createRangeTable(e){let t=0;return e.split(",").map((e=>{let r=e.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let n=t+parseInt(r[0],16);return t=parseInt(r[1],16),{l:n,h:t}}))}function matchMap(e,t){let r=0;for(let n=0;n<t.length;n++){let i=t[n];if(r+=i.l,e>=r&&e<=r+i.h&&(e-r)%(i.d||1)==0){if(i.e&&-1!==i.e.indexOf(e-r))continue;return i}}return null}const Table_A_1_ranges=createRangeTable("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Table_B_1_flags="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((e=>parseInt(e,16))),Table_B_2_ranges=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Table_B_2_lut_abs=createTable("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Table_B_2_lut_rel=createTable("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Table_B_2_complex=createTable("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",bytes2),Table_C_ranges=createRangeTable("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function flatten(e){return e.reduce(((e,t)=>(t.forEach((t=>{e.push(t)})),e)),[])}function _nameprepTableA1(e){return!!matchMap(e,Table_A_1_ranges)}function _nameprepTableB2(e){let t=matchMap(e,Table_B_2_ranges);if(t)return[e+t.s];let r=Table_B_2_lut_abs[e];if(r)return r;let n=Table_B_2_lut_rel[e];if(n)return[e+n[0]];let i=Table_B_2_complex[e];return i||null}function _nameprepTableC(e){return!!matchMap(e,Table_C_ranges)}function nameprep(e){if(e.match(/^[a-z0-9-]*$/i)&&e.length<=59)return e.toLowerCase();let t=toUtf8CodePoints(e);t=flatten(t.map((e=>{if(Table_B_1_flags.indexOf(e)>=0)return[];if(e>=65024&&e<=65039)return[];let t=_nameprepTableB2(e);return t||[e]}))),t=toUtf8CodePoints(_toUtf8String$1(t),UnicodeNormalizationForm$1.NFKC),t.forEach((e=>{if(_nameprepTableC(e))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),t.forEach((e=>{if(_nameprepTableA1(e))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));let r=_toUtf8String$1(t);if("-"===r.substring(0,1)||"--"===r.substring(2,4)||"-"===r.substring(r.length-1))throw new Error("invalid hyphen");if(r.length>63)throw new Error("too long");return r}var lib_esm$4=Object.freeze(Object.defineProperty({__proto__:null,_toEscapedUtf8String:_toEscapedUtf8String,toUtf8Bytes:toUtf8Bytes$1,toUtf8CodePoints:toUtf8CodePoints,toUtf8String:toUtf8String$1,Utf8ErrorFuncs:Utf8ErrorFuncs$1,get Utf8ErrorReason(){return Utf8ErrorReason$1},get UnicodeNormalizationForm(){return UnicodeNormalizationForm$1},formatBytes32String:formatBytes32String,parseBytes32String:parseBytes32String,nameprep:nameprep},Symbol.toStringTag,{value:"Module"})),require$$16=getAugmentedNamespace(lib_esm$4);const version$o="logger/5.6.0";let _permanentCensorErrors$1=!1,_censorErrors$1=!1;const LogLevels$1={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$1=LogLevels$1.default,_globalLogger$1=null;function _checkNormalize$1(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(error){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(error){return error.message}return null}const _normalizeError$1=_checkNormalize$1();var LogLevel$1,ErrorCode$1;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(LogLevel$1||(LogLevel$1={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(ErrorCode$1||(ErrorCode$1={}));const HEX$1="0123456789abcdef";class Logger$1{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==LogLevels$1[r]&&this.throwArgumentError("invalid log level name","logLevel",e),_logLevel$1>LogLevels$1[r]||console.log.apply(console,t)}debug(...e){this._log(Logger$1.levels.DEBUG,e)}info(...e){this._log(Logger$1.levels.INFO,e)}warn(...e){this._log(Logger$1.levels.WARNING,e)}makeError(e,t,r){if(_censorErrors$1)return this.makeError("censored error",t,{});t||(t=Logger$1.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=HEX$1[t[e]>>4],r+=HEX$1[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(s){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;let o="";switch(t){case ErrorCode$1.NUMERIC_FAULT:{o="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case ErrorCode$1.CALL_EXCEPTION:case ErrorCode$1.INSUFFICIENT_FUNDS:case ErrorCode$1.MISSING_NEW:case ErrorCode$1.NONCE_EXPIRED:case ErrorCode$1.REPLACEMENT_UNDERPRICED:case ErrorCode$1.TRANSACTION_REPLACED:case ErrorCode$1.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Logger$1.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){_normalizeError$1&&this.throwError("platform missing String.prototype.normalize",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$1})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Logger$1.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Logger$1.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Logger$1.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Logger$1.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Logger$1.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Logger$1.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Logger$1.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return _globalLogger$1||(_globalLogger$1=new Logger$1(version$o)),_globalLogger$1}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$1){if(!e)return;this.globalLogger().throwError("error censorship permanent",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$1=!!e,_permanentCensorErrors$1=!!t}static setLogLevel(e){const t=LogLevels$1[e.toLowerCase()];null!=t?_logLevel$1=t:Logger$1.globalLogger().warn("invalid log level - "+e)}static from(e){return new Logger$1(e)}}Logger$1.errors=ErrorCode$1,Logger$1.levels=LogLevel$1;const version$n="bytes/5.6.1",logger$l=new Logger$1(version$n);function isHexable$1(e){return!!e.toHexString}function addSlice$1(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return addSlice$1(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function isBytesLike$1(e){return isHexString$6(e)&&!(e.length%2)||isBytes$1(e)}function isInteger$1(e){return"number"==typeof e&&e==e&&e%1==0}function isBytes$1(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!isInteger$1(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!isInteger$1(r)||r<0||r>=256)return!1}return!0}function arrayify$1(e,t){if(t||(t={}),"number"==typeof e){logger$l.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),addSlice$1(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable$1(e)&&(e=e.toHexString()),isHexString$6(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":logger$l.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return addSlice$1(new Uint8Array(n))}return isBytes$1(e)?addSlice$1(new Uint8Array(e)):logger$l.throwArgumentError("invalid arrayify value","value",e)}function stripZeros(e){let t=arrayify$1(e);if(0===t.length)return t;let r=0;for(;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function zeroPad(e,t){(e=arrayify$1(e)).length>t&&logger$l.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(t);return r.set(e,t-e.length),addSlice$1(r)}function isHexString$6(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}const HexCharacters$1="0123456789abcdef";function hexlify$1(e,t){if(t||(t={}),"number"==typeof e){logger$l.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=HexCharacters$1[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable$1(e))return e.toHexString();if(isHexString$6(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":logger$l.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(isBytes$1(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=HexCharacters$1[(240&n)>>4]+HexCharacters$1[15&n]}return t}return logger$l.throwArgumentError("invalid hexlify value","value",e)}function hexDataLength(e){if("string"!=typeof e)e=hexlify$1(e);else if(!isHexString$6(e)||e.length%2)return null;return(e.length-2)/2}function hexDataSlice(e,t,r){return"string"!=typeof e?e=hexlify$1(e):(!isHexString$6(e)||e.length%2)&&logger$l.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function hexConcat(e){let t="0x";return e.forEach((e=>{t+=hexlify$1(e).substring(2)})),t}function hexZeroPad(e,t){for("string"!=typeof e?e=hexlify$1(e):isHexString$6(e)||logger$l.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&logger$l.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function splitSignature(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(isBytesLike$1(e)){let r=arrayify$1(e);64===r.length?(t.v=27+(r[32]>>7),r[32]&=127,t.r=hexlify$1(r.slice(0,32)),t.s=hexlify$1(r.slice(32,64))):65===r.length?(t.r=hexlify$1(r.slice(0,32)),t.s=hexlify$1(r.slice(32,64)),t.v=r[64]):logger$l.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:logger$l.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=hexlify$1(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){const r=zeroPad(arrayify$1(t._vs),32);t._vs=hexlify$1(r);const n=r[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=n:t.recoveryParam!==n&&logger$l.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),r[0]&=127;const i=hexlify$1(r);null==t.s?t.s=i:t.s!==i&&logger$l.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?logger$l.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{const r=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==r&&logger$l.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&isHexString$6(t.r)?t.r=hexZeroPad(t.r,32):logger$l.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&isHexString$6(t.s)?t.s=hexZeroPad(t.s,32):logger$l.throwArgumentError("signature missing or invalid s","signature",e);const r=arrayify$1(t.s);r[0]>=128&&logger$l.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);const n=hexlify$1(r);t._vs&&(isHexString$6(t._vs)||logger$l.throwArgumentError("signature invalid _vs","signature",e),t._vs=hexZeroPad(t._vs,32)),null==t._vs?t._vs=n:t._vs!==n&&logger$l.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}const version$m="bignumber/5.6.0";var BN$h=_BN.BN;const logger$k=new Logger$1(version$m),_constructorGuard$1={},MAX_SAFE=9007199254740991;let _warnedToStringRadix=!1;class BigNumber{constructor(e,t){logger$k.checkNew(new.target,BigNumber),e!==_constructorGuard$1&&logger$k.throwError("cannot call constructor directly; use BigNumber.from",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return toBigNumber(toBN(this).fromTwos(e))}toTwos(e){return toBigNumber(toBN(this).toTwos(e))}abs(){return"-"===this._hex[0]?BigNumber.from(this._hex.substring(1)):this}add(e){return toBigNumber(toBN(this).add(toBN(e)))}sub(e){return toBigNumber(toBN(this).sub(toBN(e)))}div(e){return BigNumber.from(e).isZero()&&throwFault("division-by-zero","div"),toBigNumber(toBN(this).div(toBN(e)))}mul(e){return toBigNumber(toBN(this).mul(toBN(e)))}mod(e){const t=toBN(e);return t.isNeg()&&throwFault("division-by-zero","mod"),toBigNumber(toBN(this).umod(t))}pow(e){const t=toBN(e);return t.isNeg()&&throwFault("negative-power","pow"),toBigNumber(toBN(this).pow(t))}and(e){const t=toBN(e);return(this.isNegative()||t.isNeg())&&throwFault("unbound-bitwise-result","and"),toBigNumber(toBN(this).and(t))}or(e){const t=toBN(e);return(this.isNegative()||t.isNeg())&&throwFault("unbound-bitwise-result","or"),toBigNumber(toBN(this).or(t))}xor(e){const t=toBN(e);return(this.isNegative()||t.isNeg())&&throwFault("unbound-bitwise-result","xor"),toBigNumber(toBN(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&throwFault("negative-width","mask"),toBigNumber(toBN(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&throwFault("negative-width","shl"),toBigNumber(toBN(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&throwFault("negative-width","shr"),toBigNumber(toBN(this).shrn(e))}eq(e){return toBN(this).eq(toBN(e))}lt(e){return toBN(this).lt(toBN(e))}lte(e){return toBN(this).lte(toBN(e))}gt(e){return toBN(this).gt(toBN(e))}gte(e){return toBN(this).gte(toBN(e))}isNegative(){return"-"===this._hex[0]}isZero(){return toBN(this).isZero()}toNumber(){try{return toBN(this).toNumber()}catch(error){throwFault("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return logger$k.throwError("this platform does not support BigInt",Logger$1.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?_warnedToStringRadix||(_warnedToStringRadix=!0,logger$k.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?logger$k.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Logger$1.errors.UNEXPECTED_ARGUMENT,{}):logger$k.throwError("BigNumber.toString does not accept parameters",Logger$1.errors.UNEXPECTED_ARGUMENT,{})),toBN(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof BigNumber)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new BigNumber(_constructorGuard$1,toHex(e)):e.match(/^-?[0-9]+$/)?new BigNumber(_constructorGuard$1,toHex(new BN$h(e))):logger$k.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&throwFault("underflow","BigNumber.from",e),(e>=MAX_SAFE||e<=-MAX_SAFE)&&throwFault("overflow","BigNumber.from",e),BigNumber.from(String(e));const t=e;if("bigint"==typeof t)return BigNumber.from(t.toString());if(isBytes$1(t))return BigNumber.from(hexlify$1(t));if(t)if(t.toHexString){const e=t.toHexString();if("string"==typeof e)return BigNumber.from(e)}else{let e=t._hex;if(null==e&&"BigNumber"===t.type&&(e=t.hex),"string"==typeof e&&(isHexString$6(e)||"-"===e[0]&&isHexString$6(e.substring(1))))return BigNumber.from(e)}return logger$k.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!(!e||!e._isBigNumber)}}function toHex(e){if("string"!=typeof e)return toHex(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&logger$k.throwArgumentError("invalid hex","value",e),"0x00"===(e=toHex(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function toBigNumber(e){return BigNumber.from(toHex(e))}function toBN(e){const t=BigNumber.from(e).toHexString();return"-"===t[0]?new BN$h("-"+t.substring(3),16):new BN$h(t.substring(2),16)}function throwFault(e,t,r){const n={fault:e,operation:t};return null!=r&&(n.value=r),logger$k.throwError(e,Logger$1.errors.NUMERIC_FAULT,n)}function _base36To16(e){return new BN$h(e,36).toString(16)}function keccak256(e){return"0x"+sha3.keccak_256(arrayify$1(e))}const version$l="rlp/5.6.0",logger$j=new Logger$1(version$l);function arrayifyInteger(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function unarrayifyInteger(e,t,r){let n=0;for(let i=0;i<r;i++)n=256*n+e[t+i];return n}function _encode(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(_encode(e))})),t.length<=55)return t.unshift(192+t.length),t;const r=arrayifyInteger(t.length);return r.unshift(247+r.length),r.concat(t)}isBytesLike$1(e)||logger$j.throwArgumentError("RLP object must be BytesLike","object",e);const t=Array.prototype.slice.call(arrayify$1(e));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const r=arrayifyInteger(t.length);return r.unshift(183+r.length),r.concat(t)}function encode$5(e){return hexlify$1(_encode(e))}function _decodeChildren(e,t,r,n){const i=[];for(;r<t+1+n;){const o=_decode$1(e,r);i.push(o.result),(r+=o.consumed)>t+1+n&&logger$j.throwError("child data too short",Logger$1.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function _decode$1(e,t){if(0===e.length&&logger$j.throwError("data too short",Logger$1.errors.BUFFER_OVERRUN,{}),e[t]>=248){const r=e[t]-247;t+1+r>e.length&&logger$j.throwError("data short segment too short",Logger$1.errors.BUFFER_OVERRUN,{});const n=unarrayifyInteger(e,t+1,r);return t+1+r+n>e.length&&logger$j.throwError("data long segment too short",Logger$1.errors.BUFFER_OVERRUN,{}),_decodeChildren(e,t,t+1+r,r+n)}if(e[t]>=192){const r=e[t]-192;return t+1+r>e.length&&logger$j.throwError("data array too short",Logger$1.errors.BUFFER_OVERRUN,{}),_decodeChildren(e,t,t+1,r)}if(e[t]>=184){const r=e[t]-183;t+1+r>e.length&&logger$j.throwError("data array too short",Logger$1.errors.BUFFER_OVERRUN,{});const n=unarrayifyInteger(e,t+1,r);t+1+r+n>e.length&&logger$j.throwError("data array too short",Logger$1.errors.BUFFER_OVERRUN,{});return{consumed:1+r+n,result:hexlify$1(e.slice(t+1+r,t+1+r+n))}}if(e[t]>=128){const r=e[t]-128;t+1+r>e.length&&logger$j.throwError("data too short",Logger$1.errors.BUFFER_OVERRUN,{});return{consumed:1+r,result:hexlify$1(e.slice(t+1,t+1+r))}}return{consumed:1,result:hexlify$1(e[t])}}function decode$7(e){const t=arrayify$1(e),r=_decode$1(t,0);return r.consumed!==t.length&&logger$j.throwArgumentError("invalid rlp data","data",e),r.result}const version$k="address/5.6.0",logger$i=new Logger$1(version$k);function getChecksumAddress(e){isHexString$6(e,20)||logger$i.throwArgumentError("invalid address","address",e);const t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=t[i].charCodeAt(0);const n=arrayify$1(keccak256(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(15&n[i>>1])>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const MAX_SAFE_INTEGER$2=9007199254740991;function log10(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}const ibanLookup={};for(let ee=0;ee<10;ee++)ibanLookup[String(ee)]=String(ee);for(let ee=0;ee<26;ee++)ibanLookup[String.fromCharCode(65+ee)]=String(10+ee);const safeDigits=Math.floor(log10(MAX_SAFE_INTEGER$2));function ibanChecksum(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>ibanLookup[e])).join("");for(;t.length>=safeDigits;){let e=t.substring(0,safeDigits);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function getAddress(e){let t=null;if("string"!=typeof e&&logger$i.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=getChecksumAddress(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&logger$i.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==ibanChecksum(e)&&logger$i.throwArgumentError("bad icap checksum","address",e),t=_base36To16(e.substring(4));t.length<40;)t="0"+t;t=getChecksumAddress("0x"+t)}else logger$i.throwArgumentError("invalid address","address",e);return t}const Zero=BigNumber.from(0),version$j="properties/5.6.0";globalThis&&globalThis.__awaiter;const logger$h=new Logger$1(version$j);function defineReadOnly(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function checkProperties(e,t){e&&"object"==typeof e||logger$h.throwArgumentError("invalid object","object",e),Object.keys(e).forEach((r=>{t[r]||logger$h.throwArgumentError("invalid object key - "+r,"transaction:"+r,e)}))}function createCommonjsModule$1(e,t,r){return r={path:t,exports:{},require:function(e,t){return commonjsRequire$1(e,null==t?r.path:t)}},e(r,r.exports),r.exports}function commonjsRequire$1(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var minimalisticAssert=assert$e;function assert$e(e,t){if(!e)throw new Error(t||"Assertion failed")}assert$e.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var utils_1$2=createCommonjsModule$1((function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}})),utils_1$1$1=createCommonjsModule$1((function(e,t){var r=t;r.assert=minimalisticAssert,r.toArray=utils_1$2.toArray,r.zero2=utils_1$2.zero2,r.toHex=utils_1$2.toHex,r.encode=utils_1$2.encode,r.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),s=0;s<n.length;s++){var a,u=o.andln(i-1);o.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var s,a,u=e.andln(3)+i&3,l=t.andln(3)+o&3;3===u&&(u=-1),3===l&&(l=-1),s=0==(1&u)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==l?u:-u,r[0].push(s),a=0==(1&l)?0:3!==(n=t.andln(7)+o&7)&&5!==n||2!==u?l:-l,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new _BN(e,"hex","le")}})),getNAF$1=utils_1$1$1.getNAF,getJSF$1=utils_1$1$1.getJSF,assert$1$1=utils_1$1$1.assert;function BaseCurve$1(e,t){this.type=e,this.p=new _BN(t.p,16),this.red=t.prime?_BN.red(t.prime):_BN.mont(this.p),this.zero=new _BN(0).toRed(this.red),this.one=new _BN(1).toRed(this.red),this.two=new _BN(2).toRed(this.red),this.n=t.n&&new _BN(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$2=BaseCurve$1;function BasePoint$1(e,t){this.curve=e,this.type=t,this.precomputed=null}BaseCurve$1.prototype.point=function(){throw new Error("Not implemented")},BaseCurve$1.prototype.validate=function(){throw new Error("Not implemented")},BaseCurve$1.prototype._fixedNafMul=function(e,t){assert$1$1(e.precomputed);var r=e._getDoubles(),n=getNAF$1(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,s,a=[];for(o=0;o<n.length;o+=r.step){s=0;for(var u=o+r.step-1;u>=o;u--)s=(s<<1)+n[u];a.push(s)}for(var l=this.jpoint(null,null,null),c=this.jpoint(null,null,null),f=i;f>0;f--){for(o=0;o<a.length;o++)(s=a[o])===f?c=c.mixedAdd(r.points[o]):s===-f&&(c=c.mixedAdd(r.points[o].neg()));l=l.add(c)}return l.toP()},BaseCurve$1.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=getNAF$1(t,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var u=0;a>=0&&0===o[a];a--)u++;if(a>=0&&u++,s=s.dblp(u),a<0)break;var l=o[a];assert$1$1(0!==l),s="affine"===e.type?l>0?s.mixedAdd(i[l-1>>1]):s.mixedAdd(i[-l-1>>1].neg()):l>0?s.add(i[l-1>>1]):s.add(i[-l-1>>1].neg())}return"affine"===e.type?s.toP():s},BaseCurve$1.prototype._wnafMulAdd=function(e,t,r,n,i){var o,s,a,u=this._wnafT1,l=this._wnafT2,c=this._wnafT3,f=0;for(o=0;o<n;o++){var h=(a=t[o])._getNAFPoints(e);u[o]=h.wnd,l[o]=h.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1===u[d]&&1===u[p]){var g=[t[d],null,null,t[p]];0===t[d].y.cmp(t[p].y)?(g[1]=t[d].add(t[p]),g[2]=t[d].toJ().mixedAdd(t[p].neg())):0===t[d].y.cmp(t[p].y.redNeg())?(g[1]=t[d].toJ().mixedAdd(t[p]),g[2]=t[d].add(t[p].neg())):(g[1]=t[d].toJ().mixedAdd(t[p]),g[2]=t[d].toJ().mixedAdd(t[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],y=getJSF$1(r[d],r[p]);for(f=Math.max(y[0].length,f),c[d]=new Array(f),c[p]=new Array(f),s=0;s<f;s++){var b=0|y[0][s],v=0|y[1][s];c[d][s]=m[3*(b+1)+(v+1)],c[p][s]=0,l[d]=g}}else c[d]=getNAF$1(r[d],u[d],this._bitLength),c[p]=getNAF$1(r[p],u[p],this._bitLength),f=Math.max(c[d].length,f),f=Math.max(c[p].length,f)}var _=this.jpoint(null,null,null),$=this._wnafT4;for(o=f;o>=0;o--){for(var w=0;o>=0;){var E=!0;for(s=0;s<n;s++)$[s]=0|c[s][o],0!==$[s]&&(E=!1);if(!E)break;w++,o--}if(o>=0&&w++,_=_.dblp(w),o<0)break;for(s=0;s<n;s++){var S=$[s];0!==S&&(S>0?a=l[s][S-1>>1]:S<0&&(a=l[s][-S-1>>1].neg()),_="affine"===a.type?_.mixedAdd(a):_.add(a))}}for(o=0;o<n;o++)l[o]=null;return i?_:_.toP()},BaseCurve$1.BasePoint=BasePoint$1,BasePoint$1.prototype.eq=function(){throw new Error("Not implemented")},BasePoint$1.prototype.validate=function(){return this.curve.validate(this)},BaseCurve$1.prototype.decodePoint=function(e,t){e=utils_1$1$1.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?assert$1$1(e[e.length-1]%2==0):7===e[0]&&assert$1$1(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},BasePoint$1.prototype.encodeCompressed=function(e){return this.encode(e,!0)},BasePoint$1.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},BasePoint$1.prototype.encode=function(e,t){return utils_1$1$1.encode(this._encode(t),e)},BasePoint$1.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},BasePoint$1.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},BasePoint$1.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},BasePoint$1.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},BasePoint$1.prototype._getBeta=function(){return null},BasePoint$1.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var inherits_browser$1=createCommonjsModule$1((function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),assert$2$1=utils_1$1$1.assert;function ShortCurve$1(e){base$2.call(this,"short",e),this.a=new _BN(e.a,16).toRed(this.red),this.b=new _BN(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits_browser$1(ShortCurve$1,base$2);var short_1=ShortCurve$1;function Point$3(e,t,r,n){base$2.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new _BN(t,16),this.y=new _BN(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function JPoint$1(e,t,r,n){base$2.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new _BN(0)):(this.x=new _BN(t,16),this.y=new _BN(r,16),this.z=new _BN(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}ShortCurve$1.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new _BN(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new _BN(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],assert$2$1(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new _BN(e.a,16),b:new _BN(e.b,16)}})):this._getEndoBasis(r)}}},ShortCurve$1.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:_BN.mont(e),r=new _BN(2).toRed(t).redInvm(),n=r.redNeg(),i=new _BN(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},ShortCurve$1.prototype._getEndoBasis=function(e){for(var t,r,n,i,o,s,a,u,l,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,h=this.n.clone(),d=new _BN(1),p=new _BN(0),g=new _BN(0),m=new _BN(1),y=0;0!==f.cmpn(0);){var b=h.div(f);u=h.sub(b.mul(f)),l=g.sub(b.mul(d));var v=m.sub(b.mul(p));if(!n&&u.cmp(c)<0)t=a.neg(),r=d,n=u.neg(),i=l;else if(n&&2==++y)break;a=u,h=f,f=u,g=d,d=l,m=p,p=v}o=u.neg(),s=l;var _=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(_)>=0&&(o=t,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},ShortCurve$1.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),l=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:u.add(l).neg()}},ShortCurve$1.prototype.pointFromX=function(e,t){(e=new _BN(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},ShortCurve$1.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},ShortCurve$1.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var l=this._wnafMulAdd(1,n,i,2*o,r),c=0;c<2*o;c++)n[c]=null,i[c]=null;return l},inherits_browser$1(Point$3,base$2.BasePoint),ShortCurve$1.prototype.point=function(e,t,r){return new Point$3(this,e,t,r)},ShortCurve$1.prototype.pointFromJSON=function(e,t){return Point$3.fromJSON(this,e,t)},Point$3.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},Point$3.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point$3.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},Point$3.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point$3.prototype.isInfinity=function(){return this.inf},Point$3.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Point$3.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},Point$3.prototype.getX=function(){return this.x.fromRed()},Point$3.prototype.getY=function(){return this.y.fromRed()},Point$3.prototype.mul=function(e){return e=new _BN(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Point$3.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Point$3.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Point$3.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},Point$3.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},Point$3.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},inherits_browser$1(JPoint$1,base$2.BasePoint),ShortCurve$1.prototype.jpoint=function(e,t,r){return new JPoint$1(this,e,t,r)},JPoint$1.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},JPoint$1.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint$1.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),c=l.redMul(a),f=n.redMul(l),h=u.redSqr().redIAdd(c).redISub(f).redISub(f),d=u.redMul(f.redISub(h)).redISub(o.redMul(c)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(h,d,p)},JPoint$1.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),l=u.redMul(s),c=r.redMul(u),f=a.redSqr().redIAdd(l).redISub(c).redISub(c),h=a.redMul(c.redISub(f)).redISub(i.redMul(l)),d=this.z.redMul(s);return this.curve.jpoint(f,h,d)},JPoint$1.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),l=s.redAdd(s);for(t=0;t<e;t++){var c=o.redSqr(),f=l.redSqr(),h=f.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(u)),p=o.redMul(f),g=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),y=d.redMul(m);y=y.redIAdd(y).redISub(h);var b=l.redMul(a);t+1<e&&(u=u.redMul(h)),o=g,a=b,l=y}return this.curve.jpoint(o,l.redMul(i),a)},JPoint$1.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint$1.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=u,t=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(c).redISub(h);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),g=p.redSqr(),m=h.redIAdd(h);m=(m=m.redIAdd(m)).redIAdd(m),e=g.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},JPoint$1.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);e=u;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),f=this.y.redSqr(),h=this.x.redMul(f),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=h.redIAdd(h),g=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(c);var m=f.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=d.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},JPoint$1.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),u=t.redAdd(t),l=(u=u.redIAdd(u)).redMul(s),c=a.redSqr().redISub(l.redAdd(l)),f=l.redISub(c),h=s.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=a.redMul(f).redISub(h),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,d,p)},JPoint$1.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),c=t.redMul(l);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.x.redMul(a).redISub(c);f=(f=f.redIAdd(f)).redIAdd(f);var h=this.y.redMul(l.redMul(u.redISub(l)).redISub(s.redMul(a)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(f,h,d)},JPoint$1.prototype.mul=function(e,t){return e=new _BN(e,t),this.curve._wnafMul(this,e)},JPoint$1.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},JPoint$1.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},JPoint$1.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint$1.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var curve_1=createCommonjsModule$1((function(e,t){var r=t;r.base=base$2,r.short=short_1,r.mont=null,r.edwards=null})),curves_1=createCommonjsModule$1((function(t,r){var n,i=r,o=utils_1$1$1.assert;function s(e){"short"===e.type?this.curve=new curve_1.short(e):"edwards"===e.type?this.curve=new curve_1.edwards(e):this.curve=new curve_1.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new s(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=s,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash$4.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash$4.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash$4.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash$4.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash$4.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$4.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$4.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=null.crash()}catch(e){n=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash$4.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})}));function HmacDRBG$2(e){if(!(this instanceof HmacDRBG$2))return new HmacDRBG$2(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=utils_1$2.toArray(e.entropy,e.entropyEnc||"hex"),r=utils_1$2.toArray(e.nonce,e.nonceEnc||"hex"),n=utils_1$2.toArray(e.pers,e.persEnc||"hex");minimalisticAssert(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var hmacDrbg$1=HmacDRBG$2;HmacDRBG$2.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},HmacDRBG$2.prototype._hmac=function(){return new hash$4.hmac(this.hash,this.K)},HmacDRBG$2.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG$2.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=utils_1$2.toArray(e,t),r=utils_1$2.toArray(r,n),minimalisticAssert(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},HmacDRBG$2.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=utils_1$2.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(r),this._reseed++,utils_1$2.encode(o,t)};var assert$3$1=utils_1$1$1.assert;function KeyPair$4(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var key$2=KeyPair$4;KeyPair$4.fromPublic=function(e,t,r){return t instanceof KeyPair$4?t:new KeyPair$4(e,{pub:t,pubEnc:r})},KeyPair$4.fromPrivate=function(e,t,r){return t instanceof KeyPair$4?t:new KeyPair$4(e,{priv:t,privEnc:r})},KeyPair$4.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair$4.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},KeyPair$4.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},KeyPair$4.prototype._importPrivate=function(e,t){this.priv=new _BN(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair$4.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?assert$3$1(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||assert$3$1(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},KeyPair$4.prototype.derive=function(e){return e.validate()||assert$3$1(e.validate(),"public point not validated"),e.mul(this.priv).getX()},KeyPair$4.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},KeyPair$4.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},KeyPair$4.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var assert$4$1=utils_1$1$1.assert;function Signature$4(e,t){if(e instanceof Signature$4)return e;this._importDER(e,t)||(assert$4$1(e.r&&e.s,"Signature without r or s"),this.r=new _BN(e.r,16),this.s=new _BN(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var signature$3=Signature$4;function Position$1(){this.place=0}function getLength$2(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function rmPadding$1(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function constructLength$1(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}Signature$4.prototype._importDER=function(e,t){e=utils_1$1$1.toArray(e,t);var r=new Position$1;if(48!==e[r.place++])return!1;var n=getLength$2(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=getLength$2(e,r);if(!1===i)return!1;var o=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var s=getLength$2(e,r);if(!1===s)return!1;if(e.length!==s+r.place)return!1;var a=e.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new _BN(o),this.s=new _BN(a),this.recoveryParam=null,!0},Signature$4.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=rmPadding$1(t),r=rmPadding$1(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];constructLength$1(n,t.length),(n=n.concat(t)).push(2),constructLength$1(n,r.length);var i=n.concat(r),o=[48];return constructLength$1(o,i.length),o=o.concat(i),utils_1$1$1.encode(o,e)};var rand$1=function(){throw new Error("unsupported")},assert$5$1=utils_1$1$1.assert;function EC$4(e){if(!(this instanceof EC$4))return new EC$4(e);"string"==typeof e&&(assert$5$1(Object.prototype.hasOwnProperty.call(curves_1,e),"Unknown curve "+e),e=curves_1[e]),e instanceof curves_1.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var ec$4=EC$4;EC$4.prototype.keyPair=function(e){return new key$2(this,e)},EC$4.prototype.keyFromPrivate=function(e,t){return key$2.fromPrivate(this,e,t)},EC$4.prototype.keyFromPublic=function(e,t){return key$2.fromPublic(this,e,t)},EC$4.prototype.genKeyPair=function(e){e||(e={});for(var t=new hmacDrbg$1({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||rand$1(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new _BN(2));;){var i=new _BN(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},EC$4.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},EC$4.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new _BN(e,16));for(var i=this.n.byteLength(),o=t.getPrivate().toArray("be",i),s=e.toArray("be",i),a=new hmacDrbg$1({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new _BN(1)),l=0;;l++){var c=n.k?n.k(l):new _BN(a.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||c.cmp(u)>=0)){var f=this.g.mul(c);if(!f.isInfinity()){var h=f.getX(),d=h.umod(this.n);if(0!==d.cmpn(0)){var p=c.invm(this.n).mul(d.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var g=(f.getY().isOdd()?1:0)|(0!==h.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),g^=1),new signature$3({r:d,s:p,recoveryParam:g})}}}}}},EC$4.prototype.verify=function(e,t,r,n){e=this._truncateToN(new _BN(e,16)),r=this.keyFromPublic(r,n);var i=(t=new signature$3(t,"hex")).r,o=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),u=a.mul(e).umod(this.n),l=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,r.getPublic(),l)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(u,r.getPublic(),l)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},EC$4.prototype.recoverPubKey=function(e,t,r,n){assert$5$1((3&r)===r,"The recovery param is more than two bits"),t=new signature$3(t,n);var i=this.n,o=new _BN(e),s=t.r,a=t.s,u=1&r,l=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");s=l?this.curve.pointFromX(s.add(this.curve.n),u):this.curve.pointFromX(s,u);var c=t.r.invm(i),f=i.sub(o).mul(c).umod(i),h=a.mul(c).umod(i);return this.g.mulAdd(f,s,h)},EC$4.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new signature$3(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var elliptic_1=createCommonjsModule$1((function(e,t){var r=t;r.version="6.5.4",r.utils=utils_1$1$1,r.rand=function(){throw new Error("unsupported")},r.curve=curve_1,r.curves=curves_1,r.ec=ec$4,r.eddsa=null})),EC$1$1=elliptic_1.ec;const version$i="signing-key/5.6.0",logger$g=new Logger$1(version$i);let _curve=null;function getCurve(){return _curve||(_curve=new EC$1$1("secp256k1")),_curve}class SigningKey{constructor(e){defineReadOnly(this,"curve","secp256k1"),defineReadOnly(this,"privateKey",hexlify$1(e));const t=getCurve().keyFromPrivate(arrayify$1(this.privateKey));defineReadOnly(this,"publicKey","0x"+t.getPublic(!1,"hex")),defineReadOnly(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),defineReadOnly(this,"_isSigningKey",!0)}_addPoint(e){const t=getCurve().keyFromPublic(arrayify$1(this.publicKey)),r=getCurve().keyFromPublic(arrayify$1(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const t=getCurve().keyFromPrivate(arrayify$1(this.privateKey)),r=arrayify$1(e);32!==r.length&&logger$g.throwArgumentError("bad digest length","digest",e);const n=t.sign(r,{canonical:!0});return splitSignature({recoveryParam:n.recoveryParam,r:hexZeroPad("0x"+n.r.toString(16),32),s:hexZeroPad("0x"+n.s.toString(16),32)})}computeSharedSecret(e){const t=getCurve().keyFromPrivate(arrayify$1(this.privateKey)),r=getCurve().keyFromPublic(arrayify$1(computePublicKey(e)));return hexZeroPad("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!(!e||!e._isSigningKey)}}function recoverPublicKey$1(e,t){const r=splitSignature(t),n={r:arrayify$1(r.r),s:arrayify$1(r.s)};return"0x"+getCurve().recoverPubKey(arrayify$1(e),n,r.recoveryParam).encode("hex",!1)}function computePublicKey(e,t){const r=arrayify$1(e);if(32===r.length){const e=new SigningKey(r);return t?"0x"+getCurve().keyFromPrivate(r).getPublic(!0,"hex"):e.publicKey}return 33===r.length?t?hexlify$1(r):"0x"+getCurve().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+getCurve().keyFromPublic(r).getPublic(!0,"hex"):hexlify$1(r):logger$g.throwArgumentError("invalid public or private key","key","[REDACTED]")}const version$h="transactions/5.5.0",logger$f=new Logger$1(version$h);var TransactionTypes;function handleAddress(e){return"0x"===e?null:getAddress(e)}function handleNumber(e){return"0x"===e?Zero:BigNumber.from(e)}!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(TransactionTypes||(TransactionTypes={}));const transactionFields=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],allowedTransactionKeys$2={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function computeAddress(e){return getAddress(hexDataSlice(keccak256(hexDataSlice(computePublicKey(e),1)),12))}function recoverAddress(e,t){return computeAddress(recoverPublicKey$1(arrayify$1(e),t))}function formatNumber(e,t){const r=stripZeros(BigNumber.from(e).toHexString());return r.length>32&&logger$f.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function accessSetify(e,t){return{address:getAddress(e),storageKeys:(t||[]).map(((t,r)=>(32!==hexDataLength(t)&&logger$f.throwArgumentError("invalid access list storageKey",`accessList[${e}:${r}]`,t),t.toLowerCase())))}}function accessListify(e){if(Array.isArray(e))return e.map(((e,t)=>Array.isArray(e)?(e.length>2&&logger$f.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),accessSetify(e[0],e[1])):accessSetify(e.address,e.storageKeys)));const t=Object.keys(e).map((t=>{const r=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return accessSetify(t,Object.keys(r).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}function formatAccessList(e){return accessListify(e).map((e=>[e.address,e.storageKeys]))}function _serializeEip1559(e,t){if(null!=e.gasPrice){const t=BigNumber.from(e.gasPrice),r=BigNumber.from(e.maxFeePerGas||0);t.eq(r)||logger$f.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:r})}const r=[formatNumber(e.chainId||0,"chainId"),formatNumber(e.nonce||0,"nonce"),formatNumber(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(e.maxFeePerGas||0,"maxFeePerGas"),formatNumber(e.gasLimit||0,"gasLimit"),null!=e.to?getAddress(e.to):"0x",formatNumber(e.value||0,"value"),e.data||"0x",formatAccessList(e.accessList||[])];if(t){const e=splitSignature(t);r.push(formatNumber(e.recoveryParam,"recoveryParam")),r.push(stripZeros(e.r)),r.push(stripZeros(e.s))}return hexConcat(["0x02",encode$5(r)])}function _serializeEip2930(e,t){const r=[formatNumber(e.chainId||0,"chainId"),formatNumber(e.nonce||0,"nonce"),formatNumber(e.gasPrice||0,"gasPrice"),formatNumber(e.gasLimit||0,"gasLimit"),null!=e.to?getAddress(e.to):"0x",formatNumber(e.value||0,"value"),e.data||"0x",formatAccessList(e.accessList||[])];if(t){const e=splitSignature(t);r.push(formatNumber(e.recoveryParam,"recoveryParam")),r.push(stripZeros(e.r)),r.push(stripZeros(e.s))}return hexConcat(["0x01",encode$5(r)])}function _serialize(e,t){checkProperties(e,allowedTransactionKeys$2);const r=[];transactionFields.forEach((function(t){let n=e[t.name]||[];const i={};t.numeric&&(i.hexPad="left"),n=arrayify$1(hexlify$1(n,i)),t.length&&n.length!==t.length&&n.length>0&&logger$f.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n),t.maxLength&&(n=stripZeros(n),n.length>t.maxLength&&logger$f.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n)),r.push(hexlify$1(n))}));let n=0;if(null!=e.chainId?(n=e.chainId,"number"!=typeof n&&logger$f.throwArgumentError("invalid transaction.chainId","transaction",e)):t&&!isBytesLike$1(t)&&t.v>28&&(n=Math.floor((t.v-35)/2)),0!==n&&(r.push(hexlify$1(n)),r.push("0x"),r.push("0x")),!t)return encode$5(r);const i=splitSignature(t);let o=27+i.recoveryParam;return 0!==n?(r.pop(),r.pop(),r.pop(),o+=2*n+8,i.v>28&&i.v!==o&&logger$f.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)):i.v!==o&&logger$f.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t),r.push(hexlify$1(o)),r.push(stripZeros(arrayify$1(i.r))),r.push(stripZeros(arrayify$1(i.s))),encode$5(r)}function serialize(e,t){if(null==e.type||0===e.type)return null!=e.accessList&&logger$f.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e),_serialize(e,t);switch(e.type){case 1:return _serializeEip2930(e,t);case 2:return _serializeEip1559(e,t)}return logger$f.throwError(`unsupported transaction type: ${e.type}`,Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})}function _parseEipSignature(e,t,r){try{const r=handleNumber(t[0]).toNumber();if(0!==r&&1!==r)throw new Error("bad recid");e.v=r}catch(error){logger$f.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=hexZeroPad(t[1],32),e.s=hexZeroPad(t[2],32);try{const t=keccak256(r(e));e.from=recoverAddress(t,{r:e.r,s:e.s,recoveryParam:e.v})}catch(error){console.log(error)}}function _parseEip1559(e){const t=decode$7(e.slice(1));9!==t.length&&12!==t.length&&logger$f.throwArgumentError("invalid component count for transaction type: 2","payload",hexlify$1(e));const r=handleNumber(t[2]),n=handleNumber(t[3]),i={type:2,chainId:handleNumber(t[0]).toNumber(),nonce:handleNumber(t[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:handleNumber(t[4]),to:handleAddress(t[5]),value:handleNumber(t[6]),data:t[7],accessList:accessListify(t[8])};return 9===t.length||(i.hash=keccak256(e),_parseEipSignature(i,t.slice(9),_serializeEip1559)),i}function _parseEip2930(e){const t=decode$7(e.slice(1));8!==t.length&&11!==t.length&&logger$f.throwArgumentError("invalid component count for transaction type: 1","payload",hexlify$1(e));const r={type:1,chainId:handleNumber(t[0]).toNumber(),nonce:handleNumber(t[1]).toNumber(),gasPrice:handleNumber(t[2]),gasLimit:handleNumber(t[3]),to:handleAddress(t[4]),value:handleNumber(t[5]),data:t[6],accessList:accessListify(t[7])};return 8===t.length||(r.hash=keccak256(e),_parseEipSignature(r,t.slice(8),_serializeEip2930)),r}function _parse(e){const t=decode$7(e);9!==t.length&&6!==t.length&&logger$f.throwArgumentError("invalid raw transaction","rawTransaction",e);const r={nonce:handleNumber(t[0]).toNumber(),gasPrice:handleNumber(t[1]),gasLimit:handleNumber(t[2]),to:handleAddress(t[3]),value:handleNumber(t[4]),data:t[5],chainId:0};if(6===t.length)return r;try{r.v=BigNumber.from(t[6]).toNumber()}catch(error){return console.log(error),r}if(r.r=hexZeroPad(t[7],32),r.s=hexZeroPad(t[8],32),BigNumber.from(r.r).isZero()&&BigNumber.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=t.slice(0,6);0!==r.chainId&&(i.push(hexlify$1(r.chainId)),i.push("0x"),i.push("0x"),n-=2*r.chainId+8);const o=keccak256(encode$5(i));try{r.from=recoverAddress(o,{r:hexlify$1(r.r),s:hexlify$1(r.s),recoveryParam:n})}catch(error){console.log(error)}r.hash=keccak256(e)}return r.type=null,r}function parse$2(e){const t=arrayify$1(e);if(t[0]>127)return _parse(t);switch(t[0]){case 1:return _parseEip2930(t);case 2:return _parseEip1559(t)}return logger$f.throwError(`unsupported transaction type: ${t[0]}`,Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}var lib_esm$3=Object.freeze(Object.defineProperty({__proto__:null,get TransactionTypes(){return TransactionTypes},computeAddress:computeAddress,recoverAddress:recoverAddress,accessListify:accessListify,serialize:serialize,parse:parse$2},Symbol.toStringTag,{value:"Module"})),require$$17=getAugmentedNamespace(lib_esm$3);const version$g="units/5.5.0",logger$e=new Logger$g(version$g),names$1=["wei","kwei","mwei","gwei","szabo","finney","ether"];function commify(e){const t=String(e).split(".");(t.length>2||!t[0].match(/^-?[0-9]*$/)||t[1]&&!t[1].match(/^[0-9]*$/)||"."===e||"-."===e)&&logger$e.throwArgumentError("invalid value","value",e);let r=t[0],n="";for("-"===r.substring(0,1)&&(n="-",r=r.substring(1));"0"===r.substring(0,1);)r=r.substring(1);""===r&&(r="0");let i="";for(2===t.length&&(i="."+(t[1]||"0"));i.length>2&&"0"===i[i.length-1];)i=i.substring(0,i.length-1);const o=[];for(;r.length;){if(r.length<=3){o.unshift(r);break}{const e=r.length-3;o.unshift(r.substring(e)),r=r.substring(0,e)}}return n+o.join(",")+i}function formatUnits(e,t){if("string"==typeof t){const e=names$1.indexOf(t);-1!==e&&(t=3*e)}return formatFixed(e,null!=t?t:18)}function parseUnits(e,t){if("string"!=typeof e&&logger$e.throwArgumentError("value must be a string","value",e),"string"==typeof t){const e=names$1.indexOf(t);-1!==e&&(t=3*e)}return parseFixed(e,null!=t?t:18)}function formatEther(e){return formatUnits(e,18)}function parseEther(e){return parseUnits(e,18)}var lib_esm$2=Object.freeze(Object.defineProperty({__proto__:null,commify:commify,formatUnits:formatUnits,parseUnits:parseUnits,formatEther:formatEther,parseEther:parseEther},Symbol.toStringTag,{value:"Module"})),require$$18=getAugmentedNamespace(lib_esm$2);const version$f="abstract-provider/5.6.0";var __awaiter$a=globalThis&&globalThis.__awaiter||function(t,r,n,i){return new(n||(n=Promise))((function(o,s){function a(t){try{l(i.next(t))}catch(e){s(e)}}function u(t){try{l(i.throw(t))}catch(e){s(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,u)}l((i=i.apply(t,r||[])).next())}))};const logger$d=new Logger$g(version$f);class ForkEvent extends Description$1{static isForkEvent(e){return!(!e||!e._isForkEvent)}}class Provider{constructor(){logger$d.checkAbstract(new.target,Provider),defineReadOnly$6(this,"_isProvider",!0)}getFeeData(){return __awaiter$a(this,void 0,void 0,(function*(){const{block:e,gasPrice:t}=yield resolveProperties$1({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((e=>null))});let r=null,n=null;return e&&e.baseFeePerGas&&(n=BigNumber$4.from("1500000000"),r=e.baseFeePerGas.mul(2).add(n)),{maxFeePerGas:r,maxPriorityFeePerGas:n,gasPrice:t}}))}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!(!e||!e._isProvider)}}const version$e="abstract-signer/5.6.0";var __awaiter$9=globalThis&&globalThis.__awaiter||function(t,r,n,i){return new(n||(n=Promise))((function(o,s){function a(t){try{l(i.next(t))}catch(e){s(e)}}function u(t){try{l(i.throw(t))}catch(e){s(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,u)}l((i=i.apply(t,r||[])).next())}))};const logger$c=new Logger$g(version$e),allowedTransactionKeys$1=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],forwardErrors=[Logger$g.errors.INSUFFICIENT_FUNDS,Logger$g.errors.NONCE_EXPIRED,Logger$g.errors.REPLACEMENT_UNDERPRICED];class Signer{constructor(){logger$c.checkAbstract(new.target,Signer),defineReadOnly$6(this,"_isSigner",!0)}getBalance(e){return __awaiter$9(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)}))}getTransactionCount(e){return __awaiter$9(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)}))}estimateGas(e){return __awaiter$9(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const t=yield resolveProperties$1(this.checkTransaction(e));return yield this.provider.estimateGas(t)}))}call(e,t){return __awaiter$9(this,void 0,void 0,(function*(){this._checkProvider("call");const r=yield resolveProperties$1(this.checkTransaction(e));return yield this.provider.call(r,t)}))}sendTransaction(e){return __awaiter$9(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),r=yield this.signTransaction(t);return yield this.provider.sendTransaction(r)}))}getChainId(){return __awaiter$9(this,void 0,void 0,(function*(){this._checkProvider("getChainId");return(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return __awaiter$9(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return __awaiter$9(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(e){return __awaiter$9(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)}))}checkTransaction(e){for(const r in e)-1===allowedTransactionKeys$1.indexOf(r)&&logger$c.throwArgumentError("invalid transaction key: "+r,"transaction",e);const t=shallowCopy$3(e);return null==t.from?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then((t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&logger$c.throwArgumentError("from address mismatch","transaction",e),t[0]))),t}populateTransaction(e){return __awaiter$9(this,void 0,void 0,(function*(){const t=yield resolveProperties$1(this.checkTransaction(e));null!=t.to&&(t.to=Promise.resolve(t.to).then((e=>__awaiter$9(this,void 0,void 0,(function*(){if(null==e)return null;const t=yield this.resolveName(e);return null==t&&logger$c.throwArgumentError("provided ENS name resolves to null","tx.to",e),t})))),t.to.catch((e=>{})));const r=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas;if(null==t.gasPrice||2!==t.type&&!r?0!==t.type&&1!==t.type||!r||logger$c.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e):logger$c.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e),2!==t.type&&null!=t.type||null==t.maxFeePerGas||null==t.maxPriorityFeePerGas)if(0===t.type||1===t.type)null==t.gasPrice&&(t.gasPrice=this.getGasPrice());else{const e=yield this.getFeeData();if(null==t.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(t.type=2,null!=t.gasPrice){const e=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=e,t.maxPriorityFeePerGas=e}else null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(r&&logger$c.throwError("network does not support EIP-1559",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=e.gasPrice),t.type=0):logger$c.throwError("failed to get consistent fee data",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else t.type=2;return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch((e=>{if(forwardErrors.indexOf(e.code)>=0)throw e;return logger$c.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger$g.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})}))),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then((t=>(0!==t[1]&&t[0]!==t[1]&&logger$c.throwArgumentError("chainId address mismatch","transaction",e),t[0]))),yield resolveProperties$1(t)}))}_checkProvider(e){this.provider||logger$c.throwError("missing provider",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!(!e||!e._isSigner)}}const version$d="json-wallets/5.6.0";function looseArrayify(e){return"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),arrayify$e(e)}function zpad(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function getPassword(e){return"string"==typeof e?toUtf8Bytes$4(e,UnicodeNormalizationForm$4.NFKC):arrayify$e(e)}function searchPath(e,t){let r=e;const n=t.toLowerCase().split("/");for(let i=0;i<n.length;i++){let e=null;for(const t in r)if(t.toLowerCase()===n[i]){e=r[t];break}if(null===e)return null;r=e}return r}function uuidV4(e){const t=arrayify$e(e);t[6]=15&t[6]|64,t[8]=63&t[8]|128;const r=hexlify$9(t);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const logger$b=new Logger$g(version$d);class CrowdsaleAccount extends Description$1{isCrowdsaleAccount(e){return!(!e||!e._isCrowdsaleAccount)}}function decrypt$3(e,t){const r=JSON.parse(e);t=getPassword(t);const n=getAddress$4(searchPath(r,"ethaddr")),i=looseArrayify(searchPath(r,"encseed"));i&&i.length%16==0||logger$b.throwArgumentError("invalid encseed","json",e);const o=arrayify$e(pbkdf2$2(t,t,2e3,32,"sha256")).slice(0,16),s=i.slice(0,16),a=i.slice(16),u=new aes.ModeOfOperation.cbc(o,s),l=aes.padding.pkcs7.strip(arrayify$e(u.decrypt(a)));let c="";for(let h=0;h<l.length;h++)c+=String.fromCharCode(l[h]);const f=keccak256$6(toUtf8Bytes$4(c));return new CrowdsaleAccount({_isCrowdsaleAccount:!0,address:n,privateKey:f})}function isCrowdsaleWallet(e){let t=null;try{t=JSON.parse(e)}catch(error){return!1}return t.encseed&&t.ethaddr}function isKeystoreWallet(e){let t=null;try{t=JSON.parse(e)}catch(error){return!1}return!(!t.version||parseInt(t.version)!==t.version||3!==parseInt(t.version))}var __awaiter$8=globalThis&&globalThis.__awaiter||function(t,r,n,i){return new(n||(n=Promise))((function(o,s){function a(t){try{l(i.next(t))}catch(e){s(e)}}function u(t){try{l(i.throw(t))}catch(e){s(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,u)}l((i=i.apply(t,r||[])).next())}))};const logger$a=new Logger$g(version$d);function hasMnemonic$1(e){return null!=e&&e.mnemonic&&e.mnemonic.phrase}class KeystoreAccount extends Description$1{isKeystoreAccount(e){return!(!e||!e._isKeystoreAccount)}}function _decrypt(e,t,r){if("aes-128-ctr"===searchPath(e,"crypto/cipher")){const n=looseArrayify(searchPath(e,"crypto/cipherparams/iv")),i=new aes.Counter(n);return arrayify$e(new aes.ModeOfOperation.ctr(t,i).decrypt(r))}return null}function _getAccount(e,t){const r=looseArrayify(searchPath(e,"crypto/ciphertext"));if(hexlify$9(keccak256$6(concat$7([t.slice(16,32),r]))).substring(2)!==searchPath(e,"crypto/mac").toLowerCase())throw new Error("invalid password");const n=_decrypt(e,t.slice(0,16),r);n||logger$a.throwError("unsupported cipher",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const i=t.slice(32,64),o=computeAddress$1(n);if(e.address){let t=e.address.toLowerCase();if("0x"!==t.substring(0,2)&&(t="0x"+t),getAddress$4(t)!==o)throw new Error("address mismatch")}const s={_isKeystoreAccount:!0,address:o,privateKey:hexlify$9(n)};if("0.1"===searchPath(e,"x-ethers/version")){const t=looseArrayify(searchPath(e,"x-ethers/mnemonicCiphertext")),r=looseArrayify(searchPath(e,"x-ethers/mnemonicCounter")),n=new aes.Counter(r),o=new aes.ModeOfOperation.ctr(i,n),a=searchPath(e,"x-ethers/path")||defaultPath,u=searchPath(e,"x-ethers/locale")||"en",l=arrayify$e(o.decrypt(t));try{const e=entropyToMnemonic(l,u),t=HDNode.fromMnemonic(e,null,u).derivePath(a);if(t.privateKey!=s.privateKey)throw new Error("mnemonic mismatch");s.mnemonic=t.mnemonic}catch(error){if(error.code!==Logger$g.errors.INVALID_ARGUMENT||"wordlist"!==error.argument)throw error}}return new KeystoreAccount(s)}function pbkdf2Sync(e,t,r,n,i){return arrayify$e(pbkdf2$2(e,t,r,n,i))}function pbkdf2(e,t,r,n,i){return Promise.resolve(pbkdf2Sync(e,t,r,n,i))}function _computeKdfKey(e,t,r,n,i){const o=getPassword(t),s=searchPath(e,"crypto/kdf");if(s&&"string"==typeof s){const t=function(e,t){return logger$a.throwArgumentError("invalid key-derivation function parameters",e,t)};if("scrypt"===s.toLowerCase()){const r=looseArrayify(searchPath(e,"crypto/kdfparams/salt")),a=parseInt(searchPath(e,"crypto/kdfparams/n")),u=parseInt(searchPath(e,"crypto/kdfparams/r")),l=parseInt(searchPath(e,"crypto/kdfparams/p"));a&&u&&l||t("kdf",s),0!=(a&a-1)&&t("N",a);const c=parseInt(searchPath(e,"crypto/kdfparams/dklen"));return 32!==c&&t("dklen",c),n(o,r,a,u,l,64,i)}if("pbkdf2"===s.toLowerCase()){const n=looseArrayify(searchPath(e,"crypto/kdfparams/salt"));let i=null;const s=searchPath(e,"crypto/kdfparams/prf");"hmac-sha256"===s?i="sha256":"hmac-sha512"===s?i="sha512":t("prf",s);const a=parseInt(searchPath(e,"crypto/kdfparams/c")),u=parseInt(searchPath(e,"crypto/kdfparams/dklen"));return 32!==u&&t("dklen",u),r(o,n,a,u,i)}}return logger$a.throwArgumentError("unsupported key-derivation function","kdf",s)}function decryptSync(e,t){const r=JSON.parse(e);return _getAccount(r,_computeKdfKey(r,t,pbkdf2Sync,scrypt.syncScrypt))}function decrypt$2(e,t,r){return __awaiter$8(this,void 0,void 0,(function*(){const n=JSON.parse(e);return _getAccount(n,yield _computeKdfKey(n,t,pbkdf2,scrypt.scrypt,r))}))}function encrypt$2(t,r,n,i){try{if(getAddress$4(t.address)!==computeAddress$1(t.privateKey))throw new Error("address/privateKey mismatch");if(hasMnemonic$1(t)){const e=t.mnemonic;if(HDNode.fromMnemonic(e.phrase,null,e.locale).derivePath(e.path||defaultPath).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(e){return Promise.reject(e)}"function"!=typeof n||i||(i=n,n={}),n||(n={});const o=arrayify$e(t.privateKey),s=getPassword(r);let a=null,u=null,l=null;if(hasMnemonic$1(t)){const e=t.mnemonic;a=arrayify$e(mnemonicToEntropy(e.phrase,e.locale||"en")),u=e.path||defaultPath,l=e.locale||"en"}let c=n.client;c||(c="ethers.js");let f=null;f=n.salt?arrayify$e(n.salt):randomBytes$3(32);let h=null;if(n.iv){if(h=arrayify$e(n.iv),16!==h.length)throw new Error("invalid iv")}else h=randomBytes$3(16);let d=null;if(n.uuid){if(d=arrayify$e(n.uuid),16!==d.length)throw new Error("invalid uuid")}else d=randomBytes$3(16);let p=1<<17,g=8,m=1;return n.scrypt&&(n.scrypt.N&&(p=n.scrypt.N),n.scrypt.r&&(g=n.scrypt.r),n.scrypt.p&&(m=n.scrypt.p)),scrypt.scrypt(s,f,p,g,m,64,i).then((e=>{const r=(e=arrayify$e(e)).slice(0,16),n=e.slice(16,32),i=e.slice(32,64),s=new aes.Counter(h),y=arrayify$e(new aes.ModeOfOperation.ctr(r,s).encrypt(o)),b=keccak256$6(concat$7([n,y])),v={address:t.address.substring(2).toLowerCase(),id:uuidV4(d),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:hexlify$9(h).substring(2)},ciphertext:hexlify$9(y).substring(2),kdf:"scrypt",kdfparams:{salt:hexlify$9(f).substring(2),n:p,dklen:32,p:m,r:g},mac:b.substring(2)}};if(a){const e=randomBytes$3(16),t=new aes.Counter(e),r=arrayify$e(new aes.ModeOfOperation.ctr(i,t).encrypt(a)),n=new Date,o=n.getUTCFullYear()+"-"+zpad(n.getUTCMonth()+1,2)+"-"+zpad(n.getUTCDate(),2)+"T"+zpad(n.getUTCHours(),2)+"-"+zpad(n.getUTCMinutes(),2)+"-"+zpad(n.getUTCSeconds(),2)+".0Z";v["x-ethers"]={client:c,gethFilename:"UTC--"+o+"--"+v.address,mnemonicCounter:hexlify$9(e).substring(2),mnemonicCiphertext:hexlify$9(r).substring(2),path:u,locale:l,version:"0.1"}}return JSON.stringify(v)}))}function decryptJsonWallet(e,t,r){if(isCrowdsaleWallet(e)){r&&r(0);const n=decrypt$3(e,t);return r&&r(1),Promise.resolve(n)}return isKeystoreWallet(e)?decrypt$2(e,t,r):Promise.reject(new Error("invalid JSON wallet"))}function decryptJsonWalletSync(e,t){if(isCrowdsaleWallet(e))return decrypt$3(e,t);if(isKeystoreWallet(e))return decryptSync(e,t);throw new Error("invalid JSON wallet")}const version$c="wallet/5.5.0";var __awaiter$7=globalThis&&globalThis.__awaiter||function(t,r,n,i){return new(n||(n=Promise))((function(o,s){function a(t){try{l(i.next(t))}catch(e){s(e)}}function u(t){try{l(i.throw(t))}catch(e){s(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,u)}l((i=i.apply(t,r||[])).next())}))};const logger$9=new Logger$g(version$c);function isAccount(e){return null!=e&&isHexString$j(e.privateKey,32)&&null!=e.address}function hasMnemonic(e){const t=e.mnemonic;return t&&t.phrase}class Wallet extends Signer{constructor(e,t){if(logger$9.checkNew(new.target,Wallet),super(),isAccount(e)){const t=new SigningKey$2(e.privateKey);if(defineReadOnly$6(this,"_signingKey",(()=>t)),defineReadOnly$6(this,"address",computeAddress$1(this.publicKey)),this.address!==getAddress$4(e.address)&&logger$9.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),hasMnemonic(e)){const t=e.mnemonic;defineReadOnly$6(this,"_mnemonic",(()=>({phrase:t.phrase,path:t.path||defaultPath,locale:t.locale||"en"})));const r=this.mnemonic;computeAddress$1(HDNode.fromMnemonic(r.phrase,null,r.locale).derivePath(r.path).privateKey)!==this.address&&logger$9.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else defineReadOnly$6(this,"_mnemonic",(()=>null))}else{if(SigningKey$2.isSigningKey(e))"secp256k1"!==e.curve&&logger$9.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),defineReadOnly$6(this,"_signingKey",(()=>e));else{"string"==typeof e&&e.match(/^[0-9a-f]*$/i)&&64===e.length&&(e="0x"+e);const t=new SigningKey$2(e);defineReadOnly$6(this,"_signingKey",(()=>t))}defineReadOnly$6(this,"_mnemonic",(()=>null)),defineReadOnly$6(this,"address",computeAddress$1(this.publicKey))}t&&!Provider.isProvider(t)&&logger$9.throwArgumentError("invalid provider","provider",t),defineReadOnly$6(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new Wallet(this,e)}signTransaction(e){return resolveProperties$1(e).then((t=>{null!=t.from&&(getAddress$4(t.from)!==this.address&&logger$9.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const r=this._signingKey().signDigest(keccak256$6(serialize$1(t)));return serialize$1(t,r)}))}signMessage(e){return __awaiter$7(this,void 0,void 0,(function*(){return joinSignature$1(this._signingKey().signDigest(hashMessage$1(e)))}))}_signTypedData(e,t,r){return __awaiter$7(this,void 0,void 0,(function*(){const n=yield TypedDataEncoder$1.resolveNames(e,t,r,(e=>(null==this.provider&&logger$9.throwError("cannot resolve ENS names without a provider",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:e}),this.provider.resolveName(e))));return joinSignature$1(this._signingKey().signDigest(TypedDataEncoder$1.hash(n.domain,t,n.value)))}))}encrypt(e,t,r){if("function"!=typeof t||r||(r=t,t={}),r&&"function"!=typeof r)throw new Error("invalid callback");return t||(t={}),encrypt$2(this,e,t,r)}static createRandom(e){let t=randomBytes$3(16);e||(e={}),e.extraEntropy&&(t=arrayify$e(hexDataSlice$4(keccak256$6(concat$7([t,e.extraEntropy])),0,16)));const r=entropyToMnemonic(t,e.locale);return Wallet.fromMnemonic(r,e.path,e.locale)}static fromEncryptedJson(e,t,r){return decryptJsonWallet(e,t,r).then((e=>new Wallet(e)))}static fromEncryptedJsonSync(e,t){return new Wallet(decryptJsonWalletSync(e,t))}static fromMnemonic(e,t,r){return t||(t=defaultPath),new Wallet(HDNode.fromMnemonic(e,null,r).derivePath(t))}}function verifyMessage(e,t){return recoverAddress$1(hashMessage$1(e),t)}function verifyTypedData(e,t,r,n){return recoverAddress$1(TypedDataEncoder$1.hash(e,t,r),n)}var lib_esm$1=Object.freeze(Object.defineProperty({__proto__:null,Wallet:Wallet,verifyMessage:verifyMessage,verifyTypedData:verifyTypedData},Symbol.toStringTag,{value:"Module"})),require$$19=getAugmentedNamespace(lib_esm$1);const version$b="logger/5.6.0";let _permanentCensorErrors=!1,_censorErrors=!1;const LogLevels={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel=LogLevels.default,_globalLogger=null;function _checkNormalize(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(error){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(error){return error.message}return null}const _normalizeError=_checkNormalize();var LogLevel,ErrorCode;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(LogLevel||(LogLevel={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(ErrorCode||(ErrorCode={}));const HEX="0123456789abcdef";class Logger{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==LogLevels[r]&&this.throwArgumentError("invalid log level name","logLevel",e),_logLevel>LogLevels[r]||console.log.apply(console,t)}debug(...e){this._log(Logger.levels.DEBUG,e)}info(...e){this._log(Logger.levels.INFO,e)}warn(...e){this._log(Logger.levels.WARNING,e)}makeError(e,t,r){if(_censorErrors)return this.makeError("censored error",t,{});t||(t=Logger.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=HEX[t[e]>>4],r+=HEX[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(s){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;let o="";switch(t){case ErrorCode.NUMERIC_FAULT:{o="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case ErrorCode.CALL_EXCEPTION:case ErrorCode.INSUFFICIENT_FUNDS:case ErrorCode.MISSING_NEW:case ErrorCode.NONCE_EXPIRED:case ErrorCode.REPLACEMENT_UNDERPRICED:case ErrorCode.TRANSACTION_REPLACED:case ErrorCode.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Logger.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){_normalizeError&&this.throwError("platform missing String.prototype.normalize",Logger.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Logger.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Logger.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Logger.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Logger.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Logger.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return _globalLogger||(_globalLogger=new Logger(version$b)),_globalLogger}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors){if(!e)return;this.globalLogger().throwError("error censorship permanent",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors=!!e,_permanentCensorErrors=!!t}static setLogLevel(e){const t=LogLevels[e.toLowerCase()];null!=t?_logLevel=t:Logger.globalLogger().warn("invalid log level - "+e)}static from(e){return new Logger(e)}}Logger.errors=ErrorCode,Logger.levels=LogLevel;const version$a="bytes/5.6.1",logger$8=new Logger(version$a);function isHexable(e){return!!e.toHexString}function addSlice(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return addSlice(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function isBytesLike(e){return isHexString$5(e)&&!(e.length%2)||isBytes(e)}function isInteger(e){return"number"==typeof e&&e==e&&e%1==0}function isBytes(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!isInteger(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!isInteger(r)||r<0||r>=256)return!1}return!0}function arrayify(e,t){if(t||(t={}),"number"==typeof e){logger$8.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),addSlice(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable(e)&&(e=e.toHexString()),isHexString$5(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":logger$8.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return addSlice(new Uint8Array(n))}return isBytes(e)?addSlice(new Uint8Array(e)):logger$8.throwArgumentError("invalid arrayify value","value",e)}function isHexString$5(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}const HexCharacters="0123456789abcdef";function hexlify(e,t){if(t||(t={}),"number"==typeof e){logger$8.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=HexCharacters[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable(e))return e.toHexString();if(isHexString$5(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":logger$8.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(isBytes(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=HexCharacters[(240&n)>>4]+HexCharacters[15&n]}return t}return logger$8.throwArgumentError("invalid hexlify value","value",e)}function decode$6(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return arrayify(t)}function encode$4(e){e=arrayify(e);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}const version$9="properties/5.6.0";function shallowCopy(e){const t={};for(const r in e)t[r]=e[r];return t}globalThis&&globalThis.__awaiter,new Logger(version$9);const version$8="strings/5.6.0",logger$7=new Logger(version$8);var UnicodeNormalizationForm,Utf8ErrorReason;function errorFunc(e,t,r,n,i){return logger$7.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)}function ignoreFunc(e,t,r,n,i){if(e===Utf8ErrorReason.BAD_PREFIX||e===Utf8ErrorReason.UNEXPECTED_CONTINUE){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return e===Utf8ErrorReason.OVERRUN?r.length-t-1:0}function replaceFunc(e,t,r,n,i){return e===Utf8ErrorReason.OVERLONG?(n.push(i),0):(n.push(65533),ignoreFunc(e,t,r))}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(UnicodeNormalizationForm||(UnicodeNormalizationForm={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(Utf8ErrorReason||(Utf8ErrorReason={}));const Utf8ErrorFuncs=Object.freeze({error:errorFunc,ignore:ignoreFunc,replace:replaceFunc});function getUtf8CodePoints(e,t){null==t&&(t=Utf8ErrorFuncs.error),e=arrayify(e);const r=[];let n=0;for(;n<e.length;){const i=e[n++];if(i>>7==0){r.push(i);continue}let o=null,s=null;if(192==(224&i))o=1,s=127;else if(224==(240&i))o=2,s=2047;else{if(240!=(248&i)){n+=t(128==(192&i)?Utf8ErrorReason.UNEXPECTED_CONTINUE:Utf8ErrorReason.BAD_PREFIX,n-1,e,r);continue}o=3,s=65535}if(n-1+o>=e.length){n+=t(Utf8ErrorReason.OVERRUN,n-1,e,r);continue}let a=i&(1<<8-o-1)-1;for(let u=0;u<o;u++){let i=e[n];if(128!=(192&i)){n+=t(Utf8ErrorReason.MISSING_CONTINUE,n,e,r),a=null;break}a=a<<6|63&i,n++}null!==a&&(a>1114111?n+=t(Utf8ErrorReason.OUT_OF_RANGE,n-1-o,e,r,a):a>=55296&&a<=57343?n+=t(Utf8ErrorReason.UTF16_SURROGATE,n-1-o,e,r,a):a<=s?n+=t(Utf8ErrorReason.OVERLONG,n-1-o,e,r,a):r.push(a))}return r}function toUtf8Bytes(e,t=UnicodeNormalizationForm.current){t!=UnicodeNormalizationForm.current&&(logger$7.checkNormalize(),e=e.normalize(t));let r=[];for(let n=0;n<e.length;n++){const t=e.charCodeAt(n);if(t<128)r.push(t);else if(t<2048)r.push(t>>6|192),r.push(63&t|128);else if(55296==(64512&t)){n++;const i=e.charCodeAt(n);if(n>=e.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&t)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(t>>12|224),r.push(t>>6&63|128),r.push(63&t|128)}return arrayify(r)}function _toUtf8String(e){return e.map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}function toUtf8String(e,t){return _toUtf8String(getUtf8CodePoints(e,t))}const version$7="web/5.5.1";var __awaiter$6=globalThis&&globalThis.__awaiter||function(t,r,n,i){return new(n||(n=Promise))((function(o,s){function a(t){try{l(i.next(t))}catch(e){s(e)}}function u(t){try{l(i.throw(t))}catch(e){s(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,u)}l((i=i.apply(t,r||[])).next())}))};function getUrl$1(e,t){return __awaiter$6(this,void 0,void 0,(function*(){null==t&&(t={});const r={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0};!0!==t.skipFetchSetup&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client");const n=yield fetch(e,r),i=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach(((e,t)=>{o[t.toLowerCase()]=e})):n.headers.keys().forEach((e=>{o[e.toLowerCase()]=n.headers.get(e)})),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:arrayify(new Uint8Array(i))}}))}var __awaiter$5=globalThis&&globalThis.__awaiter||function(t,r,n,i){return new(n||(n=Promise))((function(o,s){function a(t){try{l(i.next(t))}catch(e){s(e)}}function u(t){try{l(i.throw(t))}catch(e){s(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,u)}l((i=i.apply(t,r||[])).next())}))};const logger$6=new Logger(version$7);function staller$1(e){return new Promise((t=>{setTimeout(t,e)}))}function bodyify$1(e,t){if(null==e)return null;if("string"==typeof e)return e;if(isBytesLike(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return toUtf8String(e)}catch(error){}return hexlify(e)}return e}function _fetchData$1(e,t,r){const n="object"==typeof e&&null!=e.throttleLimit?e.throttleLimit:12;logger$6.assertArgument(n>0&&n%1==0,"invalid connection throttle limit","connection.throttleLimit",n);const i="object"==typeof e?e.throttleCallback:null,o="object"==typeof e&&"number"==typeof e.throttleSlotInterval?e.throttleSlotInterval:100;logger$6.assertArgument(o>0&&o%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);const s={};let a=null;const u={method:"GET"};let l=!1,c=12e4;if("string"==typeof e)a=e;else if("object"==typeof e){if(null!=e&&null!=e.url||logger$6.throwArgumentError("missing URL","connection.url",e),a=e.url,"number"==typeof e.timeout&&e.timeout>0&&(c=e.timeout),e.headers)for(const t in e.headers)s[t.toLowerCase()]={key:t,value:String(e.headers[t])},["if-none-match","if-modified-since"].indexOf(t.toLowerCase())>=0&&(l=!0);if(u.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password){"https:"!==a.substring(0,6)&&!0!==e.allowInsecureAuthentication&&logger$6.throwError("basic authentication requires a secure https url",Logger.errors.INVALID_ARGUMENT,{argument:"url",url:a,user:e.user,password:"[REDACTED]"});const t=e.user+":"+e.password;s.authorization={key:"Authorization",value:"Basic "+encode$4(toUtf8Bytes(t))}}}const f=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),h=a?a.match(f):null;if(h)try{const e={statusCode:200,statusMessage:"OK",headers:{"content-type":h[1]},body:decode$6(h[2])};let t=e.body;return r&&(t=r(e.body,e)),Promise.resolve(t)}catch(error){logger$6.throwError("processing response error",Logger.errors.SERVER_ERROR,{body:bodyify$1(h[1],h[2]),error:error,requestBody:null,requestMethod:"GET",url:a})}t&&(u.method="POST",u.body=t,null==s["content-type"]&&(s["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==s["content-length"]&&(s["content-length"]={key:"Content-Length",value:String(t.length)}));const d={};Object.keys(s).forEach((e=>{const t=s[e];d[t.key]=t.value})),u.headers=d;const p=function(){let e=null;return{promise:new Promise((function(t,r){c&&(e=setTimeout((()=>{null!=e&&(e=null,r(logger$6.makeError("timeout",Logger.errors.TIMEOUT,{requestBody:bodyify$1(u.body,d["content-type"]),requestMethod:u.method,timeout:c,url:a})))}),c))})),cancel:function(){null!=e&&(clearTimeout(e),e=null)}}}(),g=function(){return __awaiter$5(this,void 0,void 0,(function*(){for(let e=0;e<n;e++){let t=null;try{if(t=yield getUrl$1(a,u),e<n)if(301===t.statusCode||302===t.statusCode){const e=t.headers.location||"";if("GET"===u.method&&e.match(/^https:/)){a=t.headers.location;continue}}else if(429===t.statusCode){let r=!0;if(i&&(r=yield i(e,a)),r){let r=0;const n=t.headers["retry-after"];r="string"==typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):o*parseInt(String(Math.random()*Math.pow(2,e))),yield staller$1(r);continue}}}catch(error){t=error.response,null==t&&(p.cancel(),logger$6.throwError("missing response",Logger.errors.SERVER_ERROR,{requestBody:bodyify$1(u.body,d["content-type"]),requestMethod:u.method,serverError:error,url:a}))}let s=t.body;if(l&&304===t.statusCode?s=null:(t.statusCode<200||t.statusCode>=300)&&(p.cancel(),logger$6.throwError("bad response",Logger.errors.SERVER_ERROR,{status:t.statusCode,headers:t.headers,body:bodyify$1(s,t.headers?t.headers["content-type"]:null),requestBody:bodyify$1(u.body,d["content-type"]),requestMethod:u.method,url:a})),r)try{const e=yield r(s,t);return p.cancel(),e}catch(error){if(error.throttleRetry&&e<n){let t=!0;if(i&&(t=yield i(e,a)),t){const t=o*parseInt(String(Math.random()*Math.pow(2,e)));yield staller$1(t);continue}}p.cancel(),logger$6.throwError("processing response error",Logger.errors.SERVER_ERROR,{body:bodyify$1(s,t.headers?t.headers["content-type"]:null),error:error,requestBody:bodyify$1(u.body,d["content-type"]),requestMethod:u.method,url:a})}return p.cancel(),s}return logger$6.throwError("failed response",Logger.errors.SERVER_ERROR,{requestBody:bodyify$1(u.body,d["content-type"]),requestMethod:u.method,url:a})}))}();return Promise.race([p.promise,g])}function fetchJson$1(e,t,r){let n=null;if(null!=t){n=toUtf8Bytes(t);const r="string"==typeof e?{url:e}:shallowCopy(e);if(r.headers){const e=0!==Object.keys(r.headers).filter((e=>"content-type"===e.toLowerCase())).length;e||(r.headers=shallowCopy(r.headers),r.headers["content-type"]="application/json")}else r.headers={"content-type":"application/json"};e=r}return _fetchData$1(e,n,((e,t)=>{let n=null;if(null!=e)try{n=JSON.parse(toUtf8String(e))}catch(error){logger$6.throwError("invalid JSON",Logger.errors.SERVER_ERROR,{body:e,error:error})}return r&&(n=r(n,t)),n}))}function poll$1(e,t){return t||(t={}),null==(t=shallowCopy(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise((function(r,n){let i=null,o=!1;const s=()=>!o&&(o=!0,i&&clearTimeout(i),!0);t.timeout&&(i=setTimeout((()=>{s()&&n(new Error("timeout"))}),t.timeout));const a=t.retryLimit;let u=0;!function i(){return e().then((function(e){if(void 0!==e)s()&&r(e);else if(t.oncePoll)t.oncePoll.once("poll",i);else if(t.onceBlock)t.onceBlock.once("block",i);else if(!o){if(u++,u>a)return void(s()&&n(new Error("retry limit reached")));let e=t.interval*parseInt(String(Math.random()*Math.pow(2,u)));e<t.floor&&(e=t.floor),e>t.ceiling&&(e=t.ceiling),setTimeout(i,e)}return null}),(function(e){s()&&n(e)}))}()}))}var lib_esm=Object.freeze(Object.defineProperty({__proto__:null,_fetchData:_fetchData$1,fetchJson:fetchJson$1,poll:poll$1},Symbol.toStringTag,{value:"Module"})),require$$20=getAugmentedNamespace(lib_esm);!function(e){var t=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(n,e,i);return r(n,e),n};Object.defineProperty(e,"__esModule",{value:!0}),e.formatBytes32String=e.Utf8ErrorFuncs=e.toUtf8String=e.toUtf8CodePoints=e.toUtf8Bytes=e._toEscapedUtf8String=e.nameprep=e.hexDataSlice=e.hexDataLength=e.hexZeroPad=e.hexValue=e.hexStripZeros=e.hexConcat=e.isHexString=e.hexlify=e.base64=e.base58=e.TransactionDescription=e.LogDescription=e.Interface=e.SigningKey=e.HDNode=e.defaultPath=e.isBytesLike=e.isBytes=e.zeroPad=e.stripZeros=e.concat=e.arrayify=e.shallowCopy=e.resolveProperties=e.getStatic=e.defineReadOnly=e.deepCopy=e.checkProperties=e.poll=e.fetchJson=e._fetchData=e.RLP=e.Logger=e.checkResultErrors=e.FormatTypes=e.ParamType=e.FunctionFragment=e.EventFragment=e.ErrorFragment=e.ConstructorFragment=e.Fragment=e.defaultAbiCoder=e.AbiCoder=void 0,e.Indexed=e.Utf8ErrorReason=e.UnicodeNormalizationForm=e.SupportedAlgorithm=e.mnemonicToSeed=e.isValidMnemonic=e.entropyToMnemonic=e.mnemonicToEntropy=e.getAccountPath=e.verifyTypedData=e.verifyMessage=e.recoverPublicKey=e.computePublicKey=e.recoverAddress=e.computeAddress=e.getJsonWalletAddress=e.TransactionTypes=e.serializeTransaction=e.parseTransaction=e.accessListify=e.joinSignature=e.splitSignature=e.soliditySha256=e.solidityKeccak256=e.solidityPack=e.shuffled=e.randomBytes=e.sha512=e.sha256=e.ripemd160=e.keccak256=e.computeHmac=e.commify=e.parseUnits=e.formatUnits=e.parseEther=e.formatEther=e.isAddress=e.getCreate2Address=e.getContractAddress=e.getIcapAddress=e.getAddress=e._TypedDataEncoder=e.id=e.isValidName=e.namehash=e.hashMessage=e.parseBytes32String=void 0;var i=require$$0$4;Object.defineProperty(e,"AbiCoder",{enumerable:!0,get:function(){return i.AbiCoder}}),Object.defineProperty(e,"checkResultErrors",{enumerable:!0,get:function(){return i.checkResultErrors}}),Object.defineProperty(e,"ConstructorFragment",{enumerable:!0,get:function(){return i.ConstructorFragment}}),Object.defineProperty(e,"defaultAbiCoder",{enumerable:!0,get:function(){return i.defaultAbiCoder}}),Object.defineProperty(e,"ErrorFragment",{enumerable:!0,get:function(){return i.ErrorFragment}}),Object.defineProperty(e,"EventFragment",{enumerable:!0,get:function(){return i.EventFragment}}),Object.defineProperty(e,"FormatTypes",{enumerable:!0,get:function(){return i.FormatTypes}}),Object.defineProperty(e,"Fragment",{enumerable:!0,get:function(){return i.Fragment}}),Object.defineProperty(e,"FunctionFragment",{enumerable:!0,get:function(){return i.FunctionFragment}}),Object.defineProperty(e,"Indexed",{enumerable:!0,get:function(){return i.Indexed}}),Object.defineProperty(e,"Interface",{enumerable:!0,get:function(){return i.Interface}}),Object.defineProperty(e,"LogDescription",{enumerable:!0,get:function(){return i.LogDescription}}),Object.defineProperty(e,"ParamType",{enumerable:!0,get:function(){return i.ParamType}}),Object.defineProperty(e,"TransactionDescription",{enumerable:!0,get:function(){return i.TransactionDescription}});var o=require$$1$2;Object.defineProperty(e,"getAddress",{enumerable:!0,get:function(){return o.getAddress}}),Object.defineProperty(e,"getCreate2Address",{enumerable:!0,get:function(){return o.getCreate2Address}}),Object.defineProperty(e,"getContractAddress",{enumerable:!0,get:function(){return o.getContractAddress}}),Object.defineProperty(e,"getIcapAddress",{enumerable:!0,get:function(){return o.getIcapAddress}}),Object.defineProperty(e,"isAddress",{enumerable:!0,get:function(){return o.isAddress}});var s=n(require$$2$2);e.base64=s;var a=require$$3$2;Object.defineProperty(e,"base58",{enumerable:!0,get:function(){return a.Base58}});var u=require$$4;Object.defineProperty(e,"arrayify",{enumerable:!0,get:function(){return u.arrayify}}),Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return u.concat}}),Object.defineProperty(e,"hexConcat",{enumerable:!0,get:function(){return u.hexConcat}}),Object.defineProperty(e,"hexDataSlice",{enumerable:!0,get:function(){return u.hexDataSlice}}),Object.defineProperty(e,"hexDataLength",{enumerable:!0,get:function(){return u.hexDataLength}}),Object.defineProperty(e,"hexlify",{enumerable:!0,get:function(){return u.hexlify}}),Object.defineProperty(e,"hexStripZeros",{enumerable:!0,get:function(){return u.hexStripZeros}}),Object.defineProperty(e,"hexValue",{enumerable:!0,get:function(){return u.hexValue}}),Object.defineProperty(e,"hexZeroPad",{enumerable:!0,get:function(){return u.hexZeroPad}}),Object.defineProperty(e,"isBytes",{enumerable:!0,get:function(){return u.isBytes}}),Object.defineProperty(e,"isBytesLike",{enumerable:!0,get:function(){return u.isBytesLike}}),Object.defineProperty(e,"isHexString",{enumerable:!0,get:function(){return u.isHexString}}),Object.defineProperty(e,"joinSignature",{enumerable:!0,get:function(){return u.joinSignature}}),Object.defineProperty(e,"zeroPad",{enumerable:!0,get:function(){return u.zeroPad}}),Object.defineProperty(e,"splitSignature",{enumerable:!0,get:function(){return u.splitSignature}}),Object.defineProperty(e,"stripZeros",{enumerable:!0,get:function(){return u.stripZeros}});var l=require$$5;Object.defineProperty(e,"_TypedDataEncoder",{enumerable:!0,get:function(){return l._TypedDataEncoder}}),Object.defineProperty(e,"hashMessage",{enumerable:!0,get:function(){return l.hashMessage}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return l.id}}),Object.defineProperty(e,"isValidName",{enumerable:!0,get:function(){return l.isValidName}}),Object.defineProperty(e,"namehash",{enumerable:!0,get:function(){return l.namehash}});var c=require$$6;Object.defineProperty(e,"defaultPath",{enumerable:!0,get:function(){return c.defaultPath}}),Object.defineProperty(e,"entropyToMnemonic",{enumerable:!0,get:function(){return c.entropyToMnemonic}}),Object.defineProperty(e,"getAccountPath",{enumerable:!0,get:function(){return c.getAccountPath}}),Object.defineProperty(e,"HDNode",{enumerable:!0,get:function(){return c.HDNode}}),Object.defineProperty(e,"isValidMnemonic",{enumerable:!0,get:function(){return c.isValidMnemonic}}),Object.defineProperty(e,"mnemonicToEntropy",{enumerable:!0,get:function(){return c.mnemonicToEntropy}}),Object.defineProperty(e,"mnemonicToSeed",{enumerable:!0,get:function(){return c.mnemonicToSeed}});var f=require$$7$1;Object.defineProperty(e,"getJsonWalletAddress",{enumerable:!0,get:function(){return f.getJsonWalletAddress}});var h=require$$8;Object.defineProperty(e,"keccak256",{enumerable:!0,get:function(){return h.keccak256}});var d=require$$9;Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return d.Logger}});var p=require$$10;Object.defineProperty(e,"computeHmac",{enumerable:!0,get:function(){return p.computeHmac}}),Object.defineProperty(e,"ripemd160",{enumerable:!0,get:function(){return p.ripemd160}}),Object.defineProperty(e,"sha256",{enumerable:!0,get:function(){return p.sha256}}),Object.defineProperty(e,"sha512",{enumerable:!0,get:function(){return p.sha512}});var g=require$$11;Object.defineProperty(e,"solidityKeccak256",{enumerable:!0,get:function(){return g.keccak256}}),Object.defineProperty(e,"solidityPack",{enumerable:!0,get:function(){return g.pack}}),Object.defineProperty(e,"soliditySha256",{enumerable:!0,get:function(){return g.sha256}});var m=require$$12;Object.defineProperty(e,"randomBytes",{enumerable:!0,get:function(){return m.randomBytes}}),Object.defineProperty(e,"shuffled",{enumerable:!0,get:function(){return m.shuffled}});var y=require$$13;Object.defineProperty(e,"checkProperties",{enumerable:!0,get:function(){return y.checkProperties}}),Object.defineProperty(e,"deepCopy",{enumerable:!0,get:function(){return y.deepCopy}}),Object.defineProperty(e,"defineReadOnly",{enumerable:!0,get:function(){return y.defineReadOnly}}),Object.defineProperty(e,"getStatic",{enumerable:!0,get:function(){return y.getStatic}}),Object.defineProperty(e,"resolveProperties",{enumerable:!0,get:function(){return y.resolveProperties}}),Object.defineProperty(e,"shallowCopy",{enumerable:!0,get:function(){return y.shallowCopy}});var b=n(require$$14);e.RLP=b;var v=require$$15;Object.defineProperty(e,"computePublicKey",{enumerable:!0,get:function(){return v.computePublicKey}}),Object.defineProperty(e,"recoverPublicKey",{enumerable:!0,get:function(){return v.recoverPublicKey}}),Object.defineProperty(e,"SigningKey",{enumerable:!0,get:function(){return v.SigningKey}});var _=require$$16;Object.defineProperty(e,"formatBytes32String",{enumerable:!0,get:function(){return _.formatBytes32String}}),Object.defineProperty(e,"nameprep",{enumerable:!0,get:function(){return _.nameprep}}),Object.defineProperty(e,"parseBytes32String",{enumerable:!0,get:function(){return _.parseBytes32String}}),Object.defineProperty(e,"_toEscapedUtf8String",{enumerable:!0,get:function(){return _._toEscapedUtf8String}}),Object.defineProperty(e,"toUtf8Bytes",{enumerable:!0,get:function(){return _.toUtf8Bytes}}),Object.defineProperty(e,"toUtf8CodePoints",{enumerable:!0,get:function(){return _.toUtf8CodePoints}}),Object.defineProperty(e,"toUtf8String",{enumerable:!0,get:function(){return _.toUtf8String}}),Object.defineProperty(e,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return _.Utf8ErrorFuncs}});var $=require$$17;Object.defineProperty(e,"accessListify",{enumerable:!0,get:function(){return $.accessListify}}),Object.defineProperty(e,"computeAddress",{enumerable:!0,get:function(){return $.computeAddress}}),Object.defineProperty(e,"parseTransaction",{enumerable:!0,get:function(){return $.parse}}),Object.defineProperty(e,"recoverAddress",{enumerable:!0,get:function(){return $.recoverAddress}}),Object.defineProperty(e,"serializeTransaction",{enumerable:!0,get:function(){return $.serialize}}),Object.defineProperty(e,"TransactionTypes",{enumerable:!0,get:function(){return $.TransactionTypes}});var w=require$$18;Object.defineProperty(e,"commify",{enumerable:!0,get:function(){return w.commify}}),Object.defineProperty(e,"formatEther",{enumerable:!0,get:function(){return w.formatEther}}),Object.defineProperty(e,"parseEther",{enumerable:!0,get:function(){return w.parseEther}}),Object.defineProperty(e,"formatUnits",{enumerable:!0,get:function(){return w.formatUnits}}),Object.defineProperty(e,"parseUnits",{enumerable:!0,get:function(){return w.parseUnits}});var E=require$$19;Object.defineProperty(e,"verifyMessage",{enumerable:!0,get:function(){return E.verifyMessage}}),Object.defineProperty(e,"verifyTypedData",{enumerable:!0,get:function(){return E.verifyTypedData}});var S=require$$20;Object.defineProperty(e,"_fetchData",{enumerable:!0,get:function(){return S._fetchData}}),Object.defineProperty(e,"fetchJson",{enumerable:!0,get:function(){return S.fetchJson}}),Object.defineProperty(e,"poll",{enumerable:!0,get:function(){return S.poll}});var A=require$$10;Object.defineProperty(e,"SupportedAlgorithm",{enumerable:!0,get:function(){return A.SupportedAlgorithm}});var R=require$$16;Object.defineProperty(e,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return R.UnicodeNormalizationForm}}),Object.defineProperty(e,"Utf8ErrorReason",{enumerable:!0,get:function(){return R.Utf8ErrorReason}})}(utils$s);var events$1={exports:{}},R$2="object"==typeof Reflect?Reflect:null,ReflectApply$1=R$2&&"function"==typeof R$2.apply?R$2.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},ReflectOwnKeys;function ProcessEmitWarning(e){console&&console.warn&&console.warn(e)}ReflectOwnKeys=R$2&&"function"==typeof R$2.ownKeys?R$2.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var NumberIsNaN=Number.isNaN||function(e){return e!=e};function EventEmitter$4(){EventEmitter$4.init.call(this)}events$1.exports=EventEmitter$4,events$1.exports.once=once$5,EventEmitter$4.EventEmitter=EventEmitter$4,EventEmitter$4.prototype._events=void 0,EventEmitter$4.prototype._eventsCount=0,EventEmitter$4.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function _getMaxListeners(e){return void 0===e._maxListeners?EventEmitter$4.defaultMaxListeners:e._maxListeners}function _addListener(e,t,r,n){var i,o,s;if(checkListener(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=_getMaxListeners(e))>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,ProcessEmitWarning(a)}return e}function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=onceWrapper.bind(n);return i.listener=r,n.wrapFn=i,i}function _listeners(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?unwrapListeners(i):arrayClone$2(i,i.length)}function listenerCount(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function arrayClone$2(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function spliceOne(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function unwrapListeners(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function once$5(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}eventTargetAgnosticAddListener(e,t,o,{once:!0}),"error"!==t&&addErrorHandlerIfEventEmitter(e,i,{once:!0})}))}function addErrorHandlerIfEventEmitter(e,t,r){"function"==typeof e.on&&eventTargetAgnosticAddListener(e,"error",t,r)}function eventTargetAgnosticAddListener(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(EventEmitter$4,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(e){if("number"!=typeof e||e<0||NumberIsNaN(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");defaultMaxListeners=e}}),EventEmitter$4.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter$4.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||NumberIsNaN(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},EventEmitter$4.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter$4.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[e];if(void 0===a)return!1;if("function"==typeof a)ReflectApply$1(a,this,t);else{var u=a.length,l=arrayClone$2(a,u);for(r=0;r<u;++r)ReflectApply$1(l[r],this,t)}return!0},EventEmitter$4.prototype.addListener=function(e,t){return _addListener(this,e,t,!1)},EventEmitter$4.prototype.on=EventEmitter$4.prototype.addListener,EventEmitter$4.prototype.prependListener=function(e,t){return _addListener(this,e,t,!0)},EventEmitter$4.prototype.once=function(e,t){return checkListener(t),this.on(e,_onceWrap(this,e,t)),this},EventEmitter$4.prototype.prependOnceListener=function(e,t){return checkListener(t),this.prependListener(e,_onceWrap(this,e,t)),this},EventEmitter$4.prototype.removeListener=function(e,t){var r,n,i,o,s;if(checkListener(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():spliceOne(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},EventEmitter$4.prototype.off=EventEmitter$4.prototype.removeListener,EventEmitter$4.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},EventEmitter$4.prototype.listeners=function(e){return _listeners(this,e,!0)},EventEmitter$4.prototype.rawListeners=function(e){return _listeners(this,e,!1)},EventEmitter$4.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):listenerCount.call(e,t)},EventEmitter$4.prototype.listenerCount=listenerCount,EventEmitter$4.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};var dist$6={},keccak$3={},hashUtils={};function createHashFunction(e){return function(t){var r=e();return r.update(t),buffer$2.Buffer.from(r.digest())}}Object.defineProperty(hashUtils,"__esModule",{value:!0}),hashUtils.createHashFunction=createHashFunction;var readableBrowser$1={exports:{}},streamBrowser$1=events$1.exports.EventEmitter,__viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0$3=exports("M",getAugmentedNamespace(__viteBrowserExternal$1));function ownKeys$1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$1(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$1(Object(r),!0).forEach((function(t){_defineProperty$3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$1(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty$3(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _classCallCheck$2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass$1(e,t,r){return t&&_defineProperties$1(e.prototype,t),r&&_defineProperties$1(e,r),e}var _require$5=buffer$2,Buffer$m=_require$5.Buffer,_require2$1=require$$0$3,inspect$2=_require2$1.inspect,custom$1=inspect$2&&inspect$2.custom||"inspect";function copyBuffer$1(e,t,r){Buffer$m.prototype.copy.call(e,t,r)}var buffer_list$1=function(){function e(){_classCallCheck$2(this,e),this.head=null,this.tail=null,this.length=0}return _createClass$1(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return Buffer$m.alloc(0);for(var t=Buffer$m.allocUnsafe(e>>>0),r=this.head,n=0;r;)copyBuffer$1(r.data,t,n),n+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0===(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=Buffer$m.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:custom$1,value:function(e,t){return inspect$2(this,_objectSpread$1({},t,{depth:0,customInspect:!1}))}}]),e}();function destroy$1(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(emitErrorNT$1,this,e)):process.nextTick(emitErrorNT$1,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?process.nextTick(emitCloseNT$1,r):(r._writableState.errorEmitted=!0,process.nextTick(emitErrorAndCloseNT$1,r,e)):process.nextTick(emitErrorAndCloseNT$1,r,e):t?(process.nextTick(emitCloseNT$1,r),t(e)):process.nextTick(emitCloseNT$1,r)})),this)}function emitErrorAndCloseNT$1(e,t){emitErrorNT$1(e,t),emitCloseNT$1(e)}function emitCloseNT$1(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function undestroy$1(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT$1(e,t){e.emit("error",t)}function errorOrDestroy$5(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}var destroy_1$1={destroy:destroy$1,undestroy:undestroy$1,errorOrDestroy:errorOrDestroy$5},errorsBrowser$1={};function _inheritsLoose$1(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var codes$1={};function createErrorType$1(e,t,r){r||(r=Error);var n=function(e){function r(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return _inheritsLoose$1(r,e),r}(r);n.prototype.name=r.name,n.prototype.code=e,codes$1[e]=n}function oneOf$1(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}function startsWith$1(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function endsWith$1(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function includes$1(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}createErrorType$1("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),createErrorType$1("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,i;if("string"==typeof t&&startsWith$1(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be",endsWith$1(e," argument"))i="The ".concat(e," ").concat(n," ").concat(oneOf$1(t,"type"));else{var o=includes$1(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(o," ").concat(n," ").concat(oneOf$1(t,"type"))}return i+=". Received type ".concat(typeof r)}),TypeError),createErrorType$1("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),createErrorType$1("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),createErrorType$1("ERR_STREAM_PREMATURE_CLOSE","Premature close"),createErrorType$1("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),createErrorType$1("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),createErrorType$1("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),createErrorType$1("ERR_STREAM_WRITE_AFTER_END","write after end"),createErrorType$1("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),createErrorType$1("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),createErrorType$1("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser$1.codes=codes$1;var ERR_INVALID_OPT_VALUE$1=errorsBrowser$1.codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom$1(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}function getHighWaterMark$5(e,t,r,n){var i=highWaterMarkFrom$1(t,n,r);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new ERR_INVALID_OPT_VALUE$1(n?r:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384}var state$1={getHighWaterMark:getHighWaterMark$5},browser$4=deprecate;function deprecate(e,t){if(config$1("noDeprecation"))return e;var r=!1;return function(){if(!r){if(config$1("throwDeprecation"))throw new Error(t);config$1("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}function config$1(e){try{if(!commonjsGlobal$1.localStorage)return!1}catch(_){return!1}var t=commonjsGlobal$1.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}var _stream_writable$1=Writable$3,Duplex$7;function CorkedRequest$1(e){var t=this;this.next=null,this.entry=null,this.finish=function(){onCorkedFinish$1(t,e)}}Writable$3.WritableState=WritableState$1;var internalUtil$1={deprecate:browser$4},Stream$3=streamBrowser$1,Buffer$l=buffer$2.Buffer,OurUint8Array$3=commonjsGlobal$1.Uint8Array||function(){};function _uint8ArrayToBuffer$3(e){return Buffer$l.from(e)}function _isUint8Array$3(e){return Buffer$l.isBuffer(e)||e instanceof OurUint8Array$3}var destroyImpl$3=destroy_1$1,_require$4=state$1,getHighWaterMark$4=_require$4.getHighWaterMark,_require$codes$7=errorsBrowser$1.codes,ERR_INVALID_ARG_TYPE$3=_require$codes$7.ERR_INVALID_ARG_TYPE,ERR_METHOD_NOT_IMPLEMENTED$5=_require$codes$7.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK$3=_require$codes$7.ERR_MULTIPLE_CALLBACK,ERR_STREAM_CANNOT_PIPE$1=_require$codes$7.ERR_STREAM_CANNOT_PIPE,ERR_STREAM_DESTROYED$3=_require$codes$7.ERR_STREAM_DESTROYED,ERR_STREAM_NULL_VALUES$1=_require$codes$7.ERR_STREAM_NULL_VALUES,ERR_STREAM_WRITE_AFTER_END$1=_require$codes$7.ERR_STREAM_WRITE_AFTER_END,ERR_UNKNOWN_ENCODING$1=_require$codes$7.ERR_UNKNOWN_ENCODING,errorOrDestroy$4=destroyImpl$3.errorOrDestroy,realHasInstance$1;function nop$1(){}function WritableState$1(e,t,r){Duplex$7=Duplex$7||_stream_duplex$1,e=e||{},"boolean"!=typeof r&&(r=t instanceof Duplex$7),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=getHighWaterMark$4(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=!1===e.decodeStrings;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){onwrite$1(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest$1(this)}function Writable$3(e){var t=this instanceof(Duplex$7=Duplex$7||_stream_duplex$1);if(!t&&!realHasInstance$1.call(Writable$3,this))return new Writable$3(e);this._writableState=new WritableState$1(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),Stream$3.call(this)}function writeAfterEnd$1(e,t){var r=new ERR_STREAM_WRITE_AFTER_END$1;errorOrDestroy$4(e,r),process.nextTick(t,r)}function validChunk$1(e,t,r,n){var i;return null===r?i=new ERR_STREAM_NULL_VALUES$1:"string"==typeof r||t.objectMode||(i=new ERR_INVALID_ARG_TYPE$3("chunk",["string","Buffer"],r)),!i||(errorOrDestroy$4(e,i),process.nextTick(n,i),!1)}function decodeChunk$1(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=Buffer$l.from(t,r)),t}function writeOrBuffer$1(e,t,r,n,i,o){if(!r){var s=decodeChunk$1(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else doWrite$1(e,t,!1,a,n,i,o);return u}function doWrite$1(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new ERR_STREAM_DESTROYED$3("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function onwriteError$1(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(finishMaybe$1,e,t),e._writableState.errorEmitted=!0,errorOrDestroy$4(e,n)):(i(n),e._writableState.errorEmitted=!0,errorOrDestroy$4(e,n),finishMaybe$1(e,t))}function onwriteStateUpdate$1(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function onwrite$1(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new ERR_MULTIPLE_CALLBACK$3;if(onwriteStateUpdate$1(r),t)onwriteError$1(e,r,n,t,i);else{var o=needFinish$1(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||clearBuffer$1(e,r),n?process.nextTick(afterWrite$1,e,r,o,i):afterWrite$1(e,r,o,i)}}function afterWrite$1(e,t,r,n){r||onwriteDrain$1(e,t),t.pendingcb--,n(),finishMaybe$1(e,t)}function onwriteDrain$1(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function clearBuffer$1(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)i[s]=r,r.isBuf||(a=!1),r=r.next,s+=1;i.allBuffers=a,doWrite$1(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new CorkedRequest$1(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,c=r.callback;if(doWrite$1(e,t,!1,t.objectMode?1:u.length,u,l,c),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function needFinish$1(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function callFinal$1(e,t){e._final((function(r){t.pendingcb--,r&&errorOrDestroy$4(e,r),t.prefinished=!0,e.emit("prefinish"),finishMaybe$1(e,t)}))}function prefinish$3(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(callFinal$1,e,t)))}function finishMaybe$1(e,t){var r=needFinish$1(t);if(r&&(prefinish$3(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}function endWritable$1(e,t,r){t.ending=!0,finishMaybe$1(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function onCorkedFinish$1(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}inherits_browser$5.exports(Writable$3,Stream$3),WritableState$1.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(WritableState$1.prototype,"buffer",{get:internalUtil$1.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(_){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(realHasInstance$1=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable$3,Symbol.hasInstance,{value:function(e){return!!realHasInstance$1.call(this,e)||this===Writable$3&&(e&&e._writableState instanceof WritableState$1)}})):realHasInstance$1=function(e){return e instanceof this},Writable$3.prototype.pipe=function(){errorOrDestroy$4(this,new ERR_STREAM_CANNOT_PIPE$1)},Writable$3.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&_isUint8Array$3(e);return o&&!Buffer$l.isBuffer(e)&&(e=_uint8ArrayToBuffer$3(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=nop$1),n.ending?writeAfterEnd$1(this,r):(o||validChunk$1(this,n,e,r))&&(n.pendingcb++,i=writeOrBuffer$1(this,n,o,e,t,r)),i},Writable$3.prototype.cork=function(){this._writableState.corked++},Writable$3.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||clearBuffer$1(this,e))},Writable$3.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new ERR_UNKNOWN_ENCODING$1(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(Writable$3.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Writable$3.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Writable$3.prototype._write=function(e,t,r){r(new ERR_METHOD_NOT_IMPLEMENTED$5("_write()"))},Writable$3.prototype._writev=null,Writable$3.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||endWritable$1(this,n,r),this},Object.defineProperty(Writable$3.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Writable$3.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),Writable$3.prototype.destroy=destroyImpl$3.destroy,Writable$3.prototype._undestroy=destroyImpl$3.undestroy,Writable$3.prototype._destroy=function(e,t){t(e)};var objectKeys$3=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},_stream_duplex$1=Duplex$6,Readable$3=_stream_readable$1,Writable$2=_stream_writable$1;inherits_browser$5.exports(Duplex$6,Readable$3);for(var keys$2=objectKeys$3(Writable$2.prototype),v$5=0;v$5<keys$2.length;v$5++){var method$1=keys$2[v$5];Duplex$6.prototype[method$1]||(Duplex$6.prototype[method$1]=Writable$2.prototype[method$1])}function Duplex$6(e){if(!(this instanceof Duplex$6))return new Duplex$6(e);Readable$3.call(this,e),Writable$2.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",onend$1)))}function onend$1(){this._writableState.ended||process.nextTick(onEndNT$1,this)}function onEndNT$1(e){e.end()}Object.defineProperty(Duplex$6.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Duplex$6.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Duplex$6.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Duplex$6.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}});var string_decoder$2={},safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */!function(e,t){var r=buffer$2,n=r.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=o),o.prototype=Object.create(n.prototype),i(n,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}}(safeBuffer,safeBuffer.exports);var Buffer$k=safeBuffer.exports.Buffer,isEncoding$1=Buffer$k.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _normalizeEncoding$1(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function normalizeEncoding$1(e){var t=_normalizeEncoding$1(e);if("string"!=typeof t&&(Buffer$k.isEncoding===isEncoding$1||!isEncoding$1(e)))throw new Error("Unknown encoding: "+e);return t||e}function StringDecoder$5(e){var t;switch(this.encoding=normalizeEncoding$1(e),this.encoding){case"utf16le":this.text=utf16Text$1,this.end=utf16End$1,t=4;break;case"utf8":this.fillLast=utf8FillLast$1,t=4;break;case"base64":this.text=base64Text$1,this.end=base64End$1,t=3;break;default:return this.write=simpleWrite$1,void(this.end=simpleEnd$1)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer$k.allocUnsafe(t)}function utf8CheckByte$1(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function utf8CheckIncomplete$1(e,t,r){var n=t.length-1;if(n<r)return 0;var i=utf8CheckByte$1(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=utf8CheckByte$1(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=utf8CheckByte$1(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}function utf8CheckExtraBytes$1(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}function utf8FillLast$1(e){var t=this.lastTotal-this.lastNeed,r=utf8CheckExtraBytes$1(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function utf8Text$1(e,t){var r=utf8CheckIncomplete$1(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function utf8End$1(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function utf16Text$1(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function utf16End$1(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function base64Text$1(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function base64End$1(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function simpleWrite$1(e){return e.toString(this.encoding)}function simpleEnd$1(e){return e&&e.length?this.write(e):""}string_decoder$2.StringDecoder=StringDecoder$5,StringDecoder$5.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},StringDecoder$5.prototype.end=utf8End$1,StringDecoder$5.prototype.text=utf8Text$1,StringDecoder$5.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};var ERR_STREAM_PREMATURE_CLOSE$1=errorsBrowser$1.codes.ERR_STREAM_PREMATURE_CLOSE;function once$4(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}function noop$8(){}function isRequest$3(e){return e.setHeader&&"function"==typeof e.abort}function eos$3(e,t,r){if("function"==typeof t)return eos$3(e,null,t);t||(t={}),r=once$4(r||noop$8);var n=t.readable||!1!==t.readable&&e.readable,i=t.writable||!1!==t.writable&&e.writable,o=function(){e.writable||a()},s=e._writableState&&e._writableState.finished,a=function(){i=!1,s=!0,n||r.call(e)},u=e._readableState&&e._readableState.endEmitted,l=function(){n=!1,u=!0,i||r.call(e)},c=function(t){r.call(e,t)},f=function(){var t;return n&&!u?(e._readableState&&e._readableState.ended||(t=new ERR_STREAM_PREMATURE_CLOSE$1),r.call(e,t)):i&&!s?(e._writableState&&e._writableState.ended||(t=new ERR_STREAM_PREMATURE_CLOSE$1),r.call(e,t)):void 0},h=function(){e.req.on("finish",a)};return isRequest$3(e)?(e.on("complete",a),e.on("abort",f),e.req?h():e.on("request",h)):i&&!e._writableState&&(e.on("end",o),e.on("close",o)),e.on("end",l),e.on("finish",a),!1!==t.error&&e.on("error",c),e.on("close",f),function(){e.removeListener("complete",a),e.removeListener("abort",f),e.removeListener("request",h),e.req&&e.req.removeListener("finish",a),e.removeListener("end",o),e.removeListener("close",o),e.removeListener("finish",a),e.removeListener("end",l),e.removeListener("error",c),e.removeListener("close",f)}}var endOfStream$1=eos$3,_Object$setPrototypeO$1;function _defineProperty$2(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var finished$1=endOfStream$1,kLastResolve$1=Symbol("lastResolve"),kLastReject$1=Symbol("lastReject"),kError$1=Symbol("error"),kEnded$1=Symbol("ended"),kLastPromise$1=Symbol("lastPromise"),kHandlePromise$1=Symbol("handlePromise"),kStream$1=Symbol("stream");function createIterResult$1(e,t){return{value:e,done:t}}function readAndResolve$1(e){var t=e[kLastResolve$1];if(null!==t){var r=e[kStream$1].read();null!==r&&(e[kLastPromise$1]=null,e[kLastResolve$1]=null,e[kLastReject$1]=null,t(createIterResult$1(r,!1)))}}function onReadable$1(e){process.nextTick(readAndResolve$1,e)}function wrapForNext$1(e,t){return function(r,n){e.then((function(){t[kEnded$1]?r(createIterResult$1(void 0,!0)):t[kHandlePromise$1](r,n)}),n)}}var AsyncIteratorPrototype$1=Object.getPrototypeOf((function(){})),ReadableStreamAsyncIteratorPrototype$1=Object.setPrototypeOf((_Object$setPrototypeO$1={get stream(){return this[kStream$1]},next:function(){var e=this,t=this[kError$1];if(null!==t)return Promise.reject(t);if(this[kEnded$1])return Promise.resolve(createIterResult$1(void 0,!0));if(this[kStream$1].destroyed)return new Promise((function(t,r){process.nextTick((function(){e[kError$1]?r(e[kError$1]):t(createIterResult$1(void 0,!0))}))}));var r,n=this[kLastPromise$1];if(n)r=new Promise(wrapForNext$1(n,this));else{var i=this[kStream$1].read();if(null!==i)return Promise.resolve(createIterResult$1(i,!1));r=new Promise(this[kHandlePromise$1])}return this[kLastPromise$1]=r,r}},_defineProperty$2(_Object$setPrototypeO$1,Symbol.asyncIterator,(function(){return this})),_defineProperty$2(_Object$setPrototypeO$1,"return",(function(){var e=this;return new Promise((function(t,r){e[kStream$1].destroy(null,(function(e){e?r(e):t(createIterResult$1(void 0,!0))}))}))})),_Object$setPrototypeO$1),AsyncIteratorPrototype$1),createReadableStreamAsyncIterator$3=function(e){var t,r=Object.create(ReadableStreamAsyncIteratorPrototype$1,(_defineProperty$2(t={},kStream$1,{value:e,writable:!0}),_defineProperty$2(t,kLastResolve$1,{value:null,writable:!0}),_defineProperty$2(t,kLastReject$1,{value:null,writable:!0}),_defineProperty$2(t,kError$1,{value:null,writable:!0}),_defineProperty$2(t,kEnded$1,{value:e._readableState.endEmitted,writable:!0}),_defineProperty$2(t,kHandlePromise$1,{value:function(e,t){var n=r[kStream$1].read();n?(r[kLastPromise$1]=null,r[kLastResolve$1]=null,r[kLastReject$1]=null,e(createIterResult$1(n,!1))):(r[kLastResolve$1]=e,r[kLastReject$1]=t)},writable:!0}),t));return r[kLastPromise$1]=null,finished$1(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[kLastReject$1];return null!==t&&(r[kLastPromise$1]=null,r[kLastResolve$1]=null,r[kLastReject$1]=null,t(e)),void(r[kError$1]=e)}var n=r[kLastResolve$1];null!==n&&(r[kLastPromise$1]=null,r[kLastResolve$1]=null,r[kLastReject$1]=null,n(createIterResult$1(void 0,!0))),r[kEnded$1]=!0})),e.on("readable",onReadable$1.bind(null,r)),r},async_iterator$1=createReadableStreamAsyncIterator$3,fromBrowser$1=function(){throw new Error("Readable.from is not available in the browser")},_stream_readable$1=Readable$2,Duplex$5;Readable$2.ReadableState=ReadableState$1,events$1.exports.EventEmitter;var EElistenerCount$1=function(e,t){return e.listeners(t).length},Stream$2=streamBrowser$1,Buffer$j=buffer$2.Buffer,OurUint8Array$2=commonjsGlobal$1.Uint8Array||function(){};function _uint8ArrayToBuffer$2(e){return Buffer$j.from(e)}function _isUint8Array$2(e){return Buffer$j.isBuffer(e)||e instanceof OurUint8Array$2}var debugUtil$1=require$$0$3,debug$1;debug$1=debugUtil$1&&debugUtil$1.debuglog?debugUtil$1.debuglog("stream"):function(){};var BufferList$1=buffer_list$1,destroyImpl$2=destroy_1$1,_require$3=state$1,getHighWaterMark$3=_require$3.getHighWaterMark,_require$codes$6=errorsBrowser$1.codes,ERR_INVALID_ARG_TYPE$2=_require$codes$6.ERR_INVALID_ARG_TYPE,ERR_STREAM_PUSH_AFTER_EOF$1=_require$codes$6.ERR_STREAM_PUSH_AFTER_EOF,ERR_METHOD_NOT_IMPLEMENTED$4=_require$codes$6.ERR_METHOD_NOT_IMPLEMENTED,ERR_STREAM_UNSHIFT_AFTER_END_EVENT$1=_require$codes$6.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,StringDecoder$4,createReadableStreamAsyncIterator$2,from$3;inherits_browser$5.exports(Readable$2,Stream$2);var errorOrDestroy$3=destroyImpl$2.errorOrDestroy,kProxyEvents$1=["error","close","destroy","pause","resume"];function prependListener$1(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}function ReadableState$1(e,t,r){Duplex$5=Duplex$5||_stream_duplex$1,e=e||{},"boolean"!=typeof r&&(r=t instanceof Duplex$5),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=getHighWaterMark$3(this,e,"readableHighWaterMark",r),this.buffer=new BufferList$1,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(StringDecoder$4||(StringDecoder$4=string_decoder$2.StringDecoder),this.decoder=new StringDecoder$4(e.encoding),this.encoding=e.encoding)}function Readable$2(e){if(Duplex$5=Duplex$5||_stream_duplex$1,!(this instanceof Readable$2))return new Readable$2(e);var t=this instanceof Duplex$5;this._readableState=new ReadableState$1(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),Stream$2.call(this)}function readableAddChunk$1(e,t,r,n,i){debug$1("readableAddChunk",t);var o,s=e._readableState;if(null===t)s.reading=!1,onEofChunk$1(e,s);else if(i||(o=chunkInvalid$1(s,t)),o)errorOrDestroy$3(e,o);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===Buffer$j.prototype||(t=_uint8ArrayToBuffer$2(t)),n)s.endEmitted?errorOrDestroy$3(e,new ERR_STREAM_UNSHIFT_AFTER_END_EVENT$1):addChunk$1(e,s,t,!0);else if(s.ended)errorOrDestroy$3(e,new ERR_STREAM_PUSH_AFTER_EOF$1);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?addChunk$1(e,s,t,!1):maybeReadMore$1(e,s)):addChunk$1(e,s,t,!1)}else n||(s.reading=!1,maybeReadMore$1(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function addChunk$1(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&emitReadable$1(e)),maybeReadMore$1(e,t)}function chunkInvalid$1(e,t){var r;return _isUint8Array$2(t)||"string"==typeof t||void 0===t||e.objectMode||(r=new ERR_INVALID_ARG_TYPE$2("chunk",["string","Buffer","Uint8Array"],t)),r}Object.defineProperty(Readable$2.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),Readable$2.prototype.destroy=destroyImpl$2.destroy,Readable$2.prototype._undestroy=destroyImpl$2.undestroy,Readable$2.prototype._destroy=function(e,t){t(e)},Readable$2.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=Buffer$j.from(e,t),t=""),r=!0),readableAddChunk$1(this,e,t,!1,r)},Readable$2.prototype.unshift=function(e){return readableAddChunk$1(this,e,null,!0,!1)},Readable$2.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable$2.prototype.setEncoding=function(e){StringDecoder$4||(StringDecoder$4=string_decoder$2.StringDecoder);var t=new StringDecoder$4(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var MAX_HWM$1=1073741824;function computeNewHighWaterMark$1(e){return e>=MAX_HWM$1?e=MAX_HWM$1:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function howMuchToRead$1(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=computeNewHighWaterMark$1(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function onEofChunk$1(e,t){if(debug$1("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?emitReadable$1(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,emitReadable_$1(e)))}}function emitReadable$1(e){var t=e._readableState;debug$1("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(debug$1("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(emitReadable_$1,e))}function emitReadable_$1(e){var t=e._readableState;debug$1("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,flow$1(e)}function maybeReadMore$1(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(maybeReadMore_$1,e,t))}function maybeReadMore_$1(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(debug$1("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function pipeOnDrain$1(e){return function(){var t=e._readableState;debug$1("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&EElistenerCount$1(e,"data")&&(t.flowing=!0,flow$1(e))}}function updateReadableListening$1(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function nReadingNextTick$1(e){debug$1("readable nexttick read 0"),e.read(0)}function resume$1(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(resume_$1,e,t))}function resume_$1(e,t){debug$1("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),flow$1(e),t.flowing&&!t.reading&&e.read(0)}function flow$1(e){var t=e._readableState;for(debug$1("flow",t.flowing);t.flowing&&null!==e.read(););}function fromList$1(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function endReadable$1(e){var t=e._readableState;debug$1("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(endReadableNT$1,t,e))}function endReadableNT$1(e,t){if(debug$1("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function indexOf$1(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}Readable$2.prototype.read=function(e){debug$1("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return debug$1("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?endReadable$1(this):emitReadable$1(this),null;if(0===(e=howMuchToRead$1(e,t))&&t.ended)return 0===t.length&&endReadable$1(this),null;var n,i=t.needReadable;return debug$1("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&debug$1("length less than watermark",i=!0),t.ended||t.reading?debug$1("reading or ended",i=!1):i&&(debug$1("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=howMuchToRead$1(r,t))),null===(n=e>0?fromList$1(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&endReadable$1(this)),null!==n&&this.emit("data",n),n},Readable$2.prototype._read=function(e){errorOrDestroy$3(this,new ERR_METHOD_NOT_IMPLEMENTED$4("_read()"))},Readable$2.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,debug$1("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?s:d;function o(t,i){debug$1("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,debug$1("cleanup"),e.removeListener("close",f),e.removeListener("finish",h),e.removeListener("drain",a),e.removeListener("error",c),e.removeListener("unpipe",o),r.removeListener("end",s),r.removeListener("end",d),r.removeListener("data",l),u=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||a())}function s(){debug$1("onend"),e.end()}n.endEmitted?process.nextTick(i):r.once("end",i),e.on("unpipe",o);var a=pipeOnDrain$1(r);e.on("drain",a);var u=!1;function l(t){debug$1("ondata");var i=e.write(t);debug$1("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==indexOf$1(n.pipes,e))&&!u&&(debug$1("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function c(t){debug$1("onerror",t),d(),e.removeListener("error",c),0===EElistenerCount$1(e,"error")&&errorOrDestroy$3(e,t)}function f(){e.removeListener("finish",h),d()}function h(){debug$1("onfinish"),e.removeListener("close",f),d()}function d(){debug$1("unpipe"),r.unpipe(e)}return r.on("data",l),prependListener$1(e,"error",c),e.once("close",f),e.once("finish",h),e.emit("pipe",r),n.flowing||(debug$1("pipe resume"),r.resume()),e},Readable$2.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=indexOf$1(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},Readable$2.prototype.on=function(e,t){var r=Stream$2.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,debug$1("on readable",n.length,n.reading),n.length?emitReadable$1(this):n.reading||process.nextTick(nReadingNextTick$1,this))),r},Readable$2.prototype.addListener=Readable$2.prototype.on,Readable$2.prototype.removeListener=function(e,t){var r=Stream$2.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(updateReadableListening$1,this),r},Readable$2.prototype.removeAllListeners=function(e){var t=Stream$2.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(updateReadableListening$1,this),t},Readable$2.prototype.resume=function(){var e=this._readableState;return e.flowing||(debug$1("resume"),e.flowing=!e.readableListening,resume$1(this,e)),e.paused=!1,this},Readable$2.prototype.pause=function(){return debug$1("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug$1("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Readable$2.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(debug$1("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(debug$1("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<kProxyEvents$1.length;o++)e.on(kProxyEvents$1[o],this.emit.bind(this,kProxyEvents$1[o]));return this._read=function(t){debug$1("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(Readable$2.prototype[Symbol.asyncIterator]=function(){return void 0===createReadableStreamAsyncIterator$2&&(createReadableStreamAsyncIterator$2=async_iterator$1),createReadableStreamAsyncIterator$2(this)}),Object.defineProperty(Readable$2.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Readable$2.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Readable$2.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),Readable$2._fromList=fromList$1,Object.defineProperty(Readable$2.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(Readable$2.from=function(e,t){return void 0===from$3&&(from$3=fromBrowser$1),from$3(Readable$2,e,t)});var _stream_transform$1=Transform$7,_require$codes$5=errorsBrowser$1.codes,ERR_METHOD_NOT_IMPLEMENTED$3=_require$codes$5.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK$2=_require$codes$5.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING$1=_require$codes$5.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0$1=_require$codes$5.ERR_TRANSFORM_WITH_LENGTH_0,Duplex$4=_stream_duplex$1;function afterTransform$1(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new ERR_MULTIPLE_CALLBACK$2);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Transform$7(e){if(!(this instanceof Transform$7))return new Transform$7(e);Duplex$4.call(this,e),this._transformState={afterTransform:afterTransform$1.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",prefinish$2)}function prefinish$2(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?done$1(this,null,null):this._flush((function(t,r){done$1(e,t,r)}))}function done$1(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0$1;if(e._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING$1;return e.push(null)}inherits_browser$5.exports(Transform$7,Duplex$4),Transform$7.prototype.push=function(e,t){return this._transformState.needTransform=!1,Duplex$4.prototype.push.call(this,e,t)},Transform$7.prototype._transform=function(e,t,r){r(new ERR_METHOD_NOT_IMPLEMENTED$3("_transform()"))},Transform$7.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Transform$7.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},Transform$7.prototype._destroy=function(e,t){Duplex$4.prototype._destroy.call(this,e,(function(e){t(e)}))};var _stream_passthrough$1=PassThrough$1,Transform$6=_stream_transform$1,eos$2;function PassThrough$1(e){if(!(this instanceof PassThrough$1))return new PassThrough$1(e);Transform$6.call(this,e)}function once$3(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}inherits_browser$5.exports(PassThrough$1,Transform$6),PassThrough$1.prototype._transform=function(e,t,r){r(null,e)};var _require$codes$4=errorsBrowser$1.codes,ERR_MISSING_ARGS$1=_require$codes$4.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED$2=_require$codes$4.ERR_STREAM_DESTROYED;function noop$7(e){if(e)throw e}function isRequest$2(e){return e.setHeader&&"function"==typeof e.abort}function destroyer$1(e,t,r,n){n=once$3(n);var i=!1;e.on("close",(function(){i=!0})),void 0===eos$2&&(eos$2=endOfStream$1),eos$2(e,{readable:t,writable:r},(function(e){if(e)return n(e);i=!0,n()}));var o=!1;return function(t){if(!i&&!o)return o=!0,isRequest$2(e)?e.abort():"function"==typeof e.destroy?e.destroy():void n(t||new ERR_STREAM_DESTROYED$2("pipe"))}}function call$1(e){e()}function pipe$2(e,t){return e.pipe(t)}function popCallback$1(e){return e.length?"function"!=typeof e[e.length-1]?noop$7:e.pop():noop$7}function pipeline$1(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=popCallback$1(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new ERR_MISSING_ARGS$1("streams");var o=t.map((function(e,r){var s=r<t.length-1;return destroyer$1(e,s,r>0,(function(e){n||(n=e),e&&o.forEach(call$1),s||(o.forEach(call$1),i(n))}))}));return t.reduce(pipe$2)}var pipeline_1$1=pipeline$1;!function(e,t){(t=e.exports=_stream_readable$1).Stream=t,t.Readable=t,t.Writable=_stream_writable$1,t.Duplex=_stream_duplex$1,t.Transform=_stream_transform$1,t.PassThrough=_stream_passthrough$1,t.finished=endOfStream$1,t.pipeline=pipeline_1$1}(readableBrowser$1,readableBrowser$1.exports);const{Transform:Transform$5}=readableBrowser$1.exports;var keccak$2=e=>class t extends Transform$5{constructor(t,r,n,i,o){super(o),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._hashBitLength=i,this._options=o,this._state=new e,this._state.initialize(t,r),this._finalized=!1}_transform(e,t,r){let n=null;try{this.update(e,t)}catch(i){n=i}r(n)}_flush(e){let t=null;try{this.push(this.digest())}catch(r){t=r}e(t)}update(e,t){if(!buffer$2.Buffer.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return buffer$2.Buffer.isBuffer(e)||(e=buffer$2.Buffer.from(e,t)),this._state.absorb(e),this}digest(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let t=this._state.squeeze(this._hashBitLength/8);return void 0!==e&&(t=t.toString(e)),this._resetState(),t}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const e=new t(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}};const{Transform:Transform$4}=readableBrowser$1.exports;var shake=e=>class t extends Transform$4{constructor(t,r,n,i){super(i),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._options=i,this._state=new e,this._state.initialize(t,r),this._finalized=!1}_transform(e,t,r){let n=null;try{this.update(e,t)}catch(i){n=i}r(n)}_flush(){}_read(e){this.push(this.squeeze(e))}update(e,t){if(!buffer$2.Buffer.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return buffer$2.Buffer.isBuffer(e)||(e=buffer$2.Buffer.from(e,t)),this._state.absorb(e),this}squeeze(e,t){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let r=this._state.squeeze(e);return void 0!==t&&(r=r.toString(t)),r}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const e=new t(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}};const createKeccak=keccak$2,createShake=shake;var api=function(e){const t=createKeccak(e),r=createShake(e);return function(e,n){switch("string"==typeof e?e.toLowerCase():e){case"keccak224":return new t(1152,448,null,224,n);case"keccak256":return new t(1088,512,null,256,n);case"keccak384":return new t(832,768,null,384,n);case"keccak512":return new t(576,1024,null,512,n);case"sha3-224":return new t(1152,448,6,224,n);case"sha3-256":return new t(1088,512,6,256,n);case"sha3-384":return new t(832,768,6,384,n);case"sha3-512":return new t(576,1024,6,512,n);case"shake128":return new r(1344,256,31,n);case"shake256":return new r(1088,512,31,n);default:throw new Error("Invald algorithm: "+e)}}},keccakStateUnroll={};const P1600_ROUND_CONSTANTS=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];keccakStateUnroll.p1600=function(e){for(let t=0;t<24;++t){const r=e[0]^e[10]^e[20]^e[30]^e[40],n=e[1]^e[11]^e[21]^e[31]^e[41],i=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],s=e[4]^e[14]^e[24]^e[34]^e[44],a=e[5]^e[15]^e[25]^e[35]^e[45],u=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],c=e[8]^e[18]^e[28]^e[38]^e[48],f=e[9]^e[19]^e[29]^e[39]^e[49];let h=c^(i<<1|o>>>31),d=f^(o<<1|i>>>31);const p=e[0]^h,g=e[1]^d,m=e[10]^h,y=e[11]^d,b=e[20]^h,v=e[21]^d,_=e[30]^h,$=e[31]^d,w=e[40]^h,E=e[41]^d;h=r^(s<<1|a>>>31),d=n^(a<<1|s>>>31);const S=e[2]^h,A=e[3]^d,R=e[12]^h,N=e[13]^d,x=e[22]^h,k=e[23]^d,C=e[32]^h,T=e[33]^d,M=e[42]^h,P=e[43]^d;h=i^(u<<1|l>>>31),d=o^(l<<1|u>>>31);const I=e[4]^h,O=e[5]^d,B=e[14]^h,L=e[15]^d,D=e[24]^h,U=e[25]^d,F=e[34]^h,j=e[35]^d,H=e[44]^h,W=e[45]^d;h=s^(c<<1|f>>>31),d=a^(f<<1|c>>>31);const z=e[6]^h,q=e[7]^d,G=e[16]^h,V=e[17]^d,K=e[26]^h,J=e[27]^d,Y=e[36]^h,X=e[37]^d,Z=e[46]^h,Q=e[47]^d;h=u^(r<<1|n>>>31),d=l^(n<<1|r>>>31);const ee=e[8]^h,te=e[9]^d,re=e[18]^h,ne=e[19]^d,ie=e[28]^h,oe=e[29]^d,se=e[38]^h,ae=e[39]^d,ue=e[48]^h,le=e[49]^d,ce=p,fe=g,he=y<<4|m>>>28,de=m<<4|y>>>28,pe=b<<3|v>>>29,ge=v<<3|b>>>29,me=$<<9|_>>>23,ye=_<<9|$>>>23,be=w<<18|E>>>14,ve=E<<18|w>>>14,_e=S<<1|A>>>31,$e=A<<1|S>>>31,we=N<<12|R>>>20,Ee=R<<12|N>>>20,Se=x<<10|k>>>22,Ae=k<<10|x>>>22,Re=T<<13|C>>>19,Ne=C<<13|T>>>19,xe=M<<2|P>>>30,ke=P<<2|M>>>30,Ce=O<<30|I>>>2,Te=I<<30|O>>>2,Me=B<<6|L>>>26,Pe=L<<6|B>>>26,Ie=U<<11|D>>>21,Oe=D<<11|U>>>21,Be=F<<15|j>>>17,Le=j<<15|F>>>17,De=W<<29|H>>>3,Ue=H<<29|W>>>3,Fe=z<<28|q>>>4,je=q<<28|z>>>4,He=V<<23|G>>>9,We=G<<23|V>>>9,ze=K<<25|J>>>7,qe=J<<25|K>>>7,Ge=Y<<21|X>>>11,Ve=X<<21|Y>>>11,Ke=Q<<24|Z>>>8,Je=Z<<24|Q>>>8,Ye=ee<<27|te>>>5,Xe=te<<27|ee>>>5,Ze=re<<20|ne>>>12,Qe=ne<<20|re>>>12,et=oe<<7|ie>>>25,tt=ie<<7|oe>>>25,rt=se<<8|ae>>>24,nt=ae<<8|se>>>24,it=ue<<14|le>>>18,ot=le<<14|ue>>>18;e[0]=ce^~we&Ie,e[1]=fe^~Ee&Oe,e[10]=Fe^~Ze&pe,e[11]=je^~Qe&ge,e[20]=_e^~Me&ze,e[21]=$e^~Pe&qe,e[30]=Ye^~he&Se,e[31]=Xe^~de&Ae,e[40]=Ce^~He&et,e[41]=Te^~We&tt,e[2]=we^~Ie&Ge,e[3]=Ee^~Oe&Ve,e[12]=Ze^~pe&Re,e[13]=Qe^~ge&Ne,e[22]=Me^~ze&rt,e[23]=Pe^~qe&nt,e[32]=he^~Se&Be,e[33]=de^~Ae&Le,e[42]=He^~et&me,e[43]=We^~tt&ye,e[4]=Ie^~Ge&it,e[5]=Oe^~Ve&ot,e[14]=pe^~Re&De,e[15]=ge^~Ne&Ue,e[24]=ze^~rt&be,e[25]=qe^~nt&ve,e[34]=Se^~Be&Ke,e[35]=Ae^~Le&Je,e[44]=et^~me&xe,e[45]=tt^~ye&ke,e[6]=Ge^~it&ce,e[7]=Ve^~ot&fe,e[16]=Re^~De&Fe,e[17]=Ne^~Ue&je,e[26]=rt^~be&_e,e[27]=nt^~ve&$e,e[36]=Be^~Ke&Ye,e[37]=Le^~Je&Xe,e[46]=me^~xe&Ce,e[47]=ye^~ke&Te,e[8]=it^~ce&we,e[9]=ot^~fe&Ee,e[18]=De^~Fe&Ze,e[19]=Ue^~je&Qe,e[28]=be^~_e&Me,e[29]=ve^~$e&Pe,e[38]=Ke^~Ye&he,e[39]=Je^~Xe&de,e[48]=xe^~Ce&He,e[49]=ke^~Te&We,e[0]^=P1600_ROUND_CONSTANTS[2*t],e[1]^=P1600_ROUND_CONSTANTS[2*t+1]}};const keccakState=keccakStateUnroll;function Keccak(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Keccak.prototype.initialize=function(e,t){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1},Keccak.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(keccakState.p1600(this.state),this.count=0)},Keccak.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<this.count%4*8,0!=(128&e)&&this.count===this.blockSize-1&&keccakState.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,keccakState.p1600(this.state),this.count=0,this.squeezing=!0},Keccak.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);const t=buffer$2.Buffer.alloc(e);for(let r=0;r<e;++r)t[r]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(keccakState.p1600(this.state),this.count=0);return t},Keccak.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing};var keccak$1=Keccak,js=api(keccak$1);Object.defineProperty(keccak$3,"__esModule",{value:!0});var hash_utils_1=hashUtils,createKeccakHash$1=js;keccak$3.keccak224=hash_utils_1.createHashFunction((function(){return createKeccakHash$1("keccak224")})),keccak$3.keccak256=hash_utils_1.createHashFunction((function(){return createKeccakHash$1("keccak256")})),keccak$3.keccak384=hash_utils_1.createHashFunction((function(){return createKeccakHash$1("keccak384")})),keccak$3.keccak512=hash_utils_1.createHashFunction((function(){return createKeccakHash$1("keccak512")}));var secp256k1$2={};const errors$3={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function assert$d(e,t){if(!e)throw new Error(t)}function isUint8Array(e,t,r){if(assert$d(t instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),void 0!==r)if(Array.isArray(r)){const n=`Expected ${e} to be an Uint8Array with length [${r.join(", ")}]`;assert$d(r.includes(t.length),n)}else{const n=`Expected ${e} to be an Uint8Array with length ${r}`;assert$d(t.length===r,n)}}function isCompressed(e){assert$d("Boolean"===toTypeString(e),"Expected compressed to be a Boolean")}function getAssertedOutput(e=(e=>new Uint8Array(e)),t){return"function"==typeof e&&(e=e(t)),isUint8Array("output",e,t),e}function toTypeString(e){return Object.prototype.toString.call(e).slice(8,-1)}var lib$3=e=>({contextRandomize(t){if(assert$d(null===t||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==t&&isUint8Array("seed",t,32),1===e.contextRandomize(t))throw new Error(errors$3.CONTEXT_RANDOMIZE_UNKNOW)},privateKeyVerify:t=>(isUint8Array("private key",t,32),0===e.privateKeyVerify(t)),privateKeyNegate(t){switch(isUint8Array("private key",t,32),e.privateKeyNegate(t)){case 0:return t;case 1:throw new Error(errors$3.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(t,r){switch(isUint8Array("private key",t,32),isUint8Array("tweak",r,32),e.privateKeyTweakAdd(t,r)){case 0:return t;case 1:throw new Error(errors$3.TWEAK_ADD)}},privateKeyTweakMul(t,r){switch(isUint8Array("private key",t,32),isUint8Array("tweak",r,32),e.privateKeyTweakMul(t,r)){case 0:return t;case 1:throw new Error(errors$3.TWEAK_MUL)}},publicKeyVerify:t=>(isUint8Array("public key",t,[33,65]),0===e.publicKeyVerify(t)),publicKeyCreate(t,r=!0,n){switch(isUint8Array("private key",t,32),isCompressed(r),n=getAssertedOutput(n,r?33:65),e.publicKeyCreate(n,t)){case 0:return n;case 1:throw new Error(errors$3.SECKEY_INVALID);case 2:throw new Error(errors$3.PUBKEY_SERIALIZE)}},publicKeyConvert(t,r=!0,n){switch(isUint8Array("public key",t,[33,65]),isCompressed(r),n=getAssertedOutput(n,r?33:65),e.publicKeyConvert(n,t)){case 0:return n;case 1:throw new Error(errors$3.PUBKEY_PARSE);case 2:throw new Error(errors$3.PUBKEY_SERIALIZE)}},publicKeyNegate(t,r=!0,n){switch(isUint8Array("public key",t,[33,65]),isCompressed(r),n=getAssertedOutput(n,r?33:65),e.publicKeyNegate(n,t)){case 0:return n;case 1:throw new Error(errors$3.PUBKEY_PARSE);case 2:throw new Error(errors$3.IMPOSSIBLE_CASE);case 3:throw new Error(errors$3.PUBKEY_SERIALIZE)}},publicKeyCombine(t,r=!0,n){assert$d(Array.isArray(t),"Expected public keys to be an Array"),assert$d(t.length>0,"Expected public keys array will have more than zero items");for(const e of t)isUint8Array("public key",e,[33,65]);switch(isCompressed(r),n=getAssertedOutput(n,r?33:65),e.publicKeyCombine(n,t)){case 0:return n;case 1:throw new Error(errors$3.PUBKEY_PARSE);case 2:throw new Error(errors$3.PUBKEY_COMBINE);case 3:throw new Error(errors$3.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(t,r,n=!0,i){switch(isUint8Array("public key",t,[33,65]),isUint8Array("tweak",r,32),isCompressed(n),i=getAssertedOutput(i,n?33:65),e.publicKeyTweakAdd(i,t,r)){case 0:return i;case 1:throw new Error(errors$3.PUBKEY_PARSE);case 2:throw new Error(errors$3.TWEAK_ADD)}},publicKeyTweakMul(t,r,n=!0,i){switch(isUint8Array("public key",t,[33,65]),isUint8Array("tweak",r,32),isCompressed(n),i=getAssertedOutput(i,n?33:65),e.publicKeyTweakMul(i,t,r)){case 0:return i;case 1:throw new Error(errors$3.PUBKEY_PARSE);case 2:throw new Error(errors$3.TWEAK_MUL)}},signatureNormalize(t){switch(isUint8Array("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(errors$3.SIG_PARSE)}},signatureExport(t,r){isUint8Array("signature",t,64);const n={output:r=getAssertedOutput(r,72),outputlen:72};switch(e.signatureExport(n,t)){case 0:return r.slice(0,n.outputlen);case 1:throw new Error(errors$3.SIG_PARSE);case 2:throw new Error(errors$3.IMPOSSIBLE_CASE)}},signatureImport(t,r){switch(isUint8Array("signature",t),r=getAssertedOutput(r,64),e.signatureImport(r,t)){case 0:return r;case 1:throw new Error(errors$3.SIG_PARSE);case 2:throw new Error(errors$3.IMPOSSIBLE_CASE)}},ecdsaSign(t,r,n={},i){isUint8Array("message",t,32),isUint8Array("private key",r,32),assert$d("Object"===toTypeString(n),"Expected options to be an Object"),void 0!==n.data&&isUint8Array("options.data",n.data),void 0!==n.noncefn&&assert$d("Function"===toTypeString(n.noncefn),"Expected options.noncefn to be a Function");const o={signature:i=getAssertedOutput(i,64),recid:null};switch(e.ecdsaSign(o,t,r,n.data,n.noncefn)){case 0:return o;case 1:throw new Error(errors$3.SIGN);case 2:throw new Error(errors$3.IMPOSSIBLE_CASE)}},ecdsaVerify(t,r,n){switch(isUint8Array("signature",t,64),isUint8Array("message",r,32),isUint8Array("public key",n,[33,65]),e.ecdsaVerify(t,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(errors$3.SIG_PARSE);case 2:throw new Error(errors$3.PUBKEY_PARSE)}},ecdsaRecover(t,r,n,i=!0,o){switch(isUint8Array("signature",t,64),assert$d("Number"===toTypeString(r)&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),isUint8Array("message",n,32),isCompressed(i),o=getAssertedOutput(o,i?33:65),e.ecdsaRecover(o,t,r,n)){case 0:return o;case 1:throw new Error(errors$3.SIG_PARSE);case 2:throw new Error(errors$3.RECOVER);case 3:throw new Error(errors$3.IMPOSSIBLE_CASE)}},ecdh(t,r,n={},i){switch(isUint8Array("public key",t,[33,65]),isUint8Array("private key",r,32),assert$d("Object"===toTypeString(n),"Expected options to be an Object"),void 0!==n.data&&isUint8Array("options.data",n.data),void 0!==n.hashfn?(assert$d("Function"===toTypeString(n.hashfn),"Expected options.hashfn to be a Function"),void 0!==n.xbuf&&isUint8Array("options.xbuf",n.xbuf,32),void 0!==n.ybuf&&isUint8Array("options.ybuf",n.ybuf,32),isUint8Array("output",i)):i=getAssertedOutput(i,32),e.ecdh(i,t,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(errors$3.PUBKEY_PARSE);case 2:throw new Error(errors$3.ECDH)}}}),elliptic$2={};const name$1="elliptic",version$6="6.5.4",description$1="EC cryptography",main$1="lib/elliptic.js",files=["lib"],scripts$1={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository$1={type:"git",url:"git@github.com:indutny/elliptic"},keywords$1=["EC","Elliptic","curve","Cryptography"],author$1="Fedor Indutny <fedor@indutny.com>",license$1="MIT",bugs={url:"https://github.com/indutny/elliptic/issues"},homepage="https://github.com/indutny/elliptic",devDependencies$1={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies$1={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"};var require$$0$2={name:name$1,version:version$6,description:description$1,main:main$1,files:files,scripts:scripts$1,repository:repository$1,keywords:keywords$1,author:author$1,license:license$1,bugs:bugs,homepage:homepage,devDependencies:devDependencies$1,dependencies:dependencies$1},utils$h={},utils$g={};!function(e){var t=e;function r(e){return 1===e.length?"0"+e:e}function n(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},t.zero2=r,t.toHex=n,t.encode=function(e,t){return"hex"===t?n(e):e}}(utils$g),function(e){var t=e,r=bn$4.exports,n=minimalisticAssert$4,i=utils$g;t.assert=n,t.toArray=i.toArray,t.zero2=i.zero2,t.toHex=i.toHex,t.encode=i.encode,t.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),s=0;s<n.length;s++){var a,u=o.andln(i-1);o.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},t.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var s,a,u=e.andln(3)+i&3,l=t.andln(3)+o&3;3===u&&(u=-1),3===l&&(l=-1),s=0==(1&u)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==l?u:-u,r[0].push(s),a=0==(1&l)?0:3!==(n=t.andln(7)+o&7)&&5!==n||2!==u?l:-l,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},t.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},t.parseBytes=function(e){return"string"==typeof e?t.toArray(e,"hex"):e},t.intFromLE=function(e){return new r(e,"hex","le")}}(utils$h);var brorand={exports:{}},r$4;function Rand(e){this.rand=e}if(brorand.exports=function(e){return r$4||(r$4=new Rand(null)),r$4.generate(e)},brorand.exports.Rand=Rand,Rand.prototype.generate=function(e){return this._rand(e)},Rand.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?Rand.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?Rand.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(Rand.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var crypto$3=require("crypto");if("function"!=typeof crypto$3.randomBytes)throw new Error("Not supported");Rand.prototype._rand=function(e){return crypto$3.randomBytes(e)}}catch(e){}var curve={},BN$g=bn$4.exports,utils$f=utils$h,getNAF=utils$f.getNAF,getJSF=utils$f.getJSF,assert$c=utils$f.assert;function BaseCurve(e,t){this.type=e,this.p=new BN$g(t.p,16),this.red=t.prime?BN$g.red(t.prime):BN$g.mont(this.p),this.zero=new BN$g(0).toRed(this.red),this.one=new BN$g(1).toRed(this.red),this.two=new BN$g(2).toRed(this.red),this.n=t.n&&new BN$g(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$1=BaseCurve;function BasePoint(e,t){this.curve=e,this.type=t,this.precomputed=null}BaseCurve.prototype.point=function(){throw new Error("Not implemented")},BaseCurve.prototype.validate=function(){throw new Error("Not implemented")},BaseCurve.prototype._fixedNafMul=function(e,t){assert$c(e.precomputed);var r=e._getDoubles(),n=getNAF(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,s,a=[];for(o=0;o<n.length;o+=r.step){s=0;for(var u=o+r.step-1;u>=o;u--)s=(s<<1)+n[u];a.push(s)}for(var l=this.jpoint(null,null,null),c=this.jpoint(null,null,null),f=i;f>0;f--){for(o=0;o<a.length;o++)(s=a[o])===f?c=c.mixedAdd(r.points[o]):s===-f&&(c=c.mixedAdd(r.points[o].neg()));l=l.add(c)}return l.toP()},BaseCurve.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=getNAF(t,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var u=0;a>=0&&0===o[a];a--)u++;if(a>=0&&u++,s=s.dblp(u),a<0)break;var l=o[a];assert$c(0!==l),s="affine"===e.type?l>0?s.mixedAdd(i[l-1>>1]):s.mixedAdd(i[-l-1>>1].neg()):l>0?s.add(i[l-1>>1]):s.add(i[-l-1>>1].neg())}return"affine"===e.type?s.toP():s},BaseCurve.prototype._wnafMulAdd=function(e,t,r,n,i){var o,s,a,u=this._wnafT1,l=this._wnafT2,c=this._wnafT3,f=0;for(o=0;o<n;o++){var h=(a=t[o])._getNAFPoints(e);u[o]=h.wnd,l[o]=h.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1===u[d]&&1===u[p]){var g=[t[d],null,null,t[p]];0===t[d].y.cmp(t[p].y)?(g[1]=t[d].add(t[p]),g[2]=t[d].toJ().mixedAdd(t[p].neg())):0===t[d].y.cmp(t[p].y.redNeg())?(g[1]=t[d].toJ().mixedAdd(t[p]),g[2]=t[d].add(t[p].neg())):(g[1]=t[d].toJ().mixedAdd(t[p]),g[2]=t[d].toJ().mixedAdd(t[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],y=getJSF(r[d],r[p]);for(f=Math.max(y[0].length,f),c[d]=new Array(f),c[p]=new Array(f),s=0;s<f;s++){var b=0|y[0][s],v=0|y[1][s];c[d][s]=m[3*(b+1)+(v+1)],c[p][s]=0,l[d]=g}}else c[d]=getNAF(r[d],u[d],this._bitLength),c[p]=getNAF(r[p],u[p],this._bitLength),f=Math.max(c[d].length,f),f=Math.max(c[p].length,f)}var _=this.jpoint(null,null,null),$=this._wnafT4;for(o=f;o>=0;o--){for(var w=0;o>=0;){var E=!0;for(s=0;s<n;s++)$[s]=0|c[s][o],0!==$[s]&&(E=!1);if(!E)break;w++,o--}if(o>=0&&w++,_=_.dblp(w),o<0)break;for(s=0;s<n;s++){var S=$[s];0!==S&&(S>0?a=l[s][S-1>>1]:S<0&&(a=l[s][-S-1>>1].neg()),_="affine"===a.type?_.mixedAdd(a):_.add(a))}}for(o=0;o<n;o++)l[o]=null;return i?_:_.toP()},BaseCurve.BasePoint=BasePoint,BasePoint.prototype.eq=function(){throw new Error("Not implemented")},BasePoint.prototype.validate=function(){return this.curve.validate(this)},BaseCurve.prototype.decodePoint=function(e,t){e=utils$f.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?assert$c(e[e.length-1]%2==0):7===e[0]&&assert$c(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},BasePoint.prototype.encodeCompressed=function(e){return this.encode(e,!0)},BasePoint.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},BasePoint.prototype.encode=function(e,t){return utils$f.encode(this._encode(t),e)},BasePoint.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},BasePoint.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},BasePoint.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},BasePoint.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},BasePoint.prototype._getBeta=function(){return null},BasePoint.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var utils$e=utils$h,BN$f=bn$4.exports,inherits$i=inherits_browser$5.exports,Base$3=base$1,assert$b=utils$e.assert;function ShortCurve(e){Base$3.call(this,"short",e),this.a=new BN$f(e.a,16).toRed(this.red),this.b=new BN$f(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits$i(ShortCurve,Base$3);var short=ShortCurve;function Point$2(e,t,r,n){Base$3.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$f(t,16),this.y=new BN$f(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function JPoint(e,t,r,n){Base$3.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$f(0)):(this.x=new BN$f(t,16),this.y=new BN$f(r,16),this.z=new BN$f(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}ShortCurve.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new BN$f(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new BN$f(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],assert$b(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new BN$f(e.a,16),b:new BN$f(e.b,16)}})):this._getEndoBasis(r)}}},ShortCurve.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:BN$f.mont(e),r=new BN$f(2).toRed(t).redInvm(),n=r.redNeg(),i=new BN$f(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},ShortCurve.prototype._getEndoBasis=function(e){for(var t,r,n,i,o,s,a,u,l,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,h=this.n.clone(),d=new BN$f(1),p=new BN$f(0),g=new BN$f(0),m=new BN$f(1),y=0;0!==f.cmpn(0);){var b=h.div(f);u=h.sub(b.mul(f)),l=g.sub(b.mul(d));var v=m.sub(b.mul(p));if(!n&&u.cmp(c)<0)t=a.neg(),r=d,n=u.neg(),i=l;else if(n&&2==++y)break;a=u,h=f,f=u,g=d,d=l,m=p,p=v}o=u.neg(),s=l;var _=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(_)>=0&&(o=t,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},ShortCurve.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),l=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:u.add(l).neg()}},ShortCurve.prototype.pointFromX=function(e,t){(e=new BN$f(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},ShortCurve.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},ShortCurve.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var l=this._wnafMulAdd(1,n,i,2*o,r),c=0;c<2*o;c++)n[c]=null,i[c]=null;return l},inherits$i(Point$2,Base$3.BasePoint),ShortCurve.prototype.point=function(e,t,r){return new Point$2(this,e,t,r)},ShortCurve.prototype.pointFromJSON=function(e,t){return Point$2.fromJSON(this,e,t)},Point$2.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},Point$2.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point$2.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},Point$2.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point$2.prototype.isInfinity=function(){return this.inf},Point$2.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Point$2.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},Point$2.prototype.getX=function(){return this.x.fromRed()},Point$2.prototype.getY=function(){return this.y.fromRed()},Point$2.prototype.mul=function(e){return e=new BN$f(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Point$2.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Point$2.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Point$2.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},Point$2.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},Point$2.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},inherits$i(JPoint,Base$3.BasePoint),ShortCurve.prototype.jpoint=function(e,t,r){return new JPoint(this,e,t,r)},JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),c=l.redMul(a),f=n.redMul(l),h=u.redSqr().redIAdd(c).redISub(f).redISub(f),d=u.redMul(f.redISub(h)).redISub(o.redMul(c)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(h,d,p)},JPoint.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),l=u.redMul(s),c=r.redMul(u),f=a.redSqr().redIAdd(l).redISub(c).redISub(c),h=a.redMul(c.redISub(f)).redISub(i.redMul(l)),d=this.z.redMul(s);return this.curve.jpoint(f,h,d)},JPoint.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),l=s.redAdd(s);for(t=0;t<e;t++){var c=o.redSqr(),f=l.redSqr(),h=f.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(u)),p=o.redMul(f),g=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),y=d.redMul(m);y=y.redIAdd(y).redISub(h);var b=l.redMul(a);t+1<e&&(u=u.redMul(h)),o=g,a=b,l=y}return this.curve.jpoint(o,l.redMul(i),a)},JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=u,t=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(c).redISub(h);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),g=p.redSqr(),m=h.redIAdd(h);m=(m=m.redIAdd(m)).redIAdd(m),e=g.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},JPoint.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);e=u;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),f=this.y.redSqr(),h=this.x.redMul(f),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=h.redIAdd(h),g=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(c);var m=f.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=d.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},JPoint.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),u=t.redAdd(t),l=(u=u.redIAdd(u)).redMul(s),c=a.redSqr().redISub(l.redAdd(l)),f=l.redISub(c),h=s.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=a.redMul(f).redISub(h),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,d,p)},JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),c=t.redMul(l);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.x.redMul(a).redISub(c);f=(f=f.redIAdd(f)).redIAdd(f);var h=this.y.redMul(l.redMul(u.redISub(l)).redISub(s.redMul(a)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(f,h,d)},JPoint.prototype.mul=function(e,t){return e=new BN$f(e,t),this.curve._wnafMul(this,e)},JPoint.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},JPoint.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var BN$e=bn$4.exports,inherits$h=inherits_browser$5.exports,Base$2=base$1,utils$d=utils$h;function MontCurve(e){Base$2.call(this,"mont",e),this.a=new BN$e(e.a,16).toRed(this.red),this.b=new BN$e(e.b,16).toRed(this.red),this.i4=new BN$e(4).toRed(this.red).redInvm(),this.two=new BN$e(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}inherits$h(MontCurve,Base$2);var mont=MontCurve;function Point$1(e,t,r){Base$2.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN$e(t,16),this.z=new BN$e(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}MontCurve.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},inherits$h(Point$1,Base$2.BasePoint),MontCurve.prototype.decodePoint=function(e,t){return this.point(utils$d.toArray(e,t),1)},MontCurve.prototype.point=function(e,t){return new Point$1(this,e,t)},MontCurve.prototype.pointFromJSON=function(e){return Point$1.fromJSON(this,e)},Point$1.prototype.precompute=function(){},Point$1.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Point$1.fromJSON=function(e,t){return new Point$1(e,t[0],t[1]||e.one)},Point$1.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point$1.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Point$1.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},Point$1.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},Point$1.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),s=i.redMul(n),a=t.z.redMul(o.redAdd(s).redSqr()),u=t.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,u)},Point$1.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},Point$1.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Point$1.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Point$1.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},Point$1.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Point$1.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var utils$c=utils$h,BN$d=bn$4.exports,inherits$g=inherits_browser$5.exports,Base$1=base$1,assert$a=utils$c.assert;function EdwardsCurve(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,Base$1.call(this,"edwards",e),this.a=new BN$d(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN$d(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN$d(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert$a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}inherits$g(EdwardsCurve,Base$1);var edwards=EdwardsCurve;function Point(e,t,r,n,i){Base$1.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN$d(t,16),this.y=new BN$d(r,16),this.z=n?new BN$d(n,16):this.curve.one,this.t=i&&new BN$d(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}EdwardsCurve.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},EdwardsCurve.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},EdwardsCurve.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},EdwardsCurve.prototype.pointFromX=function(e,t){(e=new BN$d(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=n.redMul(i.redInvm()),s=o.redSqrt();if(0!==s.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var a=s.fromRed().isOdd();return(t&&!a||!t&&a)&&(s=s.redNeg()),this.point(e,s)},EdwardsCurve.prototype.pointFromY=function(e,t){(e=new BN$d(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),i=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=n.redMul(i.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=o.redSqrt();if(0!==s.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},EdwardsCurve.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},inherits$g(Point,Base$1.BasePoint),EdwardsCurve.prototype.pointFromJSON=function(e){return Point.fromJSON(this,e)},EdwardsCurve.prototype.point=function(e,t,r,n){return new Point(this,e,t,r,n)},Point.fromJSON=function(e,t){return new Point(e,t[0],t[1],t[2])},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},Point.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),s=o.redSub(r),a=n.redSub(t),u=i.redMul(s),l=o.redMul(a),c=i.redMul(a),f=s.redMul(o);return this.curve.point(u,l,f,c)},Point.prototype._projDbl=function(){var e,t,r,n,i,o,s=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),u=this.y.redSqr();if(this.curve.twisted){var l=(n=this.curve._mulA(a)).redAdd(u);this.zOne?(e=s.redSub(a).redSub(u).redMul(l.redSub(this.curve.two)),t=l.redMul(n.redSub(u)),r=l.redSqr().redSub(l).redSub(l)):(i=this.z.redSqr(),o=l.redSub(i).redISub(i),e=s.redSub(a).redISub(u).redMul(o),t=l.redMul(n.redSub(u)),r=l.redMul(o))}else n=a.redAdd(u),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),e=this.curve._mulC(s.redISub(n)).redMul(o),t=this.curve._mulC(n).redMul(a.redISub(u)),r=n.redMul(o);return this.curve.point(e,t,r)},Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Point.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),s=i.redSub(n),a=i.redAdd(n),u=r.redAdd(t),l=o.redMul(s),c=a.redMul(u),f=o.redMul(u),h=s.redMul(a);return this.curve.point(l,c,h,f)},Point.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(o).redMul(s),u=i.redSub(a),l=i.redAdd(a),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(s),f=n.redMul(u).redMul(c);return this.curve.twisted?(t=n.redMul(l).redMul(s.redSub(this.curve._mulA(o))),r=u.redMul(l)):(t=n.redMul(l).redMul(s.redSub(o)),r=this.curve._mulC(u).redMul(l)),this.curve.point(f,t,r)},Point.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},Point.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},Point.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},Point.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},Point.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Point.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},Point.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},Point.prototype.toP=Point.prototype.normalize,Point.prototype.mixedAdd=Point.prototype.add,function(e){var t=e;t.base=base$1,t.short=short,t.mont=mont,t.edwards=edwards}(curve);var curves$2={};!function(t){var r,n=t,i=hash$4,o=curve,s=utils$h.assert;function a(e){"short"===e.type?this.curve=new o.short(e):"edwards"===e.type?this.curve=new o.edwards(e):this.curve=new o.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new a(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=a,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:i.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:i.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:i.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:i.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:i.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=require("./precomputed/secp256k1")}catch(e){r=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:i.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}(curves$2);var hash$3=hash$4,utils$b=utils$g,assert$9=minimalisticAssert$4;function HmacDRBG$1(e){if(!(this instanceof HmacDRBG$1))return new HmacDRBG$1(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=utils$b.toArray(e.entropy,e.entropyEnc||"hex"),r=utils$b.toArray(e.nonce,e.nonceEnc||"hex"),n=utils$b.toArray(e.pers,e.persEnc||"hex");assert$9(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var hmacDrbg=HmacDRBG$1;HmacDRBG$1.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},HmacDRBG$1.prototype._hmac=function(){return new hash$3.hmac(this.hash,this.K)},HmacDRBG$1.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG$1.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=utils$b.toArray(e,t),r=utils$b.toArray(r,n),assert$9(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},HmacDRBG$1.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=utils$b.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(r),this._reseed++,utils$b.encode(o,t)};var BN$c=bn$4.exports,utils$a=utils$h,assert$8=utils$a.assert;function KeyPair$3(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var key$1=KeyPair$3;KeyPair$3.fromPublic=function(e,t,r){return t instanceof KeyPair$3?t:new KeyPair$3(e,{pub:t,pubEnc:r})},KeyPair$3.fromPrivate=function(e,t,r){return t instanceof KeyPair$3?t:new KeyPair$3(e,{priv:t,privEnc:r})},KeyPair$3.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair$3.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},KeyPair$3.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},KeyPair$3.prototype._importPrivate=function(e,t){this.priv=new BN$c(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair$3.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?assert$8(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||assert$8(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},KeyPair$3.prototype.derive=function(e){return e.validate()||assert$8(e.validate(),"public point not validated"),e.mul(this.priv).getX()},KeyPair$3.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},KeyPair$3.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},KeyPair$3.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var BN$b=bn$4.exports,utils$9=utils$h,assert$7=utils$9.assert;function Signature$3(e,t){if(e instanceof Signature$3)return e;this._importDER(e,t)||(assert$7(e.r&&e.s,"Signature without r or s"),this.r=new BN$b(e.r,16),this.s=new BN$b(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var signature$2=Signature$3;function Position(){this.place=0}function getLength$1(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function rmPadding(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function constructLength(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}Signature$3.prototype._importDER=function(e,t){e=utils$9.toArray(e,t);var r=new Position;if(48!==e[r.place++])return!1;var n=getLength$1(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=getLength$1(e,r);if(!1===i)return!1;var o=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var s=getLength$1(e,r);if(!1===s)return!1;if(e.length!==s+r.place)return!1;var a=e.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new BN$b(o),this.s=new BN$b(a),this.recoveryParam=null,!0},Signature$3.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=rmPadding(t),r=rmPadding(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];constructLength(n,t.length),(n=n.concat(t)).push(2),constructLength(n,r.length);var i=n.concat(r),o=[48];return constructLength(o,i.length),o=o.concat(i),utils$9.encode(o,e)};var BN$a=bn$4.exports,HmacDRBG=hmacDrbg,utils$8=utils$h,curves$1=curves$2,rand=brorand.exports,assert$6=utils$8.assert,KeyPair$2=key$1,Signature$2=signature$2;function EC$3(e){if(!(this instanceof EC$3))return new EC$3(e);"string"==typeof e&&(assert$6(Object.prototype.hasOwnProperty.call(curves$1,e),"Unknown curve "+e),e=curves$1[e]),e instanceof curves$1.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var ec$3=EC$3;EC$3.prototype.keyPair=function(e){return new KeyPair$2(this,e)},EC$3.prototype.keyFromPrivate=function(e,t){return KeyPair$2.fromPrivate(this,e,t)},EC$3.prototype.keyFromPublic=function(e,t){return KeyPair$2.fromPublic(this,e,t)},EC$3.prototype.genKeyPair=function(e){e||(e={});for(var t=new HmacDRBG({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||rand(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new BN$a(2));;){var i=new BN$a(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},EC$3.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},EC$3.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new BN$a(e,16));for(var i=this.n.byteLength(),o=t.getPrivate().toArray("be",i),s=e.toArray("be",i),a=new HmacDRBG({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new BN$a(1)),l=0;;l++){var c=n.k?n.k(l):new BN$a(a.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||c.cmp(u)>=0)){var f=this.g.mul(c);if(!f.isInfinity()){var h=f.getX(),d=h.umod(this.n);if(0!==d.cmpn(0)){var p=c.invm(this.n).mul(d.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var g=(f.getY().isOdd()?1:0)|(0!==h.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),g^=1),new Signature$2({r:d,s:p,recoveryParam:g})}}}}}},EC$3.prototype.verify=function(e,t,r,n){e=this._truncateToN(new BN$a(e,16)),r=this.keyFromPublic(r,n);var i=(t=new Signature$2(t,"hex")).r,o=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),u=a.mul(e).umod(this.n),l=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,r.getPublic(),l)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(u,r.getPublic(),l)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},EC$3.prototype.recoverPubKey=function(e,t,r,n){assert$6((3&r)===r,"The recovery param is more than two bits"),t=new Signature$2(t,n);var i=this.n,o=new BN$a(e),s=t.r,a=t.s,u=1&r,l=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");s=l?this.curve.pointFromX(s.add(this.curve.n),u):this.curve.pointFromX(s,u);var c=t.r.invm(i),f=i.sub(o).mul(c).umod(i),h=a.mul(c).umod(i);return this.g.mulAdd(f,s,h)},EC$3.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new Signature$2(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var utils$7=utils$h,assert$5=utils$7.assert,parseBytes$2=utils$7.parseBytes,cachedProperty$1=utils$7.cachedProperty;function KeyPair$1(e,t){this.eddsa=e,this._secret=parseBytes$2(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=parseBytes$2(t.pub)}KeyPair$1.fromPublic=function(e,t){return t instanceof KeyPair$1?t:new KeyPair$1(e,{pub:t})},KeyPair$1.fromSecret=function(e,t){return t instanceof KeyPair$1?t:new KeyPair$1(e,{secret:t})},KeyPair$1.prototype.secret=function(){return this._secret},cachedProperty$1(KeyPair$1,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),cachedProperty$1(KeyPair$1,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),cachedProperty$1(KeyPair$1,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),cachedProperty$1(KeyPair$1,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),cachedProperty$1(KeyPair$1,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),cachedProperty$1(KeyPair$1,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),KeyPair$1.prototype.sign=function(e){return assert$5(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},KeyPair$1.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},KeyPair$1.prototype.getSecret=function(e){return assert$5(this._secret,"KeyPair is public only"),utils$7.encode(this.secret(),e)},KeyPair$1.prototype.getPublic=function(e){return utils$7.encode(this.pubBytes(),e)};var key=KeyPair$1,BN$9=bn$4.exports,utils$6=utils$h,assert$4=utils$6.assert,cachedProperty=utils$6.cachedProperty,parseBytes$1=utils$6.parseBytes;function Signature$1(e,t){this.eddsa=e,"object"!=typeof t&&(t=parseBytes$1(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),assert$4(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof BN$9&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}cachedProperty(Signature$1,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),cachedProperty(Signature$1,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),cachedProperty(Signature$1,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),cachedProperty(Signature$1,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),Signature$1.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Signature$1.prototype.toHex=function(){return utils$6.encode(this.toBytes(),"hex").toUpperCase()};var signature$1=Signature$1,hash$2=hash$4,curves=curves$2,utils$5=utils$h,assert$3=utils$5.assert,parseBytes=utils$5.parseBytes,KeyPair=key,Signature=signature$1;function EDDSA(e){if(assert$3("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(e);e=curves[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=hash$2.sha512}var eddsa=EDDSA;EDDSA.prototype.sign=function(e,t){e=parseBytes(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),s=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),a=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:a,Rencoded:o})},EDDSA.prototype.verify=function(e,t,r){e=parseBytes(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},EDDSA.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return utils$5.intFromLE(e.digest()).umod(this.curve.n)},EDDSA.prototype.keyFromPublic=function(e){return KeyPair.fromPublic(this,e)},EDDSA.prototype.keyFromSecret=function(e){return KeyPair.fromSecret(this,e)},EDDSA.prototype.makeSignature=function(e){return e instanceof Signature?e:new Signature(this,e)},EDDSA.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},EDDSA.prototype.decodePoint=function(e){var t=(e=utils$5.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),i=utils$5.intFromLE(r);return this.curve.pointFromY(i,n)},EDDSA.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},EDDSA.prototype.decodeInt=function(e){return utils$5.intFromLE(e)},EDDSA.prototype.isPoint=function(e){return e instanceof this.pointClass},function(e){var t=e;t.version=require$$0$2.version,t.utils=utils$h,t.rand=brorand.exports,t.curve=curve,t.curves=curves$2,t.ec=ec$3,t.eddsa=eddsa}(elliptic$2);const EC$2=elliptic$2.ec,ec$2=new EC$2("secp256k1"),ecparams$2=ec$2.curve,BN$8=ecparams$2.n.constructor;function loadCompressedPublicKey(e,t){let r=new BN$8(t);if(r.cmp(ecparams$2.p)>=0)return null;r=r.toRed(ecparams$2.red);let n=r.redSqr().redIMul(r).redIAdd(ecparams$2.b).redSqrt();return 3===e!==n.isOdd()&&(n=n.redNeg()),ec$2.keyPair({pub:{x:r,y:n}})}function loadUncompressedPublicKey(e,t,r){let n=new BN$8(t),i=new BN$8(r);if(n.cmp(ecparams$2.p)>=0||i.cmp(ecparams$2.p)>=0)return null;if(n=n.toRed(ecparams$2.red),i=i.toRed(ecparams$2.red),(6===e||7===e)&&i.isOdd()!==(7===e))return null;const o=n.redSqr().redIMul(n);return i.redSqr().redISub(o.redIAdd(ecparams$2.b)).isZero()?ec$2.keyPair({pub:{x:n,y:i}}):null}function loadPublicKey(e){const t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:loadCompressedPublicKey(t,e.subarray(1,33));case 4:case 6:case 7:return 65!==e.length?null:loadUncompressedPublicKey(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function savePublicKey(e,t){const r=t.encode(null,33===e.length);for(let n=0;n<e.length;++n)e[n]=r[n]}var elliptic$1={contextRandomize:()=>0,privateKeyVerify(e){const t=new BN$8(e);return t.cmp(ecparams$2.n)<0&&!t.isZero()?0:1},privateKeyNegate(e){const t=new BN$8(e),r=ecparams$2.n.sub(t).umod(ecparams$2.n).toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakAdd(e,t){const r=new BN$8(t);if(r.cmp(ecparams$2.n)>=0)return 1;if(r.iadd(new BN$8(e)),r.cmp(ecparams$2.n)>=0&&r.isub(ecparams$2.n),r.isZero())return 1;const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakMul(e,t){let r=new BN$8(t);if(r.cmp(ecparams$2.n)>=0||r.isZero())return 1;r.imul(new BN$8(e)),r.cmp(ecparams$2.n)>=0&&(r=r.umod(ecparams$2.n));const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},publicKeyVerify:e=>null===loadPublicKey(e)?1:0,publicKeyCreate(e,t){const r=new BN$8(t);if(r.cmp(ecparams$2.n)>=0||r.isZero())return 1;return savePublicKey(e,ec$2.keyFromPrivate(t).getPublic()),0},publicKeyConvert(e,t){const r=loadPublicKey(t);if(null===r)return 1;return savePublicKey(e,r.getPublic()),0},publicKeyNegate(e,t){const r=loadPublicKey(t);if(null===r)return 1;const n=r.getPublic();return n.y=n.y.redNeg(),savePublicKey(e,n),0},publicKeyCombine(e,t){const r=new Array(t.length);for(let i=0;i<t.length;++i)if(r[i]=loadPublicKey(t[i]),null===r[i])return 1;let n=r[0].getPublic();for(let i=1;i<r.length;++i)n=n.add(r[i].pub);return n.isInfinity()?2:(savePublicKey(e,n),0)},publicKeyTweakAdd(e,t,r){const n=loadPublicKey(t);if(null===n)return 1;if((r=new BN$8(r)).cmp(ecparams$2.n)>=0)return 2;const i=n.getPublic().add(ecparams$2.g.mul(r));return i.isInfinity()?2:(savePublicKey(e,i),0)},publicKeyTweakMul(e,t,r){const n=loadPublicKey(t);if(null===n)return 1;if((r=new BN$8(r)).cmp(ecparams$2.n)>=0||r.isZero())return 2;return savePublicKey(e,n.getPublic().mul(r)),0},signatureNormalize(e){const t=new BN$8(e.subarray(0,32)),r=new BN$8(e.subarray(32,64));return t.cmp(ecparams$2.n)>=0||r.cmp(ecparams$2.n)>=0?1:(1===r.cmp(ec$2.nh)&&e.set(ecparams$2.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){const r=t.subarray(0,32),n=t.subarray(32,64);if(new BN$8(r).cmp(ecparams$2.n)>=0)return 1;if(new BN$8(n).cmp(ecparams$2.n)>=0)return 1;const{output:i}=e;let o=i.subarray(4,37);o[0]=0,o.set(r,1);let s=33,a=0;for(;s>1&&0===o[a]&&!(128&o[a+1]);--s,++a);if(o=o.subarray(a),128&o[0])return 1;if(s>1&&0===o[0]&&!(128&o[1]))return 1;let u=i.subarray(39,72);u[0]=0,u.set(n,1);let l=33,c=0;for(;l>1&&0===u[c]&&!(128&u[c+1]);--l,++c);return u=u.subarray(c),128&u[0]||l>1&&0===u[0]&&!(128&u[1])?1:(e.outputlen=6+s+l,i[0]=48,i[1]=e.outputlen-2,i[2]=2,i[3]=o.length,i.set(o,4),i[4+s]=2,i[5+s]=u.length,i.set(u,6+s),0)},signatureImport(e,t){if(t.length<8)return 1;if(t.length>72)return 1;if(48!==t[0])return 1;if(t[1]!==t.length-2)return 1;if(2!==t[2])return 1;const r=t[3];if(0===r)return 1;if(5+r>=t.length)return 1;if(2!==t[4+r])return 1;const n=t[5+r];if(0===n)return 1;if(6+r+n!==t.length)return 1;if(128&t[4])return 1;if(r>1&&0===t[4]&&!(128&t[5]))return 1;if(128&t[r+6])return 1;if(n>1&&0===t[r+6]&&!(128&t[r+7]))return 1;let i=t.subarray(4,4+r);if(33===i.length&&0===i[0]&&(i=i.subarray(1)),i.length>32)return 1;let o=t.subarray(6+r);if(33===o.length&&0===o[0]&&(o=o.slice(1)),o.length>32)throw new Error("S length is too long");let s=new BN$8(i);s.cmp(ecparams$2.n)>=0&&(s=new BN$8(0));let a=new BN$8(t.subarray(6+r));return a.cmp(ecparams$2.n)>=0&&(a=new BN$8(0)),e.set(s.toArrayLike(Uint8Array,"be",32),0),e.set(a.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,t,r,n,i){if(i){const e=i;i=i=>{const o=e(t,r,null,n,i);if(!(o instanceof Uint8Array&&32===o.length))throw new Error("This is the way");return new BN$8(o)}}const o=new BN$8(r);if(o.cmp(ecparams$2.n)>=0||o.isZero())return 1;let s;try{s=ec$2.sign(t,r,{canonical:!0,k:i,pers:n})}catch(a){return 1}return e.signature.set(s.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(s.s.toArrayLike(Uint8Array,"be",32),32),e.recid=s.recoveryParam,0},ecdsaVerify(e,t,r){const n={r:e.subarray(0,32),s:e.subarray(32,64)},i=new BN$8(n.r),o=new BN$8(n.s);if(i.cmp(ecparams$2.n)>=0||o.cmp(ecparams$2.n)>=0)return 1;if(1===o.cmp(ec$2.nh)||i.isZero()||o.isZero())return 3;const s=loadPublicKey(r);if(null===s)return 2;const a=s.getPublic();return ec$2.verify(t,n,a)?0:3},ecdsaRecover(e,t,r,n){const i={r:t.slice(0,32),s:t.slice(32,64)},o=new BN$8(i.r),s=new BN$8(i.s);if(o.cmp(ecparams$2.n)>=0||s.cmp(ecparams$2.n)>=0)return 1;if(o.isZero()||s.isZero())return 2;let a;try{a=ec$2.recoverPubKey(n,i,r)}catch(u){return 2}return savePublicKey(e,a),0},ecdh(e,t,r,n,i,o,s){const a=loadPublicKey(t);if(null===a)return 1;const u=new BN$8(r);if(u.cmp(ecparams$2.n)>=0||u.isZero())return 2;const l=a.getPublic().mul(u);if(void 0===i){const t=l.encode(null,!0),r=ec$2.hash().update(t).digest();for(let n=0;n<32;++n)e[n]=r[n]}else{o||(o=new Uint8Array(32));const t=l.getX().toArray("be",32);for(let e=0;e<32;++e)o[e]=t[e];s||(s=new Uint8Array(32));const r=l.getY().toArray("be",32);for(let e=0;e<32;++e)s[e]=r[e];const a=i(o,s,n);if(!(a instanceof Uint8Array&&a.length===e.length))return 2;e.set(a)}return 0}},elliptic=lib$3(elliptic$1),random={},browser$3={exports:{}},MAX_BYTES=65536,MAX_UINT32=4294967295;function oldBrowser(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}var Buffer$i=safeBuffer.exports.Buffer,crypto$2=commonjsGlobal$1.crypto||commonjsGlobal$1.msCrypto;function randomBytes$1(e,t){if(e>MAX_UINT32)throw new RangeError("requested too many random bytes");var r=Buffer$i.allocUnsafe(e);if(e>0)if(e>MAX_BYTES)for(var n=0;n<e;n+=MAX_BYTES)crypto$2.getRandomValues(r.slice(n,n+MAX_BYTES));else crypto$2.getRandomValues(r);return"function"==typeof t?process.nextTick((function(){t(null,r)})):r}crypto$2&&crypto$2.getRandomValues?browser$3.exports=randomBytes$1:browser$3.exports=oldBrowser,Object.defineProperty(random,"__esModule",{value:!0});var randombytes=browser$3.exports;function getRandomBytes(e){return new Promise((function(t,r){randombytes(e,(function(e,n){e?r(e):t(n)}))}))}function getRandomBytesSync(e){return randombytes(e)}random.getRandomBytes=getRandomBytes,random.getRandomBytesSync=getRandomBytesSync,function(t){var r=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(t,r,n,i){return new(n||(n=Promise))((function(o,s){function a(t){try{l(i.next(t))}catch(e){s(e)}}function u(t){try{l(i.throw(t))}catch(e){s(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,u)}l((i=i.apply(t,r||[])).next())}))},n=commonjsGlobal$1&&commonjsGlobal$1.__generator||function(t,r){var n,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=r.call(t,a)}catch(e){s=[6,e],i=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=elliptic,o=random;t.createPrivateKey=function(){return r(this,void 0,void 0,(function(){var e;return n(this,(function(t){switch(t.label){case 0:return[4,o.getRandomBytes(32)];case 1:return e=t.sent(),i.privateKeyVerify(e)?[2,e]:[3,0];case 2:return[2]}}))}))},t.createPrivateKeySync=function(){for(;;){var e=o.getRandomBytesSync(32);if(i.privateKeyVerify(e))return e}},function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(elliptic)}(secp256k1$2);var secp256k1Lib={},BN$7=bn$4.exports,EC$1=elliptic$2.ec,ec$1=new EC$1("secp256k1"),ecparams$1=ec$1.curve;secp256k1Lib.privateKeyExport=function(e,t){var r=new BN$7(e);if(r.ucmp(ecparams$1.n)>=0)throw new Error("couldn't export to DER format");var n=ec$1.g.mul(r);return toPublicKey$1(n.getX(),n.getY(),t)},secp256k1Lib.privateKeyModInverse=function(e){var t=new BN$7(e);if(t.ucmp(ecparams$1.n)>=0||t.isZero())throw new Error("private key range is invalid");return t.invm(ecparams$1.n).toArrayLike(buffer$2.Buffer,"be",32)},secp256k1Lib.signatureImport=function(e){var t=new BN$7(e.r);t.ucmp(ecparams$1.n)>=0&&(t=new BN$7(0));var r=new BN$7(e.s);return r.ucmp(ecparams$1.n)>=0&&(r=new BN$7(0)),buffer$2.Buffer.concat([t.toArrayLike(buffer$2.Buffer,"be",32),r.toArrayLike(buffer$2.Buffer,"be",32)])},secp256k1Lib.ecdhUnsafe=function(e,t,r){var n=ec$1.keyFromPublic(e),i=new BN$7(t);if(i.ucmp(ecparams$1.n)>=0||i.isZero())throw new Error("scalar was invalid (zero or overflow)");var o=n.pub.mul(i);return toPublicKey$1(o.getX(),o.getY(),r)};var toPublicKey$1=function(e,t,r){var n=void 0;return r?((n=buffer$2.Buffer.alloc(33))[0]=t.isOdd()?3:2,e.toArrayLike(buffer$2.Buffer,"be",32).copy(n,1)):((n=buffer$2.Buffer.alloc(65))[0]=4,e.toArrayLike(buffer$2.Buffer,"be",32).copy(n,1),t.toArrayLike(buffer$2.Buffer,"be",32).copy(n,33)),n},der$2={},EC_PRIVKEY_EXPORT_DER_COMPRESSED$1=buffer$2.Buffer.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),EC_PRIVKEY_EXPORT_DER_UNCOMPRESSED$1=buffer$2.Buffer.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);der$2.privateKeyExport=function(e,t,r){var n=buffer$2.Buffer.from(r?EC_PRIVKEY_EXPORT_DER_COMPRESSED$1:EC_PRIVKEY_EXPORT_DER_UNCOMPRESSED$1);return e.copy(n,r?8:9),t.copy(n,r?181:214),n},der$2.privateKeyImport=function(e){var t=e.length,r=0;if(t<r+1||48!==e[r])return null;if(t<(r+=1)+1||!(128&e[r]))return null;var n=127&e[r];if(n<1||n>2)return null;if(t<(r+=1)+n)return null;var i=e[r+n-1]|(n>1?e[r+n-2]<<8:0);return t<(r+=n)+i||t<r+3||2!==e[r]||1!==e[r+1]||1!==e[r+2]||t<(r+=3)+2||4!==e[r]||e[r+1]>32||t<r+2+e[r+1]?null:e.slice(r+2,r+2+e[r+1])},der$2.signatureImportLax=function(e){var t=buffer$2.Buffer.alloc(32,0),r=buffer$2.Buffer.alloc(32,0),n=e.length,i=0;if(48!==e[i++])return null;var o=e[i++];if(128&o&&(i+=o-128)>n)return null;if(2!==e[i++])return null;var s=e[i++];if(128&s){if(i+(o=s-128)>n)return null;for(;o>0&&0===e[i];i+=1,o-=1);for(s=0;o>0;i+=1,o-=1)s=(s<<8)+e[i]}if(s>n-i)return null;var a=i;if(i+=s,2!==e[i++])return null;var u=e[i++];if(128&u){if(i+(o=u-128)>n)return null;for(;o>0&&0===e[i];i+=1,o-=1);for(u=0;o>0;i+=1,o-=1)u=(u<<8)+e[i]}if(u>n-i)return null;var l=i;for(i+=u;s>0&&0===e[a];s-=1,a+=1);if(s>32)return null;var c=e.slice(a,a+s);for(c.copy(t,32-c.length);u>0&&0===e[l];u-=1,l+=1);if(u>32)return null;var f=e.slice(l,l+u);return f.copy(r,32-f.length),{r:t,s:r}};var secp256k1$1=secp256k1$2,secp256k1v3=secp256k1Lib,der$1=der$2,privateKeyVerify=function(e){return 32===e.length&&secp256k1$1.privateKeyVerify(Uint8Array.from(e))},privateKeyExport=function(e,t){if(32!==e.length)throw new RangeError("private key length is invalid");var r=secp256k1v3.privateKeyExport(e,t);return der$1.privateKeyExport(e,r,t)},privateKeyImport=function(e){if(null!==(e=der$1.privateKeyImport(e))&&32===e.length&&privateKeyVerify(e))return e;throw new Error("couldn't import from DER format")},privateKeyNegate=function(e){return buffer$2.Buffer.from(secp256k1$1.privateKeyNegate(Uint8Array.from(e)))},privateKeyModInverse=function(e){if(32!==e.length)throw new Error("private key length is invalid");return buffer$2.Buffer.from(secp256k1v3.privateKeyModInverse(Uint8Array.from(e)))},privateKeyTweakAdd=function(e,t){return buffer$2.Buffer.from(secp256k1$1.privateKeyTweakAdd(Uint8Array.from(e),t))},privateKeyTweakMul=function(e,t){return buffer$2.Buffer.from(secp256k1$1.privateKeyTweakMul(Uint8Array.from(e),Uint8Array.from(t)))},publicKeyCreate=function(e,t){return buffer$2.Buffer.from(secp256k1$1.publicKeyCreate(Uint8Array.from(e),t))},publicKeyConvert=function(e,t){return buffer$2.Buffer.from(secp256k1$1.publicKeyConvert(Uint8Array.from(e),t))},publicKeyVerify=function(e){return(33===e.length||65===e.length)&&secp256k1$1.publicKeyVerify(Uint8Array.from(e))},publicKeyTweakAdd=function(e,t,r){return buffer$2.Buffer.from(secp256k1$1.publicKeyTweakAdd(Uint8Array.from(e),Uint8Array.from(t),r))},publicKeyTweakMul=function(e,t,r){return buffer$2.Buffer.from(secp256k1$1.publicKeyTweakMul(Uint8Array.from(e),Uint8Array.from(t),r))},publicKeyCombine=function(e,t){var r=[];return e.forEach((function(e){r.push(Uint8Array.from(e))})),buffer$2.Buffer.from(secp256k1$1.publicKeyCombine(r,t))},signatureNormalize=function(e){return buffer$2.Buffer.from(secp256k1$1.signatureNormalize(Uint8Array.from(e)))},signatureExport=function(e){return buffer$2.Buffer.from(secp256k1$1.signatureExport(Uint8Array.from(e)))},signatureImport=function(e){return buffer$2.Buffer.from(secp256k1$1.signatureImport(Uint8Array.from(e)))},signatureImportLax=function(e){if(0===e.length)throw new RangeError("signature length is invalid");var t=der$1.signatureImportLax(e);if(null===t)throw new Error("couldn't parse DER signature");return secp256k1v3.signatureImport(t)},sign=function(e,t,r){if(null===r)throw new TypeError("options should be an Object");var n=void 0;if(r){if(n={},null===r.data)throw new TypeError("options.data should be a Buffer");if(r.data){if(32!==r.data.length)throw new RangeError("options.data length is invalid");n.data=new Uint8Array(r.data)}if(null===r.noncefn)throw new TypeError("options.noncefn should be a Function");r.noncefn&&(n.noncefn=function(e,t,n,i,o){var s=null!=n?buffer$2.Buffer.from(n):null,a=null!=i?buffer$2.Buffer.from(i):null,u=buffer$2.Buffer.from("");return r.noncefn&&(u=r.noncefn(buffer$2.Buffer.from(e),buffer$2.Buffer.from(t),s,a,o)),Uint8Array.from(u)})}var i=secp256k1$1.ecdsaSign(Uint8Array.from(e),Uint8Array.from(t),n);return{signature:buffer$2.Buffer.from(i.signature),recovery:i.recid}},verify=function(e,t,r){return secp256k1$1.ecdsaVerify(Uint8Array.from(t),Uint8Array.from(e),r)},recover=function(e,t,r,n){return buffer$2.Buffer.from(secp256k1$1.ecdsaRecover(Uint8Array.from(t),r,Uint8Array.from(e),n))},ecdh=function(e,t){return buffer$2.Buffer.from(secp256k1$1.ecdh(Uint8Array.from(e),Uint8Array.from(t),{}))},ecdhUnsafe=function(e,t,r){if(33!==e.length&&65!==e.length)throw new RangeError("public key length is invalid");if(32!==t.length)throw new RangeError("private key length is invalid");return buffer$2.Buffer.from(secp256k1v3.ecdhUnsafe(Uint8Array.from(e),Uint8Array.from(t),r))},secp256k1Adapter={privateKeyVerify:privateKeyVerify,privateKeyExport:privateKeyExport,privateKeyImport:privateKeyImport,privateKeyNegate:privateKeyNegate,privateKeyModInverse:privateKeyModInverse,privateKeyTweakAdd:privateKeyTweakAdd,privateKeyTweakMul:privateKeyTweakMul,publicKeyCreate:publicKeyCreate,publicKeyConvert:publicKeyConvert,publicKeyVerify:publicKeyVerify,publicKeyTweakAdd:publicKeyTweakAdd,publicKeyTweakMul:publicKeyTweakMul,publicKeyCombine:publicKeyCombine,signatureNormalize:signatureNormalize,signatureExport:signatureExport,signatureImport:signatureImport,signatureImportLax:signatureImportLax,sign:sign,verify:verify,recover:recover,ecdh:ecdh,ecdhUnsafe:ecdhUnsafe},assert$2={exports:{}},getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty$6=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==n.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(o){return!1}}var objectAssign$1=shouldUseNative()?Object.assign:function(e,t){for(var r,n,i=toObject(e),o=1;o<arguments.length;o++){for(var s in r=Object(arguments[o]))hasOwnProperty$6.call(r,s)&&(i[s]=r[s]);if(getOwnPropertySymbols){n=getOwnPropertySymbols(r);for(var a=0;a<n.length;a++)propIsEnumerable.call(r,n[a])&&(i[n[a]]=r[n[a]])}}return i},util$8={},isBufferBrowser=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8},inherits_browser={exports:{}};"function"==typeof Object.create?inherits_browser.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:inherits_browser.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},function(e){var t=/%[sdj%]/g;e.format=function(e){if(!p(e)){for(var r=[],n=0;n<arguments.length;n++)r.push(i(arguments[n]));return r.join(" ")}n=1;for(var o=arguments,s=o.length,a=String(e).replace(t,(function(e){if("%%"===e)return"%";if(n>=s)return e;switch(e){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(_){return"[Circular]"}default:return e}})),u=o[n];n<s;u=o[++n])h(u)||!y(u)?a+=" "+u:a+=" "+i(u);return a},e.deprecate=function(t,r){if(g(commonjsGlobal$1.process))return function(){return e.deprecate(t,r).apply(this,arguments)};if(!0===process.noDeprecation)return t;var n=!1;return function(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return t.apply(this,arguments)}};var r,n={};function i(t,r){var n={seen:[],stylize:s};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),f(r)?n.showHidden=r:r&&e._extend(n,r),g(n.showHidden)&&(n.showHidden=!1),g(n.depth)&&(n.depth=2),g(n.colors)&&(n.colors=!1),g(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=o),a(n,t,n.depth)}function o(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function s(e,t){return e}function a(t,r,n){if(t.customInspect&&r&&$(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return p(i)||(i=a(t,i,n)),i}var o=function(e,t){if(g(t))return e.stylize("undefined","undefined");if(p(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(d(t))return e.stylize(""+t,"number");if(f(t))return e.stylize(""+t,"boolean");if(h(t))return e.stylize("null","null")}(t,r);if(o)return o;var s=Object.keys(r),y=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(r)),v(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return u(r);if(0===s.length){if($(r)){var _=r.name?": "+r.name:"";return t.stylize("[Function"+_+"]","special")}if(m(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(b(r))return t.stylize(Date.prototype.toString.call(r),"date");if(v(r))return u(r)}var w,E="",S=!1,A=["{","}"];(c(r)&&(S=!0,A=["[","]"]),$(r))&&(E=" [Function"+(r.name?": "+r.name:"")+"]");return m(r)&&(E=" "+RegExp.prototype.toString.call(r)),b(r)&&(E=" "+Date.prototype.toUTCString.call(r)),v(r)&&(E=" "+u(r)),0!==s.length||S&&0!=r.length?n<0?m(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),w=S?function(e,t,r,n,i){for(var o=[],s=0,a=t.length;s<a;++s)R(t,String(s))?o.push(l(e,t,r,n,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(l(e,t,r,n,i,!0))})),o}(t,r,n,y,s):s.map((function(e){return l(t,r,n,y,e,S)})),t.seen.pop(),function(e,t,r){if(e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(w,E,A)):A[0]+E+A[1]}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function l(e,t,r,n,i,o){var s,u,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?u=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(u=e.stylize("[Setter]","special")),R(n,i)||(s="["+i+"]"),u||(e.seen.indexOf(l.value)<0?(u=h(r)?a(e,l.value,null):a(e,l.value,r-1)).indexOf("\n")>-1&&(u=o?u.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+u.split("\n").map((function(e){return"   "+e})).join("\n")):u=e.stylize("[Circular]","special")),g(s)){if(o&&i.match(/^\d+$/))return u;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function c(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function h(e){return null===e}function d(e){return"number"==typeof e}function p(e){return"string"==typeof e}function g(e){return void 0===e}function m(e){return y(e)&&"[object RegExp]"===w(e)}function y(e){return"object"==typeof e&&null!==e}function b(e){return y(e)&&"[object Date]"===w(e)}function v(e){return y(e)&&("[object Error]"===w(e)||e instanceof Error)}function $(e){return"function"==typeof e}function w(e){return Object.prototype.toString.call(e)}function E(e){return e<10?"0"+e.toString(10):e.toString(10)}e.debuglog=function(t){if(g(r)&&(r={}.NODE_DEBUG||""),t=t.toUpperCase(),!n[t])if(new RegExp("\\b"+t+"\\b","i").test(r)){var i=process.pid;n[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,i,r)}}else n[t]=function(){};return n[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=c,e.isBoolean=f,e.isNull=h,e.isNullOrUndefined=function(e){return null==e},e.isNumber=d,e.isString=p,e.isSymbol=function(e){return"symbol"==typeof e},e.isUndefined=g,e.isRegExp=m,e.isObject=y,e.isDate=b,e.isError=v,e.isFunction=$,e.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},e.isBuffer=isBufferBrowser;var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var e=new Date,t=[E(e.getHours()),E(e.getMinutes()),E(e.getSeconds())].join(":");return[e.getDate(),S[e.getMonth()],t].join(" ")}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.log=function(){console.log("%s - %s",A(),e.format.apply(e,arguments))},e.inherits=inherits_browser.exports,e._extend=function(e,t){if(!t||!y(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}(util$8);var objectAssign=objectAssign$1;
/*!
			 * The buffer module from node.js, for the browser.
			 *
			 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
			 * @license  MIT
			 */function compare(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}function isBuffer$2(e){return commonjsGlobal$1.Buffer&&"function"==typeof commonjsGlobal$1.Buffer.isBuffer?commonjsGlobal$1.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var util$7=util$8,hasOwn=Object.prototype.hasOwnProperty,pSlice=Array.prototype.slice,functionsHaveNames="foo"===function(){}.name;function pToString(e){return Object.prototype.toString.call(e)}function isView(e){return!isBuffer$2(e)&&("function"==typeof commonjsGlobal$1.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var assert$1=assert$2.exports=ok,regex$1=/\s*function\s+([^\(\s]*)\s*/;function getName(e){if(util$7.isFunction(e)){if(functionsHaveNames)return e.name;var t=e.toString().match(regex$1);return t&&t[1]}}function truncate(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function inspect$1(e){if(functionsHaveNames||!util$7.isFunction(e))return util$7.inspect(e);var t=getName(e);return"[Function"+(t?": "+t:"")+"]"}function getMessage(e){return truncate(inspect$1(e.actual),128)+" "+e.operator+" "+truncate(inspect$1(e.expected),128)}function fail(e,t,r,n,i){throw new assert$1.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function ok(e,t){e||fail(e,!0,t,"==",assert$1.ok)}function _deepEqual(e,t,r,n){if(e===t)return!0;if(isBuffer$2(e)&&isBuffer$2(t))return 0===compare(e,t);if(util$7.isDate(e)&&util$7.isDate(t))return e.getTime()===t.getTime();if(util$7.isRegExp(e)&&util$7.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(isView(e)&&isView(t)&&pToString(e)===pToString(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===compare(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(isBuffer$2(e)!==isBuffer$2(t))return!1;var i=(n=n||{actual:[],expected:[]}).actual.indexOf(e);return-1!==i&&i===n.expected.indexOf(t)||(n.actual.push(e),n.expected.push(t),objEquiv(e,t,r,n))}return r?e===t:e==t}function isArguments$2(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function objEquiv(e,t,r,n){if(null==e||null==t)return!1;if(util$7.isPrimitive(e)||util$7.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=isArguments$2(e),o=isArguments$2(t);if(i&&!o||!i&&o)return!1;if(i)return _deepEqual(e=pSlice.call(e),t=pSlice.call(t),r);var s,a,u=objectKeys$2(e),l=objectKeys$2(t);if(u.length!==l.length)return!1;for(u.sort(),l.sort(),a=u.length-1;a>=0;a--)if(u[a]!==l[a])return!1;for(a=u.length-1;a>=0;a--)if(!_deepEqual(e[s=u[a]],t[s],r,n))return!1;return!0}function notDeepStrictEqual(e,t,r){_deepEqual(e,t,!0)&&fail(e,t,r,"notDeepStrictEqual",notDeepStrictEqual)}function expectedException(t,r){if(!t||!r)return!1;if("[object RegExp]"==Object.prototype.toString.call(r))return r.test(t);try{if(t instanceof r)return!0}catch(e){}return!Error.isPrototypeOf(r)&&!0===r.call({},t)}function _tryBlock(t){var r;try{t()}catch(e){r=e}return r}function _throws(e,t,r,n){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=_tryBlock(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&fail(i,r,"Missing expected exception"+n);var o="string"==typeof n,s=!e&&i&&!r;if((!e&&util$7.isError(i)&&o&&expectedException(i,r)||s)&&fail(i,r,"Got unwanted exception"+n),e&&i&&r&&!expectedException(i,r)||!e&&i)throw i}function strict(e,t){e||fail(e,!0,t,"==",strict)}assert$1.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var t=e.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,i=getName(t),o=n.indexOf("\n"+i);if(o>=0){var s=n.indexOf("\n",o+1);n=n.substring(s+1)}this.stack=n}}},util$7.inherits(assert$1.AssertionError,Error),assert$1.fail=fail,assert$1.ok=ok,assert$1.equal=function(e,t,r){e!=t&&fail(e,t,r,"==",assert$1.equal)},assert$1.notEqual=function(e,t,r){e==t&&fail(e,t,r,"!=",assert$1.notEqual)},assert$1.deepEqual=function(e,t,r){_deepEqual(e,t,!1)||fail(e,t,r,"deepEqual",assert$1.deepEqual)},assert$1.deepStrictEqual=function(e,t,r){_deepEqual(e,t,!0)||fail(e,t,r,"deepStrictEqual",assert$1.deepStrictEqual)},assert$1.notDeepEqual=function(e,t,r){_deepEqual(e,t,!1)&&fail(e,t,r,"notDeepEqual",assert$1.notDeepEqual)},assert$1.notDeepStrictEqual=notDeepStrictEqual,assert$1.strictEqual=function(e,t,r){e!==t&&fail(e,t,r,"===",assert$1.strictEqual)},assert$1.notStrictEqual=function(e,t,r){e===t&&fail(e,t,r,"!==",assert$1.notStrictEqual)},assert$1.throws=function(e,t,r){_throws(!0,e,t,r)},assert$1.doesNotThrow=function(e,t,r){_throws(!1,e,t,r)},assert$1.ifError=function(e){if(e)throw e},assert$1.strict=objectAssign(strict,assert$1,{equal:assert$1.strictEqual,deepEqual:assert$1.deepStrictEqual,notEqual:assert$1.notStrictEqual,notDeepEqual:assert$1.notDeepStrictEqual}),assert$1.strict.strict=assert$1.strict;var objectKeys$2=Object.keys||function(e){var t=[];for(var r in e)hasOwn.call(e,r)&&t.push(r);return t},dist_browser={},bn$3={exports:{}};!function(t){!function(t,r){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof t?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require("buffer").Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function u(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function l(e,t,r,i){for(var o=0,s=0,a=Math.min(e.length,r),u=t;u<a;u++){var l=e.charCodeAt(u)-48;o*=i,s=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&s<i,"Invalid character"),o+=s}return o}function c(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,c=r;c<a;c+=n)u=l(e,c,c+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=l(e,c,e.length,t),c=0;c<s;c++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){c(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch(e){o.prototype.inspect=f}else o.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?h[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var l=d[e],c=p[e];r="";var f=this.clone();for(f.negative=0;!f.isZero();){var g=f.modrn(c).toString(e);r=(f=f.idivn(c)).isZero()?g+r:h[l-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function g(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var l=1;l<n;l++){for(var c=u>>>26,f=67108863&u,h=Math.min(l,t.length-1),d=Math.max(0,l-e.length+1);d<=h;d++){var p=l-d|0;c+=(s=(i=0|e.words[p])*(o=0|t.words[d])+f)/67108864|0,f=67108863&s}r.words[l]=0|f,u=0|c}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===o?(r<e.length&&(e[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r--]=255&s,r>=0&&(e[r--]=s>>8&255),r>=0&&(e[r--]=s>>16&255),6===o?(r>=0&&(e[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var m=function(e,t,r){var n,i,o,s=e.words,a=t.words,u=r.words,l=0,c=0|s[0],f=8191&c,h=c>>>13,d=0|s[1],p=8191&d,g=d>>>13,m=0|s[2],y=8191&m,b=m>>>13,v=0|s[3],_=8191&v,$=v>>>13,w=0|s[4],E=8191&w,S=w>>>13,A=0|s[5],R=8191&A,N=A>>>13,x=0|s[6],k=8191&x,C=x>>>13,T=0|s[7],M=8191&T,P=T>>>13,I=0|s[8],O=8191&I,B=I>>>13,L=0|s[9],D=8191&L,U=L>>>13,F=0|a[0],j=8191&F,H=F>>>13,W=0|a[1],z=8191&W,q=W>>>13,G=0|a[2],V=8191&G,K=G>>>13,J=0|a[3],Y=8191&J,X=J>>>13,Z=0|a[4],Q=8191&Z,ee=Z>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ue=8191&ae,le=ae>>>13,ce=0|a[8],fe=8191&ce,he=ce>>>13,de=0|a[9],pe=8191&de,ge=de>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(l+(n=Math.imul(f,j))|0)+((8191&(i=(i=Math.imul(f,H))+Math.imul(h,j)|0))<<13)|0;l=((o=Math.imul(h,H))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,H))+Math.imul(g,j)|0,o=Math.imul(g,H);var ye=(l+(n=n+Math.imul(f,z)|0)|0)+((8191&(i=(i=i+Math.imul(f,q)|0)+Math.imul(h,z)|0))<<13)|0;l=((o=o+Math.imul(h,q)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,j),i=(i=Math.imul(y,H))+Math.imul(b,j)|0,o=Math.imul(b,H),n=n+Math.imul(p,z)|0,i=(i=i+Math.imul(p,q)|0)+Math.imul(g,z)|0,o=o+Math.imul(g,q)|0;var be=(l+(n=n+Math.imul(f,V)|0)|0)+((8191&(i=(i=i+Math.imul(f,K)|0)+Math.imul(h,V)|0))<<13)|0;l=((o=o+Math.imul(h,K)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(_,j),i=(i=Math.imul(_,H))+Math.imul($,j)|0,o=Math.imul($,H),n=n+Math.imul(y,z)|0,i=(i=i+Math.imul(y,q)|0)+Math.imul(b,z)|0,o=o+Math.imul(b,q)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(g,V)|0,o=o+Math.imul(g,K)|0;var ve=(l+(n=n+Math.imul(f,Y)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(h,Y)|0))<<13)|0;l=((o=o+Math.imul(h,X)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(E,j),i=(i=Math.imul(E,H))+Math.imul(S,j)|0,o=Math.imul(S,H),n=n+Math.imul(_,z)|0,i=(i=i+Math.imul(_,q)|0)+Math.imul($,z)|0,o=o+Math.imul($,q)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(b,V)|0,o=o+Math.imul(b,K)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(g,Y)|0,o=o+Math.imul(g,X)|0;var _e=(l+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(h,Q)|0))<<13)|0;l=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(R,j),i=(i=Math.imul(R,H))+Math.imul(N,j)|0,o=Math.imul(N,H),n=n+Math.imul(E,z)|0,i=(i=i+Math.imul(E,q)|0)+Math.imul(S,z)|0,o=o+Math.imul(S,q)|0,n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,K)|0)+Math.imul($,V)|0,o=o+Math.imul($,K)|0,n=n+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(b,Y)|0,o=o+Math.imul(b,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,ee)|0;var $e=(l+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(h,re)|0))<<13)|0;l=((o=o+Math.imul(h,ne)|0)+(i>>>13)|0)+($e>>>26)|0,$e&=67108863,n=Math.imul(k,j),i=(i=Math.imul(k,H))+Math.imul(C,j)|0,o=Math.imul(C,H),n=n+Math.imul(R,z)|0,i=(i=i+Math.imul(R,q)|0)+Math.imul(N,z)|0,o=o+Math.imul(N,q)|0,n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,K)|0)+Math.imul(S,V)|0,o=o+Math.imul(S,K)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,X)|0)+Math.imul($,Y)|0,o=o+Math.imul($,X)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(g,re)|0,o=o+Math.imul(g,ne)|0;var we=(l+(n=n+Math.imul(f,oe)|0)|0)+((8191&(i=(i=i+Math.imul(f,se)|0)+Math.imul(h,oe)|0))<<13)|0;l=((o=o+Math.imul(h,se)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(M,j),i=(i=Math.imul(M,H))+Math.imul(P,j)|0,o=Math.imul(P,H),n=n+Math.imul(k,z)|0,i=(i=i+Math.imul(k,q)|0)+Math.imul(C,z)|0,o=o+Math.imul(C,q)|0,n=n+Math.imul(R,V)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(N,V)|0,o=o+Math.imul(N,K)|0,n=n+Math.imul(E,Y)|0,i=(i=i+Math.imul(E,X)|0)+Math.imul(S,Y)|0,o=o+Math.imul(S,X)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul($,Q)|0,o=o+Math.imul($,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(g,oe)|0,o=o+Math.imul(g,se)|0;var Ee=(l+(n=n+Math.imul(f,ue)|0)|0)+((8191&(i=(i=i+Math.imul(f,le)|0)+Math.imul(h,ue)|0))<<13)|0;l=((o=o+Math.imul(h,le)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(O,j),i=(i=Math.imul(O,H))+Math.imul(B,j)|0,o=Math.imul(B,H),n=n+Math.imul(M,z)|0,i=(i=i+Math.imul(M,q)|0)+Math.imul(P,z)|0,o=o+Math.imul(P,q)|0,n=n+Math.imul(k,V)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(C,V)|0,o=o+Math.imul(C,K)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,X)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul($,re)|0,o=o+Math.imul($,ne)|0,n=n+Math.imul(y,oe)|0,i=(i=i+Math.imul(y,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(g,ue)|0,o=o+Math.imul(g,le)|0;var Se=(l+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,he)|0)+Math.imul(h,fe)|0))<<13)|0;l=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(D,j),i=(i=Math.imul(D,H))+Math.imul(U,j)|0,o=Math.imul(U,H),n=n+Math.imul(O,z)|0,i=(i=i+Math.imul(O,q)|0)+Math.imul(B,z)|0,o=o+Math.imul(B,q)|0,n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(P,V)|0,o=o+Math.imul(P,K)|0,n=n+Math.imul(k,Y)|0,i=(i=i+Math.imul(k,X)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,X)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(S,re)|0,o=o+Math.imul(S,ne)|0,n=n+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,se)|0)+Math.imul($,oe)|0,o=o+Math.imul($,se)|0,n=n+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,le)|0)+Math.imul(b,ue)|0,o=o+Math.imul(b,le)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(g,fe)|0,o=o+Math.imul(g,he)|0;var Ae=(l+(n=n+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ge)|0)+Math.imul(h,pe)|0))<<13)|0;l=((o=o+Math.imul(h,ge)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(D,z),i=(i=Math.imul(D,q))+Math.imul(U,z)|0,o=Math.imul(U,q),n=n+Math.imul(O,V)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(B,V)|0,o=o+Math.imul(B,K)|0,n=n+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(P,Y)|0,o=o+Math.imul(P,X)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,ee)|0,n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(N,re)|0,o=o+Math.imul(N,ne)|0,n=n+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,se)|0)+Math.imul(S,oe)|0,o=o+Math.imul(S,se)|0,n=n+Math.imul(_,ue)|0,i=(i=i+Math.imul(_,le)|0)+Math.imul($,ue)|0,o=o+Math.imul($,le)|0,n=n+Math.imul(y,fe)|0,i=(i=i+Math.imul(y,he)|0)+Math.imul(b,fe)|0,o=o+Math.imul(b,he)|0;var Re=(l+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ge)|0)+Math.imul(g,pe)|0))<<13)|0;l=((o=o+Math.imul(g,ge)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(D,V),i=(i=Math.imul(D,K))+Math.imul(U,V)|0,o=Math.imul(U,K),n=n+Math.imul(O,Y)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,X)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(C,re)|0,o=o+Math.imul(C,ne)|0,n=n+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,se)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,se)|0,n=n+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,le)|0)+Math.imul(S,ue)|0,o=o+Math.imul(S,le)|0,n=n+Math.imul(_,fe)|0,i=(i=i+Math.imul(_,he)|0)+Math.imul($,fe)|0,o=o+Math.imul($,he)|0;var Ne=(l+(n=n+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,ge)|0)+Math.imul(b,pe)|0))<<13)|0;l=((o=o+Math.imul(b,ge)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,n=Math.imul(D,Y),i=(i=Math.imul(D,X))+Math.imul(U,Y)|0,o=Math.imul(U,X),n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,se)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,se)|0,n=n+Math.imul(R,ue)|0,i=(i=i+Math.imul(R,le)|0)+Math.imul(N,ue)|0,o=o+Math.imul(N,le)|0,n=n+Math.imul(E,fe)|0,i=(i=i+Math.imul(E,he)|0)+Math.imul(S,fe)|0,o=o+Math.imul(S,he)|0;var xe=(l+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,ge)|0)+Math.imul($,pe)|0))<<13)|0;l=((o=o+Math.imul($,ge)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(D,Q),i=(i=Math.imul(D,ee))+Math.imul(U,Q)|0,o=Math.imul(U,ee),n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,se)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,se)|0,n=n+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,le)|0)+Math.imul(C,ue)|0,o=o+Math.imul(C,le)|0,n=n+Math.imul(R,fe)|0,i=(i=i+Math.imul(R,he)|0)+Math.imul(N,fe)|0,o=o+Math.imul(N,he)|0;var ke=(l+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,ge)|0)+Math.imul(S,pe)|0))<<13)|0;l=((o=o+Math.imul(S,ge)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(D,re),i=(i=Math.imul(D,ne))+Math.imul(U,re)|0,o=Math.imul(U,ne),n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,se)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,se)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,le)|0)+Math.imul(P,ue)|0,o=o+Math.imul(P,le)|0,n=n+Math.imul(k,fe)|0,i=(i=i+Math.imul(k,he)|0)+Math.imul(C,fe)|0,o=o+Math.imul(C,he)|0;var Ce=(l+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ge)|0)+Math.imul(N,pe)|0))<<13)|0;l=((o=o+Math.imul(N,ge)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(D,oe),i=(i=Math.imul(D,se))+Math.imul(U,oe)|0,o=Math.imul(U,se),n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,le)|0)+Math.imul(B,ue)|0,o=o+Math.imul(B,le)|0,n=n+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,he)|0)+Math.imul(P,fe)|0,o=o+Math.imul(P,he)|0;var Te=(l+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ge)|0)+Math.imul(C,pe)|0))<<13)|0;l=((o=o+Math.imul(C,ge)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(D,ue),i=(i=Math.imul(D,le))+Math.imul(U,ue)|0,o=Math.imul(U,le),n=n+Math.imul(O,fe)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(B,fe)|0,o=o+Math.imul(B,he)|0;var Me=(l+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,ge)|0)+Math.imul(P,pe)|0))<<13)|0;l=((o=o+Math.imul(P,ge)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(D,fe),i=(i=Math.imul(D,he))+Math.imul(U,fe)|0,o=Math.imul(U,he);var Pe=(l+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ge)|0)+Math.imul(B,pe)|0))<<13)|0;l=((o=o+Math.imul(B,ge)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Ie=(l+(n=Math.imul(D,pe))|0)+((8191&(i=(i=Math.imul(D,ge))+Math.imul(U,pe)|0))<<13)|0;return l=((o=Math.imul(U,ge))+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,u[0]=me,u[1]=ye,u[2]=be,u[3]=ve,u[4]=_e,u[5]=$e,u[6]=we,u[7]=Ee,u[8]=Se,u[9]=Ae,u[10]=Re,u[11]=Ne,u[12]=xe,u[13]=ke,u[14]=Ce,u[15]=Te,u[16]=Me,u[17]=Pe,u[18]=Ie,0!==l&&(u[19]=l,r.length++),r};function y(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,t.length-1),l=Math.max(0,o-e.length+1);l<=u;l++){var c=o-l,f=(0|e.words[c])*(0|t.words[l]),h=67108863&f;a=67108863&(h=h+a|0),i+=(s=(s=s+(f/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function b(e,t,r){return y(e,t,r)}Math.imul||(m=g),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?m(this,e,t):r<63?g(this,e,t):r<1024?y(this,e,t):b(this,e,t)},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),b(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,u=(0|this.words[t])-a<<r;this.words[t]=u|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var l=0;l<s;l++)u.words[l]=this.words[l];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,l=0;l<this.length;l++)this.words[l]=this.words[l+s];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var f=0|this.words[l];this.words[l]=c<<26-o|f>>>o,c=f&a}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==t){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var c=n.clone()._ishlnsubmul(i,1,u);0===c.negative&&(n=c,a&&(a.words[u]=1));for(var f=u-1;f>=0;f--){var h=67108864*(0|n.words[i.length+f])+(0|n.words[i.length+f-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(i,h,f);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,f),n.isZero()||(n.negative^=1);a&&(a.words[f]=h)}return a&&a._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/e|0,r=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),l=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++l;for(var c=r.clone(),f=t.clone();!t.isZero();){for(var h=0,d=1;0==(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(c),s.isub(f)),i.iushrn(1),s.iushrn(1);for(var p=0,g=1;0==(r.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(f)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(u)):(r.isub(t),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,c=1;0==(t.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(t.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var f=0,h=1;0==(r.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(r.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new A(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function _(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function $(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function R(e){A.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},_.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(e,t){e.iushrn(this.n,0,t)},_.prototype.imulK=function(e){return e.imul(this.k)},i($,_),$.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},$.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(w,_),i(E,_),i(S,_),S.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(v[e])return v[e];var t;if("k256"===e)t=new $;else if("p224"===e)t=new w;else if("p192"===e)t=new E;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return v[e]=t,t},A.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},A.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},A.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(c(e,e.umod(this.m)._forceRed(this)),e)},A.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},A.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},A.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},A.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},A.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},A.prototype.isqr=function(e){return this.imul(e,e.clone())},A.prototype.sqr=function(e){return this.mul(e,e)},A.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,i),h=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=s;0!==d.cmp(a);){for(var g=d,m=0;0!==g.cmp(a);m++)g=g.redSqr();n(m<p);var y=this.pow(f,new o(1).iushln(p-m-1));h=h.redMul(y),f=y.redSqr(),d=d.redMul(f),p=m}return h},A.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},A.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var l=t.words[n],c=u-1;c>=0;c--){var f=l>>c&1;i!==r[0]&&(i=this.sqr(i)),0!==f||0!==s?(s<<=1,s|=f,(4===++a||0===n&&0===c)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},A.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},A.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new R(e)},i(R,A),R.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},R.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},R.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},R.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},R.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,commonjsGlobal$1)}(bn$3);var __importDefault$a=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dist_browser,"__esModule",{value:!0}),dist_browser.getLength=dist_browser.decode=dist_browser.encode=void 0;var bn_js_1$2=__importDefault$a(bn$3.exports);function encode$3(e){if(Array.isArray(e)){for(var t=[],r=0;r<e.length;r++)t.push(encode$3(e[r]));var n=buffer$2.Buffer.concat(t);return buffer$2.Buffer.concat([encodeLength(n.length,192),n])}var i=toBuffer$1(e);return 1===i.length&&i[0]<128?i:buffer$2.Buffer.concat([encodeLength(i.length,128),i])}function safeParseInt(e,t){if("0"===e[0]&&"0"===e[1])throw new Error("invalid RLP: extra zeros");return parseInt(e,t)}function encodeLength(e,t){if(e<56)return buffer$2.Buffer.from([e+t]);var r=intToHex$4(e),n=intToHex$4(t+55+r.length/2);return buffer$2.Buffer.from(n+r,"hex")}function decode$5(e,t){if(void 0===t&&(t=!1),!e||0===e.length)return buffer$2.Buffer.from([]);var r=_decode(toBuffer$1(e));if(t)return r;if(0!==r.remainder.length)throw new Error("invalid remainder");return r.data}function getLength(e){if(!e||0===e.length)return buffer$2.Buffer.from([]);var t=toBuffer$1(e),r=t[0];if(r<=127)return t.length;if(r<=183)return r-127;if(r<=191)return r-182;if(r<=247)return r-191;var n=r-246;return n+safeParseInt(t.slice(1,n).toString("hex"),16)}function _decode(e){var t,r,n,i,o,s=[],a=e[0];if(a<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(a<=183){if(t=a-127,n=128===a?buffer$2.Buffer.from([]):e.slice(1,t),2===t&&n[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:n,remainder:e.slice(t)}}if(a<=191){if(r=a-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if((t=safeParseInt(e.slice(1,r).toString("hex"),16))<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if((n=e.slice(r,t+r)).length<t)throw new Error("invalid RLP: not enough bytes for string");return{data:n,remainder:e.slice(t+r)}}if(a<=247){for(t=a-191,i=e.slice(1,t);i.length;)o=_decode(i),s.push(o.data),i=o.remainder;return{data:s,remainder:e.slice(t)}}var u=(r=a-246)+(t=safeParseInt(e.slice(1,r).toString("hex"),16));if(u>e.length)throw new Error("invalid rlp: total length is larger than the data");if(0===(i=e.slice(r,u)).length)throw new Error("invalid rlp, List has a invalid length");for(;i.length;)o=_decode(i),s.push(o.data),i=o.remainder;return{data:s,remainder:e.slice(u)}}function isHexPrefixed$2(e){return"0x"===e.slice(0,2)}function stripHexPrefix$2(e){return"string"!=typeof e?e:isHexPrefixed$2(e)?e.slice(2):e}function intToHex$4(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");var t=e.toString(16);return t.length%2?"0"+t:t}function padToEven$2(e){return e.length%2?"0"+e:e}function intToBuffer$2(e){var t=intToHex$4(e);return buffer$2.Buffer.from(t,"hex")}function toBuffer$1(e){if(!buffer$2.Buffer.isBuffer(e)){if("string"==typeof e)return isHexPrefixed$2(e)?buffer$2.Buffer.from(padToEven$2(stripHexPrefix$2(e)),"hex"):buffer$2.Buffer.from(e);if("number"==typeof e||"bigint"==typeof e)return e?intToBuffer$2(e):buffer$2.Buffer.from([]);if(null==e)return buffer$2.Buffer.from([]);if(e instanceof Uint8Array)return buffer$2.Buffer.from(e);if(bn_js_1$2.default.isBN(e))return buffer$2.Buffer.from(e.toArray());throw new Error("invalid type")}return e}dist_browser.encode=encode$3,dist_browser.decode=decode$5,dist_browser.getLength=getLength;var readableBrowser={exports:{}},streamBrowser=events$1.exports.EventEmitter;function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty$1(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _classCallCheck$1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}var _require$2=buffer$2,Buffer$h=_require$2.Buffer,_require2=require$$0$3,inspect=_require2.inspect,custom=inspect&&inspect.custom||"inspect";function copyBuffer(e,t,r){Buffer$h.prototype.copy.call(e,t,r)}var buffer_list=function(){function e(){_classCallCheck$1(this,e),this.head=null,this.tail=null,this.length=0}return _createClass(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return Buffer$h.alloc(0);for(var t=Buffer$h.allocUnsafe(e>>>0),r=this.head,n=0;r;)copyBuffer(r.data,t,n),n+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0===(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=Buffer$h.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:custom,value:function(e,t){return inspect(this,_objectSpread({},t,{depth:0,customInspect:!1}))}}]),e}();function destroy(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(emitErrorNT,this,e)):process.nextTick(emitErrorNT,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?process.nextTick(emitCloseNT,r):(r._writableState.errorEmitted=!0,process.nextTick(emitErrorAndCloseNT,r,e)):process.nextTick(emitErrorAndCloseNT,r,e):t?(process.nextTick(emitCloseNT,r),t(e)):process.nextTick(emitCloseNT,r)})),this)}function emitErrorAndCloseNT(e,t){emitErrorNT(e,t),emitCloseNT(e)}function emitCloseNT(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(e,t){e.emit("error",t)}function errorOrDestroy$2(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}var destroy_1={destroy:destroy,undestroy:undestroy,errorOrDestroy:errorOrDestroy$2},errorsBrowser={};function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var codes={};function createErrorType(e,t,r){r||(r=Error);var n=function(e){function r(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return _inheritsLoose(r,e),r}(r);n.prototype.name=r.name,n.prototype.code=e,codes[e]=n}function oneOf(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}function startsWith(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function endsWith(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function includes(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}createErrorType("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),createErrorType("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,i;if("string"==typeof t&&startsWith(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be",endsWith(e," argument"))i="The ".concat(e," ").concat(n," ").concat(oneOf(t,"type"));else{var o=includes(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(o," ").concat(n," ").concat(oneOf(t,"type"))}return i+=". Received type ".concat(typeof r)}),TypeError),createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),createErrorType("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close"),createErrorType("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end"),createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),createErrorType("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=codes;var ERR_INVALID_OPT_VALUE=errorsBrowser.codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}function getHighWaterMark$2(e,t,r,n){var i=highWaterMarkFrom(t,n,r);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new ERR_INVALID_OPT_VALUE(n?r:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384}var state={getHighWaterMark:getHighWaterMark$2},_stream_writable=Writable$1,Duplex$3;function CorkedRequest(e){var t=this;this.next=null,this.entry=null,this.finish=function(){onCorkedFinish(t,e)}}Writable$1.WritableState=WritableState;var internalUtil={deprecate:browser$4},Stream$1=streamBrowser,Buffer$g=buffer$2.Buffer,OurUint8Array$1=commonjsGlobal$1.Uint8Array||function(){};function _uint8ArrayToBuffer$1(e){return Buffer$g.from(e)}function _isUint8Array$1(e){return Buffer$g.isBuffer(e)||e instanceof OurUint8Array$1}var destroyImpl$1=destroy_1,_require$1=state,getHighWaterMark$1=_require$1.getHighWaterMark,_require$codes$3=errorsBrowser.codes,ERR_INVALID_ARG_TYPE$1=_require$codes$3.ERR_INVALID_ARG_TYPE,ERR_METHOD_NOT_IMPLEMENTED$2=_require$codes$3.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK$1=_require$codes$3.ERR_MULTIPLE_CALLBACK,ERR_STREAM_CANNOT_PIPE=_require$codes$3.ERR_STREAM_CANNOT_PIPE,ERR_STREAM_DESTROYED$1=_require$codes$3.ERR_STREAM_DESTROYED,ERR_STREAM_NULL_VALUES=_require$codes$3.ERR_STREAM_NULL_VALUES,ERR_STREAM_WRITE_AFTER_END=_require$codes$3.ERR_STREAM_WRITE_AFTER_END,ERR_UNKNOWN_ENCODING=_require$codes$3.ERR_UNKNOWN_ENCODING,errorOrDestroy$1=destroyImpl$1.errorOrDestroy,realHasInstance;function nop(){}function WritableState(e,t,r){Duplex$3=Duplex$3||_stream_duplex,e=e||{},"boolean"!=typeof r&&(r=t instanceof Duplex$3),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=getHighWaterMark$1(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=!1===e.decodeStrings;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){onwrite(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable$1(e){var t=this instanceof(Duplex$3=Duplex$3||_stream_duplex);if(!t&&!realHasInstance.call(Writable$1,this))return new Writable$1(e);this._writableState=new WritableState(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),Stream$1.call(this)}function writeAfterEnd(e,t){var r=new ERR_STREAM_WRITE_AFTER_END;errorOrDestroy$1(e,r),process.nextTick(t,r)}function validChunk(e,t,r,n){var i;return null===r?i=new ERR_STREAM_NULL_VALUES:"string"==typeof r||t.objectMode||(i=new ERR_INVALID_ARG_TYPE$1("chunk",["string","Buffer"],r)),!i||(errorOrDestroy$1(e,i),process.nextTick(n,i),!1)}function decodeChunk(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=Buffer$g.from(t,r)),t}function writeOrBuffer(e,t,r,n,i,o){if(!r){var s=decodeChunk(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else doWrite(e,t,!1,a,n,i,o);return u}function doWrite(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new ERR_STREAM_DESTROYED$1("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function onwriteError(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(finishMaybe,e,t),e._writableState.errorEmitted=!0,errorOrDestroy$1(e,n)):(i(n),e._writableState.errorEmitted=!0,errorOrDestroy$1(e,n),finishMaybe(e,t))}function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function onwrite(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new ERR_MULTIPLE_CALLBACK$1;if(onwriteStateUpdate(r),t)onwriteError(e,r,n,t,i);else{var o=needFinish(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||clearBuffer(e,r),n?process.nextTick(afterWrite,e,r,o,i):afterWrite(e,r,o,i)}}function afterWrite(e,t,r,n){r||onwriteDrain(e,t),t.pendingcb--,n(),finishMaybe(e,t)}function onwriteDrain(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function clearBuffer(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)i[s]=r,r.isBuf||(a=!1),r=r.next,s+=1;i.allBuffers=a,doWrite(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new CorkedRequest(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,c=r.callback;if(doWrite(e,t,!1,t.objectMode?1:u.length,u,l,c),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function needFinish(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function callFinal(e,t){e._final((function(r){t.pendingcb--,r&&errorOrDestroy$1(e,r),t.prefinished=!0,e.emit("prefinish"),finishMaybe(e,t)}))}function prefinish$1(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(callFinal,e,t)))}function finishMaybe(e,t){var r=needFinish(t);if(r&&(prefinish$1(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}function endWritable(e,t,r){t.ending=!0,finishMaybe(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function onCorkedFinish(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}inherits_browser$5.exports(Writable$1,Stream$1),WritableState.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(_){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable$1,Symbol.hasInstance,{value:function(e){return!!realHasInstance.call(this,e)||this===Writable$1&&(e&&e._writableState instanceof WritableState)}})):realHasInstance=function(e){return e instanceof this},Writable$1.prototype.pipe=function(){errorOrDestroy$1(this,new ERR_STREAM_CANNOT_PIPE)},Writable$1.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&_isUint8Array$1(e);return o&&!Buffer$g.isBuffer(e)&&(e=_uint8ArrayToBuffer$1(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=nop),n.ending?writeAfterEnd(this,r):(o||validChunk(this,n,e,r))&&(n.pendingcb++,i=writeOrBuffer(this,n,o,e,t,r)),i},Writable$1.prototype.cork=function(){this._writableState.corked++},Writable$1.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||clearBuffer(this,e))},Writable$1.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new ERR_UNKNOWN_ENCODING(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(Writable$1.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Writable$1.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Writable$1.prototype._write=function(e,t,r){r(new ERR_METHOD_NOT_IMPLEMENTED$2("_write()"))},Writable$1.prototype._writev=null,Writable$1.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||endWritable(this,n,r),this},Object.defineProperty(Writable$1.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Writable$1.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),Writable$1.prototype.destroy=destroyImpl$1.destroy,Writable$1.prototype._undestroy=destroyImpl$1.undestroy,Writable$1.prototype._destroy=function(e,t){t(e)};var objectKeys$1=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},_stream_duplex=Duplex$2,Readable$1=_stream_readable,Writable=_stream_writable;inherits_browser$5.exports(Duplex$2,Readable$1);for(var keys$1=objectKeys$1(Writable.prototype),v$4=0;v$4<keys$1.length;v$4++){var method=keys$1[v$4];Duplex$2.prototype[method]||(Duplex$2.prototype[method]=Writable.prototype[method])}function Duplex$2(e){if(!(this instanceof Duplex$2))return new Duplex$2(e);Readable$1.call(this,e),Writable.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",onend)))}function onend(){this._writableState.ended||process.nextTick(onEndNT,this)}function onEndNT(e){e.end()}Object.defineProperty(Duplex$2.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Duplex$2.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Duplex$2.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Duplex$2.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}});var string_decoder$1={},Buffer$f=safeBuffer.exports.Buffer,isEncoding=Buffer$f.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _normalizeEncoding(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function normalizeEncoding(e){var t=_normalizeEncoding(e);if("string"!=typeof t&&(Buffer$f.isEncoding===isEncoding||!isEncoding(e)))throw new Error("Unknown encoding: "+e);return t||e}function StringDecoder$3(e){var t;switch(this.encoding=normalizeEncoding(e),this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,t=4;break;case"utf8":this.fillLast=utf8FillLast,t=4;break;case"base64":this.text=base64Text,this.end=base64End,t=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer$f.allocUnsafe(t)}function utf8CheckByte(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function utf8CheckIncomplete(e,t,r){var n=t.length-1;if(n<r)return 0;var i=utf8CheckByte(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=utf8CheckByte(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=utf8CheckByte(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}function utf8CheckExtraBytes(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}function utf8FillLast(e){var t=this.lastTotal-this.lastNeed,r=utf8CheckExtraBytes(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function utf8Text(e,t){var r=utf8CheckIncomplete(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function utf8End(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function utf16Text(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function utf16End(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function base64Text(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function base64End(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function simpleWrite(e){return e.toString(this.encoding)}function simpleEnd(e){return e&&e.length?this.write(e):""}string_decoder$1.StringDecoder=StringDecoder$3,StringDecoder$3.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},StringDecoder$3.prototype.end=utf8End,StringDecoder$3.prototype.text=utf8Text,StringDecoder$3.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};var ERR_STREAM_PREMATURE_CLOSE=errorsBrowser.codes.ERR_STREAM_PREMATURE_CLOSE;function once$2(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}function noop$6(){}function isRequest$1(e){return e.setHeader&&"function"==typeof e.abort}function eos$1(e,t,r){if("function"==typeof t)return eos$1(e,null,t);t||(t={}),r=once$2(r||noop$6);var n=t.readable||!1!==t.readable&&e.readable,i=t.writable||!1!==t.writable&&e.writable,o=function(){e.writable||a()},s=e._writableState&&e._writableState.finished,a=function(){i=!1,s=!0,n||r.call(e)},u=e._readableState&&e._readableState.endEmitted,l=function(){n=!1,u=!0,i||r.call(e)},c=function(t){r.call(e,t)},f=function(){var t;return n&&!u?(e._readableState&&e._readableState.ended||(t=new ERR_STREAM_PREMATURE_CLOSE),r.call(e,t)):i&&!s?(e._writableState&&e._writableState.ended||(t=new ERR_STREAM_PREMATURE_CLOSE),r.call(e,t)):void 0},h=function(){e.req.on("finish",a)};return isRequest$1(e)?(e.on("complete",a),e.on("abort",f),e.req?h():e.on("request",h)):i&&!e._writableState&&(e.on("end",o),e.on("close",o)),e.on("end",l),e.on("finish",a),!1!==t.error&&e.on("error",c),e.on("close",f),function(){e.removeListener("complete",a),e.removeListener("abort",f),e.removeListener("request",h),e.req&&e.req.removeListener("finish",a),e.removeListener("end",o),e.removeListener("close",o),e.removeListener("finish",a),e.removeListener("end",l),e.removeListener("error",c),e.removeListener("close",f)}}var endOfStream=eos$1,_Object$setPrototypeO;function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var finished=endOfStream,kLastResolve=Symbol("lastResolve"),kLastReject=Symbol("lastReject"),kError=Symbol("error"),kEnded=Symbol("ended"),kLastPromise=Symbol("lastPromise"),kHandlePromise=Symbol("handlePromise"),kStream=Symbol("stream");function createIterResult(e,t){return{value:e,done:t}}function readAndResolve(e){var t=e[kLastResolve];if(null!==t){var r=e[kStream].read();null!==r&&(e[kLastPromise]=null,e[kLastResolve]=null,e[kLastReject]=null,t(createIterResult(r,!1)))}}function onReadable(e){process.nextTick(readAndResolve,e)}function wrapForNext(e,t){return function(r,n){e.then((function(){t[kEnded]?r(createIterResult(void 0,!0)):t[kHandlePromise](r,n)}),n)}}var AsyncIteratorPrototype=Object.getPrototypeOf((function(){})),ReadableStreamAsyncIteratorPrototype=Object.setPrototypeOf((_Object$setPrototypeO={get stream(){return this[kStream]},next:function(){var e=this,t=this[kError];if(null!==t)return Promise.reject(t);if(this[kEnded])return Promise.resolve(createIterResult(void 0,!0));if(this[kStream].destroyed)return new Promise((function(t,r){process.nextTick((function(){e[kError]?r(e[kError]):t(createIterResult(void 0,!0))}))}));var r,n=this[kLastPromise];if(n)r=new Promise(wrapForNext(n,this));else{var i=this[kStream].read();if(null!==i)return Promise.resolve(createIterResult(i,!1));r=new Promise(this[kHandlePromise])}return this[kLastPromise]=r,r}},_defineProperty(_Object$setPrototypeO,Symbol.asyncIterator,(function(){return this})),_defineProperty(_Object$setPrototypeO,"return",(function(){var e=this;return new Promise((function(t,r){e[kStream].destroy(null,(function(e){e?r(e):t(createIterResult(void 0,!0))}))}))})),_Object$setPrototypeO),AsyncIteratorPrototype),createReadableStreamAsyncIterator$1=function(e){var t,r=Object.create(ReadableStreamAsyncIteratorPrototype,(_defineProperty(t={},kStream,{value:e,writable:!0}),_defineProperty(t,kLastResolve,{value:null,writable:!0}),_defineProperty(t,kLastReject,{value:null,writable:!0}),_defineProperty(t,kError,{value:null,writable:!0}),_defineProperty(t,kEnded,{value:e._readableState.endEmitted,writable:!0}),_defineProperty(t,kHandlePromise,{value:function(e,t){var n=r[kStream].read();n?(r[kLastPromise]=null,r[kLastResolve]=null,r[kLastReject]=null,e(createIterResult(n,!1))):(r[kLastResolve]=e,r[kLastReject]=t)},writable:!0}),t));return r[kLastPromise]=null,finished(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[kLastReject];return null!==t&&(r[kLastPromise]=null,r[kLastResolve]=null,r[kLastReject]=null,t(e)),void(r[kError]=e)}var n=r[kLastResolve];null!==n&&(r[kLastPromise]=null,r[kLastResolve]=null,r[kLastReject]=null,n(createIterResult(void 0,!0))),r[kEnded]=!0})),e.on("readable",onReadable.bind(null,r)),r},async_iterator=createReadableStreamAsyncIterator$1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")},_stream_readable=Readable,Duplex$1;Readable.ReadableState=ReadableState,events$1.exports.EventEmitter;var EElistenerCount=function(e,t){return e.listeners(t).length},Stream=streamBrowser,Buffer$e=buffer$2.Buffer,OurUint8Array=commonjsGlobal$1.Uint8Array||function(){};function _uint8ArrayToBuffer(e){return Buffer$e.from(e)}function _isUint8Array(e){return Buffer$e.isBuffer(e)||e instanceof OurUint8Array}var debugUtil=require$$0$3,debug;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var BufferList=buffer_list,destroyImpl=destroy_1,_require=state,getHighWaterMark=_require.getHighWaterMark,_require$codes$2=errorsBrowser.codes,ERR_INVALID_ARG_TYPE=_require$codes$2.ERR_INVALID_ARG_TYPE,ERR_STREAM_PUSH_AFTER_EOF=_require$codes$2.ERR_STREAM_PUSH_AFTER_EOF,ERR_METHOD_NOT_IMPLEMENTED$1=_require$codes$2.ERR_METHOD_NOT_IMPLEMENTED,ERR_STREAM_UNSHIFT_AFTER_END_EVENT=_require$codes$2.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,StringDecoder$2,createReadableStreamAsyncIterator,from$2;inherits_browser$5.exports(Readable,Stream);var errorOrDestroy=destroyImpl.errorOrDestroy,kProxyEvents=["error","close","destroy","pause","resume"];function prependListener(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}function ReadableState(e,t,r){Duplex$1=Duplex$1||_stream_duplex,e=e||{},"boolean"!=typeof r&&(r=t instanceof Duplex$1),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=getHighWaterMark(this,e,"readableHighWaterMark",r),this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(StringDecoder$2||(StringDecoder$2=string_decoder$1.StringDecoder),this.decoder=new StringDecoder$2(e.encoding),this.encoding=e.encoding)}function Readable(e){if(Duplex$1=Duplex$1||_stream_duplex,!(this instanceof Readable))return new Readable(e);var t=this instanceof Duplex$1;this._readableState=new ReadableState(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),Stream.call(this)}function readableAddChunk(e,t,r,n,i){debug("readableAddChunk",t);var o,s=e._readableState;if(null===t)s.reading=!1,onEofChunk(e,s);else if(i||(o=chunkInvalid(s,t)),o)errorOrDestroy(e,o);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===Buffer$e.prototype||(t=_uint8ArrayToBuffer(t)),n)s.endEmitted?errorOrDestroy(e,new ERR_STREAM_UNSHIFT_AFTER_END_EVENT):addChunk(e,s,t,!0);else if(s.ended)errorOrDestroy(e,new ERR_STREAM_PUSH_AFTER_EOF);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?addChunk(e,s,t,!1):maybeReadMore(e,s)):addChunk(e,s,t,!1)}else n||(s.reading=!1,maybeReadMore(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function addChunk(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&emitReadable(e)),maybeReadMore(e,t)}function chunkInvalid(e,t){var r;return _isUint8Array(t)||"string"==typeof t||void 0===t||e.objectMode||(r=new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer","Uint8Array"],t)),r}Object.defineProperty(Readable.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),Readable.prototype.destroy=destroyImpl.destroy,Readable.prototype._undestroy=destroyImpl.undestroy,Readable.prototype._destroy=function(e,t){t(e)},Readable.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=Buffer$e.from(e,t),t=""),r=!0),readableAddChunk(this,e,t,!1,r)},Readable.prototype.unshift=function(e){return readableAddChunk(this,e,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(e){StringDecoder$2||(StringDecoder$2=string_decoder$1.StringDecoder);var t=new StringDecoder$2(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var MAX_HWM=1073741824;function computeNewHighWaterMark(e){return e>=MAX_HWM?e=MAX_HWM:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function howMuchToRead(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=computeNewHighWaterMark(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function onEofChunk(e,t){if(debug("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?emitReadable(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,emitReadable_(e)))}}function emitReadable(e){var t=e._readableState;debug("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(debug("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(emitReadable_,e))}function emitReadable_(e){var t=e._readableState;debug("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,flow(e)}function maybeReadMore(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(maybeReadMore_,e,t))}function maybeReadMore_(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(debug("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function pipeOnDrain(e){return function(){var t=e._readableState;debug("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&EElistenerCount(e,"data")&&(t.flowing=!0,flow(e))}}function updateReadableListening(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function nReadingNextTick(e){debug("readable nexttick read 0"),e.read(0)}function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(resume_,e,t))}function resume_(e,t){debug("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}function flow(e){var t=e._readableState;for(debug("flow",t.flowing);t.flowing&&null!==e.read(););}function fromList(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function endReadable(e){var t=e._readableState;debug("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(endReadableNT,t,e))}function endReadableNT(e,t){if(debug("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function indexOf(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}Readable.prototype.read=function(e){debug("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return debug("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?endReadable(this):emitReadable(this),null;if(0===(e=howMuchToRead(e,t))&&t.ended)return 0===t.length&&endReadable(this),null;var n,i=t.needReadable;return debug("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&debug("length less than watermark",i=!0),t.ended||t.reading?debug("reading or ended",i=!1):i&&(debug("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=howMuchToRead(r,t))),null===(n=e>0?fromList(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&endReadable(this)),null!==n&&this.emit("data",n),n},Readable.prototype._read=function(e){errorOrDestroy(this,new ERR_METHOD_NOT_IMPLEMENTED$1("_read()"))},Readable.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,debug("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?s:d;function o(t,i){debug("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,debug("cleanup"),e.removeListener("close",f),e.removeListener("finish",h),e.removeListener("drain",a),e.removeListener("error",c),e.removeListener("unpipe",o),r.removeListener("end",s),r.removeListener("end",d),r.removeListener("data",l),u=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||a())}function s(){debug("onend"),e.end()}n.endEmitted?process.nextTick(i):r.once("end",i),e.on("unpipe",o);var a=pipeOnDrain(r);e.on("drain",a);var u=!1;function l(t){debug("ondata");var i=e.write(t);debug("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==indexOf(n.pipes,e))&&!u&&(debug("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function c(t){debug("onerror",t),d(),e.removeListener("error",c),0===EElistenerCount(e,"error")&&errorOrDestroy(e,t)}function f(){e.removeListener("finish",h),d()}function h(){debug("onfinish"),e.removeListener("close",f),d()}function d(){debug("unpipe"),r.unpipe(e)}return r.on("data",l),prependListener(e,"error",c),e.once("close",f),e.once("finish",h),e.emit("pipe",r),n.flowing||(debug("pipe resume"),r.resume()),e},Readable.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=indexOf(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},Readable.prototype.on=function(e,t){var r=Stream.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,debug("on readable",n.length,n.reading),n.length?emitReadable(this):n.reading||process.nextTick(nReadingNextTick,this))),r},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.removeListener=function(e,t){var r=Stream.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(updateReadableListening,this),r},Readable.prototype.removeAllListeners=function(e){var t=Stream.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(updateReadableListening,this),t},Readable.prototype.resume=function(){var e=this._readableState;return e.flowing||(debug("resume"),e.flowing=!e.readableListening,resume(this,e)),e.paused=!1,this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Readable.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(debug("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(debug("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<kProxyEvents.length;o++)e.on(kProxyEvents[o],this.emit.bind(this,kProxyEvents[o]));return this._read=function(t){debug("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(Readable.prototype[Symbol.asyncIterator]=function(){return void 0===createReadableStreamAsyncIterator&&(createReadableStreamAsyncIterator=async_iterator),createReadableStreamAsyncIterator(this)}),Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Readable.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Readable.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),Readable._fromList=fromList,Object.defineProperty(Readable.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(Readable.from=function(e,t){return void 0===from$2&&(from$2=fromBrowser),from$2(Readable,e,t)});var _stream_transform=Transform$3,_require$codes$1=errorsBrowser.codes,ERR_METHOD_NOT_IMPLEMENTED=_require$codes$1.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes$1.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes$1.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes$1.ERR_TRANSFORM_WITH_LENGTH_0,Duplex=_stream_duplex;function afterTransform(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new ERR_MULTIPLE_CALLBACK);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Transform$3(e){if(!(this instanceof Transform$3))return new Transform$3(e);Duplex.call(this,e),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",prefinish)}function prefinish(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?done(this,null,null):this._flush((function(t,r){done(e,t,r)}))}function done(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(e._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return e.push(null)}inherits_browser$5.exports(Transform$3,Duplex),Transform$3.prototype.push=function(e,t){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,e,t)},Transform$3.prototype._transform=function(e,t,r){r(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))},Transform$3.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Transform$3.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},Transform$3.prototype._destroy=function(e,t){Duplex.prototype._destroy.call(this,e,(function(e){t(e)}))};var _stream_passthrough=PassThrough,Transform$2=_stream_transform,eos;function PassThrough(e){if(!(this instanceof PassThrough))return new PassThrough(e);Transform$2.call(this,e)}function once$1(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}inherits_browser$5.exports(PassThrough,Transform$2),PassThrough.prototype._transform=function(e,t,r){r(null,e)};var _require$codes=errorsBrowser.codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop$5(e){if(e)throw e}function isRequest(e){return e.setHeader&&"function"==typeof e.abort}function destroyer(e,t,r,n){n=once$1(n);var i=!1;e.on("close",(function(){i=!0})),void 0===eos&&(eos=endOfStream),eos(e,{readable:t,writable:r},(function(e){if(e)return n(e);i=!0,n()}));var o=!1;return function(t){if(!i&&!o)return o=!0,isRequest(e)?e.abort():"function"==typeof e.destroy?e.destroy():void n(t||new ERR_STREAM_DESTROYED("pipe"))}}function call(e){e()}function pipe$1(e,t){return e.pipe(t)}function popCallback(e){return e.length?"function"!=typeof e[e.length-1]?noop$5:e.pop():noop$5}function pipeline(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=popCallback(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new ERR_MISSING_ARGS("streams");var o=t.map((function(e,r){var s=r<t.length-1;return destroyer(e,s,r>0,(function(e){n||(n=e),e&&o.forEach(call),s||(o.forEach(call),i(n))}))}));return t.reduce(pipe$1)}var pipeline_1=pipeline;!function(e,t){(t=e.exports=_stream_readable).Stream=t,t.Readable=t,t.Writable=_stream_writable,t.Duplex=_stream_duplex,t.Transform=_stream_transform,t.PassThrough=_stream_passthrough,t.finished=endOfStream,t.pipeline=pipeline_1}(readableBrowser,readableBrowser.exports);var Buffer$d=safeBuffer.exports.Buffer,Transform$1=readableBrowser.exports.Transform,inherits$f=inherits_browser$5.exports;function throwIfNotStringOrBuffer(e,t){if(!Buffer$d.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}function HashBase$2(e){Transform$1.call(this),this._block=Buffer$d.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}inherits$f(HashBase$2,Transform$1),HashBase$2.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(i){n=i}r(n)},HashBase$2.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(r){t=r}e(t)},HashBase$2.prototype.update=function(e,t){if(throwIfNotStringOrBuffer(e,"Data"),this._finalized)throw new Error("Digest already called");Buffer$d.isBuffer(e)||(e=Buffer$d.from(e,t));for(var r=this._block,n=0;this._blockOffset+e.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=e[n++];this._update(),this._blockOffset=0}for(;n<e.length;)r[this._blockOffset++]=e[n++];for(var o=0,s=8*e.length;s>0;++o)this._length[o]+=s,(s=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*s);return this},HashBase$2.prototype._update=function(){throw new Error("_update is not implemented")},HashBase$2.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},HashBase$2.prototype._digest=function(){throw new Error("_digest is not implemented")};var hashBase=HashBase$2,inherits$e=inherits_browser$5.exports,HashBase$1=hashBase,Buffer$c=safeBuffer.exports.Buffer,ARRAY16$1=new Array(16);function MD5$1(){HashBase$1.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function rotl$1(e,t){return e<<t|e>>>32-t}function fnF(e,t,r,n,i,o,s){return rotl$1(e+(t&r|~t&n)+i+o|0,s)+t|0}function fnG(e,t,r,n,i,o,s){return rotl$1(e+(t&n|r&~n)+i+o|0,s)+t|0}function fnH(e,t,r,n,i,o,s){return rotl$1(e+(t^r^n)+i+o|0,s)+t|0}function fnI(e,t,r,n,i,o,s){return rotl$1(e+(r^(t|~n))+i+o|0,s)+t|0}inherits$e(MD5$1,HashBase$1),MD5$1.prototype._update=function(){for(var e=ARRAY16$1,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,o=this._d;r=fnF(r,n,i,o,e[0],3614090360,7),o=fnF(o,r,n,i,e[1],3905402710,12),i=fnF(i,o,r,n,e[2],606105819,17),n=fnF(n,i,o,r,e[3],3250441966,22),r=fnF(r,n,i,o,e[4],4118548399,7),o=fnF(o,r,n,i,e[5],1200080426,12),i=fnF(i,o,r,n,e[6],2821735955,17),n=fnF(n,i,o,r,e[7],4249261313,22),r=fnF(r,n,i,o,e[8],1770035416,7),o=fnF(o,r,n,i,e[9],2336552879,12),i=fnF(i,o,r,n,e[10],4294925233,17),n=fnF(n,i,o,r,e[11],2304563134,22),r=fnF(r,n,i,o,e[12],1804603682,7),o=fnF(o,r,n,i,e[13],4254626195,12),i=fnF(i,o,r,n,e[14],2792965006,17),r=fnG(r,n=fnF(n,i,o,r,e[15],1236535329,22),i,o,e[1],4129170786,5),o=fnG(o,r,n,i,e[6],3225465664,9),i=fnG(i,o,r,n,e[11],643717713,14),n=fnG(n,i,o,r,e[0],3921069994,20),r=fnG(r,n,i,o,e[5],3593408605,5),o=fnG(o,r,n,i,e[10],38016083,9),i=fnG(i,o,r,n,e[15],3634488961,14),n=fnG(n,i,o,r,e[4],3889429448,20),r=fnG(r,n,i,o,e[9],568446438,5),o=fnG(o,r,n,i,e[14],3275163606,9),i=fnG(i,o,r,n,e[3],4107603335,14),n=fnG(n,i,o,r,e[8],1163531501,20),r=fnG(r,n,i,o,e[13],2850285829,5),o=fnG(o,r,n,i,e[2],4243563512,9),i=fnG(i,o,r,n,e[7],1735328473,14),r=fnH(r,n=fnG(n,i,o,r,e[12],2368359562,20),i,o,e[5],4294588738,4),o=fnH(o,r,n,i,e[8],2272392833,11),i=fnH(i,o,r,n,e[11],1839030562,16),n=fnH(n,i,o,r,e[14],4259657740,23),r=fnH(r,n,i,o,e[1],2763975236,4),o=fnH(o,r,n,i,e[4],1272893353,11),i=fnH(i,o,r,n,e[7],4139469664,16),n=fnH(n,i,o,r,e[10],3200236656,23),r=fnH(r,n,i,o,e[13],681279174,4),o=fnH(o,r,n,i,e[0],3936430074,11),i=fnH(i,o,r,n,e[3],3572445317,16),n=fnH(n,i,o,r,e[6],76029189,23),r=fnH(r,n,i,o,e[9],3654602809,4),o=fnH(o,r,n,i,e[12],3873151461,11),i=fnH(i,o,r,n,e[15],530742520,16),r=fnI(r,n=fnH(n,i,o,r,e[2],3299628645,23),i,o,e[0],4096336452,6),o=fnI(o,r,n,i,e[7],1126891415,10),i=fnI(i,o,r,n,e[14],2878612391,15),n=fnI(n,i,o,r,e[5],4237533241,21),r=fnI(r,n,i,o,e[12],1700485571,6),o=fnI(o,r,n,i,e[3],2399980690,10),i=fnI(i,o,r,n,e[10],4293915773,15),n=fnI(n,i,o,r,e[1],2240044497,21),r=fnI(r,n,i,o,e[8],1873313359,6),o=fnI(o,r,n,i,e[15],4264355552,10),i=fnI(i,o,r,n,e[6],2734768916,15),n=fnI(n,i,o,r,e[13],1309151649,21),r=fnI(r,n,i,o,e[4],4149444226,6),o=fnI(o,r,n,i,e[11],3174756917,10),i=fnI(i,o,r,n,e[2],718787259,15),n=fnI(n,i,o,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0},MD5$1.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=Buffer$c.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e};var md5_js=MD5$1,Buffer$b=buffer$2.Buffer,inherits$d=inherits_browser$5.exports,HashBase=hashBase,ARRAY16=new Array(16),zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hl=[0,1518500249,1859775393,2400959708,2840853838],hr=[1352829926,1548603684,1836072691,2053994217,0];function RIPEMD160$1(){HashBase.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function rotl(e,t){return e<<t|e>>>32-t}function fn1(e,t,r,n,i,o,s,a){return rotl(e+(t^r^n)+o+s|0,a)+i|0}function fn2(e,t,r,n,i,o,s,a){return rotl(e+(t&r|~t&n)+o+s|0,a)+i|0}function fn3(e,t,r,n,i,o,s,a){return rotl(e+((t|~r)^n)+o+s|0,a)+i|0}function fn4(e,t,r,n,i,o,s,a){return rotl(e+(t&n|r&~n)+o+s|0,a)+i|0}function fn5(e,t,r,n,i,o,s,a){return rotl(e+(t^(r|~n))+o+s|0,a)+i|0}inherits$d(RIPEMD160$1,HashBase),RIPEMD160$1.prototype._update=function(){for(var e=ARRAY16,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,s=0|this._e,a=0|this._a,u=0|this._b,l=0|this._c,c=0|this._d,f=0|this._e,h=0;h<80;h+=1){var d,p;h<16?(d=fn1(r,n,i,o,s,e[zl[h]],hl[0],sl[h]),p=fn5(a,u,l,c,f,e[zr[h]],hr[0],sr[h])):h<32?(d=fn2(r,n,i,o,s,e[zl[h]],hl[1],sl[h]),p=fn4(a,u,l,c,f,e[zr[h]],hr[1],sr[h])):h<48?(d=fn3(r,n,i,o,s,e[zl[h]],hl[2],sl[h]),p=fn3(a,u,l,c,f,e[zr[h]],hr[2],sr[h])):h<64?(d=fn4(r,n,i,o,s,e[zl[h]],hl[3],sl[h]),p=fn2(a,u,l,c,f,e[zr[h]],hr[3],sr[h])):(d=fn5(r,n,i,o,s,e[zl[h]],hl[4],sl[h]),p=fn1(a,u,l,c,f,e[zr[h]],hr[4],sr[h])),r=s,s=o,o=rotl(i,10),i=n,n=d,a=f,f=c,c=rotl(l,10),l=u,u=p}var g=this._b+i+c|0;this._b=this._c+o+f|0,this._c=this._d+s+a|0,this._d=this._e+r+u|0,this._e=this._a+n+l|0,this._a=g},RIPEMD160$1.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=Buffer$b.alloc?Buffer$b.alloc(20):new Buffer$b(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e};var ripemd160=RIPEMD160$1,sha_js={exports:{}},Buffer$a=safeBuffer.exports.Buffer;function Hash$7(e,t){this._block=Buffer$a.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}Hash$7.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=Buffer$a.from(e,t));for(var r=this._block,n=this._blockSize,i=e.length,o=this._len,s=0;s<i;){for(var a=o%n,u=Math.min(i-s,n-a),l=0;l<u;l++)r[a+l]=e[s+l];s+=u,(o+=u)%n==0&&this._update(r)}return this._len+=i,this},Hash$7.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},Hash$7.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var hash$1=Hash$7,inherits$c=inherits_browser$5.exports,Hash$6=hash$1,Buffer$9=safeBuffer.exports.Buffer,K$4=[1518500249,1859775393,-1894007588,-899497514],W$6=new Array(80);function Sha(){this.init(),this._w=W$6,Hash$6.call(this,64,56)}function rotl5$1(e){return e<<5|e>>>27}function rotl30$1(e){return e<<30|e>>>2}function ft$2(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}inherits$c(Sha,Hash$6),Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,s=0|this._e,a=0;a<16;++a)t[a]=e.readInt32BE(4*a);for(;a<80;++a)t[a]=t[a-3]^t[a-8]^t[a-14]^t[a-16];for(var u=0;u<80;++u){var l=~~(u/20),c=rotl5$1(r)+ft$2(l,n,i,o)+s+t[u]+K$4[l]|0;s=o,o=i,i=rotl30$1(n),n=r,r=c}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0},Sha.prototype._hash=function(){var e=Buffer$9.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e};var sha$1=Sha,inherits$b=inherits_browser$5.exports,Hash$5=hash$1,Buffer$8=safeBuffer.exports.Buffer,K$3=[1518500249,1859775393,-1894007588,-899497514],W$5=new Array(80);function Sha1(){this.init(),this._w=W$5,Hash$5.call(this,64,56)}function rotl1(e){return e<<1|e>>>31}function rotl5(e){return e<<5|e>>>27}function rotl30(e){return e<<30|e>>>2}function ft$1(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}inherits$b(Sha1,Hash$5),Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha1.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,s=0|this._e,a=0;a<16;++a)t[a]=e.readInt32BE(4*a);for(;a<80;++a)t[a]=rotl1(t[a-3]^t[a-8]^t[a-14]^t[a-16]);for(var u=0;u<80;++u){var l=~~(u/20),c=rotl5(r)+ft$1(l,n,i,o)+s+t[u]+K$3[l]|0;s=o,o=i,i=rotl30(n),n=r,r=c}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0},Sha1.prototype._hash=function(){var e=Buffer$8.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e};var sha1=Sha1,inherits$a=inherits_browser$5.exports,Hash$4=hash$1,Buffer$7=safeBuffer.exports.Buffer,K$2=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W$4=new Array(64);function Sha256$1(){this.init(),this._w=W$4,Hash$4.call(this,64,56)}function ch$1(e,t,r){return r^e&(t^r)}function maj$1(e,t,r){return e&t|r&(e|t)}function sigma0$1(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function sigma1$1(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function gamma0(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function gamma1(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}inherits$a(Sha256$1,Hash$4),Sha256$1.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},Sha256$1.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,s=0|this._e,a=0|this._f,u=0|this._g,l=0|this._h,c=0;c<16;++c)t[c]=e.readInt32BE(4*c);for(;c<64;++c)t[c]=gamma1(t[c-2])+t[c-7]+gamma0(t[c-15])+t[c-16]|0;for(var f=0;f<64;++f){var h=l+sigma1$1(s)+ch$1(s,a,u)+K$2[f]+t[f]|0,d=sigma0$1(r)+maj$1(r,n,i)|0;l=u,u=a,a=s,s=o+h|0,o=i,i=n,n=r,r=h+d|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0,this._f=a+this._f|0,this._g=u+this._g|0,this._h=l+this._h|0},Sha256$1.prototype._hash=function(){var e=Buffer$7.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};var sha256$1=Sha256$1,inherits$9=inherits_browser$5.exports,Sha256=sha256$1,Hash$3=hash$1,Buffer$6=safeBuffer.exports.Buffer,W$3=new Array(64);function Sha224(){this.init(),this._w=W$3,Hash$3.call(this,64,56)}inherits$9(Sha224,Sha256),Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},Sha224.prototype._hash=function(){var e=Buffer$6.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};var sha224=Sha224,inherits$8=inherits_browser$5.exports,Hash$2=hash$1,Buffer$5=safeBuffer.exports.Buffer,K$1=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W$2=new Array(160);function Sha512(){this.init(),this._w=W$2,Hash$2.call(this,128,112)}function Ch(e,t,r){return r^e&(t^r)}function maj(e,t,r){return e&t|r&(e|t)}function sigma0(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function sigma1(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function Gamma0(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function Gamma0l(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function Gamma1(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function Gamma1l(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function getCarry(e,t){return e>>>0<t>>>0?1:0}inherits$8(Sha512,Hash$2),Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},Sha512.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,s=0|this._eh,a=0|this._fh,u=0|this._gh,l=0|this._hh,c=0|this._al,f=0|this._bl,h=0|this._cl,d=0|this._dl,p=0|this._el,g=0|this._fl,m=0|this._gl,y=0|this._hl,b=0;b<32;b+=2)t[b]=e.readInt32BE(4*b),t[b+1]=e.readInt32BE(4*b+4);for(;b<160;b+=2){var v=t[b-30],_=t[b-30+1],$=Gamma0(v,_),w=Gamma0l(_,v),E=Gamma1(v=t[b-4],_=t[b-4+1]),S=Gamma1l(_,v),A=t[b-14],R=t[b-14+1],N=t[b-32],x=t[b-32+1],k=w+R|0,C=$+A+getCarry(k,w)|0;C=(C=C+E+getCarry(k=k+S|0,S)|0)+N+getCarry(k=k+x|0,x)|0,t[b]=C,t[b+1]=k}for(var T=0;T<160;T+=2){C=t[T],k=t[T+1];var M=maj(r,n,i),P=maj(c,f,h),I=sigma0(r,c),O=sigma0(c,r),B=sigma1(s,p),L=sigma1(p,s),D=K$1[T],U=K$1[T+1],F=Ch(s,a,u),j=Ch(p,g,m),H=y+L|0,W=l+B+getCarry(H,y)|0;W=(W=(W=W+F+getCarry(H=H+j|0,j)|0)+D+getCarry(H=H+U|0,U)|0)+C+getCarry(H=H+k|0,k)|0;var z=O+P|0,q=I+M+getCarry(z,O)|0;l=u,y=m,u=a,m=g,a=s,g=p,s=o+W+getCarry(p=d+H|0,d)|0,o=i,d=h,i=n,h=f,n=r,f=c,r=W+q+getCarry(c=H+z|0,H)|0}this._al=this._al+c|0,this._bl=this._bl+f|0,this._cl=this._cl+h|0,this._dl=this._dl+d|0,this._el=this._el+p|0,this._fl=this._fl+g|0,this._gl=this._gl+m|0,this._hl=this._hl+y|0,this._ah=this._ah+r+getCarry(this._al,c)|0,this._bh=this._bh+n+getCarry(this._bl,f)|0,this._ch=this._ch+i+getCarry(this._cl,h)|0,this._dh=this._dh+o+getCarry(this._dl,d)|0,this._eh=this._eh+s+getCarry(this._el,p)|0,this._fh=this._fh+a+getCarry(this._fl,g)|0,this._gh=this._gh+u+getCarry(this._gl,m)|0,this._hh=this._hh+l+getCarry(this._hl,y)|0},Sha512.prototype._hash=function(){var e=Buffer$5.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};var sha512=Sha512,inherits$7=inherits_browser$5.exports,SHA512=sha512,Hash$1=hash$1,Buffer$4=safeBuffer.exports.Buffer,W$1=new Array(160);function Sha384(){this.init(),this._w=W$1,Hash$1.call(this,128,112)}inherits$7(Sha384,SHA512),Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},Sha384.prototype._hash=function(){var e=Buffer$4.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};var sha384=Sha384,exports$1=sha_js.exports=function(e){e=e.toLowerCase();var t=exports$1[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};exports$1.sha=sha$1,exports$1.sha1=sha1,exports$1.sha224=sha224,exports$1.sha256=sha256$1,exports$1.sha384=sha384,exports$1.sha512=sha512;var string_decoder={},Buffer$3=buffer$2.Buffer,isBufferEncoding=Buffer$3.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function assertEncoding(e){if(e&&!isBufferEncoding(e))throw new Error("Unknown encoding: "+e)}var StringDecoder$1=string_decoder.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),assertEncoding(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:return void(this.write=passThroughWrite)}this.charBuffer=new Buffer$3(6),this.charReceived=0,this.charLength=0};function passThroughWrite(e){return e.toString(this.encoding)}function utf16DetectIncompleteChar(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}StringDecoder$1.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(e=e.slice(r,e.length),!((i=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var n=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,n),n-=this.charReceived);var i;n=(t+=e.toString(this.encoding,0,n)).length-1;if((i=t.charCodeAt(n))>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,n)}return t},StringDecoder$1.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},StringDecoder$1.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t};var Buffer$2=safeBuffer.exports.Buffer,Transform=require$$0$3.Transform,StringDecoder=string_decoder.StringDecoder,inherits$6=inherits_browser$5.exports;function CipherBase(e){Transform.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}inherits$6(CipherBase,Transform),CipherBase.prototype.update=function(e,t,r){"string"==typeof e&&(e=Buffer$2.from(e,t));var n=this._update(e);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)},CipherBase.prototype.setAutoPadding=function(){},CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},CipherBase.prototype._transform=function(t,r,n){var i;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(e){i=e}finally{n(i)}},CipherBase.prototype._flush=function(t){var r;try{this.push(this.__final())}catch(e){r=e}t(r)},CipherBase.prototype._finalOrDigest=function(e){var t=this.__final()||Buffer$2.alloc(0);return e&&(t=this._toString(t,e,!0)),t},CipherBase.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new StringDecoder(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n};var cipherBase=CipherBase,inherits$5=inherits_browser$5.exports,MD5=md5_js,RIPEMD160=ripemd160,sha=sha_js.exports,Base=cipherBase;function Hash(e){Base.call(this,"digest"),this._hash=e}inherits$5(Hash,Base),Hash.prototype._update=function(e){this._hash.update(e)},Hash.prototype._final=function(){return this._hash.digest()};var browser$2=function(e){return"md5"===(e=e.toLowerCase())?new MD5:"rmd160"===e||"ripemd160"===e?new RIPEMD160:new Hash(sha(e))},src$1=function(e){if("string"!=typeof e)throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof e+", while checking isHexPrefixed.");return"0x"===e.slice(0,2)},isHexPrefixed$1=src$1,src=function(e){return"string"!=typeof e?e:isHexPrefixed$1(e)?e.slice(2):e},isHexPrefixed=src$1,stripHexPrefix$1=src;function padToEven$1(e){var t=e;if("string"!=typeof t)throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof t+", while padToEven.");return t.length%2&&(t="0"+t),t}function intToHex$3(e){return"0x"+e.toString(16)}function intToBuffer$1(e){var t=intToHex$3(e);return new buffer$2.Buffer(padToEven$1(t.slice(2)),"hex")}function getBinarySize(e){if("string"!=typeof e)throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof e+"'.");return buffer$2.Buffer.byteLength(e,"utf8")}function arrayContainsArray(e,t,r){if(!0!==Array.isArray(e))throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof e+"'");if(!0!==Array.isArray(t))throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof t+"'");return t[Boolean(r)?"some":"every"]((function(t){return e.indexOf(t)>=0}))}function toUtf8(e){return new buffer$2.Buffer(padToEven$1(stripHexPrefix$1(e).replace(/^0+|0+$/g,"")),"hex").toString("utf8")}function toAscii(e){var t="",r=0,n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(e.substr(r,2),16);t+=String.fromCharCode(i)}return t}function fromUtf8(e){return"0x"+padToEven$1(new buffer$2.Buffer(e,"utf8").toString("hex")).replace(/^0+|0+$/g,"")}function fromAscii(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r).toString(16);t+=n.length<2?"0"+n:n}return"0x"+t}function getKeys(e,t,r){if(!Array.isArray(e))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof e+"'");if("string"!=typeof t)throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof t+"'.");for(var n=[],i=0;i<e.length;i++){var o=e[i][t];if(r&&!o)o="";else if("string"!=typeof o)throw new Error("invalid abi");n.push(o)}return n}function isHexString$4(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}var lib$2={arrayContainsArray:arrayContainsArray,intToBuffer:intToBuffer$1,getBinarySize:getBinarySize,isHexPrefixed:isHexPrefixed,stripHexPrefix:stripHexPrefix$1,padToEven:padToEven$1,intToHex:intToHex$3,fromAscii:fromAscii,fromUtf8:fromUtf8,toAscii:toAscii,toUtf8:toUtf8,getKeys:getKeys,isHexString:isHexString$4};!function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=keccak$3,n=r.keccak224,i=r.keccak384,o=r.keccak256,s=r.keccak512,a=secp256k1Adapter,u=assert$2.exports,l=dist_browser,c=bn$4.exports,f=browser$2,h=safeBuffer.exports.Buffer;Object.assign(e,lib$2),e.MAX_INTEGER=new c("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),e.TWO_POW256=new c("10000000000000000000000000000000000000000000000000000000000000000",16),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.SHA3_NULL_S=e.KECCAK256_NULL_S,e.KECCAK256_NULL=h.from(e.KECCAK256_NULL_S,"hex"),e.SHA3_NULL=e.KECCAK256_NULL,e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.SHA3_RLP_ARRAY_S=e.KECCAK256_RLP_ARRAY_S,e.KECCAK256_RLP_ARRAY=h.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.SHA3_RLP_ARRAY=e.KECCAK256_RLP_ARRAY,e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.SHA3_RLP_S=e.KECCAK256_RLP_S,e.KECCAK256_RLP=h.from(e.KECCAK256_RLP_S,"hex"),e.SHA3_RLP=e.KECCAK256_RLP,e.BN=c,e.rlp=l,e.secp256k1=a,e.zeros=function(e){return h.allocUnsafe(e).fill(0)},e.zeroAddress=function(){var t=e.zeros(20);return e.bufferToHex(t)},e.setLengthLeft=e.setLength=function(t,r,n){var i=e.zeros(r);return t=e.toBuffer(t),n?t.length<r?(t.copy(i),i):t.slice(0,r):t.length<r?(t.copy(i,r-t.length),i):t.slice(-r)},e.setLengthRight=function(t,r){return e.setLength(t,r,!0)},e.unpad=e.stripZeros=function(t){for(var r=(t=e.stripHexPrefix(t))[0];t.length>0&&"0"===r.toString();)r=(t=t.slice(1))[0];return t},e.toBuffer=function(t){if(!h.isBuffer(t))if(Array.isArray(t))t=h.from(t);else if("string"==typeof t)t=e.isHexString(t)?h.from(e.padToEven(e.stripHexPrefix(t)),"hex"):h.from(t);else if("number"==typeof t)t=e.intToBuffer(t);else if(null==t)t=h.allocUnsafe(0);else if(c.isBN(t))t=t.toArrayLike(h);else{if(!t.toArray)throw new Error("invalid type");t=h.from(t.toArray())}return t},e.bufferToInt=function(t){return new c(e.toBuffer(t)).toNumber()},e.bufferToHex=function(t){return"0x"+(t=e.toBuffer(t)).toString("hex")},e.fromSigned=function(e){return new c(e).fromTwos(256)},e.toUnsigned=function(e){return h.from(e.toTwos(256).toArray())},e.keccak=function(t,r){switch(t=e.toBuffer(t),r||(r=256),r){case 224:return n(t);case 256:return o(t);case 384:return i(t);case 512:return s(t);default:throw new Error("Invald algorithm: keccak"+r)}},e.keccak256=function(t){return e.keccak(t)},e.sha3=e.keccak,e.sha256=function(t){return t=e.toBuffer(t),f("sha256").update(t).digest()},e.ripemd160=function(t,r){t=e.toBuffer(t);var n=f("rmd160").update(t).digest();return!0===r?e.setLength(n,32):n},e.rlphash=function(t){return e.keccak(l.encode(t))},e.isValidPrivate=function(e){return a.privateKeyVerify(e)},e.isValidPublic=function(e,t){return 64===e.length?a.publicKeyVerify(h.concat([h.from([4]),e])):!!t&&a.publicKeyVerify(e)},e.pubToAddress=e.publicToAddress=function(t,r){return t=e.toBuffer(t),r&&64!==t.length&&(t=a.publicKeyConvert(t,!1).slice(1)),u(64===t.length),e.keccak(t).slice(-20)};var d=e.privateToPublic=function(t){return t=e.toBuffer(t),a.publicKeyCreate(t,!1).slice(1)};e.importPublic=function(t){return 64!==(t=e.toBuffer(t)).length&&(t=a.publicKeyConvert(t,!1).slice(1)),t},e.ecsign=function(e,t){var r=a.sign(e,t),n={};return n.r=r.signature.slice(0,32),n.s=r.signature.slice(32,64),n.v=r.recovery+27,n},e.hashPersonalMessage=function(t){var r=e.toBuffer("Ethereum Signed Message:\n"+t.length.toString());return e.keccak(h.concat([r,t]))},e.ecrecover=function(t,r,n,i){var o=h.concat([e.setLength(n,32),e.setLength(i,32)],64),s=r-27;if(0!==s&&1!==s)throw new Error("Invalid signature v value");var u=a.recover(t,o,s);return a.publicKeyConvert(u,!1).slice(1)},e.toRpcSig=function(t,r,n){if(27!==t&&28!==t)throw new Error("Invalid recovery id");return e.bufferToHex(h.concat([e.setLengthLeft(r,32),e.setLengthLeft(n,32),e.toBuffer(t-27)]))},e.fromRpcSig=function(t){if(65!==(t=e.toBuffer(t)).length)throw new Error("Invalid signature length");var r=t[64];return r<27&&(r+=27),{v:r,r:t.slice(0,32),s:t.slice(32,64)}},e.privateToAddress=function(t){return e.publicToAddress(d(t))},e.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/.test(e)},e.isZeroAddress=function(t){return e.zeroAddress()===e.addHexPrefix(t)},e.toChecksumAddress=function(t){t=e.stripHexPrefix(t).toLowerCase();for(var r=e.keccak(t).toString("hex"),n="0x",i=0;i<t.length;i++)parseInt(r[i],16)>=8?n+=t[i].toUpperCase():n+=t[i];return n},e.isValidChecksumAddress=function(t){return e.isValidAddress(t)&&e.toChecksumAddress(t)===t},e.generateAddress=function(t,r){return t=e.toBuffer(t),r=(r=new c(r)).isZero()?null:h.from(r.toArray()),e.rlphash([t,r]).slice(-20)},e.isPrecompiled=function(t){var r=e.unpad(t);return 1===r.length&&r[0]>=1&&r[0]<=8},e.addHexPrefix=function(t){return"string"!=typeof t||e.isHexPrefixed(t)?t:"0x"+t},e.isValidSignature=function(e,t,r,n){var i=new c("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),o=new c("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);return 32===t.length&&32===r.length&&((27===e||28===e)&&(t=new c(t),r=new c(r),!(t.isZero()||t.gt(o)||r.isZero()||r.gt(o))&&(!1!==n||1!==new c(r).cmp(i))))},e.baToJSON=function(t){if(h.isBuffer(t))return"0x"+t.toString("hex");if(t instanceof Array){for(var r=[],n=0;n<t.length;n++)r.push(e.baToJSON(t[n]));return r}},e.defineProperties=function(r,n,i){if(r.raw=[],r._fields=[],r.toJSON=function(t){if(t){var n={};return r._fields.forEach((function(e){n[e]="0x"+r[e].toString("hex")})),n}return e.baToJSON(this.raw)},r.serialize=function(){return l.encode(r.raw)},n.forEach((function(t,n){function i(){return r.raw[n]}function o(i){"00"!==(i=e.toBuffer(i)).toString("hex")||t.allowZero||(i=h.allocUnsafe(0)),t.allowLess&&t.length?(i=e.stripZeros(i),u(t.length>=i.length,"The field "+t.name+" must not have more "+t.length+" bytes")):t.allowZero&&0===i.length||!t.length||u(t.length===i.length,"The field "+t.name+" must have byte length of "+t.length),r.raw[n]=i}r._fields.push(t.name),Object.defineProperty(r,t.name,{enumerable:!0,configurable:!0,get:i,set:o}),t.default&&(r[t.name]=t.default),t.alias&&Object.defineProperty(r,t.alias,{enumerable:!1,configurable:!0,set:o,get:i})})),i)if("string"==typeof i&&(i=h.from(e.stripHexPrefix(i),"hex")),h.isBuffer(i)&&(i=l.decode(i)),Array.isArray(i)){if(i.length>r._fields.length)throw new Error("wrong number of fields in data");i.forEach((function(t,n){r[r._fields[n]]=e.toBuffer(t)}))}else{if("object"!==(void 0===i?"undefined":t(i)))throw new Error("invalid data");var o=Object.keys(i);n.forEach((function(e){-1!==o.indexOf(e.name)&&(r[e.name]=i[e.name]),-1!==o.indexOf(e.alias)&&(r[e.alias]=i[e.alias])}))}}}(dist$6);const processFn$1=(e,t)=>function(){const r=t.promiseModule,n=new Array(arguments.length);for(let e=0;e<arguments.length;e++)n[e]=arguments[e];return new r(((r,i)=>{t.errorFirst?n.push((function(e,n){if(t.multiArgs){const t=new Array(arguments.length-1);for(let e=1;e<arguments.length;e++)t[e-1]=arguments[e];e?(t.unshift(e),i(t)):r(t)}else e?i(e):r(n)})):n.push((function(e){if(t.multiArgs){const e=new Array(arguments.length-1);for(let t=0;t<arguments.length;t++)e[t]=arguments[t];r(e)}else r(e)})),e.apply(this,n)}))};var pify$3=(e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);const r=e=>{const r=t=>"string"==typeof t?e===t:t.test(e);return t.include?t.include.some(r):!t.exclude.some(r)};let n;n="function"==typeof e?function(){return t.excludeMain?e.apply(this,arguments):processFn$1(e,t).apply(this,arguments)}:Object.create(Object.getPrototypeOf(e));for(const i in e){const o=e[i];n[i]="function"==typeof o&&r(i)?processFn$1(o,t):o}return n},immutable=extend$3,hasOwnProperty$5=Object.prototype.hasOwnProperty;function extend$3(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)hasOwnProperty$5.call(r,n)&&(e[n]=r[n])}return e}var jsonRpcRandomId=IdIterator;function IdIterator(e){var t=(e=e||{}).max||Number.MAX_SAFE_INTEGER,r=void 0!==e.start?e.start:Math.floor(Math.random()*t);return function(){return r%=t,r++}}const extend$2=immutable,createRandomId$1=jsonRpcRandomId();var ethQuery=EthQuery$1;function EthQuery$1(e){this.currentProvider=e}function generateFnFor(e){return function(){const t=this;var r=[].slice.call(arguments),n=r.pop();t.sendAsync({method:e,params:r},n)}}function generateFnWithDefaultBlockFor(e,t){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<e&&n.push("latest"),r.sendAsync({method:t,params:n},i)}}function createPayload$4(e){return extend$2({id:createRandomId$1(),jsonrpc:"2.0",params:[]},e)}EthQuery$1.prototype.getBalance=generateFnWithDefaultBlockFor(2,"eth_getBalance"),EthQuery$1.prototype.getCode=generateFnWithDefaultBlockFor(2,"eth_getCode"),EthQuery$1.prototype.getTransactionCount=generateFnWithDefaultBlockFor(2,"eth_getTransactionCount"),EthQuery$1.prototype.getStorageAt=generateFnWithDefaultBlockFor(3,"eth_getStorageAt"),EthQuery$1.prototype.call=generateFnWithDefaultBlockFor(2,"eth_call"),EthQuery$1.prototype.protocolVersion=generateFnFor("eth_protocolVersion"),EthQuery$1.prototype.syncing=generateFnFor("eth_syncing"),EthQuery$1.prototype.coinbase=generateFnFor("eth_coinbase"),EthQuery$1.prototype.mining=generateFnFor("eth_mining"),EthQuery$1.prototype.hashrate=generateFnFor("eth_hashrate"),EthQuery$1.prototype.gasPrice=generateFnFor("eth_gasPrice"),EthQuery$1.prototype.accounts=generateFnFor("eth_accounts"),EthQuery$1.prototype.blockNumber=generateFnFor("eth_blockNumber"),EthQuery$1.prototype.getBlockTransactionCountByHash=generateFnFor("eth_getBlockTransactionCountByHash"),EthQuery$1.prototype.getBlockTransactionCountByNumber=generateFnFor("eth_getBlockTransactionCountByNumber"),EthQuery$1.prototype.getUncleCountByBlockHash=generateFnFor("eth_getUncleCountByBlockHash"),EthQuery$1.prototype.getUncleCountByBlockNumber=generateFnFor("eth_getUncleCountByBlockNumber"),EthQuery$1.prototype.sign=generateFnFor("eth_sign"),EthQuery$1.prototype.sendTransaction=generateFnFor("eth_sendTransaction"),EthQuery$1.prototype.sendRawTransaction=generateFnFor("eth_sendRawTransaction"),EthQuery$1.prototype.estimateGas=generateFnFor("eth_estimateGas"),EthQuery$1.prototype.getBlockByHash=generateFnFor("eth_getBlockByHash"),EthQuery$1.prototype.getBlockByNumber=generateFnFor("eth_getBlockByNumber"),EthQuery$1.prototype.getTransactionByHash=generateFnFor("eth_getTransactionByHash"),EthQuery$1.prototype.getTransactionByBlockHashAndIndex=generateFnFor("eth_getTransactionByBlockHashAndIndex"),EthQuery$1.prototype.getTransactionByBlockNumberAndIndex=generateFnFor("eth_getTransactionByBlockNumberAndIndex"),EthQuery$1.prototype.getTransactionReceipt=generateFnFor("eth_getTransactionReceipt"),EthQuery$1.prototype.getUncleByBlockHashAndIndex=generateFnFor("eth_getUncleByBlockHashAndIndex"),EthQuery$1.prototype.getUncleByBlockNumberAndIndex=generateFnFor("eth_getUncleByBlockNumberAndIndex"),EthQuery$1.prototype.getCompilers=generateFnFor("eth_getCompilers"),EthQuery$1.prototype.compileLLL=generateFnFor("eth_compileLLL"),EthQuery$1.prototype.compileSolidity=generateFnFor("eth_compileSolidity"),EthQuery$1.prototype.compileSerpent=generateFnFor("eth_compileSerpent"),EthQuery$1.prototype.newFilter=generateFnFor("eth_newFilter"),EthQuery$1.prototype.newBlockFilter=generateFnFor("eth_newBlockFilter"),EthQuery$1.prototype.newPendingTransactionFilter=generateFnFor("eth_newPendingTransactionFilter"),EthQuery$1.prototype.uninstallFilter=generateFnFor("eth_uninstallFilter"),EthQuery$1.prototype.getFilterChanges=generateFnFor("eth_getFilterChanges"),EthQuery$1.prototype.getFilterLogs=generateFnFor("eth_getFilterLogs"),EthQuery$1.prototype.getLogs=generateFnFor("eth_getLogs"),EthQuery$1.prototype.getWork=generateFnFor("eth_getWork"),EthQuery$1.prototype.submitWork=generateFnFor("eth_submitWork"),EthQuery$1.prototype.submitHashrate=generateFnFor("eth_submitHashrate"),EthQuery$1.prototype.sendAsync=function(e,t){this.currentProvider.sendAsync(createPayload$4(e),(function(e,r){if(!e&&r.error&&(e=new Error("EthQuery - RPC Error - "+r.error.message)),e)return t(e);t(null,r.result)}))};const util$6=util$9,EventEmitter$3=events$1.exports;var R$1="object"==typeof Reflect?Reflect:null,ReflectApply=R$1&&"function"==typeof R$1.apply?R$1.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},safeEventEmitter$1=SafeEventEmitter$4;function SafeEventEmitter$4(){EventEmitter$3.call(this)}function safeApply$1(e,t,r){try{ReflectApply(e,t,r)}catch(n){setTimeout((()=>{throw n}))}}function arrayClone$1(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}util$6.inherits(SafeEventEmitter$4,EventEmitter$3),SafeEventEmitter$4.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[e];if(void 0===a)return!1;if("function"==typeof a)safeApply$1(a,this,t);else{var u=a.length,l=arrayClone$1(a,u);for(r=0;r<u;++r)safeApply$1(l[r],this,t)}return!0};const SafeEventEmitter$3=safeEventEmitter$1,sec$1=1e3,calculateSum=(e,t)=>e+t,blockTrackerEvents=["sync","latest"];class BaseBlockTracker$1 extends SafeEventEmitter$3{constructor(e={}){super(),this._blockResetDuration=e.blockResetDuration||20*sec$1,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){if(this._currentBlock)return this._currentBlock;const e=await new Promise((e=>this.once("latest",e)));return e}removeAllListeners(e){e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e,t){blockTrackerEvents.includes(e)&&this._maybeStart()}_onRemoveListener(e,t){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return blockTrackerEvents.map((e=>this.listenerCount(e))).reduce(calculateSum)}_newPotentialLatest(e){const t=this._currentBlock;t&&hexToInt$4(e)<=hexToInt$4(t)||this._setCurrentBlock(e)}_setCurrentBlock(e){const t=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:t,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}var base=BaseBlockTracker$1;function hexToInt$4(e){return Number.parseInt(e,16)}const pify$2=pify$3,BaseBlockTracker=base,sec=1e3;class PollingBlockTracker$1 extends BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");const t=e.pollingInterval||20*sec,r=e.retryTimeout||t/10,n=void 0===e.keepEventLoopActive||e.keepEventLoopActive,i=e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:t},e)),this._provider=e.provider,this._pollingInterval=t,this._retryTimeout=r,this._keepEventLoopActive=n,this._setSkipCacheFlag=i}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch((e=>this.emit("error",e)))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await timeout$1(this._pollingInterval,!this._keepEventLoopActive)}catch(e){const r=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:\n${e.stack}`);try{this.emit("error",r)}catch(t){console.error(r)}await timeout$1(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0);const t=await pify$2((t=>this._provider.sendAsync(e,t)))();if(t.error)throw new Error(`PollingBlockTracker - encountered error fetching block:\n${t.error}`);return t.result}}var polling=PollingBlockTracker$1;function timeout$1(e,t){return new Promise((r=>{const n=setTimeout(r,e);n.unref&&t&&n.unref()}))}var map$3={exports:{}},doParallel={exports:{}},eachOf={exports:{}},freeGlobal$1="object"==typeof commonjsGlobal$1&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root$1=freeGlobal||freeSelf||Function("return this")(),_root=root$1,root=_root,Symbol$3=root.Symbol,_Symbol=Symbol$3,Symbol$2=_Symbol,objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty,nativeObjectToString$1=objectProto$5.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag$1(t){var r=hasOwnProperty$4.call(t,symToStringTag$1),n=t[symToStringTag$1];try{t[symToStringTag$1]=void 0;var i=!0}catch(e){}var o=nativeObjectToString$1.call(t);return i&&(r?t[symToStringTag$1]=n:delete t[symToStringTag$1]),o}var _getRawTag=getRawTag$1,objectProto$4=Object.prototype,nativeObjectToString=objectProto$4.toString;function objectToString$1(e){return nativeObjectToString.call(e)}var _objectToString=objectToString$1,Symbol$1=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag$3(e){return null==e?void 0===e?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(e)?getRawTag(e):objectToString(e)}var _baseGetTag=baseGetTag$3;function isObject$3(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var isObject_1=isObject$3,baseGetTag$2=_baseGetTag,isObject$2=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$3(e){if(!isObject$2(e))return!1;var t=baseGetTag$2(e);return t==funcTag$1||t==genTag||t==asyncTag||t==proxyTag}var isFunction_1=isFunction$3,MAX_SAFE_INTEGER$1=9007199254740991;function isLength$2(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER$1}var isLength_1=isLength$2,isFunction$2=isFunction_1,isLength$1=isLength_1;function isArrayLike$2(e){return null!=e&&isLength$1(e.length)&&!isFunction$2(e)}var isArrayLike_1=isArrayLike$2,breakLoop={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={},e.exports=t.default}(breakLoop,breakLoop.exports);var eachOfLimit$1={exports:{}},eachOfLimit={exports:{}};function noop$4(){}var noop_1=noop$4,once={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}},e.exports=t.default}(once,once.exports);var iterator$1={exports:{}},getIterator={exports:{}};function baseTimes$1(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r&&e[r]&&e[r]()};var r="function"==typeof Symbol&&Symbol.iterator;e.exports=t.default}(getIterator,getIterator.exports);var _baseTimes=baseTimes$1;function isObjectLike$3(e){return null!=e&&"object"==typeof e}var isObjectLike_1=isObjectLike$3,baseGetTag$1=_baseGetTag,isObjectLike$2=isObjectLike_1,argsTag$1="[object Arguments]";function baseIsArguments$1(e){return isObjectLike$2(e)&&baseGetTag$1(e)==argsTag$1}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$1=isObjectLike_1,objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty,propertyIsEnumerable=objectProto$3.propertyIsEnumerable,isArguments$1=baseIsArguments(function(){return arguments}())?baseIsArguments:function(e){return isObjectLike$1(e)&&hasOwnProperty$3.call(e,"callee")&&!propertyIsEnumerable.call(e,"callee")},isArguments_1=isArguments$1,isArray$7=Array.isArray,isArray_1=isArray$7,isBuffer$1={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;!function(e,t){var r=_root,n=stubFalse_1,i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i?r.Buffer:void 0,a=(s?s.isBuffer:void 0)||n;e.exports=a}(isBuffer$1,isBuffer$1.exports);var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$1(e,t){var r=typeof e;return!!(t=null==t?MAX_SAFE_INTEGER:t)&&("number"==r||"symbol"!=r&&reIsUint.test(e))&&e>-1&&e%1==0&&e<t}var _isIndex=isIndex$1,baseGetTag=_baseGetTag,isLength=isLength_1,isObjectLike=isObjectLike_1,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};function baseIsTypedArray$1(e){return isObjectLike(e)&&isLength(e.length)&&!!typedArrayTags[baseGetTag(e)]}typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$1(e){return function(t){return e(t)}}var _baseUnary=baseUnary$1,_nodeUtil={exports:{}};!function(t,r){var n=_freeGlobal,i=r&&!r.nodeType&&r,o=i&&t&&!t.nodeType&&t,s=o&&o.exports===i&&n.process,a=function(){try{var t=o&&o.require&&o.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(e){}}();t.exports=a}(_nodeUtil,_nodeUtil.exports);var baseIsTypedArray=_baseIsTypedArray,baseUnary=_baseUnary,nodeUtil=_nodeUtil.exports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$3=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$3,baseTimes=_baseTimes,isArguments=isArguments_1,isArray$6=isArray_1,isBuffer=isBuffer$1.exports,isIndex=_isIndex,isTypedArray$2=isTypedArray_1,objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function arrayLikeKeys$1(e,t){var r=isArray$6(e),n=!r&&isArguments(e),i=!r&&!n&&isBuffer(e),o=!r&&!n&&!i&&isTypedArray$2(e),s=r||n||i||o,a=s?baseTimes(e.length,String):[],u=a.length;for(var l in e)!t&&!hasOwnProperty$2.call(e,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||isIndex(l,u))||a.push(l);return a}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$1=Object.prototype;function isPrototype$1(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||objectProto$1)}var _isPrototype=isPrototype$1;function overArg$1(e,t){return function(r){return e(t(r))}}var _overArg=overArg$1,overArg=_overArg,nativeKeys$1=overArg(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=_nativeKeys,objectProto=Object.prototype,hasOwnProperty$1=objectProto.hasOwnProperty;function baseKeys$1(e){if(!isPrototype(e))return nativeKeys(e);var t=[];for(var r in Object(e))hasOwnProperty$1.call(e,r)&&"constructor"!=r&&t.push(r);return t}var _baseKeys=baseKeys$1,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$1=isArrayLike_1;function keys(e){return isArrayLike$1(e)?arrayLikeKeys(e):baseKeys(e)}var keys_1=keys;!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,r.default)(e))return function(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}(e);var t=(0,n.default)(e);return t?function(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}(t):function(e){var t=(0,i.default)(e),r=-1,n=t.length;return function(){var i=t[++r];return r<n?{value:e[i],key:i}:null}}(e)};var r=o(isArrayLike_1),n=o(getIterator.exports),i=o(keys_1);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(iterator$1,iterator$1.exports);var onlyOnce={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}},e.exports=t.default}(onlyOnce,onlyOnce.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,a,u){if(u=(0,n.default)(u||r.default),e<=0||!t)return u(null);var l=(0,i.default)(t),c=!1,f=0,h=!1;function d(e,t){if(f-=1,e)c=!0,u(e);else{if(t===s.default||c&&f<=0)return c=!0,u(null);h||p()}}function p(){for(h=!0;f<e&&!c;){var t=l();if(null===t)return c=!0,void(f<=0&&u(null));f+=1,a(t.value,t.key,(0,o.default)(d))}h=!1}p()}};var r=a(noop_1),n=a(once.exports),i=a(iterator$1.exports),o=a(onlyOnce.exports),s=a(breakLoop.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(eachOfLimit,eachOfLimit.exports);var wrapAsync$1={},asyncify={exports:{}},initialParams={exports:{}},slice={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t|=0;for(var r=Math.max(e.length-t,0),n=Array(r),i=0;i<r;i++)n[i]=e[t+i];return n},e.exports=t.default}(slice,slice.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t=(0,i.default)(arguments),r=t.pop();e.call(this,t,r)}};var r,n=slice.exports,i=(r=n)&&r.__esModule?r:{default:r};e.exports=t.default}(initialParams,initialParams.exports);var setImmediate$1={};Object.defineProperty(setImmediate$1,"__esModule",{value:!0}),setImmediate$1.hasNextTick=setImmediate$1.hasSetImmediate=void 0,setImmediate$1.fallback=fallback,setImmediate$1.wrap=wrap;var _slice=slice.exports,_slice2=_interopRequireDefault$1(_slice);function _interopRequireDefault$1(e){return e&&e.__esModule?e:{default:e}}var hasSetImmediate=setImmediate$1.hasSetImmediate="function"==typeof setImmediate&&setImmediate,hasNextTick=setImmediate$1.hasNextTick="object"==typeof process&&"function"==typeof process.nextTick,_defer;function fallback(e){setTimeout(e,0)}function wrap(e){return function(t){var r=(0,_slice2.default)(arguments,1);e((function(){t.apply(null,r)}))}}_defer=hasSetImmediate?setImmediate:hasNextTick?process.nextTick:fallback,setImmediate$1.default=wrap(_defer),function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return(0,i.default)((function(r,i){var o;try{o=t.apply(this,r)}catch(e){return i(e)}(0,n.default)(o)&&"function"==typeof o.then?o.then((function(e){a(i,null,e)}),(function(e){a(i,e.message?e:new Error(e))})):i(null,o)}))};var n=s(isObject_1),i=s(initialParams.exports),o=s(setImmediate$1);function s(e){return e&&e.__esModule?e:{default:e}}function a(t,r,n){try{t(r,n)}catch(e){(0,o.default)(u,e)}}function u(e){throw e}t.exports=r.default}(asyncify,asyncify.exports),Object.defineProperty(wrapAsync$1,"__esModule",{value:!0}),wrapAsync$1.isAsync=void 0;var _asyncify=asyncify.exports,_asyncify2=_interopRequireDefault(_asyncify);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var supportsSymbol="function"==typeof Symbol;function isAsync(e){return supportsSymbol&&"AsyncFunction"===e[Symbol.toStringTag]}function wrapAsync(e){return isAsync(e)?(0,_asyncify2.default)(e):e}wrapAsync$1.default=wrapAsync,wrapAsync$1.isAsync=isAsync,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i,o){(0,r.default)(t)(e,(0,n.default)(i),o)};var r=i(eachOfLimit.exports),n=i(wrapAsync$1);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(eachOfLimit$1,eachOfLimit$1.exports);var doLimit={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(r,n,i){return e(r,t,n,i)}},e.exports=t.default}(doLimit,doLimit.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){((0,r.default)(e)?f:h)(e,(0,l.default)(t),n)};var r=c(isArrayLike_1),n=c(breakLoop.exports),i=c(eachOfLimit$1.exports),o=c(doLimit.exports),s=c(noop_1),a=c(once.exports),u=c(onlyOnce.exports),l=c(wrapAsync$1);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,r){r=(0,a.default)(r||s.default);var i=0,o=0,l=e.length;function c(e,t){e?r(e):++o!==l&&t!==n.default||r(null)}for(0===l&&r(null);i<l;i++)t(e[i],i,(0,u.default)(c))}var h=(0,o.default)(i.default,1/0);e.exports=t.default}(eachOf,eachOf.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,i,o){return e(r.default,t,(0,n.default)(i),o)}};var r=i(eachOf.exports),n=i(wrapAsync$1);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(doParallel,doParallel.exports);var map$2={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i,o){o=o||r.default,t=t||[];var s=[],a=0,u=(0,n.default)(i);e(t,(function(e,t,r){var n=a++;u(e,(function(e,t){s[n]=t,r(e)}))}),(function(e){o(e,s)}))};var r=i(noop_1),n=i(wrapAsync$1);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(map$2,map$2.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=i(doParallel.exports),n=i(map$2.exports);function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)(n.default),e.exports=t.default}(map$3,map$3.exports);var eachSeries$1={exports:{}},eachLimit={exports:{}},withoutIndex={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r,n){return e(t,n)}},e.exports=t.default}(withoutIndex,withoutIndex.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o,s){(0,r.default)(t)(e,(0,n.default)((0,i.default)(o)),s)};var r=o(eachOfLimit.exports),n=o(withoutIndex.exports),i=o(wrapAsync$1);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(eachLimit,eachLimit.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=i(eachLimit.exports),n=i(doLimit.exports);function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)(r.default,1),e.exports=t.default}(eachSeries$1,eachSeries$1.exports);const EventEmitter$2=events$1.exports.EventEmitter,inherits$4=util$9.inherits;var stoplight=Stoplight$1;function Stoplight$1(){EventEmitter$2.call(this),this.isLocked=!0}inherits$4(Stoplight$1,EventEmitter$2),Stoplight$1.prototype.go=function(){this.isLocked=!1,this.emit("unlock")},Stoplight$1.prototype.stop=function(){this.isLocked=!0,this.emit("lock")},Stoplight$1.prototype.await=function(e){const t=this;t.isLocked?t.once("unlock",e):setTimeout(e)};var jsonify$1={},at$1,ch,escapee={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},text,error$1=function(e){throw{name:"SyntaxError",message:e,at:at$1,text:text}},next=function(e){return e&&e!==ch&&error$1("Expected '"+e+"' instead of '"+ch+"'"),ch=text.charAt(at$1),at$1+=1,ch},number=function(){var e,t="";for("-"===ch&&(t="-",next("-"));ch>="0"&&ch<="9";)t+=ch,next();if("."===ch)for(t+=".";next()&&ch>="0"&&ch<="9";)t+=ch;if("e"===ch||"E"===ch)for(t+=ch,next(),"-"!==ch&&"+"!==ch||(t+=ch,next());ch>="0"&&ch<="9";)t+=ch,next();if(e=+t,isFinite(e))return e;error$1("Bad number")},string=function(){var e,t,r,n="";if('"'===ch)for(;next();){if('"'===ch)return next(),n;if("\\"===ch)if(next(),"u"===ch){for(r=0,t=0;t<4&&(e=parseInt(next(),16),isFinite(e));t+=1)r=16*r+e;n+=String.fromCharCode(r)}else{if("string"!=typeof escapee[ch])break;n+=escapee[ch]}else n+=ch}error$1("Bad string")},white=function(){for(;ch&&ch<=" ";)next()},word=function(){switch(ch){case"t":return next("t"),next("r"),next("u"),next("e"),!0;case"f":return next("f"),next("a"),next("l"),next("s"),next("e"),!1;case"n":return next("n"),next("u"),next("l"),next("l"),null}error$1("Unexpected '"+ch+"'")},value,array=function(){var e=[];if("["===ch){if(next("["),white(),"]"===ch)return next("]"),e;for(;ch;){if(e.push(value()),white(),"]"===ch)return next("]"),e;next(","),white()}}error$1("Bad array")},object$1=function(){var e,t={};if("{"===ch){if(next("{"),white(),"}"===ch)return next("}"),t;for(;ch;){if(e=string(),white(),next(":"),Object.hasOwnProperty.call(t,e)&&error$1('Duplicate key "'+e+'"'),t[e]=value(),white(),"}"===ch)return next("}"),t;next(","),white()}}error$1("Bad object")};value=function(){switch(white(),ch){case"{":return object$1();case"[":return array();case'"':return string();case"-":return number();default:return ch>="0"&&ch<="9"?number():word()}};var parse$1=function(e,t){var r;return text=e,at$1=0,ch=" ",r=value(),white(),ch&&error$1("Syntax error"),"function"==typeof t?function e(r,n){var i,o,s=r[n];if(s&&"object"==typeof s)for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(void 0!==(o=e(s,i))?s[i]=o:delete s[i]);return t.call(r,n,s)}({"":r},""):r},escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var r,n,i,o,s,a=gap,u=t[e];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(e)),"function"==typeof rep&&(u=rep.call(t,e,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(u)){for(o=u.length,r=0;r<o;r+=1)s[r]=str(r,u)||"null";return i=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,i}if(rep&&"object"==typeof rep)for(o=rep.length,r=0;r<o;r+=1)"string"==typeof(n=rep[r])&&(i=str(n,u))&&s.push(quote(n)+(gap?": ":":")+i);else for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(i=str(n,u))&&s.push(quote(n)+(gap?": ":":")+i);return i=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,i}}var stringify$4=function(e,t,r){var n;if(gap="",indent="","number"==typeof r)for(n=0;n<r;n+=1)indent+=" ";else"string"==typeof r&&(indent=r);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})};jsonify$1.parse=parse$1,jsonify$1.stringify=stringify$4;var json="undefined"!=typeof JSON?JSON:jsonify$1,jsonStableStringify=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r=t.space||"";"number"==typeof r&&(r=Array(r+1).join(" "));var n="boolean"==typeof t.cycles&&t.cycles,i=t.replacer||function(e,t){return t},o=t.cmp&&function(e){return function(t){return function(r,n){var i={key:r,value:t[r]},o={key:n,value:t[n]};return e(i,o)}}}(t.cmp),s=[];return function e(t,a,u,l){var c=r?"\n"+new Array(l+1).join(r):"",f=r?": ":":";if(u&&u.toJSON&&"function"==typeof u.toJSON&&(u=u.toJSON()),void 0!==(u=i.call(t,a,u))){if("object"!=typeof u||null===u)return json.stringify(u);if(isArray$5(u)){for(var h=[],d=0;d<u.length;d++){var p=e(u,d,u[d],l+1)||json.stringify(null);h.push(c+r+p)}return"["+h.join(",")+c+"]"}if(-1!==s.indexOf(u)){if(n)return json.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}s.push(u);var g=objectKeys(u).sort(o&&o(u));for(h=[],d=0;d<g.length;d++){var m=e(u,a=g[d],u[a],l+1);if(m){var y=json.stringify(a)+f+m;h.push(c+r+y)}}return s.splice(s.indexOf(u),1),"{"+h.join(",")+c+"}"}}({"":e},"",e,0)},isArray$5=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},objectKeys=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var n in e)t.call(e,n)&&r.push(n);return r};const stringify$3=jsonStableStringify;var rpcCacheUtils={cacheIdentifierForPayload:cacheIdentifierForPayload$1,canCache:canCache$1,blockTagForPayload:blockTagForPayload$2,paramsWithoutBlockTag:paramsWithoutBlockTag$1,blockTagParamIndex:blockTagParamIndex$1,cacheTypeForPayload:cacheTypeForPayload$1};function cacheIdentifierForPayload$1(e,t={}){if(!canCache$1(e))return null;const{includeBlockRef:r}=t,n=r?e.params:paramsWithoutBlockTag$1(e);return e.method+":"+stringify$3(n)}function canCache$1(e){return"never"!==cacheTypeForPayload$1(e)}function blockTagForPayload$2(e){var t=blockTagParamIndex$1(e);return t>=e.params.length?null:e.params[t]}function paramsWithoutBlockTag$1(e){var t=blockTagParamIndex$1(e);return t>=e.params.length?e.params:"eth_getBlockByNumber"===e.method?e.params.slice(1):e.params.slice(0,t)}function blockTagParamIndex$1(e){switch(e.method){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":return 1;case"eth_getBlockByNumber":return 0;default:return}}function cacheTypeForPayload$1(e){switch(e.method){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":return"perma";case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":return"fork";case"eth_gasPrice":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"eth_blockNumber":return"block";case"net_version":case"net_peerCount":case"net_listening":case"eth_syncing":case"eth_sign":case"eth_coinbase":case"eth_mining":case"eth_hashrate":case"eth_accounts":case"eth_sendTransaction":case"eth_sendRawTransaction":case"eth_newFilter":case"eth_newBlockFilter":case"eth_newPendingTransactionFilter":case"eth_uninstallFilter":case"eth_getFilterChanges":case"eth_getWork":case"eth_submitWork":case"eth_submitHashrate":case"db_putString":case"db_getString":case"db_putHex":case"db_getHex":case"shh_post":case"shh_newIdentity":case"shh_hasIdentity":case"shh_newGroup":case"shh_addToGroup":case"shh_newFilter":case"shh_uninstallFilter":case"shh_getFilterChanges":case"shh_getMessages":return"never"}}var randomId=createRandomId;function createRandomId(){return Math.floor(Number.MAX_SAFE_INTEGER*Math.random())}const getRandomId=randomId,extend$1=immutable;var createPayload_1=createPayload$3;function createPayload$3(e){return extend$1({id:getRandomId(),jsonrpc:"2.0",params:[]},e)}const EventEmitter$1=events$1.exports.EventEmitter,inherits$3=util$9.inherits,ethUtil$4=dist$6,EthBlockTracker=polling,map$1=map$3.exports,eachSeries=eachSeries$1.exports,Stoplight=stoplight,createPayload$2=createPayload_1,noop$3=function(){};var web3ProviderEngine=Web3ProviderEngine;function Web3ProviderEngine(e){const t=this;EventEmitter$1.call(t),t.setMaxListeners(30),e=e||{};const r={sendAsync:t._handleAsync.bind(t)},n=e.blockTrackerProvider||r;t._blockTracker=e.blockTracker||new EthBlockTracker({provider:n,pollingInterval:e.pollingInterval||4e3,setSkipCacheFlag:!0}),t._ready=new Stoplight,t.currentBlock=null,t._providers=[]}function toBufferBlock(e){return{number:ethUtil$4.toBuffer(e.number),hash:ethUtil$4.toBuffer(e.hash),parentHash:ethUtil$4.toBuffer(e.parentHash),nonce:ethUtil$4.toBuffer(e.nonce),mixHash:ethUtil$4.toBuffer(e.mixHash),sha3Uncles:ethUtil$4.toBuffer(e.sha3Uncles),logsBloom:ethUtil$4.toBuffer(e.logsBloom),transactionsRoot:ethUtil$4.toBuffer(e.transactionsRoot),stateRoot:ethUtil$4.toBuffer(e.stateRoot),receiptsRoot:ethUtil$4.toBuffer(e.receiptRoot||e.receiptsRoot),miner:ethUtil$4.toBuffer(e.miner),difficulty:ethUtil$4.toBuffer(e.difficulty),totalDifficulty:ethUtil$4.toBuffer(e.totalDifficulty),size:ethUtil$4.toBuffer(e.size),extraData:ethUtil$4.toBuffer(e.extraData),gasLimit:ethUtil$4.toBuffer(e.gasLimit),gasUsed:ethUtil$4.toBuffer(e.gasUsed),timestamp:ethUtil$4.toBuffer(e.timestamp),transactions:e.transactions}}inherits$3(Web3ProviderEngine,EventEmitter$1),Web3ProviderEngine.prototype.start=function(e=noop$3){const t=this;t._ready.go(),t._blockTracker.on("latest",(e=>{t._getBlockByNumberWithRetry(e,((e,r)=>{if(e)return void this.emit("error",e);if(!r)return console.log(r),void this.emit("error",new Error("Could not find block"));const n=toBufferBlock(r);t._setCurrentBlock(n),t.emit("rawBlock",r),t.emit("latest",r)}))})),t._blockTracker.on("sync",t.emit.bind(t,"sync")),t._blockTracker.on("error",t.emit.bind(t,"error")),t._running=!0,t.emit("start")},Web3ProviderEngine.prototype.stop=function(){const e=this;e._blockTracker.removeAllListeners(),e._running=!1,e.emit("stop")},Web3ProviderEngine.prototype.isRunning=function(){return this._running},Web3ProviderEngine.prototype.addProvider=function(e,t){const r=this;"number"==typeof t?r._providers.splice(t,0,e):r._providers.push(e),e.setEngine(this)},Web3ProviderEngine.prototype.removeProvider=function(e){const t=this._providers.indexOf(e);if(t<0)throw new Error("Provider not found.");this._providers.splice(t,1)},Web3ProviderEngine.prototype.send=function(e){throw new Error("Web3ProviderEngine does not support synchronous requests.")},Web3ProviderEngine.prototype.sendAsync=function(e,t){const r=this;r._ready.await((function(){Array.isArray(e)?map$1(e,r._handleAsync.bind(r),t):r._handleAsync(e,t)}))},Web3ProviderEngine.prototype._getBlockByNumberWithRetry=function(e,t){const r=this;let n=5;return void i();function i(){r._getBlockByNumber(e,o)}function o(e,r){return e?t(e):r?void t(null,r):n>0?(n--,void setTimeout((function(){i()}),1e3)):void t(null,null)}},Web3ProviderEngine.prototype._getBlockByNumber=function(e,t){const r=createPayload$2({method:"eth_getBlockByNumber",params:[e,!1],skipCache:!0});this._handleAsync(r,((e,r)=>e?t(e):t(null,r.result)))},Web3ProviderEngine.prototype._handleAsync=function(t,r){var n=this,i=-1,o=null,s=null,a=[];function u(e,n){s=e,o=n,eachSeries(a,(function(e,t){e?e(s,o,t):t()}),(function(){var e={id:t.id,jsonrpc:t.jsonrpc,result:o};null!=s?(e.error={message:s.stack||s.message||s,code:-32e3},r(s,e)):r(null,e)}))}!function r(o){if(i+=1,a.unshift(o),i>=n._providers.length)u(new Error('Request for method "'+t.method+'" not handled by any subprovider. Please check your subprovider configuration to ensure this method is handled.'));else try{n._providers[i].handleRequest(t,r,u)}catch(e){u(e)}}()},Web3ProviderEngine.prototype._setCurrentBlock=function(e){this.currentBlock=e,this.emit("block",e)};const createPayload$1=createPayload_1;var subprovider=SubProvider;function SubProvider(){}SubProvider.prototype.setEngine=function(e){const t=this;t.engine||(t.engine=e,e.on("block",(function(e){t.currentBlock=e})),e.on("start",(function(){t.start()})),e.on("stop",(function(){t.stop()})))},SubProvider.prototype.handleRequest=function(e,t,r){throw new Error("Subproviders should override `handleRequest`.")},SubProvider.prototype.emitPayload=function(e,t){this.engine.sendAsync(createPayload$1(e),t)},SubProvider.prototype.stop=function(){},SubProvider.prototype.start=function(){};const Subprovider$3=subprovider;class JsonRpcEngineMiddlewareSubprovider extends Subprovider$3{constructor(e){if(super(),!e)throw new Error("JsonRpcEngineMiddlewareSubprovider - no constructorFn specified");this._constructorFn=e}setEngine(e){if(this.middleware)throw new Error("JsonRpcEngineMiddlewareSubprovider - subprovider added to engine twice");const t=e._blockTracker,r=this._constructorFn({engine:e,provider:e,blockTracker:t});if(!r)throw new Error("JsonRpcEngineMiddlewareSubprovider - _constructorFn did not return middleware");if("function"!=typeof r)throw new Error("JsonRpcEngineMiddlewareSubprovider - specified middleware is not a function");this.middleware=r}handleRequest(e,t,r){const n={id:e.id};this.middleware(e,n,(function(e){t(((t,r,i)=>{t?(delete n.result,n.error={message:t.message||t}):n.result=r,e?e(i):i()}))}),(function(e){if(e)return r(e);r(null,n.result)}))}}var jsonRpcEngineMiddleware=JsonRpcEngineMiddlewareSubprovider;const stringify$2=jsonStableStringify;var cacheUtils$1={cacheIdentifierForPayload:cacheIdentifierForPayload,canCache:canCache,blockTagForPayload:blockTagForPayload$1,paramsWithoutBlockTag:paramsWithoutBlockTag,blockTagParamIndex:blockTagParamIndex,cacheTypeForPayload:cacheTypeForPayload};function cacheIdentifierForPayload(e,t){const r=t?paramsWithoutBlockTag(e):e.params;return canCache(e)?e.method+":"+stringify$2(r):null}function canCache(e){return"never"!==cacheTypeForPayload(e)}function blockTagForPayload$1(e){let t=blockTagParamIndex(e);return t>=e.params.length?null:e.params[t]}function paramsWithoutBlockTag(e){const t=blockTagParamIndex(e);return t>=e.params.length?e.params:"eth_getBlockByNumber"===e.method?e.params.slice(1):e.params.slice(0,t)}function blockTagParamIndex(e){switch(e.method){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":return 1;case"eth_getBlockByNumber":return 0;default:return}}function cacheTypeForPayload(e){switch(e.method){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":case"test_permaCache":return"perma";case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":case"test_forkCache":return"fork";case"eth_gasPrice":case"eth_blockNumber":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"test_blockCache":return"block";case"net_version":case"net_peerCount":case"net_listening":case"eth_syncing":case"eth_sign":case"eth_coinbase":case"eth_mining":case"eth_hashrate":case"eth_accounts":case"eth_sendTransaction":case"eth_sendRawTransaction":case"eth_newFilter":case"eth_newBlockFilter":case"eth_newPendingTransactionFilter":case"eth_uninstallFilter":case"eth_getFilterChanges":case"eth_getWork":case"eth_submitWork":case"eth_submitHashrate":case"db_putString":case"db_getString":case"db_putHex":case"db_getHex":case"shh_post":case"shh_newIdentity":case"shh_hasIdentity":case"shh_newGroup":case"shh_addToGroup":case"shh_newFilter":case"shh_uninstallFilter":case"shh_getFilterChanges":case"shh_getMessages":case"test_neverCache":return"never"}}var createAsyncMiddleware$5=function(e){return(t,r,n,i)=>{let o;const s=new Promise((e=>{o=e}));let a,u;e(t,r,(async()=>{u=!0,n((e=>{a=e,o()})),await s})).then((async()=>{u?(await s,a(null)):i(null)})).catch((e=>{a?a(e):i(e)}))}};const cacheUtils=cacheUtils$1,createAsyncMiddleware$4=createAsyncMiddleware$5,emptyValues=[void 0,null,"<nil>"];var blockCache=createBlockCacheMiddleware$1;function createBlockCacheMiddleware$1(e={}){const{blockTracker:t}=e;if(!t)throw new Error("createBlockCacheMiddleware - No BlockTracker specified");const r=new BlockCacheStrategy,n={perma:r,block:r,fork:r};return createAsyncMiddleware$4((async(e,i,o)=>{if(e.skipCache)return o();const s=cacheUtils.cacheTypeForPayload(e),a=n[s];if(!a)return o();if(!a.canCacheRequest(e))return o();let u,l=cacheUtils.blockTagForPayload(e);if(l||(l="latest"),"earliest"===l)u="0x00";else if("latest"===l){const e=await t.getLatestBlock();r.clearBefore(e),u=e}else u=l;const c=await a.get(e,u);void 0===c?(await o(),await a.set(e,u,i.result)):i.result=c}))}class BlockCacheStrategy{constructor(){this.cache={}}getBlockCacheForPayload(e,t){const r=Number.parseInt(t,16);let n=this.cache[r];if(!n){const e={};this.cache[r]=e,n=e}return n}async get(e,t){const r=this.getBlockCacheForPayload(e,t);if(!r)return;return r[cacheUtils.cacheIdentifierForPayload(e,!0)]}async set(e,t,r){if(!this.canCacheResult(e,r))return;this.getBlockCacheForPayload(e,t)[cacheUtils.cacheIdentifierForPayload(e,!0)]=r}canCacheRequest(e){if(!cacheUtils.canCache(e))return!1;return"pending"!==cacheUtils.blockTagForPayload(e)}canCacheResult(e,t){if(!emptyValues.includes(t))return!!(!["eth_getTransactionByHash","eth_getTransactionReceipt"].includes(e.method)||t&&t.blockHash&&"0x0000000000000000000000000000000000000000000000000000000000000000"!==t.blockHash)}clearBefore(e){const t=this,r=Number.parseInt(e,16);Object.keys(t.cache).map(Number).filter((e=>e<r)).forEach((e=>delete t.cache[e]))}}const ProviderSubprovider$2=jsonRpcEngineMiddleware,createBlockCacheMiddleware=blockCache;class BlockCacheSubprovider extends ProviderSubprovider$2{constructor(e){super((({blockTracker:t})=>createBlockCacheMiddleware(Object.assign({blockTracker:t},e))))}}var cache=BlockCacheSubprovider;const inherits$2=util$9.inherits,Subprovider$2=subprovider;var fixture=FixtureProvider;function FixtureProvider(e){e=e||{},this.staticResponses=e}inherits$2(FixtureProvider,Subprovider$2),FixtureProvider.prototype.handleRequest=function(e,t,r){var n=this.staticResponses[e.method];"function"==typeof n?n(e,t,r):void 0!==n?setTimeout((()=>r(null,n))):t()};var lib$1={},Mutex$2={},tslib={exports:{}};
/*! *****************************************************************************
			Copyright (c) Microsoft Corporation.

			Permission to use, copy, modify, and/or distribute this software for any
			purpose with or without fee is hereby granted.

			THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
			REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
			AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
			INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
			LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
			OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
			PERFORMANCE OF THIS SOFTWARE.
			***************************************************************************** */
!function(t){var r,n,i,o,s,a,u,l,c,f,h,d,p,g,m,y,b,v,_,$,w,E,S,A;!function(R){var N="object"==typeof commonjsGlobal$1?commonjsGlobal$1:"object"==typeof self?self:"object"==typeof this?this:{};function x(e,t){return e!==N&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(r,n){return e[r]=t?t(r,n):n}}!function(t){var R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])};r=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}R(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},o=function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=function(e,t){return function(r,n){t(r,n,e)}},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(t,r,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function a(t){try{l(i.next(t))}catch(e){s(e)}}function u(t){try{l(i.throw(t))}catch(e){s(e)}}function l(e){e.done?n(e.value):o(e.value).then(a,u)}l((i=i.apply(t,r||[])).next())}))},l=function(t,r){var n,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(e){return function(t){return l([e,t])}}function l(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=r.call(t,a)}catch(e){s=[6,e],i=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},c=function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||A(t,e,r)},A=Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},f=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},h=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(error){i={error:error}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},d=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e},p=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n},g=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},m=function(e){return this instanceof m?(this.v=e,this):new m(e)},y=function(t,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,o=n.apply(t,r||[]),s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(e){o[e]&&(i[e]=function(t){return new Promise((function(r,n){s.push([e,t,r,n])>1||u(e,t)}))})}function u(t,r){try{l(o[t](r))}catch(e){h(s[0][3],e)}}function l(e){e.value instanceof m?Promise.resolve(e.value.v).then(c,f):h(s[0][2],e)}function c(e){u("next",e)}function f(e){u("throw",e)}function h(e,t){e(t),s.shift(),s.length&&u(s[0][0],s[0][1])}},b=function(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:m(e[n](t)),done:"return"===n}:i?i(t):t}:i}},v=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=f(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){i(n,o,(t=e[r](t)).done,t.value)}))}}function i(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}},_=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var N=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};$=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&A(t,e,r);return N(t,e),t},w=function(e){return e&&e.__esModule?e:{default:e}},E=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},S=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},t("__extends",r),t("__assign",n),t("__rest",i),t("__decorate",o),t("__param",s),t("__metadata",a),t("__awaiter",u),t("__generator",l),t("__exportStar",c),t("__createBinding",A),t("__values",f),t("__read",h),t("__spread",d),t("__spreadArrays",p),t("__spreadArray",g),t("__await",m),t("__asyncGenerator",y),t("__asyncDelegator",b),t("__asyncValues",v),t("__makeTemplateObject",_),t("__importStar",$),t("__importDefault",w),t("__classPrivateFieldGet",E),t("__classPrivateFieldSet",S)}(x(N,x(t.exports)))}()}(tslib);var Semaphore$2={};Object.defineProperty(Semaphore$2,"__esModule",{value:!0});var tslib_1$2=tslib.exports,Semaphore$1=function(){function e(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return e.prototype.acquire=function(){var e=this,t=this.isLocked(),r=new Promise((function(t){return e._queue.push(t)}));return t||this._dispatch(),r},e.prototype.runExclusive=function(e){return tslib_1$2.__awaiter(this,void 0,void 0,(function(){var t,r,n;return tslib_1$2.__generator(this,(function(i){switch(i.label){case 0:return[4,this.acquire()];case 1:t=i.sent(),r=t[0],n=t[1],i.label=2;case 2:return i.trys.push([2,,4,5]),[4,e(r)];case 3:return[2,i.sent()];case 4:return n(),[7];case 5:return[2]}}))}))},e.prototype.isLocked=function(){return this._value<=0},e.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},e.prototype._dispatch=function(){var e=this,t=this._queue.shift();if(t){var r=!1;this._currentReleaser=function(){r||(r=!0,e._value++,e._dispatch())},t([this._value--,this._currentReleaser])}},e}();Semaphore$2.default=Semaphore$1,Object.defineProperty(Mutex$2,"__esModule",{value:!0});var tslib_1$1=tslib.exports,Semaphore_1=Semaphore$2,Mutex$1=function(){function e(){this._semaphore=new Semaphore_1.default(1)}return e.prototype.acquire=function(){return tslib_1$1.__awaiter(this,void 0,void 0,(function(){var e;return tslib_1$1.__generator(this,(function(t){switch(t.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=t.sent(),[2,e[1]]}}))}))},e.prototype.runExclusive=function(e){return this._semaphore.runExclusive((function(){return e()}))},e.prototype.isLocked=function(){return this._semaphore.isLocked()},e.prototype.release=function(){this._semaphore.release()},e}();Mutex$2.default=Mutex$1;var withTimeout$1={};Object.defineProperty(withTimeout$1,"__esModule",{value:!0}),withTimeout$1.withTimeout=void 0;var tslib_1=tslib.exports;function withTimeout(e,t,r){var n=this;return void 0===r&&(r=new Error("timeout")),{acquire:function(){return new Promise((function(i,o){return tslib_1.__awaiter(n,void 0,void 0,(function(){var n,s;return tslib_1.__generator(this,(function(a){switch(a.label){case 0:return n=!1,setTimeout((function(){n=!0,o(r)}),t),[4,e.acquire()];case 1:return s=a.sent(),n?(Array.isArray(s)?s[1]:s)():i(s),[2]}}))}))}))},runExclusive:function(e){return tslib_1.__awaiter(this,void 0,void 0,(function(){var t,r;return tslib_1.__generator(this,(function(n){switch(n.label){case 0:t=function(){},n.label=1;case 1:return n.trys.push([1,,7,8]),[4,this.acquire()];case 2:return r=n.sent(),Array.isArray(r)?(t=r[1],[4,e(r[0])]):[3,4];case 3:return[2,n.sent()];case 4:return t=r,[4,e()];case 5:return[2,n.sent()];case 6:return[3,8];case 7:return t(),[7];case 8:return[2]}}))}))},release:function(){e.release()},isLocked:function(){return e.isLocked()}}}withTimeout$1.withTimeout=withTimeout,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.withTimeout=e.Semaphore=e.Mutex=void 0;var t=Mutex$2;Object.defineProperty(e,"Mutex",{enumerable:!0,get:function(){return t.default}});var r=Semaphore$2;Object.defineProperty(e,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=withTimeout$1;Object.defineProperty(e,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})}(lib$1);var dist$5={},idRemapMiddleware={},getUniqueId$1={};Object.defineProperty(getUniqueId$1,"__esModule",{value:!0}),getUniqueId$1.getUniqueId=void 0;const MAX=4294967295;let idCounter=Math.floor(Math.random()*MAX);function getUniqueId(){return idCounter=(idCounter+1)%MAX,idCounter}getUniqueId$1.getUniqueId=getUniqueId,Object.defineProperty(idRemapMiddleware,"__esModule",{value:!0}),idRemapMiddleware.createIdRemapMiddleware=void 0;const getUniqueId_1=getUniqueId$1;function createIdRemapMiddleware(){return(e,t,r,n)=>{const i=e.id,o=getUniqueId_1.getUniqueId();e.id=o,t.id=o,r((r=>{e.id=i,t.id=i,r()}))}}idRemapMiddleware.createIdRemapMiddleware=createIdRemapMiddleware;var createAsyncMiddleware$3={};function createAsyncMiddleware$2(e){return async(t,r,n,i)=>{let o;const s=new Promise((e=>{o=e}));let a=null,u=!1;const l=async()=>{u=!0,n((e=>{a=e,o()})),await s};try{await e(t,r,l),u?(await s,a(null)):i(null)}catch(error){a?a(error):i(error)}}}Object.defineProperty(createAsyncMiddleware$3,"__esModule",{value:!0}),createAsyncMiddleware$3.createAsyncMiddleware=void 0,createAsyncMiddleware$3.createAsyncMiddleware=createAsyncMiddleware$2;var createScaffoldMiddleware$3={};function createScaffoldMiddleware$2(e){return(t,r,n,i)=>{const o=e[t.method];return void 0===o?n():"function"==typeof o?o(t,r,n,i):(r.result=o,i())}}Object.defineProperty(createScaffoldMiddleware$3,"__esModule",{value:!0}),createScaffoldMiddleware$3.createScaffoldMiddleware=void 0,createScaffoldMiddleware$3.createScaffoldMiddleware=createScaffoldMiddleware$2;var JsonRpcEngine$1={},safeEventEmitter={};Object.defineProperty(safeEventEmitter,"__esModule",{value:!0});const events_1=events$1.exports;function safeApply(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout((()=>{throw n}))}}function arrayClone(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}class SafeEventEmitter$2 extends events_1.EventEmitter{emit(e,...t){let r="error"===e;const n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const r=new Error("Unhandled error."+(e?` (${e.message})`:""));throw r.context=e,r}const i=n[e];if(void 0===i)return!1;if("function"==typeof i)safeApply(i,this,t);else{const e=i.length,r=arrayClone(i);for(let n=0;n<e;n+=1)safeApply(r[n],this,t)}return!0}}safeEventEmitter.default=SafeEventEmitter$2;var dist$4={},classes$1={},fastSafeStringify=stringify$1;stringify$1.default=stringify$1,stringify$1.stable=deterministicStringify,stringify$1.stableStringify=deterministicStringify;var LIMIT_REPLACE_NODE="[...]",CIRCULAR_REPLACE_NODE="[Circular]",arr=[],replacerStack=[];function defaultOptions(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function stringify$1(e,t,r,n){var i;void 0===n&&(n=defaultOptions()),decirc(e,"",0,[],void 0,0,n);try{i=0===replacerStack.length?JSON.stringify(e,t,r):JSON.stringify(e,replaceGetterValues(t),r)}catch(_){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==arr.length;){var o=arr.pop();4===o.length?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function setReplace(e,t,r,n){var i=Object.getOwnPropertyDescriptor(n,r);void 0!==i.get?i.configurable?(Object.defineProperty(n,r,{value:e}),arr.push([n,r,t,i])):replacerStack.push([t,r,e]):(n[r]=e,arr.push([n,r,t]))}function decirc(e,t,r,n,i,o,s){var a;if(o+=1,"object"==typeof e&&null!==e){for(a=0;a<n.length;a++)if(n[a]===e)return void setReplace(CIRCULAR_REPLACE_NODE,e,t,i);if(void 0!==s.depthLimit&&o>s.depthLimit)return void setReplace(LIMIT_REPLACE_NODE,e,t,i);if(void 0!==s.edgesLimit&&r+1>s.edgesLimit)return void setReplace(LIMIT_REPLACE_NODE,e,t,i);if(n.push(e),Array.isArray(e))for(a=0;a<e.length;a++)decirc(e[a],a,a,n,e,o,s);else{var u=Object.keys(e);for(a=0;a<u.length;a++){var l=u[a];decirc(e[l],l,a,n,e,o,s)}}n.pop()}}function compareFunction(e,t){return e<t?-1:e>t?1:0}function deterministicStringify(e,t,r,n){void 0===n&&(n=defaultOptions());var i,o=deterministicDecirc(e,"",0,[],void 0,0,n)||e;try{i=0===replacerStack.length?JSON.stringify(o,t,r):JSON.stringify(o,replaceGetterValues(t),r)}catch(_){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==arr.length;){var s=arr.pop();4===s.length?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function deterministicDecirc(e,t,r,n,i,o,s){var a;if(o+=1,"object"==typeof e&&null!==e){for(a=0;a<n.length;a++)if(n[a]===e)return void setReplace(CIRCULAR_REPLACE_NODE,e,t,i);try{if("function"==typeof e.toJSON)return}catch(_){return}if(void 0!==s.depthLimit&&o>s.depthLimit)return void setReplace(LIMIT_REPLACE_NODE,e,t,i);if(void 0!==s.edgesLimit&&r+1>s.edgesLimit)return void setReplace(LIMIT_REPLACE_NODE,e,t,i);if(n.push(e),Array.isArray(e))for(a=0;a<e.length;a++)deterministicDecirc(e[a],a,a,n,e,o,s);else{var u={},l=Object.keys(e).sort(compareFunction);for(a=0;a<l.length;a++){var c=l[a];deterministicDecirc(e[c],c,a,n,e,o,s),u[c]=e[c]}if(void 0===i)return u;arr.push([i,t,e]),i[t]=u}n.pop()}}function replaceGetterValues(e){return e=void 0!==e?e:function(e,t){return t},function(t,r){if(replacerStack.length>0)for(var n=0;n<replacerStack.length;n++){var i=replacerStack[n];if(i[1]===t&&i[0]===r){r=i[2],replacerStack.splice(n,1);break}}return e.call(this,t,r)}}Object.defineProperty(classes$1,"__esModule",{value:!0}),classes$1.EthereumProviderError=classes$1.EthereumRpcError=void 0;const fast_safe_stringify_1$1=fastSafeStringify;class EthereumRpcError$1 extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return fast_safe_stringify_1$1.default(this.serialize(),stringifyReplacer$1,2)}}classes$1.EthereumRpcError=EthereumRpcError$1;class EthereumProviderError$1 extends EthereumRpcError$1{constructor(e,t,r){if(!isValidEthProviderCode$1(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}function isValidEthProviderCode$1(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function stringifyReplacer$1(e,t){if("[Circular]"!==t)return t}classes$1.EthereumProviderError=EthereumProviderError$1;var utils$4={},errorConstants$1={};Object.defineProperty(errorConstants$1,"__esModule",{value:!0}),errorConstants$1.errorValues=errorConstants$1.errorCodes=void 0,errorConstants$1.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},errorConstants$1.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=errorConstants$1,r=classes$1,n=t.errorCodes.rpc.internal,i={code:n,message:o(n)};function o(r,n="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(r)){const n=r.toString();if(l(t.errorValues,n))return t.errorValues[n].message;if(a(r))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return n}function s(e){if(!Number.isInteger(e))return!1;const r=e.toString();return!!t.errorValues[r]||!!a(e)}function a(e){return e>=-32099&&e<=-32e3}function u(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",e.getMessageFromCode=o,e.isValidCode=s,e.serializeError=function(e,{fallbackError:t=i,shouldIncludeStack:n=!1}={}){var a,c;if(!t||!Number.isInteger(t.code)||"string"!=typeof t.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof r.EthereumRpcError)return e.serialize();const f={};if(e&&"object"==typeof e&&!Array.isArray(e)&&l(e,"code")&&s(e.code)){const t=e;f.code=t.code,t.message&&"string"==typeof t.message?(f.message=t.message,l(t,"data")&&(f.data=t.data)):(f.message=o(f.code),f.data={originalError:u(e)})}else{f.code=t.code;const r=null===(a=e)||void 0===a?void 0:a.message;f.message=r&&"string"==typeof r?r:t.message,f.data={originalError:u(e)}}const h=null===(c=e)||void 0===c?void 0:c.stack;return n&&e&&h&&"string"==typeof h&&(f.stack=h),f}}(utils$4);var errors$2={};Object.defineProperty(errors$2,"__esModule",{value:!0}),errors$2.ethErrors=void 0;const classes_1$1=classes$1,utils_1$1=utils$4,error_constants_1$1=errorConstants$1;function getEthJsonRpcError$1(e,t){const[r,n]=parseOpts$1(t);return new classes_1$1.EthereumRpcError(e,r||utils_1$1.getMessageFromCode(e),n)}function getEthProviderError$1(e,t){const[r,n]=parseOpts$1(t);return new classes_1$1.EthereumProviderError(e,r||utils_1$1.getMessageFromCode(e),n)}function parseOpts$1(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}errors$2.ethErrors={rpc:{parse:e=>getEthJsonRpcError$1(error_constants_1$1.errorCodes.rpc.parse,e),invalidRequest:e=>getEthJsonRpcError$1(error_constants_1$1.errorCodes.rpc.invalidRequest,e),invalidParams:e=>getEthJsonRpcError$1(error_constants_1$1.errorCodes.rpc.invalidParams,e),methodNotFound:e=>getEthJsonRpcError$1(error_constants_1$1.errorCodes.rpc.methodNotFound,e),internal:e=>getEthJsonRpcError$1(error_constants_1$1.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return getEthJsonRpcError$1(t,e)},invalidInput:e=>getEthJsonRpcError$1(error_constants_1$1.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>getEthJsonRpcError$1(error_constants_1$1.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>getEthJsonRpcError$1(error_constants_1$1.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>getEthJsonRpcError$1(error_constants_1$1.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>getEthJsonRpcError$1(error_constants_1$1.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>getEthJsonRpcError$1(error_constants_1$1.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>getEthProviderError$1(error_constants_1$1.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>getEthProviderError$1(error_constants_1$1.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>getEthProviderError$1(error_constants_1$1.errorCodes.provider.unsupportedMethod,e),disconnected:e=>getEthProviderError$1(error_constants_1$1.errorCodes.provider.disconnected,e),chainDisconnected:e=>getEthProviderError$1(error_constants_1$1.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:n}=e;if(!r||"string"!=typeof r)throw new Error('"message" must be a nonempty string');return new classes_1$1.EthereumProviderError(t,r,n)}}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;const t=classes$1;Object.defineProperty(e,"EthereumRpcError",{enumerable:!0,get:function(){return t.EthereumRpcError}}),Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return t.EthereumProviderError}});const r=utils$4;Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=errors$2;Object.defineProperty(e,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=errorConstants$1;Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})}(dist$4);var __importDefault$9=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(JsonRpcEngine$1,"__esModule",{value:!0}),JsonRpcEngine$1.JsonRpcEngine=void 0;const safe_event_emitter_1$1=__importDefault$9(safeEventEmitter),eth_rpc_errors_1$3=dist$4;class JsonRpcEngine extends safe_event_emitter_1$1.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!=typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,r,n)=>{try{const[i,o,s]=await JsonRpcEngine._runAllMiddleware(e,t,this._middleware);return o?(await JsonRpcEngine._runReturnHandlers(s),n(i)):r((async e=>{try{await JsonRpcEngine._runReturnHandlers(s)}catch(error){return e(error)}return e()}))}catch(error){return n(error)}}}async _handleBatch(e,t){try{const r=await Promise.all(e.map(this._promiseHandle.bind(this)));return t?t(null,r):r}catch(error){if(t)return t(error);throw error}}_promiseHandle(e){return new Promise((t=>{this._handle(e,((e,r)=>{t(r)}))}))}async _handle(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){const r=new eth_rpc_errors_1$3.EthereumRpcError(eth_rpc_errors_1$3.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: "+typeof e,{request:e});return t(r,{id:void 0,jsonrpc:"2.0",error:r})}if("string"!=typeof e.method){const r=new eth_rpc_errors_1$3.EthereumRpcError(eth_rpc_errors_1$3.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: "+typeof e.method,{request:e});return t(r,{id:e.id,jsonrpc:"2.0",error:r})}const r=Object.assign({},e),n={id:r.id,jsonrpc:r.jsonrpc};let i=null;try{await this._processRequest(r,n)}catch(o){i=o}return i&&(delete n.result,n.error||(n.error=eth_rpc_errors_1$3.serializeError(i))),t(i,n)}async _processRequest(e,t){const[r,n,i]=await JsonRpcEngine._runAllMiddleware(e,t,this._middleware);if(JsonRpcEngine._checkForCompletion(e,t,n),await JsonRpcEngine._runReturnHandlers(i),r)throw r}static async _runAllMiddleware(e,t,r){const n=[];let i=null,o=!1;for(const s of r)if([i,o]=await JsonRpcEngine._runMiddleware(e,t,s,n),o)break;return[i,o,n.reverse()]}static _runMiddleware(e,t,r,n){return new Promise((i=>{const o=e=>{const r=e||t.error;r&&(t.error=eth_rpc_errors_1$3.serializeError(r)),i([r,!0])},s=r=>{t.error?o(t.error):(r&&("function"!=typeof r&&o(new eth_rpc_errors_1$3.EthereumRpcError(eth_rpc_errors_1$3.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof r}" for request:\n${jsonify(e)}`,{request:e})),n.push(r)),i([null,!1]))};try{r(e,t,s,o)}catch(error){o(error)}}))}static async _runReturnHandlers(e){for(const t of e)await new Promise(((e,r)=>{t((t=>t?r(t):e()))}))}static _checkForCompletion(e,t,r){if(!("result"in t)&&!("error"in t))throw new eth_rpc_errors_1$3.EthereumRpcError(eth_rpc_errors_1$3.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:\n${jsonify(e)}`,{request:e});if(!r)throw new eth_rpc_errors_1$3.EthereumRpcError(eth_rpc_errors_1$3.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:\n${jsonify(e)}`,{request:e})}}function jsonify(e){return JSON.stringify(e,null,2)}JsonRpcEngine$1.JsonRpcEngine=JsonRpcEngine;var mergeMiddleware$1={};Object.defineProperty(mergeMiddleware$1,"__esModule",{value:!0}),mergeMiddleware$1.mergeMiddleware=void 0;const JsonRpcEngine_1=JsonRpcEngine$1;function mergeMiddleware(e){const t=new JsonRpcEngine_1.JsonRpcEngine;return e.forEach((e=>t.push(e))),t.asMiddleware()}mergeMiddleware$1.mergeMiddleware=mergeMiddleware,function(e){var t=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal$1&&commonjsGlobal$1.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(idRemapMiddleware,e),r(createAsyncMiddleware$3,e),r(createScaffoldMiddleware$3,e),r(getUniqueId$1,e),r(JsonRpcEngine$1,e),r(mergeMiddleware$1,e)}(dist$5);var createScaffoldMiddleware$1=function(e){return(t,r,n,i)=>{const o=e[t.method];return void 0===o?n():"function"==typeof o?o(t,r,n,i):(r.result=o,i())}},scaffold=createScaffoldMiddleware$1;const processFn=(e,t,r,n)=>function(...i){return new(0,t.promiseModule)(((o,s)=>{t.multiArgs?i.push(((...e)=>{t.errorFirst?e[0]?s(e):(e.shift(),o(e)):o(e)})):t.errorFirst?i.push(((e,t)=>{e?s(e):o(t)})):i.push(o);const a=this===r?n:this;Reflect.apply(e,a,i)}))},filterCache=new WeakMap;var pify$1=(e,t)=>{t={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...t};const r=typeof e;if(null===e||"object"!==r&&"function"!==r)throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${null===e?"null":r}\``);const n=new WeakMap,i=new Proxy(e,{apply(e,r,o){const s=n.get(e);if(s)return Reflect.apply(s,r,o);const a=t.excludeMain?e:processFn(e,t,i,e);return n.set(e,a),Reflect.apply(a,r,o)},get(e,r){const o=e[r];if(!((e,r)=>{let n=filterCache.get(e);if(n||(n={},filterCache.set(e,n)),r in n)return n[r];const i=e=>"string"==typeof e||"symbol"==typeof r?r===e:e.test(r),o=Reflect.getOwnPropertyDescriptor(e,r),s=void 0===o||o.writable||o.configurable,a=(t.include?t.include.some(i):!t.exclude.some(i))&&s;return n[r]=a,a})(e,r)||o===Function.prototype[r])return o;const s=n.get(o);if(s)return s;if("function"==typeof o){const r=processFn(o,t,i,e);return n.set(o,r),r}return o}});return i};const SafeEventEmitter$1=safeEventEmitter.default;class BaseFilter$3 extends SafeEventEmitter$1{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach((e=>this.emit("update",e)))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}}var baseFilter=BaseFilter$3;const BaseFilter$2=baseFilter;class BaseFilterWithHistory$1 extends BaseFilter$2{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}var baseFilterHistory=BaseFilterWithHistory$1,hexUtils={minBlockRef:minBlockRef$1,maxBlockRef:maxBlockRef,sortBlockRefs:sortBlockRefs,bnToHex:bnToHex$1,blockRefIsNumber:blockRefIsNumber$1,hexToInt:hexToInt$3,incrementHexInt:incrementHexInt$4,intToHex:intToHex$2,unsafeRandomBytes:unsafeRandomBytes$1};function minBlockRef$1(...e){return sortBlockRefs(e)[0]}function maxBlockRef(...e){const t=sortBlockRefs(e);return t[t.length-1]}function sortBlockRefs(e){return e.sort(((e,t)=>"latest"===e||"earliest"===t?1:"latest"===t||"earliest"===e?-1:hexToInt$3(e)-hexToInt$3(t)))}function bnToHex$1(e){return"0x"+e.toString(16)}function blockRefIsNumber$1(e){return e&&!["earliest","latest","pending"].includes(e)}function hexToInt$3(e){return null==e?e:Number.parseInt(e,16)}function incrementHexInt$4(e){if(null==e)return e;return intToHex$2(hexToInt$3(e)+1)}function intToHex$2(e){if(null==e)return e;let t=e.toString(16);return t.length%2&&(t="0"+t),"0x"+t}function unsafeRandomBytes$1(e){let t="0x";for(let r=0;r<e;r++)t+=unsafeRandomNibble(),t+=unsafeRandomNibble();return t}function unsafeRandomNibble(){return Math.floor(16*Math.random()).toString(16)}const EthQuery=ethQuery,pify=pify$1,BaseFilterWithHistory=baseFilterHistory,{bnToHex:bnToHex,hexToInt:hexToInt$2,incrementHexInt:incrementHexInt$3,minBlockRef:minBlockRef,blockRefIsNumber:blockRefIsNumber}=hexUtils;class LogFilter$1 extends BaseFilterWithHistory{constructor({provider:e,params:t}){super(),this.type="log",this.ethQuery=new EthQuery(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},t),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map((e=>e.toLowerCase())))}async initialize({currentBlock:e}){let t=this.params.fromBlock;["latest","pending"].includes(t)&&(t=e),"earliest"===t&&(t="0x0"),this.params.fromBlock=t;const r=minBlockRef(this.params.toBlock,e),n=Object.assign({},this.params,{toBlock:r}),i=await this._fetchLogs(n);this.addInitialResults(i)}async update({oldBlock:e,newBlock:t}){const r=t;let n;n=e?incrementHexInt$3(e):t;const i=Object.assign({},this.params,{fromBlock:n,toBlock:r}),o=(await this._fetchLogs(i)).filter((e=>this.matchLog(e)));this.addResults(o)}async _fetchLogs(e){return await pify((t=>this.ethQuery.getLogs(e,t)))()}matchLog(e){if(hexToInt$2(this.params.fromBlock)>=hexToInt$2(e.blockNumber))return!1;if(blockRefIsNumber(this.params.toBlock)&&hexToInt$2(this.params.toBlock)<=hexToInt$2(e.blockNumber))return!1;const t=e.address&&e.address.toLowerCase();if(this.params.address&&t&&!this.params.address.includes(t))return!1;const r=this.params.topics.every(((t,r)=>{let n=e.topics[r];if(!n)return!1;n=n.toLowerCase();let i=Array.isArray(t)?t:[t];if(i.includes(null))return!0;i=i.map((e=>e.toLowerCase()));return i.includes(n)}));return r}}var logFilter=LogFilter$1,getBlocksForRange_1=getBlocksForRange$3;async function getBlocksForRange$3({provider:e,fromBlock:t,toBlock:r}){t||(t=r);const n=hexToInt$1(t),i=hexToInt$1(r),o=Array(i-n+1).fill().map(((e,t)=>n+t)).map(intToHex$1);return await Promise.all(o.map((t=>query(e,"eth_getBlockByNumber",[t,!1]))))}function hexToInt$1(e){return null==e?e:Number.parseInt(e,16)}function intToHex$1(e){if(null==e)return e;return"0x"+e.toString(16)}function query(e,t,r){return new Promise(((n,i)=>{e.sendAsync({id:1,jsonrpc:"2.0",method:t,params:r},((e,t)=>{if(e)return i(e);n(t.result)}))}))}const BaseFilter$1=baseFilter,getBlocksForRange$2=getBlocksForRange_1,{incrementHexInt:incrementHexInt$2}=hexUtils;class BlockFilter$1 extends BaseFilter$1{constructor({provider:e,params:t}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:t}){const r=t,n=incrementHexInt$2(e),i=(await getBlocksForRange$2({provider:this.provider,fromBlock:n,toBlock:r})).map((e=>e.hash));this.addResults(i)}}var blockFilter=BlockFilter$1;const BaseFilter=baseFilter,getBlocksForRange$1=getBlocksForRange_1,{incrementHexInt:incrementHexInt$1}=hexUtils;class TxFilter$1 extends BaseFilter{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const t=e,r=incrementHexInt$1(e),n=await getBlocksForRange$1({provider:this.provider,fromBlock:r,toBlock:t}),i=[];for(const o of n)i.push(...o.transactions);this.addResults(i)}}var txFilter=TxFilter$1;const Mutex=lib$1.Mutex,{createAsyncMiddleware:createAsyncMiddleware$1}=dist$5,createJsonRpcMiddleware=scaffold,LogFilter=logFilter,BlockFilter=blockFilter,TxFilter=txFilter,{intToHex:intToHex,hexToInt:hexToInt}=hexUtils;var ethJsonRpcFilters=createEthFilterMiddleware;function createEthFilterMiddleware({blockTracker:e,provider:t}){let r=0,n={};const i=new Mutex,o=mutexMiddlewareWrapper({mutex:i}),s=createJsonRpcMiddleware({eth_newFilter:o(toFilterCreationMiddleware(u)),eth_newBlockFilter:o(toFilterCreationMiddleware(l)),eth_newPendingTransactionFilter:o(toFilterCreationMiddleware(c)),eth_uninstallFilter:o(toAsyncRpcMiddleware(d)),eth_getFilterChanges:o(toAsyncRpcMiddleware(f)),eth_getFilterLogs:o(toAsyncRpcMiddleware(h))}),a=async({oldBlock:e,newBlock:t})=>{if(0===n.length)return;const r=await i.acquire();try{await Promise.all(objValues(n).map((async r=>{try{await r.update({oldBlock:e,newBlock:t})}catch(n){console.error(n)}})))}catch(o){console.error(o)}r()};return s.newLogFilter=u,s.newBlockFilter=l,s.newPendingTransactionFilter=c,s.uninstallFilter=d,s.getFilterChanges=f,s.getFilterLogs=h,s.destroy=()=>{!async function(){const e=objValues(n).length;n={},g({prevFilterCount:e,newFilterCount:0})}()},s;async function u(e){const r=new LogFilter({provider:t,params:e});return await p(r),r}async function l(){const e=new BlockFilter({provider:t});return await p(e),e}async function c(){const e=new TxFilter({provider:t});return await p(e),e}async function f(e){const t=hexToInt(e),r=n[t];if(!r)throw new Error(`No filter for index "${t}"`);return r.getChangesAndClear()}async function h(e){const t=hexToInt(e),r=n[t];if(!r)throw new Error(`No filter for index "${t}"`);return"log"===r.type?results=r.getAllResults():results=[],results}async function d(e){const t=hexToInt(e),r=n[t],i=Boolean(r);return i&&await async function(e){const t=objValues(n).length;delete n[e];const r=objValues(n).length;g({prevFilterCount:t,newFilterCount:r})}(t),i}async function p(t){const i=objValues(n).length,o=await e.getLatestBlock();await t.initialize({currentBlock:o}),r++,n[r]=t,t.id=r,t.idHex=intToHex(r);return g({prevFilterCount:i,newFilterCount:objValues(n).length}),r}function g({prevFilterCount:t,newFilterCount:r}){0===t&&r>0?e.on("sync",a):t>0&&0===r&&e.removeListener("sync",a)}}function toFilterCreationMiddleware(e){return toAsyncRpcMiddleware((async(...t)=>{const r=await e(...t);return intToHex(r.id)}))}function toAsyncRpcMiddleware(e){return createAsyncMiddleware$1((async(t,r)=>{const n=await e.apply(null,t.params);r.result=n}))}function mutexMiddlewareWrapper({mutex:e}){return t=>async(r,n,i,o)=>{(await e.acquire())(),t(r,n,i,o)}}function objValues(e,t){const r=[];for(let n in e)r.push(e[n]);return r}const ProviderSubprovider$1=jsonRpcEngineMiddleware,createFilterMiddleware$1=ethJsonRpcFilters;class SubscriptionsSubprovider$2 extends ProviderSubprovider$1{constructor(){super((({blockTracker:e,provider:t,engine:r})=>createFilterMiddleware$1({blockTracker:e,provider:t})))}}var filters=SubscriptionsSubprovider$2,waterfall$1={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t=(0,i.default)(t||n.default),!(0,r.default)(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var u=0;function l(t){var r=(0,a.default)(e[u++]);t.push((0,s.default)(c)),r.apply(null,t)}function c(r){if(r||u===e.length)return t.apply(null,arguments);l((0,o.default)(arguments,1))}l([])};var r=u(isArray_1),n=u(noop_1),i=u(once.exports),o=u(slice.exports),s=u(onlyOnce.exports),a=u(wrapAsync$1);function u(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(waterfall$1,waterfall$1.exports);var parallel$2={exports:{}},parallel$1={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,s){s=s||r.default;var a=(0,n.default)(t)?[]:{};e(t,(function(e,t,r){(0,o.default)(e)((function(e,n){arguments.length>2&&(n=(0,i.default)(arguments,1)),a[t]=n,r(e)}))}),(function(e){s(e,a)}))};var r=s(noop_1),n=s(isArrayLike_1),i=s(slice.exports),o=s(wrapAsync$1);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(parallel$1,parallel$1.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(r.default,e,t)};var r=i(eachOf.exports),n=i(parallel$1.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(parallel$2,parallel$2.exports);var dist$3={},secp256k1v3Adapter={},secp256k1v3Lib={};Object.defineProperty(secp256k1v3Lib,"__esModule",{value:!0});var BN$6=bn$4.exports,EC=elliptic$2.ec,ec=new EC("secp256k1"),ecparams=ec.curve;secp256k1v3Lib.privateKeyExport=function(e,t){void 0===t&&(t=!0);var r=new BN$6(e);if(r.ucmp(ecparams.n)>=0)throw new Error("couldn't export to DER format");var n=ec.g.mul(r);return toPublicKey(n.getX(),n.getY(),t)},secp256k1v3Lib.privateKeyModInverse=function(e){var t=new BN$6(e);if(t.ucmp(ecparams.n)>=0||t.isZero())throw new Error("private key range is invalid");return t.invm(ecparams.n).toArrayLike(buffer$2.Buffer,"be",32)},secp256k1v3Lib.signatureImport=function(e){var t=new BN$6(e.r);t.ucmp(ecparams.n)>=0&&(t=new BN$6(0));var r=new BN$6(e.s);return r.ucmp(ecparams.n)>=0&&(r=new BN$6(0)),buffer$2.Buffer.concat([t.toArrayLike(buffer$2.Buffer,"be",32),r.toArrayLike(buffer$2.Buffer,"be",32)])},secp256k1v3Lib.ecdhUnsafe=function(e,t,r){void 0===r&&(r=!0);var n=ec.keyFromPublic(e),i=new BN$6(t);if(i.ucmp(ecparams.n)>=0||i.isZero())throw new Error("scalar was invalid (zero or overflow)");var o=n.pub.mul(i);return toPublicKey(o.getX(),o.getY(),r)};var toPublicKey=function(e,t,r){var n;return r?((n=buffer$2.Buffer.alloc(33))[0]=t.isOdd()?3:2,e.toArrayLike(buffer$2.Buffer,"be",32).copy(n,1)):((n=buffer$2.Buffer.alloc(65))[0]=4,e.toArrayLike(buffer$2.Buffer,"be",32).copy(n,1),t.toArrayLike(buffer$2.Buffer,"be",32).copy(n,33)),n},der={};Object.defineProperty(der,"__esModule",{value:!0});var EC_PRIVKEY_EXPORT_DER_COMPRESSED=buffer$2.Buffer.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),EC_PRIVKEY_EXPORT_DER_UNCOMPRESSED=buffer$2.Buffer.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);der.privateKeyExport=function(e,t,r){void 0===r&&(r=!0);var n=buffer$2.Buffer.from(r?EC_PRIVKEY_EXPORT_DER_COMPRESSED:EC_PRIVKEY_EXPORT_DER_UNCOMPRESSED);return e.copy(n,r?8:9),t.copy(n,r?181:214),n},der.privateKeyImport=function(e){var t=e.length,r=0;if(t<r+1||48!==e[r])return null;if(t<(r+=1)+1||!(128&e[r]))return null;var n=127&e[r];if(n<1||n>2)return null;if(t<(r+=1)+n)return null;var i=e[r+n-1]|(n>1?e[r+n-2]<<8:0);return t<(r+=n)+i||t<r+3||2!==e[r]||1!==e[r+1]||1!==e[r+2]||t<(r+=3)+2||4!==e[r]||e[r+1]>32||t<r+2+e[r+1]?null:e.slice(r+2,r+2+e[r+1])},der.signatureImportLax=function(e){var t=buffer$2.Buffer.alloc(32,0),r=buffer$2.Buffer.alloc(32,0),n=e.length,i=0;if(48!==e[i++])return null;var o=e[i++];if(128&o&&(i+=o-128)>n)return null;if(2!==e[i++])return null;var s=e[i++];if(128&s){if(i+(o=s-128)>n)return null;for(;o>0&&0===e[i];i+=1,o-=1);for(s=0;o>0;i+=1,o-=1)s=(s<<8)+e[i]}if(s>n-i)return null;var a=i;if(i+=s,2!==e[i++])return null;var u=e[i++];if(128&u){if(i+(o=u-128)>n)return null;for(;o>0&&0===e[i];i+=1,o-=1);for(u=0;o>0;i+=1,o-=1)u=(u<<8)+e[i]}if(u>n-i)return null;var l=i;for(i+=u;s>0&&0===e[a];s-=1,a+=1);if(s>32)return null;var c=e.slice(a,a+s);for(c.copy(t,32-c.length);u>0&&0===e[l];u-=1,l+=1);if(u>32)return null;var f=e.slice(l,l+u);return f.copy(r,32-f.length),{r:t,s:r}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ecdhUnsafe=e.ecdh=e.recover=e.verify=e.sign=e.signatureImportLax=e.signatureImport=e.signatureExport=e.signatureNormalize=e.publicKeyCombine=e.publicKeyTweakMul=e.publicKeyTweakAdd=e.publicKeyVerify=e.publicKeyConvert=e.publicKeyCreate=e.privateKeyTweakMul=e.privateKeyTweakAdd=e.privateKeyModInverse=e.privateKeyNegate=e.privateKeyImport=e.privateKeyExport=e.privateKeyVerify=void 0;var t=secp256k1$2,r=secp256k1v3Lib,n=der;e.privateKeyVerify=function(e){return 32===e.length&&t.privateKeyVerify(Uint8Array.from(e))},e.privateKeyExport=function(e,t){if(32!==e.length)throw new RangeError("private key length is invalid");var i=r.privateKeyExport(e,t);return n.privateKeyExport(e,i,t)},e.privateKeyImport=function(t){if(null!==(t=n.privateKeyImport(t))&&32===t.length&&e.privateKeyVerify(t))return t;throw new Error("couldn't import from DER format")},e.privateKeyNegate=function(e){return buffer$2.Buffer.from(t.privateKeyNegate(Uint8Array.from(e)))},e.privateKeyModInverse=function(e){if(32!==e.length)throw new Error("private key length is invalid");return buffer$2.Buffer.from(r.privateKeyModInverse(Uint8Array.from(e)))},e.privateKeyTweakAdd=function(e,r){return buffer$2.Buffer.from(t.privateKeyTweakAdd(Uint8Array.from(e),r))},e.privateKeyTweakMul=function(e,r){return buffer$2.Buffer.from(t.privateKeyTweakMul(Uint8Array.from(e),Uint8Array.from(r)))},e.publicKeyCreate=function(e,r){return buffer$2.Buffer.from(t.publicKeyCreate(Uint8Array.from(e),r))},e.publicKeyConvert=function(e,r){return buffer$2.Buffer.from(t.publicKeyConvert(Uint8Array.from(e),r))},e.publicKeyVerify=function(e){return(33===e.length||65===e.length)&&t.publicKeyVerify(Uint8Array.from(e))},e.publicKeyTweakAdd=function(e,r,n){return buffer$2.Buffer.from(t.publicKeyTweakAdd(Uint8Array.from(e),Uint8Array.from(r),n))},e.publicKeyTweakMul=function(e,r,n){return buffer$2.Buffer.from(t.publicKeyTweakMul(Uint8Array.from(e),Uint8Array.from(r),n))},e.publicKeyCombine=function(e,r){var n=[];return e.forEach((function(e){n.push(Uint8Array.from(e))})),buffer$2.Buffer.from(t.publicKeyCombine(n,r))},e.signatureNormalize=function(e){return buffer$2.Buffer.from(t.signatureNormalize(Uint8Array.from(e)))},e.signatureExport=function(e){return buffer$2.Buffer.from(t.signatureExport(Uint8Array.from(e)))},e.signatureImport=function(e){return buffer$2.Buffer.from(t.signatureImport(Uint8Array.from(e)))},e.signatureImportLax=function(e){if(0===e.length)throw new RangeError("signature length is invalid");var t=n.signatureImportLax(e);if(null===t)throw new Error("couldn't parse DER signature");return r.signatureImport(t)},e.sign=function(e,r,n){if(null===n)throw new TypeError("options should be an Object");var i=void 0;if(n){if(i={},null===n.data)throw new TypeError("options.data should be a Buffer");if(n.data){if(32!=n.data.length)throw new RangeError("options.data length is invalid");i.data=new Uint8Array(n.data)}if(null===n.noncefn)throw new TypeError("options.noncefn should be a Function");n.noncefn&&(i.noncefn=function(e,t,r,i,o){var s=null!=r?buffer$2.Buffer.from(r):null,a=null!=i?buffer$2.Buffer.from(i):null,u=buffer$2.Buffer.from("");return n.noncefn&&(u=n.noncefn(buffer$2.Buffer.from(e),buffer$2.Buffer.from(t),s,a,o)),new Uint8Array(u)})}var o=t.ecdsaSign(Uint8Array.from(e),Uint8Array.from(r),i);return{signature:buffer$2.Buffer.from(o.signature),recovery:o.recid}},e.verify=function(e,r,n){return t.ecdsaVerify(Uint8Array.from(r),Uint8Array.from(e),n)},e.recover=function(e,r,n,i){return buffer$2.Buffer.from(t.ecdsaRecover(Uint8Array.from(r),n,Uint8Array.from(e),i))},e.ecdh=function(e,r){return buffer$2.Buffer.from(t.ecdh(Uint8Array.from(e),Uint8Array.from(r),{}))},e.ecdhUnsafe=function(e,t,n){if(33!==e.length&&65!==e.length)throw new RangeError("public key length is invalid");if(32!==t.length)throw new RangeError("private key length is invalid");return buffer$2.Buffer.from(r.ecdhUnsafe(Uint8Array.from(e),Uint8Array.from(t),n))}}(secp256k1v3Adapter);var constants$1={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.KECCAK256_RLP=e.KECCAK256_RLP_S=e.KECCAK256_RLP_ARRAY=e.KECCAK256_RLP_ARRAY_S=e.KECCAK256_NULL=e.KECCAK256_NULL_S=e.TWO_POW256=e.MAX_INTEGER=void 0;var t=bn$4.exports;e.MAX_INTEGER=new t("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),e.TWO_POW256=new t("10000000000000000000000000000000000000000000000000000000000000000",16),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.KECCAK256_NULL=buffer$2.Buffer.from(e.KECCAK256_NULL_S,"hex"),e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.KECCAK256_RLP_ARRAY=buffer$2.Buffer.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.KECCAK256_RLP=buffer$2.Buffer.from(e.KECCAK256_RLP_S,"hex")}(constants$1);var account={},bytes={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.baToJSON=e.addHexPrefix=e.toUnsigned=e.fromSigned=e.bufferToHex=e.bufferToInt=e.toBuffer=e.stripZeros=e.unpad=e.setLengthRight=e.setLength=e.setLengthLeft=e.zeros=void 0;var t=lib$2,r=bn$4.exports;e.zeros=function(e){return buffer$2.Buffer.allocUnsafe(e).fill(0)},e.setLengthLeft=function(t,r,n){void 0===n&&(n=!1);var i=e.zeros(r);return t=e.toBuffer(t),n?t.length<r?(t.copy(i),i):t.slice(0,r):t.length<r?(t.copy(i,r-t.length),i):t.slice(-r)},e.setLength=e.setLengthLeft,e.setLengthRight=function(t,r){return e.setLength(t,r,!0)},e.unpad=function(e){for(var r=(e=t.stripHexPrefix(e))[0];e.length>0&&"0"===r.toString();)r=(e=e.slice(1))[0];return e},e.stripZeros=e.unpad,e.toBuffer=function(e){if(!buffer$2.Buffer.isBuffer(e))if(Array.isArray(e))e=buffer$2.Buffer.from(e);else if("string"==typeof e){if(!t.isHexString(e))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: "+e);e=buffer$2.Buffer.from(t.padToEven(t.stripHexPrefix(e)),"hex")}else if("number"==typeof e)e=t.intToBuffer(e);else if(null==e)e=buffer$2.Buffer.allocUnsafe(0);else if(r.isBN(e))e=e.toArrayLike(buffer$2.Buffer);else{if(!e.toArray)throw new Error("invalid type");e=buffer$2.Buffer.from(e.toArray())}return e},e.bufferToInt=function(t){return new r(e.toBuffer(t)).toNumber()},e.bufferToHex=function(t){return"0x"+(t=e.toBuffer(t)).toString("hex")},e.fromSigned=function(e){return new r(e).fromTwos(256)},e.toUnsigned=function(e){return buffer$2.Buffer.from(e.toTwos(256).toArray())},e.addHexPrefix=function(e){return"string"!=typeof e||t.isHexPrefixed(e)?e:"0x"+e},e.baToJSON=function(t){if(buffer$2.Buffer.isBuffer(t))return"0x"+t.toString("hex");if(t instanceof Array){for(var r=[],n=0;n<t.length;n++)r.push(e.baToJSON(t[n]));return r}}}(bytes);var hash={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.rlphash=e.ripemd160=e.sha256=e.keccak256=e.keccak=void 0;var t=keccak$3,r=t.keccak224,n=t.keccak384,i=t.keccak256,o=t.keccak512,s=browser$2,a=lib$2,u=dist_browser,l=bytes;e.keccak=function(e,t){switch(void 0===t&&(t=256),e="string"!=typeof e||a.isHexString(e)?l.toBuffer(e):buffer$2.Buffer.from(e,"utf8"),t||(t=256),t){case 224:return r(e);case 256:return i(e);case 384:return n(e);case 512:return o(e);default:throw new Error("Invald algorithm: keccak"+t)}},e.keccak256=function(t){return e.keccak(t)},e.sha256=function(e){return e=l.toBuffer(e),s("sha256").update(e).digest()},e.ripemd160=function(e,t){e=l.toBuffer(e);var r=s("rmd160").update(e).digest();return!0===t?l.setLength(r,32):r},e.rlphash=function(t){return e.keccak(u.encode(t))}}(hash),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.importPublic=e.privateToPublic=e.privateToAddress=e.publicToAddress=e.pubToAddress=e.isValidPublic=e.isValidPrivate=e.isPrecompiled=e.generateAddress2=e.generateAddress=e.isValidChecksumAddress=e.toChecksumAddress=e.isZeroAddress=e.isValidAddress=e.zeroAddress=void 0;var t=assert$2.exports,r=lib$2,n=secp256k1v3Adapter,i=bn$4.exports,o=bytes,s=hash;e.zeroAddress=function(){var e=o.zeros(20);return o.bufferToHex(e)},e.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/.test(e)},e.isZeroAddress=function(t){return e.zeroAddress()===o.addHexPrefix(t)},e.toChecksumAddress=function(e,t){e=r.stripHexPrefix(e).toLowerCase();for(var n=void 0!==t?t.toString()+"0x":"",i=s.keccak(n+e).toString("hex"),o="0x",a=0;a<e.length;a++)parseInt(i[a],16)>=8?o+=e[a].toUpperCase():o+=e[a];return o},e.isValidChecksumAddress=function(t,r){return e.isValidAddress(t)&&e.toChecksumAddress(t,r)===t},e.generateAddress=function(e,t){e=o.toBuffer(e);var r=new i(t);return r.isZero()?s.rlphash([e,null]).slice(-20):s.rlphash([e,buffer$2.Buffer.from(r.toArray())]).slice(-20)},e.generateAddress2=function(e,r,n){var i=o.toBuffer(e),a=o.toBuffer(r),u=o.toBuffer(n);return t(20===i.length),t(32===a.length),s.keccak256(buffer$2.Buffer.concat([buffer$2.Buffer.from("ff","hex"),i,a,s.keccak256(u)])).slice(-20)},e.isPrecompiled=function(e){var t=o.unpad(e);return 1===t.length&&t[0]>=1&&t[0]<=8},e.isValidPrivate=function(e){return n.privateKeyVerify(e)},e.isValidPublic=function(e,t){return void 0===t&&(t=!1),64===e.length?n.publicKeyVerify(buffer$2.Buffer.concat([buffer$2.Buffer.from([4]),e])):!!t&&n.publicKeyVerify(e)},e.pubToAddress=function(e,r){return void 0===r&&(r=!1),e=o.toBuffer(e),r&&64!==e.length&&(e=n.publicKeyConvert(e,!1).slice(1)),t(64===e.length),s.keccak(e).slice(-20)},e.publicToAddress=e.pubToAddress,e.privateToAddress=function(t){return e.publicToAddress(e.privateToPublic(t))},e.privateToPublic=function(e){return e=o.toBuffer(e),n.publicKeyCreate(e,!1).slice(1)},e.importPublic=function(e){return 64!==(e=o.toBuffer(e)).length&&(e=n.publicKeyConvert(e,!1).slice(1)),e}}(account);var signature={};Object.defineProperty(signature,"__esModule",{value:!0}),signature.hashPersonalMessage=signature.isValidSignature=signature.fromRpcSig=signature.toRpcSig=signature.ecrecover=signature.ecsign=void 0;var secp256k1=secp256k1v3Adapter,BN$5=bn$4.exports,bytes_1$1=bytes,hash_1=hash;function calculateSigRecovery(e,t){return t?e-(2*t+35):e-27}function isValidSigRecovery(e){return 0===e||1===e}signature.ecsign=function(e,t,r){var n=secp256k1.sign(e,t),i=n.recovery;return{r:n.signature.slice(0,32),s:n.signature.slice(32,64),v:r?i+(2*r+35):i+27}},signature.ecrecover=function(e,t,r,n,i){var o=buffer$2.Buffer.concat([bytes_1$1.setLength(r,32),bytes_1$1.setLength(n,32)],64),s=calculateSigRecovery(t,i);if(!isValidSigRecovery(s))throw new Error("Invalid signature v value");var a=secp256k1.recover(e,o,s);return secp256k1.publicKeyConvert(a,!1).slice(1)},signature.toRpcSig=function(e,t,r,n){if(!isValidSigRecovery(calculateSigRecovery(e,n)))throw new Error("Invalid signature v value");return bytes_1$1.bufferToHex(buffer$2.Buffer.concat([bytes_1$1.setLengthLeft(t,32),bytes_1$1.setLengthLeft(r,32),bytes_1$1.toBuffer(e)]))},signature.fromRpcSig=function(e){var t=bytes_1$1.toBuffer(e);if(65!==t.length)throw new Error("Invalid signature length");var r=t[64];return r<27&&(r+=27),{v:r,r:t.slice(0,32),s:t.slice(32,64)}},signature.isValidSignature=function(e,t,r,n,i){void 0===n&&(n=!0);var o=new BN$5("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),s=new BN$5("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(32!==t.length||32!==r.length)return!1;if(!isValidSigRecovery(calculateSigRecovery(e,i)))return!1;var a=new BN$5(t),u=new BN$5(r);return!(a.isZero()||a.gt(s)||u.isZero()||u.gt(s))&&(!n||1!==u.cmp(o))},signature.hashPersonalMessage=function(e){var t=buffer$2.Buffer.from("Ethereum Signed Message:\n"+e.length.toString(),"utf-8");return hash_1.keccak(buffer$2.Buffer.concat([t,e]))};var object={};Object.defineProperty(object,"__esModule",{value:!0}),object.defineProperties=void 0;var assert=assert$2.exports,ethjsUtil=lib$2,rlp=dist_browser,bytes_1=bytes;object.defineProperties=function(e,t,r){if(e.raw=[],e._fields=[],e.toJSON=function(t){if(void 0===t&&(t=!1),t){var r={};return e._fields.forEach((function(t){r[t]="0x"+e[t].toString("hex")})),r}return bytes_1.baToJSON(e.raw)},e.serialize=function(){return rlp.encode(e.raw)},t.forEach((function(t,r){function n(){return e.raw[r]}function i(n){"00"!==(n=bytes_1.toBuffer(n)).toString("hex")||t.allowZero||(n=buffer$2.Buffer.allocUnsafe(0)),t.allowLess&&t.length?(n=bytes_1.stripZeros(n),assert(t.length>=n.length,"The field "+t.name+" must not have more "+t.length+" bytes")):t.allowZero&&0===n.length||!t.length||assert(t.length===n.length,"The field "+t.name+" must have byte length of "+t.length),e.raw[r]=n}e._fields.push(t.name),Object.defineProperty(e,t.name,{enumerable:!0,configurable:!0,get:n,set:i}),t.default&&(e[t.name]=t.default),t.alias&&Object.defineProperty(e,t.alias,{enumerable:!1,configurable:!0,set:i,get:n})})),r)if("string"==typeof r&&(r=buffer$2.Buffer.from(ethjsUtil.stripHexPrefix(r),"hex")),buffer$2.Buffer.isBuffer(r)&&(r=rlp.decode(r)),Array.isArray(r)){if(r.length>e._fields.length)throw new Error("wrong number of fields in data");r.forEach((function(t,r){e[e._fields[r]]=bytes_1.toBuffer(t)}))}else{if("object"!=typeof r)throw new Error("invalid data");var n=Object.keys(r);t.forEach((function(t){-1!==n.indexOf(t.name)&&(e[t.name]=r[t.name]),-1!==n.indexOf(t.alias)&&(e[t.alias]=r[t.alias])}))}},function(e){var t=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal$1&&commonjsGlobal$1.__exportStar||function(e,r){for(var n in e)"default"===n||r.hasOwnProperty(n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.secp256k1=e.rlp=e.BN=void 0;var n=secp256k1v3Adapter;e.secp256k1=n;var i=lib$2,o=bn$4.exports;e.BN=o;var s=dist_browser;e.rlp=s,Object.assign(e,i),r(constants$1,e),r(account,e),r(hash,e),r(signature,e),r(bytes,e),r(object,e)}(dist$3);const utils$3=dist$3,BN$4=bn$4.exports;var ABI=function(){};function elementaryName$1(e){return e.startsWith("int[")?"int256"+e.slice(3):"int"===e?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):"uint"===e?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):"fixed"===e?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):"ufixed"===e?"ufixed128x128":e}function parseTypeN$1(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function parseTypeNxM$1(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function parseTypeArray$1(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?""===t[2]?"dynamic":parseInt(t[2],10):null}function parseNumber$1(e){var t=typeof e;if("string"===t)return utils$3.isHexPrefixed(e)?new BN$4(utils$3.stripHexPrefix(e),16):new BN$4(e,10);if("number"===t)return new BN$4(e);if(e.toArray)return e;throw new Error("Argument is not a number")}function parseSignature(e){var t=/^(\w+)\((.*)\)$/.exec(e);if(3!==t.length)throw new Error("Invalid method signature");var r=/^(.+)\):\((.+)$/.exec(t[2]);if(null!==r&&3===r.length)return{method:t[1],args:r[1].split(","),retargs:r[2].split(",")};var n=t[2].split(",");return 1===n.length&&""===n[0]&&(n=[]),{method:t[1],args:n}}function encodeSingle$1(e,t){var r,n,i,o;if("address"===e)return encodeSingle$1("uint160",parseNumber$1(t));if("bool"===e)return encodeSingle$1("uint8",t?1:0);if("string"===e)return encodeSingle$1("bytes",buffer$2.Buffer.from(t,"utf8"));if(isArray$4(e)){if(void 0===t.length)throw new Error("Not an array?");if("dynamic"!==(r=parseTypeArray$1(e))&&0!==r&&t.length>r)throw new Error("Elements exceed array size: "+r);for(o in i=[],e=e.slice(0,e.lastIndexOf("[")),"string"==typeof t&&(t=JSON.parse(t)),t)i.push(encodeSingle$1(e,t[o]));if("dynamic"===r){var s=encodeSingle$1("uint256",t.length);i.unshift(s)}return buffer$2.Buffer.concat(i)}if("bytes"===e)return t=buffer$2.Buffer.from(t),i=buffer$2.Buffer.concat([encodeSingle$1("uint256",t.length),t]),t.length%32!=0&&(i=buffer$2.Buffer.concat([i,utils$3.zeros(32-t.length%32)])),i;if(e.startsWith("bytes")){if((r=parseTypeN$1(e))<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return utils$3.setLengthRight(t,32)}if(e.startsWith("uint")){if((r=parseTypeN$1(e))%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if((n=parseNumber$1(t)).bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(buffer$2.Buffer,"be",32)}if(e.startsWith("int")){if((r=parseTypeN$1(e))%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if((n=parseNumber$1(t)).bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(buffer$2.Buffer,"be",32)}if(e.startsWith("ufixed")){if(r=parseTypeNxM$1(e),(n=parseNumber$1(t))<0)throw new Error("Supplied ufixed is negative");return encodeSingle$1("uint256",n.mul(new BN$4(2).pow(new BN$4(r[1]))))}if(e.startsWith("fixed"))return r=parseTypeNxM$1(e),encodeSingle$1("int256",parseNumber$1(t).mul(new BN$4(2).pow(new BN$4(r[1]))));throw new Error("Unsupported or invalid type: "+e)}function decodeSingle(e,t,r){var n,i,o,s;if("string"==typeof e&&(e=parseType(e)),"address"===e.name)return decodeSingle(e.rawType,t,r).toArrayLike(buffer$2.Buffer,"be",20).toString("hex");if("bool"===e.name)return decodeSingle(e.rawType,t,r).toString()===new BN$4(1).toString();if("string"===e.name){var a=decodeSingle(e.rawType,t,r);return buffer$2.Buffer.from(a,"utf8").toString()}if(e.isArray){for(o=[],n=e.size,"dynamic"===e.size&&(r=decodeSingle("uint256",t,r).toNumber(),n=decodeSingle("uint256",t,r).toNumber(),r+=32),s=0;s<n;s++){var u=decodeSingle(e.subArray,t,r);o.push(u),r+=e.subArray.memoryUsage}return o}if("bytes"===e.name)return r=decodeSingle("uint256",t,r).toNumber(),n=decodeSingle("uint256",t,r).toNumber(),t.slice(r+32,r+32+n);if(e.name.startsWith("bytes"))return t.slice(r,r+e.size);if(e.name.startsWith("uint")){if((i=new BN$4(t.slice(r,r+32),16,"be")).bitLength()>e.size)throw new Error("Decoded int exceeds width: "+e.size+" vs "+i.bitLength());return i}if(e.name.startsWith("int")){if((i=new BN$4(t.slice(r,r+32),16,"be").fromTwos(256)).bitLength()>e.size)throw new Error("Decoded uint exceeds width: "+e.size+" vs "+i.bitLength());return i}if(e.name.startsWith("ufixed")){if(n=new BN$4(2).pow(new BN$4(e.size[1])),!(i=decodeSingle("uint256",t,r)).mod(n).isZero())throw new Error("Decimals not supported yet");return i.div(n)}if(e.name.startsWith("fixed")){if(n=new BN$4(2).pow(new BN$4(e.size[1])),!(i=decodeSingle("int256",t,r)).mod(n).isZero())throw new Error("Decimals not supported yet");return i.div(n)}throw new Error("Unsupported or invalid type: "+e.name)}function parseType(e){var t,r,n;if(isArray$4(e)){t=parseTypeArray$1(e);var i=e.slice(0,e.lastIndexOf("["));return i=parseType(i),r={isArray:!0,name:e,size:t,memoryUsage:"dynamic"===t?32:i.memoryUsage*t,subArray:i}}switch(e){case"address":n="uint160";break;case"bool":n="uint8";break;case"string":n="bytes"}if(r={rawType:n,name:e,memoryUsage:32},e.startsWith("bytes")&&"bytes"!==e||e.startsWith("uint")||e.startsWith("int")?r.size=parseTypeN$1(e):(e.startsWith("ufixed")||e.startsWith("fixed"))&&(r.size=parseTypeNxM$1(e)),e.startsWith("bytes")&&"bytes"!==e&&(r.size<1||r.size>32))throw new Error("Invalid bytes<N> width: "+r.size);if((e.startsWith("uint")||e.startsWith("int"))&&(r.size%8||r.size<8||r.size>256))throw new Error("Invalid int/uint<N> width: "+r.size);return r}function isDynamic$1(e){return"string"===e||"bytes"===e||"dynamic"===parseTypeArray$1(e)}function isArray$4(e){return e.lastIndexOf("]")===e.length-1}function stringify(e,t){return e.startsWith("address")||e.startsWith("bytes")?"0x"+t.toString("hex"):t.toString()}function isNumeric$1(e){return e>="0"&&e<="9"}ABI.eventID=function(e,t){var r=e+"("+t.map(elementaryName$1).join(",")+")";return utils$3.keccak256(buffer$2.Buffer.from(r))},ABI.methodID=function(e,t){return ABI.eventID(e,t).slice(0,4)},ABI.rawEncode=function(e,t){var r=[],n=[],i=0;e.forEach((function(e){if(isArray$4(e)){var t=parseTypeArray$1(e);i+="dynamic"!==t?32*t:32}else i+=32}));for(var o=0;o<e.length;o++){var s=elementaryName$1(e[o]),a=encodeSingle$1(s,t[o]);isDynamic$1(s)?(r.push(encodeSingle$1("uint256",i)),n.push(a),i+=a.length):r.push(a)}return buffer$2.Buffer.concat(r.concat(n))},ABI.rawDecode=function(e,t){var r=[];t=buffer$2.Buffer.from(t);for(var n=0,i=0;i<e.length;i++){var o=parseType(elementaryName$1(e[i])),s=decodeSingle(o,t,n);n+=o.memoryUsage,r.push(s)}return r},ABI.simpleEncode=function(e){var t=Array.prototype.slice.call(arguments).slice(1),r=parseSignature(e);if(t.length!==r.args.length)throw new Error("Argument count mismatch");return buffer$2.Buffer.concat([ABI.methodID(r.method,r.args),ABI.rawEncode(r.args,t)])},ABI.simpleDecode=function(e,t){var r=parseSignature(e);if(!r.retargs)throw new Error("No return values in method");return ABI.rawDecode(r.retargs,t)},ABI.stringify=function(e,t){var r=[];for(var n in e){var i=e[n],o=t[n];o=/^[^\[]+\[.*\]$/.test(i)?o.map((function(e){return stringify(i,e)})).join(", "):stringify(i,o),r.push(o)}return r},ABI.solidityHexValue=function(e,t,r){var n,i;if(isArray$4(e)){var o=e.replace(/\[.*?\]/,"");if(!isArray$4(o)){var s=parseTypeArray$1(e);if("dynamic"!==s&&0!==s&&t.length>s)throw new Error("Elements exceed array size: "+s)}var a=t.map((function(e){return ABI.solidityHexValue(o,e,256)}));return buffer$2.Buffer.concat(a)}if("bytes"===e)return t;if("string"===e)return buffer$2.Buffer.from(t,"utf8");if("bool"===e){r=r||8;var u=Array(r/4).join("0");return buffer$2.Buffer.from(t?u+"1":u+"0","hex")}if("address"===e){var l=20;return r&&(l=r/8),utils$3.setLengthLeft(t,l)}if(e.startsWith("bytes")){if((n=parseTypeN$1(e))<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return utils$3.setLengthRight(t,n)}if(e.startsWith("uint")){if((n=parseTypeN$1(e))%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if((i=parseNumber$1(t)).bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+i.bitLength());return r=r||n,i.toArrayLike(buffer$2.Buffer,"be",r/8)}if(e.startsWith("int")){if((n=parseTypeN$1(e))%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if((i=parseNumber$1(t)).bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+i.bitLength());return r=r||n,i.toTwos(n).toArrayLike(buffer$2.Buffer,"be",r/8)}throw new Error("Unsupported or invalid type: "+e)},ABI.solidityPack=function(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");for(var r=[],n=0;n<e.length;n++){var i=elementaryName$1(e[n]),o=t[n];r.push(ABI.solidityHexValue(i,o,null))}return buffer$2.Buffer.concat(r)},ABI.soliditySHA3=function(e,t){return utils$3.keccak256(ABI.solidityPack(e,t))},ABI.soliditySHA256=function(e,t){return utils$3.sha256(ABI.solidityPack(e,t))},ABI.solidityRIPEMD160=function(e,t){return utils$3.ripemd160(ABI.solidityPack(e,t),!0)},ABI.fromSerpent=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if("s"===n)t.push("bytes");else if("b"===n){for(var i="bytes",o=r+1;o<e.length&&isNumeric$1(e[o]);)i+=e[o]-"0",o++;r=o-1,t.push(i)}else if("i"===n)t.push("int256");else{if("a"!==n)throw new Error("Unsupported or invalid type: "+n);t.push("int256[]")}}return t},ABI.toSerpent=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if("bytes"===n)t.push("s");else if(n.startsWith("bytes"))t.push("b"+parseTypeN$1(n));else if("int256"===n)t.push("i");else{if("int256[]"!==n)throw new Error("Unsupported or invalid type: "+n);t.push("a")}}return t.join("")};var lib=ABI,ethereumjsAbi=lib;const ethUtil$3=dist$6,ethAbi=ethereumjsAbi;var ethSigUtil={concatSig:function(e,t,r){const n=ethUtil$3.fromSigned(t),i=ethUtil$3.fromSigned(r),o=ethUtil$3.bufferToInt(e),s=padWithZeroes(ethUtil$3.toUnsigned(n).toString("hex"),64),a=padWithZeroes(ethUtil$3.toUnsigned(i).toString("hex"),64),u=ethUtil$3.stripHexPrefix(ethUtil$3.intToHex(o));return ethUtil$3.addHexPrefix(s.concat(a,u)).toString("hex")},normalize:function(e){if(e){if("number"==typeof e){const t=ethUtil$3.toBuffer(e);e=ethUtil$3.bufferToHex(t)}if("string"!=typeof e){var t="eth-sig-util.normalize() requires hex string or integer input.";throw new Error(t+=" received "+typeof e+": "+e)}return ethUtil$3.addHexPrefix(e.toLowerCase())}},personalSign:function(e,t){var r=ethUtil$3.toBuffer(t.data),n=ethUtil$3.hashPersonalMessage(r),i=ethUtil$3.ecsign(n,e);return ethUtil$3.bufferToHex(this.concatSig(i.v,i.r,i.s))},recoverPersonalSignature:function(e){const t=getPublicKeyFor(e),r=ethUtil$3.publicToAddress(t);return ethUtil$3.bufferToHex(r)},extractPublicKey:function(e){return"0x"+getPublicKeyFor(e).toString("hex")},typedSignatureHash:function(e){const t=typedSignatureHash(e);return ethUtil$3.bufferToHex(t)},signTypedData:function(e,t){const r=typedSignatureHash(t.data),n=ethUtil$3.ecsign(r,e);return ethUtil$3.bufferToHex(this.concatSig(n.v,n.r,n.s))},recoverTypedSignature:function(e){const t=recoverPublicKey(typedSignatureHash(e.data),e.sig),r=ethUtil$3.publicToAddress(t);return ethUtil$3.bufferToHex(r)}};function typedSignatureHash(e){const t=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!e.length)throw t;const r=e.map((function(e){return"bytes"===e.type?ethUtil$3.toBuffer(e.value):e.value})),n=e.map((function(e){return e.type})),i=e.map((function(e){if(!e.name)throw t;return e.type+" "+e.name}));return ethAbi.soliditySHA3(["bytes32","bytes32"],[ethAbi.soliditySHA3(new Array(e.length).fill("string"),i),ethAbi.soliditySHA3(n,r)])}function recoverPublicKey(e,t){const r=ethUtil$3.toBuffer(t),n=ethUtil$3.fromRpcSig(r);return ethUtil$3.ecrecover(e,n.v,n.r,n.s)}function getPublicKeyFor(e){const t=ethUtil$3.toBuffer(e.data);return recoverPublicKey(ethUtil$3.hashPersonalMessage(t),e.sig)}function padWithZeroes(e,t){for(var r=""+e;r.length<t;)r="0"+r;return r}var semaphore={exports:{}};!function(e,t){!function(t){var r=function(e){setTimeout(e,0)};"undefined"!=typeof process&&process&&"function"==typeof process.nextTick&&(r=process.nextTick),e.exports=function(e){var t={capacity:e||1,current:0,queue:[],firstHere:!1,take:function(){if(!1===t.firstHere){t.current++,t.firstHere=!0;var e=1}else e=0;var r={n:1};"function"==typeof arguments[0]?r.task=arguments[0]:r.n=arguments[0],arguments.length>=2&&("function"==typeof arguments[1]?r.task=arguments[1]:r.n=arguments[1]);var n=r.task;if(r.task=function(){n(t.leave)},t.current+r.n-e>t.capacity)return 1===e&&(t.current--,t.firstHere=!1),t.queue.push(r);t.current+=r.n-e,r.task(t.leave),1===e&&(t.firstHere=!1)},leave:function(e){if(e=e||1,t.current-=e,t.queue.length){var n=t.queue[0];n.n+t.current>t.capacity||(t.queue.shift(),t.current+=n.n,r(n.task))}else if(t.current<0)throw new Error("leave called too many times.")},available:function(e){return e=e||1,t.current+e<=t.capacity}};return t}}()}(semaphore);const createPayload=createPayload_1;var estimateGas_1=estimateGas$1;function estimateGas$1(e,t,r){e.sendAsync(createPayload({method:"eth_estimateGas",params:[t]}),(function(e,t){if(e)return"no contract code at given address"===e.message?r(null,"0xcf08"):r(e);r(null,t.result)}))}const waterfall=waterfall$1.exports,parallel=parallel$2.exports,inherits$1=util$9.inherits,ethUtil$2=dist$6,sigUtil=ethSigUtil,extend=immutable,Semaphore=semaphore.exports,Subprovider$1=subprovider,estimateGas=estimateGas_1,hexRegex=/^[0-9A-Fa-f]+$/g;var hookedWallet=HookedWalletSubprovider$1;function HookedWalletSubprovider$1(e){const t=this;t.nonceLock=Semaphore(1),e.getAccounts&&(t.getAccounts=e.getAccounts),e.processTransaction&&(t.processTransaction=e.processTransaction),e.processMessage&&(t.processMessage=e.processMessage),e.processPersonalMessage&&(t.processPersonalMessage=e.processPersonalMessage),e.processTypedMessage&&(t.processTypedMessage=e.processTypedMessage),t.approveTransaction=e.approveTransaction||t.autoApprove,t.approveMessage=e.approveMessage||t.autoApprove,t.approvePersonalMessage=e.approvePersonalMessage||t.autoApprove,t.approveDecryptMessage=e.approveDecryptMessage||t.autoApprove,t.approveEncryptionPublicKey=e.approveEncryptionPublicKey||t.autoApprove,t.approveTypedMessage=e.approveTypedMessage||t.autoApprove,e.signTransaction&&(t.signTransaction=e.signTransaction||mustProvideInConstructor("signTransaction")),e.signMessage&&(t.signMessage=e.signMessage||mustProvideInConstructor("signMessage")),e.signPersonalMessage&&(t.signPersonalMessage=e.signPersonalMessage||mustProvideInConstructor("signPersonalMessage")),e.decryptMessage&&(t.decryptMessage=e.decryptMessage||mustProvideInConstructor("decryptMessage")),e.encryptionPublicKey&&(t.encryptionPublicKey=e.encryptionPublicKey||mustProvideInConstructor("encryptionPublicKey")),e.signTypedMessage&&(t.signTypedMessage=e.signTypedMessage||mustProvideInConstructor("signTypedMessage")),e.recoverPersonalSignature&&(t.recoverPersonalSignature=e.recoverPersonalSignature),e.publishTransaction&&(t.publishTransaction=e.publishTransaction),t.estimateGas=e.estimateGas||t.estimateGas,t.getGasPrice=e.getGasPrice||t.getGasPrice}function cloneTxParams(e){return{from:e.from,to:e.to,value:e.value,data:e.data,gas:e.gas,gasPrice:e.gasPrice,nonce:e.nonce}}function toLowerCase(e){return e.toLowerCase()}function resemblesAddress(e){const t=ethUtil$2.addHexPrefix(e);return ethUtil$2.isValidAddress(t)}function resemblesData(e){const t=ethUtil$2.addHexPrefix(e);return!ethUtil$2.isValidAddress(t)&&isValidHex(e)}function isValidHex(e){if(!("string"==typeof e))return!1;if(!("0x"===e.slice(0,2)))return!1;return e.slice(2).match(hexRegex)}function mustProvideInConstructor(e){return function(t,r){r(new Error('ProviderEngine - HookedWalletSubprovider - Must provide "'+e+'" fn in constructor options'))}}inherits$1(HookedWalletSubprovider$1,Subprovider$1),HookedWalletSubprovider$1.prototype.handleRequest=function(e,t,r){const n=this;let i,o,s,a,u;switch(n._parityRequests={},n._parityRequestCount=0,e.method){case"eth_coinbase":return void n.getAccounts((function(e,t){if(e)return r(e);let n=t[0]||null;r(null,n)}));case"eth_accounts":return void n.getAccounts((function(e,t){if(e)return r(e);r(null,t)}));case"eth_sendTransaction":return i=e.params[0],void waterfall([e=>n.validateTransaction(i,e),e=>n.processTransaction(i,e)],r);case"eth_signTransaction":return i=e.params[0],void waterfall([e=>n.validateTransaction(i,e),e=>n.processSignTransaction(i,e)],r);case"eth_sign":return u=e.params[0],a=e.params[1],s=e.params[2]||{},o=extend(s,{from:u,data:a}),void waterfall([e=>n.validateMessage(o,e),e=>n.processMessage(o,e)],r);case"personal_sign":return function(){const t=e.params[0];if(resemblesData(e.params[1])&&resemblesAddress(t)){let t="The eth_personalSign method requires params ordered ";t+="[message, address]. This was previously handled incorrectly, ",t+="and has been corrected automatically. ",t+="Please switch this param order for smooth behavior in the future.",console.warn(t),u=e.params[0],a=e.params[1]}else a=e.params[0],u=e.params[1];s=e.params[2]||{},o=extend(s,{from:u,data:a}),waterfall([e=>n.validatePersonalMessage(o,e),e=>n.processPersonalMessage(o,e)],r)}();case"eth_decryptMessage":return function(){const t=e.params[0];if(resemblesData(e.params[1])&&resemblesAddress(t)){let t="The eth_decryptMessage method requires params ordered ";t+="[message, address]. This was previously handled incorrectly, ",t+="and has been corrected automatically. ",t+="Please switch this param order for smooth behavior in the future.",console.warn(t),u=e.params[0],a=e.params[1]}else a=e.params[0],u=e.params[1];s=e.params[2]||{},o=extend(s,{from:u,data:a}),waterfall([e=>n.validateDecryptMessage(o,e),e=>n.processDecryptMessage(o,e)],r)}();case"encryption_public_key":return function(){const t=e.params[0];waterfall([e=>n.validateEncryptionPublicKey(t,e),e=>n.processEncryptionPublicKey(t,e)],r)}();case"personal_ecRecover":return function(){a=e.params[0];let t=e.params[1];s=e.params[2]||{},o=extend(s,{sig:t,data:a}),n.recoverPersonalSignature(o,r)}();case"eth_signTypedData":case"eth_signTypedData_v3":case"eth_signTypedData_v4":return function(){const t=e.params[0],i=e.params[1];resemblesAddress(t)?(u=t,a=i):(a=t,u=i),s=e.params[2]||{},o=extend(s,{from:u,data:a}),waterfall([e=>n.validateTypedMessage(o,e),e=>n.processTypedMessage(o,e)],r)}();case"parity_postTransaction":return i=e.params[0],void n.parityPostTransaction(i,r);case"parity_postSign":return u=e.params[0],a=e.params[1],void n.parityPostSign(u,a,r);case"parity_checkRequest":return function(){const t=e.params[0];n.parityCheckRequest(t,r)}();case"parity_defaultAccount":return void n.getAccounts((function(e,t){if(e)return r(e);const n=t[0]||null;r(null,n)}));default:return void t()}},HookedWalletSubprovider$1.prototype.getAccounts=function(e){e(null,[])},HookedWalletSubprovider$1.prototype.processTransaction=function(e,t){const r=this;waterfall([t=>r.approveTransaction(e,t),(e,t)=>r.checkApproval("transaction",e,t),t=>r.finalizeAndSubmitTx(e,t)],t)},HookedWalletSubprovider$1.prototype.processSignTransaction=function(e,t){const r=this;waterfall([t=>r.approveTransaction(e,t),(e,t)=>r.checkApproval("transaction",e,t),t=>r.finalizeTx(e,t)],t)},HookedWalletSubprovider$1.prototype.processMessage=function(e,t){const r=this;waterfall([t=>r.approveMessage(e,t),(e,t)=>r.checkApproval("message",e,t),t=>r.signMessage(e,t)],t)},HookedWalletSubprovider$1.prototype.processPersonalMessage=function(e,t){const r=this;waterfall([t=>r.approvePersonalMessage(e,t),(e,t)=>r.checkApproval("message",e,t),t=>r.signPersonalMessage(e,t)],t)},HookedWalletSubprovider$1.prototype.processDecryptMessage=function(e,t){const r=this;waterfall([t=>r.approveDecryptMessage(e,t),(e,t)=>r.checkApproval("decryptMessage",e,t),t=>r.decryptMessage(e,t)],t)},HookedWalletSubprovider$1.prototype.processEncryptionPublicKey=function(e,t){const r=this;waterfall([t=>r.approveEncryptionPublicKey(e,t),(e,t)=>r.checkApproval("encryptionPublicKey",e,t),t=>r.encryptionPublicKey(e,t)],t)},HookedWalletSubprovider$1.prototype.processTypedMessage=function(e,t){const r=this;waterfall([t=>r.approveTypedMessage(e,t),(e,t)=>r.checkApproval("message",e,t),t=>r.signTypedMessage(e,t)],t)},HookedWalletSubprovider$1.prototype.autoApprove=function(e,t){t(null,!0)},HookedWalletSubprovider$1.prototype.checkApproval=function(e,t,r){r(t?null:new Error("User denied "+e+" signature."))},HookedWalletSubprovider$1.prototype.parityPostTransaction=function(e,t){const r=this,n=`0x${r._parityRequestCount.toString(16)}`;r._parityRequestCount++,r.emitPayload({method:"eth_sendTransaction",params:[e]},(function(e,t){if(e)return void(r._parityRequests[n]={error:e});const i=t.result;r._parityRequests[n]=i})),t(null,n)},HookedWalletSubprovider$1.prototype.parityPostSign=function(e,t,r){const n=this,i=`0x${n._parityRequestCount.toString(16)}`;n._parityRequestCount++,n.emitPayload({method:"eth_sign",params:[e,t]},(function(e,t){if(e)return void(n._parityRequests[i]={error:e});const r=t.result;n._parityRequests[i]=r})),r(null,i)},HookedWalletSubprovider$1.prototype.parityCheckRequest=function(e,t){const r=this._parityRequests[e]||null;return r?r.error?t(r.error):void t(null,r):t(null,null)},HookedWalletSubprovider$1.prototype.recoverPersonalSignature=function(e,t){let r;try{r=sigUtil.recoverPersonalSignature(e)}catch(n){return t(n)}t(null,r)},HookedWalletSubprovider$1.prototype.validateTransaction=function(e,t){if(void 0===e.from)return t(new Error("Undefined address - from address required to sign transaction."));this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to sign transaction for this address: "${e.from}"`))}))},HookedWalletSubprovider$1.prototype.validateMessage=function(e,t){if(void 0===e.from)return t(new Error("Undefined address - from address required to sign message."));this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`))}))},HookedWalletSubprovider$1.prototype.validatePersonalMessage=function(e,t){return void 0===e.from?t(new Error("Undefined address - from address required to sign personal message.")):void 0===e.data?t(new Error("Undefined message - message required to sign personal message.")):isValidHex(e.data)?void this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`))})):t(new Error("HookedWalletSubprovider - validateMessage - message was not encoded as hex."))},HookedWalletSubprovider$1.prototype.validateDecryptMessage=function(e,t){return void 0===e.from?t(new Error("Undefined address - from address required to decrypt message.")):void 0===e.data?t(new Error("Undefined message - message required to decrypt message.")):isValidHex(e.data)?void this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to decrypt message for this address: "${e.from}"`))})):t(new Error("HookedWalletSubprovider - validateDecryptMessage - message was not encoded as hex."))},HookedWalletSubprovider$1.prototype.validateEncryptionPublicKey=function(e,t){this.validateSender(e,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to obtain encryption public key for this address: "${e}"`))}))},HookedWalletSubprovider$1.prototype.validateTypedMessage=function(e,t){return void 0===e.from?t(new Error("Undefined address - from address required to sign typed data.")):void 0===e.data?t(new Error("Undefined data - message required to sign typed data.")):void this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`))}))},HookedWalletSubprovider$1.prototype.validateSender=function(e,t){if(!e)return t(null,!1);this.getAccounts((function(r,n){if(r)return t(r);const i=-1!==n.map(toLowerCase).indexOf(e.toLowerCase());t(null,i)}))},HookedWalletSubprovider$1.prototype.finalizeAndSubmitTx=function(e,t){const r=this;r.nonceLock.take((function(){waterfall([r.fillInTxExtras.bind(r,e),r.signTransaction.bind(r),r.publishTransaction.bind(r)],(function(e,n){if(r.nonceLock.leave(),e)return t(e);t(null,n)}))}))},HookedWalletSubprovider$1.prototype.finalizeTx=function(e,t){const r=this;r.nonceLock.take((function(){waterfall([r.fillInTxExtras.bind(r,e),r.signTransaction.bind(r)],(function(n,i){if(r.nonceLock.leave(),n)return t(n);t(null,{raw:i,tx:e})}))}))},HookedWalletSubprovider$1.prototype.publishTransaction=function(e,t){this.emitPayload({method:"eth_sendRawTransaction",params:[e]},(function(e,r){if(e)return t(e);t(null,r.result)}))},HookedWalletSubprovider$1.prototype.estimateGas=function(e,t){estimateGas(this.engine,e,t)},HookedWalletSubprovider$1.prototype.getGasPrice=function(e){this.emitPayload({method:"eth_gasPrice",params:[]},(function(t,r){if(t)return e(t);e(null,r.result)}))},HookedWalletSubprovider$1.prototype.fillInTxExtras=function(e,t){const r=this,n=e.from,i={};void 0===e.gasPrice&&(i.gasPrice=r.getGasPrice.bind(r)),void 0===e.nonce&&(i.nonce=r.emitPayload.bind(r,{method:"eth_getTransactionCount",params:[n,"pending"]})),void 0===e.gas&&(i.gas=r.estimateGas.bind(r,cloneTxParams(e))),parallel(i,(function(r,n){if(r)return t(r);const i={};n.gasPrice&&(i.gasPrice=n.gasPrice),n.nonce&&(i.nonce=n.nonce.result),n.gas&&(i.gas=n.gas),t(null,extend(e,i))}))};const genesisGasLimit={v:5e3,d:"Gas limit of the Genesis block."},genesisDifficulty={v:17179869184,d:"Difficulty of the Genesis block."},genesisNonce={v:"0x0000000000000042",d:"the geneis nonce"},genesisExtraData={v:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa",d:"extra data "},genesisHash={v:"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3",d:"genesis hash"},genesisStateRoot={v:"0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544",d:"the genesis state root"},minGasLimit={v:5e3,d:"Minimum the gas limit may ever be."},gasLimitBoundDivisor={v:1024,d:"The bound divisor of the gas limit, used in update calculations."},minimumDifficulty={v:131072,d:"The minimum that the difficulty may ever be."},difficultyBoundDivisor={v:2048,d:"The bound divisor of the difficulty, used in the update calculations."},durationLimit={v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not."},maximumExtraDataSize={v:32,d:"Maximum size extra data may be after Genesis."},epochDuration={v:3e4,d:"Duration between proof-of-work epochs."},stackLimit={v:1024,d:"Maximum size of VM stack allowed."},callCreateDepth={v:1024,d:"Maximum depth of call/create stack."},tierStepGas={v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them."},expGas={v:10,d:"Once per EXP instuction."},expByteGas={v:10,d:"Times ceil(log256(exponent)) for the EXP instruction."},sha3Gas={v:30,d:"Once per SHA3 operation."},sha3WordGas={v:6,d:"Once per word of the SHA3 operation's data."},sloadGas={v:50,d:"Once per SLOAD operation."},sstoreSetGas={v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero."},sstoreResetGas={v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero."},sstoreRefundGas={v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero."},jumpdestGas={v:1,d:"Refunded gas, once per SSTORE operation if the zeroness changes to zero."},logGas={v:375,d:"Per LOG* operation."},logDataGas={v:8,d:"Per byte in a LOG* operation's data."},logTopicGas={v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas."},createGas={v:32e3,d:"Once per CREATE operation & contract-creation transaction."},callGas={v:40,d:"Once per CALL operation & message call transaction."},callStipend={v:2300,d:"Free gas given at beginning of call."},callValueTransferGas={v:9e3,d:"Paid for CALL when the value transfor is non-zero."},callNewAccountGas={v:25e3,d:"Paid for CALL when the destination address didn't exist prior."},suicideRefundGas={v:24e3,d:"Refunded following a suicide operation."},memoryGas={v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL."},quadCoeffDiv={v:512,d:"Divisor for the quadratic particle of the memory cost equation."},createDataGas={v:200,d:""},txGas={v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions."},txCreation={v:32e3,d:"the cost of creating a contract via tx"},txDataZeroGas={v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions."},txDataNonZeroGas={v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions."},copyGas={v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added."},ecrecoverGas={v:3e3,d:""},sha256Gas={v:60,d:""},sha256WordGas={v:12,d:""},ripemd160Gas={v:600,d:""},ripemd160WordGas={v:120,d:""},identityGas={v:15,d:""},identityWordGas={v:3,d:""},minerReward={v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},ommerReward={v:"625000000000000000",d:"The amount of wei a miner of an uncle block gets for being inculded in the blockchain"},niblingReward={v:"156250000000000000",d:"the amount a miner gets for inculding a uncle"},homeSteadForkNumber={v:115e4,d:"the block that the Homestead fork started at"},homesteadRepriceForkNumber={v:2463e3,d:"the block that the Homestead Reprice (EIP150) fork started at"},timebombPeriod={v:1e5,d:"Exponential difficulty timebomb period"},freeBlockPeriod={v:2};var require$$1$1={genesisGasLimit:genesisGasLimit,genesisDifficulty:genesisDifficulty,genesisNonce:genesisNonce,genesisExtraData:genesisExtraData,genesisHash:genesisHash,genesisStateRoot:genesisStateRoot,minGasLimit:minGasLimit,gasLimitBoundDivisor:gasLimitBoundDivisor,minimumDifficulty:minimumDifficulty,difficultyBoundDivisor:difficultyBoundDivisor,durationLimit:durationLimit,maximumExtraDataSize:maximumExtraDataSize,epochDuration:epochDuration,stackLimit:stackLimit,callCreateDepth:callCreateDepth,tierStepGas:tierStepGas,expGas:expGas,expByteGas:expByteGas,sha3Gas:sha3Gas,sha3WordGas:sha3WordGas,sloadGas:sloadGas,sstoreSetGas:sstoreSetGas,sstoreResetGas:sstoreResetGas,sstoreRefundGas:sstoreRefundGas,jumpdestGas:jumpdestGas,logGas:logGas,logDataGas:logDataGas,logTopicGas:logTopicGas,createGas:createGas,callGas:callGas,callStipend:callStipend,callValueTransferGas:callValueTransferGas,callNewAccountGas:callNewAccountGas,suicideRefundGas:suicideRefundGas,memoryGas:memoryGas,quadCoeffDiv:quadCoeffDiv,createDataGas:createDataGas,txGas:txGas,txCreation:txCreation,txDataZeroGas:txDataZeroGas,txDataNonZeroGas:txDataNonZeroGas,copyGas:copyGas,ecrecoverGas:ecrecoverGas,sha256Gas:sha256Gas,sha256WordGas:sha256WordGas,ripemd160Gas:ripemd160Gas,ripemd160WordGas:ripemd160WordGas,identityGas:identityGas,identityWordGas:identityWordGas,minerReward:minerReward,ommerReward:ommerReward,niblingReward:niblingReward,homeSteadForkNumber:homeSteadForkNumber,homesteadRepriceForkNumber:homesteadRepriceForkNumber,timebombPeriod:timebombPeriod,freeBlockPeriod:freeBlockPeriod};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ethUtil$1=dist$6,fees=require$$1$1,BN$3=ethUtil$1.BN,N_DIV_2=new BN$3("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),Transaction$1=function(){function t(e){_classCallCheck(this,t),e=e||{};var r=[{name:"nonce",length:32,allowLess:!0,default:new buffer$2.Buffer([])},{name:"gasPrice",length:32,allowLess:!0,default:new buffer$2.Buffer([])},{name:"gasLimit",alias:"gas",length:32,allowLess:!0,default:new buffer$2.Buffer([])},{name:"to",allowZero:!0,length:20,default:new buffer$2.Buffer([])},{name:"value",length:32,allowLess:!0,default:new buffer$2.Buffer([])},{name:"data",alias:"input",allowZero:!0,default:new buffer$2.Buffer([])},{name:"v",allowZero:!0,default:new buffer$2.Buffer([28])},{name:"r",length:32,allowZero:!0,allowLess:!0,default:new buffer$2.Buffer([])},{name:"s",length:32,allowZero:!0,allowLess:!0,default:new buffer$2.Buffer([])}];ethUtil$1.defineProperties(this,r,e),Object.defineProperty(this,"from",{enumerable:!0,configurable:!0,get:this.getSenderAddress.bind(this)});var n=ethUtil$1.bufferToInt(this.v),i=Math.floor((n-35)/2);i<0&&(i=0),this._chainId=i||e.chainId||0,this._homestead=!0}return t.prototype.toCreationAddress=function(){return""===this.to.toString("hex")},t.prototype.hash=function(e){void 0===e&&(e=!0);var t=void 0;if(e)t=this.raw;else if(this._chainId>0){var r=this.raw.slice();this.v=this._chainId,this.r=0,this.s=0,t=this.raw,this.raw=r}else t=this.raw.slice(0,6);return ethUtil$1.rlphash(t)},t.prototype.getChainId=function(){return this._chainId},t.prototype.getSenderAddress=function(){if(this._from)return this._from;var e=this.getSenderPublicKey();return this._from=ethUtil$1.publicToAddress(e),this._from},t.prototype.getSenderPublicKey=function(){if(!(this._senderPubKey&&this._senderPubKey.length||this.verifySignature()))throw new Error("Invalid Signature");return this._senderPubKey},t.prototype.verifySignature=function(){var t=this.hash(!1);if(this._homestead&&1===new BN$3(this.s).cmp(N_DIV_2))return!1;try{var r=ethUtil$1.bufferToInt(this.v);this._chainId>0&&(r-=2*this._chainId+8),this._senderPubKey=ethUtil$1.ecrecover(t,r,this.r,this.s)}catch(e){return!1}return!!this._senderPubKey},t.prototype.sign=function(e){var t=this.hash(!1),r=ethUtil$1.ecsign(t,e);this._chainId>0&&(r.v+=2*this._chainId+8),Object.assign(this,r)},t.prototype.getDataFee=function(){for(var e=this.raw[5],t=new BN$3(0),r=0;r<e.length;r++)0===e[r]?t.iaddn(fees.txDataZeroGas.v):t.iaddn(fees.txDataNonZeroGas.v);return t},t.prototype.getBaseFee=function(){var e=this.getDataFee().iaddn(fees.txGas.v);return this._homestead&&this.toCreationAddress()&&e.iaddn(fees.txCreation.v),e},t.prototype.getUpfrontCost=function(){return new BN$3(this.gasLimit).imul(new BN$3(this.gasPrice)).iadd(new BN$3(this.value))},t.prototype.validate=function(e){var t=[];return this.verifySignature()||t.push("Invalid Signature"),this.getBaseFee().cmp(new BN$3(this.gasLimit))>0&&t.push(["gas limit is too low. Need at least "+this.getBaseFee()]),void 0===e||!1===e?0===t.length:t.join(" ")},t}(),es5=Transaction$1;const inherits=util$9.inherits,Transaction=es5,ethUtil=dist$6,Subprovider=subprovider,blockTagForPayload=rpcCacheUtils.blockTagForPayload;var nonceTracker=NonceTrackerSubprovider;function NonceTrackerSubprovider(e){this.nonceCache={}}inherits(NonceTrackerSubprovider,Subprovider),NonceTrackerSubprovider.prototype.handleRequest=function(e,t,r){const n=this;switch(e.method){case"eth_getTransactionCount":var i=blockTagForPayload(e),o=e.params[0].toLowerCase(),s=n.nonceCache[o];return void("pending"===i?s?r(null,s):t((function(e,t,r){if(e)return r();void 0===n.nonceCache[o]&&(n.nonceCache[o]=t),r()})):t());case"eth_sendRawTransaction":return void t((function(t,r,i){if(t)return i();var o=e.params[0];ethUtil.stripHexPrefix(o),buffer$2.Buffer.from(ethUtil.stripHexPrefix(o),"hex");var s=new Transaction(buffer$2.Buffer.from(ethUtil.stripHexPrefix(o),"hex")),a="0x"+s.getSenderAddress().toString("hex").toLowerCase(),u=ethUtil.bufferToInt(s.nonce),l=(++u).toString(16);l.length%2&&(l="0"+l),l="0x"+l,n.nonceCache[a]=l,i()}));case"evm_revert":return n.nonceCache={},void t();default:return void t()}};const SafeEventEmitter=safeEventEmitter.default,createScaffoldMiddleware=scaffold,{createAsyncMiddleware:createAsyncMiddleware}=dist$5,createFilterMiddleware=ethJsonRpcFilters,{unsafeRandomBytes:unsafeRandomBytes,incrementHexInt:incrementHexInt}=hexUtils,getBlocksForRange=getBlocksForRange_1;var subscriptionManager=createSubscriptionMiddleware;function createSubscriptionMiddleware({blockTracker:e,provider:t}){const r={},n=createFilterMiddleware({blockTracker:e,provider:t});let i=!1;const o=new SafeEventEmitter,s=createScaffoldMiddleware({eth_subscribe:createAsyncMiddleware((async function(o,s){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const u=o.params[0],l=unsafeRandomBytes(16);let c;switch(u){case"newHeads":c=function({subId:r}){const n={type:u,destroy:async()=>{e.removeListener("sync",n.update)},update:async({oldBlock:e,newBlock:n})=>{const i=n,o=incrementHexInt(e);(await getBlocksForRange({provider:t,fromBlock:o,toBlock:i})).map(normalizeBlock).forEach((e=>{a(r,e)}))}};return e.on("sync",n.update),n}({subId:l});break;case"logs":const r=o.params[1],i=await n.newLogFilter(r);c=function({subId:e,filter:t}){t.on("update",(t=>a(e,t)));return{type:u,destroy:async()=>await n.uninstallFilter(t.idHex)}}({subId:l,filter:i});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${u}"`)}return r[l]=c,void(s.result=l)})),eth_unsubscribe:createAsyncMiddleware((async function(e,t){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const n=e.params[0],o=r[n];if(!o)return void(t.result=!1);delete r[n],await o.destroy(),t.result=!0}))});return s.destroy=function(){o.removeAllListeners();for(const e in r)r[e].destroy(),delete r[e];i=!0},{events:o,middleware:s};function a(e,t){o.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:e,result:t}})}}function normalizeBlock(e){return{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}const ProviderSubprovider=jsonRpcEngineMiddleware,createSubscriptionManager$1=subscriptionManager;class SubscriptionsSubprovider$1 extends ProviderSubprovider{constructor(){super((({blockTracker:e,provider:t,engine:r})=>{const{events:n,middleware:i}=createSubscriptionManager$1({blockTracker:e,provider:t});return n.on("notification",(e=>r.emit("data",null,e))),i}))}}var subscriptions=SubscriptionsSubprovider$1,cjs$3={},cjs$2={};Object.defineProperty(cjs$2,"__esModule",{value:!0});var getLocalStorage_1=cjs$2.getLocalStorage=getLocalStorageOrThrow_1=cjs$2.getLocalStorageOrThrow=getCrypto_1=cjs$2.getCrypto=getCryptoOrThrow_1=cjs$2.getCryptoOrThrow=getLocation_1=cjs$2.getLocation=getLocationOrThrow_1=cjs$2.getLocationOrThrow=getNavigator_1=cjs$2.getNavigator=getNavigatorOrThrow_1=cjs$2.getNavigatorOrThrow=getDocument_1=cjs$2.getDocument=getDocumentOrThrow_1=cjs$2.getDocumentOrThrow=getFromWindowOrThrow_1=cjs$2.getFromWindowOrThrow=getFromWindow_1=cjs$2.getFromWindow=void 0;function getFromWindow$1(e){let t;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}var getFromWindow_1=cjs$2.getFromWindow=getFromWindow$1;function getFromWindowOrThrow$1(e){const t=getFromWindow$1(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}var getFromWindowOrThrow_1=cjs$2.getFromWindowOrThrow=getFromWindowOrThrow$1;function getDocumentOrThrow$1(){return getFromWindowOrThrow$1("document")}var getDocumentOrThrow_1=cjs$2.getDocumentOrThrow=getDocumentOrThrow$1;function getDocument$1(){return getFromWindow$1("document")}var getDocument_1=cjs$2.getDocument=getDocument$1;function getNavigatorOrThrow$1(){return getFromWindowOrThrow$1("navigator")}var getNavigatorOrThrow_1=cjs$2.getNavigatorOrThrow=getNavigatorOrThrow$1;function getNavigator$1(){return getFromWindow$1("navigator")}var getNavigator_1=cjs$2.getNavigator=getNavigator$1;function getLocationOrThrow$1(){return getFromWindowOrThrow$1("location")}var getLocationOrThrow_1=cjs$2.getLocationOrThrow=getLocationOrThrow$1;function getLocation$1(){return getFromWindow$1("location")}var getLocation_1=cjs$2.getLocation=getLocation$1;function getCryptoOrThrow$1(){return getFromWindowOrThrow$1("crypto")}var getCryptoOrThrow_1=cjs$2.getCryptoOrThrow=getCryptoOrThrow$1;function getCrypto$1(){return getFromWindow$1("crypto")}var getCrypto_1=cjs$2.getCrypto=getCrypto$1;function getLocalStorageOrThrow$1(){return getFromWindowOrThrow$1("localStorage")}var getLocalStorageOrThrow_1=cjs$2.getLocalStorageOrThrow=getLocalStorageOrThrow$1;function getLocalStorage$1(){return getFromWindow$1("localStorage")}getLocalStorage_1=cjs$2.getLocalStorage=getLocalStorage$1,Object.defineProperty(cjs$3,"__esModule",{value:!0});var getWindowMetadata_1=cjs$3.getWindowMetadata=void 0;const window_getters_1=cjs$2;function getWindowMetadata(){let t,r;try{t=window_getters_1.getDocumentOrThrow(),r=window_getters_1.getLocationOrThrow()}catch(e){return null}function n(...e){const r=t.getElementsByTagName("meta");for(let t=0;t<r.length;t++){const n=r[t],i=["itemprop","property","name"].map((e=>n.getAttribute(e))).filter((t=>!!t&&e.includes(t)));if(i.length&&i){const e=n.getAttribute("content");if(e)return e}}return""}const i=function(){let e=n("name","og:site_name","og:title","twitter:title");return e||(e=t.title),e}(),o=n("description","og:description","twitter:description","keywords"),s=r.origin,a=function(){const e=t.getElementsByTagName("link"),n=[];for(let t=0;t<e.length;t++){const i=e[t],o=i.getAttribute("rel");if(o&&o.toLowerCase().indexOf("icon")>-1){const e=i.getAttribute("href");if(e)if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let t=r.protocol+"//"+r.host;if(0===e.indexOf("/"))t+=e;else{const n=r.pathname.split("/");n.pop();t+=n.join("/")+"/"+e}n.push(t)}else if(0===e.indexOf("//")){const t=r.protocol+e;n.push(t)}else n.push(e)}}return n}();return{description:o,url:s,icons:a,name:i}}getWindowMetadata_1=cjs$3.getWindowMetadata=getWindowMetadata;var __spreadArrays=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n},BrowserInfo=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},NodeInfo=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},SearchBotDeviceInfo=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},BotInfo=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},ReactNativeInfo=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},SEARCHBOX_UA_REGEX=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SEARCHBOT_OS_REGEX=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,REQUIRED_VERSION_PARTS=3,userAgentRules=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",SEARCHBOX_UA_REGEX]],operatingSystemRules=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(e){return e?parseUserAgent(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new ReactNativeInfo:"undefined"!=typeof navigator?parseUserAgent(navigator.userAgent):getNodeVersion()}function matchUserAgent(e){return""!==e&&userAgentRules.reduce((function(t,r){var n=r[0],i=r[1];if(t)return t;var o=i.exec(e);return!!o&&[n,o]}),!1)}function parseUserAgent(e){var t=matchUserAgent(e);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new BotInfo;var i=n[1]&&n[1].split(/[._]/).slice(0,3);i?i.length<REQUIRED_VERSION_PARTS&&(i=__spreadArrays(i,createVersionParts(REQUIRED_VERSION_PARTS-i.length))):i=[];var o=i.join("."),s=detectOS$1(e),a=SEARCHBOT_OS_REGEX.exec(e);return a&&a[1]?new SearchBotDeviceInfo(r,o,s,a[1]):new BrowserInfo(r,o,s)}function detectOS$1(e){for(var t=0,r=operatingSystemRules.length;t<r;t++){var n=operatingSystemRules[t],i=n[0];if(n[1].exec(e))return i}return null}function getNodeVersion(){return"undefined"!=typeof process&&process.version?new NodeInfo(process.version.slice(1)):null}function createVersionParts(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}function detectEnv(e){return detect(e)}function detectOS(){const e=detectEnv();return e&&e.os?e.os:void 0}function isAndroid(){const e=detectOS();return!!e&&e.toLowerCase().includes("android")}function isIOS(){const e=detectOS();return!!e&&(e.toLowerCase().includes("ios")||e.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1)}function isMobile(){return!!detectOS()&&(isAndroid()||isIOS())}function isNode$2(){const e=detectEnv();return!(!e||!e.name)&&"node"===e.name.toLowerCase()}function isBrowser$3(){return!isNode$2()&&!!getNavigator()}const getFromWindow=getFromWindow_1,getFromWindowOrThrow=getFromWindowOrThrow_1,getDocumentOrThrow=getDocumentOrThrow_1,getDocument=getDocument_1,getNavigatorOrThrow=getNavigatorOrThrow_1,getNavigator=getNavigator_1,getLocationOrThrow=getLocationOrThrow_1,getLocation=getLocation_1,getCryptoOrThrow=getCryptoOrThrow_1,getCrypto=getCrypto_1,getLocalStorageOrThrow=getLocalStorageOrThrow_1,getLocalStorage=getLocalStorage_1;function getClientMeta(){return getWindowMetadata_1()}function safeJsonParse$1(e){if("string"!=typeof e)throw new Error("Cannot safe json parse value of type "+typeof e);try{return JSON.parse(e)}catch(t){return e}}function safeJsonStringify$1(e){return"string"==typeof e?e:JSON.stringify(e)}const safeJsonParse=safeJsonParse$1,safeJsonStringify=safeJsonStringify$1;function setLocal(e,t){const r=safeJsonStringify(t),n=getLocalStorage();n&&n.setItem(e,r)}function getLocal(e){let t=null,r=null;const n=getLocalStorage();return n&&(r=n.getItem(e)),t=r?safeJsonParse(r):r,t}function removeLocal(e){const t=getLocalStorage();t&&t.removeItem(e)}const mobileLinkChoiceKey="WALLETCONNECT_DEEPLINK_CHOICE";function formatIOSMobile(e,t){const r=encodeURIComponent(e);return t.universalLink?`${t.universalLink}/wc?uri=${r}`:t.deepLink?`${t.deepLink}${t.deepLink.endsWith(":")?"//":"/"}wc?uri=${r}`:""}function saveMobileLinkInfo(e){const t=e.href.split("?")[0];setLocal(mobileLinkChoiceKey,Object.assign(Object.assign({},e),{href:t}))}function getMobileRegistryEntry(e,t){return e.filter((e=>e.name.toLowerCase().includes(t.toLowerCase())))[0]}function getMobileLinkRegistry(e,t){let r=e;return t&&(r=t.map((t=>getMobileRegistryEntry(e,t))).filter(Boolean)),r}const API_URL="https://registry.walletconnect.com";function getWalletRegistryUrl(){return API_URL+"/api/v2/wallets"}function getDappRegistryUrl(){return API_URL+"/api/v2/dapps"}function formatMobileRegistryEntry(e,t="mobile"){var r;return{name:e.name||"",shortName:e.metadata.shortName||"",color:e.metadata.colors.primary||"",logo:null!==(r=e.image_url.sm)&&void 0!==r?r:"",universalLink:e[t].universal||"",deepLink:e[t].native||""}}function formatMobileRegistry(e,t="mobile"){return Object.values(e).filter((e=>!!e[t].universal||!!e[t].native)).map((e=>formatMobileRegistryEntry(e,t)))}var esm=Object.freeze(Object.defineProperty({__proto__:null,detectEnv:detectEnv,detectOS:detectOS,isAndroid:isAndroid,isIOS:isIOS,isMobile:isMobile,isNode:isNode$2,isBrowser:isBrowser$3,getFromWindow:getFromWindow,getFromWindowOrThrow:getFromWindowOrThrow,getDocumentOrThrow:getDocumentOrThrow,getDocument:getDocument,getNavigatorOrThrow:getNavigatorOrThrow,getNavigator:getNavigator,getLocationOrThrow:getLocationOrThrow,getLocation:getLocation,getCryptoOrThrow:getCryptoOrThrow,getCrypto:getCrypto,getLocalStorageOrThrow:getLocalStorageOrThrow,getLocalStorage:getLocalStorage,getClientMeta:getClientMeta,safeJsonParse:safeJsonParse,safeJsonStringify:safeJsonStringify,setLocal:setLocal,getLocal:getLocal,removeLocal:removeLocal,mobileLinkChoiceKey:mobileLinkChoiceKey,formatIOSMobile:formatIOSMobile,saveMobileLinkInfo:saveMobileLinkInfo,getMobileRegistryEntry:getMobileRegistryEntry,getMobileLinkRegistry:getMobileLinkRegistry,getWalletRegistryUrl:getWalletRegistryUrl,getDappRegistryUrl:getDappRegistryUrl,formatMobileRegistryEntry:formatMobileRegistryEntry,formatMobileRegistry:formatMobileRegistry},Symbol.toStringTag,{value:"Module"}));const reservedEvents=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],signingMethods=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],infuraNetworks={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"};var bn$2={exports:{}};!function(t){!function(t,r){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof t?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;try{s=require("buffer").Buffer}catch(e){}function a(e,t,r){for(var n=0,i=Math.min(e.length,r),o=t;o<i;o++){var s=e.charCodeAt(o)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function u(e,t,r,n){for(var i=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=e.length-6,n=0;r>=t;r-=6)i=a(e,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==t&&(i=a(e,t,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,l=0,c=r;c<a;c+=n)l=u(e,c,c+n,t),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==s){var f=1;for(l=u(e,c,e.length,t),c=0;c<s;c++)f*=t;this.imuln(f),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var l=1;l<n;l++){for(var c=u>>>26,f=67108863&u,h=Math.min(l,t.length-1),d=Math.max(0,l-e.length+1);d<=h;d++){var p=l-d|0;c+=(s=(i=0|e.words[p])*(o=0|t.words[d])+f)/67108864|0,f=67108863&s}r.words[l]=0|f,u=0|c}return 0!==u?r.words[l]=0|u:r.length--,r.strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?l[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var h=c[e],d=f[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(d).toString(e);r=(p=p.idivn(d)).isZero()?g+r:l[h-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return n(void 0!==s),this.toArrayLike(s,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===t,l=new e(o),c=this.clone();if(u){for(a=0;!c.isZero();a++)s=c.andln(255),c.iushrn(8),l[a]=s;for(;a<o;a++)l[a]=0}else{for(a=0;a<o-i;a++)l[a]=0;for(a=0;!c.isZero();a++)s=c.andln(255),c.iushrn(8),l[o-a-1]=s}return l},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var d=function(e,t,r){var n,i,o,s=e.words,a=t.words,u=r.words,l=0,c=0|s[0],f=8191&c,h=c>>>13,d=0|s[1],p=8191&d,g=d>>>13,m=0|s[2],y=8191&m,b=m>>>13,v=0|s[3],_=8191&v,$=v>>>13,w=0|s[4],E=8191&w,S=w>>>13,A=0|s[5],R=8191&A,N=A>>>13,x=0|s[6],k=8191&x,C=x>>>13,T=0|s[7],M=8191&T,P=T>>>13,I=0|s[8],O=8191&I,B=I>>>13,L=0|s[9],D=8191&L,U=L>>>13,F=0|a[0],j=8191&F,H=F>>>13,W=0|a[1],z=8191&W,q=W>>>13,G=0|a[2],V=8191&G,K=G>>>13,J=0|a[3],Y=8191&J,X=J>>>13,Z=0|a[4],Q=8191&Z,ee=Z>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ue=8191&ae,le=ae>>>13,ce=0|a[8],fe=8191&ce,he=ce>>>13,de=0|a[9],pe=8191&de,ge=de>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(l+(n=Math.imul(f,j))|0)+((8191&(i=(i=Math.imul(f,H))+Math.imul(h,j)|0))<<13)|0;l=((o=Math.imul(h,H))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,H))+Math.imul(g,j)|0,o=Math.imul(g,H);var ye=(l+(n=n+Math.imul(f,z)|0)|0)+((8191&(i=(i=i+Math.imul(f,q)|0)+Math.imul(h,z)|0))<<13)|0;l=((o=o+Math.imul(h,q)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,j),i=(i=Math.imul(y,H))+Math.imul(b,j)|0,o=Math.imul(b,H),n=n+Math.imul(p,z)|0,i=(i=i+Math.imul(p,q)|0)+Math.imul(g,z)|0,o=o+Math.imul(g,q)|0;var be=(l+(n=n+Math.imul(f,V)|0)|0)+((8191&(i=(i=i+Math.imul(f,K)|0)+Math.imul(h,V)|0))<<13)|0;l=((o=o+Math.imul(h,K)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(_,j),i=(i=Math.imul(_,H))+Math.imul($,j)|0,o=Math.imul($,H),n=n+Math.imul(y,z)|0,i=(i=i+Math.imul(y,q)|0)+Math.imul(b,z)|0,o=o+Math.imul(b,q)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(g,V)|0,o=o+Math.imul(g,K)|0;var ve=(l+(n=n+Math.imul(f,Y)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(h,Y)|0))<<13)|0;l=((o=o+Math.imul(h,X)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(E,j),i=(i=Math.imul(E,H))+Math.imul(S,j)|0,o=Math.imul(S,H),n=n+Math.imul(_,z)|0,i=(i=i+Math.imul(_,q)|0)+Math.imul($,z)|0,o=o+Math.imul($,q)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(b,V)|0,o=o+Math.imul(b,K)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(g,Y)|0,o=o+Math.imul(g,X)|0;var _e=(l+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(h,Q)|0))<<13)|0;l=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(R,j),i=(i=Math.imul(R,H))+Math.imul(N,j)|0,o=Math.imul(N,H),n=n+Math.imul(E,z)|0,i=(i=i+Math.imul(E,q)|0)+Math.imul(S,z)|0,o=o+Math.imul(S,q)|0,n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,K)|0)+Math.imul($,V)|0,o=o+Math.imul($,K)|0,n=n+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(b,Y)|0,o=o+Math.imul(b,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,ee)|0;var $e=(l+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(h,re)|0))<<13)|0;l=((o=o+Math.imul(h,ne)|0)+(i>>>13)|0)+($e>>>26)|0,$e&=67108863,n=Math.imul(k,j),i=(i=Math.imul(k,H))+Math.imul(C,j)|0,o=Math.imul(C,H),n=n+Math.imul(R,z)|0,i=(i=i+Math.imul(R,q)|0)+Math.imul(N,z)|0,o=o+Math.imul(N,q)|0,n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,K)|0)+Math.imul(S,V)|0,o=o+Math.imul(S,K)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,X)|0)+Math.imul($,Y)|0,o=o+Math.imul($,X)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(g,re)|0,o=o+Math.imul(g,ne)|0;var we=(l+(n=n+Math.imul(f,oe)|0)|0)+((8191&(i=(i=i+Math.imul(f,se)|0)+Math.imul(h,oe)|0))<<13)|0;l=((o=o+Math.imul(h,se)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(M,j),i=(i=Math.imul(M,H))+Math.imul(P,j)|0,o=Math.imul(P,H),n=n+Math.imul(k,z)|0,i=(i=i+Math.imul(k,q)|0)+Math.imul(C,z)|0,o=o+Math.imul(C,q)|0,n=n+Math.imul(R,V)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(N,V)|0,o=o+Math.imul(N,K)|0,n=n+Math.imul(E,Y)|0,i=(i=i+Math.imul(E,X)|0)+Math.imul(S,Y)|0,o=o+Math.imul(S,X)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul($,Q)|0,o=o+Math.imul($,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(g,oe)|0,o=o+Math.imul(g,se)|0;var Ee=(l+(n=n+Math.imul(f,ue)|0)|0)+((8191&(i=(i=i+Math.imul(f,le)|0)+Math.imul(h,ue)|0))<<13)|0;l=((o=o+Math.imul(h,le)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(O,j),i=(i=Math.imul(O,H))+Math.imul(B,j)|0,o=Math.imul(B,H),n=n+Math.imul(M,z)|0,i=(i=i+Math.imul(M,q)|0)+Math.imul(P,z)|0,o=o+Math.imul(P,q)|0,n=n+Math.imul(k,V)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(C,V)|0,o=o+Math.imul(C,K)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,X)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul($,re)|0,o=o+Math.imul($,ne)|0,n=n+Math.imul(y,oe)|0,i=(i=i+Math.imul(y,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(g,ue)|0,o=o+Math.imul(g,le)|0;var Se=(l+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,he)|0)+Math.imul(h,fe)|0))<<13)|0;l=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(D,j),i=(i=Math.imul(D,H))+Math.imul(U,j)|0,o=Math.imul(U,H),n=n+Math.imul(O,z)|0,i=(i=i+Math.imul(O,q)|0)+Math.imul(B,z)|0,o=o+Math.imul(B,q)|0,n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(P,V)|0,o=o+Math.imul(P,K)|0,n=n+Math.imul(k,Y)|0,i=(i=i+Math.imul(k,X)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,X)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(S,re)|0,o=o+Math.imul(S,ne)|0,n=n+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,se)|0)+Math.imul($,oe)|0,o=o+Math.imul($,se)|0,n=n+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,le)|0)+Math.imul(b,ue)|0,o=o+Math.imul(b,le)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(g,fe)|0,o=o+Math.imul(g,he)|0;var Ae=(l+(n=n+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ge)|0)+Math.imul(h,pe)|0))<<13)|0;l=((o=o+Math.imul(h,ge)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(D,z),i=(i=Math.imul(D,q))+Math.imul(U,z)|0,o=Math.imul(U,q),n=n+Math.imul(O,V)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(B,V)|0,o=o+Math.imul(B,K)|0,n=n+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(P,Y)|0,o=o+Math.imul(P,X)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,ee)|0,n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(N,re)|0,o=o+Math.imul(N,ne)|0,n=n+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,se)|0)+Math.imul(S,oe)|0,o=o+Math.imul(S,se)|0,n=n+Math.imul(_,ue)|0,i=(i=i+Math.imul(_,le)|0)+Math.imul($,ue)|0,o=o+Math.imul($,le)|0,n=n+Math.imul(y,fe)|0,i=(i=i+Math.imul(y,he)|0)+Math.imul(b,fe)|0,o=o+Math.imul(b,he)|0;var Re=(l+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ge)|0)+Math.imul(g,pe)|0))<<13)|0;l=((o=o+Math.imul(g,ge)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(D,V),i=(i=Math.imul(D,K))+Math.imul(U,V)|0,o=Math.imul(U,K),n=n+Math.imul(O,Y)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,X)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(C,re)|0,o=o+Math.imul(C,ne)|0,n=n+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,se)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,se)|0,n=n+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,le)|0)+Math.imul(S,ue)|0,o=o+Math.imul(S,le)|0,n=n+Math.imul(_,fe)|0,i=(i=i+Math.imul(_,he)|0)+Math.imul($,fe)|0,o=o+Math.imul($,he)|0;var Ne=(l+(n=n+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,ge)|0)+Math.imul(b,pe)|0))<<13)|0;l=((o=o+Math.imul(b,ge)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,n=Math.imul(D,Y),i=(i=Math.imul(D,X))+Math.imul(U,Y)|0,o=Math.imul(U,X),n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,se)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,se)|0,n=n+Math.imul(R,ue)|0,i=(i=i+Math.imul(R,le)|0)+Math.imul(N,ue)|0,o=o+Math.imul(N,le)|0,n=n+Math.imul(E,fe)|0,i=(i=i+Math.imul(E,he)|0)+Math.imul(S,fe)|0,o=o+Math.imul(S,he)|0;var xe=(l+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,ge)|0)+Math.imul($,pe)|0))<<13)|0;l=((o=o+Math.imul($,ge)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(D,Q),i=(i=Math.imul(D,ee))+Math.imul(U,Q)|0,o=Math.imul(U,ee),n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,se)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,se)|0,n=n+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,le)|0)+Math.imul(C,ue)|0,o=o+Math.imul(C,le)|0,n=n+Math.imul(R,fe)|0,i=(i=i+Math.imul(R,he)|0)+Math.imul(N,fe)|0,o=o+Math.imul(N,he)|0;var ke=(l+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,ge)|0)+Math.imul(S,pe)|0))<<13)|0;l=((o=o+Math.imul(S,ge)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(D,re),i=(i=Math.imul(D,ne))+Math.imul(U,re)|0,o=Math.imul(U,ne),n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,se)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,se)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,le)|0)+Math.imul(P,ue)|0,o=o+Math.imul(P,le)|0,n=n+Math.imul(k,fe)|0,i=(i=i+Math.imul(k,he)|0)+Math.imul(C,fe)|0,o=o+Math.imul(C,he)|0;var Ce=(l+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ge)|0)+Math.imul(N,pe)|0))<<13)|0;l=((o=o+Math.imul(N,ge)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(D,oe),i=(i=Math.imul(D,se))+Math.imul(U,oe)|0,o=Math.imul(U,se),n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,le)|0)+Math.imul(B,ue)|0,o=o+Math.imul(B,le)|0,n=n+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,he)|0)+Math.imul(P,fe)|0,o=o+Math.imul(P,he)|0;var Te=(l+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ge)|0)+Math.imul(C,pe)|0))<<13)|0;l=((o=o+Math.imul(C,ge)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(D,ue),i=(i=Math.imul(D,le))+Math.imul(U,ue)|0,o=Math.imul(U,le),n=n+Math.imul(O,fe)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(B,fe)|0,o=o+Math.imul(B,he)|0;var Me=(l+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,ge)|0)+Math.imul(P,pe)|0))<<13)|0;l=((o=o+Math.imul(P,ge)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(D,fe),i=(i=Math.imul(D,he))+Math.imul(U,fe)|0,o=Math.imul(U,he);var Pe=(l+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ge)|0)+Math.imul(B,pe)|0))<<13)|0;l=((o=o+Math.imul(B,ge)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Ie=(l+(n=Math.imul(D,pe))|0)+((8191&(i=(i=Math.imul(D,ge))+Math.imul(U,pe)|0))<<13)|0;return l=((o=Math.imul(U,ge))+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,u[0]=me,u[1]=ye,u[2]=be,u[3]=ve,u[4]=_e,u[5]=$e,u[6]=we,u[7]=Ee,u[8]=Se,u[9]=Ae,u[10]=Re,u[11]=Ne,u[12]=xe,u[13]=ke,u[14]=Ce,u[15]=Te,u[16]=Me,u[17]=Pe,u[18]=Ie,0!==l&&(u[19]=l,r.length++),r};function p(e,t,r){return(new g).mulp(e,t,r)}function g(e,t){this.x=e,this.y=t}Math.imul||(d=h),o.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?d(this,e,t):n<63?h(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,t.length-1),l=Math.max(0,o-e.length+1);l<=u;l++){var c=o-l,f=(0|e.words[c])*(0|t.words[l]),h=67108863&f;a=67108863&(h=h+a|0),i+=(s=(s=s+(f/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):p(this,e,t),r},g.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},g.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},g.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},g.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var f=u,h=l,d=0;d<s;d++){var p=r[c+d],g=n[c+d],m=r[c+d+s],y=n[c+d+s],b=f*m-h*y;y=f*y+h*m,m=b,r[c+d]=p+m,n[c+d]=g+y,r[c+d+s]=p-m,n[c+d+s]=g-y,d!==a&&(b=u*f-l*h,h=u*h+l*f,f=b)}},g.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},g.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},g.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},g.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},g.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),l=new Array(n),c=new Array(n),f=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,l,n),this.transform(s,o,a,u,n,i),this.transform(l,o,c,f,n,i);for(var d=0;d<n;d++){var p=a[d]*c[d]-u[d]*f[d];u[d]=a[d]*f[d]+u[d]*c[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),p(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,u=(0|this.words[t])-a<<r;this.words[t]=u|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var l=0;l<s;l++)u.words[l]=this.words[l];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,l=0;l<this.length;l++)this.words[l]=this.words[l+s];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var f=0|this.words[l];this.words[l]=c<<26-o|f>>>o,c=f&a}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==t){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var c=n.clone()._ishlnsubmul(i,1,u);0===c.negative&&(n=c,a&&(a.words[u]=1));for(var f=u-1;f>=0;f--){var h=67108864*(0|n.words[i.length+f])+(0|n.words[i.length+f-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(i,h,f);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,f),n.isZero()||(n.negative^=1);a&&(a.words[f]=h)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},o.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),l=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++l;for(var c=r.clone(),f=t.clone();!t.isZero();){for(var h=0,d=1;0==(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(c),s.isub(f)),i.iushrn(1),s.iushrn(1);for(var p=0,g=1;0==(r.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(f)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(u)):(r.isub(t),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,c=1;0==(t.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(t.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var f=0,h=1;0==(r.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(r.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new w(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function $(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function w(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function E(e){w.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},i(b,y),b.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(v,y),i(_,y),i($,y),$.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new v;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new $}return m[e]=t,t},w.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},w.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},w.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},w.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},w.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},w.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},w.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},w.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},w.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},w.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},w.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},w.prototype.isqr=function(e){return this.imul(e,e.clone())},w.prototype.sqr=function(e){return this.mul(e,e)},w.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,i),h=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=s;0!==d.cmp(a);){for(var g=d,m=0;0!==g.cmp(a);m++)g=g.redSqr();n(m<p);var y=this.pow(f,new o(1).iushln(p-m-1));h=h.redMul(y),f=y.redSqr(),d=d.redMul(f),p=m}return h},w.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},w.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var l=t.words[n],c=u-1;c>=0;c--){var f=l>>c&1;i!==r[0]&&(i=this.sqr(i)),0!==f||0!==s?(s<<=1,s|=f,(4===++a||0===n&&0===c)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},w.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},w.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new E(e)},i(E,w),E.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},E.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},E.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},E.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},E.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,commonjsGlobal$1)}(bn$2);var BN$2=bn$2.exports,isTypedarray=isTypedArray$1;isTypedArray$1.strict=isStrictTypedArray,isTypedArray$1.loose=isLooseTypedArray;var toString$1=Object.prototype.toString,names={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function isTypedArray$1(e){return isStrictTypedArray(e)||isLooseTypedArray(e)}function isStrictTypedArray(e){return e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function isLooseTypedArray(e){return names[toString$1.call(e)]}var isTypedArray=isTypedarray.strict,typedarrayToBuffer=function(e){if(isTypedArray(e)){var t=buffer$2.Buffer.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(t=t.slice(e.byteOffset,e.byteOffset+e.byteLength)),t}return buffer$2.Buffer.from(e)};const ENC_HEX="hex",ENC_UTF8="utf8",STRING_ZERO="0";function bufferToArray(e){return new Uint8Array(e)}function bufferToHex$1(e,t=!1){const r=e.toString(ENC_HEX);return t?addHexPrefix(r):r}function bufferToUtf8(e){return e.toString(ENC_UTF8)}function arrayToBuffer(e){return typedarrayToBuffer(e)}function arrayToHex(e,t=!1){return bufferToHex$1(arrayToBuffer(e),t)}function arrayToUtf8(e){return bufferToUtf8(arrayToBuffer(e))}function hexToBuffer(e){return buffer$2.Buffer.from(removeHexPrefix(e),ENC_HEX)}function hexToArray(e){return bufferToArray(hexToBuffer(e))}function utf8ToBuffer(e){return buffer$2.Buffer.from(e,ENC_UTF8)}function utf8ToArray(e){return bufferToArray(utf8ToBuffer(e))}function utf8ToHex(e,t=!1){return bufferToHex$1(utf8ToBuffer(e),t)}function isHexString$3(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}function concatArrays(...e){let t=[];return e.forEach((e=>t=t.concat(Array.from(e)))),new Uint8Array([...t])}function calcByteLength(e,t=8){const r=e%t;return r?(e-r)/t*t+t:e}function sanitizeBytes(e,t=8,r=STRING_ZERO){return padLeft(e,calcByteLength(e.length,t),r)}function padLeft(e,t,r=STRING_ZERO){return padString(e,t,!0,r)}function removeHexPrefix(e){return e.replace(/^0x/,"")}function addHexPrefix(e){return e.startsWith("0x")?e:`0x${e}`}function sanitizeHex$1(e){return(e=sanitizeBytes(e=removeHexPrefix(e),2))&&(e=addHexPrefix(e)),e}function removeHexLeadingZeros$1(e){const t=e.startsWith("0x");return e=(e=removeHexPrefix(e)).startsWith(STRING_ZERO)?e.substring(1):e,t?addHexPrefix(e):e}function padString(e,t,r,n=STRING_ZERO){const i=t-e.length;let o=e;if(i>0){const t=n.repeat(i);o=r?t+e:e+t}return o}function convertArrayBufferToBuffer(e){return arrayToBuffer(new Uint8Array(e))}function convertArrayBufferToHex(e,t){return arrayToHex(new Uint8Array(e),!t)}function convertBufferToArrayBuffer(e){return bufferToArray(e).buffer}function convertUtf8ToBuffer(e){return utf8ToBuffer(e)}function convertUtf8ToHex(e,t){return utf8ToHex(e,!t)}function convertHexToArrayBuffer(e){return hexToArray(e).buffer}function convertNumberToHex(e,t){const r=removeHexPrefix(sanitizeHex$1(new BN$2(e).toString(16)));return t?r:addHexPrefix(r)}var cjs$1={},crypto$1={};function getBrowerCrypto(){return(null==commonjsGlobal$1?void 0:commonjsGlobal$1.crypto)||(null==commonjsGlobal$1?void 0:commonjsGlobal$1.msCrypto)||{}}function getSubtleCrypto(){const e=getBrowerCrypto();return e.subtle||e.webkitSubtle}function isBrowserCryptoAvailable(){return!!getBrowerCrypto()&&!!getSubtleCrypto()}Object.defineProperty(crypto$1,"__esModule",{value:!0}),crypto$1.isBrowserCryptoAvailable=crypto$1.getSubtleCrypto=crypto$1.getBrowerCrypto=void 0,crypto$1.getBrowerCrypto=getBrowerCrypto,crypto$1.getSubtleCrypto=getSubtleCrypto,crypto$1.isBrowserCryptoAvailable=isBrowserCryptoAvailable;var env={};function isReactNative(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function isNode$1(){return"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node}function isBrowser$2(){return!isReactNative()&&!isNode$1()}function payloadId$1(){return Date.now()*Math.pow(10,3)+Math.floor(Math.random()*Math.pow(10,3))}function sanitizeHex(e){return sanitizeHex$1(e)}function removeHexLeadingZeros(e){return removeHexLeadingZeros$1(addHexPrefix(e))}Object.defineProperty(env,"__esModule",{value:!0}),env.isBrowser=env.isNode=env.isReactNative=void 0,env.isReactNative=isReactNative,env.isNode=isNode$1,env.isBrowser=isBrowser$2,function(e){var t=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal$1&&commonjsGlobal$1.__exportStar||function(e,r){for(var n in e)"default"===n||r.hasOwnProperty(n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(crypto$1,e),r(env,e)}(cjs$1);const payloadId=payloadId$1;function uuid(){const e=((e,t)=>{for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t})();return e}function getInfuraRpcUrl(e,t){let r;const n=infuraNetworks[e];return n&&(r=`https://${n}.infura.io/v3/${t}`),r}function getRpcUrl(e,t){let r;const n=getInfuraRpcUrl(e,t.infuraId);return t.custom&&t.custom[e]?r=t.custom[e]:n&&(r=n),r}function isEmptyString(e){return""===e||"string"==typeof e&&""===e.trim()}function isEmptyArray(e){return!(e&&e.length)}function isHexString$2(e,t){return isHexString$3(e,t)}function isJsonRpcRequest(e){return void 0!==e.method}function isJsonRpcResponseSuccess(e){return void 0!==e.result}function isJsonRpcResponseError(e){return void 0!==e.error}function isInternalEvent(e){return void 0!==e.event}function isReservedEvent(e){return reservedEvents.includes(e)||e.startsWith("wc_")}function isSilentPayload(e){return!!e.method.startsWith("wc_")||!signingMethods.includes(e.method)}function toChecksumAddress(e){e=removeHexPrefix(e.toLowerCase());const t=removeHexPrefix(sha3$1.exports.keccak_256(convertUtf8ToBuffer(e)));let r="";for(let n=0;n<e.length;n++)parseInt(t[n],16)>7?r+=e[n].toUpperCase():r+=e[n];return addHexPrefix(r)}const isValidAddress=e=>!!e&&("0x"===e.toLowerCase().substring(0,2)&&(!!/^(0x)?[0-9a-f]{40}$/i.test(e)&&(!(!/^(0x)?[0-9a-f]{40}$/.test(e)&&!/^(0x)?[0-9A-F]{40}$/.test(e))||e===toChecksumAddress(e))));function parsePersonalSign(e){return isEmptyArray(e)||isHexString$2(e[0])||(e[0]=convertUtf8ToHex(e[0])),e}function parseTransactionData(e){if(void 0!==e.type&&"0"!==e.type)return e;if(void 0===e.from||!isValidAddress(e.from))throw new Error("Transaction object must include a valid 'from' value.");function t(e){let t=e;return("number"==typeof e||"string"==typeof e&&!isEmptyString(e))&&(isHexString$2(e)?"string"==typeof e&&(t=sanitizeHex(e)):t=convertNumberToHex(e)),"string"==typeof t&&(t=removeHexLeadingZeros(t)),t}const r={from:sanitizeHex(e.from),to:void 0===e.to?"":sanitizeHex(e.to),gasPrice:void 0===e.gasPrice?"":t(e.gasPrice),gas:void 0===e.gas?void 0===e.gasLimit?"":t(e.gasLimit):t(e.gas),value:void 0===e.value?"":t(e.value),nonce:void 0===e.nonce?"":t(e.nonce),data:void 0===e.data?"":sanitizeHex(e.data)||"0x"},n=["gasPrice","gas","value","nonce"];return Object.keys(r).forEach((e=>{!r[e].trim().length&&n.includes(e)&&delete r[e]})),r}function formatRpcError(e){const t=e.message||"Failed or Rejected Request";let r=-32e3;if(e&&!e.code)switch(t){case"Parse error":r=-32700;break;case"Invalid request":r=-32600;break;case"Method not found":r=-32601;break;case"Invalid params":r=-32602;break;case"Internal error":r=-32603;break;default:r=-32e3}return{code:r,message:t}}var queryString={},strictUriEncode=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)),token="%[a-f0-9]{2}",singleMatcher=new RegExp(token,"gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(e,t){try{return decodeURIComponent(e.join(""))}catch(i){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],decodeComponents(r),decodeComponents(n))}function decode$4(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(singleMatcher),r=1;r<t.length;r++)t=(e=decodeComponents(t,r).join("")).match(singleMatcher);return e}}function customDecodeURIComponent(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=multiMatcher.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(a){var n=decode$4(r[0]);n!==r[0]&&(t[r[0]]=n)}r=multiMatcher.exec(e)}t["%C2"]="�";for(var i=Object.keys(t),o=0;o<i.length;o++){var s=i[o];e=e.replace(new RegExp(s,"g"),t[s])}return e}var decodeUriComponent=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return customDecodeURIComponent(e)}},splitOnFirst=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]};function getQueryString(e){const t=-1!==e.indexOf("?")?e.indexOf("?"):void 0;return void 0!==t?e.substr(t):""}function appendToQueryString(e,t){let r=parseQueryString(e);return r=Object.assign(Object.assign({},r),t),e=formatQueryString(r)}function parseQueryString(e){return queryString.parse(e)}function formatQueryString(e){return queryString.stringify(e)}function isWalletConnectSession(e){return void 0!==e.bridge}function parseWalletConnectUri(e){const t=e.indexOf(":"),r=-1!==e.indexOf("?")?e.indexOf("?"):void 0,n=e.substring(0,t);const i=function(e){const t=e.split("@");return{handshakeTopic:t[0],version:parseInt(t[1],10)}}(e.substring(t+1,r));const o=function(e){const t=parseQueryString(e);return{key:t.key||"",bridge:t.bridge||""}}(void 0!==r?e.substr(r):"");return Object.assign(Object.assign({protocol:n},i),o)}!function(e){const t=strictUriEncode,r=decodeUriComponent,n=splitOnFirst;function i(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function o(e,r){return r.encode?r.strict?t(e):encodeURIComponent(e):e}function s(e,t){return t.decode?r(e):e}function a(e){return Array.isArray(e)?e.sort():"object"==typeof e?a(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function u(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function l(e){const t=(e=u(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function c(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function f(e,t){i((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return(e,r,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return(t,r,n)=>{const i="string"==typeof r&&r.split("").indexOf(e.arrayFormatSeparator)>-1?r.split(e.arrayFormatSeparator).map((t=>s(t,e))):null===r?r:s(r,e);n[t]=i};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),o=Object.create(null);if("string"!=typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;for(const i of e.split("&")){let[e,a]=n(t.decode?i.replace(/\+/g," "):i,"=");a=void 0===a?null:["comma","separator"].includes(t.arrayFormat)?a:s(a,t),r(s(e,t),a,o)}for(const n of Object.keys(o)){const e=o[n];if("object"==typeof e&&null!==e)for(const r of Object.keys(e))e[r]=c(e[r],t);else o[n]=c(e,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce(((e,t)=>{const r=o[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=a(r):e[t]=r,e}),Object.create(null))}e.extract=l,e.parse=f,e.stringify=(e,t)=>{if(!e)return"";i((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const r=r=>t.skipNull&&(e=>null==e)(e[r])||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{const i=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[o(t,e),"[",i,"]"].join("")]:[...r,[o(t,e),"[",o(i,e),"]=",o(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[o(t,e),"[]"].join("")]:[...r,[o(t,e),"[]=",o(n,e)].join("")];case"comma":case"separator":return t=>(r,n)=>null==n||0===n.length?r:0===r.length?[[o(t,e),"=",o(n,e)].join("")]:[[r,o(n,e)].join(e.arrayFormatSeparator)];default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,o(t,e)]:[...r,[o(t,e),"=",o(n,e)].join("")]}}(t),s={};for(const i of Object.keys(e))r(i)||(s[i]=e[i]);const a=Object.keys(s);return!1!==t.sort&&a.sort(t.sort),a.map((r=>{const i=e[r];return void 0===i?"":null===i?o(r,t):Array.isArray(i)?i.reduce(n(r),[]).join("&"):o(r,t)+"="+o(i,t)})).filter((e=>e.length>0)).join("&")},e.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[r,i]=n(e,"#");return Object.assign({url:r.split("?")[0]||"",query:f(l(e),t)},t&&t.parseFragmentIdentifier&&i?{fragmentIdentifier:s(i,t)}:{})},e.stringifyUrl=(t,r)=>{r=Object.assign({encode:!0,strict:!0},r);const n=u(t.url).split("?")[0]||"",i=e.extract(t.url),s=e.parse(i,{sort:!1}),a=Object.assign(s,t.query);let l=e.stringify(a,r);l&&(l=`?${l}`);let c=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(t.url);return t.fragmentIdentifier&&(c=`#${o(t.fragmentIdentifier,r)}`),`${n}${l}${c}`}}(queryString);var browser$1=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")};class NetworkMonitor{constructor(){this._eventEmitters=[],"undefined"!=typeof window&&void 0!==window.addEventListener&&(window.addEventListener("online",(()=>this.trigger("online"))),window.addEventListener("offline",(()=>this.trigger("offline"))))}on(e,t){this._eventEmitters.push({event:e,callback:t})}trigger(e){let t=[];e&&(t=this._eventEmitters.filter((t=>t.event===e))),t.forEach((e=>{e.callback()}))}}const WS=void 0!==global.WebSocket?global.WebSocket:browser$1;class SocketTransport{constructor(e){if(this.opts=e,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=e.protocol,this._version=e.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=e.subscriptions||[],this._netMonitor=e.netMonitor||new NetworkMonitor,!e.url||"string"!=typeof e.url)throw new Error("Missing or invalid WebSocket url");this._url=e.url,this._netMonitor.on("online",(()=>this._socketCreate()))}set readyState(e){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(e){}get connecting(){return 0===this.readyState}set connected(e){}get connected(){return 1===this.readyState}set closing(e){}get closing(){return 2===this.readyState}set closed(e){}get closed(){return 3===this.readyState}open(){this._socketCreate()}close(){this._socketClose()}send(e,t,r){if(!t||"string"!=typeof t)throw new Error("Missing or invalid topic field");this._socketSend({topic:t,type:"pub",payload:e,silent:!!r})}subscribe(e){this._socketSend({topic:e,type:"sub",payload:"",silent:!0})}on(e,t){this._events.push({event:e,callback:t})}_socketCreate(){if(this._nextSocket)return;const e=getWebSocketUrl(this._url,this._protocol,this._version);if(this._nextSocket=new WS(e),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=e=>this._socketReceive(e),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=e=>this._socketError(e),this._nextSocket.onclose=()=>{setTimeout((()=>{this._nextSocket=null,this._socketCreate()}),1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(e){const t=JSON.stringify(e);this._socket&&1===this._socket.readyState?this._socket.send(t):(this._setToQueue(e),this._socketCreate())}async _socketReceive(e){let t;try{t=JSON.parse(e.data)}catch(error){return}if(this._socketSend({topic:t.topic,type:"ack",payload:"",silent:!0}),this._socket&&1===this._socket.readyState){const e=this._events.filter((e=>"message"===e.event));e&&e.length&&e.forEach((e=>e.callback(t)))}}_socketError(e){const t=this._events.filter((e=>"error"===e.event));t&&t.length&&t.forEach((t=>t.callback(e)))}_queueSubscriptions(){this._subscriptions.forEach((e=>this._queue.push({topic:e,type:"sub",payload:"",silent:!0}))),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(e){this._queue.push(e)}_pushQueue(){this._queue.forEach((e=>this._socketSend(e))),this._queue=[]}}function getWebSocketUrl(e,t,r){var n,i;const o=(e.startsWith("https")?e.replace("https","wss"):e.startsWith("http")?e.replace("http","ws"):e).split("?"),s=isBrowser$3()?{protocol:t,version:r,env:"browser",host:(null===(n=getLocation())||void 0===n?void 0:n.host)||""}:{protocol:t,version:r,env:(null===(i=detectEnv())||void 0===i?void 0:i.name)||""},a=appendToQueryString(getQueryString(o[1]||""),s);return o[0]+"?"+a}const ERROR_SESSION_CONNECTED="Session currently connected",ERROR_SESSION_DISCONNECTED="Session currently disconnected",ERROR_SESSION_REJECTED="Session Rejected",ERROR_MISSING_JSON_RPC="Missing JSON RPC response",ERROR_MISSING_RESULT='JSON-RPC success response must include "result" field',ERROR_MISSING_ERROR='JSON-RPC error response must include "error" field',ERROR_MISSING_METHOD='JSON RPC request must have valid "method" value',ERROR_MISSING_ID='JSON RPC request must have valid "id" value',ERROR_MISSING_REQUIRED="Missing one of the required parameters: bridge / uri / session",ERROR_INVALID_RESPONSE="JSON RPC response format is invalid",ERROR_INVALID_URI="URI format is invalid",ERROR_QRCODE_MODAL_NOT_PROVIDED="QRCode Modal not provided",ERROR_QRCODE_MODAL_USER_CLOSED="User close QRCode Modal";class EventManager{constructor(){this._eventEmitters=[]}subscribe(e){this._eventEmitters.push(e)}unsubscribe(e){this._eventEmitters=this._eventEmitters.filter((t=>t.event!==e))}trigger(e){let t,r=[];t=isJsonRpcRequest(e)?e.method:isJsonRpcResponseSuccess(e)||isJsonRpcResponseError(e)?`response:${e.id}`:isInternalEvent(e)?e.event:"",t&&(r=this._eventEmitters.filter((e=>e.event===t))),r&&r.length||isReservedEvent(t)||isInternalEvent(t)||(r=this._eventEmitters.filter((e=>"call_request"===e.event))),r.forEach((t=>{if(isJsonRpcResponseError(e)){const r=new Error(e.error.message);t.callback(r,null)}else t.callback(null,e)}))}}class SessionStorage{constructor(e="walletconnect"){this.storageId=e}getSession(){let e=null;const t=getLocal(this.storageId);return t&&isWalletConnectSession(t)&&(e=t),e}setSession(e){return setLocal(this.storageId,e),e}removeSession(){removeLocal(this.storageId)}}const domain="walletconnect.org",alphanumerical="abcdefghijklmnopqrstuvwxyz0123456789",bridges=alphanumerical.split("").map((e=>`https://${e}.bridge.walletconnect.org`));function extractHostname(e){let t=e.indexOf("//")>-1?e.split("/")[2]:e.split("/")[0];return t=t.split(":")[0],t=t.split("?")[0],t}function extractRootDomain(e){return extractHostname(e).split(".").slice(-2).join(".")}function randomBridgeIndex(){return Math.floor(Math.random()*bridges.length)}function selectRandomBridgeUrl(){return bridges[randomBridgeIndex()]}function shouldSelectRandomly(e){return extractRootDomain(e)===domain}function getBridgeUrl(e){return shouldSelectRandomly(e)?selectRandomBridgeUrl():e}class Connector{constructor(e){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new EventManager,this._clientMeta=getClientMeta()||e.connectorOpts.clientMeta||null,this._cryptoLib=e.cryptoLib,this._sessionStorage=e.sessionStorage||new SessionStorage(e.connectorOpts.storageId),this._qrcodeModal=e.connectorOpts.qrcodeModal,this._qrcodeModalOptions=e.connectorOpts.qrcodeModalOptions,this._signingMethods=[...signingMethods,...e.connectorOpts.signingMethods||[]],!e.connectorOpts.bridge&&!e.connectorOpts.uri&&!e.connectorOpts.session)throw new Error(ERROR_MISSING_REQUIRED);e.connectorOpts.bridge&&(this.bridge=getBridgeUrl(e.connectorOpts.bridge)),e.connectorOpts.uri&&(this.uri=e.connectorOpts.uri);const t=e.connectorOpts.session||this._getStorageSession();t&&(this.session=t),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=e.transport||new SocketTransport({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),e.connectorOpts.uri&&this._subscribeToSessionRequest(),e.pushServerOpts&&this._registerPushServer(e.pushServerOpts)}set bridge(e){e&&(this._bridge=e)}get bridge(){return this._bridge}set key(e){if(!e)return;const t=convertHexToArrayBuffer(e);this._key=t}get key(){if(this._key){return convertArrayBufferToHex(this._key,!0)}return""}set clientId(e){e&&(this._clientId=e)}get clientId(){let e=this._clientId;return e||(e=this._clientId=uuid()),this._clientId}set peerId(e){e&&(this._peerId=e)}get peerId(){return this._peerId}set clientMeta(e){}get clientMeta(){let e=this._clientMeta;return e||(e=this._clientMeta=getClientMeta()),e}set peerMeta(e){this._peerMeta=e}get peerMeta(){return this._peerMeta}set handshakeTopic(e){e&&(this._handshakeTopic=e)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(e){e&&(this._handshakeId=e)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(e){if(!e)return;const{handshakeTopic:t,bridge:r,key:n}=this._parseUri(e);this.handshakeTopic=t,this.bridge=r,this.key=n}set chainId(e){this._chainId=e}get chainId(){return this._chainId}set networkId(e){this._networkId=e}get networkId(){return this._networkId}set accounts(e){this._accounts=e}get accounts(){return this._accounts}set rpcUrl(e){this._rpcUrl=e}get rpcUrl(){return this._rpcUrl}set connected(e){}get connected(){return this._connected}set pending(e){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(e){e&&(this._connected=e.connected,this.accounts=e.accounts,this.chainId=e.chainId,this.bridge=e.bridge,this.key=e.key,this.clientId=e.clientId,this.clientMeta=e.clientMeta,this.peerId=e.peerId,this.peerMeta=e.peerMeta,this.handshakeId=e.handshakeId,this.handshakeTopic=e.handshakeTopic)}on(e,t){const r={event:e,callback:t};this._eventManager.subscribe(r)}off(e){this._eventManager.unsubscribe(e)}async createInstantRequest(e){this._key=await this._generateKey();const t=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(e)}]});this.handshakeId=t.id,this.handshakeTopic=uuid(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",(()=>{throw new Error(ERROR_QRCODE_MODAL_USER_CLOSED)}));const r=()=>{this.killSession()};try{const e=await this._sendCallRequest(t);return e&&r(),e}catch(error){throw r(),error}}async connect(e){if(!this._qrcodeModal)throw new Error(ERROR_QRCODE_MODAL_NOT_PROVIDED);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(e),new Promise((async(e,t)=>{this.on("modal_closed",(()=>t(new Error(ERROR_QRCODE_MODAL_USER_CLOSED)))),this.on("connect",((r,n)=>{if(r)return t(r);e(n.params[0])}))})))}async createSession(e){if(this._connected)throw new Error(ERROR_SESSION_CONNECTED);if(this.pending)return;this._key=await this._generateKey();const t=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:e&&e.chainId?e.chainId:null}]});this.handshakeId=t.id,this.handshakeTopic=uuid(),this._sendSessionRequest(t,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(e){if(this._connected)throw new Error(ERROR_SESSION_CONNECTED);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const t={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},r={id:this.handshakeId,jsonrpc:"2.0",result:t};this._sendResponse(r),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(e){if(this._connected)throw new Error(ERROR_SESSION_CONNECTED);const t=e&&e.message?e.message:ERROR_SESSION_REJECTED,r=this._formatResponse({id:this.handshakeId,error:{message:t}});this._sendResponse(r),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:t}]}),this._removeStorageSession()}updateSession(e){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const t={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},r=this._formatRequest({method:"wc_sessionUpdate",params:[t]});this._sendSessionRequest(r,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(e){const t=e?e.message:"Session Disconnected",r=this._formatRequest({method:"wc_sessionUpdate",params:[{approved:!1,chainId:null,networkId:null,accounts:null}]});await this._sendRequest(r),this._handleSessionDisconnect(t)}async sendTransaction(e){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const t=parseTransactionData(e),r=this._formatRequest({method:"eth_sendTransaction",params:[t]});return await this._sendCallRequest(r)}async signTransaction(e){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const t=parseTransactionData(e),r=this._formatRequest({method:"eth_signTransaction",params:[t]});return await this._sendCallRequest(r)}async signMessage(e){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const t=this._formatRequest({method:"eth_sign",params:e});return await this._sendCallRequest(t)}async signPersonalMessage(e){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);e=parsePersonalSign(e);const t=this._formatRequest({method:"personal_sign",params:e});return await this._sendCallRequest(t)}async signTypedData(e){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const t=this._formatRequest({method:"eth_signTypedData",params:e});return await this._sendCallRequest(t)}async updateChain(e){if(!this._connected)throw new Error("Session currently disconnected");const t=this._formatRequest({method:"wallet_updateChain",params:[e]});return await this._sendCallRequest(t)}unsafeSend(e,t){return this._sendRequest(e,t),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:t}]}),new Promise(((t,r)=>{this._subscribeToResponse(e.id,((e,n)=>{if(e)r(e);else{if(!n)throw new Error(ERROR_MISSING_JSON_RPC);t(n)}}))}))}async sendCustomRequest(e,t){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);switch(e.method){case"eth_accounts":return this.accounts;case"eth_chainId":return convertNumberToHex(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":e.params&&(e.params[0]=parseTransactionData(e.params[0]));break;case"personal_sign":e.params&&(e.params=parsePersonalSign(e.params))}const r=this._formatRequest(e);return await this._sendCallRequest(r,t)}approveRequest(e){if(!isJsonRpcResponseSuccess(e))throw new Error(ERROR_MISSING_RESULT);{const t=this._formatResponse(e);this._sendResponse(t)}}rejectRequest(e){if(!isJsonRpcResponseError(e))throw new Error(ERROR_MISSING_ERROR);{const t=this._formatResponse(e);this._sendResponse(t)}}transportClose(){this._transport.close()}async _sendRequest(e,t){const r=this._formatRequest(e),n=await this._encrypt(r),i=void 0!==(null==t?void 0:t.topic)?t.topic:this.peerId,o=JSON.stringify(n),s=void 0!==(null==t?void 0:t.forcePushNotification)?!t.forcePushNotification:isSilentPayload(r);this._transport.send(o,i,s)}async _sendResponse(e){const t=await this._encrypt(e),r=this.peerId,n=JSON.stringify(t);this._transport.send(n,r,!0)}async _sendSessionRequest(e,t,r){this._sendRequest(e,r),this._subscribeToSessionResponse(e.id,t)}_sendCallRequest(e,t){return this._sendRequest(e,t),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:t}]}),this._subscribeToCallResponse(e.id)}_formatRequest(e){if(void 0===e.method)throw new Error(ERROR_MISSING_METHOD);return{id:void 0===e.id?payloadId():e.id,jsonrpc:"2.0",method:e.method,params:void 0===e.params?[]:e.params}}_formatResponse(e){if(void 0===e.id)throw new Error(ERROR_MISSING_ID);const t={id:e.id,jsonrpc:"2.0"};if(isJsonRpcResponseError(e)){const r=formatRpcError(e.error);return Object.assign(Object.assign(Object.assign({},t),e),{error:r})}if(isJsonRpcResponseSuccess(e)){return Object.assign(Object.assign({},t),e)}throw new Error(ERROR_INVALID_RESPONSE)}_handleSessionDisconnect(e){const t=e||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),removeLocal(mobileLinkChoiceKey)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:t}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(e,t){t&&t.approved?(this._connected?(t.chainId&&(this.chainId=t.chainId),t.accounts&&(this.accounts=t.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,t.chainId&&(this.chainId=t.chainId),t.accounts&&(this.accounts=t.accounts),t.peerId&&!this.peerId&&(this.peerId=t.peerId),t.peerMeta&&!this.peerMeta&&(this.peerMeta=t.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(e)}async _handleIncomingMessages(e){if(![this.clientId,this.handshakeTopic].includes(e.topic))return;let t;try{t=JSON.parse(e.payload)}catch(error){return}const r=await this._decrypt(t);r&&this._eventManager.trigger(r)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(e,t){this.on(`response:${e}`,t)}_subscribeToSessionResponse(e,t){this._subscribeToResponse(e,((e,r)=>{e?this._handleSessionResponse(e.message):r.result?this._handleSessionResponse(t,r.result):r.error&&r.error.message?this._handleSessionResponse(r.error.message):this._handleSessionResponse(t)}))}_subscribeToCallResponse(e){return new Promise(((t,r)=>{this._subscribeToResponse(e,((e,n)=>{e?r(e):n.result?t(n.result):n.error&&n.error.message?r(new Error(n.error.message)):r(new Error(ERROR_INVALID_RESPONSE))}))}))}_subscribeToInternalEvents(){this.on("display_uri",(()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,(()=>{this._eventManager.trigger({event:"modal_closed",params:[]})}),this._qrcodeModalOptions)})),this.on("connect",(()=>{this._qrcodeModal&&this._qrcodeModal.close()})),this.on("call_request_sent",((e,t)=>{const{request:r}=t.params[0];if(isMobile()&&this._signingMethods.includes(r.method)){const e=getLocal(mobileLinkChoiceKey);e&&(window.location.href=e.href)}})),this.on("wc_sessionRequest",((e,t)=>{e&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:e.toString()}]}),this.handshakeId=t.id,this.peerId=t.params[0].peerId,this.peerMeta=t.params[0].peerMeta;const r=Object.assign(Object.assign({},t),{method:"session_request"});this._eventManager.trigger(r)})),this.on("wc_sessionUpdate",((e,t)=>{e&&this._handleSessionResponse(e.message),this._handleSessionResponse("Session disconnected",t.params[0])}))}_initTransport(){this._transport.on("message",(e=>this._handleIncomingMessages(e))),this._transport.on("open",(()=>this._eventManager.trigger({event:"transport_open",params:[]}))),this._transport.on("close",(()=>this._eventManager.trigger({event:"transport_close",params:[]}))),this._transport.on("error",(()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]}))),this._transport.open()}_formatUri(){return`${this.protocol}:${this.handshakeTopic}@${this.version}?bridge=${encodeURIComponent(this.bridge)}&key=${this.key}`}_parseUri(e){const t=parseWalletConnectUri(e);if(t.protocol===this.protocol){if(!t.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const e=t.handshakeTopic;if(!t.bridge)throw Error("Invalid or missing bridge url parameter value");const r=decodeURIComponent(t.bridge);if(!t.key)throw Error("Invalid or missing key parameter value");return{handshakeTopic:e,bridge:r,key:t.key}}throw new Error(ERROR_INVALID_URI)}async _generateKey(){if(this._cryptoLib){return await this._cryptoLib.generateKey()}return null}async _encrypt(e){const t=this._key;if(this._cryptoLib&&t){return await this._cryptoLib.encrypt(e,t)}return null}async _decrypt(e){const t=this._key;if(this._cryptoLib&&t){return await this._cryptoLib.decrypt(e,t)}return null}_getStorageSession(){let e=null;return this._sessionStorage&&(e=this._sessionStorage.getSession()),e}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(e){if(!e.url||"string"!=typeof e.url)throw Error("Invalid or missing pushServerOpts.url parameter value");if(!e.type||"string"!=typeof e.type)throw Error("Invalid or missing pushServerOpts.type parameter value");if(!e.token||"string"!=typeof e.token)throw Error("Invalid or missing pushServerOpts.token parameter value");const t={bridge:this.bridge,topic:this.clientId,type:e.type,token:e.token,peerName:"",language:e.language||""};this.on("connect",(async(r,n)=>{if(r)throw r;if(e.peerMeta){const e=n.params[0].peerMeta.name;t.peerName=e}try{const r=await fetch(`${e.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});if(!(await r.json()).success)throw Error("Failed to register in Push Server")}catch(r){throw Error("Failed to register in Push Server")}}))}}function randomBytes(e){return cjs$1.getBrowerCrypto().getRandomValues(new Uint8Array(e))}const LENGTH_256=256,AES_LENGTH=LENGTH_256,HMAC_LENGTH=LENGTH_256,AES_BROWSER_ALGO="AES-CBC",HMAC_BROWSER_ALGO=`SHA-${AES_LENGTH}`,HMAC_BROWSER="HMAC",ENCRYPT_OP="encrypt",DECRYPT_OP="decrypt",SIGN_OP="sign",VERIFY_OP="verify";function getAlgo(e){return e===AES_BROWSER_ALGO?{length:AES_LENGTH,name:AES_BROWSER_ALGO}:{hash:{name:HMAC_BROWSER_ALGO},name:HMAC_BROWSER}}function getOps(e){return e===AES_BROWSER_ALGO?[ENCRYPT_OP,DECRYPT_OP]:[SIGN_OP,VERIFY_OP]}async function browserImportKey(e,t=AES_BROWSER_ALGO){return cjs$1.getSubtleCrypto().importKey("raw",e,getAlgo(t),!0,getOps(t))}async function browserAesEncrypt(e,t,r){const n=cjs$1.getSubtleCrypto(),i=await browserImportKey(t,AES_BROWSER_ALGO),o=await n.encrypt({iv:e,name:AES_BROWSER_ALGO},i,r);return new Uint8Array(o)}async function browserAesDecrypt(e,t,r){const n=cjs$1.getSubtleCrypto(),i=await browserImportKey(t,AES_BROWSER_ALGO),o=await n.decrypt({iv:e,name:AES_BROWSER_ALGO},i,r);return new Uint8Array(o)}async function browserHmacSha256Sign(e,t){const r=cjs$1.getSubtleCrypto(),n=await browserImportKey(e,HMAC_BROWSER),i=await r.sign({length:HMAC_LENGTH,name:HMAC_BROWSER},n,t);return new Uint8Array(i)}function aesCbcEncrypt(e,t,r){return browserAesEncrypt(e,t,r)}function aesCbcDecrypt(e,t,r){return browserAesDecrypt(e,t,r)}async function hmacSha256Sign(e,t){return await browserHmacSha256Sign(e,t)}async function generateKey(e){return convertBufferToArrayBuffer(arrayToBuffer(randomBytes((e||256)/8)))}async function verifyHmac(e,t){const r=hexToArray(e.data),n=hexToArray(e.iv),i=arrayToHex(hexToArray(e.hmac),!1),o=concatArrays(r,n),s=arrayToHex(await hmacSha256Sign(t,o),!1);return removeHexPrefix(i)===removeHexPrefix(s)}async function encrypt$1(e,t,r){const n=bufferToArray(convertArrayBufferToBuffer(t)),i=bufferToArray(convertArrayBufferToBuffer(r||await generateKey(128))),o=arrayToHex(i,!1),s=utf8ToArray(JSON.stringify(e)),a=await aesCbcEncrypt(i,n,s),u=arrayToHex(a,!1),l=concatArrays(a,i);return{data:u,hmac:arrayToHex(await hmacSha256Sign(n,l),!1),iv:o}}async function decrypt$1(e,t){const r=bufferToArray(convertArrayBufferToBuffer(t));if(!r)throw new Error("Missing key: required for decryption");if(!(await verifyHmac(e,r)))return null;const n=hexToArray(e.data),i=hexToArray(e.iv),o=arrayToUtf8(await aesCbcDecrypt(i,r,n));let s;try{s=JSON.parse(o)}catch(error){return null}return s}var cryptoLib=Object.freeze(Object.defineProperty({__proto__:null,generateKey:generateKey,verifyHmac:verifyHmac,encrypt:encrypt$1,decrypt:decrypt$1},Symbol.toStringTag,{value:"Module"}));class WalletConnect extends Connector{constructor(e,t){super({cryptoLib:cryptoLib,connectorOpts:e,pushServerOpts:t})}}var require$$0$1=getAugmentedNamespace(esm),browser={},canPromise$1=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then},qrcode={},typedarrayBuffer={},toString={}.toString,isarray=Array.isArray||function(e){return"[object Array]"==toString.call(e)},isArray$3=isarray;function typedArraySupport(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(e){return!1}}Buffer$1.TYPED_ARRAY_SUPPORT=typedArraySupport();var K_MAX_LENGTH=Buffer$1.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function Buffer$1(e,t,r){return Buffer$1.TYPED_ARRAY_SUPPORT||this instanceof Buffer$1?"number"==typeof e?allocUnsafe(this,e):from$1(this,e,t,r):new Buffer$1(e,t,r)}function checked(e){if(e>=K_MAX_LENGTH)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K_MAX_LENGTH.toString(16)+" bytes");return 0|e}function isnan(e){return e!=e}function createBuffer(e,t){var r;return Buffer$1.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(t)).__proto__=Buffer$1.prototype:(null===(r=e)&&(r=new Buffer$1(t)),r.length=t),r}function allocUnsafe(e,t){var r=createBuffer(e,t<0?0:0|checked(t));if(!Buffer$1.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)r[n]=0;return r}function fromString(e,t){var r=0|byteLength(t),n=createBuffer(e,r),i=n.write(t);return i!==r&&(n=n.slice(0,i)),n}function fromArrayLike(e,t){for(var r=t.length<0?0:0|checked(t.length),n=createBuffer(e,r),i=0;i<r;i+=1)n[i]=255&t[i];return n}function fromArrayBuffer(e,t,r,n){if(r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");var i;return i=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),Buffer$1.TYPED_ARRAY_SUPPORT?i.__proto__=Buffer$1.prototype:i=fromArrayLike(e,i),i}function fromObject(e,t){if(Buffer$1.isBuffer(t)){var r=0|checked(t.length),n=createBuffer(e,r);return 0===n.length||t.copy(n,0,0,r),n}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||isnan(t.length)?createBuffer(e,0):fromArrayLike(e,t);if("Buffer"===t.type&&Array.isArray(t.data))return fromArrayLike(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function utf8ToBytes(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function byteLength(e){return Buffer$1.isBuffer(e)?e.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)?e.byteLength:("string"!=typeof e&&(e=""+e),0===e.length?0:utf8ToBytes(e).length)}function blitBuffer(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function utf8Write(e,t,r,n){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,n)}function from$1(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?fromArrayBuffer(e,t,r,n):"string"==typeof t?fromString(e,t):fromObject(e,t)}Buffer$1.TYPED_ARRAY_SUPPORT&&(Buffer$1.prototype.__proto__=Uint8Array.prototype,Buffer$1.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer$1[Symbol.species]===Buffer$1&&Object.defineProperty(Buffer$1,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),Buffer$1.prototype.write=function(e,t,r){void 0===t||void 0===r&&"string"==typeof t?(r=this.length,t=0):isFinite(t)&&(t|=0,isFinite(r)?r|=0:r=void 0);var n=this.length-t;if((void 0===r||r>n)&&(r=n),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");return utf8Write(this,e,t,r)},Buffer$1.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),Buffer$1.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=Buffer$1.prototype;else{var i=t-e;r=new Buffer$1(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},Buffer$1.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!Buffer$1.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},Buffer$1.prototype.fill=function(e,t,r){if("string"==typeof e){if("string"==typeof t?(t=0,r=this.length):"string"==typeof r&&(r=this.length),1===e.length){var n=e.charCodeAt(0);n<256&&(e=n)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=Buffer$1.isBuffer(e)?e:new Buffer$1(e),s=o.length;for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this},Buffer$1.concat=function(e,t){if(!isArray$3(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return createBuffer(null,0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=allocUnsafe(null,t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!Buffer$1.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},Buffer$1.byteLength=byteLength,Buffer$1.prototype._isBuffer=!0,Buffer$1.isBuffer=function(e){return!(null==e||!e._isBuffer)},typedarrayBuffer.alloc=function(e){var t=new Buffer$1(e);return t.fill(0),t},typedarrayBuffer.from=function(e){return new Buffer$1(e)};var utils$2={},toSJISFunction,CODEWORDS_COUNT=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];utils$2.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},utils$2.getSymbolTotalCodewords=function(e){return CODEWORDS_COUNT[e]},utils$2.getBCHDigit=function(e){for(var t=0;0!==e;)t++,e>>>=1;return t},utils$2.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');toSJISFunction=e},utils$2.isKanjiModeEnabled=function(){return void 0!==toSJISFunction},utils$2.toSJIS=function(e){return toSJISFunction(e)};var errorCorrectionLevel={};function BitBuffer$1(){this.buffer=[],this.length=0}!function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},t.from=function(r,n){if(t.isValid(r))return r;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}(r)}catch(e){return n}}}(errorCorrectionLevel),BitBuffer$1.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var bitBuffer=BitBuffer$1,BufferUtil$4=typedarrayBuffer;function BitMatrix$1(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=BufferUtil$4.alloc(e*e),this.reservedBit=BufferUtil$4.alloc(e*e)}BitMatrix$1.prototype.set=function(e,t,r,n){var i=e*this.size+t;this.data[i]=r,n&&(this.reservedBit[i]=!0)},BitMatrix$1.prototype.get=function(e,t){return this.data[e*this.size+t]},BitMatrix$1.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},BitMatrix$1.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var bitMatrix=BitMatrix$1,alignmentPattern={};!function(e){var t=utils$2.getSymbolSize;e.getRowColCoords=function(e){if(1===e)return[];for(var r=Math.floor(e/7)+2,n=t(e),i=145===n?26:2*Math.ceil((n-13)/(2*r-2)),o=[n-7],s=1;s<r-1;s++)o[s]=o[s-1]-i;return o.push(6),o.reverse()},e.getPositions=function(t){for(var r=[],n=e.getRowColCoords(t),i=n.length,o=0;o<i;o++)for(var s=0;s<i;s++)0===o&&0===s||0===o&&s===i-1||o===i-1&&0===s||r.push([n[o],n[s]]);return r}}(alignmentPattern);var finderPattern={},getSymbolSize=utils$2.getSymbolSize,FINDER_PATTERN_SIZE=7;finderPattern.getPositions=function(e){var t=getSymbolSize(e);return[[0,0],[t-FINDER_PATTERN_SIZE,0],[0,t-FINDER_PATTERN_SIZE]]};var maskPattern={};!function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var t=3,r=3,n=40,i=10;function o(t,r,n){switch(t){case e.Patterns.PATTERN000:return(r+n)%2==0;case e.Patterns.PATTERN001:return r%2==0;case e.Patterns.PATTERN010:return n%3==0;case e.Patterns.PATTERN011:return(r+n)%3==0;case e.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(n/3))%2==0;case e.Patterns.PATTERN101:return r*n%2+r*n%3==0;case e.Patterns.PATTERN110:return(r*n%2+r*n%3)%2==0;case e.Patterns.PATTERN111:return(r*n%3+(r+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(e){for(var r=e.size,n=0,i=0,o=0,s=null,a=null,u=0;u<r;u++){i=o=0,s=a=null;for(var l=0;l<r;l++){var c=e.get(u,l);c===s?i++:(i>=5&&(n+=t+(i-5)),s=c,i=1),(c=e.get(l,u))===a?o++:(o>=5&&(n+=t+(o-5)),a=c,o=1)}i>=5&&(n+=t+(i-5)),o>=5&&(n+=t+(o-5))}return n},e.getPenaltyN2=function(e){for(var t=e.size,n=0,i=0;i<t-1;i++)for(var o=0;o<t-1;o++){var s=e.get(i,o)+e.get(i,o+1)+e.get(i+1,o)+e.get(i+1,o+1);4!==s&&0!==s||n++}return n*r},e.getPenaltyN3=function(e){for(var t=e.size,r=0,i=0,o=0,s=0;s<t;s++){i=o=0;for(var a=0;a<t;a++)i=i<<1&2047|e.get(s,a),a>=10&&(1488===i||93===i)&&r++,o=o<<1&2047|e.get(a,s),a>=10&&(1488===o||93===o)&&r++}return r*n},e.getPenaltyN4=function(e){for(var t=0,r=e.data.length,n=0;n<r;n++)t+=e.data[n];return Math.abs(Math.ceil(100*t/r/5)-10)*i},e.applyMask=function(e,t){for(var r=t.size,n=0;n<r;n++)for(var i=0;i<r;i++)t.isReserved(i,n)||t.xor(i,n,o(e,i,n))},e.getBestMask=function(t,r){for(var n=Object.keys(e.Patterns).length,i=0,o=1/0,s=0;s<n;s++){r(s),e.applyMask(s,t);var a=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(s,t),a<o&&(o=a,i=s)}return i}}(maskPattern);var errorCorrectionCode={},ECLevel$1=errorCorrectionLevel,EC_BLOCKS_TABLE=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],EC_CODEWORDS_TABLE=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];errorCorrectionCode.getBlocksCount=function(e,t){switch(t){case ECLevel$1.L:return EC_BLOCKS_TABLE[4*(e-1)+0];case ECLevel$1.M:return EC_BLOCKS_TABLE[4*(e-1)+1];case ECLevel$1.Q:return EC_BLOCKS_TABLE[4*(e-1)+2];case ECLevel$1.H:return EC_BLOCKS_TABLE[4*(e-1)+3];default:return}},errorCorrectionCode.getTotalCodewordsCount=function(e,t){switch(t){case ECLevel$1.L:return EC_CODEWORDS_TABLE[4*(e-1)+0];case ECLevel$1.M:return EC_CODEWORDS_TABLE[4*(e-1)+1];case ECLevel$1.Q:return EC_CODEWORDS_TABLE[4*(e-1)+2];case ECLevel$1.H:return EC_CODEWORDS_TABLE[4*(e-1)+3];default:return}};var polynomial={},galoisField={},BufferUtil$3=typedarrayBuffer,EXP_TABLE=BufferUtil$3.alloc(512),LOG_TABLE=BufferUtil$3.alloc(256);!function(){for(var e=1,t=0;t<255;t++)EXP_TABLE[t]=e,LOG_TABLE[e]=t,256&(e<<=1)&&(e^=285);for(t=255;t<512;t++)EXP_TABLE[t]=EXP_TABLE[t-255]}(),galoisField.log=function(e){if(e<1)throw new Error("log("+e+")");return LOG_TABLE[e]},galoisField.exp=function(e){return EXP_TABLE[e]},galoisField.mul=function(e,t){return 0===e||0===t?0:EXP_TABLE[LOG_TABLE[e]+LOG_TABLE[t]]},function(e){var t=typedarrayBuffer,r=galoisField;e.mul=function(e,n){for(var i=t.alloc(e.length+n.length-1),o=0;o<e.length;o++)for(var s=0;s<n.length;s++)i[o+s]^=r.mul(e[o],n[s]);return i},e.mod=function(e,n){for(var i=t.from(e);i.length-n.length>=0;){for(var o=i[0],s=0;s<n.length;s++)i[s]^=r.mul(n[s],o);for(var a=0;a<i.length&&0===i[a];)a++;i=i.slice(a)}return i},e.generateECPolynomial=function(n){for(var i=t.from([1]),o=0;o<n;o++)i=e.mul(i,[1,r.exp(o)]);return i}}(polynomial);var buffer$1={};
/*!
			 * The buffer module from node.js, for the browser.
			 *
			 * @author   Feross Aboukhadijeh <https://feross.org>
			 * @license  MIT
			 */!function(t){var r=base64Js,n=ieee754,i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=function(e){+e!=e&&(e=0);return a.alloc(+e)},t.INSPECT_MAX_BYTES=50;var o=2147483647;function s(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|p(e,t),n=s(r),i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(F(e,Uint8Array)){var t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(F(e,ArrayBuffer)||e&&F(e.buffer,ArrayBuffer))return h(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(F(e,SharedArrayBuffer)||e&&F(e.buffer,SharedArrayBuffer)))return h(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return a.from(n,t,r);var i=function(e){if(a.isBuffer(e)){var t=0|d(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||j(e.length)?s(0):f(e);if("Buffer"===e.type&&Array.isArray(e.data))return f(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return l(e),s(e<0?0:0|d(e))}function f(e){for(var t=e.length<0?0:0|d(e.length),r=s(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,a.prototype),n}function d(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function p(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||F(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return L(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return D(e).length;default:if(i)return n?-1:L(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return N(this,t,r);case"latin1":case"binary":return x(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),j(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){var o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var c=-1;for(o=r;o<a;o++)if(l(e,o)===l(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(l(e,o+h)!==l(t,h)){f=!1;break}if(f)return o}return-1}function v(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(j(a))return s;e[r+s]=a}return s}function _(e,t,r,n){return U(L(t,e.length-r),e,r,n)}function $(e,t,r,n){return U(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return U(D(t),e,r,n)}function E(e,t,r,n){return U(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function A(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,u,l=e[i],c=null,f=l>239?4:l>223?3:l>191?2:1;if(i+f<=r)switch(f){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&l)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(c=u)}null===c?(c=65533,f=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=f}return function(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=R));return r}(n)}t.kMaxLength=o,a.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),r={foo:function(){return 42}};return Object.setPrototypeOf(r,Uint8Array.prototype),Object.setPrototypeOf(t,r),42===t.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}(e,t,r)},a.allocUnsafe=function(e){return c(e)},a.allocUnsafeSlow=function(e){return c(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(F(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),F(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(F(o,Uint8Array))i+o.length>n.length?a.from(o).copy(n,i):Uint8Array.prototype.set.call(n,o,i);else{if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i)}i+=o.length}return n},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):g.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},i&&(a.prototype[i]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,i){if(F(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),u=Math.min(o,s),l=this.slice(n,i),c=e.slice(t,r),f=0;f<u;++f)if(l[f]!==c[f]){o=l[f],s=c[f];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":case"latin1":case"binary":return $(this,e,t,r);case"base64":return w(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function N(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function x(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function k(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=H[e[o]];return i}function C(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function T(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,r,n,i,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function P(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function I(e,t,r,i,o){return t=+t,r>>>=0,o||P(e,0,r,4),n.write(e,t,r,i,23,4),r+4}function O(e,t,r,i,o){return t=+t,r>>>=0,o||P(e,0,r,8),n.write(e,t,r,i,52,8),r+8}a.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||T(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||T(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||T(e,4,this.length),n.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||T(e,4,this.length),n.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||T(e,8,this.length),n.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||T(e,8,this.length),n.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||M(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||M(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);M(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);M(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,r){return I(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return I(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return O(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return O(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},a.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=a.isBuffer(e)?e:a.from(e,n),u=s.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=s[o%u]}return this};var B=/[^+/0-9A-Za-z-_]/g;function L(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function D(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function F(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function j(e){return e!=e}var H=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()}(buffer$1);var BufferUtil$2=typedarrayBuffer,Polynomial=polynomial,Buffer=buffer$1.Buffer;function ReedSolomonEncoder$1(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}ReedSolomonEncoder$1.prototype.initialize=function(e){this.degree=e,this.genPoly=Polynomial.generateECPolynomial(this.degree)},ReedSolomonEncoder$1.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t=BufferUtil$2.alloc(this.degree),r=Buffer.concat([e,t],e.length+this.degree),n=Polynomial.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){var o=BufferUtil$2.alloc(this.degree);return n.copy(o,i),o}return n};var reedSolomonEncoder=ReedSolomonEncoder$1,version$5={},mode={},versionCheck={isValid:function(e){return!isNaN(e)&&e>=1&&e<=40}},regex={},numeric="[0-9]+",alphanumeric="[A-Z $%*+\\-./:]+",kanji="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";kanji=kanji.replace(/u/g,"\\u");var byte="(?:(?![A-Z0-9 $%*+\\-./:]|"+kanji+")(?:.|[\r\n]))+";regex.KANJI=new RegExp(kanji,"g"),regex.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),regex.BYTE=new RegExp(byte,"g"),regex.NUMERIC=new RegExp(numeric,"g"),regex.ALPHANUMERIC=new RegExp(alphanumeric,"g");var TEST_KANJI=new RegExp("^"+kanji+"$"),TEST_NUMERIC=new RegExp("^"+numeric+"$"),TEST_ALPHANUMERIC=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");regex.testKanji=function(e){return TEST_KANJI.test(e)},regex.testNumeric=function(e){return TEST_NUMERIC.test(e)},regex.testAlphanumeric=function(e){return TEST_ALPHANUMERIC.test(e)},function(t){var r=versionCheck,n=regex;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!r.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return n.testNumeric(e)?t.NUMERIC:n.testAlphanumeric(e)?t.ALPHANUMERIC:n.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(r,n){if(t.isValid(r))return r;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(r)}catch(e){return n}}}(mode),function(e){var t=utils$2,r=errorCorrectionCode,n=errorCorrectionLevel,i=mode,o=versionCheck,s=isarray,a=t.getBCHDigit(7973);function u(e,t){return i.getCharCountIndicator(e,t)+4}function l(e,t){var r=0;return e.forEach((function(e){var n=u(e.mode,t);r+=n+e.getBitsLength()})),r}e.from=function(e,t){return o.isValid(e)?parseInt(e,10):t},e.getCapacity=function(e,n,s){if(!o.isValid(e))throw new Error("Invalid QR Code version");void 0===s&&(s=i.BYTE);var a=8*(t.getSymbolTotalCodewords(e)-r.getTotalCodewordsCount(e,n));if(s===i.MIXED)return a;var l=a-u(s,e);switch(s){case i.NUMERIC:return Math.floor(l/10*3);case i.ALPHANUMERIC:return Math.floor(l/11*2);case i.KANJI:return Math.floor(l/13);case i.BYTE:default:return Math.floor(l/8)}},e.getBestVersionForData=function(t,r){var o,a=n.from(r,n.M);if(s(t)){if(t.length>1)return function(t,r){for(var n=1;n<=40;n++)if(l(t,n)<=e.getCapacity(n,r,i.MIXED))return n}(t,a);if(0===t.length)return 1;o=t[0]}else o=t;return function(t,r,n){for(var i=1;i<=40;i++)if(r<=e.getCapacity(i,n,t))return i}(o.mode,o.getLength(),a)},e.getEncodedBits=function(e){if(!o.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var r=e<<12;t.getBCHDigit(r)-a>=0;)r^=7973<<t.getBCHDigit(r)-a;return e<<12|r}}(version$5);var formatInfo={},Utils$3=utils$2,G15=1335,G15_MASK=21522,G15_BCH=Utils$3.getBCHDigit(G15);formatInfo.getEncodedBits=function(e,t){for(var r=e.bit<<3|t,n=r<<10;Utils$3.getBCHDigit(n)-G15_BCH>=0;)n^=G15<<Utils$3.getBCHDigit(n)-G15_BCH;return(r<<10|n)^G15_MASK};var segments={},Mode$4=mode;function NumericData(e){this.mode=Mode$4.NUMERIC,this.data=e.toString()}NumericData.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},NumericData.prototype.getLength=function(){return this.data.length},NumericData.prototype.getBitsLength=function(){return NumericData.getBitsLength(this.data.length)},NumericData.prototype.write=function(e){var t,r,n;for(t=0;t+3<=this.data.length;t+=3)r=this.data.substr(t,3),n=parseInt(r,10),e.put(n,10);var i=this.data.length-t;i>0&&(r=this.data.substr(t),n=parseInt(r,10),e.put(n,3*i+1))};var numericData=NumericData,Mode$3=mode,ALPHA_NUM_CHARS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function AlphanumericData(e){this.mode=Mode$3.ALPHANUMERIC,this.data=e}AlphanumericData.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},AlphanumericData.prototype.getLength=function(){return this.data.length},AlphanumericData.prototype.getBitsLength=function(){return AlphanumericData.getBitsLength(this.data.length)},AlphanumericData.prototype.write=function(e){var t;for(t=0;t+2<=this.data.length;t+=2){var r=45*ALPHA_NUM_CHARS.indexOf(this.data[t]);r+=ALPHA_NUM_CHARS.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(ALPHA_NUM_CHARS.indexOf(this.data[t]),6)};var alphanumericData=AlphanumericData,BufferUtil$1=typedarrayBuffer,Mode$2=mode;function ByteData(e){this.mode=Mode$2.BYTE,this.data=BufferUtil$1.from(e)}ByteData.getBitsLength=function(e){return 8*e},ByteData.prototype.getLength=function(){return this.data.length},ByteData.prototype.getBitsLength=function(){return ByteData.getBitsLength(this.data.length)},ByteData.prototype.write=function(e){for(var t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var byteData=ByteData,Mode$1=mode,Utils$2=utils$2;function KanjiData(e){this.mode=Mode$1.KANJI,this.data=e}KanjiData.getBitsLength=function(e){return 13*e},KanjiData.prototype.getLength=function(){return this.data.length},KanjiData.prototype.getBitsLength=function(){return KanjiData.getBitsLength(this.data.length)},KanjiData.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var r=Utils$2.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else{if(!(r>=57408&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");r-=49472}r=192*(r>>>8&255)+(255&r),e.put(r,13)}};var kanjiData=KanjiData,dijkstra={exports:{}};!function(e){var t={single_source_shortest_paths:function(e,r,n){var i={},o={};o[r]=0;var s,a,u,l,c,f,h,d=t.PriorityQueue.make();for(d.push(r,0);!d.empty();)for(u in a=(s=d.pop()).value,l=s.cost,c=e[a]||{})c.hasOwnProperty(u)&&(f=l+c[u],h=o[u],(void 0===o[u]||h>f)&&(o[u]=f,d.push(u,f),i[u]=a));if(void 0!==n&&void 0===o[n]){var p=["Could not find a path from ",r," to ",n,"."].join("");throw new Error(p)}return i},extract_shortest_path_from_predecessor_list:function(e,t){for(var r=[],n=t;n;)r.push(n),n=e[n];return r.reverse(),r},find_path:function(e,r,n){var i=t.single_source_shortest_paths(e,r,n);return t.extract_shortest_path_from_predecessor_list(i,n)},PriorityQueue:{make:function(e){var r,n=t.PriorityQueue,i={};for(r in e=e||{},n)n.hasOwnProperty(r)&&(i[r]=n[r]);return i.queue=[],i.sorter=e.sorter||n.default_sorter,i},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var r={value:e,cost:t};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=t}(dijkstra),function(e){var t=mode,r=numericData,n=alphanumericData,i=byteData,o=kanjiData,s=regex,a=utils$2,u=dijkstra.exports;function l(e){return unescape(encodeURIComponent(e)).length}function c(e,t,r){for(var n,i=[];null!==(n=e.exec(r));)i.push({data:n[0],index:n.index,mode:t,length:n[0].length});return i}function f(e){var r,n,i=c(s.NUMERIC,t.NUMERIC,e),o=c(s.ALPHANUMERIC,t.ALPHANUMERIC,e);return a.isKanjiModeEnabled()?(r=c(s.BYTE,t.BYTE,e),n=c(s.KANJI,t.KANJI,e)):(r=c(s.BYTE_KANJI,t.BYTE,e),n=[]),i.concat(o,r,n).sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function h(e,s){switch(s){case t.NUMERIC:return r.getBitsLength(e);case t.ALPHANUMERIC:return n.getBitsLength(e);case t.KANJI:return o.getBitsLength(e);case t.BYTE:return i.getBitsLength(e)}}function d(e,s){var u,l=t.getBestModeForData(e);if((u=t.from(s,l))!==t.BYTE&&u.bit<l.bit)throw new Error('"'+e+'" cannot be encoded with mode '+t.toString(u)+".\n Suggested mode is: "+t.toString(l));switch(u!==t.KANJI||a.isKanjiModeEnabled()||(u=t.BYTE),u){case t.NUMERIC:return new r(e);case t.ALPHANUMERIC:return new n(e);case t.KANJI:return new o(e);case t.BYTE:return new i(e)}}e.fromArray=function(e){return e.reduce((function(e,t){return"string"==typeof t?e.push(d(t,null)):t.data&&e.push(d(t.data,t.mode)),e}),[])},e.fromString=function(r,n){for(var i=function(e){for(var r=[],n=0;n<e.length;n++){var i=e[n];switch(i.mode){case t.NUMERIC:r.push([i,{data:i.data,mode:t.ALPHANUMERIC,length:i.length},{data:i.data,mode:t.BYTE,length:i.length}]);break;case t.ALPHANUMERIC:r.push([i,{data:i.data,mode:t.BYTE,length:i.length}]);break;case t.KANJI:r.push([i,{data:i.data,mode:t.BYTE,length:l(i.data)}]);break;case t.BYTE:r.push([{data:i.data,mode:t.BYTE,length:l(i.data)}])}}return r}(f(r,a.isKanjiModeEnabled())),o=function(e,r){for(var n={},i={start:{}},o=["start"],s=0;s<e.length;s++){for(var a=e[s],u=[],l=0;l<a.length;l++){var c=a[l],f=""+s+l;u.push(f),n[f]={node:c,lastCount:0},i[f]={};for(var d=0;d<o.length;d++){var p=o[d];n[p]&&n[p].node.mode===c.mode?(i[p][f]=h(n[p].lastCount+c.length,c.mode)-h(n[p].lastCount,c.mode),n[p].lastCount+=c.length):(n[p]&&(n[p].lastCount=c.length),i[p][f]=h(c.length,c.mode)+4+t.getCharCountIndicator(c.mode,r))}}o=u}for(d=0;d<o.length;d++)i[o[d]].end=0;return{map:i,table:n}}(i,n),s=u.find_path(o.map,"start","end"),c=[],d=1;d<s.length-1;d++)c.push(o.table[s[d]].node);return e.fromArray(function(e){return e.reduce((function(e,t){var r=e.length-1>=0?e[e.length-1]:null;return r&&r.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)}),[])}(c))},e.rawSplit=function(t){return e.fromArray(f(t,a.isKanjiModeEnabled()))}}(segments);var BufferUtil=typedarrayBuffer,Utils$1=utils$2,ECLevel=errorCorrectionLevel,BitBuffer=bitBuffer,BitMatrix=bitMatrix,AlignmentPattern=alignmentPattern,FinderPattern=finderPattern,MaskPattern=maskPattern,ECCode=errorCorrectionCode,ReedSolomonEncoder=reedSolomonEncoder,Version=version$5,FormatInfo=formatInfo,Mode=mode,Segments=segments,isArray$2=isarray;function setupFinderPattern(e,t){for(var r=e.size,n=FinderPattern.getPositions(t),i=0;i<n.length;i++)for(var o=n[i][0],s=n[i][1],a=-1;a<=7;a++)if(!(o+a<=-1||r<=o+a))for(var u=-1;u<=7;u++)s+u<=-1||r<=s+u||(a>=0&&a<=6&&(0===u||6===u)||u>=0&&u<=6&&(0===a||6===a)||a>=2&&a<=4&&u>=2&&u<=4?e.set(o+a,s+u,!0,!0):e.set(o+a,s+u,!1,!0))}function setupTimingPattern(e){for(var t=e.size,r=8;r<t-8;r++){var n=r%2==0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function setupAlignmentPattern(e,t){for(var r=AlignmentPattern.getPositions(t),n=0;n<r.length;n++)for(var i=r[n][0],o=r[n][1],s=-2;s<=2;s++)for(var a=-2;a<=2;a++)-2===s||2===s||-2===a||2===a||0===s&&0===a?e.set(i+s,o+a,!0,!0):e.set(i+s,o+a,!1,!0)}function setupVersionInfo(e,t){for(var r,n,i,o=e.size,s=Version.getEncodedBits(t),a=0;a<18;a++)r=Math.floor(a/3),n=a%3+o-8-3,i=1==(s>>a&1),e.set(r,n,i,!0),e.set(n,r,i,!0)}function setupFormatInfo(e,t,r){var n,i,o=e.size,s=FormatInfo.getEncodedBits(t,r);for(n=0;n<15;n++)i=1==(s>>n&1),n<6?e.set(n,8,i,!0):n<8?e.set(n+1,8,i,!0):e.set(o-15+n,8,i,!0),n<8?e.set(8,o-n-1,i,!0):n<9?e.set(8,15-n-1+1,i,!0):e.set(8,15-n-1,i,!0);e.set(o-8,8,1,!0)}function setupData(e,t){for(var r=e.size,n=-1,i=r-1,o=7,s=0,a=r-1;a>0;a-=2)for(6===a&&a--;;){for(var u=0;u<2;u++)if(!e.isReserved(i,a-u)){var l=!1;s<t.length&&(l=1==(t[s]>>>o&1)),e.set(i,a-u,l),-1===--o&&(s++,o=7)}if((i+=n)<0||r<=i){i-=n,n=-n;break}}}function createData(e,t,r){var n=new BitBuffer;r.forEach((function(t){n.put(t.mode.bit,4),n.put(t.getLength(),Mode.getCharCountIndicator(t.mode,e)),t.write(n)}));var i=8*(Utils$1.getSymbolTotalCodewords(e)-ECCode.getTotalCodewordsCount(e,t));for(n.getLengthInBits()+4<=i&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(0);for(var o=(i-n.getLengthInBits())/8,s=0;s<o;s++)n.put(s%2?17:236,8);return createCodewords(n,e,t)}function createCodewords(e,t,r){for(var n=Utils$1.getSymbolTotalCodewords(t),i=n-ECCode.getTotalCodewordsCount(t,r),o=ECCode.getBlocksCount(t,r),s=o-n%o,a=Math.floor(n/o),u=Math.floor(i/o),l=u+1,c=a-u,f=new ReedSolomonEncoder(c),h=0,d=new Array(o),p=new Array(o),g=0,m=BufferUtil.from(e.buffer),y=0;y<o;y++){var b=y<s?u:l;d[y]=m.slice(h,h+b),p[y]=f.encode(d[y]),h+=b,g=Math.max(g,b)}var v,_,$=BufferUtil.alloc(n),w=0;for(v=0;v<g;v++)for(_=0;_<o;_++)v<d[_].length&&($[w++]=d[_][v]);for(v=0;v<c;v++)for(_=0;_<o;_++)$[w++]=p[_][v];return $}function createSymbol(e,t,r,n){var i;if(isArray$2(e))i=Segments.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");var o=t;if(!o){var s=Segments.rawSplit(e);o=Version.getBestVersionForData(s,r)}i=Segments.fromString(e,o||40)}var a=Version.getBestVersionForData(i,r);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<a)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+a+".\n")}else t=a;var u=createData(t,r,i),l=Utils$1.getSymbolSize(t),c=new BitMatrix(l);return setupFinderPattern(c,t),setupTimingPattern(c),setupAlignmentPattern(c,t),setupFormatInfo(c,r,0),t>=7&&setupVersionInfo(c,t),setupData(c,u),isNaN(n)&&(n=MaskPattern.getBestMask(c,setupFormatInfo.bind(null,c,r))),MaskPattern.applyMask(n,c),setupFormatInfo(c,r,n),{modules:c,version:t,errorCorrectionLevel:r,maskPattern:n,segments:i}}qrcode.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");var r,n,i=ECLevel.M;return void 0!==t&&(i=ECLevel.from(t.errorCorrectionLevel,ECLevel.M),r=Version.from(t.version),n=MaskPattern.from(t.maskPattern),t.toSJISFunc&&Utils$1.setToSJISFunction(t.toSJISFunc)),createSymbol(e,r,i,n)};var canvas={},utils$1={};!function(e){function t(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))),6===t.length&&t.push("F","F");var r=parseInt(t.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+t.slice(0,6).join("")}}e.getOptions=function(e){e||(e={}),e.color||(e.color={});var r=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:n,scale:n?4:i,margin:r,color:{dark:t(e.color.dark||"#000000ff"),light:t(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},e.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},e.getImageWidth=function(t,r){var n=e.getScale(t,r);return Math.floor((t+2*r.margin)*n)},e.qrToImageData=function(t,r,n){for(var i=r.modules.size,o=r.modules.data,s=e.getScale(i,n),a=Math.floor((i+2*n.margin)*s),u=n.margin*s,l=[n.color.light,n.color.dark],c=0;c<a;c++)for(var f=0;f<a;f++){var h=4*(c*a+f),d=n.color.light;if(c>=u&&f>=u&&c<a-u&&f<a-u)d=l[o[Math.floor((c-u)/s)*i+Math.floor((f-u)/s)]?1:0];t[h++]=d.r,t[h++]=d.g,t[h++]=d.b,t[h]=d.a}}}(utils$1),function(t){var r=utils$1;t.render=function(t,n,i){var o=i,s=n;void 0!==o||n&&n.getContext||(o=n,n=void 0),n||(s=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),o=r.getOptions(o);var a=r.getImageWidth(t.modules.size,o),u=s.getContext("2d"),l=u.createImageData(a,a);return r.qrToImageData(l.data,t,o),function(e,t,r){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=r,t.width=r,t.style.height=r+"px",t.style.width=r+"px"}(u,s,a),u.putImageData(l,0,0),s},t.renderToDataURL=function(e,r,n){var i=n;void 0!==i||r&&r.getContext||(i=r,r=void 0),i||(i={});var o=t.render(e,r,i),s=i.type||"image/png",a=i.rendererOpts||{};return o.toDataURL(s,a.quality)}}(canvas);var svgTag={},Utils=utils$1;function getColorAttrib(e,t){var r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function svgCmd(e,t,r){var n=e+t;return void 0!==r&&(n+=" "+r),n}function qrToPath(e,t,r){for(var n="",i=0,o=!1,s=0,a=0;a<e.length;a++){var u=Math.floor(a%t),l=Math.floor(a/t);u||o||(o=!0),e[a]?(s++,a>0&&u>0&&e[a-1]||(n+=o?svgCmd("M",u+r,.5+l+r):svgCmd("m",i,0),i=0,o=!1),u+1<t&&e[a+1]||(n+=svgCmd("h",s),s=0)):i++}return n}svgTag.render=function(e,t,r){var n=Utils.getOptions(t),i=e.modules.size,o=e.modules.data,s=i+2*n.margin,a=n.color.light.a?"<path "+getColorAttrib(n.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",u="<path "+getColorAttrib(n.color.dark,"stroke")+' d="'+qrToPath(o,i,n.margin)+'"/>',l='viewBox="0 0 '+s+" "+s+'"',c='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+l+' shape-rendering="crispEdges">'+a+u+"</svg>\n";return"function"==typeof r&&r(null,c),c};var canPromise=canPromise$1,QRCode$4=qrcode,CanvasRenderer=canvas,SvgRenderer=svgTag;function renderCanvas(t,r,n,i,o){var s=[].slice.call(arguments,1),a=s.length,u="function"==typeof s[a-1];if(!u&&!canPromise())throw new Error("Callback required as last argument");if(!u){if(a<1)throw new Error("Too few arguments provided");return 1===a?(n=r,r=i=void 0):2!==a||r.getContext||(i=n,n=r,r=void 0),new Promise((function(o,s){try{var a=QRCode$4.create(n,i);o(t(a,r,i))}catch(e){s(e)}}))}if(a<2)throw new Error("Too few arguments provided");2===a?(o=n,n=r,r=i=void 0):3===a&&(r.getContext&&void 0===o?(o=i,i=void 0):(o=i,i=n,n=r,r=void 0));try{var l=QRCode$4.create(n,i);o(null,t(l,r,i))}catch(e){o(e)}}browser.create=QRCode$4.create,browser.toCanvas=renderCanvas.bind(null,CanvasRenderer.render),browser.toDataURL=renderCanvas.bind(null,CanvasRenderer.renderToDataURL),browser.toString=renderCanvas.bind(null,(function(e,t,r){return SvgRenderer.render(e,r)}));var toggleSelection=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||r.forEach((function(t){e.addRange(t)})),t&&t.focus()}},deselectCurrent=toggleSelection,clipboardToIE11Formatting={"text/plain":"Text","text/html":"Url",default:"Text"},defaultMessage="Copy to clipboard: #{key}, Enter";function format$1(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function copy$1(e,t){var r,n,i,o,s,a,u=!1;t||(t={}),r=t.debug||!1;try{if(i=deselectCurrent(),o=document.createRange(),s=document.getSelection(),(a=document.createElement("span")).textContent=e,a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",(function(n){if(n.stopPropagation(),t.format)if(n.preventDefault(),void 0===n.clipboardData){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var i=clipboardToIE11Formatting[t.format]||clipboardToIE11Formatting.default;window.clipboardData.setData(i,e)}else n.clipboardData.clearData(),n.clipboardData.setData(t.format,e);t.onCopy&&(n.preventDefault(),t.onCopy(n.clipboardData))})),document.body.appendChild(a),o.selectNodeContents(a),s.addRange(o),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(l){r&&console.error("unable to copy using execCommand: ",l),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(l){r&&console.error("unable to copy using clipboardData: ",l),r&&console.error("falling back to prompt"),n=format$1("message"in t?t.message:defaultMessage),window.prompt(n,e)}}finally{s&&("function"==typeof s.removeRange?s.removeRange(o):s.removeAllRanges()),a&&document.body.removeChild(a),i()}return u}var copyToClipboard=copy$1,n$1,u$3,i$4,t$3,r$3,o$3,f$3,e$3={},c$3=[],s$3=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function a$3(e,t){for(var r in t)e[r]=t[r];return e}function v$3(e){var t=e.parentNode;t&&t.removeChild(e)}function h$3(e,t,r){var n,i=arguments,o={};for(n in t)"key"!==n&&"ref"!==n&&(o[n]=t[n]);if(arguments.length>3)for(r=[r],n=3;n<arguments.length;n++)r.push(i[n]);if(null!=r&&(o.children=r),"function"==typeof e&&null!=e.defaultProps)for(n in e.defaultProps)void 0===o[n]&&(o[n]=e.defaultProps[n]);return p$3(e,o,t&&t.key,t&&t.ref,null)}function p$3(e,t,r,n,i){var o={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i};return null==i&&(o.__v=o),n$1.vnode&&n$1.vnode(o),o}function y$3(){return{}}function d$3(e){return e.children}function m$3(e,t){this.props=e,this.context=t}function w$4(e,t){if(null==t)return e.__?w$4(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?w$4(e):null}function k$3(e){var t,r;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e){e.__e=e.__c.base=r.__e;break}return k$3(e)}}function g$3(e){(!e.__d&&(e.__d=!0)&&u$3.push(e)&&!i$4++||r$3!==n$1.debounceRendering)&&((r$3=n$1.debounceRendering)||t$3)(_$4)}function _$4(){for(var e;i$4=u$3.length;)e=u$3.sort((function(e,t){return e.__v.__b-t.__v.__b})),u$3=[],e.some((function(e){var t,r,n,i,o,s,a;e.__d&&(s=(o=(t=e).__v).__e,(a=t.__P)&&(r=[],(n=a$3({},o)).__v=n,i=A$4(a,o,n,t.__n,void 0!==a.ownerSVGElement,null,r,null==s?w$4(o):s),T$4(r,o),i!=s&&k$3(o)))}))}function b$2(e,t,r,n,i,o,s,a,u){var l,c,f,h,d,p,g,m=r&&r.__k||c$3,y=m.length;if(a==e$3&&(a=null!=o?o[0]:y?w$4(r,0):null),l=0,t.__k=x$4(t.__k,(function(r){if(null!=r){if(r.__=t,r.__b=t.__b+1,null===(f=m[l])||f&&r.key==f.key&&r.type===f.type)m[l]=void 0;else for(c=0;c<y;c++){if((f=m[c])&&r.key==f.key&&r.type===f.type){m[c]=void 0;break}f=null}if(h=A$4(e,r,f=f||e$3,n,i,o,s,a,u),(c=r.ref)&&f.ref!=c&&(g||(g=[]),f.ref&&g.push(f.ref,null,r),g.push(c,r.__c||h,r)),null!=h){var b;if(null==p&&(p=h),void 0!==r.__d)b=r.__d,r.__d=void 0;else if(o==f||h!=a||null==h.parentNode){e:if(null==a||a.parentNode!==e)e.appendChild(h),b=null;else{for(d=a,c=0;(d=d.nextSibling)&&c<y;c+=2)if(d==h)break e;e.insertBefore(h,a),b=a}"option"==t.type&&(e.value="")}a=void 0!==b?b:h.nextSibling,"function"==typeof t.type&&(t.__d=a)}else a&&f.__e==a&&a.parentNode!=e&&(a=w$4(f))}return l++,r})),t.__e=p,null!=o&&"function"!=typeof t.type)for(l=o.length;l--;)null!=o[l]&&v$3(o[l]);for(l=y;l--;)null!=m[l]&&D$2(m[l],m[l]);if(g)for(l=0;l<g.length;l++)j$3(g[l],g[++l],g[++l])}function x$4(e,t,r){if(null==r&&(r=[]),null==e||"boolean"==typeof e)t&&r.push(t(null));else if(Array.isArray(e))for(var n=0;n<e.length;n++)x$4(e[n],t,r);else r.push(t?t("string"==typeof e||"number"==typeof e?p$3(null,e,null,null,e):null!=e.__e||null!=e.__c?p$3(e.type,e.props,e.key,null,e.__v):e):e);return r}function P$2(e,t,r,n,i){var o;for(o in r)"children"===o||"key"===o||o in t||N$2(e,o,null,r[o],n);for(o in t)i&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||r[o]===t[o]||N$2(e,o,t[o],r[o],n)}function C$2(e,t,r){"-"===t[0]?e.setProperty(t,r):e[t]="number"==typeof r&&!1===s$3.test(t)?r+"px":null==r?"":r}function N$2(e,t,r,n,i){var o,s,a,u,l;if(i?"className"===t&&(t="class"):"class"===t&&(t="className"),"style"===t)if(o=e.style,"string"==typeof r)o.cssText=r;else{if("string"==typeof n&&(o.cssText="",n=null),n)for(u in n)r&&u in r||C$2(o,u,"");if(r)for(l in r)n&&r[l]===n[l]||C$2(o,l,r[l])}else"o"===t[0]&&"n"===t[1]?(s=t!==(t=t.replace(/Capture$/,"")),a=t.toLowerCase(),t=(a in e?a:t).slice(2),r?(n||e.addEventListener(t,z$3,s),(e.l||(e.l={}))[t]=r):e.removeEventListener(t,z$3,s)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!i&&t in e?e[t]=null==r?"":r:"function"!=typeof r&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==r||!1===r?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):null==r||!1===r&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,r))}function z$3(e){this.l[e.type](n$1.event?n$1.event(e):e)}function A$4(e,t,r,n,i,o,s,a,u){var l,c,f,h,d,p,g,m,y,b,v=t.type;if(void 0!==t.constructor)return null;(l=n$1.__b)&&l(t);try{e:if("function"==typeof v){if(m=t.props,y=(l=v.contextType)&&n[l.__c],b=l?y?y.props.value:l.__:n,r.__c?g=(c=t.__c=r.__c).__=c.__E:("prototype"in v&&v.prototype.render?t.__c=c=new v(m,b):(t.__c=c=new m$3(m,b),c.constructor=v,c.render=E$2),y&&y.sub(c),c.props=m,c.state||(c.state={}),c.context=b,c.__n=n,f=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=v.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=a$3({},c.__s)),a$3(c.__s,v.getDerivedStateFromProps(m,c.__s))),h=c.props,d=c.state,f)null==v.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==v.getDerivedStateFromProps&&m!==h&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(m,b),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(m,c.__s,b)||t.__v===r.__v&&!c.__){for(c.props=m,c.state=c.__s,t.__v!==r.__v&&(c.__d=!1),c.__v=t,t.__e=r.__e,t.__k=r.__k,c.__h.length&&s.push(c),l=0;l<t.__k.length;l++)t.__k[l]&&(t.__k[l].__=t);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(m,c.__s,b),null!=c.componentDidUpdate&&c.__h.push((function(){c.componentDidUpdate(h,d,p)}))}c.context=b,c.props=m,c.state=c.__s,(l=n$1.__r)&&l(t),c.__d=!1,c.__v=t,c.__P=e,l=c.render(c.props,c.state,c.context),t.__k=null!=l&&l.type==d$3&&null==l.key?l.props.children:Array.isArray(l)?l:[l],null!=c.getChildContext&&(n=a$3(a$3({},n),c.getChildContext())),f||null==c.getSnapshotBeforeUpdate||(p=c.getSnapshotBeforeUpdate(h,d)),b$2(e,t,r,n,i,o,s,a,u),c.base=t.__e,c.__h.length&&s.push(c),g&&(c.__E=c.__=null),c.__e=!1}else null==o&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=$$2(r.__e,t,r,n,i,o,s,u);(l=n$1.diffed)&&l(t)}catch(e){t.__v=null,n$1.__e(e,t,r)}return t.__e}function T$4(e,t){n$1.__c&&n$1.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){n$1.__e(e,t.__v)}}))}function $$2(e,t,r,n,i,o,s,a){var u,l,c,f,h,d=r.props,p=t.props;if(i="svg"===t.type||i,null!=o)for(u=0;u<o.length;u++)if(null!=(l=o[u])&&((null===t.type?3===l.nodeType:l.localName===t.type)||e==l)){e=l,o[u]=null;break}if(null==e){if(null===t.type)return document.createTextNode(p);e=i?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,p.is&&{is:p.is}),o=null,a=!1}if(null===t.type)d!==p&&e.data!=p&&(e.data=p);else{if(null!=o&&(o=c$3.slice.call(e.childNodes)),c=(d=r.props||e$3).dangerouslySetInnerHTML,f=p.dangerouslySetInnerHTML,!a){if(d===e$3)for(d={},h=0;h<e.attributes.length;h++)d[e.attributes[h].name]=e.attributes[h].value;(f||c)&&(f&&c&&f.__html==c.__html||(e.innerHTML=f&&f.__html||""))}P$2(e,p,d,i,a),f?t.__k=[]:(t.__k=t.props.children,b$2(e,t,r,n,"foreignObject"!==t.type&&i,o,s,e$3,a)),a||("value"in p&&void 0!==(u=p.value)&&u!==e.value&&N$2(e,"value",u,d.value,!1),"checked"in p&&void 0!==(u=p.checked)&&u!==e.checked&&N$2(e,"checked",u,d.checked,!1))}return e}function j$3(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){n$1.__e(e,r)}}function D$2(e,t,r){var n,i,o;if(n$1.unmount&&n$1.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||j$3(n,null,t)),r||"function"==typeof e.type||(r=null!=(i=e.__e)),e.__e=e.__d=void 0,null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(e){n$1.__e(e,t)}n.base=n.__P=null}if(n=e.__k)for(o=0;o<n.length;o++)n[o]&&D$2(n[o],t,r);null!=i&&v$3(i)}function E$2(e,t,r){return this.constructor(e,r)}function H$2(e,t,r){var n,i,o;n$1.__&&n$1.__(e,t),i=(n=r===o$3)?null:r&&r.__k||t.__k,e=h$3(d$3,null,[e]),o=[],A$4(t,(n?t:r||t).__k=e,i||e$3,e$3,void 0!==t.ownerSVGElement,r&&!n?[r]:i?null:c$3.slice.call(t.childNodes),o,r||e$3,n),T$4(o,e)}function I$2(e,t){H$2(e,t,o$3)}function L$2(e,t){var r,n;for(n in t=a$3(a$3({},e.props),t),arguments.length>2&&(t.children=c$3.slice.call(arguments,2)),r={},t)"key"!==n&&"ref"!==n&&(r[n]=t[n]);return p$3(e.type,r,t.key||e.key,t.ref||e.ref,null)}function M$2(e){var t={},r={__c:"__cC"+f$3++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,i=this;return this.getChildContext||(n=[],this.getChildContext=function(){return t[r.__c]=i,t},this.shouldComponentUpdate=function(e){i.props.value!==e.value&&n.some((function(t){t.context=e.value,g$3(t)}))},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return r.Consumer.contextType=r,r.Provider.__=r,r}n$1={__e:function(e,t){for(var r,n;t=t.__;)if((r=t.__c)&&!r.__)try{if(r.constructor&&null!=r.constructor.getDerivedStateFromError&&(n=!0,r.setState(r.constructor.getDerivedStateFromError(e))),null!=r.componentDidCatch&&(n=!0,r.componentDidCatch(e)),n)return g$3(r.__E=r)}catch(t){e=t}throw e}},m$3.prototype.setState=function(e,t){var r;r=this.__s!==this.state?this.__s:this.__s=a$3({},this.state),"function"==typeof e&&(e=e(r,this.props)),e&&a$3(r,e),null!=e&&this.__v&&(t&&this.__h.push(t),g$3(this))},m$3.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),g$3(this))},m$3.prototype.render=d$3,u$3=[],i$4=0,t$3="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,o$3=e$3,f$3=0;var t$2,u$2,r$2,i$3=0,o$2=[],c$2=n$1.__r,f$2=n$1.diffed,e$2=n$1.__c,a$2=n$1.unmount;function v$2(e,t){n$1.__h&&n$1.__h(u$2,e,i$3||t),i$3=0;var r=u$2.__H||(u$2.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function m$2(e){return i$3=1,p$2(E$1,e)}function p$2(e,t,r){var n=v$2(t$2++,2);return n.__c||(n.__c=u$2,n.__=[r?r(t):E$1(void 0,t),function(t){var r=e(n.__[0],t);n.__[0]!==r&&(n.__[0]=r,n.__c.setState({}))}]),n.__}function l$2(e,t){var r=v$2(t$2++,3);!n$1.__s&&x$3(r.__H,t)&&(r.__=e,r.__H=t,u$2.__H.__h.push(r))}function y$2(e,t){var r=v$2(t$2++,4);!n$1.__s&&x$3(r.__H,t)&&(r.__=e,r.__H=t,u$2.__h.push(r))}function d$2(e){return i$3=5,h$2((function(){return{current:e}}),[])}function s$2(e,t,r){i$3=6,y$2((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==r?r:r.concat(e))}function h$2(e,t){var r=v$2(t$2++,7);return x$3(r.__H,t)?(r.__H=t,r.__h=e,r.__=e()):r.__}function T$3(e,t){return i$3=8,h$2((function(){return e}),t)}function w$3(e){var t=u$2.context[e.__c],r=v$2(t$2++,9);return r.__c=e,t?(null==r.__&&(r.__=!0,t.sub(u$2)),t.props.value):e.__}function A$3(e,t){n$1.useDebugValue&&n$1.useDebugValue(t?t(e):e)}function F$2(e){var t=v$2(t$2++,10),r=m$2();return t.__=e,u$2.componentDidCatch||(u$2.componentDidCatch=function(e){t.__&&t.__(e),r[1](e)}),[r[0],function(){r[1](void 0)}]}function _$3(){o$2.some((function(e){if(e.__P)try{e.__H.__h.forEach(g$2),e.__H.__h.forEach(q$3),e.__H.__h=[]}catch(u){return e.__H.__h=[],n$1.__e(u,e.__v),!0}})),o$2=[]}function g$2(e){e.t&&e.t()}function q$3(e){var t=e.__();"function"==typeof t&&(e.t=t)}function x$3(e,t){return!e||t.some((function(t,r){return t!==e[r]}))}function E$1(e,t){return"function"==typeof t?t(e):t}function E(e,t){for(var r in t)e[r]=t[r];return e}function w$2(e,t){for(var r in e)if("__source"!==r&&!(r in t))return!0;for(var n in t)if("__source"!==n&&e[n]!==t[n])return!0;return!1}n$1.__r=function(e){c$2&&c$2(e),t$2=0,(u$2=e.__c).__H&&(u$2.__H.__h.forEach(g$2),u$2.__H.__h.forEach(q$3),u$2.__H.__h=[])},n$1.diffed=function(e){f$2&&f$2(e);var t=e.__c;if(t){var r=t.__H;r&&r.__h.length&&(1!==o$2.push(t)&&r$2===n$1.requestAnimationFrame||((r$2=n$1.requestAnimationFrame)||function(e){var t,r=function(){clearTimeout(n),cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,100);"undefined"!=typeof window&&(t=requestAnimationFrame(r))})(_$3))}},n$1.__c=function(e,t){t.some((function(e){try{e.__h.forEach(g$2),e.__h=e.__h.filter((function(e){return!e.__||q$3(e)}))}catch(r){t.some((function(e){e.__h&&(e.__h=[])})),t=[],n$1.__e(r,e.__v)}})),e$2&&e$2(e,t)},n$1.unmount=function(e){a$2&&a$2(e);var t=e.__c;if(t){var r=t.__H;if(r)try{r.__.forEach((function(e){return e.t&&e.t()}))}catch(e){n$1.__e(e,t.__v)}}};var C$1=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).isPureReactComponent=!0,r}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.shouldComponentUpdate=function(e,t){return w$2(this.props,e)||w$2(this.state,t)},n}(m$3);function _$2(e,t){function r(e){var r=this.props.ref,n=r==e.ref;return!n&&r&&(r.call?r(null):r.current=null),t?!t(this.props,e)||!n:w$2(this.props,e)}function n(t){return this.shouldComponentUpdate=r,h$3(e,E({},t))}return n.prototype.isReactComponent=!0,n.displayName="Memo("+(e.displayName||e.name)+")",n.t=!0,n}var A$2=n$1.__b;function S$1(e){function t(t){var r=E({},t);return delete r.ref,e(r,t.ref)}return t.prototype.isReactComponent=t.t=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}n$1.__b=function(e){e.type&&e.type.t&&e.ref&&(e.props.ref=e.ref,e.ref=null),A$2&&A$2(e)};var k$2=function(e,t){return e?x$4(e).reduce((function(e,r,n){return e.concat(t(r,n))}),[]):null},R={map:k$2,forEach:k$2,count:function(e){return e?x$4(e).length:0},only:function(e){if(1!==(e=x$4(e)).length)throw new Error("Children.only() expects only one child.");return e[0]},toArray:x$4},F$1=n$1.__e;function N$1(e){return e&&((e=E({},e)).__c=null,e.__k=e.__k&&e.__k.map(N$1)),e}function U(){this.__u=0,this.o=null,this.__b=null}function M$1(e){var t=e.__.__c;return t&&t.u&&t.u(e)}function L$1(e){var t,r,n;function i(i){if(t||(t=e()).then((function(e){r=e.default||e}),(function(e){n=e})),n)throw n;if(!r)throw t;return h$3(r,i)}return i.displayName="Lazy",i.t=!0,i}function O$1(){this.i=null,this.l=null}n$1.__e=function(e,t,r){if(e.then)for(var n,i=t;i=i.__;)if((n=i.__c)&&n.__c)return n.__c(e,t.__c);F$1(e,t,r)},(U.prototype=new m$3).__c=function(e,t){var r=this;null==r.o&&(r.o=[]),r.o.push(t);var n=M$1(r.__v),i=!1,o=function(){i||(i=!0,n?n(s):s())};t.__c=t.componentWillUnmount,t.componentWillUnmount=function(){o(),t.__c&&t.__c()};var s=function(){var e;if(!--r.__u)for(r.__v.__k[0]=r.state.u,r.setState({u:r.__b=null});e=r.o.pop();)e.forceUpdate()};r.__u++||r.setState({u:r.__b=r.__v.__k[0]}),e.then(o,o)},U.prototype.render=function(e,t){return this.__b&&(this.__v.__k[0]=N$1(this.__b),this.__b=null),[h$3(m$3,null,t.u?null:e.children),t.u&&e.fallback]};var P$1=function(e,t,r){if(++r[1]===r[0]&&e.l.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(r=e.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;e.i=r=r[2]}};(O$1.prototype=new m$3).u=function(e){var t=this,r=M$1(t.__v),n=t.l.get(e);return n[0]++,function(i){var o=function(){t.props.revealOrder?(n.push(i),P$1(t,e,n)):i()};r?r(o):o()}},O$1.prototype.render=function(e){this.i=null,this.l=new Map;var t=x$4(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var r=t.length;r--;)this.l.set(t[r],this.i=[1,0,this.i]);return e.children},O$1.prototype.componentDidUpdate=O$1.prototype.componentDidMount=function(){var e=this;e.l.forEach((function(t,r){P$1(e,r,t)}))};var W=function(){function e(){}var t=e.prototype;return t.getChildContext=function(){return this.props.context},t.render=function(e){return e.children},e}();function j$2(e){var t=this,r=e.container,n=h$3(W,{context:t.context},e.vnode);return t.s&&t.s!==r&&(t.v.parentNode&&t.s.removeChild(t.v),D$2(t.h),t.p=!1),e.vnode?t.p?(r.__k=t.__k,H$2(n,r),t.__k=r.__k):(t.v=document.createTextNode(""),I$2("",r),r.appendChild(t.v),t.p=!0,t.s=r,H$2(n,r,t.v),t.__k=t.v.__k):t.p&&(t.v.parentNode&&t.s.removeChild(t.v),D$2(t.h)),t.h=n,t.componentWillUnmount=function(){t.v.parentNode&&t.s.removeChild(t.v),D$2(t.h)},null}function z$2(e,t){return h$3(j$2,{vnode:e,container:t})}var D$1=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;m$3.prototype.isReactComponent={};var H$1="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;function T$2(e,t,r){if(null==t.__k)for(;t.firstChild;)t.removeChild(t.firstChild);return H$2(e,t),"function"==typeof r&&r(),e?e.__c:null}function V(e,t,r){return I$2(e,t),"function"==typeof r&&r(),e?e.__c:null}var Z=n$1.event;function I$1(e,t){e["UNSAFE_"+t]&&!e[t]&&Object.defineProperty(e,t,{configurable:!1,get:function(){return this["UNSAFE_"+t]},set:function(e){this["UNSAFE_"+t]=e}})}n$1.event=function(e){Z&&(e=Z(e)),e.persist=function(){};var t=!1,r=!1,n=e.stopPropagation;e.stopPropagation=function(){n.call(e),t=!0};var i=e.preventDefault;return e.preventDefault=function(){i.call(e),r=!0},e.isPropagationStopped=function(){return t},e.isDefaultPrevented=function(){return r},e.nativeEvent=e};var $$1={configurable:!0,get:function(){return this.class}},q$2=n$1.vnode;n$1.vnode=function(e){e.$$typeof=H$1;var t=e.type,r=e.props;if(t){if(r.class!=r.className&&($$1.enumerable="className"in r,null!=r.className&&(r.class=r.className),Object.defineProperty(r,"className",$$1)),"function"!=typeof t){var n,i,o;for(o in r.defaultValue&&void 0!==r.value&&(r.value||0===r.value||(r.value=r.defaultValue),delete r.defaultValue),Array.isArray(r.value)&&r.multiple&&"select"===t&&(x$4(r.children).forEach((function(e){-1!=r.value.indexOf(e.props.value)&&(e.props.selected=!0)})),delete r.value),r)if(n=D$1.test(o))break;if(n)for(o in i=e.props={},r)i[D$1.test(o)?o.replace(/[A-Z0-9]/,"-$&").toLowerCase():o]=r[o]}!function(t){var r=e.type,n=e.props;if(n&&"string"==typeof r){var i={};for(var o in n)/^on(Ani|Tra|Tou)/.test(o)&&(n[o.toLowerCase()]=n[o],delete n[o]),i[o.toLowerCase()]=o;if(i.ondoubleclick&&(n.ondblclick=n[i.ondoubleclick],delete n[i.ondoubleclick]),i.onbeforeinput&&(n.onbeforeinput=n[i.onbeforeinput],delete n[i.onbeforeinput]),i.onchange&&("textarea"===r||"input"===r.toLowerCase()&&!/^fil|che|ra/i.test(n.type))){var s=i.oninput||"oninput";n[s]||(n[s]=n[i.onchange],delete n[i.onchange])}}}(),"function"==typeof t&&!t.m&&t.prototype&&(I$1(t.prototype,"componentWillMount"),I$1(t.prototype,"componentWillReceiveProps"),I$1(t.prototype,"componentWillUpdate"),t.m=!0)}q$2&&q$2(e)};var B$1="16.8.0";function G(e){return h$3.bind(null,e)}function J(e){return!!e&&e.$$typeof===H$1}function K(e){return J(e)?L$2.apply(null,arguments):e}function Q(e){return!!e.__k&&(H$2(null,e),!0)}function X(e){return e&&(e.base||1===e.nodeType&&e)||null}var Y=function(e,t){return e(t)},compat_module={useState:m$2,useReducer:p$2,useEffect:l$2,useLayoutEffect:y$2,useRef:d$2,useImperativeHandle:s$2,useMemo:h$2,useCallback:T$3,useContext:w$3,useDebugValue:A$3,version:"16.8.0",Children:R,render:T$2,hydrate:T$2,unmountComponentAtNode:Q,createPortal:z$2,createElement:h$3,createContext:M$2,createFactory:G,cloneElement:K,createRef:y$3,Fragment:d$3,isValidElement:J,findDOMNode:X,Component:m$3,PureComponent:C$1,memo:_$2,forwardRef:S$1,unstable_batchedUpdates:Y,Suspense:U,SuspenseList:O$1,lazy:L$1},compat_module$1=Object.freeze(Object.defineProperty({__proto__:null,default:compat_module,version:B$1,Children:R,render:T$2,hydrate:V,unmountComponentAtNode:Q,createPortal:z$2,createFactory:G,cloneElement:K,isValidElement:J,findDOMNode:X,PureComponent:C$1,memo:_$2,forwardRef:S$1,unstable_batchedUpdates:Y,Suspense:U,SuspenseList:O$1,lazy:L$1,createElement:h$3,createContext:M$2,createRef:y$3,Fragment:d$3,Component:m$3,useState:m$2,useReducer:p$2,useEffect:l$2,useLayoutEffect:y$2,useRef:d$2,useImperativeHandle:s$2,useMemo:h$2,useCallback:T$3,useContext:w$3,useDebugValue:A$3,useErrorBoundary:F$2},Symbol.toStringTag,{value:"Module"})),require$$3$1=getAugmentedNamespace(compat_module$1);function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var browserUtils=require$$0$1,QRCode$3=_interopDefault(browser),copy=_interopDefault(copyToClipboard),React=require$$3$1;function open(e){QRCode$3.toString(e,{type:"terminal"}).then(console.log)}var WALLETCONNECT_STYLE_SHEET=':root {\n  --animation-duration: 300ms;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes fadeOut {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.animated {\n  animation-duration: var(--animation-duration);\n  animation-fill-mode: both;\n}\n\n.fadeIn {\n  animation-name: fadeIn;\n}\n\n.fadeOut {\n  animation-name: fadeOut;\n}\n\n#walletconnect-wrapper {\n  -webkit-user-select: none;\n  align-items: center;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  pointer-events: none;\n  position: fixed;\n  top: 0;\n  user-select: none;\n  width: 100%;\n  z-index: 99999999999999;\n}\n\n.walletconnect-modal__headerLogo {\n  height: 21px;\n}\n\n.walletconnect-modal__header p {\n  color: #ffffff;\n  font-size: 20px;\n  font-weight: 600;\n  margin: 0;\n  align-items: flex-start;\n  display: flex;\n  flex: 1;\n  margin-left: 5px;\n}\n\n.walletconnect-modal__close__wrapper {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  z-index: 10000;\n  background: white;\n  border-radius: 26px;\n  padding: 6px;\n  box-sizing: border-box;\n  width: 26px;\n  height: 26px;\n  cursor: pointer;\n}\n\n.walletconnect-modal__close__icon {\n  position: relative;\n  top: 7px;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transform: rotate(45deg);\n}\n\n.walletconnect-modal__close__line1 {\n  position: absolute;\n  width: 100%;\n  border: 1px solid rgb(48, 52, 59);\n}\n\n.walletconnect-modal__close__line2 {\n  position: absolute;\n  width: 100%;\n  border: 1px solid rgb(48, 52, 59);\n  transform: rotate(90deg);\n}\n\n.walletconnect-qrcode__base {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  background: rgba(37, 41, 46, 0.95);\n  height: 100%;\n  left: 0;\n  pointer-events: auto;\n  position: fixed;\n  top: 0;\n  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);\n  width: 100%;\n  will-change: opacity;\n  padding: 40px;\n  box-sizing: border-box;\n}\n\n.walletconnect-qrcode__text {\n  color: rgba(60, 66, 82, 0.6);\n  font-size: 16px;\n  font-weight: 600;\n  letter-spacing: 0;\n  line-height: 1.1875em;\n  margin: 10px 0 20px 0;\n  text-align: center;\n  width: 100%;\n}\n\n@media only screen and (max-width: 768px) {\n  .walletconnect-qrcode__text {\n    font-size: 4vw;\n  }\n}\n\n@media only screen and (max-width: 320px) {\n  .walletconnect-qrcode__text {\n    font-size: 14px;\n  }\n}\n\n.walletconnect-qrcode__image {\n  width: calc(100% - 30px);\n  box-sizing: border-box;\n  cursor: none;\n  margin: 0 auto;\n}\n\n.walletconnect-qrcode__notification {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  font-size: 16px;\n  padding: 16px 20px;\n  border-radius: 16px;\n  text-align: center;\n  transition: all 0.1s ease-in-out;\n  background: white;\n  color: black;\n  margin-bottom: -60px;\n  opacity: 0;\n}\n\n.walletconnect-qrcode__notification.notification__show {\n  opacity: 1;\n}\n\n@media only screen and (max-width: 768px) {\n  .walletconnect-modal__header {\n    height: 130px;\n  }\n  .walletconnect-modal__base {\n    overflow: auto;\n  }\n}\n\n@media only screen and (min-device-width: 415px) and (max-width: 768px) {\n  #content {\n    max-width: 768px;\n    box-sizing: border-box;\n  }\n}\n\n@media only screen and (min-width: 375px) and (max-width: 415px) {\n  #content {\n    max-width: 414px;\n    box-sizing: border-box;\n  }\n}\n\n@media only screen and (min-width: 320px) and (max-width: 375px) {\n  #content {\n    max-width: 375px;\n    box-sizing: border-box;\n  }\n}\n\n@media only screen and (max-width: 320px) {\n  #content {\n    max-width: 320px;\n    box-sizing: border-box;\n  }\n}\n\n.walletconnect-modal__base {\n  -webkit-font-smoothing: antialiased;\n  background: #ffffff;\n  border-radius: 24px;\n  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);\n  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,\n    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,\n    "Open Sans", "Helvetica Neue", sans-serif;\n  margin-top: 41px;\n  padding: 24px 24px 22px;\n  pointer-events: auto;\n  position: relative;\n  text-align: center;\n  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);\n  will-change: transform;\n  overflow: visible;\n  transform: translateY(-50%);\n  top: 50%;\n  max-width: 500px;\n  margin: auto;\n}\n\n@media only screen and (max-width: 320px) {\n  .walletconnect-modal__base {\n    padding: 24px 12px;\n  }\n}\n\n.walletconnect-modal__base .hidden {\n  transform: translateY(150%);\n  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);\n}\n\n.walletconnect-modal__header {\n  align-items: center;\n  display: flex;\n  height: 26px;\n  left: 0;\n  justify-content: space-between;\n  position: absolute;\n  top: -42px;\n  width: 100%;\n}\n\n.walletconnect-modal__base .wc-logo {\n  align-items: center;\n  display: flex;\n  height: 26px;\n  margin-top: 15px;\n  padding-bottom: 15px;\n  pointer-events: auto;\n}\n\n.walletconnect-modal__base .wc-logo div {\n  background-color: #3399ff;\n  height: 21px;\n  margin-right: 5px;\n  mask-image: url("images/wc-logo.svg") center no-repeat;\n  width: 32px;\n}\n\n.walletconnect-modal__base .wc-logo p {\n  color: #ffffff;\n  font-size: 20px;\n  font-weight: 600;\n  margin: 0;\n}\n\n.walletconnect-modal__base h2 {\n  color: rgba(60, 66, 82, 0.6);\n  font-size: 16px;\n  font-weight: 600;\n  letter-spacing: 0;\n  line-height: 1.1875em;\n  margin: 0 0 19px 0;\n  text-align: center;\n  width: 100%;\n}\n\n.walletconnect-modal__base__row {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  align-items: center;\n  border-radius: 20px;\n  cursor: pointer;\n  display: flex;\n  height: 56px;\n  justify-content: space-between;\n  padding: 0 15px;\n  position: relative;\n  margin: 0px 0px 8px;\n  text-align: left;\n  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n  will-change: transform;\n  text-decoration: none;\n}\n\n.walletconnect-modal__base__row:hover {\n  background: rgba(60, 66, 82, 0.06);\n}\n\n.walletconnect-modal__base__row:active {\n  background: rgba(60, 66, 82, 0.06);\n  transform: scale(0.975);\n  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n}\n\n.walletconnect-modal__base__row__h3 {\n  color: #25292e;\n  font-size: 20px;\n  font-weight: 700;\n  margin: 0;\n  padding-bottom: 3px;\n}\n\n.walletconnect-modal__base__row__right {\n  align-items: center;\n  display: flex;\n  justify-content: center;\n}\n\n.walletconnect-modal__base__row__right__app-icon {\n  border-radius: 8px;\n  height: 34px;\n  margin: 0 11px 2px 0;\n  width: 34px;\n  background-size: 100%;\n  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);\n}\n\n.walletconnect-modal__base__row__right__caret {\n  height: 18px;\n  opacity: 0.3;\n  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n  width: 8px;\n  will-change: opacity;\n}\n\n.walletconnect-modal__base__row:hover .caret,\n.walletconnect-modal__base__row:active .caret {\n  opacity: 0.6;\n}\n\n.walletconnect-modal__mobile__toggle {\n  width: 80%;\n  display: flex;\n  margin: 0 auto;\n  position: relative;\n  overflow: hidden;\n  border-radius: 8px;\n  margin-bottom: 18px;\n  background: #d4d5d9;\n}\n\n.walletconnect-modal__single_wallet {\n  display: flex;\n  justify-content: center;\n  margin-top: 7px;\n  margin-bottom: 18px;\n}\n\n.walletconnect-modal__single_wallet a {\n  cursor: pointer;\n  color: rgb(64, 153, 255);\n  font-size: 21px;\n  font-weight: 800;\n  text-decoration: none !important;\n  margin: 0 auto;\n}\n\n.walletconnect-modal__mobile__toggle_selector {\n  width: calc(50% - 8px);\n  background: white;\n  position: absolute;\n  border-radius: 5px;\n  height: calc(100% - 8px);\n  top: 4px;\n  transition: all 0.2s ease-in-out;\n  transform: translate3d(4px, 0, 0);\n}\n\n.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {\n  transform: translate3d(calc(100% + 12px), 0, 0);\n}\n\n.walletconnect-modal__mobile__toggle a {\n  font-size: 12px;\n  width: 50%;\n  text-align: center;\n  padding: 8px;\n  margin: 0;\n  font-weight: 600;\n  z-index: 1;\n}\n\n.walletconnect-modal__footer {\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n}\n\n@media only screen and (max-width: 768px) {\n  .walletconnect-modal__footer {\n    margin-top: 5vw;\n  }\n}\n\n.walletconnect-modal__footer a {\n  cursor: pointer;\n  color: #898d97;\n  font-size: 15px;\n  margin: 0 auto;\n}\n\n@media only screen and (max-width: 320px) {\n  .walletconnect-modal__footer a {\n    font-size: 14px;\n  }\n}\n\n.walletconnect-connect__buttons__wrapper {\n  max-height: 44vh;\n}\n\n.walletconnect-connect__buttons__wrapper__android {\n  margin: 50% 0;\n}\n\n.walletconnect-connect__buttons__wrapper__wrap {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  margin: 10px 0;\n}\n\n@media only screen and (min-width: 768px) {\n  .walletconnect-connect__buttons__wrapper__wrap {\n    margin-top: 40px;\n  }\n}\n\n.walletconnect-connect__button {\n  background-color: rgb(64, 153, 255);\n  padding: 12px;\n  border-radius: 8px;\n  text-decoration: none;\n  color: rgb(255, 255, 255);\n  font-weight: 500;\n}\n\n.walletconnect-connect__button__icon_anchor {\n  cursor: pointer;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  margin: 8px;\n  width: 42px;\n  justify-self: center;\n  flex-direction: column;\n  text-decoration: none !important;\n}\n\n@media only screen and (max-width: 320px) {\n  .walletconnect-connect__button__icon_anchor {\n    margin: 4px;\n  }\n}\n\n.walletconnect-connect__button__icon {\n  border-radius: 10px;\n  height: 42px;\n  margin: 0;\n  width: 42px;\n  background-size: cover !important;\n  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);\n}\n\n.walletconnect-connect__button__text {\n  color: #424952;\n  font-size: 2.7vw;\n  text-decoration: none !important;\n  padding: 0;\n  margin-top: 1.8vw;\n  font-weight: 600;\n}\n\n@media only screen and (min-width: 768px) {\n  .walletconnect-connect__button__text {\n    font-size: 16px;\n    margin-top: 12px;\n  }\n}\n\n.walletconnect-search__input {\n  border: none;\n  background: #d4d5d9;\n  border-style: none;\n  padding: 8px 16px;\n  outline: none;\n  font-style: normal;\n  font-stretch: normal;\n  font-size: 16px;\n  font-style: normal;\n  font-stretch: normal;\n  line-height: normal;\n  letter-spacing: normal;\n  text-align: left;\n  border-radius: 8px;\n  width: calc(100% - 16px);\n  margin: 0;\n  margin-bottom: 8px;\n}\n';function _catch(t,r){try{var n=t()}catch(e){return r(e)}return n&&n.then?n.then(void 0,r):n}"undefined"==typeof Symbol||(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"==typeof Symbol||(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var WALLETCONNECT_LOGO_SVG_URL="data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",WALLETCONNECT_HEADER_TEXT="WalletConnect",ANIMATION_DURATION=300,DEFAULT_BUTTON_COLOR="rgb(64, 153, 255)",WALLETCONNECT_WRAPPER_ID="walletconnect-wrapper",WALLETCONNECT_STYLE_ID="walletconnect-style-sheet",WALLETCONNECT_MODAL_ID="walletconnect-qrcode-modal",WALLETCONNECT_CLOSE_BUTTON_ID="walletconnect-qrcode-close",WALLETCONNECT_CTA_TEXT_ID="walletconnect-qrcode-text",WALLETCONNECT_CONNECT_BUTTON_ID="walletconnect-connect-button";function Header(e){return React.createElement("div",{className:"walletconnect-modal__header"},React.createElement("img",{src:WALLETCONNECT_LOGO_SVG_URL,className:"walletconnect-modal__headerLogo"}),React.createElement("p",null,WALLETCONNECT_HEADER_TEXT),React.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:e.onClose},React.createElement("div",{id:WALLETCONNECT_CLOSE_BUTTON_ID,className:"walletconnect-modal__close__icon"},React.createElement("div",{className:"walletconnect-modal__close__line1"}),React.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function ConnectButton(e){return React.createElement("a",{className:"walletconnect-connect__button",href:e.href,id:WALLETCONNECT_CONNECT_BUTTON_ID+"-"+e.name,onClick:e.onClick,rel:"noopener noreferrer",style:{backgroundColor:e.color},target:"_blank"},e.name)}var CARET_SVG_URL="data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E";function WalletButton(e){var t=e.color,r=e.href,n=e.name,i=e.logo,o=e.onClick;return React.createElement("a",{className:"walletconnect-modal__base__row",href:r,onClick:o,rel:"noopener noreferrer",target:"_blank"},React.createElement("h3",{className:"walletconnect-modal__base__row__h3"},n),React.createElement("div",{className:"walletconnect-modal__base__row__right"},React.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+i+"') "+t,backgroundSize:"100%"}}),React.createElement("img",{src:CARET_SVG_URL,className:"walletconnect-modal__base__row__right__caret"})))}function WalletIcon(e){var t=e.color,r=e.href,n=e.name,i=e.logo,o=e.onClick,s=window.innerWidth<768?(n.length>8?2.5:2.7)+"vw":"inherit";return React.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:r,onClick:o,rel:"noopener noreferrer",target:"_blank"},React.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+i+"') "+t,backgroundSize:"100%"}}),React.createElement("div",{style:{fontSize:s},className:"walletconnect-connect__button__text"},n))}var GRID_MIN_COUNT=5,LINKS_PER_PAGE=12;function LinkDisplay(e){var t=browserUtils.isAndroid(),r=React.useState(""),n=r[0],i=r[1],o=React.useState(""),s=o[0],a=o[1],u=React.useState(1),l=u[0],c=u[1],f=s?e.links.filter((function(e){return e.name.toLowerCase().includes(s.toLowerCase())})):e.links,h=e.errorMessage,d=s||f.length>GRID_MIN_COUNT,p=Math.ceil(f.length/LINKS_PER_PAGE),g=[(l-1)*LINKS_PER_PAGE+1,l*LINKS_PER_PAGE],m=f.length?f.filter((function(e,t){return t+1>=g[0]&&t+1<=g[1]})):[],y=!(t||!(p>1)),b=void 0;return React.createElement("div",null,React.createElement("p",{id:WALLETCONNECT_CTA_TEXT_ID,className:"walletconnect-qrcode__text"},t?e.text.connect_mobile_wallet:e.text.choose_preferred_wallet),!t&&React.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:n,onChange:function(e){i(e.target.value),clearTimeout(b),e.target.value?b=setTimeout((function(){a(e.target.value),c(1)}),1e3):(i(""),a(""),c(1))}}),React.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(t?"__android":d&&f.length?"__wrap":"")},t?React.createElement(ConnectButton,{name:e.text.connect,color:DEFAULT_BUTTON_COLOR,href:e.uri,onClick:React.useCallback((function(){browserUtils.saveMobileLinkInfo({name:"Unknown",href:e.uri})}),[])}):m.length?m.map((function(t){var r=t.color,n=t.name,i=t.shortName,o=t.logo,s=browserUtils.formatIOSMobile(e.uri,t),a=React.useCallback((function(){browserUtils.saveMobileLinkInfo({name:n,href:s})}),[m]);return d?React.createElement(WalletIcon,{color:r,href:s,name:i||n,logo:o,onClick:a}):React.createElement(WalletButton,{color:r,href:s,name:n,logo:o,onClick:a})})):React.createElement(React.Fragment,null,React.createElement("p",null,h.length?e.errorMessage:e.links.length&&!f.length?e.text.no_wallets_found:e.text.loading))),y&&React.createElement("div",{className:"walletconnect-modal__footer"},Array(p).fill(0).map((function(e,t){var r=t+1,n=l===r;return React.createElement("a",{style:{margin:"auto 10px",fontWeight:n?"bold":"normal"},onClick:function(){return c(r)}},r)}))))}function Notification$1(e){var t=!!e.message.trim();return React.createElement("div",{className:"walletconnect-qrcode__notification"+(t?" notification__show":"")},e.message)}var formatQRCodeImage=function(t){try{var r="";return Promise.resolve(QRCode$3.toString(t,{margin:0,type:"svg"})).then((function(e){return"string"==typeof e&&(r=e.replace("<svg",'<svg class="walletconnect-qrcode__image"')),r}))}catch(e){return Promise.reject(e)}};function QRCodeDisplay(t){var r=React.useState(""),n=r[0],i=r[1],o=React.useState(""),s=o[0],a=o[1];React.useEffect((function(){try{return Promise.resolve(formatQRCodeImage(t.uri)).then((function(e){a(e)}))}catch(e){Promise.reject(e)}}),[]);return React.createElement("div",null,React.createElement("p",{id:WALLETCONNECT_CTA_TEXT_ID,className:"walletconnect-qrcode__text"},t.text.scan_qrcode_with_wallet),React.createElement("div",{dangerouslySetInnerHTML:{__html:s}}),React.createElement("div",{className:"walletconnect-modal__footer"},React.createElement("a",{onClick:function(){copy(t.uri)?(i(t.text.copied_to_clipboard),setInterval((function(){return i("")}),1200)):(i("Error"),setInterval((function(){return i("")}),1200))}},t.text.copy_to_clipboard)),React.createElement(Notification$1,{message:n}))}function Modal(t){var r=browserUtils.isAndroid(),n=browserUtils.isMobile(),i=n?t.qrcodeModalOptions&&t.qrcodeModalOptions.mobileLinks?t.qrcodeModalOptions.mobileLinks:void 0:t.qrcodeModalOptions&&t.qrcodeModalOptions.desktopLinks?t.qrcodeModalOptions.desktopLinks:void 0,o=React.useState(!1),s=o[0],a=o[1],u=React.useState(!1),l=u[0],c=u[1],f=React.useState(!n),h=f[0],d=f[1],p={mobile:n,text:t.text,uri:t.uri,qrcodeModalOptions:t.qrcodeModalOptions},g=React.useState(""),m=g[0],y=g[1],b=React.useState(!1),v=b[0],_=b[1],$=React.useState([]),w=$[0],E=$[1],S=React.useState(""),A=S[0],R=S[1],N=function(){l||s||i&&!i.length||w.length>0||React.useEffect((function(){!function(){try{if(r)return Promise.resolve();a(!0);var o=_catch((function(){var e=t.qrcodeModalOptions&&t.qrcodeModalOptions.registryUrl?t.qrcodeModalOptions.registryUrl:browserUtils.getWalletRegistryUrl();return Promise.resolve(fetch(e)).then((function(e){return Promise.resolve(e.json()).then((function(e){var r=e.listings,o=n?"mobile":"desktop",s=browserUtils.getMobileLinkRegistry(browserUtils.formatMobileRegistry(r,o),i);a(!1),c(!0),R(s.length?"":t.text.no_supported_wallets),E(s);var u=1===s.length;u&&(y(browserUtils.formatIOSMobile(t.uri,s[0])),d(!0)),_(u)}))}))}),(function(e){a(!1),c(!0),R(t.text.something_went_wrong),console.error(e)}));Promise.resolve(o&&o.then?o.then((function(){})):void 0)}catch(e){return Promise.reject(e)}}()}))};N();var x=n?h:!h;return React.createElement("div",{id:WALLETCONNECT_MODAL_ID,className:"walletconnect-qrcode__base animated fadeIn"},React.createElement("div",{className:"walletconnect-modal__base"},React.createElement(Header,{onClose:t.onClose}),v&&h?React.createElement("div",{className:"walletconnect-modal__single_wallet"},React.createElement("a",{onClick:function(){return browserUtils.saveMobileLinkInfo({name:w[0].name,href:m})},href:m,rel:"noopener noreferrer",target:"_blank"},t.text.connect_with+" "+(v?w[0].name:"")+" ›")):r||s||!s&&w.length?React.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(x?" right__selected":"")},React.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),n?React.createElement(React.Fragment,null,React.createElement("a",{onClick:function(){return d(!1),N()}},t.text.mobile),React.createElement("a",{onClick:function(){return d(!0)}},t.text.qrcode)):React.createElement(React.Fragment,null,React.createElement("a",{onClick:function(){return d(!0)}},t.text.qrcode),React.createElement("a",{onClick:function(){return d(!1),N()}},t.text.desktop))):null,React.createElement("div",null,h||!r&&!s&&!w.length?React.createElement(QRCodeDisplay,Object.assign({},p)):React.createElement(LinkDisplay,Object.assign({},p,{links:w,errorMessage:A})))))}var de={choose_preferred_wallet:"Wähle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine unterstützten Wallet",no_wallets_found:"keine Wallet gefunden"},en$1={choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},es={choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera móvil",scan_qrcode_with_wallet:"Escanea el código QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"Código QR",mobile:"Móvil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo salió mal",no_supported_wallets:"Todavía no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},fr={choose_preferred_wallet:"Choisissez votre portefeuille préféré",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copié!",connect_with:"Connectez-vous à l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourné",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouvé"},ko={choose_preferred_wallet:"원하는 지갑을 선택하세요",connect_mobile_wallet:"모바일 지갑과 연결",scan_qrcode_with_wallet:"WalletConnect 지원 지갑에서 QR코드를 스캔하세요",connect:"연결",qrcode:"QR 코드",mobile:"모바일",desktop:"데스크탑",copy_to_clipboard:"클립보드에 복사",copied_to_clipboard:"클립보드에 복사되었습니다!",connect_with:"와 연결하다",loading:"로드 중...",something_went_wrong:"문제가 발생했습니다.",no_supported_wallets:"아직 지원되는 지갑이 없습니다",no_wallets_found:"지갑을 찾을 수 없습니다"},pt$1={choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se à carteira móvel",scan_qrcode_with_wallet:"Ler o código QR com uma carteira compatível com WalletConnect",connect:"Conectar",qrcode:"Código QR",mobile:"Móvel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda não há carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},zh={choose_preferred_wallet:"选择你的钱包",connect_mobile_wallet:"连接至移动端钱包",scan_qrcode_with_wallet:"使用兼容 WalletConnect 的钱包扫描二维码",connect:"连接",qrcode:"二维码",mobile:"移动",desktop:"桌面",copy_to_clipboard:"复制到剪贴板",copied_to_clipboard:"复制到剪贴板成功！",connect_with:"通过以下方式连接",loading:"正在加载...",something_went_wrong:"出了问题",no_supported_wallets:"目前还没有支持的钱包",no_wallets_found:"没有找到钱包"},fa={choose_preferred_wallet:"کیف پول مورد نظر خود را انتخاب کنید",connect_mobile_wallet:"به کیف پول موبایل وصل شوید",scan_qrcode_with_wallet:"کد QR را با یک کیف پول سازگار با WalletConnect اسکن کنید",connect:"اتصال",qrcode:"کد QR",mobile:"سیار",desktop:"دسکتاپ",copy_to_clipboard:"کپی به کلیپ بورد",copied_to_clipboard:"در کلیپ بورد کپی شد!",connect_with:"ارتباط با",loading:"...بارگذاری",something_went_wrong:"مشکلی پیش آمد",no_supported_wallets:"هنوز هیچ کیف پول پشتیبانی شده ای وجود ندارد",no_wallets_found:"هیچ کیف پولی پیدا نشد"},languages={de:de,en:en$1,es:es,fr:fr,ko:ko,pt:pt$1,zh:zh,fa:fa};function injectStyleSheet(){var e=browserUtils.getDocumentOrThrow(),t=e.getElementById(WALLETCONNECT_STYLE_ID);t&&e.head.removeChild(t);var r=e.createElement("style");r.setAttribute("id",WALLETCONNECT_STYLE_ID),r.innerText=WALLETCONNECT_STYLE_SHEET,e.head.appendChild(r)}function renderWrapper(){var e=browserUtils.getDocumentOrThrow(),t=e.createElement("div");return t.setAttribute("id",WALLETCONNECT_WRAPPER_ID),e.body.appendChild(t),t}function triggerCloseAnimation(){var e=browserUtils.getDocumentOrThrow(),t=e.getElementById(WALLETCONNECT_MODAL_ID);t&&(t.className=t.className.replace("fadeIn","fadeOut"),setTimeout((function(){var t=e.getElementById(WALLETCONNECT_WRAPPER_ID);t&&e.body.removeChild(t)}),ANIMATION_DURATION))}function getWrappedCallback(e){return function(){triggerCloseAnimation(),e&&e()}}function getText(){var e=browserUtils.getNavigatorOrThrow().language.split("-")[0]||"en";return languages[e]||languages.en}function open$1(e,t,r){injectStyleSheet();var n=renderWrapper();React.render(React.createElement(Modal,{text:getText(),uri:e,onClose:getWrappedCallback(t),qrcodeModalOptions:r}),n)}function close$1(){triggerCloseAnimation()}var isNode=function(){return"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node};function open$2(e,t,r){console.log(e),isNode()?open(e):open$1(e,t,r)}function close$2(){isNode()||close$1()}var index={open:open$2,close:close$2},cjs=index,eventemitter3={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,n,o,s){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,o||e,s),u=r?r+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],a]:e._events[u].push(a):(e._events[u]=a,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s},a.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,i,o,s){var a=r?r+e:e;if(!this._events[a])return!1;var u,l,c=this._events[a],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,o),!0;case 6:return c.fn.call(c.context,t,n,i,o,s),!0}for(l=1,u=new Array(f-1);l<f;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var h,d=c.length;for(l=0;l<d;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),f){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,n);break;case 4:c[l].fn.call(c[l].context,t,n,i);break;default:if(!u)for(h=1,u=new Array(f-1);h<f;h++)u[h-1]=arguments[h];c[l].fn.apply(c[l].context,u)}}return!0},a.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||n&&a.context!==n||s(this,o);else{for(var u=0,l=[],c=a.length;u<c;u++)(a[u].fn!==t||i&&!a[u].once||n&&a[u].context!==n)&&l.push(a[u]);l.length?this._events[o]=1===l.length?l[0]:l:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a}(eventemitter3);var EventEmitter=eventemitter3.exports,dist$2={},xmlHttpRequest={},url$1={},punycode$1={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */!function(e,t){!function(r){var n=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,o="object"==typeof commonjsGlobal$1&&commonjsGlobal$1;o.global!==o&&o.window!==o&&o.self!==o||(r=o);var s,a,u=2147483647,l=36,c=/^xn--/,f=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,g=String.fromCharCode;function m(e){throw RangeError(d[e])}function y(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function b(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+y((e=e.replace(h,".")).split("."),t).join(".")}function v(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function _(e){return y(e,(function(e){var t="";return e>65535&&(t+=g((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=g(e)})).join("")}function $(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,r){var n=0;for(e=r?p(e/700):e>>1,e+=p(e/t);e>455;n+=l)e=p(e/35);return p(n+36*e/(e+38))}function E(e){var t,r,n,i,o,s,a,c,f,h,d,g=[],y=e.length,b=0,v=128,$=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&m("not-basic"),g.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<y;){for(o=b,s=1,a=l;i>=y&&m("invalid-input"),((c=(d=e.charCodeAt(i++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:l)>=l||c>p((u-b)/s))&&m("overflow"),b+=c*s,!(c<(f=a<=$?1:a>=$+26?26:a-$));a+=l)s>p(u/(h=l-f))&&m("overflow"),s*=h;$=w(b-o,t=g.length+1,0==o),p(b/t)>u-v&&m("overflow"),v+=p(b/t),b%=t,g.splice(b++,0,v)}return _(g)}function S(e){var t,r,n,i,o,s,a,c,f,h,d,y,b,_,E,S=[];for(y=(e=v(e)).length,t=128,r=0,o=72,s=0;s<y;++s)(d=e[s])<128&&S.push(g(d));for(n=i=S.length,i&&S.push("-");n<y;){for(a=u,s=0;s<y;++s)(d=e[s])>=t&&d<a&&(a=d);for(a-t>p((u-r)/(b=n+1))&&m("overflow"),r+=(a-t)*b,t=a,s=0;s<y;++s)if((d=e[s])<t&&++r>u&&m("overflow"),d==t){for(c=r,f=l;!(c<(h=f<=o?1:f>=o+26?26:f-o));f+=l)E=c-h,_=l-h,S.push(g($(h+E%_,0))),c=p(E/_);S.push(g($(c,0))),o=w(r,b,n==i),r=0,++n}++r,++t}return S.join("")}if(s={version:"1.3.2",ucs2:{decode:v,encode:_},decode:E,encode:S,toASCII:function(e){return b(e,(function(e){return f.test(e)?"xn--"+S(e):e}))},toUnicode:function(e){return b(e,(function(e){return c.test(e)?E(e.slice(4).toLowerCase()):e}))}},n&&i)if(e.exports==n)i.exports=s;else for(a in s)s.hasOwnProperty(a)&&(n[a]=s[a]);else r.punycode=s}(commonjsGlobal$1)}(punycode$1,punycode$1.exports);var util$5={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}},querystring$1={};function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var decode$3=function(e,t,r,n){t=t||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(t);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var a=e.length;s>0&&a>s&&(a=s);for(var u=0;u<a;++u){var l,c,f,h,d=e[u].replace(o,"%20"),p=d.indexOf(r);p>=0?(l=d.substr(0,p),c=d.substr(p+1)):(l=d,c=""),f=decodeURIComponent(l),h=decodeURIComponent(c),hasOwnProperty(i,f)?Array.isArray(i[f])?i[f].push(h):i[f]=[i[f],h]:i[f]=h}return i},stringifyPrimitive=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},encode$2=function(e,t,r,n){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(n){var i=encodeURIComponent(stringifyPrimitive(n))+r;return Array.isArray(e[n])?e[n].map((function(e){return i+encodeURIComponent(stringifyPrimitive(e))})).join(t):i+encodeURIComponent(stringifyPrimitive(e[n]))})).join(t):n?encodeURIComponent(stringifyPrimitive(n))+r+encodeURIComponent(stringifyPrimitive(e)):""};querystring$1.decode=querystring$1.parse=decode$3,querystring$1.encode=querystring$1.stringify=encode$2;var punycode=punycode$1.exports,util$4=util$5;function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}url$1.parse=urlParse,url$1.resolve=urlResolve,url$1.resolveObject=urlResolveObject,url$1.format=urlFormat,url$1.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=querystring$1;function urlParse(e,t,r){if(e&&util$4.isObject(e)&&e instanceof Url)return e;var n=new Url;return n.parse(e,t,r),n}function urlFormat(e){return util$4.isString(e)&&(e=urlParse(e)),e instanceof Url?e.format():Url.prototype.format.call(e)}function urlResolve(e,t){return urlParse(e,!1,!0).resolve(t)}function urlResolveObject(e,t){return e?urlParse(e,!1,!0).resolveObject(t):t}Url.prototype.parse=function(e,t,r){if(!util$4.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=-1!==n&&n<e.indexOf("#")?"?":"#",o=e.split(i);o[0]=o[0].replace(/\\/g,"/");var s=e=o.join(i);if(s=s.trim(),!r&&1===e.split("#").length){var a=simplePathPattern.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=t?querystring.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=protocolPattern.exec(s);if(u){var l=(u=u[0]).toLowerCase();this.protocol=l,s=s.substr(u.length)}if(r||u||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var c="//"===s.substr(0,2);!c||u&&hostlessProtocol[u]||(s=s.substr(2),this.slashes=!0)}if(!hostlessProtocol[u]&&(c||u&&!slashedProtocol[u])){for(var f,h,d=-1,p=0;p<hostEndingChars.length;p++){-1!==(g=s.indexOf(hostEndingChars[p]))&&(-1===d||g<d)&&(d=g)}-1!==(h=-1===d?s.lastIndexOf("@"):s.lastIndexOf("@",d))&&(f=s.slice(0,h),s=s.slice(h+1),this.auth=decodeURIComponent(f)),d=-1;for(p=0;p<nonHostChars.length;p++){var g;-1!==(g=s.indexOf(nonHostChars[p]))&&(-1===d||g<d)&&(d=g)}-1===d&&(d=s.length),this.host=s.slice(0,d),s=s.slice(d),this.parseHost(),this.hostname=this.hostname||"";var m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m)for(var y=this.hostname.split(/\./),b=(p=0,y.length);p<b;p++){var v=y[p];if(v&&!v.match(hostnamePartPattern)){for(var _="",$=0,w=v.length;$<w;$++)v.charCodeAt($)>127?_+="x":_+=v[$];if(!_.match(hostnamePartPattern)){var E=y.slice(0,p),S=y.slice(p+1),A=v.match(hostnamePartStart);A&&(E.push(A[1]),S.unshift(A[2])),S.length&&(s="/"+S.join(".")+s),this.hostname=E.join(".");break}}}this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),m||(this.hostname=punycode.toASCII(this.hostname));var R=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+R,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!unsafeProtocol[l])for(p=0,b=autoEscape.length;p<b;p++){var x=autoEscape[p];if(-1!==s.indexOf(x)){var k=encodeURIComponent(x);k===x&&(k=escape(x)),s=s.split(x).join(k)}}var C=s.indexOf("#");-1!==C&&(this.hash=s.substr(C),s=s.slice(0,C));var T=s.indexOf("?");if(-1!==T?(this.search=s.substr(T),this.query=s.substr(T+1),t&&(this.query=querystring.parse(this.query)),s=s.slice(0,T)):t&&(this.search="",this.query={}),s&&(this.pathname=s),slashedProtocol[l]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){R=this.pathname||"";var M=this.search||"";this.path=R+M}return this.href=this.format(),this},Url.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&util$4.isObject(this.query)&&Object.keys(this.query).length&&(o=querystring.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||slashedProtocol[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})),t+i+r+(s=s.replace("#","%23"))+n},Url.prototype.resolve=function(e){return this.resolveObject(urlParse(e,!1,!0)).format()},Url.prototype.resolveObject=function(e){if(util$4.isString(e)){var t=new Url;t.parse(e,!1,!0),e=t}for(var r=new Url,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),a=0;a<s.length;a++){var u=s[a];"protocol"!==u&&(r[u]=e[u])}return slashedProtocol[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!slashedProtocol[e.protocol]){for(var l=Object.keys(e),c=0;c<l.length;c++){var f=l[c];r[f]=e[f]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||hostlessProtocol[e.protocol])r.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),r.pathname=h.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var d=r.pathname||"",p=r.search||"";r.path=d+p}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var g=r.pathname&&"/"===r.pathname.charAt(0),m=e.host||e.pathname&&"/"===e.pathname.charAt(0),y=m||g||r.host&&e.pathname,b=y,v=r.pathname&&r.pathname.split("/")||[],_=(h=e.pathname&&e.pathname.split("/")||[],r.protocol&&!slashedProtocol[r.protocol]);if(_&&(r.hostname="",r.port=null,r.host&&(""===v[0]?v[0]=r.host:v.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),y=y&&(""===h[0]||""===v[0])),m)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,v=h;else if(h.length)v||(v=[]),v.pop(),v=v.concat(h),r.search=e.search,r.query=e.query;else if(!util$4.isNullOrUndefined(e.search)){if(_)r.hostname=r.host=v.shift(),(A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=A.shift(),r.host=r.hostname=A.shift());return r.search=e.search,r.query=e.query,util$4.isNull(r.pathname)&&util$4.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!v.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var $=v.slice(-1)[0],w=(r.host||e.host||v.length>1)&&("."===$||".."===$)||""===$,E=0,S=v.length;S>=0;S--)"."===($=v[S])?v.splice(S,1):".."===$?(v.splice(S,1),E++):E&&(v.splice(S,1),E--);if(!y&&!b)for(;E--;E)v.unshift("..");!y||""===v[0]||v[0]&&"/"===v[0].charAt(0)||v.unshift(""),w&&"/"!==v.join("/").substr(-1)&&v.push("");var A,R=""===v[0]||v[0]&&"/"===v[0].charAt(0);_&&(r.hostname=r.host=R?"":v.length?v.shift():"",(A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=A.shift(),r.host=r.hostname=A.shift()));return(y=y||r.host&&v.length)&&!R&&v.unshift(""),v.length?r.pathname=v.join("/"):(r.pathname=null,r.path=null),util$4.isNull(r.pathname)&&util$4.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},Url.prototype.parseHost=function(){var e=this.host,t=portPattern.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var progressEvent={};Object.defineProperty(progressEvent,"__esModule",{value:!0});var ProgressEvent=function(e){this.type=e,this.bubbles=!1,this.cancelable=!1,this.loaded=0,this.lengthComputable=!1,this.total=0};progressEvent.ProgressEvent=ProgressEvent;var errors$1={},__extends$3=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(errors$1,"__esModule",{value:!0});var SecurityError=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends$3(t,e),t}(Error);errors$1.SecurityError=SecurityError;var InvalidStateError=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends$3(t,e),t}(Error);errors$1.InvalidStateError=InvalidStateError;var NetworkError=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends$3(t,e),t}(Error);errors$1.NetworkError=NetworkError;var SyntaxError$1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends$3(t,e),t}(Error);errors$1.SyntaxError=SyntaxError$1;var xmlHttpRequestEventTarget={};Object.defineProperty(xmlHttpRequestEventTarget,"__esModule",{value:!0});var XMLHttpRequestEventTarget=function(){function e(){this.listeners={}}return e.prototype.addEventListener=function(e,t){e=e.toLowerCase(),this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(t.handleEvent||t)},e.prototype.removeEventListener=function(e,t){if(e=e.toLowerCase(),this.listeners[e]){var r=this.listeners[e].indexOf(t.handleEvent||t);r<0||this.listeners[e].splice(r,1)}},e.prototype.dispatchEvent=function(e){var t=e.type.toLowerCase();if(e.target=this,this.listeners[t])for(var r=0,n=this.listeners[t];r<n.length;r++){n[r].call(this,e)}var i=this["on"+t];return i&&i.call(this,e),!0},e}();xmlHttpRequestEventTarget.XMLHttpRequestEventTarget=XMLHttpRequestEventTarget;var xmlHttpRequestUpload={},__extends$2=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(xmlHttpRequestUpload,"__esModule",{value:!0});var xml_http_request_event_target_1$1=xmlHttpRequestEventTarget,XMLHttpRequestUpload=function(e){function t(){var t=e.call(this)||this;return t._contentType=null,t._body=null,t._reset(),t}return __extends$2(t,e),t.prototype._reset=function(){this._contentType=null,this._body=null},t.prototype._setData=function(e){if(null!=e)if("string"==typeof e)0!==e.length&&(this._contentType="text/plain;charset=UTF-8"),this._body=new buffer$2.Buffer(e,"utf-8");else if(buffer$2.Buffer.isBuffer(e))this._body=e;else if(e instanceof ArrayBuffer){for(var t=new buffer$2.Buffer(e.byteLength),r=new Uint8Array(e),n=0;n<e.byteLength;n++)t[n]=r[n];this._body=t}else{if(!(e.buffer&&e.buffer instanceof ArrayBuffer))throw new Error("Unsupported send() data "+e);t=new buffer$2.Buffer(e.byteLength);var i=e.byteOffset;for(r=new Uint8Array(e.buffer),n=0;n<e.byteLength;n++)t[n]=r[n+i];this._body=t}},t.prototype._finalizeHeaders=function(e,t){this._contentType&&!t["content-type"]&&(e["Content-Type"]=this._contentType),this._body&&(e["Content-Length"]=this._body.length.toString())},t.prototype._startUpload=function(e){this._body&&e.write(this._body),e.end()},t}(xml_http_request_event_target_1$1.XMLHttpRequestEventTarget);xmlHttpRequestUpload.XMLHttpRequestUpload=XMLHttpRequestUpload;var cookiejar={};!function(){function e(t,r,n,i){return this instanceof e?(this.domain=t||void 0,this.path=r||"/",this.secure=!!n,this.script=!!i,this):new e(t,r,n,i)}function t(e,r,n){return e instanceof t?e:this instanceof t?(this.name=null,this.value=null,this.expiration_date=1/0,this.path=String(n||"/"),this.explicit_path=!1,this.domain=r||null,this.explicit_domain=!1,this.secure=!1,this.noscript=!1,e&&this.parse(e,r,n),this):new t(e,r,n)}e.All=Object.freeze(Object.create(null)),cookiejar.CookieAccessInfo=e,cookiejar.Cookie=t,t.prototype.toString=function(){var e=[this.name+"="+this.value];return this.expiration_date!==1/0&&e.push("expires="+new Date(this.expiration_date).toGMTString()),this.domain&&e.push("domain="+this.domain),this.path&&e.push("path="+this.path),this.secure&&e.push("secure"),this.noscript&&e.push("httponly"),e.join("; ")},t.prototype.toValueString=function(){return this.name+"="+this.value};var r=/[:](?=\s*[a-zA-Z0-9_\-]+\s*[=])/g;function n(){var e,r;return this instanceof n?(e=Object.create(null),this.setCookie=function(n,i,o){var s,a;if(s=(n=new t(n,i,o)).expiration_date<=Date.now(),void 0!==e[n.name]){for(r=e[n.name],a=0;a<r.length;a+=1)if(r[a].collidesWith(n))return s?(r.splice(a,1),0===r.length&&delete e[n.name],!1):(r[a]=n,n);return!s&&(r.push(n),n)}return!s&&(e[n.name]=[n],e[n.name])},this.getCookie=function(t,n){var i,o;if(r=e[t])for(o=0;o<r.length;o+=1)if((i=r[o]).expiration_date<=Date.now())0===r.length&&delete e[i.name];else if(i.matches(n))return i},this.getCookies=function(t){var r,n,i=[];for(r in e)(n=this.getCookie(r,t))&&i.push(n);return i.toString=function(){return i.join(":")},i.toValueString=function(){return i.map((function(e){return e.toValueString()})).join("; ")},i},this):new n}t.prototype.parse=function(e,r,n){if(this instanceof t){var i,o=e.split(";").filter((function(e){return!!e})),s=o[0].match(/([^=]+)=([\s\S]*)/);if(!s)return void console.warn("Invalid cookie header encountered. Header: '"+e+"'");var a=s[1],u=s[2];if("string"!=typeof a||0===a.length||"string"!=typeof u)return void console.warn("Unable to extract values from cookie header. Cookie: '"+e+"'");for(this.name=a,this.value=u,i=1;i<o.length;i+=1)switch(a=(s=o[i].match(/([^=]+)(?:=([\s\S]*))?/))[1].trim().toLowerCase(),u=s[2],a){case"httponly":this.noscript=!0;break;case"expires":this.expiration_date=u?Number(Date.parse(u)):1/0;break;case"path":this.path=u?u.trim():"",this.explicit_path=!0;break;case"domain":this.domain=u?u.trim():"",this.explicit_domain=!!this.domain;break;case"secure":this.secure=!0}return this.explicit_path||(this.path=n||"/"),this.explicit_domain||(this.domain=r),this}return(new t).parse(e,r,n)},t.prototype.matches=function(t){return t===e.All||!(this.noscript&&t.script||this.secure&&!t.secure||!this.collidesWith(t))},t.prototype.collidesWith=function(e){if(this.path&&!e.path||this.domain&&!e.domain)return!1;if(this.path&&0!==e.path.indexOf(this.path))return!1;if(this.explicit_path&&0!==e.path.indexOf(this.path))return!1;var t=e.domain&&e.domain.replace(/^[\.]/,""),r=this.domain&&this.domain.replace(/^[\.]/,"");if(r===t)return!0;if(r){if(!this.explicit_domain)return!1;var n=t.indexOf(r);return-1!==n&&n===t.length-r.length}return!0},cookiejar.CookieJar=n,n.prototype.setCookies=function(e,n,i){var o,s,a=[];for(e=(e=Array.isArray(e)?e:e.split(r)).map((function(e){return new t(e,n,i)})),o=0;o<e.length;o+=1)s=e[o],this.setCookie(s,n,i)&&a.push(s);return a}}();var __extends$1=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),__assign=commonjsGlobal$1&&commonjsGlobal$1.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(xmlHttpRequest,"__esModule",{value:!0});var http=require$$0$3,https=require$$0$3,os=require$$0$3,url=url$1,progress_event_1=progressEvent,errors_1=errors$1,xml_http_request_event_target_1=xmlHttpRequestEventTarget,xml_http_request_upload_1=xmlHttpRequestUpload,Cookie=cookiejar,XMLHttpRequest=function(e){function t(r){void 0===r&&(r={});var n=e.call(this)||this;return n.UNSENT=t.UNSENT,n.OPENED=t.OPENED,n.HEADERS_RECEIVED=t.HEADERS_RECEIVED,n.LOADING=t.LOADING,n.DONE=t.DONE,n.onreadystatechange=null,n.readyState=t.UNSENT,n.response=null,n.responseText="",n.responseType="",n.status=0,n.statusText="",n.timeout=0,n.upload=new xml_http_request_upload_1.XMLHttpRequestUpload,n.responseUrl="",n.withCredentials=!1,n._method=null,n._url=null,n._sync=!1,n._headers={},n._loweredHeaders={},n._mimeOverride=null,n._request=null,n._response=null,n._responseParts=null,n._responseHeaders=null,n._aborting=null,n._error=null,n._loadedBytes=0,n._totalBytes=0,n._lengthComputable=!1,n._restrictedMethods={CONNECT:!0,TRACE:!0,TRACK:!0},n._restrictedHeaders={"accept-charset":!0,"accept-encoding":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,cookie2:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,origin:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,via:!0},n._privateHeaders={"set-cookie":!0,"set-cookie2":!0},n._userAgent="Mozilla/5.0 ("+os.type()+" "+os.arch()+") node.js/"+process.versions.node+" v8/"+process.versions.v8,n._anonymous=r.anon||!1,n}return __extends$1(t,e),t.prototype.open=function(e,r,n,i,o){if(void 0===n&&(n=!0),e=e.toUpperCase(),this._restrictedMethods[e])throw new t.SecurityError("HTTP method "+e+" is not allowed in XHR");var s=this._parseUrl(r,i,o);this.readyState===t.HEADERS_RECEIVED||(this.readyState,t.LOADING),this._method=e,this._url=s,this._sync=!n,this._headers={},this._loweredHeaders={},this._mimeOverride=null,this._setReadyState(t.OPENED),this._request=null,this._response=null,this.status=0,this.statusText="",this._responseParts=[],this._responseHeaders=null,this._loadedBytes=0,this._totalBytes=0,this._lengthComputable=!1},t.prototype.setRequestHeader=function(e,r){if(this.readyState!==t.OPENED)throw new t.InvalidStateError("XHR readyState must be OPENED");var n=e.toLowerCase();this._restrictedHeaders[n]||/^sec-/.test(n)||/^proxy-/.test(n)?console.warn('Refused to set unsafe header "'+e+'"'):(r=r.toString(),null!=this._loweredHeaders[n]?(e=this._loweredHeaders[n],this._headers[e]=this._headers[e]+", "+r):(this._loweredHeaders[n]=e,this._headers[e]=r))},t.prototype.send=function(e){if(this.readyState!==t.OPENED)throw new t.InvalidStateError("XHR readyState must be OPENED");if(this._request)throw new t.InvalidStateError("send() already called");switch(this._url.protocol){case"file:":return this._sendFile(e);case"http:":case"https:":return this._sendHttp(e);default:throw new t.NetworkError("Unsupported protocol "+this._url.protocol)}},t.prototype.abort=function(){null!=this._request&&(this._request.abort(),this._setError(),this._dispatchProgress("abort"),this._dispatchProgress("loadend"))},t.prototype.getResponseHeader=function(e){if(null==this._responseHeaders||null==e)return null;var t=e.toLowerCase();return this._responseHeaders.hasOwnProperty(t)?this._responseHeaders[e.toLowerCase()]:null},t.prototype.getAllResponseHeaders=function(){var e=this;return null==this._responseHeaders?"":Object.keys(this._responseHeaders).map((function(t){return t+": "+e._responseHeaders[t]})).join("\r\n")},t.prototype.overrideMimeType=function(e){if(this.readyState===t.LOADING||this.readyState===t.DONE)throw new t.InvalidStateError("overrideMimeType() not allowed in LOADING or DONE");this._mimeOverride=e.toLowerCase()},t.prototype.nodejsSet=function(e){if(this.nodejsHttpAgent=e.httpAgent||this.nodejsHttpAgent,this.nodejsHttpsAgent=e.httpsAgent||this.nodejsHttpsAgent,e.hasOwnProperty("baseUrl")){if(null!=e.baseUrl)if(!url.parse(e.baseUrl,!1,!0).protocol)throw new t.SyntaxError("baseUrl must be an absolute URL");this.nodejsBaseUrl=e.baseUrl}},t.nodejsSet=function(e){t.prototype.nodejsSet(e)},t.prototype._setReadyState=function(e){this.readyState=e,this.dispatchEvent(new progress_event_1.ProgressEvent("readystatechange"))},t.prototype._sendFile=function(e){throw new Error("Protocol file: not implemented")},t.prototype._sendHttp=function(e){if(this._sync)throw new Error("Synchronous XHR processing not implemented");!e||"GET"!==this._method&&"HEAD"!==this._method?e=e||"":(console.warn("Discarding entity body for "+this._method+" requests"),e=null),this.upload._setData(e),this._finalizeHeaders(),this._sendHxxpRequest()},t.prototype._sendHxxpRequest=function(){var e=this;if(this.withCredentials){var r=t.cookieJar.getCookies(Cookie.CookieAccessInfo(this._url.hostname,this._url.pathname,"https:"===this._url.protocol)).toValueString();this._headers.cookie=this._headers.cookie2=r}var n="http:"===this._url.protocol?[http,this.nodejsHttpAgent]:[https,this.nodejsHttpsAgent],i=n[0],o=n[1],s=i.request.bind(i)({hostname:this._url.hostname,port:+this._url.port,path:this._url.path,auth:this._url.auth,method:this._method,headers:this._headers,agent:o});this._request=s,this.timeout&&s.setTimeout(this.timeout,(function(){return e._onHttpTimeout(s)})),s.on("response",(function(t){return e._onHttpResponse(s,t)})),s.on("error",(function(t){return e._onHttpRequestError(s,t)})),this.upload._startUpload(s),this._request===s&&this._dispatchProgress("loadstart")},t.prototype._finalizeHeaders=function(){this._headers=__assign({},this._headers,{Connection:"keep-alive",Host:this._url.host,"User-Agent":this._userAgent},this._anonymous?{Referer:"about:blank"}:{}),this.upload._finalizeHeaders(this._headers,this._loweredHeaders)},t.prototype._onHttpResponse=function(e,r){var n=this;if(this._request===e){if(this.withCredentials&&(r.headers["set-cookie"]||r.headers["set-cookie2"])&&t.cookieJar.setCookies(r.headers["set-cookie"]||r.headers["set-cookie2"]),[301,302,303,307,308].indexOf(r.statusCode)>=0)return this._url=this._parseUrl(r.headers.location),this._method="GET",this._loweredHeaders["content-type"]&&(delete this._headers[this._loweredHeaders["content-type"]],delete this._loweredHeaders["content-type"]),null!=this._headers["Content-Type"]&&delete this._headers["Content-Type"],delete this._headers["Content-Length"],this.upload._reset(),this._finalizeHeaders(),void this._sendHxxpRequest();this._response=r,this._response.on("data",(function(e){return n._onHttpResponseData(r,e)})),this._response.on("end",(function(){return n._onHttpResponseEnd(r)})),this._response.on("close",(function(){return n._onHttpResponseClose(r)})),this.responseUrl=this._url.href.split("#")[0],this.status=r.statusCode,this.statusText=http.STATUS_CODES[this.status],this._parseResponseHeaders(r);var i=this._responseHeaders["content-length"]||"";this._totalBytes=+i,this._lengthComputable=!!i,this._setReadyState(t.HEADERS_RECEIVED)}},t.prototype._onHttpResponseData=function(e,r){this._response===e&&(this._responseParts.push(new buffer$2.Buffer(r)),this._loadedBytes+=r.length,this.readyState!==t.LOADING&&this._setReadyState(t.LOADING),this._dispatchProgress("progress"))},t.prototype._onHttpResponseEnd=function(e){this._response===e&&(this._parseResponse(),this._request=null,this._response=null,this._setReadyState(t.DONE),this._dispatchProgress("load"),this._dispatchProgress("loadend"))},t.prototype._onHttpResponseClose=function(e){if(this._response===e){var r=this._request;this._setError(),r.abort(),this._setReadyState(t.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend")}},t.prototype._onHttpTimeout=function(e){this._request===e&&(this._setError(),e.abort(),this._setReadyState(t.DONE),this._dispatchProgress("timeout"),this._dispatchProgress("loadend"))},t.prototype._onHttpRequestError=function(e,r){this._request===e&&(this._setError(),e.abort(),this._setReadyState(t.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend"))},t.prototype._dispatchProgress=function(e){var r=new t.ProgressEvent(e);r.lengthComputable=this._lengthComputable,r.loaded=this._loadedBytes,r.total=this._totalBytes,this.dispatchEvent(r)},t.prototype._setError=function(){this._request=null,this._response=null,this._responseHeaders=null,this._responseParts=null},t.prototype._parseUrl=function(e,t,r){var n=null==this.nodejsBaseUrl?e:url.resolve(this.nodejsBaseUrl,e),i=url.parse(n,!1,!0);i.hash=null;var o=(i.auth||"").split(":"),s=o[0],a=o[1];return(s||a||t||r)&&(i.auth=(t||s||"")+":"+(r||a||"")),i},t.prototype._parseResponseHeaders=function(e){for(var t in this._responseHeaders={},e.headers){var r=t.toLowerCase();this._privateHeaders[r]||(this._responseHeaders[r]=e.headers[t])}null!=this._mimeOverride&&(this._responseHeaders["content-type"]=this._mimeOverride)},t.prototype._parseResponse=function(){var e=buffer$2.Buffer.concat(this._responseParts);switch(this._responseParts=null,this.responseType){case"json":this.responseText=null;try{this.response=JSON.parse(e.toString("utf-8"))}catch(i){this.response=null}return;case"buffer":return this.responseText=null,void(this.response=e);case"arraybuffer":this.responseText=null;for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n<e.length;n++)r[n]=e[n];return void(this.response=t);default:try{this.responseText=e.toString(this._parseResponseEncoding())}catch(o){this.responseText=e.toString("binary")}this.response=this.responseText}},t.prototype._parseResponseEncoding=function(){return/;\s*charset=(.*)$/.exec(this._responseHeaders["content-type"]||"")[1]||"utf-8"},t.ProgressEvent=progress_event_1.ProgressEvent,t.InvalidStateError=errors_1.InvalidStateError,t.NetworkError=errors_1.NetworkError,t.SecurityError=errors_1.SecurityError,t.SyntaxError=errors_1.SyntaxError,t.XMLHttpRequestUpload=xml_http_request_upload_1.XMLHttpRequestUpload,t.UNSENT=0,t.OPENED=1,t.HEADERS_RECEIVED=2,t.LOADING=3,t.DONE=4,t.cookieJar=Cookie.CookieJar(),t}(xml_http_request_event_target_1.XMLHttpRequestEventTarget);xmlHttpRequest.XMLHttpRequest=XMLHttpRequest,XMLHttpRequest.prototype.nodejsHttpAgent=http.globalAgent,XMLHttpRequest.prototype.nodejsHttpsAgent=https.globalAgent,XMLHttpRequest.prototype.nodejsBaseUrl=null,function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}(xmlHttpRequest);var t=xmlHttpRequestEventTarget;e.XMLHttpRequestEventTarget=t.XMLHttpRequestEventTarget}(dist$2);const XHR=getFromWindow("XMLHttpRequest")||dist$2.XMLHttpRequest;class HTTPConnection extends EventEmitter{constructor(e){super(),this.url=e}formatError(e,t,r=-1){return{error:{message:t,code:r},id:e.id,jsonrpc:e.jsonrpc}}send(t,r){return new Promise((n=>{if("eth_subscribe"===t.method){const e=this.formatError(t,"Subscriptions are not supported by this HTTP endpoint");return this.emit("error",e),n(e)}const i=new XHR;let o=!1;const s=(e,s)=>{if(!o)if(i.abort(),o=!0,r)r(e,s);else{const{id:r,jsonrpc:i}=t,o=e?{id:r,jsonrpc:i,error:{message:e.message,code:e.code}}:{id:r,jsonrpc:i,result:s};this.emit("payload",o),n(o)}};i.open("POST",this.url,!0),i.setRequestHeader("Content-Type","application/json"),i.timeout=6e4,i.onerror=s,i.ontimeout=s,i.onreadystatechange=()=>{if(4===i.readyState)try{const e=JSON.parse(i.responseText);s(e.error,e.result)}catch(e){s(e)}},i.send(JSON.stringify(t))}))}}const ProviderEngine=web3ProviderEngine,CacheSubprovider=cache,FixtureSubprovider=fixture,FilterSubprovider=filters,HookedWalletSubprovider=hookedWallet,NonceSubprovider=nonceTracker,SubscriptionsSubprovider=subscriptions;class WalletConnectProvider extends ProviderEngine{constructor(e){if(super({pollingInterval:e.pollingInterval||8e3}),this.bridge="https://bridge.walletconnect.org",this.qrcode=!0,this.qrcodeModal=cjs,this.qrcodeModalOptions=void 0,this.rpc=null,this.infuraId="",this.http=null,this.isConnecting=!1,this.connected=!1,this.connectCallbacks=[],this.accounts=[],this.chainId=1,this.rpcUrl="",this.enable=async()=>{const e=await this.getWalletConnector();if(e)return this.start(),this.subscribeWalletConnector(),e.accounts;throw new Error("Failed to connect to WalleConnect")},this.request=async e=>this.send(e),this.send=async(e,t)=>{if("string"==typeof e){const r=e;let n=t;return"personal_sign"===r&&(n=parsePersonalSign(n)),this.sendAsyncPromise(r,n)}if("personal_sign"===(e=Object.assign({id:payloadId(),jsonrpc:"2.0"},e)).method&&(e.params=parsePersonalSign(e.params)),!t)return this.sendAsyncPromise(e.method,e.params);this.sendAsync(e,t)},this.onConnect=e=>{this.connectCallbacks.push(e)},this.triggerConnect=e=>{this.connectCallbacks&&this.connectCallbacks.length&&this.connectCallbacks.forEach((t=>t(e)))},this.bridge=e.connector?e.connector.bridge:e.bridge||"https://bridge.walletconnect.org",this.qrcode=void 0===e.qrcode||!1!==e.qrcode,this.qrcodeModal=e.qrcodeModal||this.qrcodeModal,this.qrcodeModalOptions=e.qrcodeModalOptions,this.wc=e.connector||new WalletConnect({bridge:this.bridge,qrcodeModal:this.qrcode?this.qrcodeModal:void 0,qrcodeModalOptions:this.qrcodeModalOptions,storageId:null==e?void 0:e.storageId,signingMethods:null==e?void 0:e.signingMethods,clientMeta:null==e?void 0:e.clientMeta}),this.rpc=e.rpc||null,!(this.rpc||e.infuraId&&"string"==typeof e.infuraId&&e.infuraId.trim()))throw new Error("Missing one of the required parameters: rpc or infuraId");this.infuraId=e.infuraId||"",this.chainId=(null==e?void 0:e.chainId)||this.chainId,this.initialize()}get isWalletConnect(){return!0}get connector(){return this.wc}get walletMeta(){return this.wc.peerMeta}async disconnect(){this.close()}async close(){const e=await this.getWalletConnector({disableSessionCreation:!0});await e.killSession(),await this.onDisconnect()}async handleRequest(e){try{let t,r=null;const n=await this.getWalletConnector();switch(e.method){case"wc_killSession":await this.close(),r=null;break;case"eth_accounts":r=n.accounts;break;case"eth_coinbase":r=n.accounts[0];break;case"eth_chainId":case"net_version":r=n.chainId;break;case"eth_uninstallFilter":this.sendAsync(e,(e=>e)),r=!0;break;default:t=await this.handleOtherRequests(e)}return t||this.formatResponse(e,r)}catch(error){throw this.emit("error",error),error}}async handleOtherRequests(e){if(!signingMethods.includes(e.method)&&e.method.startsWith("eth_"))return this.handleReadRequests(e);const t=await this.getWalletConnector(),r=await t.sendCustomRequest(e);return this.formatResponse(e,r)}async handleReadRequests(e){if(!this.http){const e=new Error("HTTP Connection not available");throw this.emit("error",e),e}return this.http.send(e)}formatResponse(e,t){return{id:e.id,jsonrpc:e.jsonrpc,result:t}}getWalletConnector(e={}){const{disableSessionCreation:t=!1}=e;return new Promise(((e,r)=>{const n=this.wc;this.isConnecting?this.onConnect((t=>e(t))):n.connected||t?(this.connected||(this.connected=!0,this.updateState(n.session)),e(n)):(this.isConnecting=!0,n.on("modal_closed",(()=>{r(new Error("User closed modal"))})),n.createSession({chainId:this.chainId}).then((()=>{n.on("connect",((t,i)=>{if(t)return this.isConnecting=!1,r(t);this.isConnecting=!1,this.connected=!0,i&&this.updateState(i.params[0]),this.emit("connect"),this.triggerConnect(n),e(n)}))})).catch((e=>{this.isConnecting=!1,r(e)})))}))}async subscribeWalletConnector(){const e=await this.getWalletConnector();e.on("disconnect",(e=>{e?this.emit("error",e):this.onDisconnect()})),e.on("session_update",((e,t)=>{e?this.emit("error",e):this.updateState(t.params[0])}))}async onDisconnect(){await this.stop(),this.emit("close",1e3,"Connection closed"),this.emit("disconnect",1e3,"Connection disconnected"),this.connected=!1}async updateState(e){const{accounts:t,chainId:r,networkId:n,rpcUrl:i}=e;(!this.accounts||t&&this.accounts!==t)&&(this.accounts=t,this.emit("accountsChanged",t)),(!this.chainId||r&&this.chainId!==r)&&(this.chainId=r,this.emit("chainChanged",r)),(!this.networkId||n&&this.networkId!==n)&&(this.networkId=n,this.emit("networkChanged",n)),this.updateRpcUrl(this.chainId,i||"")}updateRpcUrl(e,t=""){const r={infuraId:this.infuraId,custom:this.rpc||void 0};(t=t||getRpcUrl(e,r))?(this.rpcUrl=t,this.updateHttpConnection()):this.emit("error",new Error(`No RPC Url available for chainId: ${e}`))}updateHttpConnection(){this.rpcUrl&&(this.http=new HTTPConnection(this.rpcUrl),this.http.on("payload",(e=>this.emit("payload",e))),this.http.on("error",(e=>this.emit("error",e))))}sendAsyncPromise(e,t){return new Promise(((r,n)=>{this.sendAsync({id:payloadId(),jsonrpc:"2.0",method:e,params:t||[]},((e,t)=>{e?n(e):r(t.result)}))}))}initialize(){this.updateRpcUrl(this.chainId),this.addProvider(new FixtureSubprovider({eth_hashrate:"0x00",eth_mining:!1,eth_syncing:!0,net_listening:!0,web3_clientVersion:"WalletConnect/v1.x.x/javascript"})),this.addProvider(new CacheSubprovider),this.addProvider(new SubscriptionsSubprovider),this.addProvider(new FilterSubprovider),this.addProvider(new NonceSubprovider),this.addProvider(new HookedWalletSubprovider(this.configWallet())),this.addProvider({handleRequest:async(e,t,r)=>{try{const{error:t,result:n}=await this.handleRequest(e);r(t,n)}catch(error){r(error)}},setEngine:e=>e})}configWallet(){return{getAccounts:async e=>{try{const t=(await this.getWalletConnector()).accounts;t&&t.length?e(null,t):e(new Error("Failed to get accounts"))}catch(error){e(error)}},processMessage:async(e,t)=>{try{const r=await this.getWalletConnector();t(null,await r.signMessage([e.from,e.data]))}catch(error){t(error)}},processPersonalMessage:async(e,t)=>{try{const r=await this.getWalletConnector();t(null,await r.signPersonalMessage([e.data,e.from]))}catch(error){t(error)}},processSignTransaction:async(e,t)=>{try{const r=await this.getWalletConnector();t(null,await r.signTransaction(e))}catch(error){t(error)}},processTransaction:async(e,t)=>{try{const r=await this.getWalletConnector();t(null,await r.sendTransaction(e))}catch(error){t(error)}},processTypedMessage:async(e,t)=>{try{const r=await this.getWalletConnector();t(null,await r.signTypedData([e.from,e.data]))}catch(error){t(error)}}}}}var dist$1={},WalletLinkProvider$1={},bn$1={exports:{}};!function(t){!function(t,r){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof t?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require("buffer").Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function u(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function l(e,t,r,i){for(var o=0,s=0,a=Math.min(e.length,r),u=t;u<a;u++){var l=e.charCodeAt(u)-48;o*=i,s=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&s<i,"Invalid character"),o+=s}return o}function c(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,c=r;c<a;c+=n)u=l(e,c,c+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=l(e,c,e.length,t),c=0;c<s;c++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){c(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch(e){o.prototype.inspect=f}else o.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?h[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var l=d[e],c=p[e];r="";var f=this.clone();for(f.negative=0;!f.isZero();){var g=f.modrn(c).toString(e);r=(f=f.idivn(c)).isZero()?g+r:h[l-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function g(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var l=1;l<n;l++){for(var c=u>>>26,f=67108863&u,h=Math.min(l,t.length-1),d=Math.max(0,l-e.length+1);d<=h;d++){var p=l-d|0;c+=(s=(i=0|e.words[p])*(o=0|t.words[d])+f)/67108864|0,f=67108863&s}r.words[l]=0|f,u=0|c}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===o?(r<e.length&&(e[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r--]=255&s,r>=0&&(e[r--]=s>>8&255),r>=0&&(e[r--]=s>>16&255),6===o?(r>=0&&(e[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var m=function(e,t,r){var n,i,o,s=e.words,a=t.words,u=r.words,l=0,c=0|s[0],f=8191&c,h=c>>>13,d=0|s[1],p=8191&d,g=d>>>13,m=0|s[2],y=8191&m,b=m>>>13,v=0|s[3],_=8191&v,$=v>>>13,w=0|s[4],E=8191&w,S=w>>>13,A=0|s[5],R=8191&A,N=A>>>13,x=0|s[6],k=8191&x,C=x>>>13,T=0|s[7],M=8191&T,P=T>>>13,I=0|s[8],O=8191&I,B=I>>>13,L=0|s[9],D=8191&L,U=L>>>13,F=0|a[0],j=8191&F,H=F>>>13,W=0|a[1],z=8191&W,q=W>>>13,G=0|a[2],V=8191&G,K=G>>>13,J=0|a[3],Y=8191&J,X=J>>>13,Z=0|a[4],Q=8191&Z,ee=Z>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ue=8191&ae,le=ae>>>13,ce=0|a[8],fe=8191&ce,he=ce>>>13,de=0|a[9],pe=8191&de,ge=de>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(l+(n=Math.imul(f,j))|0)+((8191&(i=(i=Math.imul(f,H))+Math.imul(h,j)|0))<<13)|0;l=((o=Math.imul(h,H))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,H))+Math.imul(g,j)|0,o=Math.imul(g,H);var ye=(l+(n=n+Math.imul(f,z)|0)|0)+((8191&(i=(i=i+Math.imul(f,q)|0)+Math.imul(h,z)|0))<<13)|0;l=((o=o+Math.imul(h,q)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,j),i=(i=Math.imul(y,H))+Math.imul(b,j)|0,o=Math.imul(b,H),n=n+Math.imul(p,z)|0,i=(i=i+Math.imul(p,q)|0)+Math.imul(g,z)|0,o=o+Math.imul(g,q)|0;var be=(l+(n=n+Math.imul(f,V)|0)|0)+((8191&(i=(i=i+Math.imul(f,K)|0)+Math.imul(h,V)|0))<<13)|0;l=((o=o+Math.imul(h,K)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(_,j),i=(i=Math.imul(_,H))+Math.imul($,j)|0,o=Math.imul($,H),n=n+Math.imul(y,z)|0,i=(i=i+Math.imul(y,q)|0)+Math.imul(b,z)|0,o=o+Math.imul(b,q)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(g,V)|0,o=o+Math.imul(g,K)|0;var ve=(l+(n=n+Math.imul(f,Y)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(h,Y)|0))<<13)|0;l=((o=o+Math.imul(h,X)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(E,j),i=(i=Math.imul(E,H))+Math.imul(S,j)|0,o=Math.imul(S,H),n=n+Math.imul(_,z)|0,i=(i=i+Math.imul(_,q)|0)+Math.imul($,z)|0,o=o+Math.imul($,q)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(b,V)|0,o=o+Math.imul(b,K)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(g,Y)|0,o=o+Math.imul(g,X)|0;var _e=(l+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(h,Q)|0))<<13)|0;l=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(R,j),i=(i=Math.imul(R,H))+Math.imul(N,j)|0,o=Math.imul(N,H),n=n+Math.imul(E,z)|0,i=(i=i+Math.imul(E,q)|0)+Math.imul(S,z)|0,o=o+Math.imul(S,q)|0,n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,K)|0)+Math.imul($,V)|0,o=o+Math.imul($,K)|0,n=n+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(b,Y)|0,o=o+Math.imul(b,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,ee)|0;var $e=(l+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(h,re)|0))<<13)|0;l=((o=o+Math.imul(h,ne)|0)+(i>>>13)|0)+($e>>>26)|0,$e&=67108863,n=Math.imul(k,j),i=(i=Math.imul(k,H))+Math.imul(C,j)|0,o=Math.imul(C,H),n=n+Math.imul(R,z)|0,i=(i=i+Math.imul(R,q)|0)+Math.imul(N,z)|0,o=o+Math.imul(N,q)|0,n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,K)|0)+Math.imul(S,V)|0,o=o+Math.imul(S,K)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,X)|0)+Math.imul($,Y)|0,o=o+Math.imul($,X)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(g,re)|0,o=o+Math.imul(g,ne)|0;var we=(l+(n=n+Math.imul(f,oe)|0)|0)+((8191&(i=(i=i+Math.imul(f,se)|0)+Math.imul(h,oe)|0))<<13)|0;l=((o=o+Math.imul(h,se)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(M,j),i=(i=Math.imul(M,H))+Math.imul(P,j)|0,o=Math.imul(P,H),n=n+Math.imul(k,z)|0,i=(i=i+Math.imul(k,q)|0)+Math.imul(C,z)|0,o=o+Math.imul(C,q)|0,n=n+Math.imul(R,V)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(N,V)|0,o=o+Math.imul(N,K)|0,n=n+Math.imul(E,Y)|0,i=(i=i+Math.imul(E,X)|0)+Math.imul(S,Y)|0,o=o+Math.imul(S,X)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul($,Q)|0,o=o+Math.imul($,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(g,oe)|0,o=o+Math.imul(g,se)|0;var Ee=(l+(n=n+Math.imul(f,ue)|0)|0)+((8191&(i=(i=i+Math.imul(f,le)|0)+Math.imul(h,ue)|0))<<13)|0;l=((o=o+Math.imul(h,le)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(O,j),i=(i=Math.imul(O,H))+Math.imul(B,j)|0,o=Math.imul(B,H),n=n+Math.imul(M,z)|0,i=(i=i+Math.imul(M,q)|0)+Math.imul(P,z)|0,o=o+Math.imul(P,q)|0,n=n+Math.imul(k,V)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(C,V)|0,o=o+Math.imul(C,K)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,X)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul($,re)|0,o=o+Math.imul($,ne)|0,n=n+Math.imul(y,oe)|0,i=(i=i+Math.imul(y,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(g,ue)|0,o=o+Math.imul(g,le)|0;var Se=(l+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,he)|0)+Math.imul(h,fe)|0))<<13)|0;l=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(D,j),i=(i=Math.imul(D,H))+Math.imul(U,j)|0,o=Math.imul(U,H),n=n+Math.imul(O,z)|0,i=(i=i+Math.imul(O,q)|0)+Math.imul(B,z)|0,o=o+Math.imul(B,q)|0,n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(P,V)|0,o=o+Math.imul(P,K)|0,n=n+Math.imul(k,Y)|0,i=(i=i+Math.imul(k,X)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,X)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(S,re)|0,o=o+Math.imul(S,ne)|0,n=n+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,se)|0)+Math.imul($,oe)|0,o=o+Math.imul($,se)|0,n=n+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,le)|0)+Math.imul(b,ue)|0,o=o+Math.imul(b,le)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(g,fe)|0,o=o+Math.imul(g,he)|0;var Ae=(l+(n=n+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ge)|0)+Math.imul(h,pe)|0))<<13)|0;l=((o=o+Math.imul(h,ge)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(D,z),i=(i=Math.imul(D,q))+Math.imul(U,z)|0,o=Math.imul(U,q),n=n+Math.imul(O,V)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(B,V)|0,o=o+Math.imul(B,K)|0,n=n+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(P,Y)|0,o=o+Math.imul(P,X)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,ee)|0,n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(N,re)|0,o=o+Math.imul(N,ne)|0,n=n+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,se)|0)+Math.imul(S,oe)|0,o=o+Math.imul(S,se)|0,n=n+Math.imul(_,ue)|0,i=(i=i+Math.imul(_,le)|0)+Math.imul($,ue)|0,o=o+Math.imul($,le)|0,n=n+Math.imul(y,fe)|0,i=(i=i+Math.imul(y,he)|0)+Math.imul(b,fe)|0,o=o+Math.imul(b,he)|0;var Re=(l+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ge)|0)+Math.imul(g,pe)|0))<<13)|0;l=((o=o+Math.imul(g,ge)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(D,V),i=(i=Math.imul(D,K))+Math.imul(U,V)|0,o=Math.imul(U,K),n=n+Math.imul(O,Y)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,X)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(C,re)|0,o=o+Math.imul(C,ne)|0,n=n+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,se)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,se)|0,n=n+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,le)|0)+Math.imul(S,ue)|0,o=o+Math.imul(S,le)|0,n=n+Math.imul(_,fe)|0,i=(i=i+Math.imul(_,he)|0)+Math.imul($,fe)|0,o=o+Math.imul($,he)|0;var Ne=(l+(n=n+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,ge)|0)+Math.imul(b,pe)|0))<<13)|0;l=((o=o+Math.imul(b,ge)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,n=Math.imul(D,Y),i=(i=Math.imul(D,X))+Math.imul(U,Y)|0,o=Math.imul(U,X),n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,se)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,se)|0,n=n+Math.imul(R,ue)|0,i=(i=i+Math.imul(R,le)|0)+Math.imul(N,ue)|0,o=o+Math.imul(N,le)|0,n=n+Math.imul(E,fe)|0,i=(i=i+Math.imul(E,he)|0)+Math.imul(S,fe)|0,o=o+Math.imul(S,he)|0;var xe=(l+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,ge)|0)+Math.imul($,pe)|0))<<13)|0;l=((o=o+Math.imul($,ge)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(D,Q),i=(i=Math.imul(D,ee))+Math.imul(U,Q)|0,o=Math.imul(U,ee),n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,se)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,se)|0,n=n+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,le)|0)+Math.imul(C,ue)|0,o=o+Math.imul(C,le)|0,n=n+Math.imul(R,fe)|0,i=(i=i+Math.imul(R,he)|0)+Math.imul(N,fe)|0,o=o+Math.imul(N,he)|0;var ke=(l+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,ge)|0)+Math.imul(S,pe)|0))<<13)|0;l=((o=o+Math.imul(S,ge)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(D,re),i=(i=Math.imul(D,ne))+Math.imul(U,re)|0,o=Math.imul(U,ne),n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,se)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,se)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,le)|0)+Math.imul(P,ue)|0,o=o+Math.imul(P,le)|0,n=n+Math.imul(k,fe)|0,i=(i=i+Math.imul(k,he)|0)+Math.imul(C,fe)|0,o=o+Math.imul(C,he)|0;var Ce=(l+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ge)|0)+Math.imul(N,pe)|0))<<13)|0;l=((o=o+Math.imul(N,ge)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(D,oe),i=(i=Math.imul(D,se))+Math.imul(U,oe)|0,o=Math.imul(U,se),n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,le)|0)+Math.imul(B,ue)|0,o=o+Math.imul(B,le)|0,n=n+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,he)|0)+Math.imul(P,fe)|0,o=o+Math.imul(P,he)|0;var Te=(l+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ge)|0)+Math.imul(C,pe)|0))<<13)|0;l=((o=o+Math.imul(C,ge)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(D,ue),i=(i=Math.imul(D,le))+Math.imul(U,ue)|0,o=Math.imul(U,le),n=n+Math.imul(O,fe)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(B,fe)|0,o=o+Math.imul(B,he)|0;var Me=(l+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,ge)|0)+Math.imul(P,pe)|0))<<13)|0;l=((o=o+Math.imul(P,ge)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(D,fe),i=(i=Math.imul(D,he))+Math.imul(U,fe)|0,o=Math.imul(U,he);var Pe=(l+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ge)|0)+Math.imul(B,pe)|0))<<13)|0;l=((o=o+Math.imul(B,ge)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Ie=(l+(n=Math.imul(D,pe))|0)+((8191&(i=(i=Math.imul(D,ge))+Math.imul(U,pe)|0))<<13)|0;return l=((o=Math.imul(U,ge))+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,u[0]=me,u[1]=ye,u[2]=be,u[3]=ve,u[4]=_e,u[5]=$e,u[6]=we,u[7]=Ee,u[8]=Se,u[9]=Ae,u[10]=Re,u[11]=Ne,u[12]=xe,u[13]=ke,u[14]=Ce,u[15]=Te,u[16]=Me,u[17]=Pe,u[18]=Ie,0!==l&&(u[19]=l,r.length++),r};function y(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,t.length-1),l=Math.max(0,o-e.length+1);l<=u;l++){var c=o-l,f=(0|e.words[c])*(0|t.words[l]),h=67108863&f;a=67108863&(h=h+a|0),i+=(s=(s=s+(f/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function b(e,t,r){return y(e,t,r)}Math.imul||(m=g),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?m(this,e,t):r<63?g(this,e,t):r<1024?y(this,e,t):b(this,e,t)},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),b(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,u=(0|this.words[t])-a<<r;this.words[t]=u|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var l=0;l<s;l++)u.words[l]=this.words[l];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,l=0;l<this.length;l++)this.words[l]=this.words[l+s];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var f=0|this.words[l];this.words[l]=c<<26-o|f>>>o,c=f&a}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==t){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var c=n.clone()._ishlnsubmul(i,1,u);0===c.negative&&(n=c,a&&(a.words[u]=1));for(var f=u-1;f>=0;f--){var h=67108864*(0|n.words[i.length+f])+(0|n.words[i.length+f-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(i,h,f);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,f),n.isZero()||(n.negative^=1);a&&(a.words[f]=h)}return a&&a._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/e|0,r=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),l=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++l;for(var c=r.clone(),f=t.clone();!t.isZero();){for(var h=0,d=1;0==(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(c),s.isub(f)),i.iushrn(1),s.iushrn(1);for(var p=0,g=1;0==(r.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(f)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(u)):(r.isub(t),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,c=1;0==(t.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(t.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var f=0,h=1;0==(r.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(r.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new A(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function _(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function $(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function R(e){A.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},_.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(e,t){e.iushrn(this.n,0,t)},_.prototype.imulK=function(e){return e.imul(this.k)},i($,_),$.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},$.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(w,_),i(E,_),i(S,_),S.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(v[e])return v[e];var t;if("k256"===e)t=new $;else if("p224"===e)t=new w;else if("p192"===e)t=new E;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return v[e]=t,t},A.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},A.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},A.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(c(e,e.umod(this.m)._forceRed(this)),e)},A.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},A.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},A.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},A.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},A.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},A.prototype.isqr=function(e){return this.imul(e,e.clone())},A.prototype.sqr=function(e){return this.mul(e,e)},A.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,i),h=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=s;0!==d.cmp(a);){for(var g=d,m=0;0!==g.cmp(a);m++)g=g.redSqr();n(m<p);var y=this.pow(f,new o(1).iushln(p-m-1));h=h.redMul(y),f=y.redSqr(),d=d.redMul(f),p=m}return h},A.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},A.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var l=t.words[n],c=u-1;c>=0;c--){var f=l>>c&1;i!==r[0]&&(i=this.sqr(i)),0!==f||0!==s?(s<<=1,s|=f,(4===++a||0===n&&0===c)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},A.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},A.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new R(e)},i(R,A),R.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},R.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},R.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},R.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},R.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,commonjsGlobal$1)}(bn$1);var dist={},classes={};Object.defineProperty(classes,"__esModule",{value:!0}),classes.EthereumProviderError=classes.EthereumRpcError=void 0;const fast_safe_stringify_1=fastSafeStringify;class EthereumRpcError extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return fast_safe_stringify_1.default(this.serialize(),stringifyReplacer,2)}}classes.EthereumRpcError=EthereumRpcError;class EthereumProviderError extends EthereumRpcError{constructor(e,t,r){if(!isValidEthProviderCode(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}function isValidEthProviderCode(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function stringifyReplacer(e,t){if("[Circular]"!==t)return t}classes.EthereumProviderError=EthereumProviderError;var utils={},errorConstants={};Object.defineProperty(errorConstants,"__esModule",{value:!0}),errorConstants.errorValues=errorConstants.errorCodes=void 0,errorConstants.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},errorConstants.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=errorConstants,r=classes,n=t.errorCodes.rpc.internal,i={code:n,message:o(n)};function o(r,n="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(r)){const n=r.toString();if(l(t.errorValues,n))return t.errorValues[n].message;if(a(r))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return n}function s(e){if(!Number.isInteger(e))return!1;const r=e.toString();return!!t.errorValues[r]||!!a(e)}function a(e){return e>=-32099&&e<=-32e3}function u(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",e.getMessageFromCode=o,e.isValidCode=s,e.serializeError=function(e,{fallbackError:t=i,shouldIncludeStack:n=!1}={}){var a,c;if(!t||!Number.isInteger(t.code)||"string"!=typeof t.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof r.EthereumRpcError)return e.serialize();const f={};if(e&&"object"==typeof e&&!Array.isArray(e)&&l(e,"code")&&s(e.code)){const t=e;f.code=t.code,t.message&&"string"==typeof t.message?(f.message=t.message,l(t,"data")&&(f.data=t.data)):(f.message=o(f.code),f.data={originalError:u(e)})}else{f.code=t.code;const r=null===(a=e)||void 0===a?void 0:a.message;f.message=r&&"string"==typeof r?r:t.message,f.data={originalError:u(e)}}const h=null===(c=e)||void 0===c?void 0:c.stack;return n&&e&&h&&"string"==typeof h&&(f.stack=h),f}}(utils);var errors={};Object.defineProperty(errors,"__esModule",{value:!0}),errors.ethErrors=void 0;const classes_1=classes,utils_1=utils,error_constants_1=errorConstants;function getEthJsonRpcError(e,t){const[r,n]=parseOpts(t);return new classes_1.EthereumRpcError(e,r||utils_1.getMessageFromCode(e),n)}function getEthProviderError(e,t){const[r,n]=parseOpts(t);return new classes_1.EthereumProviderError(e,r||utils_1.getMessageFromCode(e),n)}function parseOpts(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}errors.ethErrors={rpc:{parse:e=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.parse,e),invalidRequest:e=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidRequest,e),invalidParams:e=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidParams,e),methodNotFound:e=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.methodNotFound,e),internal:e=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return getEthJsonRpcError(t,e)},invalidInput:e=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>getEthProviderError(error_constants_1.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>getEthProviderError(error_constants_1.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>getEthProviderError(error_constants_1.errorCodes.provider.unsupportedMethod,e),disconnected:e=>getEthProviderError(error_constants_1.errorCodes.provider.disconnected,e),chainDisconnected:e=>getEthProviderError(error_constants_1.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:n}=e;if(!r||"string"!=typeof r)throw new Error('"message" must be a nonempty string');return new classes_1.EthereumProviderError(t,r,n)}}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;const t=classes;Object.defineProperty(e,"EthereumRpcError",{enumerable:!0,get:function(){return t.EthereumRpcError}}),Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return t.EthereumProviderError}});const r=utils;Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=errors;Object.defineProperty(e,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=errorConstants;Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})}(dist);var WalletLinkAnalytics$1={};Object.defineProperty(WalletLinkAnalytics$1,"__esModule",{value:!0}),WalletLinkAnalytics$1.WalletLinkAnalytics=void 0;class WalletLinkAnalytics{sendEvent(e,t){}}WalletLinkAnalytics$1.WalletLinkAnalytics=WalletLinkAnalytics;var init={},events={};Object.defineProperty(events,"__esModule",{value:!0}),events.EVENTS=void 0,events.EVENTS={REQUEST_CHILD_ETHEREUM_ACCOUNTS_START:"walletlink_sdk.request_child_ethereum_accounts.start",REQUEST_CHILD_ETHEREUM_ACCOUNTS_RESPONSE:"walletlink_sdk.request_child_ethereum_accounts.response",STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var WalletLinkAnalyticsAbstract$1={};Object.defineProperty(WalletLinkAnalyticsAbstract$1,"__esModule",{value:!0}),WalletLinkAnalyticsAbstract$1.WalletLinkAnalyticsAbstract=void 0;class WalletLinkAnalyticsAbstract{}WalletLinkAnalyticsAbstract$1.WalletLinkAnalyticsAbstract=WalletLinkAnalyticsAbstract,function(e){var t=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal$1&&commonjsGlobal$1.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(events,e),r(WalletLinkAnalyticsAbstract$1,e)}(init);var Session$1={},sha256={exports:{}};
/**
			 * [js-sha256]{@link https://github.com/emn178/js-sha256}
			 *
			 * @version 0.9.0
			 * @author Chen, Yi-Cyuan [emn178@gmail.com]
			 * @copyright Chen, Yi-Cyuan 2014-2017
			 * @license MIT
			 */
(function(module){(function(){var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal$1:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(r){return new Sha256(t,!0).update(r)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];t[n]=createOutputMethod(n,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null==e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(r,n){return new HmacSha256(r,t,!0).update(n)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,r){return t.create(e).update(r)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];t[n]=createHmacOutputMethod(n,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,r){var n,i=typeof e;if("string"===i){var o,s=[],a=e.length,u=0;for(n=0;n<a;++n)(o=e.charCodeAt(n))<128?s[u++]=o:o<2048?(s[u++]=192|o>>6,s[u++]=128|63&o):o<55296||o>=57344?(s[u++]=224|o>>12,s[u++]=128|o>>6&63,s[u++]=128|63&o):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++n)),s[u++]=240|o>>18,s[u++]=128|o>>12&63,s[u++]=128|o>>6&63,s[u++]=128|63&o);e=s}else{if("object"!==i)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,!0).update(e).array());var l=[],c=[];for(n=0;n<64;++n){var f=e[n]||0;l[n]=92^f,c[n]=54^f}Sha256.call(this,t,r),this.update(c),this.oKeyPad=l,this.inner=!0,this.sharedMemory=r}Sha256.prototype.update=function(e){if(!this.finalized){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var n,i,o=0,s=e.length,a=this.blocks;o<s;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t)for(i=this.start;o<s&&i<64;++o)a[i>>2]|=e[o]<<SHIFT[3&i++];else for(i=this.start;o<s&&i<64;++o)(n=e.charCodeAt(o))<128?a[i>>2]|=n<<SHIFT[3&i++]:n<2048?(a[i>>2]|=(192|n>>6)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]):n<55296||n>=57344?(a[i>>2]|=(224|n>>12)<<SHIFT[3&i++],a[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++o)),a[i>>2]|=(240|n>>18)<<SHIFT[3&i++],a[i>>2]|=(128|n>>12&63)<<SHIFT[3&i++],a[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=a[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,r,n,i,o,s,a,u,l=this.h0,c=this.h1,f=this.h2,h=this.h3,d=this.h4,p=this.h5,g=this.h6,m=this.h7,y=this.blocks;for(e=16;e<64;++e)t=((i=y[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,r=((i=y[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,y[e]=y[e-16]+t+y[e-7]+r<<0;for(u=c&f,e=0;e<64;e+=4)this.first?(this.is224?(o=300032,m=(i=y[0]-1413257819)-150054599<<0,h=i+24177077<<0):(o=704751109,m=(i=y[0]-210244248)-1521486534<<0,h=i+143694565<<0),this.first=!1):(t=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),n=(o=l&c)^l&f^u,m=h+(i=m+(r=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&p^~d&g)+K[e]+y[e])<<0,h=i+(t+n)<<0),t=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),n=(s=h&l)^h&c^o,g=f+(i=g+(r=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&d^~m&p)+K[e+1]+y[e+1])<<0,t=((f=i+(t+n)<<0)>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),n=(a=f&h)^f&l^s,p=c+(i=p+(r=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&m^~g&d)+K[e+2]+y[e+2])<<0,t=((c=i+(t+n)<<0)>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),n=(u=c&f)^c&h^a,d=l+(i=d+(r=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&g^~p&m)+K[e+3]+y[e+3])<<0,l=i+(t+n)<<0;this.h0=this.h0+l<<0,this.h1=this.h1+c<<0,this.h2=this.h2+f<<0,this.h3=this.h3+h<<0,this.h4=this.h4+d<<0,this.h5=this.h5+p<<0,this.h6=this.h6+g<<0,this.h7=this.h7+m<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,u=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s];return this.is224||(u+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]),u},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,u=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,s>>24&255,s>>16&255,s>>8&255,255&s];return this.is224||u.push(a>>24&255,a>>16&255,a>>8&255,255&a),u},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports$1=createMethod();exports$1.sha256=exports$1,exports$1.sha224=createMethod(!0),exports$1.sha256.hmac=createHmacMethod(),exports$1.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports$1:(root.sha256=exports$1.sha256,root.sha224=exports$1.sha224)})()})(sha256);
/*! *****************************************************************************
			Copyright (c) Microsoft Corporation.

			Permission to use, copy, modify, and/or distribute this software for any
			purpose with or without fee is hereby granted.

			THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
			REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
			AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
			INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
			LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
			OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
			PERFORMANCE OF THIS SOFTWARE.
			***************************************************************************** */var extendStatics=function(e,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},extendStatics(e,t)};function __extends(e,t){function r(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function isFunction$1(e){return"function"==typeof e}var _enable_super_gross_mode_that_will_cause_bad_things=!1,config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;_enable_super_gross_mode_that_will_cause_bad_things=e},get useDeprecatedSynchronousErrorHandling(){return _enable_super_gross_mode_that_will_cause_bad_things}};function hostReportError(e){setTimeout((function(){throw e}),0)}var empty$1={closed:!0,next:function(e){},error:function(e){if(config.useDeprecatedSynchronousErrorHandling)throw e;hostReportError(e)},complete:function(){}},isArray$1=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}();function isObject$1(e){return null!==e&&"object"==typeof e}var UnsubscriptionErrorImpl=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),UnsubscriptionError=UnsubscriptionErrorImpl,Subscription=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var r;if(!this.closed){var n=this,i=n._parentOrParents,o=n._ctorUnsubscribe,s=n._unsubscribe,a=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof t)i.remove(this);else if(null!==i)for(var u=0;u<i.length;++u){i[u].remove(this)}if(isFunction$1(s)){o&&(this._unsubscribe=void 0);try{s.call(this)}catch(e){r=e instanceof UnsubscriptionError?flattenUnsubscriptionErrors(e.errors):[e]}}if(isArray$1(a)){u=-1;for(var l=a.length;++u<l;){var c=a[u];if(isObject$1(c))try{c.unsubscribe()}catch(e){r=r||[],e instanceof UnsubscriptionError?r=r.concat(flattenUnsubscriptionErrors(e.errors)):r.push(e)}}}if(r)throw new UnsubscriptionError(r)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(null===i)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return r;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[r]:o.push(r),r},t.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function flattenUnsubscriptionErrors(e){return e.reduce((function(e,t){return e.concat(t instanceof UnsubscriptionError?t.errors:t)}),[])}var rxSubscriber=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Subscriber=function(e){function t(r,n,i){var o=e.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=empty$1;break;case 1:if(!r){o.destination=empty$1;break}if("object"==typeof r){r instanceof t?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new SafeSubscriber(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new SafeSubscriber(o,r,n,i)}return o}return __extends(t,e),t.prototype[rxSubscriber]=function(){return this},t.create=function(e,r,n){var i=new t(e,r,n);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(Subscription),SafeSubscriber=function(e){function t(t,r,n,i){var o,s=e.call(this)||this;s._parentSubscriber=t;var a=s;return isFunction$1(r)?o=r:r&&(o=r.next,n=r.error,i=r.complete,r!==empty$1&&(isFunction$1((a=Object.create(r)).unsubscribe)&&s.add(a.unsubscribe.bind(a)),a.unsubscribe=s.unsubscribe.bind(s))),s._context=a,s._next=o,s._error=n,s._complete=i,s}return __extends(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,r=config.useDeprecatedSynchronousErrorHandling;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):hostReportError(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;hostReportError(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(r){if(this.unsubscribe(),config.useDeprecatedSynchronousErrorHandling)throw r;hostReportError(r)}},t.prototype.__tryOrSetError=function(e,t,r){if(!config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(n){return config.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=n,e.syncErrorThrown=!0,!0):(hostReportError(n),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(Subscriber);function canReportError(e){for(;e;){var t=e,r=t.closed,n=t.destination,i=t.isStopped;if(r||i)return!1;e=n&&n instanceof Subscriber?n:null}return!0}function toSubscriber(e,t,r){if(e){if(e instanceof Subscriber)return e;if(e[rxSubscriber])return e[rxSubscriber]()}return e||t||r?new Subscriber(e,t,r):new Subscriber(empty$1)}var observable=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function identity(e){return e}function pipe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return pipeFromArray(e)}function pipeFromArray(e){return 0===e.length?identity:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var Observable=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n=this.operator,i=toSubscriber(e,t,r);if(n?i.add(n.call(i,this.source)):i.add(this.source||config.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),config.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),canReportError(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=getPromiseCtor(t))((function(t,n){var i;i=r.subscribe((function(t){try{e(t)}catch(r){n(r),i&&i.unsubscribe()}}),n,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=getPromiseCtor(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function getPromiseCtor(e){if(e||(e=config.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var ObjectUnsubscribedErrorImpl=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),ObjectUnsubscribedError=ObjectUnsubscribedErrorImpl,SubjectSubscription=function(e){function t(t,r){var n=e.call(this)||this;return n.subject=t,n.subscriber=r,n.closed=!1,n}return __extends(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}},t}(Subscription),SubjectSubscriber=function(e){function t(t){var r=e.call(this,t)||this;return r.destination=t,r}return __extends(t,e),t}(Subscriber),Subject=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return __extends(t,e),t.prototype[rxSubscriber]=function(){return new SubjectSubscriber(this)},t.prototype.lift=function(e){var t=new AnonymousSubject(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,r=t.length,n=t.slice(),i=0;i<r;i++)n[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,r=t.length,n=t.slice(),i=0;i<r;i++)n[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,r=e.slice(),n=0;n<t;n++)r[n].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),Subscription.EMPTY):this.isStopped?(e.complete(),Subscription.EMPTY):(this.observers.push(e),new SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new Observable;return e.source=this,e},t.create=function(e,t){return new AnonymousSubject(e,t)},t}(Observable),AnonymousSubject=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return __extends(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):Subscription.EMPTY},t}(Subject);function refCount(){return function(e){return e.lift(new RefCountOperator(e))}}var RefCountOperator=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var r=this.connectable;r._refCount++;var n=new RefCountSubscriber(e,r),i=t.subscribe(n);return n.closed||(n.connection=r.connect()),i},e}(),RefCountSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.connectable=r,n}return __extends(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var r=this.connection,n=e._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},t}(Subscriber),ConnectableObservable=function(e){function t(t,r){var n=e.call(this)||this;return n.source=t,n.subjectFactory=r,n._refCount=0,n._isComplete=!1,n}return __extends(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new Subscription).add(this.source.subscribe(new ConnectableSubscriber(this.getSubject(),this))),e.closed&&(this._connection=null,e=Subscription.EMPTY)),e},t.prototype.refCount=function(){return refCount()(this)},t}(Observable),connectableObservableDescriptor=function(){var e=ConnectableObservable.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),ConnectableSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.connectable=r,n}return __extends(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(SubjectSubscriber);function groupBy(e,t,r,n){return function(i){return i.lift(new GroupByOperator(e,t,r,n))}}var GroupByOperator=function(){function e(e,t,r,n){this.keySelector=e,this.elementSelector=t,this.durationSelector=r,this.subjectSelector=n}return e.prototype.call=function(e,t){return t.subscribe(new GroupBySubscriber(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),GroupBySubscriber=function(e){function t(t,r,n,i,o){var s=e.call(this,t)||this;return s.keySelector=r,s.elementSelector=n,s.durationSelector=i,s.subjectSelector=o,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return __extends(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(r){return void this.error(r)}this._group(e,t)},t.prototype._group=function(e,t){var r=this.groups;r||(r=this.groups=new Map);var n,i=r.get(t);if(this.elementSelector)try{n=this.elementSelector(e)}catch(a){this.error(a)}else n=e;if(!i){i=this.subjectSelector?this.subjectSelector():new Subject,r.set(t,i);var o=new GroupedObservable(t,i,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new GroupedObservable(t,i))}catch(a){return void this.error(a)}this.add(s.subscribe(new GroupDurationSubscriber(t,i,this)))}}i.closed||i.next(n)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach((function(t,r){t.error(e)})),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach((function(e,t){e.complete()})),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(Subscriber),GroupDurationSubscriber=function(e){function t(t,r,n){var i=e.call(this,r)||this;return i.key=t,i.group=r,i.parent=n,i}return __extends(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(Subscriber),GroupedObservable=function(e){function t(t,r,n){var i=e.call(this)||this;return i.key=t,i.groupSubject=r,i.refCountSubscription=n,i}return __extends(t,e),t.prototype._subscribe=function(e){var t=new Subscription,r=this.refCountSubscription,n=this.groupSubject;return r&&!r.closed&&t.add(new InnerRefCountSubscription(r)),t.add(n.subscribe(e)),t},t}(Observable),InnerRefCountSubscription=function(e){function t(t){var r=e.call(this)||this;return r.parent=t,t.count++,r}return __extends(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(Subscription),BehaviorSubject=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return __extends(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r&&!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ObjectUnsubscribedError;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(Subject),Action=function(e){function t(t,r){return e.call(this)||this}return __extends(t,e),t.prototype.schedule=function(e,t){return this},t}(Subscription),AsyncAction=function(t){function r(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n.pending=!1,n}return __extends(r,t),r.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},r.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),setInterval(e.flush.bind(e,this),r)},r.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return t;clearInterval(t)},r.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},r.prototype._execute=function(t,r){var n=!1,i=void 0;try{this.work(t)}catch(e){n=!0,i=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),i},r.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,r=t.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},r}(Action),QueueAction=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return __extends(t,e),t.prototype.schedule=function(t,r){return void 0===r&&(r=0),r>0?e.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,r){return r>0||this.closed?e.prototype.execute.call(this,t,r):this._execute(t,r)},t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?e.prototype.requestAsyncId.call(this,t,r,n):t.flush(this)},t}(AsyncAction),Scheduler=function(){function e(t,r){void 0===r&&(r=e.now),this.SchedulerAction=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(r,t)},e.now=function(){return Date.now()},e}(),AsyncScheduler=function(e){function t(r,n){void 0===n&&(n=Scheduler.now);var i=e.call(this,r,(function(){return t.delegate&&t.delegate!==i?t.delegate.now():n()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return __extends(t,e),t.prototype.schedule=function(r,n,i){return void 0===n&&(n=0),t.delegate&&t.delegate!==this?t.delegate.schedule(r,n,i):e.prototype.schedule.call(this,r,n,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(Scheduler),QueueScheduler=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(AsyncScheduler),queueScheduler=new QueueScheduler(QueueAction),queue=queueScheduler,EMPTY=new Observable((function(e){return e.complete()}));function empty(e){return e?emptyScheduled(e):EMPTY}function emptyScheduled(e){return new Observable((function(t){return e.schedule((function(){return t.complete()}))}))}function isScheduler(e){return e&&"function"==typeof e.schedule}var subscribeToArray=function(e){return function(t){for(var r=0,n=e.length;r<n&&!t.closed;r++)t.next(e[r]);t.complete()}},NotificationKind;function scheduleArray(e,t){return new Observable((function(r){var n=new Subscription,i=0;return n.add(t.schedule((function(){i!==e.length?(r.next(e[i++]),r.closed||n.add(this.schedule())):r.complete()}))),n}))}function fromArray(e,t){return t?scheduleArray(e,t):new Observable(subscribeToArray(e))}function of(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];return isScheduler(r)?(e.pop(),scheduleArray(e,r)):fromArray(e)}function throwError(e,t){return new Observable(t?function(r){return t.schedule(dispatch$7,0,{error:e,subscriber:r})}:function(t){return t.error(e)})}function dispatch$7(e){var t=e.error;e.subscriber.error(t)}NotificationKind||(NotificationKind={});var Notification=function(){function e(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}},e.prototype.accept=function(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){switch(this.kind){case"N":return of(this.value);case"E":return throwError(this.error);case"C":return empty()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();function observeOn(e,t){return void 0===t&&(t=0),function(r){return r.lift(new ObserveOnOperator(e,t))}}var ObserveOnOperator=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new ObserveOnSubscriber(e,this.scheduler,this.delay))},e}(),ObserveOnSubscriber=function(e){function t(t,r,n){void 0===n&&(n=0);var i=e.call(this,t)||this;return i.scheduler=r,i.delay=n,i}return __extends(t,e),t.dispatch=function(e){var t=e.notification,r=e.destination;t.observe(r),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new ObserveOnMessage(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(Notification.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(Notification.createComplete()),this.unsubscribe()},t}(Subscriber),ObserveOnMessage=function(){return function(e,t){this.notification=e,this.destination=t}}(),ReplaySubject=function(e){function t(t,r,n){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=n,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=t<1?1:t,i._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return __extends(t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var r=this._events;r.push(t),r.length>this._bufferSize&&r.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new ReplayEvent(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,r=this._infiniteTimeWindow,n=r?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=n.length;if(this.closed)throw new ObjectUnsubscribedError;if(this.isStopped||this.hasError?t=Subscription.EMPTY:(this.observers.push(e),t=new SubjectSubscription(this,e)),i&&e.add(e=new ObserveOnSubscriber(e,i)),r)for(var s=0;s<o&&!e.closed;s++)e.next(n[s]);else for(s=0;s<o&&!e.closed;s++)e.next(n[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,r=this._windowTime,n=this._events,i=n.length,o=0;o<i&&!(e-n[o].time<r);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&n.splice(0,o),n},t}(Subject),ReplayEvent=function(){return function(e,t){this.time=e,this.value=t}}(),AsyncSubject=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return __extends(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),Subscription.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),Subscription.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(Subject),nextHandle=1,RESOLVED=function(){return Promise.resolve()}(),activeHandles={};function findAndClearHandle(e){return e in activeHandles&&(delete activeHandles[e],!0)}var Immediate={setImmediate:function(e){var t=nextHandle++;return activeHandles[t]=!0,RESOLVED.then((function(){return findAndClearHandle(t)&&e()})),t},clearImmediate:function(e){findAndClearHandle(e)}},AsapAction=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return __extends(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t.scheduled||(t.scheduled=Immediate.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);0===t.actions.length&&(Immediate.clearImmediate(r),t.scheduled=void 0)},t}(AsyncAction),AsapScheduler=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,i=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<i&&(e=r.shift()));if(this.active=!1,t){for(;++n<i&&(e=r.shift());)e.unsubscribe();throw t}},t}(AsyncScheduler),asapScheduler=new AsapScheduler(AsapAction),asap=asapScheduler,asyncScheduler=new AsyncScheduler(AsyncAction),async=asyncScheduler,AnimationFrameAction=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return __extends(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);0===t.actions.length&&(cancelAnimationFrame(r),t.scheduled=void 0)},t}(AsyncAction),AnimationFrameScheduler=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,i=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<i&&(e=r.shift()));if(this.active=!1,t){for(;++n<i&&(e=r.shift());)e.unsubscribe();throw t}},t}(AsyncScheduler),animationFrameScheduler=new AnimationFrameScheduler(AnimationFrameAction),animationFrame=animationFrameScheduler,VirtualTimeScheduler=function(e){function t(t,r){void 0===t&&(t=VirtualAction),void 0===r&&(r=Number.POSITIVE_INFINITY);var n=e.call(this,t,(function(){return n.frame}))||this;return n.maxFrames=r,n.frame=0,n.index=-1,n}return __extends(t,e),t.prototype.flush=function(){for(var e,t,r=this.actions,n=this.maxFrames;(t=r[0])&&t.delay<=n&&(r.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=r.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(AsyncScheduler),VirtualAction=function(e){function t(t,r,n){void 0===n&&(n=t.index+=1);var i=e.call(this,t,r)||this;return i.scheduler=t,i.work=r,i.index=n,i.active=!0,i.index=t.index=n,i}return __extends(t,e),t.prototype.schedule=function(r,n){if(void 0===n&&(n=0),!this.id)return e.prototype.schedule.call(this,r,n);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},t.prototype.requestAsyncId=function(e,r,n){void 0===n&&(n=0),this.delay=e.frame+n;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,r){},t.prototype._execute=function(t,r){if(!0===this.active)return e.prototype._execute.call(this,t,r)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(AsyncAction);function noop$2(){}function isObservable(e){return!!e&&(e instanceof Observable||"function"==typeof e.lift&&"function"==typeof e.subscribe)}var ArgumentOutOfRangeErrorImpl=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}(),ArgumentOutOfRangeError=ArgumentOutOfRangeErrorImpl,EmptyErrorImpl=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),EmptyError=EmptyErrorImpl,TimeoutErrorImpl=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}(),TimeoutError=TimeoutErrorImpl;function map(e,t){return function(r){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new MapOperator(e,t))}}var MapOperator=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new MapSubscriber(e,this.project,this.thisArg))},e}(),MapSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.project=r,i.count=0,i.thisArg=n||i,i}return __extends(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(t)},t}(Subscriber);function bindCallback(e,t,r){if(t){if(!isScheduler(t))return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return bindCallback(e,r).apply(void 0,n).pipe(map((function(e){return isArray$1(e)?t.apply(void 0,e):t(e)})))};r=t}return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i,o=this,s={context:o,subject:i,callbackFunc:e,scheduler:r};return new Observable((function(n){if(r){var a={args:t,subscriber:n,params:s};return r.schedule(dispatch$6,0,a)}if(!i){i=new AsyncSubject;try{e.apply(o,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.next(e.length<=1?e[0]:e),i.complete()}]))}catch(u){canReportError(i)?i.error(u):console.warn(u)}}return i.subscribe(n)}))}}function dispatch$6(e){var t=this,r=e.args,n=e.subscriber,i=e.params,o=i.callbackFunc,s=i.context,a=i.scheduler,u=i.subject;if(!u){u=i.subject=new AsyncSubject;try{o.apply(s,r.concat([function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e.length<=1?e[0]:e;t.add(a.schedule(dispatchNext$3,0,{value:n,subject:u}))}]))}catch(l){u.error(l)}}this.add(u.subscribe(n))}function dispatchNext$3(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function bindNodeCallback(e,t,r){if(t){if(!isScheduler(t))return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return bindNodeCallback(e,r).apply(void 0,n).pipe(map((function(e){return isArray$1(e)?t.apply(void 0,e):t(e)})))};r=t}return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i={subject:void 0,args:t,callbackFunc:e,scheduler:r,context:this};return new Observable((function(n){var o=i.context,s=i.subject;if(r)return r.schedule(dispatch$5,0,{params:i,subscriber:n,context:o});if(!s){s=i.subject=new AsyncSubject;try{e.apply(o,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.shift();r?s.error(r):(s.next(e.length<=1?e[0]:e),s.complete())}]))}catch(a){canReportError(s)?s.error(a):console.warn(a)}}return s.subscribe(n)}))}}function dispatch$5(e){var t=this,r=e.params,n=e.subscriber,i=e.context,o=r.callbackFunc,s=r.args,a=r.scheduler,u=r.subject;if(!u){u=r.subject=new AsyncSubject;try{o.apply(i,s.concat([function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e.shift();if(n)t.add(a.schedule(dispatchError,0,{err:n,subject:u}));else{var i=e.length<=1?e[0]:e;t.add(a.schedule(dispatchNext$2,0,{value:i,subject:u}))}}]))}catch(l){this.add(a.schedule(dispatchError,0,{err:l,subject:u}))}}this.add(u.subscribe(n))}function dispatchNext$2(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function dispatchError(e){var t=e.err;e.subject.error(t)}var OuterSubscriber=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(Subscriber),InnerSubscriber=function(e){function t(t,r,n){var i=e.call(this)||this;return i.parent=t,i.outerValue=r,i.outerIndex=n,i.index=0,i}return __extends(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(Subscriber),subscribeToPromise=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,hostReportError),t}};function getSymbolIterator(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var iterator=getSymbolIterator(),subscribeToIterable=function(e){return function(t){for(var r=e[iterator]();;){var n=void 0;try{n=r.next()}catch(i){return t.error(i),t}if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}return"function"==typeof r.return&&t.add((function(){r.return&&r.return()})),t}},subscribeToObservable=function(e){return function(t){var r=e[observable]();if("function"!=typeof r.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(t)}},isArrayLike=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function isPromise(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var subscribeTo=function(e){if(e&&"function"==typeof e[observable])return subscribeToObservable(e);if(isArrayLike(e))return subscribeToArray(e);if(isPromise(e))return subscribeToPromise(e);if(e&&"function"==typeof e[iterator])return subscribeToIterable(e);var t=isObject$1(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function subscribeToResult(e,t,r,n,i){if(void 0===i&&(i=new InnerSubscriber(e,r,n)),!i.closed)return t instanceof Observable?t.subscribe(i):subscribeTo(t)(i)}var NONE={};function combineLatest$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=void 0,n=void 0;return isScheduler(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&isArray$1(e[0])&&(e=e[0]),fromArray(e,n).lift(new CombineLatestOperator(r))}var CombineLatestOperator=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new CombineLatestSubscriber(e,this.resultSelector))},e}(),CombineLatestSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.resultSelector=r,n.active=0,n.values=[],n.observables=[],n}return __extends(t,e),t.prototype._next=function(e){this.values.push(NONE),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var r=0;r<t;r++){var n=e[r];this.add(subscribeToResult(this,n,void 0,r))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r){var n=this.values,i=n[r],o=this.toRespond?i===NONE?--this.toRespond:this.toRespond:0;n[r]=t,0===o&&(this.resultSelector?this._tryResultSelector(n):this.destination.next(n.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)},t}(OuterSubscriber);function scheduleObservable(e,t){return new Observable((function(r){var n=new Subscription;return n.add(t.schedule((function(){var i=e[observable]();n.add(i.subscribe({next:function(e){n.add(t.schedule((function(){return r.next(e)})))},error:function(e){n.add(t.schedule((function(){return r.error(e)})))},complete:function(){n.add(t.schedule((function(){return r.complete()})))}}))}))),n}))}function schedulePromise(e,t){return new Observable((function(r){var n=new Subscription;return n.add(t.schedule((function(){return e.then((function(e){n.add(t.schedule((function(){r.next(e),n.add(t.schedule((function(){return r.complete()})))})))}),(function(e){n.add(t.schedule((function(){return r.error(e)})))}))}))),n}))}function scheduleIterable(e,t){if(!e)throw new Error("Iterable cannot be null");return new Observable((function(r){var n,i=new Subscription;return i.add((function(){n&&"function"==typeof n.return&&n.return()})),i.add(t.schedule((function(){n=e[iterator](),i.add(t.schedule((function(){if(!r.closed){var e,t;try{var i=n.next();e=i.value,t=i.done}catch(o){return void r.error(o)}t?r.complete():(r.next(e),this.schedule())}})))}))),i}))}function isInteropObservable(e){return e&&"function"==typeof e[observable]}function isIterable(e){return e&&"function"==typeof e[iterator]}function scheduled(e,t){if(null!=e){if(isInteropObservable(e))return scheduleObservable(e,t);if(isPromise(e))return schedulePromise(e,t);if(isArrayLike(e))return scheduleArray(e,t);if(isIterable(e)||"string"==typeof e)return scheduleIterable(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function from(e,t){return t?scheduled(e,t):e instanceof Observable?e:new Observable(subscribeTo(e))}var SimpleInnerSubscriber=function(e){function t(t){var r=e.call(this)||this;return r.parent=t,r}return __extends(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(Subscriber),SimpleOuterSubscriber=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(Subscriber);function innerSubscribe(e,t){if(!t.closed){if(e instanceof Observable)return e.subscribe(t);var r;try{r=subscribeTo(e)(t)}catch(error){t.error(error)}return r}}function mergeMap(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof t?function(n){return n.pipe(mergeMap((function(r,n){return from(e(r,n)).pipe(map((function(e,i){return t(r,e,n,i)})))}),r))}:("number"==typeof t&&(r=t),function(t){return t.lift(new MergeMapOperator(e,r))})}var MergeMapOperator=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new MergeMapSubscriber(e,this.project,this.concurrent))},e}(),MergeMapSubscriber=function(e){function t(t,r,n){void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=r,i.concurrent=n,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return __extends(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new SimpleInnerSubscriber(this),r=this.destination;r.add(t);var n=innerSubscribe(e,t);n!==t&&r.add(n)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(SimpleOuterSubscriber),flatMap=mergeMap;function mergeAll(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),mergeMap(identity,e)}function concatAll(){return mergeAll(1)}function concat$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return concatAll()(of.apply(void 0,e))}function defer(e){return new Observable((function(t){var r;try{r=e()}catch(n){return void t.error(n)}return(r?from(r):empty()).subscribe(t)}))}function forkJoin(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var r=e[0];if(isArray$1(r))return forkJoinInternal(r,null);if(isObject$1(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return forkJoinInternal(n.map((function(e){return r[e]})),n)}}if("function"==typeof e[e.length-1]){var i=e.pop();return forkJoinInternal(e=1===e.length&&isArray$1(e[0])?e[0]:e,null).pipe(map((function(e){return i.apply(void 0,e)})))}return forkJoinInternal(e,null)}function forkJoinInternal(e,t){return new Observable((function(r){var n=e.length;if(0!==n)for(var i=new Array(n),o=0,s=0,a=function(a){var u=from(e[a]),l=!1;r.add(u.subscribe({next:function(e){l||(l=!0,s++),i[a]=e},error:function(e){return r.error(e)},complete:function(){++o!==n&&l||(s===n&&r.next(t?t.reduce((function(e,t,r){return e[t]=i[r],e}),{}):i),r.complete())}}))},u=0;u<n;u++)a(u);else r.complete()}))}function fromEvent(e,t,r,n){return isFunction$1(r)&&(n=r,r=void 0),n?fromEvent(e,t,r).pipe(map((function(e){return isArray$1(e)?n.apply(void 0,e):n(e)}))):new Observable((function(n){setupSubscription(e,t,(function(e){arguments.length>1?n.next(Array.prototype.slice.call(arguments)):n.next(e)}),n,r)}))}function setupSubscription(e,t,r,n,i){var o;if(isEventTarget(e)){var s=e;e.addEventListener(t,r,i),o=function(){return s.removeEventListener(t,r,i)}}else if(isJQueryStyleEventEmitter(e)){var a=e;e.on(t,r),o=function(){return a.off(t,r)}}else if(isNodeStyleEventEmitter(e)){var u=e;e.addListener(t,r),o=function(){return u.removeListener(t,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,c=e.length;l<c;l++)setupSubscription(e[l],t,r,n,i)}n.add(o)}function isNodeStyleEventEmitter(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}function isJQueryStyleEventEmitter(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}function isEventTarget(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}function fromEventPattern(e,t,r){return r?fromEventPattern(e,t).pipe(map((function(e){return isArray$1(e)?r.apply(void 0,e):r(e)}))):new Observable((function(r){var n,i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.next(1===e.length?e[0]:e)};try{n=e(i)}catch(o){return void r.error(o)}if(isFunction$1(t))return function(){return t(i,n)}}))}function generate(e,t,r,n,i){var o,s;if(1==arguments.length){var a=e;s=a.initialState,t=a.condition,r=a.iterate,o=a.resultSelector||identity,i=a.scheduler}else void 0===n||isScheduler(n)?(s=e,o=identity,i=n):(s=e,o=n);return new Observable((function(e){var n=s;if(i)return i.schedule(dispatch$4,0,{subscriber:e,iterate:r,condition:t,resultSelector:o,state:n});for(;;){if(t){var a=void 0;try{a=t(n)}catch(l){return void e.error(l)}if(!a){e.complete();break}}var u=void 0;try{u=o(n)}catch(l){return void e.error(l)}if(e.next(u),e.closed)break;try{n=r(n)}catch(l){return void e.error(l)}}}))}function dispatch$4(e){var t=e.subscriber,r=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(o){return void t.error(o)}else e.needIterate=!0;if(r){var n=void 0;try{n=r(e.state)}catch(o){return void t.error(o)}if(!n)return void t.complete();if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(o){return void t.error(o)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}}function iif(e,t,r){return void 0===t&&(t=EMPTY),void 0===r&&(r=EMPTY),defer((function(){return e()?t:r}))}function isNumeric(e){return!isArray$1(e)&&e-parseFloat(e)+1>=0}function interval(e,t){return void 0===e&&(e=0),void 0===t&&(t=async),(!isNumeric(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=async),new Observable((function(r){return r.add(t.schedule(dispatch$3,e,{subscriber:r,counter:0,period:e})),r}))}function dispatch$3(e){var t=e.subscriber,r=e.counter,n=e.period;t.next(r),this.schedule({subscriber:t,counter:r+1,period:n},n)}function merge$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Number.POSITIVE_INFINITY,n=null,i=e[e.length-1];return isScheduler(i)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof i&&(r=e.pop()),null===n&&1===e.length&&e[0]instanceof Observable?e[0]:mergeAll(r)(fromArray(e,n))}var NEVER=new Observable(noop$2);function never(){return NEVER}function onErrorResumeNext$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return EMPTY;var r=e[0],n=e.slice(1);return 1===e.length&&isArray$1(r)?onErrorResumeNext$1.apply(void 0,r):new Observable((function(e){var t=function(){return e.add(onErrorResumeNext$1.apply(void 0,n).subscribe(e))};return from(r).subscribe({next:function(t){e.next(t)},error:t,complete:t})}))}function pairs(e,t){return new Observable(t?function(r){var n=Object.keys(e),i=new Subscription;return i.add(t.schedule(dispatch$2,0,{keys:n,index:0,subscriber:r,subscription:i,obj:e})),i}:function(t){for(var r=Object.keys(e),n=0;n<r.length&&!t.closed;n++){var i=r[n];e.hasOwnProperty(i)&&t.next([i,e[i]])}t.complete()})}function dispatch$2(e){var t=e.keys,r=e.index,n=e.subscriber,i=e.subscription,o=e.obj;if(!n.closed)if(r<t.length){var s=t[r];n.next([s,o[s]]),i.add(this.schedule({keys:t,index:r+1,subscriber:n,subscription:i,obj:o}))}else n.complete()}function not(e,t){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=e,r.thisArg=t,r}function filter(e,t){return function(r){return r.lift(new FilterOperator(e,t))}}var FilterOperator=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new FilterSubscriber(e,this.predicate,this.thisArg))},e}(),FilterSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.predicate=r,i.thisArg=n,i.count=0,i}return __extends(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)},t}(Subscriber);function partition$1(e,t,r){return[filter(t,r)(new Observable(subscribeTo(e))),filter(not(t,r))(new Observable(subscribeTo(e)))]}function race$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!isArray$1(e[0]))return e[0];e=e[0]}return fromArray(e,void 0).lift(new RaceOperator)}var RaceOperator=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new RaceSubscriber(e))},e}(),RaceSubscriber=function(e){function t(t){var r=e.call(this,t)||this;return r.hasFirst=!1,r.observables=[],r.subscriptions=[],r}return __extends(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var r=0;r<t&&!this.hasFirst;r++){var n=subscribeToResult(this,e[r],void 0,r);this.subscriptions&&this.subscriptions.push(n),this.add(n)}this.observables=null}},t.prototype.notifyNext=function(e,t,r){if(!this.hasFirst){this.hasFirst=!0;for(var n=0;n<this.subscriptions.length;n++)if(n!==r){var i=this.subscriptions[n];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(t)},t}(OuterSubscriber);function range$1(e,t,r){return void 0===e&&(e=0),new Observable((function(n){void 0===t&&(t=e,e=0);var i=0,o=e;if(r)return r.schedule(dispatch$1,0,{index:i,count:t,start:e,subscriber:n});for(;;){if(i++>=t){n.complete();break}if(n.next(o++),n.closed)break}}))}function dispatch$1(e){var t=e.start,r=e.index,n=e.count,i=e.subscriber;r>=n?i.complete():(i.next(t),i.closed||(e.index=r+1,e.start=t+1,this.schedule(e)))}function timer$1(e,t,r){void 0===e&&(e=0);var n=-1;return isNumeric(t)?n=Number(t)<1?1:Number(t):isScheduler(t)&&(r=t),isScheduler(r)||(r=async),new Observable((function(t){var i=isNumeric(e)?e:+e-r.now();return r.schedule(dispatch,i,{index:0,period:n,subscriber:t})}))}function dispatch(e){var t=e.index,r=e.period,n=e.subscriber;if(n.next(t),!n.closed){if(-1===r)return n.complete();e.index=t+1,this.schedule(e,r)}}function using(e,t){return new Observable((function(r){var n,i;try{n=e()}catch(s){return void r.error(s)}try{i=t(n)}catch(s){return void r.error(s)}var o=(i?from(i):EMPTY).subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}}))}function zip$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];return"function"==typeof r&&e.pop(),fromArray(e,void 0).lift(new ZipOperator(r))}var ZipOperator=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new ZipSubscriber(e,this.resultSelector))},e}(),ZipSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.resultSelector=r,i.iterators=[],i.active=0,i.resultSelector="function"==typeof r?r:void 0,i}return __extends(t,e),t.prototype._next=function(e){var t=this.iterators;isArray$1(e)?t.push(new StaticArrayIterator(e)):"function"==typeof e[iterator]?t.push(new StaticIterator(e[iterator]())):t.push(new ZipBufferIterator(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var r=0;r<t;r++){var n=e[r];if(n.stillUnsubscribed)this.destination.add(n.subscribe());else this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,r=this.destination,n=0;n<t;n++){if("function"==typeof(s=e[n]).hasValue&&!s.hasValue())return}var i=!1,o=[];for(n=0;n<t;n++){var s,a=(s=e[n]).next();if(s.hasCompleted()&&(i=!0),a.done)return void r.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):r.next(o),i&&r.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)},t}(Subscriber),StaticIterator=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},e}(),StaticArrayIterator=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[iterator]=function(){return this},e.prototype.next=function(e){var t=this.index++,r=this.array;return t<this.length?{value:r[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),ZipBufferIterator=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.parent=r,i.observable=n,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return __extends(t,e),t.prototype[iterator]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return innerSubscribe(this.observable,new SimpleInnerSubscriber(this))},t}(SimpleOuterSubscriber),_esm5=Object.freeze(Object.defineProperty({__proto__:null,Observable:Observable,ConnectableObservable:ConnectableObservable,GroupedObservable:GroupedObservable,observable:observable,Subject:Subject,BehaviorSubject:BehaviorSubject,ReplaySubject:ReplaySubject,AsyncSubject:AsyncSubject,asap:asap,asapScheduler:asapScheduler,async:async,asyncScheduler:asyncScheduler,queue:queue,queueScheduler:queueScheduler,animationFrame:animationFrame,animationFrameScheduler:animationFrameScheduler,VirtualTimeScheduler:VirtualTimeScheduler,VirtualAction:VirtualAction,Scheduler:Scheduler,Subscription:Subscription,Subscriber:Subscriber,Notification:Notification,get NotificationKind(){return NotificationKind},pipe:pipe,noop:noop$2,identity:identity,isObservable:isObservable,ArgumentOutOfRangeError:ArgumentOutOfRangeError,EmptyError:EmptyError,ObjectUnsubscribedError:ObjectUnsubscribedError,UnsubscriptionError:UnsubscriptionError,TimeoutError:TimeoutError,bindCallback:bindCallback,bindNodeCallback:bindNodeCallback,combineLatest:combineLatest$1,concat:concat$1,defer:defer,empty:empty,forkJoin:forkJoin,from:from,fromEvent:fromEvent,fromEventPattern:fromEventPattern,generate:generate,iif:iif,interval:interval,merge:merge$1,never:never,of:of,onErrorResumeNext:onErrorResumeNext$1,pairs:pairs,partition:partition$1,race:race$1,range:range$1,throwError:throwError,timer:timer$1,using:using,zip:zip$1,scheduled:scheduled,EMPTY:EMPTY,NEVER:NEVER,config:config},Symbol.toStringTag,{value:"Module"})),require$$2$1=getAugmentedNamespace(_esm5);function audit(e){return function(t){return t.lift(new AuditOperator(e))}}var AuditOperator=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new AuditSubscriber(e,this.durationSelector))},e}(),AuditSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.durationSelector=r,n.hasValue=!1,n}return __extends(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=void 0;try{t=(0,this.durationSelector)(e)}catch(n){return this.destination.error(n)}var r=innerSubscribe(t,new SimpleInnerSubscriber(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}},t.prototype.clearThrottle=function(){var e=this,t=e.value,r=e.hasValue,n=e.throttled;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),r&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))},t.prototype.notifyNext=function(){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(SimpleOuterSubscriber);function auditTime(e,t){return void 0===t&&(t=async),audit((function(){return timer$1(e,t)}))}function buffer(e){return function(t){return t.lift(new BufferOperator(e))}}var BufferOperator=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new BufferSubscriber(e,this.closingNotifier))},e}(),BufferSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.buffer=[],n.add(innerSubscribe(r,new SimpleInnerSubscriber(n))),n}return __extends(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(){var e=this.buffer;this.buffer=[],this.destination.next(e)},t}(SimpleOuterSubscriber);function bufferCount(e,t){return void 0===t&&(t=null),function(r){return r.lift(new BufferCountOperator(e,t))}}var BufferCountOperator=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?BufferSkipCountSubscriber:BufferCountSubscriber}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),BufferCountSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.bufferSize=r,n.buffer=[],n}return __extends(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(Subscriber),BufferSkipCountSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.bufferSize=r,i.startBufferEvery=n,i.buffers=[],i.count=0,i}return __extends(t,e),t.prototype._next=function(e){var t=this,r=t.bufferSize,n=t.startBufferEvery,i=t.buffers,o=t.count;this.count++,o%n==0&&i.push([]);for(var s=i.length;s--;){var a=i[s];a.push(e),a.length===r&&(i.splice(s,1),this.destination.next(a))}},t.prototype._complete=function(){for(var t=this.buffers,r=this.destination;t.length>0;){var n=t.shift();n.length>0&&r.next(n)}e.prototype._complete.call(this)},t}(Subscriber);function bufferTime(e){var t=arguments.length,r=async;isScheduler(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],t--);var n=null;t>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return t>=3&&(i=arguments[2]),function(t){return t.lift(new BufferTimeOperator(e,n,i,r))}}var BufferTimeOperator=function(){function e(e,t,r,n){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=r,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new BufferTimeSubscriber(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),Context=function(){return function(){this.buffer=[]}}(),BufferTimeSubscriber=function(e){function t(t,r,n,i,o){var s=e.call(this,t)||this;s.bufferTimeSpan=r,s.bufferCreationInterval=n,s.maxBufferSize=i,s.scheduler=o,s.contexts=[];var a=s.openContext();if(s.timespanOnly=null==n||n<0,s.timespanOnly){var u={subscriber:s,context:a,bufferTimeSpan:r};s.add(a.closeAction=o.schedule(dispatchBufferTimeSpanOnly,r,u))}else{var l={subscriber:s,context:a},c={bufferTimeSpan:r,bufferCreationInterval:n,subscriber:s,scheduler:o};s.add(a.closeAction=o.schedule(dispatchBufferClose,r,l)),s.add(o.schedule(dispatchBufferCreation,n,c))}return s}return __extends(t,e),t.prototype._next=function(e){for(var t,r=this.contexts,n=r.length,i=0;i<n;i++){var o=r[i],s=o.buffer;s.push(e),s.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,r=this.destination;t.length>0;){var n=t.shift();r.next(n.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var r=this.bufferTimeSpan,n={subscriber:this,context:e,bufferTimeSpan:r};this.add(e.closeAction=this.scheduler.schedule(dispatchBufferTimeSpanOnly,r,n))}},t.prototype.openContext=function(){var e=new Context;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(Subscriber);function dispatchBufferTimeSpanOnly(e){var t=e.subscriber,r=e.context;r&&t.closeContext(r),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function dispatchBufferCreation(e){var t=e.bufferCreationInterval,r=e.bufferTimeSpan,n=e.subscriber,i=e.scheduler,o=n.openContext();n.closed||(n.add(o.closeAction=i.schedule(dispatchBufferClose,r,{subscriber:n,context:o})),this.schedule(e,t))}function dispatchBufferClose(e){var t=e.subscriber,r=e.context;t.closeContext(r)}function bufferToggle(e,t){return function(r){return r.lift(new BufferToggleOperator(e,t))}}var BufferToggleOperator=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new BufferToggleSubscriber(e,this.openings,this.closingSelector))},e}(),BufferToggleSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.closingSelector=n,i.contexts=[],i.add(subscribeToResult(i,r)),i}return __extends(t,e),t.prototype._next=function(e){for(var t=this.contexts,r=t.length,n=0;n<r;n++)t[n].buffer.push(e)},t.prototype._error=function(t){for(var r=this.contexts;r.length>0;){var n=r.shift();n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var r=t.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(r){this._error(r)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var r=e.buffer,n=e.subscription;this.destination.next(r),t.splice(t.indexOf(e),1),this.remove(n),n.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,r=new Subscription,n={buffer:[],subscription:r};t.push(n);var i=subscribeToResult(this,e,n);!i||i.closed?this.closeBuffer(n):(i.context=n,this.add(i),r.add(i))},t}(OuterSubscriber);function bufferWhen(e){return function(t){return t.lift(new BufferWhenOperator(e))}}var BufferWhenOperator=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new BufferWhenSubscriber(e,this.closingSelector))},e}(),BufferWhenSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.closingSelector=r,n.subscribing=!1,n.openBuffer(),n}return __extends(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},t.prototype.notifyNext=function(){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t,r=this.buffer;this.buffer&&this.destination.next(r),this.buffer=[];try{t=(0,this.closingSelector)()}catch(n){return this.error(n)}e=new Subscription,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(innerSubscribe(t,new SimpleInnerSubscriber(this))),this.subscribing=!1},t}(SimpleOuterSubscriber);function catchError(e){return function(t){var r=new CatchOperator(e),n=t.lift(r);return r.caught=n}}var CatchOperator=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new CatchSubscriber(e,this.selector,this.caught))},e}(),CatchSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.selector=r,i.caught=n,i}return __extends(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=void 0;try{r=this.selector(t,this.caught)}catch(o){return void e.prototype.error.call(this,o)}this._unsubscribeAndRecycle();var n=new SimpleInnerSubscriber(this);this.add(n);var i=innerSubscribe(r,n);i!==n&&this.add(i)}},t}(SimpleOuterSubscriber);function combineAll(e){return function(t){return t.lift(new CombineLatestOperator(e))}}function combineLatest(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=null;return"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&isArray$1(e[0])&&(e=e[0].slice()),function(t){return t.lift.call(from([t].concat(e)),new CombineLatestOperator(r))}}function concat(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(concat$1.apply(void 0,[t].concat(e)))}}function concatMap(e,t){return mergeMap(e,t,1)}function concatMapTo(e,t){return concatMap((function(){return e}),t)}function count(e){return function(t){return t.lift(new CountOperator(e,t))}}var CountOperator=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new CountSubscriber(e,this.predicate,this.source))},e}(),CountSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.predicate=r,i.source=n,i.count=0,i.index=0,i}return __extends(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(r){return void this.destination.error(r)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(Subscriber);function debounce(e){return function(t){return t.lift(new DebounceOperator(e))}}var DebounceOperator=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new DebounceSubscriber(e,this.durationSelector))},e}(),DebounceSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.durationSelector=r,n.hasValue=!1,n}return __extends(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(r){this.destination.error(r)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var r=this.durationSubscription;this.value=e,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),(r=innerSubscribe(t,new SimpleInnerSubscriber(this)))&&!r.closed&&this.add(this.durationSubscription=r)},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,r=this.durationSubscription;r&&(this.durationSubscription=void 0,r.unsubscribe(),this.remove(r)),this.value=void 0,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(SimpleOuterSubscriber);function debounceTime(e,t){return void 0===t&&(t=async),function(r){return r.lift(new DebounceTimeOperator(e,t))}}var DebounceTimeOperator=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new DebounceTimeSubscriber(e,this.dueTime,this.scheduler))},e}(),DebounceTimeSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.dueTime=r,i.scheduler=n,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return __extends(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(dispatchNext$1,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(Subscriber);function dispatchNext$1(e){e.debouncedNext()}function defaultIfEmpty(e){return void 0===e&&(e=null),function(t){return t.lift(new DefaultIfEmptyOperator(e))}}var DefaultIfEmptyOperator=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new DefaultIfEmptySubscriber(e,this.defaultValue))},e}(),DefaultIfEmptySubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.defaultValue=r,n.isEmpty=!0,n}return __extends(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(Subscriber);function isDate$1(e){return e instanceof Date&&!isNaN(+e)}function delay(e,t){void 0===t&&(t=async);var r=isDate$1(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new DelayOperator(r,t))}}var DelayOperator=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new DelaySubscriber(e,this.delay,this.scheduler))},e}(),DelaySubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.delay=r,i.scheduler=n,i.queue=[],i.active=!1,i.errored=!1,i}return __extends(t,e),t.dispatch=function(e){for(var t=e.source,r=t.queue,n=e.scheduler,i=e.destination;r.length>0&&r[0].time-n.now()<=0;)r.shift().notification.observe(i);if(r.length>0){var o=Math.max(0,r[0].time-n.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,r=new DelayMessage(t.now()+this.delay,e);this.queue.push(r),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(Notification.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(Notification.createComplete()),this.unsubscribe()},t}(Subscriber),DelayMessage=function(){return function(e,t){this.time=e,this.notification=t}}();function delayWhen(e,t){return t?function(r){return new SubscriptionDelayObservable(r,t).lift(new DelayWhenOperator(e))}:function(t){return t.lift(new DelayWhenOperator(e))}}var DelayWhenOperator=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new DelayWhenSubscriber(e,this.delayDurationSelector))},e}(),DelayWhenSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.delayDurationSelector=r,n.completed=!1,n.delayNotifierSubscriptions=[],n.index=0,n}return __extends(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(e),this.removeSubscription(i),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){var t=this.index++;try{var r=this.delayDurationSelector(e,t);r&&this.tryDelay(r,e)}catch(n){this.destination.error(n)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue},t.prototype.tryDelay=function(e,t){var r=subscribeToResult(this,e,t);r&&!r.closed&&(this.destination.add(r),this.delayNotifierSubscriptions.push(r))},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(OuterSubscriber),SubscriptionDelayObservable=function(e){function t(t,r){var n=e.call(this)||this;return n.source=t,n.subscriptionDelay=r,n}return __extends(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(e,this.source))},t}(Observable),SubscriptionDelaySubscriber=function(e){function t(t,r){var n=e.call(this)||this;return n.parent=t,n.source=r,n.sourceSubscribed=!1,n}return __extends(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(Subscriber);function dematerialize(){return function(e){return e.lift(new DeMaterializeOperator)}}var DeMaterializeOperator=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new DeMaterializeSubscriber(e))},e}(),DeMaterializeSubscriber=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(Subscriber);function distinct(e,t){return function(r){return r.lift(new DistinctOperator(e,t))}}var DistinctOperator=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new DistinctSubscriber(e,this.keySelector,this.flushes))},e}(),DistinctSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.keySelector=r,i.values=new Set,n&&i.add(innerSubscribe(n,new SimpleInnerSubscriber(i))),i}return __extends(t,e),t.prototype.notifyNext=function(){this.values.clear()},t.prototype.notifyError=function(e){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,r=this.destination;try{t=this.keySelector(e)}catch(n){return void r.error(n)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var r=this.values;r.has(e)||(r.add(e),this.destination.next(t))},t}(SimpleOuterSubscriber);function distinctUntilChanged(e,t){return function(r){return r.lift(new DistinctUntilChangedOperator(e,t))}}var DistinctUntilChangedOperator=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new DistinctUntilChangedSubscriber(e,this.compare,this.keySelector))},e}(),DistinctUntilChangedSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.keySelector=n,i.hasKey=!1,"function"==typeof r&&(i.compare=r),i}return __extends(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t;try{var r=this.keySelector;t=r?r(e):e}catch(i){return this.destination.error(i)}var n=!1;if(this.hasKey)try{n=(0,this.compare)(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))},t}(Subscriber);function distinctUntilKeyChanged(e,t){return distinctUntilChanged((function(r,n){return t?t(r[e],n[e]):r[e]===n[e]}))}function throwIfEmpty(e){return void 0===e&&(e=defaultErrorFactory),function(t){return t.lift(new ThrowIfEmptyOperator(e))}}var ThrowIfEmptyOperator=function(){function e(e){this.errorFactory=e}return e.prototype.call=function(e,t){return t.subscribe(new ThrowIfEmptySubscriber(e,this.errorFactory))},e}(),ThrowIfEmptySubscriber=function(t){function r(e,r){var n=t.call(this,e)||this;return n.errorFactory=r,n.hasValue=!1,n}return __extends(r,t),r.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},r.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},r}(Subscriber);function defaultErrorFactory(){return new EmptyError}function take(e){return function(t){return 0===e?empty():t.lift(new TakeOperator(e))}}var TakeOperator=function(){function e(e){if(this.total=e,this.total<0)throw new ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new TakeSubscriber(e,this.total))},e}(),TakeSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.total=r,n.count=0,n}return __extends(t,e),t.prototype._next=function(e){var t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))},t}(Subscriber);function elementAt(e,t){if(e<0)throw new ArgumentOutOfRangeError;var r=arguments.length>=2;return function(n){return n.pipe(filter((function(t,r){return r===e})),take(1),r?defaultIfEmpty(t):throwIfEmpty((function(){return new ArgumentOutOfRangeError})))}}function endWith(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return concat$1(t,of.apply(void 0,e))}}function every(e,t){return function(r){return r.lift(new EveryOperator(e,t,r))}}var EveryOperator=function(){function e(e,t,r){this.predicate=e,this.thisArg=t,this.source=r}return e.prototype.call=function(e,t){return t.subscribe(new EverySubscriber(e,this.predicate,this.thisArg,this.source))},e}(),EverySubscriber=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.predicate=r,o.thisArg=n,o.source=i,o.index=0,o.thisArg=n||o,o}return __extends(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(r){return void this.destination.error(r)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(Subscriber);function exhaust(){return function(e){return e.lift(new SwitchFirstOperator)}}var SwitchFirstOperator=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new SwitchFirstSubscriber(e))},e}(),SwitchFirstSubscriber=function(e){function t(t){var r=e.call(this,t)||this;return r.hasCompleted=!1,r.hasSubscription=!1,r}return __extends(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(innerSubscribe(e,new SimpleInnerSubscriber(this))))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(SimpleOuterSubscriber);function exhaustMap(e,t){return t?function(r){return r.pipe(exhaustMap((function(r,n){return from(e(r,n)).pipe(map((function(e,i){return t(r,e,n,i)})))})))}:function(t){return t.lift(new ExhaustMapOperator(e))}}var ExhaustMapOperator=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new ExhaustMapSubscriber(e,this.project))},e}(),ExhaustMapSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.project=r,n.hasSubscription=!1,n.hasCompleted=!1,n.index=0,n}return __extends(t,e),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(n){return void this.destination.error(n)}this.hasSubscription=!0,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new SimpleInnerSubscriber(this),r=this.destination;r.add(t);var n=innerSubscribe(e,t);n!==t&&r.add(n)},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(SimpleOuterSubscriber);function expand(e,t,r){return void 0===t&&(t=Number.POSITIVE_INFINITY),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(n){return n.lift(new ExpandOperator(e,t,r))}}var ExpandOperator=function(){function e(e,t,r){this.project=e,this.concurrent=t,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new ExpandSubscriber(e,this.project,this.concurrent,this.scheduler))},e}(),ExpandSubscriber=function(t){function r(e,r,n,i){var o=t.call(this,e)||this;return o.project=r,o.concurrent=n,o.scheduler=i,o.index=0,o.active=0,o.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return __extends(r,t),r.dispatch=function(e){var t=e.subscriber,r=e.result,n=e.value,i=e.index;t.subscribeToProjection(r,n,i)},r.prototype._next=function(t){var n=this.destination;if(n.closed)this._complete();else{var i=this.index++;if(this.active<this.concurrent){n.next(t);try{var o=(0,this.project)(t,i);if(this.scheduler){var s={subscriber:this,result:o,value:t,index:i};this.destination.add(this.scheduler.schedule(r.dispatch,0,s))}else this.subscribeToProjection(o,t,i)}catch(e){n.error(e)}}else this.buffer.push(t)}},r.prototype.subscribeToProjection=function(e,t,r){this.active++,this.destination.add(innerSubscribe(e,new SimpleInnerSubscriber(this)))},r.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},r.prototype.notifyNext=function(e){this._next(e)},r.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},r}(SimpleOuterSubscriber);function finalize(e){return function(t){return t.lift(new FinallyOperator(e))}}var FinallyOperator=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new FinallySubscriber(e,this.callback))},e}(),FinallySubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.add(new Subscription(r)),n}return __extends(t,e),t}(Subscriber);function find(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(r){return r.lift(new FindValueOperator(e,r,!1,t))}}var FindValueOperator=function(){function e(e,t,r,n){this.predicate=e,this.source=t,this.yieldIndex=r,this.thisArg=n}return e.prototype.call=function(e,t){return t.subscribe(new FindValueSubscriber(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}(),FindValueSubscriber=function(e){function t(t,r,n,i,o){var s=e.call(this,t)||this;return s.predicate=r,s.source=n,s.yieldIndex=i,s.thisArg=o,s.index=0,s}return __extends(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete(),this.unsubscribe()},t.prototype._next=function(e){var t=this.predicate,r=this.thisArg,n=this.index++;try{t.call(r||this,e,n,this.source)&&this.notifyComplete(this.yieldIndex?n:e)}catch(i){this.destination.error(i)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(Subscriber);function findIndex$1(e,t){return function(r){return r.lift(new FindValueOperator(e,r,!0,t))}}function first(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?filter((function(t,r){return e(t,r,n)})):identity,take(1),r?defaultIfEmpty(t):throwIfEmpty((function(){return new EmptyError})))}}function ignoreElements(){return function(e){return e.lift(new IgnoreElementsOperator)}}var IgnoreElementsOperator=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new IgnoreElementsSubscriber(e))},e}(),IgnoreElementsSubscriber=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype._next=function(e){},t}(Subscriber);function isEmpty(){return function(e){return e.lift(new IsEmptyOperator)}}var IsEmptyOperator=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new IsEmptySubscriber(e))},e}(),IsEmptySubscriber=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(Subscriber);function takeLast(e){return function(t){return 0===e?empty():t.lift(new TakeLastOperator(e))}}var TakeLastOperator=function(){function e(e){if(this.total=e,this.total<0)throw new ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new TakeLastSubscriber(e,this.total))},e}(),TakeLastSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.total=r,n.ring=new Array,n.count=0,n}return __extends(t,e),t.prototype._next=function(e){var t=this.ring,r=this.total,n=this.count++;t.length<r?t.push(e):t[n%r]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var r=this.count>=this.total?this.total:this.count,n=this.ring,i=0;i<r;i++){var o=t++%r;e.next(n[o])}e.complete()},t}(Subscriber);function last(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?filter((function(t,r){return e(t,r,n)})):identity,takeLast(1),r?defaultIfEmpty(t):throwIfEmpty((function(){return new EmptyError})))}}function mapTo(e){return function(t){return t.lift(new MapToOperator(e))}}var MapToOperator=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new MapToSubscriber(e,this.value))},e}(),MapToSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.value=r,n}return __extends(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(Subscriber);function materialize(){return function(e){return e.lift(new MaterializeOperator)}}var MaterializeOperator=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new MaterializeSubscriber(e))},e}(),MaterializeSubscriber=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype._next=function(e){this.destination.next(Notification.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(Notification.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(Notification.createComplete()),e.complete()},t}(Subscriber);function scan(e,t){var r=!1;return arguments.length>=2&&(r=!0),function(n){return n.lift(new ScanOperator(e,t,r))}}var ScanOperator=function(){function e(e,t,r){void 0===r&&(r=!1),this.accumulator=e,this.seed=t,this.hasSeed=r}return e.prototype.call=function(e,t){return t.subscribe(new ScanSubscriber(e,this.accumulator,this.seed,this.hasSeed))},e}(),ScanSubscriber=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.accumulator=r,o._seed=n,o.hasSeed=i,o.index=0,o}return __extends(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.accumulator(this.seed,e,r)}catch(n){this.destination.error(n)}this.seed=t,this.destination.next(t)},t}(Subscriber);function reduce(e,t){return arguments.length>=2?function(r){return pipe(scan(e,t),takeLast(1),defaultIfEmpty(t))(r)}:function(t){return pipe(scan((function(t,r,n){return e(t,r,n+1)})),takeLast(1))(t)}}function max(e){var t="function"==typeof e?function(t,r){return e(t,r)>0?t:r}:function(e,t){return e>t?e:t};return reduce(t)}function merge(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(merge$1.apply(void 0,[t].concat(e)))}}function mergeMapTo(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof t?mergeMap((function(){return e}),t,r):("number"==typeof t&&(r=t),mergeMap((function(){return e}),r))}function mergeScan(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new MergeScanOperator(e,t,r))}}var MergeScanOperator=function(){function e(e,t,r){this.accumulator=e,this.seed=t,this.concurrent=r}return e.prototype.call=function(e,t){return t.subscribe(new MergeScanSubscriber(e,this.accumulator,this.seed,this.concurrent))},e}(),MergeScanSubscriber=function(t){function r(e,r,n,i){var o=t.call(this,e)||this;return o.accumulator=r,o.acc=n,o.concurrent=i,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return __extends(r,t),r.prototype._next=function(t){if(this.active<this.concurrent){var r=this.index++,n=this.destination,i=void 0;try{i=(0,this.accumulator)(this.acc,t,r)}catch(e){return n.error(e)}this.active++,this._innerSub(i)}else this.buffer.push(t)},r.prototype._innerSub=function(e){var t=new SimpleInnerSubscriber(this),r=this.destination;r.add(t);var n=innerSubscribe(e,t);n!==t&&r.add(n)},r.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},r.prototype.notifyNext=function(e){var t=this.destination;this.acc=e,this.hasValue=!0,t.next(e)},r.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},r}(SimpleOuterSubscriber);function min(e){var t="function"==typeof e?function(t,r){return e(t,r)<0?t:r}:function(e,t){return e<t?e:t};return reduce(t)}function multicast(e,t){return function(r){var n;if(n="function"==typeof e?e:function(){return e},"function"==typeof t)return r.lift(new MulticastOperator(n,t));var i=Object.create(r,connectableObservableDescriptor);return i.source=r,i.subjectFactory=n,i}}var MulticastOperator=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var r=this.selector,n=this.subjectFactory(),i=r(n).subscribe(e);return i.add(t.subscribe(n)),i},e}();function onErrorResumeNext(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&isArray$1(e[0])&&(e=e[0]),function(t){return t.lift(new OnErrorResumeNextOperator(e))}}var OnErrorResumeNextOperator=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new OnErrorResumeNextSubscriber(e,this.nextSources))},e}(),OnErrorResumeNextSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.destination=t,n.nextSources=r,n}return __extends(t,e),t.prototype.notifyError=function(){this.subscribeToNextSource()},t.prototype.notifyComplete=function(){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();if(e){var t=new SimpleInnerSubscriber(this),r=this.destination;r.add(t);var n=innerSubscribe(e,t);n!==t&&r.add(n)}else this.destination.complete()},t}(SimpleOuterSubscriber);function pairwise(){return function(e){return e.lift(new PairwiseOperator)}}var PairwiseOperator=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new PairwiseSubscriber(e))},e}(),PairwiseSubscriber=function(e){function t(t){var r=e.call(this,t)||this;return r.hasPrev=!1,r}return __extends(t,e),t.prototype._next=function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)},t}(Subscriber);function partition(e,t){return function(r){return[filter(e,t)(r),filter(not(e,t))(r)]}}function pluck(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(t){return map(plucker(e,r))(t)}}function plucker(e,t){return function(r){for(var n=r,i=0;i<t;i++){var o=null!=n?n[e[i]]:void 0;if(void 0===o)return;n=o}return n}}function publish(e){return e?multicast((function(){return new Subject}),e):multicast(new Subject)}function publishBehavior(e){return function(t){return multicast(new BehaviorSubject(e))(t)}}function publishLast(){return function(e){return multicast(new AsyncSubject)(e)}}function publishReplay(e,t,r,n){r&&"function"!=typeof r&&(n=r);var i="function"==typeof r?r:void 0,o=new ReplaySubject(e,t,n);return function(e){return multicast((function(){return o}),i)(e)}}function race(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return 1===e.length&&isArray$1(e[0])&&(e=e[0]),t.lift.call(race$1.apply(void 0,[t].concat(e)))}}function repeat(e){return void 0===e&&(e=-1),function(t){return 0===e?empty():e<0?t.lift(new RepeatOperator(-1,t)):t.lift(new RepeatOperator(e-1,t))}}var RepeatOperator=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new RepeatSubscriber(e,this.count,this.source))},e}(),RepeatSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.count=r,i.source=n,i}return __extends(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this.source,r=this.count;if(0===r)return e.prototype.complete.call(this);r>-1&&(this.count=r-1),t.subscribe(this._unsubscribeAndRecycle())}},t}(Subscriber);function repeatWhen(e){return function(t){return t.lift(new RepeatWhenOperator(e))}}var RepeatWhenOperator=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new RepeatWhenSubscriber(e,this.notifier,t))},e}(),RepeatWhenSubscriber=function(t){function r(e,r,n){var i=t.call(this,e)||this;return i.notifier=r,i.source=n,i.sourceIsBeingSubscribedTo=!0,i}return __extends(r,t),r.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},r.prototype.notifyComplete=function(){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},r.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},r.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},r.prototype._unsubscribeAndRecycle=function(){var e=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=e,this},r.prototype.subscribeToRetries=function(){var r;this.notifications=new Subject;try{r=(0,this.notifier)(this.notifications)}catch(e){return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=innerSubscribe(r,new SimpleInnerSubscriber(this))},r}(SimpleOuterSubscriber);function retry(e){return void 0===e&&(e=-1),function(t){return t.lift(new RetryOperator(e,t))}}var RetryOperator=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new RetrySubscriber(e,this.count,this.source))},e}(),RetrySubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.count=r,i.source=n,i}return __extends(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=this.source,n=this.count;if(0===n)return e.prototype.error.call(this,t);n>-1&&(this.count=n-1),r.subscribe(this._unsubscribeAndRecycle())}},t}(Subscriber);function retryWhen(e){return function(t){return t.lift(new RetryWhenOperator(e,t))}}var RetryWhenOperator=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new RetryWhenSubscriber(e,this.notifier,this.source))},e}(),RetryWhenSubscriber=function(t){function r(e,r,n){var i=t.call(this,e)||this;return i.notifier=r,i.source=n,i}return __extends(r,t),r.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,o=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new Subject;try{i=(0,this.notifier)(n)}catch(e){return t.prototype.error.call(this,e)}o=innerSubscribe(i,new SimpleInnerSubscriber(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=o,n.next(r)}},r.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},r.prototype.notifyNext=function(){var e=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)},r}(SimpleOuterSubscriber);function sample(e){return function(t){return t.lift(new SampleOperator(e))}}var SampleOperator=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var r=new SampleSubscriber(e),n=t.subscribe(r);return n.add(innerSubscribe(this.notifier,new SimpleInnerSubscriber(r))),n},e}(),SampleSubscriber=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasValue=!1,t}return __extends(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(SimpleOuterSubscriber);function sampleTime(e,t){return void 0===t&&(t=async),function(r){return r.lift(new SampleTimeOperator(e,t))}}var SampleTimeOperator=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new SampleTimeSubscriber(e,this.period,this.scheduler))},e}(),SampleTimeSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.period=r,i.scheduler=n,i.hasValue=!1,i.add(n.schedule(dispatchNotification,r,{subscriber:i,period:r})),i}return __extends(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(Subscriber);function dispatchNotification(e){var t=e.subscriber,r=e.period;t.notifyNext(),this.schedule(e,r)}function sequenceEqual(e,t){return function(r){return r.lift(new SequenceEqualOperator(e,t))}}var SequenceEqualOperator=function(){function e(e,t){this.compareTo=e,this.comparator=t}return e.prototype.call=function(e,t){return t.subscribe(new SequenceEqualSubscriber(e,this.compareTo,this.comparator))},e}(),SequenceEqualSubscriber=function(t){function r(e,r,n){var i=t.call(this,e)||this;return i.compareTo=r,i.comparator=n,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(r.subscribe(new SequenceEqualCompareToSubscriber(e,i))),i}return __extends(r,t),r.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},r.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},r.prototype.checkValues=function(){for(var t=this,r=t._a,n=t._b,i=t.comparator;r.length>0&&n.length>0;){var o=r.shift(),s=n.shift(),a=!1;try{a=i?i(o,s):o===s}catch(e){this.destination.error(e)}a||this.emit(!1)}},r.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},r.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},r.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},r}(Subscriber),SequenceEqualCompareToSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.parent=r,n}return __extends(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(Subscriber);function shareSubjectFactory(){return new Subject}function share(){return function(e){return refCount()(multicast(shareSubjectFactory)(e))}}function shareReplay(e,t,r){var n;return n=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:r},function(e){return e.lift(shareReplayOperator(n))}}function shareReplayOperator(e){var t,r,n=e.bufferSize,i=void 0===n?Number.POSITIVE_INFINITY:n,o=e.windowTime,s=void 0===o?Number.POSITIVE_INFINITY:o,a=e.refCount,u=e.scheduler,l=0,c=!1,f=!1;return function(e){var n;l++,!t||c?(c=!1,t=new ReplaySubject(i,s,u),n=t.subscribe(this),r=e.subscribe({next:function(e){t.next(e)},error:function(e){c=!0,t.error(e)},complete:function(){f=!0,r=void 0,t.complete()}}),f&&(r=void 0)):n=t.subscribe(this),this.add((function(){l--,n.unsubscribe(),n=void 0,r&&!f&&a&&0===l&&(r.unsubscribe(),r=void 0,t=void 0)}))}}function single(e){return function(t){return t.lift(new SingleOperator(e,t))}}var SingleOperator=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new SingleSubscriber(e,this.predicate,this.source))},e}(),SingleSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.predicate=r,i.source=n,i.seenValue=!1,i.index=0,i}return __extends(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(r){this.destination.error(r)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new EmptyError)},t}(Subscriber);function skip(e){return function(t){return t.lift(new SkipOperator(e))}}var SkipOperator=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new SkipSubscriber(e,this.total))},e}(),SkipSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.total=r,n.count=0,n}return __extends(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(Subscriber);function skipLast(e){return function(t){return t.lift(new SkipLastOperator(e))}}var SkipLastOperator=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new Subscriber(e)):t.subscribe(new SkipLastSubscriber(e,this._skipCount))},e}(),SkipLastSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n._skipCount=r,n._count=0,n._ring=new Array(r),n}return __extends(t,e),t.prototype._next=function(e){var t=this._skipCount,r=this._count++;if(r<t)this._ring[r]=e;else{var n=r%t,i=this._ring,o=i[n];i[n]=e,this.destination.next(o)}},t}(Subscriber);function skipUntil(e){return function(t){return t.lift(new SkipUntilOperator(e))}}var SkipUntilOperator=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new SkipUntilSubscriber(e,this.notifier))},e}(),SkipUntilSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;n.hasValue=!1;var i=new SimpleInnerSubscriber(n);n.add(i),n.innerSubscription=i;var o=innerSubscribe(r,i);return o!==i&&(n.add(o),n.innerSubscription=o),n}return __extends(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},t.prototype.notifyComplete=function(){},t}(SimpleOuterSubscriber);function skipWhile(e){return function(t){return t.lift(new SkipWhileOperator(e))}}var SkipWhileOperator=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new SkipWhileSubscriber(e,this.predicate))},e}(),SkipWhileSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.predicate=r,n.skipping=!0,n.index=0,n}return __extends(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(r){this.destination.error(r)}},t}(Subscriber);function startWith(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];return isScheduler(r)?(e.pop(),function(t){return concat$1(e,t,r)}):function(t){return concat$1(e,t)}}var SubscribeOnObservable=function(e){function t(t,r,n){void 0===r&&(r=0),void 0===n&&(n=asap);var i=e.call(this)||this;return i.source=t,i.delayTime=r,i.scheduler=n,(!isNumeric(r)||r<0)&&(i.delayTime=0),n&&"function"==typeof n.schedule||(i.scheduler=asap),i}return __extends(t,e),t.create=function(e,r,n){return void 0===r&&(r=0),void 0===n&&(n=asap),new t(e,r,n)},t.dispatch=function(e){var t=e.source,r=e.subscriber;return this.add(t.subscribe(r))},t.prototype._subscribe=function(e){var r=this.delayTime,n=this.source;return this.scheduler.schedule(t.dispatch,r,{source:n,subscriber:e})},t}(Observable);function subscribeOn(e,t){return void 0===t&&(t=0),function(r){return r.lift(new SubscribeOnOperator(e,t))}}var SubscribeOnOperator=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new SubscribeOnObservable(t,this.delay,this.scheduler).subscribe(e)},e}();function switchMap(e,t){return"function"==typeof t?function(r){return r.pipe(switchMap((function(r,n){return from(e(r,n)).pipe(map((function(e,i){return t(r,e,n,i)})))})))}:function(t){return t.lift(new SwitchMapOperator(e))}}var SwitchMapOperator=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new SwitchMapSubscriber(e,this.project))},e}(),SwitchMapSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.project=r,n.index=0,n}return __extends(t,e),t.prototype._next=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(error){return void this.destination.error(error)}this._innerSub(t)},t.prototype._innerSub=function(e){var t=this.innerSubscription;t&&t.unsubscribe();var r=new SimpleInnerSubscriber(this),n=this.destination;n.add(r),this.innerSubscription=innerSubscribe(e,r),this.innerSubscription!==r&&n.add(this.innerSubscription)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e){this.destination.next(e)},t}(SimpleOuterSubscriber);function switchAll(){return switchMap(identity)}function switchMapTo(e,t){return t?switchMap((function(){return e}),t):switchMap((function(){return e}))}function takeUntil(e){return function(t){return t.lift(new TakeUntilOperator(e))}}var TakeUntilOperator=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var r=new TakeUntilSubscriber(e),n=innerSubscribe(this.notifier,new SimpleInnerSubscriber(r));return n&&!r.seenValue?(r.add(n),t.subscribe(r)):r},e}(),TakeUntilSubscriber=function(e){function t(t){var r=e.call(this,t)||this;return r.seenValue=!1,r}return __extends(t,e),t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(SimpleOuterSubscriber);function takeWhile(e,t){return void 0===t&&(t=!1),function(r){return r.lift(new TakeWhileOperator(e,t))}}var TakeWhileOperator=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new TakeWhileSubscriber(e,this.predicate,this.inclusive))},e}(),TakeWhileSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.predicate=r,i.inclusive=n,i.index=0,i}return __extends(t,e),t.prototype._next=function(e){var t,r=this.destination;try{t=this.predicate(e,this.index++)}catch(n){return void r.error(n)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var r=this.destination;Boolean(t)?r.next(e):(this.inclusive&&r.next(e),r.complete())},t}(Subscriber);function tap(e,t,r){return function(n){return n.lift(new DoOperator(e,t,r))}}var DoOperator=function(){function e(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}return e.prototype.call=function(e,t){return t.subscribe(new TapSubscriber(e,this.nextOrObserver,this.error,this.complete))},e}(),TapSubscriber=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o._tapNext=noop$2,o._tapError=noop$2,o._tapComplete=noop$2,o._tapError=n||noop$2,o._tapComplete=i||noop$2,isFunction$1(r)?(o._context=o,o._tapNext=r):r&&(o._context=r,o._tapNext=r.next||noop$2,o._tapError=r.error||noop$2,o._tapComplete=r.complete||noop$2),o}return __extends(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(Subscriber),defaultThrottleConfig={leading:!0,trailing:!1};function throttle(e,t){return void 0===t&&(t=defaultThrottleConfig),function(r){return r.lift(new ThrottleOperator(e,!!t.leading,!!t.trailing))}}var ThrottleOperator=function(){function e(e,t,r){this.durationSelector=e,this.leading=t,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new ThrottleSubscriber(e,this.durationSelector,this.leading,this.trailing))},e}(),ThrottleSubscriber=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.destination=t,o.durationSelector=r,o._leading=n,o._trailing=i,o._hasValue=!1,o}return __extends(t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this._hasValue,t=this._sendValue;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=void 0},t.prototype.throttle=function(e){var t=this.tryDurationSelector(e);t&&this.add(this._throttled=innerSubscribe(t,new SimpleInnerSubscriber(this)))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(t){return this.destination.error(t),null}},t.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=void 0,t&&this.send()},t.prototype.notifyNext=function(){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(SimpleOuterSubscriber);function throttleTime(e,t,r){return void 0===t&&(t=async),void 0===r&&(r=defaultThrottleConfig),function(n){return n.lift(new ThrottleTimeOperator(e,t,r.leading,r.trailing))}}var ThrottleTimeOperator=function(){function e(e,t,r,n){this.duration=e,this.scheduler=t,this.leading=r,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new ThrottleTimeSubscriber(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),ThrottleTimeSubscriber=function(e){function t(t,r,n,i,o){var s=e.call(this,t)||this;return s.duration=r,s.scheduler=n,s.leading=i,s.trailing=o,s._hasTrailingValue=!1,s._trailingValue=null,s}return __extends(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(dispatchNext,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(Subscriber);function dispatchNext(e){e.subscriber.clearThrottle()}function timeInterval(e){return void 0===e&&(e=async),function(t){return defer((function(){return t.pipe(scan((function(t,r){var n=t.current;return{value:r,current:e.now(),last:n}}),{current:e.now(),value:void 0,last:void 0}),map((function(e){var t=e.current,r=e.last,n=e.value;return new TimeInterval(n,t-r)})))}))}}var TimeInterval=function(){return function(e,t){this.value=e,this.interval=t}}();function timeoutWith(e,t,r){return void 0===r&&(r=async),function(n){var i=isDate$1(e),o=i?+e-r.now():Math.abs(e);return n.lift(new TimeoutWithOperator(o,i,t,r))}}var TimeoutWithOperator=function(){function e(e,t,r,n){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=r,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new TimeoutWithSubscriber(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),TimeoutWithSubscriber=function(e){function t(t,r,n,i,o){var s=e.call(this,t)||this;return s.absoluteTimeout=r,s.waitFor=n,s.withObservable=i,s.scheduler=o,s.scheduleTimeout(),s}return __extends(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(innerSubscribe(t,new SimpleInnerSubscriber(e)))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},t}(SimpleOuterSubscriber);function timeout(e,t){return void 0===t&&(t=async),timeoutWith(e,throwError(new TimeoutError),t)}function timestamp(e){return void 0===e&&(e=async),map((function(t){return new Timestamp(t,e.now())}))}var Timestamp=function(){return function(e,t){this.value=e,this.timestamp=t}}();function toArrayReducer(e,t,r){return 0===r?[t]:(e.push(t),e)}function toArray(){return reduce(toArrayReducer,[])}function window$1(e){return function(t){return t.lift(new WindowOperator$1(e))}}var WindowOperator$1=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var r=new WindowSubscriber$1(e),n=t.subscribe(r);return n.closed||r.add(innerSubscribe(this.windowBoundaries,new SimpleInnerSubscriber(r))),n},e}(),WindowSubscriber$1=function(e){function t(t){var r=e.call(this,t)||this;return r.window=new Subject,t.next(r.window),r}return __extends(t,e),t.prototype.notifyNext=function(){this.openWindow()},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,r=this.window=new Subject;t.next(r)},t}(SimpleOuterSubscriber);function windowCount(e,t){return void 0===t&&(t=0),function(r){return r.lift(new WindowCountOperator(e,t))}}var WindowCountOperator=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new WindowCountSubscriber(e,this.windowSize,this.startWindowEvery))},e}(),WindowCountSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.destination=t,i.windowSize=r,i.startWindowEvery=n,i.windows=[new Subject],i.count=0,t.next(i.windows[0]),i}return __extends(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,r=this.destination,n=this.windowSize,i=this.windows,o=i.length,s=0;s<o&&!this.closed;s++)i[s].next(e);var a=this.count-n+1;if(a>=0&&a%t==0&&!this.closed&&i.shift().complete(),++this.count%t==0&&!this.closed){var u=new Subject;i.push(u),r.next(u)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(Subscriber);function windowTime(e){var t=async,r=null,n=Number.POSITIVE_INFINITY;return isScheduler(arguments[3])&&(t=arguments[3]),isScheduler(arguments[2])?t=arguments[2]:isNumeric(arguments[2])&&(n=Number(arguments[2])),isScheduler(arguments[1])?t=arguments[1]:isNumeric(arguments[1])&&(r=Number(arguments[1])),function(i){return i.lift(new WindowTimeOperator(e,r,n,t))}}var WindowTimeOperator=function(){function e(e,t,r,n){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=r,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new WindowTimeSubscriber(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),CountedSubject=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return __extends(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(Subject),WindowTimeSubscriber=function(e){function t(t,r,n,i,o){var s=e.call(this,t)||this;s.destination=t,s.windowTimeSpan=r,s.windowCreationInterval=n,s.maxWindowSize=i,s.scheduler=o,s.windows=[];var a=s.openWindow();if(null!==n&&n>=0){var u={subscriber:s,window:a,context:null},l={windowTimeSpan:r,windowCreationInterval:n,subscriber:s,scheduler:o};s.add(o.schedule(dispatchWindowClose,r,u)),s.add(o.schedule(dispatchWindowCreation,n,l))}else{var c={subscriber:s,window:a,windowTimeSpan:r};s.add(o.schedule(dispatchWindowTimeSpanOnly,r,c))}return s}return __extends(t,e),t.prototype._next=function(e){for(var t=this.windows,r=t.length,n=0;n<r;n++){var i=t[n];i.closed||(i.next(e),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new CountedSubject;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(Subscriber);function dispatchWindowTimeSpanOnly(e){var t=e.subscriber,r=e.windowTimeSpan,n=e.window;n&&t.closeWindow(n),e.window=t.openWindow(),this.schedule(e,r)}function dispatchWindowCreation(e){var t=e.windowTimeSpan,r=e.subscriber,n=e.scheduler,i=e.windowCreationInterval,o=r.openWindow(),s=this,a={action:s,subscription:null},u={subscriber:r,window:o,context:a};a.subscription=n.schedule(dispatchWindowClose,t,u),s.add(a.subscription),s.schedule(e,i)}function dispatchWindowClose(e){var t=e.subscriber,r=e.window,n=e.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),t.closeWindow(r)}function windowToggle(e,t){return function(r){return r.lift(new WindowToggleOperator(e,t))}}var WindowToggleOperator=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new WindowToggleSubscriber(e,this.openings,this.closingSelector))},e}(),WindowToggleSubscriber=function(t){function r(e,r,n){var i=t.call(this,e)||this;return i.openings=r,i.closingSelector=n,i.contexts=[],i.add(i.openSubscription=subscribeToResult(i,r,r)),i}return __extends(r,t),r.prototype._next=function(e){var t=this.contexts;if(t)for(var r=t.length,n=0;n<r;n++)t[n].window.next(e)},r.prototype._error=function(e){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var o=r[i];o.window.error(e),o.subscription.unsubscribe()}t.prototype._error.call(this,e)},r.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var r=e.length,n=-1;++n<r;){var i=e[n];i.window.complete(),i.subscription.unsubscribe()}t.prototype._complete.call(this)},r.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,r=-1;++r<t;){var n=e[r];n.window.unsubscribe(),n.subscription.unsubscribe()}},r.prototype.notifyNext=function(t,r,n,i,o){if(t===this.openings){var s=void 0;try{s=(0,this.closingSelector)(r)}catch(e){return this.error(e)}var a=new Subject,u=new Subscription,l={window:a,subscription:u};this.contexts.push(l);var c=subscribeToResult(this,s,l);c.closed?this.closeWindow(this.contexts.length-1):(c.context=l,u.add(c)),this.destination.next(a)}else this.closeWindow(this.contexts.indexOf(t))},r.prototype.notifyError=function(e){this.error(e)},r.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},r.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,r=t[e],n=r.window,i=r.subscription;t.splice(e,1),n.complete(),i.unsubscribe()}},r}(OuterSubscriber);function windowWhen(e){return function(t){return t.lift(new WindowOperator(e))}}var WindowOperator=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new WindowSubscriber(e,this.closingSelector))},e}(),WindowSubscriber=function(t){function r(e,r){var n=t.call(this,e)||this;return n.destination=e,n.closingSelector=r,n.openWindow(),n}return __extends(r,t),r.prototype.notifyNext=function(e,t,r,n,i){this.openWindow(i)},r.prototype.notifyError=function(e){this._error(e)},r.prototype.notifyComplete=function(e){this.openWindow(e)},r.prototype._next=function(e){this.window.next(e)},r.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},r.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},r.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},r.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var r=this.window;r&&r.complete();var n,i=this.window=new Subject;this.destination.next(i);try{n=(0,this.closingSelector)()}catch(e){return this.destination.error(e),void this.window.error(e)}this.add(this.closingNotification=subscribeToResult(this,n))},r}(OuterSubscriber);function withLatestFrom(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var r;"function"==typeof e[e.length-1]&&(r=e.pop());var n=e;return t.lift(new WithLatestFromOperator(n,r))}}var WithLatestFromOperator=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new WithLatestFromSubscriber(e,this.observables,this.project))},e}(),WithLatestFromSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;i.observables=r,i.project=n,i.toRespond=[];var o=r.length;i.values=new Array(o);for(var s=0;s<o;s++)i.toRespond.push(s);for(s=0;s<o;s++){var a=r[s];i.add(subscribeToResult(i,a,void 0,s))}return i}return __extends(t,e),t.prototype.notifyNext=function(e,t,r){this.values[r]=t;var n=this.toRespond;if(n.length>0){var i=n.indexOf(r);-1!==i&&n.splice(i,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)},t}(OuterSubscriber);function zip(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(zip$1.apply(void 0,[t].concat(e)))}}function zipAll(e){return function(t){return t.lift(new ZipOperator(e))}}var operators=Object.freeze(Object.defineProperty({__proto__:null,audit:audit,auditTime:auditTime,buffer:buffer,bufferCount:bufferCount,bufferTime:bufferTime,bufferToggle:bufferToggle,bufferWhen:bufferWhen,catchError:catchError,combineAll:combineAll,combineLatest:combineLatest,concat:concat,concatAll:concatAll,concatMap:concatMap,concatMapTo:concatMapTo,count:count,debounce:debounce,debounceTime:debounceTime,defaultIfEmpty:defaultIfEmpty,delay:delay,delayWhen:delayWhen,dematerialize:dematerialize,distinct:distinct,distinctUntilChanged:distinctUntilChanged,distinctUntilKeyChanged:distinctUntilKeyChanged,elementAt:elementAt,endWith:endWith,every:every,exhaust:exhaust,exhaustMap:exhaustMap,expand:expand,filter:filter,finalize:finalize,find:find,findIndex:findIndex$1,first:first,groupBy:groupBy,ignoreElements:ignoreElements,isEmpty:isEmpty,last:last,map:map,mapTo:mapTo,materialize:materialize,max:max,merge:merge,mergeAll:mergeAll,mergeMap:mergeMap,flatMap:flatMap,mergeMapTo:mergeMapTo,mergeScan:mergeScan,min:min,multicast:multicast,observeOn:observeOn,onErrorResumeNext:onErrorResumeNext,pairwise:pairwise,partition:partition,pluck:pluck,publish:publish,publishBehavior:publishBehavior,publishLast:publishLast,publishReplay:publishReplay,race:race,reduce:reduce,repeat:repeat,repeatWhen:repeatWhen,retry:retry,retryWhen:retryWhen,refCount:refCount,sample:sample,sampleTime:sampleTime,scan:scan,sequenceEqual:sequenceEqual,share:share,shareReplay:shareReplay,single:single,skip:skip,skipLast:skipLast,skipUntil:skipUntil,skipWhile:skipWhile,startWith:startWith,subscribeOn:subscribeOn,switchAll:switchAll,switchMap:switchMap,switchMapTo:switchMapTo,take:take,takeLast:takeLast,takeUntil:takeUntil,takeWhile:takeWhile,tap:tap,throttle:throttle,throttleTime:throttleTime,throwIfEmpty:throwIfEmpty,timeInterval:timeInterval,timeout:timeout,timeoutWith:timeoutWith,timestamp:timestamp,toArray:toArray,window:window$1,windowCount:windowCount,windowTime:windowTime,windowToggle:windowToggle,windowWhen:windowWhen,withLatestFrom:withLatestFrom,zip:zip,zipAll:zipAll},Symbol.toStringTag,{value:"Module"})),require$$3=getAugmentedNamespace(operators),util$3={},types$1={};function OpaqueType(){return e=>e}function IntNumber(e){return Math.floor(e)}Object.defineProperty(types$1,"__esModule",{value:!0}),types$1.RegExpString=types$1.IntNumber=types$1.BigIntString=types$1.AddressString=types$1.HexString=types$1.OpaqueType=void 0,types$1.OpaqueType=OpaqueType,types$1.HexString=OpaqueType(),types$1.AddressString=OpaqueType(),types$1.BigIntString=OpaqueType(),types$1.IntNumber=IntNumber,types$1.RegExpString=OpaqueType();var __importDefault$8=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(util$3,"__esModule",{value:!0}),util$3.getFavicon=util$3.range=util$3.isBigNumber=util$3.ensureParsedJSONObject=util$3.ensureBN=util$3.ensureRegExpString=util$3.ensureIntNumber=util$3.ensureBuffer=util$3.ensureAddressString=util$3.ensureEvenLengthHexString=util$3.ensureHexString=util$3.isHexString=util$3.prepend0x=util$3.strip0x=util$3.has0xPrefix=util$3.hexStringFromIntNumber=util$3.intNumberFromHexString=util$3.bigIntStringFromBN=util$3.hexStringFromBuffer=util$3.hexStringToUint8Array=util$3.uint8ArrayToHex=util$3.randomBytesHex=void 0;const bn_js_1$1=__importDefault$8(bn$1.exports),types_1$2=types$1,INT_STRING_REGEX=/^[0-9]*$/,HEXADECIMAL_STRING_REGEX=/^[a-f0-9]*$/;function randomBytesHex(e){return uint8ArrayToHex(crypto.getRandomValues(new Uint8Array(e)))}function uint8ArrayToHex(e){return[...e].map((e=>e.toString(16).padStart(2,"0"))).join("")}function hexStringToUint8Array(e){return new Uint8Array(e.match(/.{1,2}/g).map((e=>parseInt(e,16))))}function hexStringFromBuffer(e,t=!1){const r=e.toString("hex");return(0,types_1$2.HexString)(t?"0x"+r:r)}function bigIntStringFromBN(e){return(0,types_1$2.BigIntString)(e.toString(10))}function intNumberFromHexString(e){return(0,types_1$2.IntNumber)(new bn_js_1$1.default(ensureEvenLengthHexString(e,!1),16).toNumber())}function hexStringFromIntNumber(e){return(0,types_1$2.HexString)("0x"+new bn_js_1$1.default(e).toString(16))}function has0xPrefix(e){return e.startsWith("0x")||e.startsWith("0X")}function strip0x(e){return has0xPrefix(e)?e.slice(2):e}function prepend0x(e){return has0xPrefix(e)?"0x"+e.slice(2):"0x"+e}function isHexString$1(e){if("string"!=typeof e)return!1;const t=strip0x(e).toLowerCase();return HEXADECIMAL_STRING_REGEX.test(t)}function ensureHexString(e,t=!1){if("string"==typeof e){const r=strip0x(e).toLowerCase();if(HEXADECIMAL_STRING_REGEX.test(r))return(0,types_1$2.HexString)(t?"0x"+r:r)}throw new Error(`"${String(e)}" is not a hexadecimal string`)}function ensureEvenLengthHexString(e,t=!1){let r=ensureHexString(e,!1);return r.length%2==1&&(r=(0,types_1$2.HexString)("0"+r)),t?(0,types_1$2.HexString)("0x"+r):r}function ensureAddressString(e){if("string"==typeof e){const t=strip0x(e).toLowerCase();if(isHexString$1(t)&&40===t.length)return(0,types_1$2.AddressString)(prepend0x(t))}throw new Error(`Invalid Ethereum address: ${String(e)}`)}function ensureBuffer(e){if(buffer$2.Buffer.isBuffer(e))return e;if("string"==typeof e){if(isHexString$1(e)){const t=ensureEvenLengthHexString(e,!1);return buffer$2.Buffer.from(t,"hex")}return buffer$2.Buffer.from(e,"utf8")}throw new Error(`Not binary data: ${String(e)}`)}function ensureIntNumber(e){if("number"==typeof e&&Number.isInteger(e))return(0,types_1$2.IntNumber)(e);if("string"==typeof e){if(INT_STRING_REGEX.test(e))return(0,types_1$2.IntNumber)(Number(e));if(isHexString$1(e))return(0,types_1$2.IntNumber)(new bn_js_1$1.default(ensureEvenLengthHexString(e,!1),16).toNumber())}throw new Error(`Not an integer: ${String(e)}`)}function ensureRegExpString(e){if(e instanceof RegExp)return(0,types_1$2.RegExpString)(e.toString());throw new Error(`Not a RegExp: ${String(e)}`)}function ensureBN(e){if(null!==e&&(bn_js_1$1.default.isBN(e)||isBigNumber(e)))return new bn_js_1$1.default(e.toString(10),10);if("number"==typeof e)return new bn_js_1$1.default(ensureIntNumber(e));if("string"==typeof e){if(INT_STRING_REGEX.test(e))return new bn_js_1$1.default(e,10);if(isHexString$1(e))return new bn_js_1$1.default(ensureEvenLengthHexString(e,!1),16)}throw new Error(`Not an integer: ${String(e)}`)}function ensureParsedJSONObject(e){if("string"==typeof e)return JSON.parse(e);if("object"==typeof e)return e;throw new Error(`Not a JSON string or an object: ${String(e)}`)}function isBigNumber(e){if(null==e||"function"!=typeof e.constructor)return!1;const{constructor:t}=e;return"function"==typeof t.config&&"number"==typeof t.EUCLID}function range(e,t){return Array.from({length:t-e},((t,r)=>e+r))}function getFavicon(){const e=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:t,host:r}=document.location,n=e?e.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?t+n:`${t}//${r}${n}`}util$3.randomBytesHex=randomBytesHex,util$3.uint8ArrayToHex=uint8ArrayToHex,util$3.hexStringToUint8Array=hexStringToUint8Array,util$3.hexStringFromBuffer=hexStringFromBuffer,util$3.bigIntStringFromBN=bigIntStringFromBN,util$3.intNumberFromHexString=intNumberFromHexString,util$3.hexStringFromIntNumber=hexStringFromIntNumber,util$3.has0xPrefix=has0xPrefix,util$3.strip0x=strip0x,util$3.prepend0x=prepend0x,util$3.isHexString=isHexString$1,util$3.ensureHexString=ensureHexString,util$3.ensureEvenLengthHexString=ensureEvenLengthHexString,util$3.ensureAddressString=ensureAddressString,util$3.ensureBuffer=ensureBuffer,util$3.ensureIntNumber=ensureIntNumber,util$3.ensureRegExpString=ensureRegExpString,util$3.ensureBN=ensureBN,util$3.ensureParsedJSONObject=ensureParsedJSONObject,util$3.isBigNumber=isBigNumber,util$3.range=range,util$3.getFavicon=getFavicon,Object.defineProperty(Session$1,"__esModule",{value:!0}),Session$1.Session=void 0;const js_sha256_1=sha256.exports,rxjs_1$4=require$$2$1,operators_1$3=require$$3,util_1$6=util$3,STORAGE_KEY_SESSION_ID="session:id",STORAGE_KEY_SESSION_SECRET="session:secret",STORAGE_KEY_SESSION_LINKED="session:linked";class Session{constructor(e,t,r,n){this._storage=e,this._id=t||(0,util_1$6.randomBytesHex)(16),this._secret=r||(0,util_1$6.randomBytesHex)(32);const i=js_sha256_1.sha256.create();i.update(`${this._id}, ${this._secret} WalletLink`),this._key=i.hex(),this._linked=!!n}static load(e){const t=e.getItem(STORAGE_KEY_SESSION_ID),r=e.getItem(STORAGE_KEY_SESSION_LINKED),n=e.getItem(STORAGE_KEY_SESSION_SECRET);return t&&n?new Session(e,t,n,"1"===r):null}static get persistedSessionIdChange$(){return(0,rxjs_1$4.fromEvent)(window,"storage").pipe((0,operators_1$3.filter)((e=>e.key===STORAGE_KEY_SESSION_ID)),(0,operators_1$3.map)((e=>({oldValue:e.oldValue||null,newValue:e.newValue||null}))))}static hash(e){return js_sha256_1.sha256.create().update(e).hex()}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(STORAGE_KEY_SESSION_ID,this._id),this._storage.setItem(STORAGE_KEY_SESSION_SECRET,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(STORAGE_KEY_SESSION_LINKED,this._linked?"1":"0")}}Session$1.Session=Session;var WalletLinkRelayAbstract$1={};Object.defineProperty(WalletLinkRelayAbstract$1,"__esModule",{value:!0}),WalletLinkRelayAbstract$1.WalletLinkRelayAbstract=WalletLinkRelayAbstract$1.APP_VERSION_KEY=WalletLinkRelayAbstract$1.LOCAL_STORAGE_ADDRESSES_KEY=WalletLinkRelayAbstract$1.WALLET_USER_NAME_KEY=void 0;const eth_rpc_errors_1$2=dist;WalletLinkRelayAbstract$1.WALLET_USER_NAME_KEY="walletUsername",WalletLinkRelayAbstract$1.LOCAL_STORAGE_ADDRESSES_KEY="Addresses",WalletLinkRelayAbstract$1.APP_VERSION_KEY="AppVersion";class WalletLinkRelayAbstract{async makeEthereumJSONRPCRequest(e,t){if(!t)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(t,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{if(!e)throw eth_rpc_errors_1$2.ethErrors.rpc.parse({});const t=e,{error:r}=t;if(r)throw(0,eth_rpc_errors_1$2.serializeError)(r);return t}))}}WalletLinkRelayAbstract$1.WalletLinkRelayAbstract=WalletLinkRelayAbstract;const createKeccakHash=js,BN$1=bn$1.exports;function zeros(e){return buffer$2.Buffer.allocUnsafe(e).fill(0)}function setLength(e,t,r){const n=zeros(t);return e=toBuffer(e),r?e.length<t?(e.copy(n),n):e.slice(0,t):e.length<t?(e.copy(n,t-e.length),n):e.slice(-t)}function setLengthRight(e,t){return setLength(e,t,!0)}function toBuffer(e){if(!buffer$2.Buffer.isBuffer(e))if(Array.isArray(e))e=buffer$2.Buffer.from(e);else if("string"==typeof e)e=isHexString(e)?buffer$2.Buffer.from(padToEven(stripHexPrefix(e)),"hex"):buffer$2.Buffer.from(e);else if("number"==typeof e)e=intToBuffer(e);else if(null==e)e=buffer$2.Buffer.allocUnsafe(0);else if(BN$1.isBN(e))e=e.toArrayLike(buffer$2.Buffer);else{if(!e.toArray)throw new Error("invalid type");e=buffer$2.Buffer.from(e.toArray())}return e}function bufferToHex(e){return"0x"+(e=toBuffer(e)).toString("hex")}function keccak(e,t){return e=toBuffer(e),t||(t=256),createKeccakHash("keccak"+t).update(e).digest()}function padToEven(e){return e.length%2?"0"+e:e}function isHexString(e){return"string"==typeof e&&e.match(/^0x[0-9A-Fa-f]*$/)}function stripHexPrefix(e){return"string"==typeof e&&e.startsWith("0x")?e.slice(2):e}var util$2={zeros:zeros,setLength:setLength,setLengthRight:setLengthRight,isHexString:isHexString,stripHexPrefix:stripHexPrefix,toBuffer:toBuffer,bufferToHex:bufferToHex,keccak:keccak};const util$1=util$2,BN=bn$1.exports;function elementaryName(e){return e.startsWith("int[")?"int256"+e.slice(3):"int"===e?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):"uint"===e?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):"fixed"===e?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):"ufixed"===e?"ufixed128x128":e}function parseTypeN(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function parseTypeNxM(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function parseTypeArray(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?""===t[2]?"dynamic":parseInt(t[2],10):null}function parseNumber(e){var t=typeof e;if("string"===t)return util$1.isHexString(e)?new BN(util$1.stripHexPrefix(e),16):new BN(e,10);if("number"===t)return new BN(e);if(e.toArray)return e;throw new Error("Argument is not a number")}function encodeSingle(e,t){var r,n,i,o;if("address"===e)return encodeSingle("uint160",parseNumber(t));if("bool"===e)return encodeSingle("uint8",t?1:0);if("string"===e)return encodeSingle("bytes",new buffer$2.Buffer(t,"utf8"));if(isArray(e)){if(void 0===t.length)throw new Error("Not an array?");if("dynamic"!==(r=parseTypeArray(e))&&0!==r&&t.length>r)throw new Error("Elements exceed array size: "+r);for(o in i=[],e=e.slice(0,e.lastIndexOf("[")),"string"==typeof t&&(t=JSON.parse(t)),t)i.push(encodeSingle(e,t[o]));if("dynamic"===r){var s=encodeSingle("uint256",t.length);i.unshift(s)}return buffer$2.Buffer.concat(i)}if("bytes"===e)return t=new buffer$2.Buffer(t),i=buffer$2.Buffer.concat([encodeSingle("uint256",t.length),t]),t.length%32!=0&&(i=buffer$2.Buffer.concat([i,util$1.zeros(32-t.length%32)])),i;if(e.startsWith("bytes")){if((r=parseTypeN(e))<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return util$1.setLengthRight(t,32)}if(e.startsWith("uint")){if((r=parseTypeN(e))%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if((n=parseNumber(t)).bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(buffer$2.Buffer,"be",32)}if(e.startsWith("int")){if((r=parseTypeN(e))%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if((n=parseNumber(t)).bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(buffer$2.Buffer,"be",32)}if(e.startsWith("ufixed")){if(r=parseTypeNxM(e),(n=parseNumber(t))<0)throw new Error("Supplied ufixed is negative");return encodeSingle("uint256",n.mul(new BN(2).pow(new BN(r[1]))))}if(e.startsWith("fixed"))return r=parseTypeNxM(e),encodeSingle("int256",parseNumber(t).mul(new BN(2).pow(new BN(r[1]))));throw new Error("Unsupported or invalid type: "+e)}function isDynamic(e){return"string"===e||"bytes"===e||"dynamic"===parseTypeArray(e)}function isArray(e){return e.lastIndexOf("]")===e.length-1}function rawEncode(e,t){var r=[],n=[],i=32*e.length;for(var o in e){var s=elementaryName(e[o]),a=encodeSingle(s,t[o]);isDynamic(s)?(r.push(encodeSingle("uint256",i)),n.push(a),i+=a.length):r.push(a)}return buffer$2.Buffer.concat(r.concat(n))}function solidityPack(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],o=0;o<e.length;o++){var s=elementaryName(e[o]),a=t[o];if("bytes"===s)i.push(a);else if("string"===s)i.push(new buffer$2.Buffer(a,"utf8"));else if("bool"===s)i.push(new buffer$2.Buffer(a?"01":"00","hex"));else if("address"===s)i.push(util$1.setLength(a,20));else if(s.startsWith("bytes")){if((r=parseTypeN(s))<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(util$1.setLengthRight(a,r))}else if(s.startsWith("uint")){if((r=parseTypeN(s))%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if((n=parseNumber(a)).bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(buffer$2.Buffer,"be",r/8))}else{if(!s.startsWith("int"))throw new Error("Unsupported or invalid type: "+s);if((r=parseTypeN(s))%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if((n=parseNumber(a)).bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(buffer$2.Buffer,"be",r/8))}}return buffer$2.Buffer.concat(i)}function soliditySHA3(e,t){return util$1.keccak(solidityPack(e,t))}var abi$2={rawEncode:rawEncode,solidityPack:solidityPack,soliditySHA3:soliditySHA3};const util=util$2,abi$1=abi$2,TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},TypedDataUtils={encodeData(e,t,r,n=!0){const i=["bytes32"],o=[this.hashType(e,r)];if(n){const s=(e,t,i)=>{if(void 0!==r[t])return["bytes32",null==i?"0x0000000000000000000000000000000000000000000000000000000000000000":util.keccak(this.encodeData(t,i,r,n))];if(void 0===i)throw new Error(`missing value for field ${e} of type ${t}`);if("bytes"===t)return["bytes32",util.keccak(i)];if("string"===t)return"string"==typeof i&&(i=buffer$2.Buffer.from(i,"utf8")),["bytes32",util.keccak(i)];if(t.lastIndexOf("]")===t.length-1){const r=t.slice(0,t.lastIndexOf("[")),n=i.map((t=>s(e,r,t)));return["bytes32",util.keccak(abi$1.rawEncode(n.map((([e])=>e)),n.map((([,e])=>e))))]}return[t,i]};for(const n of r[e]){const[e,r]=s(n.name,n.type,t[n.name]);i.push(e),o.push(r)}}else for(const s of r[e]){let e=t[s.name];if(void 0!==e)if("bytes"===s.type)i.push("bytes32"),e=util.keccak(e),o.push(e);else if("string"===s.type)i.push("bytes32"),"string"==typeof e&&(e=buffer$2.Buffer.from(e,"utf8")),e=util.keccak(e),o.push(e);else if(void 0!==r[s.type])i.push("bytes32"),e=util.keccak(this.encodeData(s.type,e,r,n)),o.push(e);else{if(s.type.lastIndexOf("]")===s.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(s.type),o.push(e)}}return abi$1.rawEncode(i,o)},encodeType(e,t){let r="",n=this.findTypeDependencies(e,t).filter((t=>t!==e));n=[e].concat(n.sort());for(const i of n){if(!t[i])throw new Error("No type definition specified: "+i);r+=i+"("+t[i].map((({name:e,type:t})=>t+" "+e)).join(",")+")"}return r},findTypeDependencies(e,t,r=[]){if(e=e.match(/^\w*/)[0],r.includes(e)||void 0===t[e])return r;r.push(e);for(const n of t[e])for(const e of this.findTypeDependencies(n.type,t,r))!r.includes(e)&&r.push(e);return r},hashStruct(e,t,r,n=!0){return util.keccak(this.encodeData(e,t,r,n))},hashType(e,t){return util.keccak(this.encodeType(e,t))},sanitizeData(e){const t={};for(const r in TYPED_MESSAGE_SCHEMA.properties)e[r]&&(t[r]=e[r]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash(e,t=!0){const r=this.sanitizeData(e),n=[buffer$2.Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,t)),"EIP712Domain"!==r.primaryType&&n.push(this.hashStruct(r.primaryType,r.message,r.types,t)),util.keccak(buffer$2.Buffer.concat(n))}};var ethEip712Util={TYPED_MESSAGE_SCHEMA:TYPED_MESSAGE_SCHEMA,TypedDataUtils:TypedDataUtils,hashForSignTypedDataLegacy:function(e){return typedSignatureHashLegacy(e.data)},hashForSignTypedData_v3:function(e){return TypedDataUtils.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return TypedDataUtils.hash(e.data)}};function typedSignatureHashLegacy(e){const t=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!e.length)throw t;const r=e.map((function(e){return"bytes"===e.type?util.toBuffer(e.value):e.value})),n=e.map((function(e){return e.type})),i=e.map((function(e){if(!e.name)throw t;return e.type+" "+e.name}));return abi$1.soliditySHA3(["bytes32","bytes32"],[abi$1.soliditySHA3(new Array(e.length).fill("string"),i),abi$1.soliditySHA3(n,r)])}var FilterPolyfill$1={};Object.defineProperty(FilterPolyfill$1,"__esModule",{value:!0}),FilterPolyfill$1.filterFromParam=FilterPolyfill$1.FilterPolyfill=void 0;const types_1$1=types$1,util_1$5=util$3,TIMEOUT=3e5,JSONRPC_TEMPLATE={jsonrpc:"2.0",id:0};class FilterPolyfill{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,types_1$1.IntNumber)(1),this.provider=e}async newFilter(e){const t=filterFromParam(e),r=this.makeFilterId(),n=await this.setInitialCursorPosition(r,t.fromBlock);return console.log(`Installing new log filter(${r}):`,t,"initial cursor position:",n),this.logFilters.set(r,t),this.setFilterTimeout(r),(0,util_1$5.hexStringFromIntNumber)(r)}async newBlockFilter(){const e=this.makeFilterId(),t=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,t),this.blockFilters.add(e),this.setFilterTimeout(e),(0,util_1$5.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),t=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,t),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,util_1$5.hexStringFromIntNumber)(e)}uninstallFilter(e){const t=(0,util_1$5.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${t})`),this.deleteFilter(t),!0}getFilterChanges(e){const t=(0,util_1$5.intNumberFromHexString)(e);return this.timeouts.has(t)&&this.setFilterTimeout(t),this.logFilters.has(t)?this.getLogFilterChanges(t):this.blockFilters.has(t)?this.getBlockFilterChanges(t):this.pendingTransactionFilters.has(t)?this.getPendingTransactionFilterChanges(t):Promise.resolve(filterNotFoundError())}async getFilterLogs(e){const t=(0,util_1$5.intNumberFromHexString)(e),r=this.logFilters.get(t);return r?this.sendAsyncPromise(Object.assign(Object.assign({},JSONRPC_TEMPLATE),{method:"eth_getLogs",params:[paramFromFilter(r)]})):filterNotFoundError()}makeFilterId(){return(0,types_1$1.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise(((t,r)=>{this.provider.sendAsync(e,((e,n)=>e?r(e):Array.isArray(n)||null==n?r(new Error(`unexpected response received: ${JSON.stringify(n)}`)):void t(n)))}))}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const t=this.logFilters.get(e),r=this.cursors.get(e);if(!r||!t)return filterNotFoundError();const n=await this.getCurrentBlockHeight(),i="latest"===t.toBlock?n:t.toBlock;if(r>n)return emptyResult();if(r>t.toBlock)return emptyResult();console.log(`Fetching logs from ${r} to ${i} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},JSONRPC_TEMPLATE),{method:"eth_getLogs",params:[paramFromFilter(Object.assign(Object.assign({},t),{fromBlock:r,toBlock:i}))]}));if(Array.isArray(o.result)){const t=o.result.map((e=>(0,util_1$5.intNumberFromHexString)(e.blockNumber||"0x0"))),n=Math.max(...t);if(n&&n>r){const t=(0,types_1$1.IntNumber)(n+1);console.log(`Moving cursor position for filter (${e}) from ${r} to ${t}`),this.cursors.set(e,t)}}return o}async getBlockFilterChanges(e){const t=this.cursors.get(e);if(!t)return filterNotFoundError();const r=await this.getCurrentBlockHeight();if(t>r)return emptyResult();console.log(`Fetching blocks from ${t} to ${r} for filter (${e})`);const n=(await Promise.all((0,util_1$5.range)(t,r+1).map((e=>this.getBlockHashByNumber((0,types_1$1.IntNumber)(e)))))).filter((e=>!!e)),i=(0,types_1$1.IntNumber)(t+n.length);return console.log(`Moving cursor position for filter (${e}) from ${t} to ${i}`),this.cursors.set(e,i),Object.assign(Object.assign({},JSONRPC_TEMPLATE),{result:n})}async getPendingTransactionFilterChanges(e){return Promise.resolve(emptyResult())}async setInitialCursorPosition(e,t){const r=await this.getCurrentBlockHeight(),n="number"==typeof t&&t>r?t:r;return this.cursors.set(e,n),n}setFilterTimeout(e){const t=this.timeouts.get(e);t&&window.clearTimeout(t);const r=window.setTimeout((()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)}),TIMEOUT);this.timeouts.set(e,r)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},JSONRPC_TEMPLATE),{method:"eth_blockNumber",params:[]}));return(0,util_1$5.intNumberFromHexString)((0,util_1$5.ensureHexString)(e))}async getBlockHashByNumber(e){const t=await this.sendAsyncPromise(Object.assign(Object.assign({},JSONRPC_TEMPLATE),{method:"eth_getBlockByNumber",params:[(0,util_1$5.hexStringFromIntNumber)(e),!1]}));return t.result&&"string"==typeof t.result.hash?(0,util_1$5.ensureHexString)(t.result.hash):null}}function filterFromParam(e){return{fromBlock:intBlockHeightFromHexBlockHeight(e.fromBlock),toBlock:intBlockHeightFromHexBlockHeight(e.toBlock),addresses:void 0===e.address?null:Array.isArray(e.address)?e.address:[e.address],topics:e.topics||[]}}function paramFromFilter(e){const t={fromBlock:hexBlockHeightFromIntBlockHeight(e.fromBlock),toBlock:hexBlockHeightFromIntBlockHeight(e.toBlock),topics:e.topics};return null!==e.addresses&&(t.address=e.addresses),t}function intBlockHeightFromHexBlockHeight(e){if(void 0===e||"latest"===e||"pending"===e)return"latest";if("earliest"===e)return(0,types_1$1.IntNumber)(0);if((0,util_1$5.isHexString)(e))return(0,util_1$5.intNumberFromHexString)(e);throw new Error(`Invalid block option: ${String(e)}`)}function hexBlockHeightFromIntBlockHeight(e){return"latest"===e?e:(0,util_1$5.hexStringFromIntNumber)(e)}function filterNotFoundError(){return Object.assign(Object.assign({},JSONRPC_TEMPLATE),{error:{code:-32e3,message:"filter not found"}})}function emptyResult(){return Object.assign(Object.assign({},JSONRPC_TEMPLATE),{result:[]})}FilterPolyfill$1.FilterPolyfill=FilterPolyfill,FilterPolyfill$1.filterFromParam=filterFromParam;var JSONRPC={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.JSONRPCMethod=void 0,(t=e.JSONRPCMethod||(e.JSONRPCMethod={})).eth_accounts="eth_accounts",t.eth_coinbase="eth_coinbase",t.net_version="net_version",t.eth_chainId="eth_chainId",t.eth_uninstallFilter="eth_uninstallFilter",t.eth_requestAccounts="eth_requestAccounts",t.eth_sign="eth_sign",t.eth_ecRecover="eth_ecRecover",t.personal_sign="personal_sign",t.personal_ecRecover="personal_ecRecover",t.eth_signTransaction="eth_signTransaction",t.eth_sendRawTransaction="eth_sendRawTransaction",t.eth_sendTransaction="eth_sendTransaction",t.eth_signTypedData_v1="eth_signTypedData_v1",t.eth_signTypedData_v2="eth_signTypedData_v2",t.eth_signTypedData_v3="eth_signTypedData_v3",t.eth_signTypedData_v4="eth_signTypedData_v4",t.eth_signTypedData="eth_signTypedData",t.walletlink_arbitrary="walletlink_arbitrary",t.wallet_addEthereumChain="wallet_addEthereumChain",t.wallet_switchEthereumChain="wallet_switchEthereumChain",t.wallet_watchAsset="wallet_watchAsset",t.eth_subscribe="eth_subscribe",t.eth_unsubscribe="eth_unsubscribe",t.eth_newFilter="eth_newFilter",t.eth_newBlockFilter="eth_newBlockFilter",t.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",t.eth_getFilterChanges="eth_getFilterChanges",t.eth_getFilterLogs="eth_getFilterLogs"}(JSONRPC);var SubscriptionManager$1={};Object.defineProperty(SubscriptionManager$1,"__esModule",{value:!0}),SubscriptionManager$1.SubscriptionManager=void 0;const PollingBlockTracker=polling,createSubscriptionManager=subscriptionManager,noop$1=()=>{};class SubscriptionManager{constructor(e){const t=new PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:r,middleware:n}=createSubscriptionManager({blockTracker:t,provider:e});this.events=r,this.subscriptionMiddleware=n}async handleRequest(e){const t={};return await this.subscriptionMiddleware(e,t,noop$1,noop$1),t}destroy(){this.subscriptionMiddleware.destroy()}}SubscriptionManager$1.SubscriptionManager=SubscriptionManager;var __importDefault$7=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(WalletLinkProvider$1,"__esModule",{value:!0}),WalletLinkProvider$1.WalletLinkProvider=void 0;const safe_event_emitter_1=__importDefault$7(safeEventEmitter),bn_js_1=__importDefault$7(bn$1.exports),eth_rpc_errors_1$1=dist,WalletLinkAnalytics_1$2=WalletLinkAnalytics$1,init_1$2=init,Session_1$2=Session$1,WalletLinkRelayAbstract_1$1=WalletLinkRelayAbstract$1,util_1$4=util$3,eth_eip712_util_1=__importDefault$7(ethEip712Util),FilterPolyfill_1=FilterPolyfill$1,JSONRPC_1=JSONRPC,SubscriptionManager_1=SubscriptionManager$1,DEFAULT_CHAIN_ID_KEY="DefaultChainId",DEFAULT_JSON_RPC_URL="DefaultJsonRpcUrl",HAS_CHAIN_BEEN_SWITCHED_KEY="HasChainBeenSwitched",HAS_CHAIN_OVERRIDDEN_FROM_RELAY="HasChainOverriddenFromRelay";class WalletLinkProvider extends safe_event_emitter_1.default{constructor(e){var t;super(),this._filterPolyfill=new FilterPolyfill_1.FilterPolyfill(this),this._subscriptionManager=new SubscriptionManager_1.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this._walletLinkAnalytics=e.walletLinkAnalytics?e.walletLinkAnalytics:new WalletLinkAnalytics_1$2.WalletLinkAnalytics,this.isCoinbaseWallet=null===(t=e.overrideIsCoinbaseWallet)||void 0===t||t;const r=this.getChainId(),n=(0,util_1$4.prepend0x)(r.toString(16));this.emit("connect",{chainIdStr:n});const i=this._storage.getItem(WalletLinkRelayAbstract_1$1.LOCAL_STORAGE_ADDRESSES_KEY);if(i){const e=i.split(" ");""!==e[0]&&(this._addresses=e.map((e=>(0,util_1$4.ensureAddressString)(e))),this.emit("accountsChanged",e))}this._subscriptionManager.events.on("notification",(e=>{this.emit("message",{type:e.method,data:e.params})})),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",(e=>{var t;if("walletLinkMessage"===e.data.type&&"defaultChainChanged"===e.data.data.action){const r=e.data.data.chainId,n=null!==(t=e.data.data.jsonRpcUrl)&&void 0!==t?t:this.jsonRpcUrl;this.updateProviderInfo(n,Number(r),!0)}}))}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,util_1$4.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return null!==(e=this._storage.getItem(DEFAULT_JSON_RPC_URL))&&void 0!==e?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(DEFAULT_JSON_RPC_URL,e)}get isChainOverridden(){return"true"===this._storage.getItem(HAS_CHAIN_OVERRIDDEN_FROM_RELAY)}set isChainOverridden(e){this._storage.setItem(HAS_CHAIN_OVERRIDDEN_FROM_RELAY,e.toString())}setProviderInfo(e,t){this.isChainOverridden||this.updateProviderInfo(e,this.getChainId(),!1)}updateProviderInfo(e,t,r){if("true"===this._storage.getItem(HAS_CHAIN_BEEN_SWITCHED_KEY)&&r)return;r&&(this.isChainOverridden=!0),this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(DEFAULT_CHAIN_ID_KEY,t.toString(10));!((0,util_1$4.ensureIntNumber)(t)!==n)&&this.hasMadeFirstChainChangedEmission||(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,t,r,n,i){const o=await this.initializeRelay();return!!(await o.watchAsset(e,t,r,n,i).promise).result}async addEthereumChain(e,t,r,n,i,o){var s,a;if((0,util_1$4.ensureIntNumber)(e)===this.getChainId())return!1;const u=await this.initializeRelay(),l=await u.addEthereumChain(e.toString(),t,i,r,n,o).promise;return!0===(null===(s=l.result)||void 0===s?void 0:s.isApproved)&&(this._storage.setItem(HAS_CHAIN_BEEN_SWITCHED_KEY,"true"),this.updateProviderInfo(t[0],e,!1)),!0===(null===(a=l.result)||void 0===a?void 0:a.isApproved)}async switchEthereumChain(e){if((0,util_1$4.ensureIntNumber)(e)===this.getChainId())return;const t=await this.initializeRelay(),r=await t.switchEthereumChain(e.toString(10)).promise;if(r.errorCode)throw eth_rpc_errors_1$1.ethErrors.provider.custom({code:r.errorCode});const n=r.result;n.isApproved&&n.rpcUrl.length>0&&(this._storage.setItem(HAS_CHAIN_BEEN_SWITCHED_KEY,"true"),this.updateProviderInfo(n.rpcUrl,e,!1))}setAppInfo(e,t){this.initializeRelay().then((r=>r.setAppInfo(e,t)))}async enable(){return this._walletLinkAnalytics.sendEvent(init_1$2.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Session_1$2.Session.hash(this._relay.session.id):null}),this._addresses.length>0?[...this._addresses]:await this._send(JSONRPC_1.JSONRPCMethod.eth_requestAccounts)}close(){this.initializeRelay().then((e=>e.resetAndReload()))}send(e,t){if("string"==typeof e){const r={jsonrpc:"2.0",id:0,method:e,params:Array.isArray(t)?t:void 0!==t?[t]:[]};return this._sendRequestAsync(r).then((e=>e.result))}if("function"==typeof t){const r=e,n=t;return this._sendAsync(r,n)}if(Array.isArray(e)){return e.map((e=>this._sendRequest(e)))}const r=e;return this._sendRequest(r)}sendAsync(e,t){if("function"!=typeof t)throw new Error("callback is required");if(Array.isArray(e)){const r=t;return void this._sendMultipleRequestsAsync(e).then((e=>r(null,e))).catch((e=>r(e,null)))}const r=t;this._sendRequestAsync(e).then((e=>r(null,e))).catch((e=>r(e,null)))}async request(e){if(!e||"object"!=typeof e||Array.isArray(e))throw eth_rpc_errors_1$1.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:t,params:r}=e;if("string"!=typeof t||0===t.length)throw eth_rpc_errors_1$1.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(void 0!==r&&!Array.isArray(r)&&("object"!=typeof r||null===r))throw eth_rpc_errors_1$1.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const n=void 0===r?[]:r,i=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:t,params:n,jsonrpc:"2.0",id:i})).result}async scanQRCode(e){const t=await this.initializeRelay(),r=await t.scanQRCode((0,util_1$4.ensureRegExpString)(e)).promise;if("string"!=typeof r.result)throw new Error("result was not a string");return r.result}async genericRequest(e,t){const r=await this.initializeRelay(),n=await r.genericRequest(e,t).promise;if("string"!=typeof n.result)throw new Error("result was not a string");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const t={jsonrpc:"2.0",id:e.id},{method:r}=e;if(t.result=this._handleSynchronousMethods(e),void 0===t.result)throw new Error(`WalletLink does not support calling ${r} synchronously without a callback. Please provide a callback parameter to call ${r} asynchronously.`);return t}_setAddresses(e){if(!Array.isArray(e))throw new Error("addresses is not an array");const t=e.map((e=>(0,util_1$4.ensureAddressString)(e)));JSON.stringify(t)!==JSON.stringify(this._addresses)&&(this._addresses=t,this.emit("accountsChanged",this._addresses),this._storage.setItem(WalletLinkRelayAbstract_1$1.LOCAL_STORAGE_ADDRESSES_KEY,t.join(" ")),window.dispatchEvent(new CustomEvent("walletlink:addresses",{detail:this._addresses})))}_sendRequestAsync(e){return new Promise(((t,r)=>{try{const n=this._handleSynchronousMethods(e);if(void 0!==n)return t({jsonrpc:"2.0",id:e.id,result:n});const i=this._handleAsynchronousFilterMethods(e);if(void 0!==i)return void i.then((r=>t(Object.assign(Object.assign({},r),{id:e.id})))).catch((e=>r(e)));const o=this._handleSubscriptionMethods(e);if(void 0!==o)return void o.then((r=>t({jsonrpc:"2.0",id:e.id,result:r.result}))).catch((e=>r(e)))}catch(n){return r(n)}this._handleAsynchronousMethods(e).then((r=>r&&t(Object.assign(Object.assign({},r),{id:e.id})))).catch((e=>r(e)))}))}_sendMultipleRequestsAsync(e){return Promise.all(e.map((e=>this._sendRequestAsync(e))))}_handleSynchronousMethods(e){const{method:t}=e,r=e.params||[];switch(t){case JSONRPC_1.JSONRPCMethod.eth_accounts:return this._eth_accounts();case JSONRPC_1.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case JSONRPC_1.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(r);case JSONRPC_1.JSONRPCMethod.net_version:return this._net_version();case JSONRPC_1.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:t}=e,r=e.params||[];switch(t){case JSONRPC_1.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case JSONRPC_1.JSONRPCMethod.eth_sign:return this._eth_sign(r);case JSONRPC_1.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(r);case JSONRPC_1.JSONRPCMethod.personal_sign:return this._personal_sign(r);case JSONRPC_1.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(r);case JSONRPC_1.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(r);case JSONRPC_1.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(r);case JSONRPC_1.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(r);case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(r);case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(r);case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v4:case JSONRPC_1.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(r);case JSONRPC_1.JSONRPCMethod.walletlink_arbitrary:return this._walletlink_arbitrary(r);case JSONRPC_1.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(r);case JSONRPC_1.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(r);case JSONRPC_1.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(r)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:t}=e,r=e.params||[];switch(t){case JSONRPC_1.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(r);case JSONRPC_1.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case JSONRPC_1.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case JSONRPC_1.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(r);case JSONRPC_1.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(r)}}_handleSubscriptionMethods(e){switch(e.method){case JSONRPC_1.JSONRPCMethod.eth_subscribe:case JSONRPC_1.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const t=(0,util_1$4.ensureAddressString)(e),r=this._addresses.map((e=>(0,util_1$4.ensureAddressString)(e)));return r.includes(t)}catch(t){}return!1}_ensureKnownAddress(e){if(!this._isKnownAddress(e))throw this._walletLinkAnalytics.sendEvent(init_1$2.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const t=e.from?(0,util_1$4.ensureAddressString)(e.from):this.selectedAddress;if(!t)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(t);return{fromAddress:t,toAddress:e.to?(0,util_1$4.ensureAddressString)(e.to):null,weiValue:null!=e.value?(0,util_1$4.ensureBN)(e.value):new bn_js_1.default(0),data:e.data?(0,util_1$4.ensureBuffer)(e.data):buffer$2.Buffer.alloc(0),nonce:null!=e.nonce?(0,util_1$4.ensureIntNumber)(e.nonce):null,gasPriceInWei:null!=e.gasPrice?(0,util_1$4.ensureBN)(e.gasPrice):null,maxFeePerGas:null!=e.maxFeePerGas?(0,util_1$4.ensureBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:null!=e.maxPriorityFeePerGas?(0,util_1$4.ensureBN)(e.maxPriorityFeePerGas):null,gasLimit:null!=e.gas?(0,util_1$4.ensureBN)(e.gas):null,chainId:this.getChainId()}}_requireAuthorization(){if(0===this._addresses.length)throw eth_rpc_errors_1$1.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw eth_rpc_errors_1$1.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,t,r,n){this._ensureKnownAddress(t);try{const i=await this.initializeRelay();return{jsonrpc:"2.0",id:0,result:(await i.signEthereumMessage(e,t,r,n).promise).result}}catch(i){if("string"==typeof i.message&&i.message.match(/(denied|rejected)/i))throw eth_rpc_errors_1$1.ethErrors.provider.userRejectedRequest("User denied message signature");throw i}}async _ethereumAddressFromSignedMessage(e,t,r){const n=await this.initializeRelay();return{jsonrpc:"2.0",id:0,result:(await n.ethereumAddressFromSignedMessage(e,t,r).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,util_1$4.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(DEFAULT_CHAIN_ID_KEY)||"1",t=parseInt(e,10);return(0,util_1$4.ensureIntNumber)(t)}async _eth_requestAccounts(){if(this._walletLinkAnalytics.sendEvent(init_1$2.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Session_1$2.Session.hash(this._relay.session.id):null}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let e;try{const t=await this.initializeRelay();e=await t.requestEthereumAccounts().promise}catch(t){if("string"==typeof t.message&&t.message.match(/(denied|rejected)/i))throw eth_rpc_errors_1$1.ethErrors.provider.userRejectedRequest("User denied account authorization");throw t}if(!e.result)throw new Error("accounts received is empty");return this._setAddresses(e.result),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const t=(0,util_1$4.ensureAddressString)(e[0]),r=(0,util_1$4.ensureBuffer)(e[1]);return this._signEthereumMessage(r,t,!1)}_eth_ecRecover(e){const t=(0,util_1$4.ensureBuffer)(e[0]),r=(0,util_1$4.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(t,r,!1)}_personal_sign(e){this._requireAuthorization();const t=(0,util_1$4.ensureBuffer)(e[0]),r=(0,util_1$4.ensureAddressString)(e[1]);return this._signEthereumMessage(t,r,!0)}_personal_ecRecover(e){const t=(0,util_1$4.ensureBuffer)(e[0]),r=(0,util_1$4.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(t,r,!0)}async _eth_signTransaction(e){this._requireAuthorization();const t=this._prepareTransactionParams(e[0]||{});try{const e=await this.initializeRelay();return{jsonrpc:"2.0",id:0,result:(await e.signEthereumTransaction(t).promise).result}}catch(r){if("string"==typeof r.message&&r.message.match(/(denied|rejected)/i))throw eth_rpc_errors_1$1.ethErrors.provider.userRejectedRequest("User denied transaction signature");throw r}}async _eth_sendRawTransaction(e){const t=(0,util_1$4.ensureBuffer)(e[0]),r=await this.initializeRelay();return{jsonrpc:"2.0",id:0,result:(await r.submitEthereumTransaction(t,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const t=this._prepareTransactionParams(e[0]||{});try{const e=await this.initializeRelay();return{jsonrpc:"2.0",id:0,result:(await e.signAndSubmitEthereumTransaction(t).promise).result}}catch(r){if("string"==typeof r.message&&r.message.match(/(denied|rejected)/i))throw eth_rpc_errors_1$1.ethErrors.provider.userRejectedRequest("User denied transaction signature");throw r}}async _eth_signTypedData_v1(e){this._requireAuthorization();const t=(0,util_1$4.ensureParsedJSONObject)(e[0]),r=(0,util_1$4.ensureAddressString)(e[1]);this._ensureKnownAddress(r);const n=eth_eip712_util_1.default.hashForSignTypedDataLegacy({data:t}),i=JSON.stringify(t,null,2);return this._signEthereumMessage(n,r,!1,i)}async _eth_signTypedData_v3(e){this._requireAuthorization();const t=(0,util_1$4.ensureAddressString)(e[0]),r=(0,util_1$4.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(t);const n=eth_eip712_util_1.default.hashForSignTypedData_v3({data:r}),i=JSON.stringify(r,null,2);return this._signEthereumMessage(n,t,!1,i)}async _eth_signTypedData_v4(e){this._requireAuthorization();const t=(0,util_1$4.ensureAddressString)(e[0]),r=(0,util_1$4.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(t);const n=eth_eip712_util_1.default.hashForSignTypedData_v4({data:r}),i=JSON.stringify(r,null,2);return this._signEthereumMessage(n,t,!1,i)}async _walletlink_arbitrary(e){const t=e[0],r=e[1];if("string"!=typeof r)throw new Error("parameter must be a string");if("object"!=typeof t||null===t)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(t,r)}}async _wallet_addEthereumChain(e){var t,r,n,i;const o=e[0];if(0===(null===(t=o.rpcUrls)||void 0===t?void 0:t.length))return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||""===o.chainName.trim())throw eth_rpc_errors_1$1.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!o.nativeCurrency)throw eth_rpc_errors_1$1.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const s=parseInt(o.chainId,16);return await this.addEthereumChain(s,null!==(r=o.rpcUrls)&&void 0!==r?r:[],null!==(n=o.blockExplorerUrls)&&void 0!==n?n:[],o.chainName,null!==(i=o.iconUrls)&&void 0!==i?i:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const t=e[0];return await this.switchEthereumChain(parseInt(t.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){var t;const r=Array.isArray(e)?e[0]:e;if(0===(null===(t=r.type)||void 0===t?void 0:t.length))throw eth_rpc_errors_1$1.ethErrors.rpc.invalidParams({message:"type is a required field"});if("ERC20"!==r.type)throw eth_rpc_errors_1$1.ethErrors.rpc.invalidParams({message:`Asset of type '${r.type}' not supported`});if(!(null==r?void 0:r.options))throw eth_rpc_errors_1$1.ethErrors.rpc.invalidParams({message:"options is a required field"});if(!r.options.address)throw eth_rpc_errors_1$1.ethErrors.rpc.invalidParams({message:"option address is a required option"});const{address:n,symbol:i,image:o,decimals:s}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,n,i,s,o)}}_eth_uninstallFilter(e){const t=(0,util_1$4.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(t)}async _eth_newFilter(e){const t=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(t)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const t=(0,util_1$4.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(t)}_eth_getFilterLogs(e){const t=(0,util_1$4.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(t)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then((e=>(e.setAccountsCallback((e=>this._setAddresses(e))),e.setChainCallback(((e,t)=>{this.updateProviderInfo(t,parseInt(e,10),!0)})),this._relay=e,e)))}}WalletLinkProvider$1.WalletLinkProvider=WalletLinkProvider;var WalletLink$2={},ScopedLocalStorage$1={};Object.defineProperty(ScopedLocalStorage$1,"__esModule",{value:!0}),ScopedLocalStorage$1.ScopedLocalStorage=void 0;class ScopedLocalStorage{constructor(e){this.scope=e}setItem(e,t){localStorage.setItem(this.scopedKey(e),t)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),t=[];for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);"string"==typeof n&&n.startsWith(e)&&t.push(n)}t.forEach((e=>localStorage.removeItem(e)))}scopedKey(e){return`${this.scope}:${e}`}}ScopedLocalStorage$1.ScopedLocalStorage=ScopedLocalStorage;var WalletLinkSdkUI$1={},LinkFlow$1={},n,l$1,u$1,i$2,t$1,o$1,r$1,f$1,e$1={},c$1=[],s$1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function a$1(e,t){for(var r in t)e[r]=t[r];return e}function h$1(e){var t=e.parentNode;t&&t.removeChild(e)}function v$1(e,t,r){var i,o,s,a={};for(s in t)"key"==s?i=t[s]:"ref"==s?o=t[s]:a[s]=t[s];if(arguments.length>2&&(a.children=arguments.length>3?n.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(s in e.defaultProps)void 0===a[s]&&(a[s]=e.defaultProps[s]);return y$1(e,a,i,o,null)}function y$1(e,t,r,n,i){var o={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++u$1:i};return null==i&&null!=l$1.vnode&&l$1.vnode(o),o}function p$1(){return{current:null}}function d$1(e){return e.children}function _$1(e,t){this.props=e,this.context=t}function k$1(e,t){if(null==t)return e.__?k$1(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?k$1(e):null}function b$1(e){var t,r;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e){e.__e=e.__c.base=r.__e;break}return b$1(e)}}function m$1(e){(!e.__d&&(e.__d=!0)&&t$1.push(e)&&!g$1.__r++||r$1!==l$1.debounceRendering)&&((r$1=l$1.debounceRendering)||o$1)(g$1)}function g$1(){for(var e;g$1.__r=t$1.length;)e=t$1.sort((function(e,t){return e.__v.__b-t.__v.__b})),t$1=[],e.some((function(e){var t,r,n,i,o,s;e.__d&&(o=(i=(t=e).__v).__e,(s=t.__P)&&(r=[],(n=a$1({},i)).__v=i.__v+1,j$1(s,i,n,t.__n,void 0!==s.ownerSVGElement,null!=i.__h?[o]:null,r,null==o?k$1(i):o,i.__h),z$1(r,i),i.__e!=o&&b$1(i)))}))}function w$1(e,t,r,n,i,o,s,a,u,l){var c,f,h,d,p,g,m,y=n&&n.__k||c$1,b=y.length;for(r.__k=[],c=0;c<t.length;c++)if(null!=(d=r.__k[c]=null==(d=t[c])||"boolean"==typeof d?null:"string"==typeof d||"number"==typeof d||"bigint"==typeof d?y$1(null,d,null,null,d):Array.isArray(d)?y$1(d$1,{children:d},null,null,null):d.__b>0?y$1(d.type,d.props,d.key,null,d.__v):d)){if(d.__=r,d.__b=r.__b+1,null===(h=y[c])||h&&d.key==h.key&&d.type===h.type)y[c]=void 0;else for(f=0;f<b;f++){if((h=y[f])&&d.key==h.key&&d.type===h.type){y[f]=void 0;break}h=null}j$1(e,d,h=h||e$1,i,o,s,a,u,l),p=d.__e,(f=d.ref)&&h.ref!=f&&(m||(m=[]),h.ref&&m.push(h.ref,null,d),m.push(f,d.__c||p,d)),null!=p?(null==g&&(g=p),"function"==typeof d.type&&d.__k===h.__k?d.__d=u=x$2(d,u,e):u=P(e,d,h,y,p,u),"function"==typeof r.type&&(r.__d=u)):u&&h.__e==u&&u.parentNode!=e&&(u=k$1(h))}for(r.__e=g,c=b;c--;)null!=y[c]&&("function"==typeof r.type&&null!=y[c].__e&&y[c].__e==r.__d&&(r.__d=k$1(n,c+1)),N(y[c],y[c]));if(m)for(c=0;c<m.length;c++)M(m[c],m[++c],m[++c])}function x$2(e,t,r){for(var n,i=e.__k,o=0;i&&o<i.length;o++)(n=i[o])&&(n.__=e,t="function"==typeof n.type?x$2(n,t,r):P(r,n,n,i,n.__e,t));return t}function A$1(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){A$1(e,t)})):t.push(e)),t}function P(e,t,r,n,i,o){var s,a,u;if(void 0!==t.__d)s=t.__d,t.__d=void 0;else if(null==r||i!=o||null==i.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(i),s=null;else{for(a=o,u=0;(a=a.nextSibling)&&u<n.length;u+=2)if(a==i)break e;e.insertBefore(i,o),s=o}return void 0!==s?s:i.nextSibling}function C(e,t,r,n,i){var o;for(o in r)"children"===o||"key"===o||o in t||H(e,o,null,r[o],n);for(o in t)i&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||r[o]===t[o]||H(e,o,t[o],r[o],n)}function $(e,t,r){"-"===t[0]?e.setProperty(t,r):e[t]=null==r?"":"number"!=typeof r||s$1.test(t)?r:r+"px"}function H(e,t,r,n,i){var o;e:if("style"===t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||$(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||$(e.style,t,r[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=r,r?n||e.addEventListener(t,o?T$1:I,o):e.removeEventListener(t,o?T$1:I,o);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==r?"":r;break e}catch(e){}"function"==typeof r||(null!=r&&(!1!==r||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,r):e.removeAttribute(t))}}function I(e){this.l[e.type+!1](l$1.event?l$1.event(e):e)}function T$1(e){this.l[e.type+!0](l$1.event?l$1.event(e):e)}function j$1(e,t,r,n,i,o,s,a,u){var l,c,f,h,d,p,g,m,y,b,v,_=t.type;if(void 0!==t.constructor)return null;null!=r.__h&&(u=r.__h,a=t.__e=r.__e,t.__h=null,o=[a]),(l=l$1.__b)&&l(t);try{e:if("function"==typeof _){if(m=t.props,y=(l=_.contextType)&&n[l.__c],b=l?y?y.props.value:l.__:n,r.__c?g=(c=t.__c=r.__c).__=c.__E:("prototype"in _&&_.prototype.render?t.__c=c=new _(m,b):(t.__c=c=new _$1(m,b),c.constructor=_,c.render=O),y&&y.sub(c),c.props=m,c.state||(c.state={}),c.context=b,c.__n=n,f=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=_.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=a$1({},c.__s)),a$1(c.__s,_.getDerivedStateFromProps(m,c.__s))),h=c.props,d=c.state,f)null==_.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==_.getDerivedStateFromProps&&m!==h&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(m,b),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(m,c.__s,b)||t.__v===r.__v){c.props=m,c.state=c.__s,t.__v!==r.__v&&(c.__d=!1),c.__v=t,t.__e=r.__e,t.__k=r.__k,t.__k.forEach((function(e){e&&(e.__=t)})),c.__h.length&&s.push(c);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(m,c.__s,b),null!=c.componentDidUpdate&&c.__h.push((function(){c.componentDidUpdate(h,d,p)}))}c.context=b,c.props=m,c.state=c.__s,(l=l$1.__r)&&l(t),c.__d=!1,c.__v=t,c.__P=e,l=c.render(c.props,c.state,c.context),c.state=c.__s,null!=c.getChildContext&&(n=a$1(a$1({},n),c.getChildContext())),f||null==c.getSnapshotBeforeUpdate||(p=c.getSnapshotBeforeUpdate(h,d)),v=null!=l&&l.type===d$1&&null==l.key?l.props.children:l,w$1(e,Array.isArray(v)?v:[v],t,r,n,i,o,s,a,u),c.base=t.__e,t.__h=null,c.__h.length&&s.push(c),g&&(c.__E=c.__=null),c.__e=!1}else null==o&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=L(r.__e,t,r,n,i,o,s,u);(l=l$1.diffed)&&l(t)}catch(e){t.__v=null,(u||null!=o)&&(t.__e=a,t.__h=!!u,o[o.indexOf(a)]=null),l$1.__e(e,t,r)}}function z$1(e,t){l$1.__c&&l$1.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){l$1.__e(e,t.__v)}}))}function L(e,t,r,i,o,s,a,u){var l,c,f,h=r.props,d=t.props,p=t.type,g=0;if("svg"===p&&(o=!0),null!=s)for(;g<s.length;g++)if((l=s[g])&&"setAttribute"in l==!!p&&(p?l.localName===p:3===l.nodeType)){e=l,s[g]=null;break}if(null==e){if(null===p)return document.createTextNode(d);e=o?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,d.is&&d),s=null,u=!1}if(null===p)h===d||u&&e.data===d||(e.data=d);else{if(s=s&&n.call(e.childNodes),c=(h=r.props||e$1).dangerouslySetInnerHTML,f=d.dangerouslySetInnerHTML,!u){if(null!=s)for(h={},g=0;g<e.attributes.length;g++)h[e.attributes[g].name]=e.attributes[g].value;(f||c)&&(f&&(c&&f.__html==c.__html||f.__html===e.innerHTML)||(e.innerHTML=f&&f.__html||""))}if(C(e,d,h,o,u),f)t.__k=[];else if(g=t.props.children,w$1(e,Array.isArray(g)?g:[g],t,r,i,o&&"foreignObject"!==p,s,a,s?s[0]:r.__k&&k$1(r,0),u),null!=s)for(g=s.length;g--;)null!=s[g]&&h$1(s[g]);u||("value"in d&&void 0!==(g=d.value)&&(g!==e.value||"progress"===p&&!g||"option"===p&&g!==h.value)&&H(e,"value",g,h.value,!1),"checked"in d&&void 0!==(g=d.checked)&&g!==e.checked&&H(e,"checked",g,h.checked,!1))}return e}function M(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){l$1.__e(e,r)}}function N(e,t,r){var n,i;if(l$1.unmount&&l$1.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||M(n,null,t)),null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(e){l$1.__e(e,t)}n.base=n.__P=null}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&N(n[i],t,"function"!=typeof e.type);r||null==e.__e||h$1(e.__e),e.__e=e.__d=void 0}function O(e,t,r){return this.constructor(e,r)}function S(e,t,r){var i,o,s;l$1.__&&l$1.__(e,t),o=(i="function"==typeof r)?null:r&&r.__k||t.__k,s=[],j$1(t,e=(!i&&r||t).__k=v$1(d$1,null,[e]),o||e$1,e$1,void 0!==t.ownerSVGElement,!i&&r?[r]:o?null:t.firstChild?n.call(t.childNodes):null,s,!i&&r?r:o?o.__e:t.firstChild,i),z$1(s,e)}function q$1(e,t){S(e,t,q$1)}function B(e,t,r){var i,o,s,a=a$1({},e.props);for(s in t)"key"==s?i=t[s]:"ref"==s?o=t[s]:a[s]=t[s];return arguments.length>2&&(a.children=arguments.length>3?n.call(arguments,2):r),y$1(e.type,a,i||e.key,o||e.ref,null)}function D(e,t){var r={__c:t="__cC"+f$1++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var r,n;return this.getChildContext||(r=[],(n={})[t]=this,this.getChildContext=function(){return n},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&r.some(m$1)},this.sub=function(e){r.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){r.splice(r.indexOf(e),1),t&&t.call(e)}}),e.children}};return r.Provider.__=r.Consumer.contextType=r}n=c$1.slice,l$1={__e:function(e,t){for(var r,n,i;t=t.__;)if((r=t.__c)&&!r.__)try{if((n=r.constructor)&&null!=n.getDerivedStateFromError&&(r.setState(n.getDerivedStateFromError(e)),i=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e),i=r.__d),i)return r.__E=r}catch(t){e=t}throw e}},u$1=0,i$2=function(e){return null!=e&&void 0===e.constructor},_$1.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=a$1({},this.state),"function"==typeof e&&(e=e(a$1({},r),this.props)),e&&a$1(r,e),null!=e&&this.__v&&(t&&this.__h.push(t),m$1(this))},_$1.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),m$1(this))},_$1.prototype.render=d$1,t$1=[],o$1="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g$1.__r=0,f$1=0;var preact_module=Object.freeze(Object.defineProperty({__proto__:null,render:S,hydrate:q$1,createElement:v$1,h:v$1,Fragment:d$1,createRef:p$1,get isValidElement(){return i$2},Component:_$1,cloneElement:B,createContext:D,toChildArray:A$1,get options(){return l$1}},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(preact_module),LinkDialog$1={};function toVal(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=toVal(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function clsx_m(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=toVal(e))&&(n&&(n+=" "),n+=t);return n}var clsx_m$1=Object.freeze(Object.defineProperty({__proto__:null,default:clsx_m},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(clsx_m$1),t,u,r,o=0,i$1=[],c=l$1.__b,f=l$1.__r,e=l$1.diffed,a=l$1.__c,v=l$1.unmount;function m(e,t){l$1.__h&&l$1.__h(u,e,o||t),o=0;var r=u.__H||(u.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function l(e){return o=1,p(w,e)}function p(e,r,n){var i=m(t++,2);return i.t=e,i.__c||(i.__=[n?n(r):w(void 0,r),function(e){var t=i.t(i.__[0],e);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=u),i.__}function y(e,r){var n=m(t++,3);!l$1.__s&&k(n.__H,r)&&(n.__=e,n.__H=r,u.__H.__h.push(n))}function h(e,r){var n=m(t++,4);!l$1.__s&&k(n.__H,r)&&(n.__=e,n.__H=r,u.__h.push(n))}function s(e){return o=5,d((function(){return{current:e}}),[])}function _(e,t,r){o=6,h((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==r?r:r.concat(e))}function d(e,r){var n=m(t++,7);return k(n.__H,r)&&(n.__=e(),n.__H=r,n.__h=e),n.__}function A(e,t){return o=8,d((function(){return e}),t)}function F(e){var r=u.context[e.__c],n=m(t++,9);return n.c=e,r?(null==n.__&&(n.__=!0,r.sub(u)),r.props.value):e.__}function T(e,t){l$1.useDebugValue&&l$1.useDebugValue(t?t(e):e)}function q(e){var r=m(t++,10),n=l();return r.__=e,u.componentDidCatch||(u.componentDidCatch=function(e){r.__&&r.__(e),n[1](e)}),[n[0],function(){n[1](void 0)}]}function x$1(){for(var e;e=i$1.shift();)if(e.__P)try{e.__H.__h.forEach(g),e.__H.__h.forEach(j),e.__H.__h=[]}catch(u){e.__H.__h=[],l$1.__e(u,e.__v)}}l$1.__b=function(e){u=null,c&&c(e)},l$1.__r=function(e){f&&f(e),t=0;var r=(u=e.__c).__H;r&&(r.__h.forEach(g),r.__h.forEach(j),r.__h=[])},l$1.diffed=function(t){e&&e(t);var n=t.__c;n&&n.__H&&n.__H.__h.length&&(1!==i$1.push(n)&&r===l$1.requestAnimationFrame||((r=l$1.requestAnimationFrame)||function(e){var t,r=function(){clearTimeout(n),b&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,100);b&&(t=requestAnimationFrame(r))})(x$1)),u=null},l$1.__c=function(e,t){t.some((function(e){try{e.__h.forEach(g),e.__h=e.__h.filter((function(e){return!e.__||j(e)}))}catch(r){t.some((function(e){e.__h&&(e.__h=[])})),t=[],l$1.__e(r,e.__v)}})),a&&a(e,t)},l$1.unmount=function(e){v&&v(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach((function(e){try{g(e)}catch(e){t=e}})),t&&l$1.__e(t,r.__v))};var b="function"==typeof requestAnimationFrame;function g(e){var t=u,r=e.__c;"function"==typeof r&&(e.__c=void 0,r()),u=t}function j(e){var t=u;e.__c=e.__(),u=t}function k(e,t){return!e||e.length!==t.length||t.some((function(t,r){return t!==e[r]}))}function w(e,t){return"function"==typeof t?t(e):t}var hooks_module=Object.freeze(Object.defineProperty({__proto__:null,useState:l,useReducer:p,useEffect:y,useLayoutEffect:h,useRef:s,useImperativeHandle:_,useMemo:d,useCallback:A,useContext:F,useDebugValue:T,useErrorBoundary:q},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(hooks_module),LinkDialogCss={};Object.defineProperty(LinkDialogCss,"__esModule",{value:!0}),LinkDialogCss.default='.-walletlink-css-reset .-walletlink-link-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-walletlink-css-reset .-walletlink-link-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.33);transition:opacity .25s}.-walletlink-css-reset .-walletlink-link-dialog-backdrop-hidden{opacity:0}.-walletlink-css-reset .-walletlink-link-dialog-box{display:flex;position:relative;flex-direction:column;background-color:#f6f6f6;border-radius:16px;box-shadow:0px 16px 24px rgba(0,0,0,.1),0px 0px 8px rgba(0,0,0,.05);transform:scale(1);transition:opacity .25s,transform .25s;overflow:hidden}.-walletlink-css-reset .-walletlink-link-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-walletlink-css-reset .-walletlink-link-dialog-box-content{padding:24px;text-align:center}.-walletlink-css-reset .-walletlink-link-dialog-box-content h3{display:block;margin-bottom:24px;text-align:left;text-transform:uppercase;font-size:22px;font-weight:bold;line-height:1.2;color:#000}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode{position:relative;display:block;margin-bottom:24px;background-color:#f6f6f6;padding:16px;border-radius:16px;box-shadow:4px 4px 8px rgba(0,0,0,.15),-8px -8px 8px #fff;overflow:hidden}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-wrapper{display:block;width:232px;height:232px;padding:4px;border-radius:4px;background:#f4f4f4;margin-bottom:16px}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-wrapper img{display:block;width:224px;height:224px}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode>p{display:block;color:gray;font-weight:bold;font-size:12px;text-align:center}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-connecting{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:rgba(246,246,246,.98)}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-connecting p{margin-top:16px;color:#333;font-size:12px;font-weight:bold}.-walletlink-css-reset .-walletlink-link-dialog-box-content a{text-align:center;cursor:pointer;transition:color .1s;font-size:14px}.-walletlink-css-reset .-walletlink-link-dialog-box-content a,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:link,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:visited{color:#999}.-walletlink-css-reset .-walletlink-link-dialog-box-content a:hover,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:active{color:#666;text-decoration:underline}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:24px;right:24px;width:24px;height:24px;border-radius:12px;background-color:#e7e7e7;cursor:pointer}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x{position:relative;display:block}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::after{content:"";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:2px;background-color:#999;transition:background-color .2s}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::before{transform:rotate(45deg)}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::after{transform:rotate(135deg)}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-a,.-walletlink-css-reset .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-b{background-color:#000}.-walletlink-css-reset .-walletlink-link-dialog-container{display:block}.-walletlink-css-reset .-walletlink-link-dialog-container-hidden{display:none}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box{background-color:#2a2a2a}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content h3{color:#ccc}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode{background-color:#2a2a2a;box-shadow:4px 4px 8px rgba(0,0,0,.5),-8px -8px 8px #343434}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode>p{color:#999}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode-connecting{background:rgba(42,42,42,.98)}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode-connecting p{color:#ddd}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:link,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:visited{color:#888}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:hover,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:active{color:#aaa}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel{background-color:#333}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel-x::after{background-color:#aaa}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x::after{background-color:#eee}';var QRCode$2={};function QR8bitByte(e){this.mode=QRMode.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,r=this.data.length;t<r;t++){var n=[],i=this.data.charCodeAt(t);i>65536?(n[0]=240|(1835008&i)>>>18,n[1]=128|(258048&i)>>>12,n[2]=128|(4032&i)>>>6,n[3]=128|63&i):i>2048?(n[0]=224|(61440&i)>>>12,n[1]=128|(4032&i)>>>6,n[2]=128|63&i):i>128?(n[0]=192|(1984&i)>>>6,n[1]=128|63&i):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function QRCodeModel(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}QR8bitByte.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,r=this.parsedData.length;t<r;t++)e.put(this.parsedData[t],8)}},QRCodeModel.prototype={addData:function(e){var t=new QR8bitByte(e);this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=QRCodeModel.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(this.modules[e+r][t+n]=0<=r&&r<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=n&&n<=4)},getBestMaskPattern:function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=QRUtil.getLostPoint(this);(0==r||e>n)&&(e=n,t=r)}return t},createMovieClip:function(e,t,r){var n=e.createEmptyMovieClip(t,r);this.make();for(var i=0;i<this.modules.length;i++)for(var o=1*i,s=0;s<this.modules[i].length;s++){var a=1*s;this.modules[i][s]&&(n.beginFill(0,100),n.moveTo(a,o),n.lineTo(a+1,o),n.lineTo(a+1,o+1),n.lineTo(a,o+1),n.endFill())}return n},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=QRUtil.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],i=e[r];if(null==this.modules[n][i])for(var o=-2;o<=2;o++)for(var s=-2;s<=2;s++)this.modules[n+o][i+s]=-2==o||2==o||-2==s||2==s||0==o&&0==s}},setupTypeNumber:function(e){for(var t=QRUtil.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&1==(t>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(r=0;r<18;r++){n=!e&&1==(t>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=QRUtil.getBCHTypeInfo(r),i=0;i<15;i++){var o=!e&&1==(n>>i&1);i<6?this.modules[i][8]=o:i<8?this.modules[i+1][8]=o:this.modules[this.moduleCount-15+i][8]=o}for(i=0;i<15;i++){o=!e&&1==(n>>i&1);i<8?this.modules[8][this.moduleCount-i-1]=o:i<9?this.modules[8][15-i-1+1]=o:this.modules[8][15-i-1]=o}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var r=-1,n=this.moduleCount-1,i=7,o=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var a=0;a<2;a++)if(null==this.modules[n][s-a]){var u=!1;o<e.length&&(u=1==(e[o]>>>i&1)),QRUtil.getMask(t,n,s-a)&&(u=!u),this.modules[n][s-a]=u,-1==--i&&(o++,i=7)}if((n+=r)<0||this.moduleCount<=n){n-=r,r=-r;break}}}},QRCodeModel.PAD0=236,QRCodeModel.PAD1=17,QRCodeModel.createData=function(e,t,r){for(var n=QRRSBlock.getRSBlocks(e,t),i=new QRBitBuffer,o=0;o<r.length;o++){var s=r[o];i.put(s.mode,4),i.put(s.getLength(),QRUtil.getLengthInBits(s.mode,e)),s.write(i)}var a=0;for(o=0;o<n.length;o++)a+=n[o].dataCount;if(i.getLengthInBits()>8*a)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+8*a+")");for(i.getLengthInBits()+4<=8*a&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=8*a||(i.put(QRCodeModel.PAD0,8),i.getLengthInBits()>=8*a));)i.put(QRCodeModel.PAD1,8);return QRCodeModel.createBytes(i,n)},QRCodeModel.createBytes=function(e,t){for(var r=0,n=0,i=0,o=new Array(t.length),s=new Array(t.length),a=0;a<t.length;a++){var u=t[a].dataCount,l=t[a].totalCount-u;n=Math.max(n,u),i=Math.max(i,l),o[a]=new Array(u);for(var c=0;c<o[a].length;c++)o[a][c]=255&e.buffer[c+r];r+=u;var f=QRUtil.getErrorCorrectPolynomial(l),h=new QRPolynomial(o[a],f.getLength()-1).mod(f);s[a]=new Array(f.getLength()-1);for(c=0;c<s[a].length;c++){var d=c+h.getLength()-s[a].length;s[a][c]=d>=0?h.get(d):0}}var p=0;for(c=0;c<t.length;c++)p+=t[c].totalCount;var g=new Array(p),m=0;for(c=0;c<n;c++)for(a=0;a<t.length;a++)c<o[a].length&&(g[m++]=o[a][c]);for(c=0;c<i;c++)for(a=0;a<t.length;a++)c<s[a].length&&(g[m++]=s[a][c]);return g};for(var QRMode={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},QRErrorCorrectLevel={L:1,M:0,Q:3,H:2},QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;QRUtil.getBCHDigit(t)-QRUtil.getBCHDigit(QRUtil.G15)>=0;)t^=QRUtil.G15<<QRUtil.getBCHDigit(t)-QRUtil.getBCHDigit(QRUtil.G15);return(e<<10|t)^QRUtil.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;QRUtil.getBCHDigit(t)-QRUtil.getBCHDigit(QRUtil.G18)>=0;)t^=QRUtil.G18<<QRUtil.getBCHDigit(t)-QRUtil.getBCHDigit(QRUtil.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return QRUtil.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case QRMaskPattern.PATTERN000:return(t+r)%2==0;case QRMaskPattern.PATTERN001:return t%2==0;case QRMaskPattern.PATTERN010:return r%3==0;case QRMaskPattern.PATTERN011:return(t+r)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case QRMaskPattern.PATTERN101:return t*r%2+t*r%3==0;case QRMaskPattern.PATTERN110:return(t*r%2+t*r%3)%2==0;case QRMaskPattern.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new QRPolynomial([1],0),r=0;r<e;r++)t=t.multiply(new QRPolynomial([1,QRMath.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:case QRMode.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var i=0;i<t;i++){for(var o=0,s=e.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||t<=n+a))for(var u=-1;u<=1;u++)i+u<0||t<=i+u||0==a&&0==u||s==e.isDark(n+a,i+u)&&o++;o>5&&(r+=3+o-5)}for(n=0;n<t-1;n++)for(i=0;i<t-1;i++){var l=0;e.isDark(n,i)&&l++,e.isDark(n+1,i)&&l++,e.isDark(n,i+1)&&l++,e.isDark(n+1,i+1)&&l++,0!=l&&4!=l||(r+=3)}for(n=0;n<t;n++)for(i=0;i<t-6;i++)e.isDark(n,i)&&!e.isDark(n,i+1)&&e.isDark(n,i+2)&&e.isDark(n,i+3)&&e.isDark(n,i+4)&&!e.isDark(n,i+5)&&e.isDark(n,i+6)&&(r+=40);for(i=0;i<t;i++)for(n=0;n<t-6;n++)e.isDark(n,i)&&!e.isDark(n+1,i)&&e.isDark(n+2,i)&&e.isDark(n+3,i)&&e.isDark(n+4,i)&&!e.isDark(n+5,i)&&e.isDark(n+6,i)&&(r+=40);var c=0;for(i=0;i<t;i++)for(n=0;n<t;n++)e.isDark(n,i)&&c++;return r+=10*(Math.abs(100*c/t/t-50)/5)}},QRMath={glog:function(e){if(e<1)throw new Error("glog("+e+")");return QRMath.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return QRMath.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},i=0;i<8;i++)QRMath.EXP_TABLE[i]=1<<i;for(var i=8;i<256;i++)QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];for(var i=0;i<255;i++)QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;function QRPolynomial(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&0==e[r];)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}function QRRSBlock(e,t){this.totalCount=e,this.dataCount=t}function QRBitBuffer(){this.buffer=[],this.length=0}QRPolynomial.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=QRMath.gexp(QRMath.glog(this.get(r))+QRMath.glog(e.get(n)));return new QRPolynomial(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=QRMath.glog(this.get(0))-QRMath.glog(e.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(n=0;n<e.getLength();n++)r[n]^=QRMath.gexp(QRMath.glog(e.get(n))+t);return new QRPolynomial(r,0).mod(e)}},QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],QRRSBlock.getRSBlocks=function(e,t){var r=QRRSBlock.getRsBlockTable(e,t);if(null==r)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,i=[],o=0;o<n;o++)for(var s=r[3*o+0],a=r[3*o+1],u=r[3*o+2],l=0;l<s;l++)i.push(new QRRSBlock(a,u));return i},QRRSBlock.getRsBlockTable=function(e,t){switch(t){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[4*(e-1)+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[4*(e-1)+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[4*(e-1)+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},QRBitBuffer.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var QRCodeLimitLength=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function QRCode$1(e){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},"string"==typeof e&&(e={content:e}),e)for(var t in e)this.options[t]=e[t];if("string"!=typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0&&this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");var r=this.options.content,n=function(e,t){for(var r=function(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=e?3:0)}(e),n=1,i=0,o=0,s=QRCodeLimitLength.length;o<=s;o++){var a=QRCodeLimitLength[o];if(!a)throw new Error("Content too long: expected "+i+" but got "+r);switch(t){case"L":i=a[0];break;case"M":i=a[1];break;case"Q":i=a[2];break;case"H":i=a[3];break;default:throw new Error("Unknwon error correction level: "+t)}if(r<=i)break;n++}if(n>QRCodeLimitLength.length)throw new Error("Content too long");return n}(r,this.options.ecl),i=function(e){switch(e){case"L":return QRErrorCorrectLevel.L;case"M":return QRErrorCorrectLevel.M;case"Q":return QRErrorCorrectLevel.Q;case"H":return QRErrorCorrectLevel.H;default:throw new Error("Unknwon error correction level: "+e)}}(this.options.ecl);this.qrcode=new QRCodeModel(n,i),this.qrcode.addData(r),this.qrcode.make()}QRCode$1.prototype.svg=function(e){var t=this.options||{},r=this.qrcode.modules;void 0===e&&(e={container:t.container||"svg"});for(var n=void 0===t.pretty||!!t.pretty,i=n?"  ":"",o=n?"\r\n":"",s=t.width,a=t.height,u=r.length,l=s/(u+2*t.padding),c=a/(u+2*t.padding),f=void 0!==t.join&&!!t.join,h=void 0!==t.swap&&!!t.swap,d=void 0===t.xmlDeclaration||!!t.xmlDeclaration,p=void 0!==t.predefined&&!!t.predefined,g=p?i+'<defs><path id="qrmodule" d="M0 0 h'+c+" v"+l+' H0 z" style="fill:'+t.color+';shape-rendering:crispEdges;" /></defs>'+o:"",m=i+'<rect x="0" y="0" width="'+s+'" height="'+a+'" style="fill:'+t.background+';shape-rendering:crispEdges;"/>'+o,y="",b="",v=0;v<u;v++)for(var _=0;_<u;_++){if(r[_][v]){var $=_*l+t.padding*l,w=v*c+t.padding*c;if(h){var E=$;$=w,w=E}if(f){var S=l+$,A=c+w;$=Number.isInteger($)?Number($):$.toFixed(2),w=Number.isInteger(w)?Number(w):w.toFixed(2),S=Number.isInteger(S)?Number(S):S.toFixed(2),b+="M"+$+","+w+" V"+(A=Number.isInteger(A)?Number(A):A.toFixed(2))+" H"+S+" V"+w+" H"+$+" Z "}else y+=p?i+'<use x="'+$.toString()+'" y="'+w.toString()+'" href="#qrmodule" />'+o:i+'<rect x="'+$.toString()+'" y="'+w.toString()+'" width="'+l+'" height="'+c+'" style="fill:'+t.color+';shape-rendering:crispEdges;"/>'+o}}f&&(y=i+'<path x="0" y="0" style="fill:'+t.color+';shape-rendering:crispEdges;" d="'+b+'" />');let R="";if(void 0!==this.options.image&&this.options.image.svg){const e=s*this.options.image.width/100,t=a*this.options.image.height/100;R+=`<svg x="${s/2-e/2}" y="${a/2-t/2}" width="${e}" height="${t}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,R+=this.options.image.svg+o,R+="</svg>"}var N="";switch(e.container){case"svg":d&&(N+='<?xml version="1.0" standalone="yes"?>'+o),N+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+s+'" height="'+a+'">'+o,N+=g+m+y,N+=R,N+="</svg>";break;case"svg-viewbox":d&&(N+='<?xml version="1.0" standalone="yes"?>'+o),N+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+s+" "+a+'">'+o,N+=g+m+y,N+=R,N+="</svg>";break;case"g":N+='<g width="'+s+'" height="'+a+'">'+o,N+=g+m+y,N+=R,N+="</g>";break;default:N+=(g+m+y+R).replace(/^\s+/,"")}return N};var qrcodeSvg=QRCode$1,__importDefault$6=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(QRCode$2,"__esModule",{value:!0}),QRCode$2.QRCode=void 0;const preact_1$5=require$$1,hooks_1$3=require$$2,qrcode_svg_1=__importDefault$6(qrcodeSvg),QRCode=e=>{const[t,r]=(0,hooks_1$3.useState)("");return(0,hooks_1$3.useEffect)((()=>{var t,n;const i=new qrcode_svg_1.default({content:e.content,background:e.bgColor||"#ffffff",color:e.fgColor||"#000000",container:"svg",ecl:"M",width:null!==(t=e.width)&&void 0!==t?t:256,height:null!==(n=e.height)&&void 0!==n?n:256,padding:0,image:e.image}),o=buffer$2.Buffer.from(i.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)})),t?(0,preact_1$5.h)("img",{src:t,alt:"QR Code"}):null};QRCode$2.QRCode=QRCode;var Spinner$1={},SpinnerCss={};Object.defineProperty(SpinnerCss,"__esModule",{value:!0}),SpinnerCss.default=".-walletlink-css-reset .-walletlink-spinner{display:inline-block}.-walletlink-css-reset .-walletlink-spinner svg{display:inline-block;animation:2s linear infinite -walletlink-spinner-svg}.-walletlink-css-reset .-walletlink-spinner svg circle{animation:1.9s ease-in-out infinite both -walletlink-spinner-circle;display:block;fill:transparent;stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -walletlink-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -walletlink-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var __importDefault$5=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Spinner$1,"__esModule",{value:!0}),Spinner$1.Spinner=void 0;const preact_1$4=require$$1,Spinner_css_1=__importDefault$5(SpinnerCss),Spinner=e=>{var t;const r=null!==(t=e.size)&&void 0!==t?t:64,n=e.color||"#000";return(0,preact_1$4.h)("div",{class:"-walletlink-spinner"},(0,preact_1$4.h)("style",null,Spinner_css_1.default),(0,preact_1$4.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,preact_1$4.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};Spinner$1.Spinner=Spinner;var version$4={};Object.defineProperty(version$4,"__esModule",{value:!0}),version$4.LIB_VERSION=void 0,version$4.LIB_VERSION="2.5.0";var __importDefault$4=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(LinkDialog$1,"__esModule",{value:!0}),LinkDialog$1.LinkDialog=void 0;const clsx_1$2=__importDefault$4(require$$0),preact_1$3=require$$1,hooks_1$2=require$$2,LinkDialog_css_1=__importDefault$4(LinkDialogCss),QRCode_1$1=QRCode$2,Spinner_1$1=Spinner$1,version_1$1=version$4,LinkDialog=e=>{const[t,r]=(0,hooks_1$2.useState)(!e.isOpen),[n,i]=(0,hooks_1$2.useState)(!e.isOpen);return(0,hooks_1$2.useEffect)((()=>{const{isOpen:t}=e,n=[window.setTimeout((()=>{i(!t)}),10)];return t?r(!1):n.push(window.setTimeout((()=>{r(!0)}),360)),()=>{n.forEach(window.clearTimeout)}}),[e.isOpen]),(0,preact_1$3.h)("div",{class:(0,clsx_1$2.default)("-walletlink-link-dialog-container",e.darkMode&&"-walletlink-link-dialog-container-dark",t&&"-walletlink-link-dialog-container-hidden")},(0,preact_1$3.h)("style",null,LinkDialog_css_1.default),(0,preact_1$3.h)("div",{class:(0,clsx_1$2.default)("-walletlink-link-dialog-backdrop",n&&"-walletlink-link-dialog-backdrop-hidden")}),(0,preact_1$3.h)("div",{class:"-walletlink-link-dialog"},(0,preact_1$3.h)("div",{class:(0,clsx_1$2.default)("-walletlink-link-dialog-box",n&&"-walletlink-link-dialog-box-hidden")},(0,preact_1$3.h)(ScanQRCode,{darkMode:e.darkMode,version:e.version,sessionId:e.sessionId,sessionSecret:e.sessionSecret,walletLinkUrl:e.walletLinkUrl,isConnected:e.isConnected,isParentConnection:e.isParentConnection}),e.onCancel&&(0,preact_1$3.h)(CancelButton$1,{onClick:e.onCancel}))))};LinkDialog$1.LinkDialog=LinkDialog;const ScanQRCode=e=>{const t=window.encodeURIComponent(e.walletLinkUrl),r=e.isParentConnection?"parent-id":"id",n=`${e.walletLinkUrl}/#/link?${r}=${e.sessionId}&secret=${e.sessionSecret}&server=${t}&v=1`;return(0,preact_1$3.h)("div",{class:"-walletlink-link-dialog-box-content"},(0,preact_1$3.h)("h3",null,"Scan to",(0,preact_1$3.h)("br",null)," Connect"),(0,preact_1$3.h)("div",{class:"-walletlink-link-dialog-box-content-qrcode"},(0,preact_1$3.h)("div",{class:"-walletlink-link-dialog-box-content-qrcode-wrapper"},(0,preact_1$3.h)(QRCode_1$1.QRCode,{content:n,width:224,height:224,fgColor:"#000",bgColor:"transparent"})),(0,preact_1$3.h)("input",{type:"hidden",name:"walletlink-version",value:version_1$1.LIB_VERSION}),(0,preact_1$3.h)("input",{type:"hidden",value:n}),!e.isConnected&&(0,preact_1$3.h)("div",{class:"-walletlink-link-dialog-box-content-qrcode-connecting"},(0,preact_1$3.h)(Spinner_1$1.Spinner,{size:128,color:e.darkMode?"#fff":"#000"}),(0,preact_1$3.h)("p",null,"Connecting...")),(0,preact_1$3.h)("p",{title:`WalletLink v${e.version}`},"Powered by WalletLink")),(0,preact_1$3.h)("a",{href:`${e.walletLinkUrl}/#/wallets`,target:"_blank",rel:"noopener"},"Don’t have a wallet app?"))},CancelButton$1=e=>(0,preact_1$3.h)("button",{class:"-walletlink-link-dialog-box-cancel",onClick:e.onClick},(0,preact_1$3.h)("div",{class:"-walletlink-link-dialog-box-cancel-x"}));var TryExtensionLinkDialog$1={},globeIconSvg={};Object.defineProperty(globeIconSvg,"__esModule",{value:!0}),globeIconSvg.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTggMEMzLjU4IDAgMCAzLjU4IDAgOHMzLjU4IDggOCA4IDgtMy41OCA4LTgtMy41OC04LTgtOFptNS45MSA3aC0xLjk0Yy0uMS0xLjU3LS40Mi0zLS45MS00LjE1IDEuNDguODggMi41NSAyLjM4IDIuODUgNC4xNVpNOCAxNGMtLjQ1IDAtMS43Mi0xLjc3LTEuOTUtNWgzLjljLS4yMyAzLjIzLTEuNSA1LTEuOTUgNVpNNi4wNSA3QzYuMjggMy43NyA3LjU1IDIgOCAyYy40NSAwIDEuNzIgMS43NyAxLjk1IDVoLTMuOVpNNC45NCAyLjg1QzQuNDYgNCA0LjEzIDUuNDMgNC4wMyA3SDIuMDljLjMtMS43NyAxLjM3LTMuMjcgMi44NS00LjE1Wk0yLjA5IDloMS45NGMuMSAxLjU3LjQyIDMgLjkxIDQuMTVBNS45OTggNS45OTggMCAwIDEgMi4wOSA5Wm04Ljk3IDQuMTVjLjQ4LTEuMTUuODEtMi41OC45MS00LjE1aDEuOTRhNS45OTggNS45OTggMCAwIDEtMi44NSA0LjE1WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==";var linkIconSvg={};Object.defineProperty(linkIconSvg,"__esModule",{value:!0}),linkIconSvg.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE1LjYzNSAyLjExN2EzLjg4OSAzLjg4OSAwIDAgMC01LjUyMSAwTDYuODkgNS4zMzVBMy44OTQgMy44OTQgMCAwIDAgNS44IDguNzM5Yy4wODMuNTA2LjI2OCAxLjAxMS41NTMgMS40NjYuMTUxLjI1My4zMzYuNDcyLjUzNy42OTFsLjYyMS42MjQgMS4xNDEtMS4xNDYtLjYyLS42MjRhMi4xMDUgMi4xMDUgMCAwIDEtLjQ4Ny0uNzQxIDIuMzQgMi4zNCAwIDAgMSAuNTAzLTIuNTFsMy4yMDYtMy4yMmEyLjI5MyAyLjI5MyAwIDAgMSAzLjIzOSAwYy44OS44OTQuODkgMi4zNDMgMCAzLjI1M2wtMS41MjcgMS41MzNjLjIzNC42NC4zMzUgMS4zMzEuMzAyIDIuMDA1bDIuMzgzLTIuMzkyYzEuNTEtMS41MzQgMS40OTMtNC4wMjgtLjAxNy01LjU2MVoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBkPSJNMTEuMjcxIDcuNzQ1YTMuMTMgMy4xMyAwIDAgMC0uNTU0LS42OWwtLjYyLS42MjQtMS4xNDIgMS4xNDYuNjIxLjYyM2MuMjE4LjIyLjM4Ni40ODkuNDg3Ljc1OC4zMzUuODI2LjE2NyAxLjgyLS41MDQgMi40OTRsLTMuMjA1IDMuMjE5YTIuMjkzIDIuMjkzIDAgMCAxLTMuMjQgMCAyLjMxNiAyLjMxNiAwIDAgMSAwLTMuMjUybDEuNTI4LTEuNTM0YTQuODE1IDQuODE1IDAgMCAxLS4yODUtMi4wMDVsLTIuMzgzIDIuMzkzYTMuOTI3IDMuOTI3IDAgMCAwIDAgNS41NDQgMy45MDkgMy45MDkgMCAwIDAgNS41MzggMGwzLjIwNS0zLjIxOWEzLjk1OCAzLjk1OCAwIDAgMCAxLjA5MS0zLjQwNCA0LjIxMSA0LjIxMSAwIDAgMC0uNTM3LTEuNDQ5WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==";var lockIconSvg={};Object.defineProperty(lockIconSvg,"__esModule",{value:!0}),lockIconSvg.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEgN3Y5aDE0VjdIMVptNy41IDQuMzlWMTRoLTF2LTIuNjFjLS40NC0uMTktLjc1LS42My0uNzUtMS4xNGExLjI1IDEuMjUgMCAwIDEgMi41IDBjMCAuNTEtLjMxLjk1LS43NSAxLjE0Wk01LjY3IDZWNC4zM0M1LjY3IDMuMDUgNi43MSAyIDggMnMyLjMzIDEuMDUgMi4zMyAyLjMzVjZoMlY0LjMzQzEyLjMzIDEuOTQgMTAuMzkgMCA4IDBTMy42NyAxLjk0IDMuNjcgNC4zM1Y2aDJaIiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+";var QRLogo={};Object.defineProperty(QRLogo,"__esModule",{value:!0}),QRLogo.default='<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">\n<circle cx="50" cy="50" r="50" fill="white"/>\n<circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>\n<circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>\n</svg>\n\n';var TryExtensionLinkDialogCss={};Object.defineProperty(TryExtensionLinkDialogCss,"__esModule",{value:!0}),TryExtensionLinkDialogCss.default='.-walletlink-css-reset .-walletlink-extension-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-walletlink-css-reset .-walletlink-extension-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);transition:opacity .25s}.-walletlink-css-reset .-walletlink-extension-dialog-backdrop-hidden{opacity:0}.-walletlink-css-reset .-walletlink-extension-dialog-box{display:flex;position:relative;max-width:500px;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-walletlink-css-reset .-walletlink-extension-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-walletlink-css-reset .-walletlink-extension-dialog-box-top{display:flex;flex-direction:row;background-color:#fff;border-radius:8px;overflow:hidden;min-height:300px}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-install-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;padding:32px}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-install-region button{display:block;border-radius:8px;background-color:#1652f0;color:#fff;width:90%;min-width:fit-content;height:44px;margin-top:16px;font-size:16px;padding-left:16px;padding-right:16px;cursor:pointer;font-weight:500;text-align:center}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-info-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;background-color:#fafbfc}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description{display:flex;flex-direction:row;align-items:center;padding-top:14px;padding-bottom:14px;padding-left:24px;padding-right:32px}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description-icon-wrapper{display:block;position:relative;width:40px;height:40px;flex-shrink:0;flex-grow:0;border-radius:20px;background-color:#fff;box-shadow:0px 0px 8px rgba(0,0,0,.04),0px 16px 24px rgba(0,0,0,.06)}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description-icon-wrapper img{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description-text{margin-left:16px;flex-grow:1;font-size:13px;line-height:19px;color:#000;align-self:center}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom{display:flex;flex-direction:row;overflow:hidden;border-radius:8px;background-color:#fff;margin-top:8px}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-description-region{display:flex;flex-direction:column;justify-content:center;padding:32px;flex-grow:1}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-description{font-size:13px;line-height:19px;margin-top:12px;color:#aaa}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-description a{font-size:inherit;line-height:inherit;color:#1652f0;cursor:pointer}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-region{position:relative;flex-shrink:0;display:flex;flex-direction:column;justify-content:center;padding-left:24px;padding-right:24px;padding-top:16px;padding-bottom:16px}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-wrapper{position:relative;display:block;padding:8px;border-radius:8px;box-shadow:0px 4px 12px rgba(0,0,0,.1)}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-wrapper img{display:block}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:rgba(255,255,255,.95)}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-connecting>p{font-size:12px;font-weight:bold;color:#000;margin-top:16px}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:16px;right:16px;width:24px;height:24px;border-radius:12px;background-color:#fafbfc;cursor:pointer}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x{position:relative;display:block;cursor:pointer}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::after{content:"";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:1px;background-color:#000;transition:background-color .2s}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::before{transform:rotate(45deg)}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::after{transform:rotate(135deg)}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-a,.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-b{background-color:#000}.-walletlink-css-reset .-walletlink-extension-dialog-container{display:block}.-walletlink-css-reset .-walletlink-extension-dialog-container-hidden{display:none}.-walletlink-css-reset .-walletlink-extension-dialog h2{display:block;text-align:left;font-size:22px;font-weight:600;line-height:28px;color:#000}';var __importDefault$3=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(TryExtensionLinkDialog$1,"__esModule",{value:!0}),TryExtensionLinkDialog$1.TryExtensionLinkDialog=void 0;const clsx_1$1=__importDefault$3(require$$0),preact_1$2=require$$1,hooks_1$1=require$$2,globe_icon_svg_1=__importDefault$3(globeIconSvg),link_icon_svg_1=__importDefault$3(linkIconSvg),lock_icon_svg_1=__importDefault$3(lockIconSvg),QRLogo_1=__importDefault$3(QRLogo),QRCode_1=QRCode$2,Spinner_1=Spinner$1,TryExtensionLinkDialog_css_1=__importDefault$3(TryExtensionLinkDialogCss),version_1=version$4,TryExtensionLinkDialog=e=>{const[t,r]=(0,hooks_1$1.useState)(!e.isOpen),[n,i]=(0,hooks_1$1.useState)(!e.isOpen);return(0,hooks_1$1.useEffect)((()=>{const{isOpen:t}=e,n=[window.setTimeout((()=>{i(!t)}),10)];return t?r(!1):n.push(window.setTimeout((()=>{r(!0)}),360)),()=>{n.forEach(window.clearTimeout)}}),[e.isOpen]),(0,preact_1$2.h)("div",{class:(0,clsx_1$1.default)("-walletlink-extension-dialog-container",t&&"-walletlink-extension-dialog-container-hidden")},(0,preact_1$2.h)("style",null,TryExtensionLinkDialog_css_1.default),(0,preact_1$2.h)("div",{class:(0,clsx_1$1.default)("-walletlink-extension-dialog-backdrop",n&&"-walletlink-extension-dialog-backdrop-hidden")}),(0,preact_1$2.h)("div",{class:"-walletlink-extension-dialog"},(0,preact_1$2.h)("div",{class:(0,clsx_1$1.default)("-walletlink-extension-dialog-box",n&&"-walletlink-extension-dialog-box-hidden")},(0,preact_1$2.h)(TryExtensionBox,{onInstallClick:()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")}}),e.connectDisabled?null:(0,preact_1$2.h)(ScanQRBox,{darkMode:e.darkMode,version:e.version,sessionId:e.sessionId,sessionSecret:e.sessionSecret,walletLinkUrl:e.walletLinkUrl,isConnected:e.isConnected,isParentConnection:e.isParentConnection}),e.onCancel&&(0,preact_1$2.h)(CancelButton,{onClick:e.onCancel}))))};TryExtensionLinkDialog$1.TryExtensionLinkDialog=TryExtensionLinkDialog;const TryExtensionBox=e=>(0,preact_1$2.h)("div",{class:"-walletlink-extension-dialog-box-top"},(0,preact_1$2.h)("div",{class:"-walletlink-extension-dialog-box-top-install-region"},(0,preact_1$2.h)("h2",null,"Try the Coinbase Wallet extension"),(0,preact_1$2.h)("button",{onClick:e.onInstallClick},"Install")),(0,preact_1$2.h)("div",{class:"-walletlink-extension-dialog-box-top-info-region"},(0,preact_1$2.h)(DescriptionItem,{icon:link_icon_svg_1.default,text:"Connect to crypto apps with one click"}),(0,preact_1$2.h)(DescriptionItem,{icon:lock_icon_svg_1.default,text:"Your private key is stored securely"}),(0,preact_1$2.h)(DescriptionItem,{icon:globe_icon_svg_1.default,text:"Works with Ethereum, Polygon, and more"}))),ScanQRBox=e=>{const t=window.encodeURIComponent(e.walletLinkUrl),r=e.isParentConnection?"parent-id":"id",n=`${e.walletLinkUrl}/#/link?${r}=${e.sessionId}&secret=${e.sessionSecret}&server=${t}&v=1`;return(0,preact_1$2.h)("div",{class:"-walletlink-extension-dialog-box-bottom"},(0,preact_1$2.h)("div",{class:"-walletlink-extension-dialog-box-bottom-description-region"},(0,preact_1$2.h)("h2",null,"Or scan to connect"),(0,preact_1$2.h)("body",{class:"-walletlink-extension-dialog-box-bottom-description"},"Open ",(0,preact_1$2.h)("a",{href:"https://wallet.coinbase.com/"},"Coinbase Wallet")," on your mobile phone and scan")),(0,preact_1$2.h)("div",{class:"-walletlink-extension-dialog-box-bottom-qr-region"},(0,preact_1$2.h)("div",{class:"-walletlink-extension-dialog-box-bottom-qr-wrapper"},(0,preact_1$2.h)(QRCode_1.QRCode,{content:n,width:150,height:150,fgColor:"#000",bgColor:"transparent",image:{svg:QRLogo_1.default,width:34,height:34}})),(0,preact_1$2.h)("input",{type:"hidden",name:"walletlink-version",value:version_1.LIB_VERSION}),(0,preact_1$2.h)("input",{type:"hidden",value:n}),!e.isConnected&&(0,preact_1$2.h)("div",{class:"-walletlink-extension-dialog-box-bottom-qr-connecting"},(0,preact_1$2.h)(Spinner_1.Spinner,{size:36,color:"#000"}),(0,preact_1$2.h)("p",null,"Connecting..."))))},DescriptionItem=e=>(0,preact_1$2.h)("div",{class:"-walletlink-extension-dialog-box-top-description"},(0,preact_1$2.h)("div",{class:"-walletlink-extension-dialog-box-top-description-icon-wrapper"},(0,preact_1$2.h)("img",{src:e.icon})),(0,preact_1$2.h)("body",{class:"-walletlink-extension-dialog-box-top-description-text"},e.text)),CancelButton=e=>(0,preact_1$2.h)("button",{class:"-walletlink-extension-dialog-box-cancel",onClick:e.onClick},(0,preact_1$2.h)("div",{class:"-walletlink-extension-dialog-box-cancel-x"}));Object.defineProperty(LinkFlow$1,"__esModule",{value:!0}),LinkFlow$1.LinkFlow=void 0;const preact_1$1=require$$1,rxjs_1$3=require$$2$1,operators_1$2=require$$3,LinkDialog_1=LinkDialog$1,TryExtensionLinkDialog_1=TryExtensionLinkDialog$1;class LinkFlow{constructor(e){this.extensionUI$=new rxjs_1$3.BehaviorSubject({}),this.subscriptions=new rxjs_1$3.Subscription,this.isConnected=!1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.walletLinkUrl=e.walletLinkUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,fetch("https://api.wallet.coinbase.com/rpc/v2/getFeatureFlags").then((e=>e.json())).then((e=>{const t=e.result.desktop.extension_ui;void 0===t?this.extensionUI$.next({value:!1}):this.extensionUI$.next({value:t})})).catch((e=>{console.error("Couldn't fetch feature flags - ",e),this.extensionUI$.next({value:!1})}))}attach(e){this.root=document.createElement("div"),this.root.className="-walletlink-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe((e=>{this.isConnected!==e&&(this.isConnected=e,this.render())})))}detach(){var e;this.root&&(this.subscriptions.unsubscribe(),(0,preact_1$1.render)(null,this.root),null===(e=this.root.parentElement)||void 0===e||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.pipe((0,operators_1$2.first)((e=>void 0!==e.value))).subscribe((e=>{this.root&&(0,preact_1$1.render)(e.value?(0,preact_1$1.h)(TryExtensionLinkDialog_1.TryExtensionLinkDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,walletLinkUrl:this.walletLinkUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,onCancel:this.onCancel,connectDisabled:this.connectDisabled}):(0,preact_1$1.h)(LinkDialog_1.LinkDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,walletLinkUrl:this.walletLinkUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,onCancel:this.onCancel}),this.root)}));this.subscriptions.add(e)}}LinkFlow$1.LinkFlow=LinkFlow;var Snackbar$1={},SnackbarCss={};Object.defineProperty(SnackbarCss,"__esModule",{value:!0}),SnackbarCss.default=".-walletlink-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-walletlink-css-reset .-gear-container *{user-select:none}.-walletlink-css-reset .-gear-container svg{opacity:0;position:absolute}.-walletlink-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-walletlink-css-reset .-walletlink-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-walletlink-css-reset .-walletlink-snackbar *{user-select:none}.-walletlink-css-reset .-walletlink-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-walletlink-css-reset .-walletlink-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-walletlink-css-reset .-walletlink-snackbar-instance-header *{cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-walletlink-css-reset .-walletlink-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-walletlink-css-reset .-walletlink-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-walletlink-css-reset .-walletlink-snackbar-instance-expanded .-walletlink-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";var __importDefault$2=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Snackbar$1,"__esModule",{value:!0}),Snackbar$1.Snackbar=void 0;const clsx_1=__importDefault$2(require$$0),preact_1=require$$1,hooks_1=require$$2,Snackbar_css_1=__importDefault$2(SnackbarCss),cblogo="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",gearIcon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class Snackbar{constructor(e){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=e.darkMode}attach(e){this.root=document.createElement("div"),this.root.className="-walletlink-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const t=this.nextItemKey++;return this.items.set(t,e),this.render(),()=>{this.items.delete(t),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,preact_1.render)((0,preact_1.h)("div",null,(0,preact_1.h)(SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map((([e,t])=>(0,preact_1.h)(SnackbarInstance,Object.assign({},t,{key:e})))))),this.root)}}Snackbar$1.Snackbar=Snackbar;const SnackbarContainer=e=>(0,preact_1.h)("div",{class:(0,clsx_1.default)("-walletlink-snackbar-container")},(0,preact_1.h)("style",null,Snackbar_css_1.default),(0,preact_1.h)("div",{class:"-walletlink-snackbar"},e.children)),SnackbarInstance=({autoExpand:e,message:t,menuItems:r})=>{const[n,i]=(0,hooks_1.useState)(!0),[o,s]=(0,hooks_1.useState)(null!=e&&e);(0,hooks_1.useEffect)((()=>{const e=[window.setTimeout((()=>{i(!1)}),1),window.setTimeout((()=>{s(!0)}),1e4)];return()=>{e.forEach(window.clearTimeout)}}));return(0,preact_1.h)("div",{class:(0,clsx_1.default)("-walletlink-snackbar-instance",n&&"-walletlink-snackbar-instance-hidden",o&&"-walletlink-snackbar-instance-expanded")},(0,preact_1.h)("div",{class:"-walletlink-snackbar-instance-header",onClick:()=>{s(!o)}},(0,preact_1.h)("img",{src:cblogo,class:"-walletlink-snackbar-instance-header-cblogo"}),(0,preact_1.h)("div",{class:"-walletlink-snackbar-instance-header-message"},t),(0,preact_1.h)("div",{class:"-gear-container"},!o&&(0,preact_1.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,preact_1.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,preact_1.h)("img",{src:gearIcon,class:"-gear-icon",title:"Expand"}))),r&&r.length>0&&(0,preact_1.h)("div",{class:"-walletlink-snackbar-instance-menu"},r.map(((e,t)=>(0,preact_1.h)("div",{class:(0,clsx_1.default)("-walletlink-snackbar-instance-menu-item",e.isRed&&"-walletlink-snackbar-instance-menu-item-is-red"),onClick:e.onClick,key:t},(0,preact_1.h)("svg",{width:e.svgWidth,height:e.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,preact_1.h)("path",{"fill-rule":e.defaultFillRule,"clip-rule":e.defaultClipRule,d:e.path,fill:"#AAAAAA"})),(0,preact_1.h)("span",{class:(0,clsx_1.default)("-walletlink-snackbar-instance-menu-item-info",e.isRed&&"-walletlink-snackbar-instance-menu-item-info-is-red")},e.info))))))};var cssReset={},cssResetCss={};Object.defineProperty(cssResetCss,"__esModule",{value:!0}),cssResetCss.default='@namespace svg "http://www.w3.org/2000/svg";.-walletlink-css-reset,.-walletlink-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:transparent;background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;bottom:auto;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:block;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";right:auto;tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;width:auto;word-spacing:normal;z-index:auto}.-walletlink-css-reset *{box-sizing:border-box;display:initial;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-walletlink-css-reset [class*=container]{margin:0;padding:0}.-walletlink-css-reset style{display:none}';var __importDefault$1=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cssReset,"__esModule",{value:!0}),cssReset.injectCssReset=void 0;const cssReset_css_1=__importDefault$1(cssResetCss);function injectCssReset(){const e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(cssReset_css_1.default)),document.documentElement.appendChild(e)}cssReset.injectCssReset=injectCssReset;var WalletLinkUI$1={};Object.defineProperty(WalletLinkUI$1,"__esModule",{value:!0}),WalletLinkUI$1.WalletLinkUI=void 0;class WalletLinkUI{constructor(e){}setConnectDisabled(e){}}WalletLinkUI$1.WalletLinkUI=WalletLinkUI,Object.defineProperty(WalletLinkSdkUI$1,"__esModule",{value:!0}),WalletLinkSdkUI$1.WalletLinkSdkUI=void 0;const LinkFlow_1=LinkFlow$1,Snackbar_1=Snackbar$1,cssReset_1=cssReset,WalletLinkUI_1=WalletLinkUI$1;class WalletLinkSdkUI extends WalletLinkUI_1.WalletLinkUI{constructor(e){super(e),this.attached=!1,this.snackbar=new Snackbar_1.Snackbar({darkMode:e.darkMode}),this.linkFlow=new LinkFlow_1.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,walletLinkUrl:e.walletLinkUrl,connected$:e.connected$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("WalletLinkUI is already attached");const e=document.documentElement,t=document.createElement("div");t.className="-walletlink-css-reset",e.appendChild(t),this.linkFlow.attach(t),this.snackbar.attach(t),this.attached=!0,(0,cssReset_1.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let t;return t=e.isUnlinkedErrorState?{autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:{message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(t)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}isStandalone(){return!1}}WalletLinkSdkUI$1.WalletLinkSdkUI=WalletLinkSdkUI;var WalletLinkRelay$1={},bindDecorator={},constants;function bind(e,t,r){if(!r||typeof r.value!==constants.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+t+"> is not a method!");return{configurable:constants.boolTrue,get:function(){var e=r.value.bind(this);return Object.defineProperty(this,t,{value:e,configurable:constants.boolTrue,writable:constants.boolTrue}),e}}}Object.defineProperty(bindDecorator,"__esModule",{value:!0}),function(e){e.typeOfFunction="function",e.boolTrue=!0}(constants||(constants={})),bindDecorator.bind=bind,bindDecorator.default=bind;var WalletLinkConnection$1={},ClientMessage={};function ClientMessageHostSession(e){return Object.assign({type:"HostSession"},e)}function ClientMessageIsLinked(e){return Object.assign({type:"IsLinked"},e)}function ClientMessageGetSessionConfig(e){return Object.assign({type:"GetSessionConfig"},e)}function ClientMessageSetSessionConfig(e){return Object.assign({type:"SetSessionConfig"},e)}function ClientMessagePublishEvent(e){return Object.assign({type:"PublishEvent"},e)}Object.defineProperty(ClientMessage,"__esModule",{value:!0}),ClientMessage.ClientMessagePublishEvent=ClientMessage.ClientMessageSetSessionConfig=ClientMessage.ClientMessageGetSessionConfig=ClientMessage.ClientMessageIsLinked=ClientMessage.ClientMessageHostSession=void 0,ClientMessage.ClientMessageHostSession=ClientMessageHostSession,ClientMessage.ClientMessageIsLinked=ClientMessageIsLinked,ClientMessage.ClientMessageGetSessionConfig=ClientMessageGetSessionConfig,ClientMessage.ClientMessageSetSessionConfig=ClientMessageSetSessionConfig,ClientMessage.ClientMessagePublishEvent=ClientMessagePublishEvent;var RxWebSocket={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RxWebSocket=e.ConnectionState=void 0;const t=require$$2$1,r=require$$3;var n;!function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED"}(n=e.ConnectionState||(e.ConnectionState={}));e.RxWebSocket=class{constructor(e,r=WebSocket){this.WebSocketClass=r,this.webSocket=null,this.connectionStateSubject=new t.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new t.Subject,this.url=e.replace(/^http/,"ws")}connect(){return this.webSocket?(0,t.throwError)(new Error("webSocket object is not null")):new t.Observable((e=>{let t;try{this.webSocket=t=new this.WebSocketClass(this.url)}catch(r){return void e.error(r)}this.connectionStateSubject.next(n.CONNECTING),t.onclose=t=>{this.clearWebSocket(),e.error(new Error(`websocket error ${t.code}: ${t.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},t.onopen=t=>{e.next(),e.complete(),this.connectionStateSubject.next(n.CONNECTED)},t.onmessage=e=>{this.incomingDataSubject.next(e.data)}})).pipe((0,r.take)(1))}disconnect(){const{webSocket:e}=this;if(e){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{e.close()}catch(t){}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)((e=>{let r;try{r=JSON.parse(e)}catch(n){return(0,t.empty)()}return(0,t.of)(r)})))}sendData(e){const{webSocket:t}=this;if(!t)throw new Error("websocket is not connected");t.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}}(RxWebSocket);var ServerMessage={};function isServerMessageFail(e){return e&&"Fail"===e.type&&"number"==typeof e.id&&"string"==typeof e.sessionId&&"string"==typeof e.error}Object.defineProperty(ServerMessage,"__esModule",{value:!0}),ServerMessage.isServerMessageFail=void 0,ServerMessage.isServerMessageFail=isServerMessageFail,Object.defineProperty(WalletLinkConnection$1,"__esModule",{value:!0}),WalletLinkConnection$1.WalletLinkConnection=void 0;const rxjs_1$2=require$$2$1,operators_1$1=require$$3,init_1$1=init,Session_1$1=Session$1,types_1=types$1,ClientMessage_1=ClientMessage,RxWebSocket_1=RxWebSocket,ServerMessage_1=ServerMessage,HEARTBEAT_INTERVAL=1e4,REQUEST_TIMEOUT=6e4;class WalletLinkConnection{constructor(e,t,r,n,i=WebSocket){this.sessionId=e,this.sessionKey=t,this.subscriptions=new rxjs_1$2.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,types_1.IntNumber)(1),this.connectedSubject=new rxjs_1$2.BehaviorSubject(!1),this.linkedSubject=new rxjs_1$2.BehaviorSubject(!1),this.sessionConfigSubject=new rxjs_1$2.ReplaySubject(1);const o=new RxWebSocket_1.RxWebSocket(r+"/rpc",i);this.ws=o,this.walletLinkAnalytics=n,this.subscriptions.add(o.connectionState$.pipe((0,operators_1$1.tap)((t=>this.walletLinkAnalytics.sendEvent(init_1$1.EVENTS.CONNECTED_STATE_CHANGE,{state:t,sessionIdHash:Session_1$1.Session.hash(e)}))),(0,operators_1$1.skip)(1),(0,operators_1$1.filter)((e=>e===RxWebSocket_1.ConnectionState.DISCONNECTED&&!this.destroyed)),(0,operators_1$1.delay)(5e3),(0,operators_1$1.filter)((e=>!this.destroyed)),(0,operators_1$1.flatMap)((e=>o.connect())),(0,operators_1$1.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,operators_1$1.skip)(2),(0,operators_1$1.switchMap)((e=>(0,rxjs_1$2.iif)((()=>e===RxWebSocket_1.ConnectionState.CONNECTED),this.authenticate().pipe((0,operators_1$1.tap)((e=>this.sendIsLinked())),(0,operators_1$1.tap)((e=>this.sendGetSessionConfig())),(0,operators_1$1.map)((e=>!0))),(0,rxjs_1$2.of)(!1)))),(0,operators_1$1.distinctUntilChanged)(),(0,operators_1$1.catchError)((e=>(0,rxjs_1$2.of)(!1)))).subscribe((e=>this.connectedSubject.next(e)))),this.subscriptions.add(o.connectionState$.pipe((0,operators_1$1.skip)(1),(0,operators_1$1.switchMap)((e=>(0,rxjs_1$2.iif)((()=>e===RxWebSocket_1.ConnectionState.CONNECTED),(0,rxjs_1$2.timer)(0,HEARTBEAT_INTERVAL))))).subscribe((e=>0===e?this.updateLastHeartbeat():this.heartbeat()))),this.subscriptions.add(o.incomingData$.pipe((0,operators_1$1.filter)((e=>"h"===e))).subscribe((e=>this.updateLastHeartbeat()))),this.subscriptions.add(o.incomingJSONData$.pipe((0,operators_1$1.filter)((e=>["IsLinkedOK","Linked"].includes(e.type)))).subscribe((t=>{const r=t;this.walletLinkAnalytics.sendEvent(init_1$1.EVENTS.LINKED,{sessionIdHash:Session_1$1.Session.hash(e),linked:r.linked,type:t.type,onlineGuests:r.onlineGuests}),this.linkedSubject.next(r.linked||r.onlineGuests>0)}))),this.subscriptions.add(o.incomingJSONData$.pipe((0,operators_1$1.filter)((e=>["GetSessionConfigOK","SessionConfigUpdated"].includes(e.type)))).subscribe((t=>{const r=t;this.walletLinkAnalytics.sendEvent(init_1$1.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Session_1$1.Session.hash(e),metadata_keys:r&&r.metadata?Object.keys(r.metadata):void 0}),this.sessionConfigSubject.next({webhookId:r.webhookId,webhookUrl:r.webhookUrl,metadata:r.metadata})})))}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.walletLinkAnalytics.sendEvent(init_1$1.EVENTS.STARTED_CONNECTING,{sessionIdHash:Session_1$1.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){this.subscriptions.unsubscribe(),this.ws.disconnect(),this.walletLinkAnalytics.sendEvent(init_1$1.EVENTS.DISCONNECTED,{sessionIdHash:Session_1$1.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,operators_1$1.filter)((e=>e)),(0,operators_1$1.take)(1),(0,operators_1$1.map)((()=>{})))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,operators_1$1.filter)((e=>e)),(0,operators_1$1.take)(1),(0,operators_1$1.map)((()=>{})))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,operators_1$1.filter)((e=>{if("Event"!==e.type)return!1;const t=e;return"string"==typeof t.sessionId&&"string"==typeof t.eventId&&"string"==typeof t.event&&"string"==typeof t.data})),(0,operators_1$1.map)((e=>e)))}setSessionMetadata(e,t){const r=(0,ClientMessage_1.ClientMessageSetSessionConfig)({id:(0,types_1.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:t}});return this.onceConnected$.pipe((0,operators_1$1.flatMap)((e=>this.makeRequest(r))),(0,operators_1$1.map)((e=>{if((0,ServerMessage_1.isServerMessageFail)(e))throw new Error(e.error||"failed to set session metadata")})))}publishEvent(e,t,r=!1){const n=(0,ClientMessage_1.ClientMessagePublishEvent)({id:(0,types_1.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:t,callWebhook:r});return this.onceLinked$.pipe((0,operators_1$1.flatMap)((e=>this.makeRequest(n))),(0,operators_1$1.map)((e=>{if((0,ServerMessage_1.isServerMessageFail)(e))throw new Error(e.error||"failed to publish event");return e.eventId})))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>2*HEARTBEAT_INTERVAL)this.ws.disconnect();else try{this.ws.sendData("h")}catch(e){}}makeRequest(e,t=REQUEST_TIMEOUT){const r=e.id;try{this.sendData(e)}catch(n){return(0,rxjs_1$2.throwError)(n)}return this.ws.incomingJSONData$.pipe((0,operators_1$1.timeoutWith)(t,(0,rxjs_1$2.throwError)(new Error(`request ${r} timed out`))),(0,operators_1$1.filter)((e=>e.id===r)),(0,operators_1$1.take)(1))}authenticate(){const e=(0,ClientMessage_1.ClientMessageHostSession)({id:(0,types_1.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,operators_1$1.map)((e=>{if((0,ServerMessage_1.isServerMessageFail)(e))throw new Error(e.error||"failed to authentcate")})))}sendIsLinked(){const e=(0,ClientMessage_1.ClientMessageIsLinked)({id:(0,types_1.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,ClientMessage_1.ClientMessageGetSessionConfig)({id:(0,types_1.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}WalletLinkConnection$1.WalletLinkConnection=WalletLinkConnection;var aes256gcm$1={};Object.defineProperty(aes256gcm$1,"__esModule",{value:!0}),aes256gcm$1.decrypt=aes256gcm$1.encrypt=void 0;const rxjs_1$1=require$$2$1,util_1$3=util$3;async function encrypt(e,t){if(64!==t.length)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,util_1$3.hexStringToUint8Array)(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(e)),s=o.slice(o.byteLength-16),a=o.slice(0,o.byteLength-16),u=new Uint8Array(s),l=new Uint8Array(a),c=new Uint8Array([...r,...u,...l]);return(0,util_1$3.uint8ArrayToHex)(c)}function decrypt(e,t){if(64!==t.length)throw Error("secret must be 256 bits");return new rxjs_1$1.Observable((r=>{!async function(){const n=await crypto.subtle.importKey("raw",(0,util_1$3.hexStringToUint8Array)(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=(0,util_1$3.hexStringToUint8Array)(e),o=i.slice(0,12),s=i.slice(12,28),a=i.slice(28),u=new Uint8Array([...a,...s]),l={name:"AES-GCM",iv:new Uint8Array(o)};try{const e=await window.crypto.subtle.decrypt(l,n,u),t=new TextDecoder;r.next(t.decode(e)),r.complete()}catch(c){r.error(c)}}()}))}aes256gcm$1.encrypt=encrypt,aes256gcm$1.decrypt=decrypt;var Web3Method={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset"}(e.Web3Method||(e.Web3Method={}))}(Web3Method);var Web3RequestCanceledMessage$1={},RelayMessage={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.RelayMessageType=void 0,(t=e.RelayMessageType||(e.RelayMessageType={})).SESSION_ID_REQUEST="SESSION_ID_REQUEST",t.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",t.LINKED="LINKED",t.UNLINKED="UNLINKED",t.WEB3_REQUEST="WEB3_REQUEST",t.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",t.WEB3_RESPONSE="WEB3_RESPONSE"}(RelayMessage),Object.defineProperty(Web3RequestCanceledMessage$1,"__esModule",{value:!0}),Web3RequestCanceledMessage$1.Web3RequestCanceledMessage=void 0;const RelayMessage_1$2=RelayMessage;function Web3RequestCanceledMessage(e){return{type:RelayMessage_1$2.RelayMessageType.WEB3_REQUEST_CANCELED,id:e}}Web3RequestCanceledMessage$1.Web3RequestCanceledMessage=Web3RequestCanceledMessage;var Web3RequestMessage$1={};Object.defineProperty(Web3RequestMessage$1,"__esModule",{value:!0}),Web3RequestMessage$1.Web3RequestMessage=void 0;const RelayMessage_1$1=RelayMessage;function Web3RequestMessage(e){return Object.assign({type:RelayMessage_1$1.RelayMessageType.WEB3_REQUEST},e)}Web3RequestMessage$1.Web3RequestMessage=Web3RequestMessage;var Web3Response={};Object.defineProperty(Web3Response,"__esModule",{value:!0}),Web3Response.EthereumAddressFromSignedMessageResponse=Web3Response.SubmitEthereumTransactionResponse=Web3Response.SignEthereumTransactionResponse=Web3Response.SignEthereumMessageResponse=Web3Response.isRequestEthereumAccountsResponse=Web3Response.WatchAssetReponse=Web3Response.RequestEthereumAccountsResponse=Web3Response.SwitchEthereumChainResponse=Web3Response.AddEthereumChainResponse=Web3Response.ErrorResponse=void 0;const Web3Method_1$1=Web3Method;function ErrorResponse(e,t,r){return{method:e,errorMessage:t,errorCode:r}}function AddEthereumChainResponse(e){return{method:Web3Method_1$1.Web3Method.addEthereumChain,result:e}}function SwitchEthereumChainResponse(e){return{method:Web3Method_1$1.Web3Method.switchEthereumChain,result:e}}function RequestEthereumAccountsResponse(e){return{method:Web3Method_1$1.Web3Method.requestEthereumAccounts,result:e}}function WatchAssetReponse(e){return{method:Web3Method_1$1.Web3Method.watchAsset,result:e}}function isRequestEthereumAccountsResponse(e){return e&&e.method===Web3Method_1$1.Web3Method.requestEthereumAccounts}function SignEthereumMessageResponse(e){return{method:Web3Method_1$1.Web3Method.signEthereumMessage,result:e}}function SignEthereumTransactionResponse(e){return{method:Web3Method_1$1.Web3Method.signEthereumTransaction,result:e}}function SubmitEthereumTransactionResponse(e){return{method:Web3Method_1$1.Web3Method.submitEthereumTransaction,result:e}}function EthereumAddressFromSignedMessageResponse(e){return{method:Web3Method_1$1.Web3Method.ethereumAddressFromSignedMessage,result:e}}Web3Response.ErrorResponse=ErrorResponse,Web3Response.AddEthereumChainResponse=AddEthereumChainResponse,Web3Response.SwitchEthereumChainResponse=SwitchEthereumChainResponse,Web3Response.RequestEthereumAccountsResponse=RequestEthereumAccountsResponse,Web3Response.WatchAssetReponse=WatchAssetReponse,Web3Response.isRequestEthereumAccountsResponse=isRequestEthereumAccountsResponse,Web3Response.SignEthereumMessageResponse=SignEthereumMessageResponse,Web3Response.SignEthereumTransactionResponse=SignEthereumTransactionResponse,Web3Response.SubmitEthereumTransactionResponse=SubmitEthereumTransactionResponse,Web3Response.EthereumAddressFromSignedMessageResponse=EthereumAddressFromSignedMessageResponse;var Web3ResponseMessage$1={};Object.defineProperty(Web3ResponseMessage$1,"__esModule",{value:!0}),Web3ResponseMessage$1.isWeb3ResponseMessage=Web3ResponseMessage$1.Web3ResponseMessage=void 0;const RelayMessage_1=RelayMessage;function Web3ResponseMessage(e){return Object.assign({type:RelayMessage_1.RelayMessageType.WEB3_RESPONSE},e)}function isWeb3ResponseMessage(e){return e&&e.type===RelayMessage_1.RelayMessageType.WEB3_RESPONSE}Web3ResponseMessage$1.Web3ResponseMessage=Web3ResponseMessage,Web3ResponseMessage$1.isWeb3ResponseMessage=isWeb3ResponseMessage;var __createBinding=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),__setModuleDefault=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__decorate=commonjsGlobal$1&&commonjsGlobal$1.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__importStar=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding(t,e,r);return __setModuleDefault(t,e),t},__importDefault=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(WalletLinkRelay$1,"__esModule",{value:!0}),WalletLinkRelay$1.WalletLinkRelay=void 0;const bind_decorator_1=__importDefault(bindDecorator),eth_rpc_errors_1=dist,rxjs_1=require$$2$1,operators_1=require$$3,WalletLinkAnalytics_1$1=WalletLinkAnalytics$1,WalletLinkConnection_1=WalletLinkConnection$1,init_1=init,util_1$2=util$3,aes256gcm=__importStar(aes256gcm$1),Session_1=Session$1,WalletLinkRelayAbstract_1=WalletLinkRelayAbstract$1,Web3Method_1=Web3Method,Web3RequestCanceledMessage_1=Web3RequestCanceledMessage$1,Web3RequestMessage_1=Web3RequestMessage$1,Web3Response_1=Web3Response,Web3ResponseMessage_1=Web3ResponseMessage$1;class WalletLinkRelay extends WalletLinkRelayAbstract_1.WalletLinkRelayAbstract{constructor(e){super(),this.accountsCallback=null,this.chainCallback=null,this.appName="",this.appLogoUrl=null,this.subscriptions=new rxjs_1.Subscription,this.walletLinkUrl=e.walletLinkUrl,this.storage=e.storage,this._session=Session_1.Session.load(e.storage)||new Session_1.Session(e.storage).save(),this.relayEventManager=e.relayEventManager,this.walletLinkAnalytics=e.walletLinkAnalytics?e.walletLinkAnalytics:new WalletLinkAnalytics_1$1.WalletLinkAnalytics,this.connection=new WalletLinkConnection_1.WalletLinkConnection(this._session.id,this._session.key,this.walletLinkUrl,this.walletLinkAnalytics),this.subscriptions.add(this.connection.incomingEvent$.pipe((0,operators_1.filter)((e=>"Web3Response"===e.event))).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(this.connection.linked$.pipe((0,operators_1.skip)(1),(0,operators_1.tap)((e=>{var t;this.isLinked=e;const r=this.storage.getItem(WalletLinkRelayAbstract_1.LOCAL_STORAGE_ADDRESSES_KEY);if(e&&(this.session.linked=e),this.isUnlinkedErrorState=!1,r){const n=r.split(" "),i="true"===this.storage.getItem("IsStandaloneSigning");if(""!==n[0]&&!e&&this.session.linked&&!i){this.isUnlinkedErrorState=!0;const e=this.getSessionIdHash();null===(t=this.walletLinkAnalytics)||void 0===t||t.sendEvent(init_1.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:e,origin:location.origin})}}}))).subscribe()),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,operators_1.filter)((e=>!!e.metadata&&"1"===e.metadata.__destroyed))).subscribe((()=>{var e;const t=this.connection.isDestroyed;return null===(e=this.walletLinkAnalytics)||void 0===e||e.sendEvent(init_1.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:t,sessionIdHash:this.getSessionIdHash(),origin:location.origin}),this.resetAndReload()}))),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,operators_1.filter)((e=>e.metadata&&void 0!==e.metadata.WalletUsername))).pipe((0,operators_1.mergeMap)((e=>aes256gcm.decrypt(e.metadata.WalletUsername,this._session.secret)))).subscribe({next:e=>{this.storage.setItem(WalletLinkRelayAbstract_1.WALLET_USER_NAME_KEY,e)},error:()=>{var e;null===(e=this.walletLinkAnalytics)||void 0===e||e.sendEvent(init_1.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,operators_1.filter)((e=>e.metadata&&void 0!==e.metadata.AppVersion))).pipe((0,operators_1.mergeMap)((e=>aes256gcm.decrypt(e.metadata.AppVersion,this._session.secret)))).subscribe({next:e=>{this.storage.setItem(WalletLinkRelayAbstract_1.APP_VERSION_KEY,e)},error:()=>{var e;null===(e=this.walletLinkAnalytics)||void 0===e||e.sendEvent(init_1.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,operators_1.filter)((e=>e.metadata&&void 0!==e.metadata.ChainId&&void 0!==e.metadata.JsonRpcUrl))).pipe((0,operators_1.mergeMap)((e=>(0,rxjs_1.zip)(aes256gcm.decrypt(e.metadata.ChainId,this._session.secret),aes256gcm.decrypt(e.metadata.JsonRpcUrl,this._session.secret))))).pipe((0,operators_1.distinctUntilChanged)()).subscribe({next:([e,t])=>{this.chainCallback&&this.chainCallback(e,t)},error:()=>{var e;null===(e=this.walletLinkAnalytics)||void 0===e||e.sendEvent(init_1.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,operators_1.filter)((e=>e.metadata&&void 0!==e.metadata.EthereumAddress))).pipe((0,operators_1.mergeMap)((e=>aes256gcm.decrypt(e.metadata.EthereumAddress,this._session.secret)))).subscribe({next:e=>{this.accountsCallback&&this.accountsCallback([e]),WalletLinkRelay.accountRequestCallbackIds.size>0&&(Array.from(WalletLinkRelay.accountRequestCallbackIds.values()).forEach((t=>{const r=(0,Web3ResponseMessage_1.Web3ResponseMessage)({id:t,response:(0,Web3Response_1.RequestEthereumAccountsResponse)([e])});this.invokeCallback(Object.assign(Object.assign({},r),{id:t}))})),WalletLinkRelay.accountRequestCallbackIds.clear())},error:()=>{var e;null===(e=this.walletLinkAnalytics)||void 0===e||e.sendEvent(init_1.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.ui=e.walletLinkUIConstructor({walletLinkUrl:e.walletLinkUrl,version:e.version,darkMode:e.darkMode,session:this._session,connected$:this.connection.connected$}),this.connection.connect()}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,operators_1.timeout)(1e3),(0,operators_1.catchError)((e=>(0,rxjs_1.of)(null)))).subscribe((e=>{var t,r,n;try{this.subscriptions.unsubscribe()}catch(o){null===(t=this.walletLinkAnalytics)||void 0===t||t.sendEvent(init_1.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}null===(r=this.walletLinkAnalytics)||void 0===r||r.sendEvent(init_1.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash(),origin:location.origin}),this.connection.destroy();const i=Session_1.Session.load(this.storage);(null==i?void 0:i.id)===this._session.id?this.storage.clear():i&&(null===(n=this.walletLinkAnalytics)||void 0===n||n.sendEvent(init_1.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Session_1.Session.hash(i.id),origin:location.origin})),this.ui.reloadUI()}),(e=>{var t;null===(t=this.walletLinkAnalytics)||void 0===t||t.sendEvent(init_1.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})}))}setAppInfo(e,t){this.appName=e,this.appLogoUrl=t}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,t){this.storage.setItem(e,t)}signEthereumMessage(e,t,r,n){return this.sendRequest({method:Web3Method_1.Web3Method.signEthereumMessage,params:{message:(0,util_1$2.hexStringFromBuffer)(e,!0),address:t,addPrefix:r,typedDataJson:n||null}})}ethereumAddressFromSignedMessage(e,t,r){return this.sendRequest({method:Web3Method_1.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,util_1$2.hexStringFromBuffer)(e,!0),signature:(0,util_1$2.hexStringFromBuffer)(t,!0),addPrefix:r}})}signEthereumTransaction(e){return this.sendRequest({method:Web3Method_1.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,util_1$2.bigIntStringFromBN)(e.weiValue),data:(0,util_1$2.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,util_1$2.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,util_1$2.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,util_1$2.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,util_1$2.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:Web3Method_1.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,util_1$2.bigIntStringFromBN)(e.weiValue),data:(0,util_1$2.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,util_1$2.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,util_1$2.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,util_1$2.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,util_1$2.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,t){return this.sendRequest({method:Web3Method_1.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,util_1$2.hexStringFromBuffer)(e,!0),chainId:t}})}scanQRCode(e){return this.sendRequest({method:Web3Method_1.Web3Method.scanQRCode,params:{regExp:e}})}genericRequest(e,t){return this.sendRequest({method:Web3Method_1.Web3Method.generic,params:{action:t,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let t=null;const r=(0,util_1$2.randomBytesHex)(8),n=()=>{this.publishWeb3RequestCanceledEvent(r),this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:r,response:(0,Web3Response_1.ErrorResponse)(e.method,"User rejected request")})),null==t||t()},i=new Promise(((i,o)=>{this.ui.isStandalone()||(t=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:n,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(r,(e=>{if(null==t||t(),e.errorMessage)return o(new Error(e.errorMessage));i(e)})),this.ui.isStandalone()?this.sendRequestStandalone(r,e):this.publishWeb3RequestEvent(r,e)}));return{promise:i,cancel:n}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}publishWeb3RequestEvent(e,t){var r;const n=(0,Web3RequestMessage_1.Web3RequestMessage)({id:e,request:t}),i=Session_1.Session.load(this.storage);null===(r=this.walletLinkAnalytics)||void 0===r||r.sendEvent(init_1.EVENTS.WEB3_REQUEST,{eventId:n.id,method:`relay::${n.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:i?Session_1.Session.hash(i.id):"",isSessionMismatched:((null==i?void 0:i.id)!==this._session.id).toString(),origin:location.origin}),this.subscriptions.add(this.publishEvent("Web3Request",n,!0).subscribe({next:e=>{var t;null===(t=this.walletLinkAnalytics)||void 0===t||t.sendEvent(init_1.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:n.id,method:`relay::${n.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:i?Session_1.Session.hash(i.id):"",isSessionMismatched:((null==i?void 0:i.id)!==this._session.id).toString(),origin:location.origin})},error:e=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:n.id,response:{method:n.request.method,errorMessage:e.message}}))}}))}publishWeb3RequestCanceledEvent(e){const t=(0,Web3RequestCanceledMessage_1.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",t,!1).subscribe())}publishEvent(e,t,r){const n=this.session.secret;return new rxjs_1.Observable((e=>{aes256gcm.encrypt(JSON.stringify(Object.assign(Object.assign({},t),{origin:location.origin})),n).then((t=>{e.next(t),e.complete()}))})).pipe((0,operators_1.mergeMap)((t=>this.connection.publishEvent(e,t,r))))}handleIncomingEvent(e){try{this.subscriptions.add(aes256gcm.decrypt(e.data,this.session.secret).pipe((0,operators_1.map)((e=>JSON.parse(e)))).subscribe({next:e=>{const t=(0,Web3ResponseMessage_1.isWeb3ResponseMessage)(e)?e:null;t&&this.handleWeb3ResponseMessage(t)},error:()=>{var e;null===(e=this.walletLinkAnalytics)||void 0===e||e.sendEvent(init_1.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch(t){return}}handleWeb3ResponseMessage(e){var t;const{response:r}=e;if(null===(t=this.walletLinkAnalytics)||void 0===t||t.sendEvent(init_1.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${r.method}`,sessionIdHash:this.getSessionIdHash(),origin:location.origin}),(0,Web3Response_1.isRequestEthereumAccountsResponse)(r))return Array.from(WalletLinkRelay.accountRequestCallbackIds.values()).forEach((t=>this.invokeCallback(Object.assign(Object.assign({},e),{id:t})))),void WalletLinkRelay.accountRequestCallbackIds.clear();this.invokeCallback(e)}invokeCallback(e){const t=this.relayEventManager.callbacks.get(e.id);t&&(t(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){let e={method:Web3Method_1.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}};const t=(0,util_1$2.randomBytesHex)(8),r=()=>{this.publishWeb3RequestCanceledEvent(t),this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:t,response:(0,Web3Response_1.ErrorResponse)(e.method,"User rejected request")}))},n=new Promise(((n,i)=>{var o;this.relayEventManager.callbacks.set(t,(e=>{if(this.ui.hideRequestEthereumAccounts(),e.errorMessage)return i(new Error(e.errorMessage));n(e)}));const s=(null===(o=null===window||void 0===window?void 0:window.navigator)||void 0===o?void 0:o.userAgent)||null;if(s&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(s))window.location.href=`https://go.cb-w.com/xoXnYwQimhb?cb_url=${encodeURIComponent(window.location.href)}`;else{if(this.ui.inlineAccountsResponse()){const e=e=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:t,response:(0,Web3Response_1.RequestEthereumAccountsResponse)(e)}))};this.ui.requestEthereumAccounts({onCancel:r,onAccounts:e})}else this.ui.requestEthereumAccounts({onCancel:r});WalletLinkRelay.accountRequestCallbackIds.add(t),this.ui.inlineAccountsResponse()||this.ui.isStandalone()||this.publishWeb3RequestEvent(t,e)}}));return{promise:n,cancel:r}}watchAsset(e,t,r,n,i){const o={method:Web3Method_1.Web3Method.watchAsset,params:{type:e,options:{address:t,symbol:r,decimals:n,image:i}}};let s=null;const a=(0,util_1$2.randomBytesHex)(8),u=()=>{this.publishWeb3RequestCanceledEvent(a),this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:a,response:(0,Web3Response_1.ErrorResponse)(o.method,"User rejected request")})),null==s||s()};this.ui.inlineWatchAsset()||(s=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}));const l=new Promise(((u,l)=>{this.relayEventManager.callbacks.set(a,(e=>{if(null==s||s(),e.errorMessage)return l(new Error(e.errorMessage));u(e)}));const c=()=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:a,response:(0,Web3Response_1.WatchAssetReponse)(!1)}))},f=()=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:a,response:(0,Web3Response_1.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:f,onCancel:c,type:e,address:t,symbol:r,decimals:n,image:i}),this.ui.inlineWatchAsset()||this.ui.isStandalone()||this.publishWeb3RequestEvent(a,o)}));return{cancel:u,promise:l}}addEthereumChain(e,t,r,n,i,o){let s={method:Web3Method_1.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:t,blockExplorerUrls:n,chainName:i,iconUrls:r,nativeCurrency:o}},a=null;const u=(0,util_1$2.randomBytesHex)(8),l=()=>{this.publishWeb3RequestCanceledEvent(u),this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:u,response:(0,Web3Response_1.ErrorResponse)(s.method,"User rejected request")})),null==a||a()};this.ui.inlineAddEthereumChain(e)||(a=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload}));const c=new Promise(((t,r)=>{this.relayEventManager.callbacks.set(u,(e=>{if(null==a||a(),e.errorMessage)return r(new Error(e.errorMessage));t(e)}));const n=()=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:u,response:(0,Web3Response_1.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},i=e=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:u,response:(0,Web3Response_1.AddEthereumChainResponse)({isApproved:!0,rpcUrl:e})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:n,onApprove:i,chainId:s.params.chainId,rpcUrls:s.params.rpcUrls,blockExplorerUrls:s.params.blockExplorerUrls,chainName:s.params.chainName,iconUrls:s.params.iconUrls,nativeCurrency:s.params.nativeCurrency}),this.ui.inlineAddEthereumChain(e)||this.ui.isStandalone()||this.publishWeb3RequestEvent(u,s)}));return{promise:c,cancel:l}}switchEthereumChain(e){let t={method:Web3Method_1.Web3Method.switchEthereumChain,params:{chainId:e}},r=null;const n=(0,util_1$2.randomBytesHex)(8),i=()=>{this.publishWeb3RequestCanceledEvent(n),this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:n,response:(0,Web3Response_1.ErrorResponse)(t.method,"User rejected request")})),null==r||r()};this.ui.inlineSwitchEthereumChain()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}));const o=new Promise(((e,i)=>{this.relayEventManager.callbacks.set(n,(t=>(null==r||r(),t.errorMessage&&t.errorCode?i(eth_rpc_errors_1.ethErrors.provider.custom({code:t.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."})):t.errorMessage?i(new Error(t.errorMessage)):void e(t))));this.ui.switchEthereumChain({onCancel:e=>{e?this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:n,response:(0,Web3Response_1.ErrorResponse)(Web3Method_1.Web3Method.switchEthereumChain,"unsupported chainId",e)})):this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:n,response:(0,Web3Response_1.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},onApprove:e=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:n,response:(0,Web3Response_1.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:e})}))},chainId:t.params.chainId}),this.ui.inlineSwitchEthereumChain()||this.ui.isStandalone()||this.publishWeb3RequestEvent(n,t)}));return{promise:o,cancel:i}}getSessionIdHash(){return Session_1.Session.hash(this._session.id)}sendRequestStandalone(e,t){const r=()=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:e,response:(0,Web3Response_1.ErrorResponse)(t.method,"User rejected request")}))},n=t=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:e,response:t}))};switch(t.method){case Web3Method_1.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:t,onSuccess:n,onCancel:r});break;case Web3Method_1.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:t,onSuccess:n,onCancel:r});break;case Web3Method_1.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:t,onSuccess:n,onCancel:r});break;case Web3Method_1.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:t,onSuccess:n});break;default:r()}}}WalletLinkRelay.accountRequestCallbackIds=new Set,__decorate([bind_decorator_1.default],WalletLinkRelay.prototype,"resetAndReload",null),__decorate([bind_decorator_1.default],WalletLinkRelay.prototype,"handleIncomingEvent",null),WalletLinkRelay$1.WalletLinkRelay=WalletLinkRelay;var WalletLinkRelayEventManager$1={};Object.defineProperty(WalletLinkRelayEventManager$1,"__esModule",{value:!0}),WalletLinkRelayEventManager$1.WalletLinkRelayEventManager=void 0;const util_1$1=util$3;class WalletLinkRelayEventManager{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,t=(0,util_1$1.prepend0x)(e.toString(16));return this.callbacks.get(t)&&this.callbacks.delete(t),e}}WalletLinkRelayEventManager$1.WalletLinkRelayEventManager=WalletLinkRelayEventManager;const name="walletlink",version$3="2.5.0",description="WalletLink JavaScript SDK",keywords=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],main="dist/index.js",types="dist/index.d.ts",repository="https://github.com/walletlink/walletlink.git",author="Coinbase, Inc.",license="Apache-2.0",scripts={tsc:"tsc --noEmit --pretty",test:"yarn build-npm && karma start",prebuild:"node -p \"'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'\" > src/version.ts",build:"node compile-assets.js && webpack --config webpack.config.js","build-chrome":"webpack --config webpack.config.chrome.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export WALLETLINK_URL='http://localhost:3000'; yarn build && yarn build-chrome","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --watch chrome/ --exec 'yarn build:dev'","build:prod":"yarn prebuild && yarn build && yarn build-chrome && yarn build-npm && cp ./package.json ./README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  \"private\": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak",lint:"eslint ./src --ext .ts,.tsx","lint:watch":"nodemon -e ts,tsx,js,json,css,scss,svg --watch src/ --exec 'yarn tsc && yarn lint'"},dependencies={"@metamask/safe-event-emitter":"2.0.0","bind-decorator":"^1.0.11","bn.js":"^5.1.1",clsx:"^1.1.0","eth-block-tracker":"4.4.3","eth-json-rpc-filters":"4.2.2","eth-rpc-errors":"4.0.2","js-sha256":"0.9.0","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",rxjs:"^6.6.3","stream-browserify":"^3.0.0"},devDependencies={"@types/bn.js":"^4.11.6","@types/node":"^14.14.20","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",karma:"^6.3.15","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.32.0",svgo:"^2.8.0","ts-jest":"^26.4.4","ts-loader":"^8.0.13",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.49.0","webpack-cli":"^3.3.12","whatwg-fetch":"^3.5.0"},engines={node:">= 10.0.0"},jest={transform:{"^.+\\.tsx?$":"ts-jest"},testEnvironment:"node",testPathIgnorePatterns:["<rootDir>/dist/","<rootDir>/node_modules/"],testRegex:"(/__tests__/.*|\\.(test|spec))\\.(ts|tsx|js)$",moduleFileExtensions:["ts","js","json"]};var require$$7={name:name,version:version$3,description:description,keywords:keywords,main:main,types:types,repository:repository,author:author,license:license,scripts:scripts,dependencies:dependencies,devDependencies:devDependencies,engines:engines,jest:jest};Object.defineProperty(WalletLink$2,"__esModule",{value:!0}),WalletLink$2.WalletLink=void 0;const WalletLinkAnalytics_1=WalletLinkAnalytics$1,ScopedLocalStorage_1=ScopedLocalStorage$1,WalletLinkProvider_1=WalletLinkProvider$1,WalletLinkSdkUI_1=WalletLinkSdkUI$1,WalletLinkRelay_1=WalletLinkRelay$1,WalletLinkRelayEventManager_1=WalletLinkRelayEventManager$1,util_1=util$3,WALLETLINK_URL={}.WALLETLINK_URL||"https://www.walletlink.org",WALLETLINK_VERSION={}.WALLETLINK_VERSION||require$$7.version||"unknown";class WalletLink$1{constructor(e){var t;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const r=e.walletLinkUrl||WALLETLINK_URL;let n;n=e.walletLinkUIConstructor?e.walletLinkUIConstructor:e=>new WalletLinkSdkUI_1.WalletLinkSdkUI(e),void 0===e.overrideIsMetaMask?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=null===(t=e.overrideIsCoinbaseWallet)||void 0===t||t,this._walletLinkAnalytics=e.walletLinkAnalytics?e.walletLinkAnalytics:new WalletLinkAnalytics_1.WalletLinkAnalytics;const i=new URL(r),o=`${i.protocol}//${i.host}`;this._storage=new ScopedLocalStorage_1.ScopedLocalStorage(`-walletlink:${o}`),this._storage.setItem("version",WalletLink$1.VERSION),void 0===window.walletLinkExtension&&(this._relayEventManager=new WalletLinkRelayEventManager_1.WalletLinkRelayEventManager,this._relay=new WalletLinkRelay_1.WalletLinkRelay({walletLinkUrl:r,version:WALLETLINK_VERSION,darkMode:!!e.darkMode,walletLinkUIConstructor:n,storage:this._storage,relayEventManager:this._relayEventManager,walletLinkAnalytics:this._walletLinkAnalytics}),this.setAppInfo(e.appName,e.appLogoUrl),this._relay.attachUI())}makeWeb3Provider(e="",t=1){if(void 0!==window.walletLinkExtension)return"boolean"==typeof window.walletLinkExtension.isCipher&&window.walletLinkExtension.isCipher||window.walletLinkExtension.setProviderInfo(e,t),window.walletLinkExtension;const r=this._relay;if(!r||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||r.setConnectDisabled(!0),new WalletLinkProvider_1.WalletLinkProvider({relayProvider:()=>Promise.resolve(r),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:t,walletLinkAnalytics:this._walletLinkAnalytics,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet})}setAppInfo(e,t){var r;this._appName=e||"DApp",this._appLogoUrl=t||(0,util_1.getFavicon)(),void 0!==window.walletLinkExtension?"boolean"==typeof window.walletLinkExtension.isCipher&&window.walletLinkExtension.isCipher||window.walletLinkExtension.setAppInfo(this._appName,this._appLogoUrl):null===(r=this._relay)||void 0===r||r.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;void 0!==window.walletLinkExtension?window.walletLinkExtension.close():null===(e=this._relay)||void 0===e||e.resetAndReload()}}WalletLink$2.WalletLink=WalletLink$1,WalletLink$1.VERSION=WALLETLINK_VERSION,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WalletLink=e.WalletLinkProvider=void 0;const t=WalletLinkProvider$1,r=WalletLink$2;var n=WalletLinkProvider$1;Object.defineProperty(e,"WalletLinkProvider",{enumerable:!0,get:function(){return n.WalletLinkProvider}});var i=WalletLink$2;Object.defineProperty(e,"WalletLink",{enumerable:!0,get:function(){return i.WalletLink}}),e.default=r.WalletLink,"undefined"!=typeof window&&(window.WalletLink=r.WalletLink,window.WalletLinkProvider=t.WalletLinkProvider)}(dist$1);var WalletLink=getDefaultExportFromCjs$1(dist$1);const version$2="networks/5.6.1",logger$5=new Logger$g(version$2);function isRenetworkable(e){return e&&"function"==typeof e.renetwork}function ethDefaultProvider(e){const t=function(t,r){null==r&&(r={});const n=[];if(t.InfuraProvider&&"-"!==r.infura)try{n.push(new t.InfuraProvider(e,r.infura))}catch(error){}if(t.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new t.EtherscanProvider(e,r.etherscan))}catch(error){}if(t.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new t.AlchemyProvider(e,r.alchemy))}catch(error){}if(t.PocketProvider&&"-"!==r.pocket){const r=["goerli","ropsten","rinkeby"];try{const i=new t.PocketProvider(e);i.network&&-1===r.indexOf(i.network.name)&&n.push(i)}catch(error){}}if(t.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new t.CloudflareProvider(e))}catch(error){}if(t.AnkrProvider&&"-"!==r.ankr)try{n.push(new t.AnkrProvider(e,r.ankr))}catch(error){}if(0===n.length)return null;if(t.FallbackProvider){let i=1;return null!=r.quorum?i=r.quorum:"homestead"===e&&(i=2),new t.FallbackProvider(n,i)}return n[0]};return t.renetwork=function(e){return ethDefaultProvider(e)},t}function etcDefaultProvider(e,t){const r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(e,t):null};return r.renetwork=function(t){return etcDefaultProvider(e,t)},r}const homestead={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ethDefaultProvider("homestead")},ropsten={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ethDefaultProvider("ropsten")},classicMordor={chainId:63,name:"classicMordor",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/mordor","classicMordor")},networks={unspecified:{chainId:0,name:"unspecified"},homestead:homestead,mainnet:homestead,morden:{chainId:2,name:"morden"},ropsten:ropsten,testnet:ropsten,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ethDefaultProvider("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ethDefaultProvider("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ethDefaultProvider("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},classic:{chainId:61,name:"classic",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:classicMordor,classicTestnet:classicMordor,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic"},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism"},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function getNetwork(e){if(null==e)return null;if("number"==typeof e){for(const t in networks){const r=networks[t];if(r.chainId===e)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"==typeof e){const t=networks[e];return null==t?null:{name:t.name,chainId:t.chainId,ensAddress:t.ensAddress,_defaultProvider:t._defaultProvider||null}}const t=networks[e.name];if(!t)return"number"!=typeof e.chainId&&logger$5.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==t.chainId&&logger$5.throwArgumentError("network chainId mismatch","network",e);let r=e._defaultProvider||null;return null==r&&t._defaultProvider&&(r=isRenetworkable(t._defaultProvider)?t._defaultProvider.renetwork(e):t._defaultProvider),{name:e.name,chainId:t.chainId,ensAddress:e.ensAddress||t.ensAddress||null,_defaultProvider:r}}function decode$2(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return arrayify$e(t)}function encode$1(e){e=arrayify$e(e);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}const version$1="web/5.6.0";var __awaiter$4=globalThis&&globalThis.__awaiter||function(t,r,n,i){return new(n||(n=Promise))((function(o,s){function a(t){try{l(i.next(t))}catch(e){s(e)}}function u(t){try{l(i.throw(t))}catch(e){s(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,u)}l((i=i.apply(t,r||[])).next())}))};function getUrl(e,t){return __awaiter$4(this,void 0,void 0,(function*(){null==t&&(t={});const r={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0};!0!==t.skipFetchSetup&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client");const n=yield fetch(e,r),i=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach(((e,t)=>{o[t.toLowerCase()]=e})):n.headers.keys().forEach((e=>{o[e.toLowerCase()]=n.headers.get(e)})),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:arrayify$e(new Uint8Array(i))}}))}var __awaiter$3=globalThis&&globalThis.__awaiter||function(t,r,n,i){return new(n||(n=Promise))((function(o,s){function a(t){try{l(i.next(t))}catch(e){s(e)}}function u(t){try{l(i.throw(t))}catch(e){s(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,u)}l((i=i.apply(t,r||[])).next())}))};const logger$4=new Logger$g(version$1);function staller(e){return new Promise((t=>{setTimeout(t,e)}))}function bodyify(e,t){if(null==e)return null;if("string"==typeof e)return e;if(isBytesLike$7(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return toUtf8String$2(e)}catch(error){}return hexlify$9(e)}return e}function _fetchData(e,t,r){const n="object"==typeof e&&null!=e.throttleLimit?e.throttleLimit:12;logger$4.assertArgument(n>0&&n%1==0,"invalid connection throttle limit","connection.throttleLimit",n);const i="object"==typeof e?e.throttleCallback:null,o="object"==typeof e&&"number"==typeof e.throttleSlotInterval?e.throttleSlotInterval:100;logger$4.assertArgument(o>0&&o%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);const s="object"==typeof e&&!!e.errorPassThrough,a={};let u=null;const l={method:"GET"};let c=!1,f=12e4;if("string"==typeof e)u=e;else if("object"==typeof e){if(null!=e&&null!=e.url||logger$4.throwArgumentError("missing URL","connection.url",e),u=e.url,"number"==typeof e.timeout&&e.timeout>0&&(f=e.timeout),e.headers)for(const t in e.headers)a[t.toLowerCase()]={key:t,value:String(e.headers[t])},["if-none-match","if-modified-since"].indexOf(t.toLowerCase())>=0&&(c=!0);if(l.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password){"https:"!==u.substring(0,6)&&!0!==e.allowInsecureAuthentication&&logger$4.throwError("basic authentication requires a secure https url",Logger$g.errors.INVALID_ARGUMENT,{argument:"url",url:u,user:e.user,password:"[REDACTED]"});const t=e.user+":"+e.password;a.authorization={key:"Authorization",value:"Basic "+encode$1(toUtf8Bytes$4(t))}}null!=e.skipFetchSetup&&(l.skipFetchSetup=!!e.skipFetchSetup)}const h=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),d=u?u.match(h):null;if(d)try{const e={statusCode:200,statusMessage:"OK",headers:{"content-type":d[1]},body:decode$2(d[2])};let t=e.body;return r&&(t=r(e.body,e)),Promise.resolve(t)}catch(error){logger$4.throwError("processing response error",Logger$g.errors.SERVER_ERROR,{body:bodyify(d[1],d[2]),error:error,requestBody:null,requestMethod:"GET",url:u})}t&&(l.method="POST",l.body=t,null==a["content-type"]&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==a["content-length"]&&(a["content-length"]={key:"Content-Length",value:String(t.length)}));const p={};Object.keys(a).forEach((e=>{const t=a[e];p[t.key]=t.value})),l.headers=p;const g=function(){let e=null;return{promise:new Promise((function(t,r){f&&(e=setTimeout((()=>{null!=e&&(e=null,r(logger$4.makeError("timeout",Logger$g.errors.TIMEOUT,{requestBody:bodyify(l.body,p["content-type"]),requestMethod:l.method,timeout:f,url:u})))}),f))})),cancel:function(){null!=e&&(clearTimeout(e),e=null)}}}(),m=function(){return __awaiter$3(this,void 0,void 0,(function*(){for(let e=0;e<n;e++){let t=null;try{if(t=yield getUrl(u,l),e<n)if(301===t.statusCode||302===t.statusCode){const e=t.headers.location||"";if("GET"===l.method&&e.match(/^https:/)){u=t.headers.location;continue}}else if(429===t.statusCode){let r=!0;if(i&&(r=yield i(e,u)),r){let r=0;const n=t.headers["retry-after"];r="string"==typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):o*parseInt(String(Math.random()*Math.pow(2,e))),yield staller(r);continue}}}catch(error){t=error.response,null==t&&(g.cancel(),logger$4.throwError("missing response",Logger$g.errors.SERVER_ERROR,{requestBody:bodyify(l.body,p["content-type"]),requestMethod:l.method,serverError:error,url:u}))}let a=t.body;if(c&&304===t.statusCode?a=null:!s&&(t.statusCode<200||t.statusCode>=300)&&(g.cancel(),logger$4.throwError("bad response",Logger$g.errors.SERVER_ERROR,{status:t.statusCode,headers:t.headers,body:bodyify(a,t.headers?t.headers["content-type"]:null),requestBody:bodyify(l.body,p["content-type"]),requestMethod:l.method,url:u})),r)try{const e=yield r(a,t);return g.cancel(),e}catch(error){if(error.throttleRetry&&e<n){let t=!0;if(i&&(t=yield i(e,u)),t){const t=o*parseInt(String(Math.random()*Math.pow(2,e)));yield staller(t);continue}}g.cancel(),logger$4.throwError("processing response error",Logger$g.errors.SERVER_ERROR,{body:bodyify(a,t.headers?t.headers["content-type"]:null),error:error,requestBody:bodyify(l.body,p["content-type"]),requestMethod:l.method,url:u})}return g.cancel(),a}return logger$4.throwError("failed response",Logger$g.errors.SERVER_ERROR,{requestBody:bodyify(l.body,p["content-type"]),requestMethod:l.method,url:u})}))}();return Promise.race([g.promise,m])}function fetchJson(e,t,r){let n=null;if(null!=t){n=toUtf8Bytes$4(t);const r="string"==typeof e?{url:e}:shallowCopy$3(e);if(r.headers){const e=0!==Object.keys(r.headers).filter((e=>"content-type"===e.toLowerCase())).length;e||(r.headers=shallowCopy$3(r.headers),r.headers["content-type"]="application/json")}else r.headers={"content-type":"application/json"};e=r}return _fetchData(e,n,((e,t)=>{let n=null;if(null!=e)try{n=JSON.parse(toUtf8String$2(e))}catch(error){logger$4.throwError("invalid JSON",Logger$g.errors.SERVER_ERROR,{body:e,error:error})}return r&&(n=r(n,t)),n}))}function poll(e,t){return t||(t={}),null==(t=shallowCopy$3(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise((function(r,n){let i=null,o=!1;const s=()=>!o&&(o=!0,i&&clearTimeout(i),!0);t.timeout&&(i=setTimeout((()=>{s()&&n(new Error("timeout"))}),t.timeout));const a=t.retryLimit;let u=0;!function i(){return e().then((function(e){if(void 0!==e)s()&&r(e);else if(t.oncePoll)t.oncePoll.once("poll",i);else if(t.onceBlock)t.onceBlock.once("block",i);else if(!o){if(u++,u>a)return void(s()&&n(new Error("retry limit reached")));let e=t.interval*parseInt(String(Math.random()*Math.pow(2,u)));e<t.floor&&(e=t.floor),e>t.ceiling&&(e=t.ceiling),setTimeout(i,e)}return null}),(function(e){s()&&n(e)}))}()}))}for(var ALPHABET="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ALPHABET_MAP={},z=0;z<ALPHABET.length;z++){var x=ALPHABET.charAt(z);if(void 0!==ALPHABET_MAP[x])throw new TypeError(x+" is ambiguous");ALPHABET_MAP[x]=z}function polymodStep(e){var t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function prefixChk(e){for(var t=1,r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=polymodStep(t)^n>>5}for(t=polymodStep(t),r=0;r<e.length;++r){var i=e.charCodeAt(r);t=polymodStep(t)^31&i}return t}function encode(e,t,r){if(r=r||90,e.length+7+t.length>r)throw new TypeError("Exceeds length limit");var n=prefixChk(e=e.toLowerCase());if("string"==typeof n)throw new Error(n);for(var i=e+"1",o=0;o<t.length;++o){var s=t[o];if(s>>5!=0)throw new Error("Non 5-bit word");n=polymodStep(n)^s,i+=ALPHABET.charAt(s)}for(o=0;o<6;++o)n=polymodStep(n);for(n^=1,o=0;o<6;++o){var a=n>>5*(5-o)&31;i+=ALPHABET.charAt(a)}return i}function __decode(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var r=e.toLowerCase(),n=e.toUpperCase();if(e!==r&&e!==n)return"Mixed-case string "+e;var i=(e=r).lastIndexOf("1");if(-1===i)return"No separator character for "+e;if(0===i)return"Missing prefix for "+e;var o=e.slice(0,i),s=e.slice(i+1);if(s.length<6)return"Data too short";var a=prefixChk(o);if("string"==typeof a)return a;for(var u=[],l=0;l<s.length;++l){var c=s.charAt(l),f=ALPHABET_MAP[c];if(void 0===f)return"Unknown character "+c;a=polymodStep(a)^f,l+6>=s.length||u.push(f)}return 1!==a?"Invalid checksum for "+e:{prefix:o,words:u}}function decodeUnsafe(){var e=__decode.apply(null,arguments);if("object"==typeof e)return e}function decode$1(e){var t=__decode.apply(null,arguments);if("object"==typeof t)return t;throw new Error(t)}function convert(e,t,r,n){for(var i=0,o=0,s=(1<<r)-1,a=[],u=0;u<e.length;++u)for(i=i<<t|e[u],o+=t;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=t)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return a}function toWordsUnsafe(e){var t=convert(e,8,5,!0);if(Array.isArray(t))return t}function toWords(e){var t=convert(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)}function fromWordsUnsafe(e){var t=convert(e,5,8,!1);if(Array.isArray(t))return t}function fromWords(e){var t=convert(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}var bech32={decodeUnsafe:decodeUnsafe,decode:decode$1,encode:encode,toWordsUnsafe:toWordsUnsafe,toWords:toWords,fromWordsUnsafe:fromWordsUnsafe,fromWords:fromWords};const version="providers/5.5.1",logger$3=new Logger$g(version);class Formatter{constructor(){logger$3.checkNew(new.target,Formatter),this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),r=this.bigNumber.bind(this),n=this.blockTag.bind(this),i=this.data.bind(this),o=this.hash.bind(this),s=this.hex.bind(this),a=this.number.bind(this),u=this.type.bind(this);return e.transaction={hash:o,type:u,accessList:Formatter.allowNull(this.accessList.bind(this),null),blockHash:Formatter.allowNull(o,null),blockNumber:Formatter.allowNull(a,null),transactionIndex:Formatter.allowNull(a,null),confirmations:Formatter.allowNull(a,null),from:t,gasPrice:Formatter.allowNull(r),maxPriorityFeePerGas:Formatter.allowNull(r),maxFeePerGas:Formatter.allowNull(r),gasLimit:r,to:Formatter.allowNull(t,null),value:r,nonce:a,data:i,r:Formatter.allowNull(this.uint256),s:Formatter.allowNull(this.uint256),v:Formatter.allowNull(a),creates:Formatter.allowNull(t,null),raw:Formatter.allowNull(i)},e.transactionRequest={from:Formatter.allowNull(t),nonce:Formatter.allowNull(a),gasLimit:Formatter.allowNull(r),gasPrice:Formatter.allowNull(r),maxPriorityFeePerGas:Formatter.allowNull(r),maxFeePerGas:Formatter.allowNull(r),to:Formatter.allowNull(t),value:Formatter.allowNull(r),data:Formatter.allowNull((e=>this.data(e,!0))),type:Formatter.allowNull(a),accessList:Formatter.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:o,address:t,topics:Formatter.arrayOf(o),data:i,logIndex:a,blockHash:o},e.receipt={to:Formatter.allowNull(this.address,null),from:Formatter.allowNull(this.address,null),contractAddress:Formatter.allowNull(t,null),transactionIndex:a,root:Formatter.allowNull(s),gasUsed:r,logsBloom:Formatter.allowNull(i),blockHash:o,transactionHash:o,logs:Formatter.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:Formatter.allowNull(a,null),cumulativeGasUsed:r,effectiveGasPrice:Formatter.allowNull(r),status:Formatter.allowNull(a),type:u},e.block={hash:o,parentHash:o,number:a,timestamp:a,nonce:Formatter.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:t,extraData:i,transactions:Formatter.allowNull(Formatter.arrayOf(o)),baseFeePerGas:Formatter.allowNull(r)},e.blockWithTransactions=shallowCopy$3(e.block),e.blockWithTransactions.transactions=Formatter.allowNull(Formatter.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Formatter.allowNull(n,void 0),toBlock:Formatter.allowNull(n,void 0),blockHash:Formatter.allowNull(o,void 0),address:Formatter.allowNull(t,void 0),topics:Formatter.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Formatter.allowNull(a),blockHash:Formatter.allowNull(o),transactionIndex:a,removed:Formatter.allowNull(this.boolean.bind(this)),address:t,data:Formatter.allowFalsish(i,"0x"),topics:Formatter.arrayOf(o),transactionHash:o,logIndex:a},e}accessList(e){return accessListify$1(e||[])}number(e){return"0x"===e?0:BigNumber$4.from(e).toNumber()}type(e){return"0x"===e||null==e?0:BigNumber$4.from(e).toNumber()}bigNumber(e){return BigNumber$4.from(e)}boolean(e){if("boolean"==typeof e)return e;if("string"==typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return"string"==typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),isHexString$j(e))?e.toLowerCase():logger$3.throwArgumentError("invalid hash","value",e)}data(e,t){const r=this.hex(e,t);if(r.length%2!=0)throw new Error("invalid data; odd-length - "+e);return r}address(e){return getAddress$4(e)}callAddress(e){if(!isHexString$j(e,32))return null;const t=getAddress$4(hexDataSlice$4(e,12));return t===AddressZero?null:t}contractAddress(e){return getContractAddress$1(e)}blockTag(e){if(null==e)return"latest";if("earliest"===e)return"0x0";if("latest"===e||"pending"===e)return e;if("number"==typeof e||isHexString$j(e))return hexValue$1(e);throw new Error("invalid blockTag")}hash(e,t){const r=this.hex(e,t);return 32!==hexDataLength$3(r)?logger$3.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(null==e)return null;const t=BigNumber$4.from(e);try{return t.toNumber()}catch(error){}return null}uint256(e){if(!isHexString$j(e))throw new Error("invalid uint256");return hexZeroPad$5(e,32)}_block(e,t){null!=e.author&&null==e.miner&&(e.miner=e.author);const r=null!=e._difficulty?e._difficulty:e.difficulty,n=Formatter.check(t,e);return n._difficulty=null==r?null:BigNumber$4.from(r),n}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Formatter.check(this.formats.transactionRequest,e)}transactionResponse(e){null!=e.gas&&null==e.gasLimit&&(e.gasLimit=e.gas),e.to&&BigNumber$4.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),null!=e.input&&null==e.data&&(e.data=e.input),null==e.to&&null==e.creates&&(e.creates=this.contractAddress(e)),1!==e.type&&2!==e.type||null!=e.accessList||(e.accessList=[]);const t=Formatter.check(this.formats.transaction,e);if(null!=e.chainId){let r=e.chainId;isHexString$j(r)&&(r=BigNumber$4.from(r).toNumber()),t.chainId=r}else{let r=e.networkId;null==r&&null==t.v&&(r=e.chainId),isHexString$j(r)&&(r=BigNumber$4.from(r).toNumber()),"number"!=typeof r&&null!=t.v&&(r=(t.v-35)/2,r<0&&(r=0),r=parseInt(r)),"number"!=typeof r&&(r=0),t.chainId=r}return t.blockHash&&"x"===t.blockHash.replace(/0/g,"")&&(t.blockHash=null),t}transaction(e){return parse$3(e)}receiptLog(e){return Formatter.check(this.formats.receiptLog,e)}receipt(e){const t=Formatter.check(this.formats.receipt,e);if(null!=t.root)if(t.root.length<=4){const e=BigNumber$4.from(t.root).toNumber();0===e||1===e?(null!=t.status&&t.status!==e&&logger$3.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=e,delete t.root):logger$3.throwArgumentError("invalid alt-root-status","value.root",t.root)}else 66!==t.root.length&&logger$3.throwArgumentError("invalid root hash","value.root",t.root);return null!=t.status&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map((e=>this.topics(e))):null!=e?this.hash(e,!0):null}filter(e){return Formatter.check(this.formats.filter,e)}filterLog(e){return Formatter.check(this.formats.filterLog,e)}static check(e,t){const r={};for(const n in e)try{const i=e[n](t[n]);void 0!==i&&(r[n]=i)}catch(error){throw error.checkKey=n,error.checkValue=t[n],error}return r}static allowNull(e,t){return function(r){return null==r?t:e(r)}}static allowFalsish(e,t){return function(r){return r?e(r):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const r=[];return t.forEach((function(t){r.push(e(t))})),r}}}var __awaiter$2=globalThis&&globalThis.__awaiter||function(t,r,n,i){return new(n||(n=Promise))((function(o,s){function a(t){try{l(i.next(t))}catch(e){s(e)}}function u(t){try{l(i.throw(t))}catch(e){s(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,u)}l((i=i.apply(t,r||[])).next())}))};const logger$2=new Logger$g(version);function checkTopic(e){return null==e?"null":(32!==hexDataLength$3(e)&&logger$2.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function serializeTopics(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map((e=>{if(Array.isArray(e)){const t={};e.forEach((e=>{t[checkTopic(e)]=!0}));const r=Object.keys(t);return r.sort(),r.join("|")}return checkTopic(e)})).join("&")}function deserializeTopics(e){return""===e?[]:e.split(/&/g).map((e=>{if(""===e)return[];const t=e.split("|").map((e=>"null"===e?null:e));return 1===t.length?t[0]:t}))}function getEventTag(e){if("string"==typeof e){if(32===hexDataLength$3(e=e.toLowerCase()))return"tx:"+e;if(-1===e.indexOf(":"))return e}else{if(Array.isArray(e))return"filter:*:"+serializeTopics(e);if(ForkEvent.isForkEvent(e))throw logger$2.warn("not implemented"),new Error("not implemented");if(e&&"object"==typeof e)return"filter:"+(e.address||"*")+":"+serializeTopics(e.topics||[])}throw new Error("invalid event - "+e)}function getTime(){return(new Date).getTime()}function stall(e){return new Promise((t=>{setTimeout(t,e)}))}const PollableEvents=["block","network","pending","poll"];class Event{constructor(e,t,r){defineReadOnly$6(this,"tag",e),defineReadOnly$6(this,"listener",t),defineReadOnly$6(this,"once",r)}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}get filter(){const e=this.tag.split(":");if("filter"!==e[0])return null;const t=e[1],r=deserializeTopics(e[2]),n={};return r.length>0&&(n.topics=r),t&&"*"!==t&&(n.address=t),n}pollable(){return this.tag.indexOf(":")>=0||PollableEvents.indexOf(this.tag)>=0}}const coinInfos={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function bytes32ify(e){return hexZeroPad$5(BigNumber$4.from(e).toHexString(),32)}function base58Encode(e){return Base58.encode(concat$7([e,hexDataSlice$4(sha256$4(sha256$4(e)),0,4)]))}const matchers=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),new RegExp("^(ipfs)://(.*)$","i"),new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function _parseString(e){try{return toUtf8String$2(_parseBytes(e))}catch(error){}return null}function _parseBytes(e){if("0x"===e)return null;const t=BigNumber$4.from(hexDataSlice$4(e,0,32)).toNumber(),r=BigNumber$4.from(hexDataSlice$4(e,t,t+32)).toNumber();return hexDataSlice$4(e,t+32,t+32+r)}class Resolver{constructor(e,t,r,n){defineReadOnly$6(this,"provider",e),defineReadOnly$6(this,"name",r),defineReadOnly$6(this,"address",e.formatter.address(t)),defineReadOnly$6(this,"_resolvedAddress",n)}_fetchBytes(e,t){return __awaiter$2(this,void 0,void 0,(function*(){const r={to:this.address,data:hexConcat$3([e,namehash$1(this.name),t||"0x"])};try{return _parseBytes(yield this.provider.call(r))}catch(error){return error.code,Logger$g.errors.CALL_EXCEPTION,null}}))}_getAddress(e,t){const r=coinInfos[String(e)];if(null==r&&logger$2.throwError(`unsupported coin type: ${e}`,Logger$g.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),"eth"===r.ilk)return this.provider.formatter.address(t);const n=arrayify$e(t);if(null!=r.p2pkh){const e=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(e){const t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return base58Encode(concat$7([[r.p2pkh],"0x"+e[2]]))}}if(null!=r.p2sh){const e=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(e){const t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return base58Encode(concat$7([[r.p2sh],"0x"+e[2]]))}}if(null!=r.prefix){const e=n[1];let t=n[0];if(0===t?20!==e&&32!==e&&(t=-1):t=-1,t>=0&&n.length===2+e&&e>=1&&e<=75){const e=bech32.toWords(n.slice(2));return e.unshift(t),bech32.encode(r.prefix,e)}}return null}getAddress(e){return __awaiter$2(this,void 0,void 0,(function*(){if(null==e&&(e=60),60===e)try{const e={to:this.address,data:"0x3b3b57de"+namehash$1(this.name).substring(2)},t=yield this.provider.call(e);return"0x"===t||t===HashZero$1?null:this.provider.formatter.callAddress(t)}catch(error){if(error.code===Logger$g.errors.CALL_EXCEPTION)return null;throw error}const t=yield this._fetchBytes("0xf1cb7e06",bytes32ify(e));if(null==t||"0x"===t)return null;const r=this._getAddress(e,t);return null==r&&logger$2.throwError("invalid or unsupported coin data",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),r}))}getAvatar(){return __awaiter$2(this,void 0,void 0,(function*(){const e=[];try{const t=yield this.getText("avatar");if(null==t)return null;for(let r=0;r<matchers.length;r++){const n=t.match(matchers[r]);if(null!=n)switch(n[1]){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:`https://gateway.ipfs.io/ipfs/${t.substring(7)}`};case"erc721":case"erc1155":{const r="erc721"===n[1]?"0xc87b56dd":"0x0e89341c";e.push({type:n[1],content:t});const i=this._resolvedAddress||(yield this.getAddress()),o=(n[2]||"").split("/");if(2!==o.length)return null;const s=yield this.provider.formatter.address(o[0]),a=hexZeroPad$5(BigNumber$4.from(o[1]).toHexString(),32);if("erc721"===n[1]){const t=this.provider.formatter.callAddress(yield this.provider.call({to:s,data:hexConcat$3(["0x6352211e",a])}));if(i!==t)return null;e.push({type:"owner",content:t})}else if("erc1155"===n[1]){const t=BigNumber$4.from(yield this.provider.call({to:s,data:hexConcat$3(["0x00fdd58e",hexZeroPad$5(i,32),a])}));if(t.isZero())return null;e.push({type:"balance",content:t.toString()})}const u={to:this.provider.formatter.address(o[0]),data:hexConcat$3([r,a])};let l=_parseString(yield this.provider.call(u));if(null==l)return null;e.push({type:"metadata-url",content:l}),"erc1155"===n[1]&&(l=l.replace("{id}",a.substring(2)));const c=yield fetchJson(l);return c&&"string"==typeof c.image&&c.image.match(/^(https:\/\/|data:)/i)?(e.push({type:"metadata",content:JSON.stringify(c)}),e.push({type:"url",content:c.image}),{linkage:e,url:c.image}):null}}}}catch(error){}return null}))}getContentHash(){return __awaiter$2(this,void 0,void 0,(function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(null==e||"0x"===e)return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e=parseInt(t[3],16);if(t[4].length===2*e)return"ipfs://"+Base58.encode("0x"+t[1])}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);return r&&64===r[1].length?"bzz://"+r[1]:logger$2.throwError("invalid or unsupported content hash data",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})}))}getText(e){return __awaiter$2(this,void 0,void 0,(function*(){let t=toUtf8Bytes$4(e);t=concat$7([bytes32ify(64),bytes32ify(t.length),t]),t.length%32!=0&&(t=concat$7([t,hexZeroPad$5("0x",32-e.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",hexlify$9(t));return null==r||"0x"===r?null:toUtf8String$2(r)}))}}let defaultFormatter=null,nextPollId=1;class BaseProvider extends Provider{constructor(e){if(logger$2.checkNew(new.target,Provider),super(),this._events=[],this._emitted={block:-2},this.formatter=new.target.getFormatter(),defineReadOnly$6(this,"anyNetwork","any"===e),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch((e=>{})),this._ready().catch((e=>{}));else{const t=getStatic$1(new.target,"getNetwork")(e);t?(defineReadOnly$6(this,"_network",t),this.emit("network",t,null)):logger$2.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return __awaiter$2(this,void 0,void 0,(function*(){if(null==this._network){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch(error){}null==e&&(e=yield this.detectNetwork()),e||logger$2.throwError("no network detected",Logger$g.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=e:defineReadOnly$6(this,"_network",e),this.emit("network",e,null))}return this._network}))}get ready(){return poll((()=>this._ready().then((e=>e),(e=>{if(e.code!==Logger$g.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))))}static getFormatter(){return null==defaultFormatter&&(defaultFormatter=new Formatter),defaultFormatter}static getNetwork(e){return getNetwork(null==e?"homestead":e)}_getInternalBlockNumber(e){return __awaiter$2(this,void 0,void 0,(function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const t=this._internalBlockNumber;try{const r=yield t;if(getTime()-r.respTime<=e)return r.blockNumber;break}catch(error){if(this._internalBlockNumber===t)break}}const t=getTime(),r=resolveProperties$1({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((e=>null),(e=>e))}).then((({blockNumber:e,networkError:n})=>{if(n)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),n;const i=getTime();return(e=BigNumber$4.from(e).toNumber())<this._maxInternalBlockNumber&&(e=this._maxInternalBlockNumber),this._maxInternalBlockNumber=e,this._setFastBlockNumber(e),{blockNumber:e,reqTime:t,respTime:i}}));return this._internalBlockNumber=r,r.catch((e=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)})),(yield r).blockNumber}))}poll(){return __awaiter$2(this,void 0,void 0,(function*(){const e=nextPollId++,t=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(error){return void this.emit("error",error)}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r!==this._lastBlockNumber){if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)logger$2.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",logger$2.makeError("network block skew detected",Logger$g.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let e=this._emitted.block+1;e<=r;e++)this.emit("block",e);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach((e=>{if("block"===e)return;const t=this._emitted[e];"pending"!==t&&r-t>12&&delete this._emitted[e]}))),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach((e=>{switch(e.type){case"tx":{const r=e.hash;let n=this.getTransactionReceipt(r).then((e=>e&&null!=e.blockNumber?(this._emitted["t:"+r]=e.blockNumber,this.emit(r,e),null):null)).catch((e=>{this.emit("error",e)}));t.push(n);break}case"filter":{const n=e.filter;n.fromBlock=this._lastBlockNumber+1,n.toBlock=r;const i=this.getLogs(n).then((e=>{0!==e.length&&e.forEach((e=>{this._emitted["b:"+e.blockHash]=e.blockNumber,this._emitted["t:"+e.transactionHash]=e.blockNumber,this.emit(n,e)}))})).catch((e=>{this.emit("error",e)}));t.push(i);break}}})),this._lastBlockNumber=r,Promise.all(t).then((()=>{this.emit("didPoll",e)})).catch((e=>{this.emit("error",e)}))}else this.emit("didPoll",e)}))}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return __awaiter$2(this,void 0,void 0,(function*(){return logger$2.throwError("provider does not support network detection",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})}))}getNetwork(){return __awaiter$2(this,void 0,void 0,(function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield stall(0),this._network;const r=logger$2.makeError("underlying network changed",Logger$g.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",r),r}return e}))}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then((e=>{this._setFastBlockNumber(e)}),(e=>{})),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(e){e&&!this._poller?(this._poller=setInterval((()=>{this.poll()}),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((()=>{this.poll(),this._bootstrapPoll=setTimeout((()=>{this._poller||this.poll(),this._bootstrapPoll=null}),this.pollingInterval)}),0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if("number"!=typeof e||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval((()=>{this.poll()}),this._pollingInterval))}_getFastBlockNumber(){const e=getTime();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then((e=>((null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e),this._fastBlockNumber)))),this._fastBlockNumberPromise}_setFastBlockNumber(e){null!=this._fastBlockNumber&&e<this._fastBlockNumber||(this._fastQueryDate=getTime(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,r){return __awaiter$2(this,void 0,void 0,(function*(){return this._waitForTransaction(e,null==t?1:t,r||0,null)}))}_waitForTransaction(e,t,r,n){return __awaiter$2(this,void 0,void 0,(function*(){const i=yield this.getTransactionReceipt(e);return(i?i.confirmations:0)>=t?i:new Promise(((i,o)=>{const s=[];let a=!1;const u=function(){return!!a||(a=!0,s.forEach((e=>{e()})),!1)},l=e=>{e.confirmations<t||u()||i(e)};if(this.on(e,l),s.push((()=>{this.removeListener(e,l)})),n){let r=n.startBlock,i=null;const l=s=>__awaiter$2(this,void 0,void 0,(function*(){a||(yield stall(1e3),this.getTransactionCount(n.from).then((c=>__awaiter$2(this,void 0,void 0,(function*(){if(!a){if(c<=n.nonce)r=s;else{{const t=yield this.getTransaction(e);if(t&&null!=t.blockNumber)return}for(null==i&&(i=r-3,i<n.startBlock&&(i=n.startBlock));i<=s;){if(a)return;const r=yield this.getBlockWithTransactions(i);for(let i=0;i<r.transactions.length;i++){const s=r.transactions[i];if(s.hash===e)return;if(s.from===n.from&&s.nonce===n.nonce){if(a)return;const r=yield this.waitForTransaction(s.hash,t);if(u())return;let i="replaced";return s.data===n.data&&s.to===n.to&&s.value.eq(n.value)?i="repriced":"0x"===s.data&&s.from===s.to&&s.value.isZero()&&(i="cancelled"),void o(logger$2.makeError("transaction was replaced",Logger$g.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===i||"cancelled"===i,reason:i,replacement:this._wrapTransaction(s),hash:e,receipt:r}))}}i++}}a||this.once("block",l)}}))),(e=>{a||this.once("block",l)})))}));if(a)return;this.once("block",l),s.push((()=>{this.removeListener("block",l)}))}if("number"==typeof r&&r>0){const e=setTimeout((()=>{u()||o(logger$2.makeError("timeout exceeded",Logger$g.errors.TIMEOUT,{timeout:r}))}),r);e.unref&&e.unref(),s.push((()=>{clearTimeout(e)}))}}))}))}getBlockNumber(){return __awaiter$2(this,void 0,void 0,(function*(){return this._getInternalBlockNumber(0)}))}getGasPrice(){return __awaiter$2(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return BigNumber$4.from(e)}catch(error){return logger$2.throwError("bad result from backend",Logger$g.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:error})}}))}getBalance(e,t){return __awaiter$2(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield resolveProperties$1({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getBalance",r);try{return BigNumber$4.from(n)}catch(error){return logger$2.throwError("bad result from backend",Logger$g.errors.SERVER_ERROR,{method:"getBalance",params:r,result:n,error:error})}}))}getTransactionCount(e,t){return __awaiter$2(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield resolveProperties$1({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getTransactionCount",r);try{return BigNumber$4.from(n).toNumber()}catch(error){return logger$2.throwError("bad result from backend",Logger$g.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:n,error:error})}}))}getCode(e,t){return __awaiter$2(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield resolveProperties$1({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getCode",r);try{return hexlify$9(n)}catch(error){return logger$2.throwError("bad result from backend",Logger$g.errors.SERVER_ERROR,{method:"getCode",params:r,result:n,error:error})}}))}getStorageAt(e,t,r){return __awaiter$2(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield resolveProperties$1({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then((e=>hexValue$1(e)))}),i=yield this.perform("getStorageAt",n);try{return hexlify$9(i)}catch(error){return logger$2.throwError("bad result from backend",Logger$g.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:i,error:error})}}))}_wrapTransaction(e,t,r){if(null!=t&&32!==hexDataLength$3(t))throw new Error("invalid response - sendTransaction");const n=e;return null!=t&&e.hash!==t&&logger$2.throwError("Transaction hash mismatch from Provider.sendTransaction.",Logger$g.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),n.wait=(t,n)=>__awaiter$2(this,void 0,void 0,(function*(){let i;null==t&&(t=1),null==n&&(n=0),0!==t&&null!=r&&(i={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});const o=yield this._waitForTransaction(e.hash,t,n,i);return null==o&&0===t?null:(this._emitted["t:"+e.hash]=o.blockNumber,0===o.status&&logger$2.throwError("transaction failed",Logger$g.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:o}),o)})),n}sendTransaction(e){return __awaiter$2(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then((e=>hexlify$9(e))),r=this.formatter.transaction(e);null==r.confirmations&&(r.confirmations=0);const n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const e=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(r,e,n)}catch(error){throw error.transaction=r,error.transactionHash=r.hash,error}}))}_getTransactionRequest(e){return __awaiter$2(this,void 0,void 0,(function*(){const t=yield e,r={};return["from","to"].forEach((e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then((e=>e?this._getAddress(e):null)))})),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then((e=>e?BigNumber$4.from(e):null)))})),["type"].forEach((e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then((e=>null!=e?e:null)))})),t.accessList&&(r.accessList=this.formatter.accessList(t.accessList)),["data"].forEach((e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then((e=>e?hexlify$9(e):null)))})),this.formatter.transactionRequest(yield resolveProperties$1(r))}))}_getFilter(e){return __awaiter$2(this,void 0,void 0,(function*(){e=yield e;const t={};return null!=e.address&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach((r=>{null!=e[r]&&(t[r]=e[r])})),["fromBlock","toBlock"].forEach((r=>{null!=e[r]&&(t[r]=this._getBlockTag(e[r]))})),this.formatter.filter(yield resolveProperties$1(t))}))}call(e,t){return __awaiter$2(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield resolveProperties$1({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("call",r);try{return hexlify$9(n)}catch(error){return logger$2.throwError("bad result from backend",Logger$g.errors.SERVER_ERROR,{method:"call",params:r,result:n,error:error})}}))}estimateGas(e){return __awaiter$2(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield resolveProperties$1({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",t);try{return BigNumber$4.from(r)}catch(error){return logger$2.throwError("bad result from backend",Logger$g.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:r,error:error})}}))}_getAddress(e){return __awaiter$2(this,void 0,void 0,(function*(){"string"!=typeof(e=yield e)&&logger$2.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return null==t&&logger$2.throwError("ENS name not configured",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t}))}_getBlock(e,t){return __awaiter$2(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;let r=-128;const n={includeTransactions:!!t};if(isHexString$j(e,32))n.blockHash=e;else try{n.blockTag=yield this._getBlockTag(e),isHexString$j(n.blockTag)&&(r=parseInt(n.blockTag.substring(2),16))}catch(error){logger$2.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return poll((()=>__awaiter$2(this,void 0,void 0,(function*(){const e=yield this.perform("getBlock",n);if(null==e)return null!=n.blockHash&&null==this._emitted["b:"+n.blockHash]||null!=n.blockTag&&r>this._emitted.block?null:void 0;if(t){let t=null;for(let n=0;n<e.transactions.length;n++){const r=e.transactions[n];if(null==r.blockNumber)r.confirmations=0;else if(null==r.confirmations){null==t&&(t=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let e=t-r.blockNumber+1;e<=0&&(e=1),r.confirmations=e}}const r=this.formatter.blockWithTransactions(e);return r.transactions=r.transactions.map((e=>this._wrapTransaction(e))),r}return this.formatter.block(e)}))),{oncePoll:this})}))}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return __awaiter$2(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return poll((()=>__awaiter$2(this,void 0,void 0,(function*(){const r=yield this.perform("getTransaction",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;const n=this.formatter.transactionResponse(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}return this._wrapTransaction(n)}))),{oncePoll:this})}))}getTransactionReceipt(e){return __awaiter$2(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return poll((()=>__awaiter$2(this,void 0,void 0,(function*(){const r=yield this.perform("getTransactionReceipt",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;if(null==r.blockHash)return;const n=this.formatter.receipt(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}return n}))),{oncePoll:this})}))}getLogs(e){return __awaiter$2(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield resolveProperties$1({filter:this._getFilter(e)}),r=yield this.perform("getLogs",t);return r.forEach((e=>{null==e.removed&&(e.removed=!1)})),Formatter.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)}))}getEtherPrice(){return __awaiter$2(this,void 0,void 0,(function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})}))}_getBlockTag(e){return __awaiter$2(this,void 0,void 0,(function*(){if("number"==typeof(e=yield e)&&e<0){e%1&&logger$2.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)}))}getResolver(e){return __awaiter$2(this,void 0,void 0,(function*(){try{const t=yield this._getResolver(e);return null==t?null:new Resolver(this,t,e)}catch(error){return error.code,Logger$g.errors.CALL_EXCEPTION,null}}))}_getResolver(e){return __awaiter$2(this,void 0,void 0,(function*(){const t=yield this.getNetwork();t.ensAddress||logger$2.throwError("network does not support ENS",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"ENS",network:t.name});const r={to:t.ensAddress,data:"0x0178b8bf"+namehash$1(e).substring(2)};try{return this.formatter.callAddress(yield this.call(r))}catch(error){if(error.code===Logger$g.errors.CALL_EXCEPTION)return null;throw error}}))}resolveName(e){return __awaiter$2(this,void 0,void 0,(function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(error){if(isHexString$j(e))throw error}"string"!=typeof e&&logger$2.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null}))}lookupAddress(e){return __awaiter$2(this,void 0,void 0,(function*(){e=yield e;const t=(e=this.formatter.address(e)).substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(t);if(!r)return null;let n=arrayify$e(yield this.call({to:r,data:"0x691f3431"+namehash$1(t).substring(2)}));if(n.length<32||!BigNumber$4.from(n.slice(0,32)).eq(32))return null;if(n=n.slice(32),n.length<32)return null;const i=BigNumber$4.from(n.slice(0,32)).toNumber();if(n=n.slice(32),i>n.length)return null;const o=toUtf8String$2(n.slice(0,i));return(yield this.resolveName(o))!=e?null:o}))}getAvatar(e){return __awaiter$2(this,void 0,void 0,(function*(){let t=null;if(isHexString$j(e)){const r=this.formatter.address(e),n=r.substring(2).toLowerCase()+".addr.reverse",i=yield this._getResolver(n);if(!i)return null;t=new Resolver(this,i,"_",r)}else if(t=yield this.getResolver(e),!t)return null;const r=yield t.getAvatar();return null==r?null:r.url}))}perform(e,t){return logger$2.throwError(e+" not implemented",Logger$g.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter((e=>e.pollable())).length>0}_stopEvent(e){this.polling=this._events.filter((e=>e.pollable())).length>0}_addEventListener(e,t,r){const n=new Event(getEventTag(e),t,r);return this._events.push(n),this._startEvent(n),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let r=!1,n=[],i=getEventTag(e);return this._events=this._events.filter((e=>e.tag!==i||(setTimeout((()=>{e.listener.apply(this,t)}),0),r=!0,!e.once||(n.push(e),!1)))),n.forEach((e=>{this._stopEvent(e)})),r}listenerCount(e){if(!e)return this._events.length;let t=getEventTag(e);return this._events.filter((e=>e.tag===t)).length}listeners(e){if(null==e)return this._events.map((e=>e.listener));let t=getEventTag(e);return this._events.filter((e=>e.tag===t)).map((e=>e.listener))}off(e,t){if(null==t)return this.removeAllListeners(e);const r=[];let n=!1,i=getEventTag(e);return this._events=this._events.filter((e=>e.tag!==i||e.listener!=t||(!!n||(n=!0,r.push(e),!1)))),r.forEach((e=>{this._stopEvent(e)})),this}removeAllListeners(e){let t=[];if(null==e)t=this._events,this._events=[];else{const r=getEventTag(e);this._events=this._events.filter((e=>e.tag!==r||(t.push(e),!1)))}return t.forEach((e=>{this._stopEvent(e)})),this}}var __awaiter$1=globalThis&&globalThis.__awaiter||function(t,r,n,i){return new(n||(n=Promise))((function(o,s){function a(t){try{l(i.next(t))}catch(e){s(e)}}function u(t){try{l(i.throw(t))}catch(e){s(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,u)}l((i=i.apply(t,r||[])).next())}))};const logger$1=new Logger$g(version),errorGas=["call","estimateGas"];function checkError(e,t,r){if("call"===e&&t.code===Logger$g.errors.SERVER_ERROR){const e=t.error;if(e&&e.message.match("reverted")&&isHexString$j(e.data))return e.data;logger$1.throwError("missing revert data in call exception",Logger$g.errors.CALL_EXCEPTION,{error:t,data:"0x"})}let n=t.message;t.code===Logger$g.errors.SERVER_ERROR&&t.error&&"string"==typeof t.error.message?n=t.error.message:"string"==typeof t.body?n=t.body:"string"==typeof t.responseText&&(n=t.responseText),n=(n||"").toLowerCase();const i=r.transaction||r.signedTransaction;throw n.match(/insufficient funds|base fee exceeds gas limit/)&&logger$1.throwError("insufficient funds for intrinsic transaction cost",Logger$g.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:i}),n.match(/nonce too low/)&&logger$1.throwError("nonce has already been used",Logger$g.errors.NONCE_EXPIRED,{error:t,method:e,transaction:i}),n.match(/replacement transaction underpriced/)&&logger$1.throwError("replacement fee too low",Logger$g.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:i}),n.match(/only replay-protected/)&&logger$1.throwError("legacy pre-eip-155 transactions not supported",Logger$g.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:i}),errorGas.indexOf(e)>=0&&n.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&logger$1.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger$g.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:i}),t}function timer(e){return new Promise((function(t){setTimeout(t,e)}))}function getResult(e){if(e.error){const t=new Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function getLowerCase(e){return e?e.toLowerCase():e}const _constructorGuard={};class JsonRpcSigner extends Signer{constructor(e,t,r){if(logger$1.checkNew(new.target,JsonRpcSigner),super(),e!==_constructorGuard)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");defineReadOnly$6(this,"provider",t),null==r&&(r=0),"string"==typeof r?(defineReadOnly$6(this,"_address",this.provider.formatter.address(r)),defineReadOnly$6(this,"_index",null)):"number"==typeof r?(defineReadOnly$6(this,"_index",r),defineReadOnly$6(this,"_address",null)):logger$1.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return logger$1.throwError("cannot alter JSON-RPC Signer connection",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new UncheckedJsonRpcSigner(_constructorGuard,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((e=>(e.length<=this._index&&logger$1.throwError("unknown account #"+this._index,Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index]))))}sendUncheckedTransaction(e){e=shallowCopy$3(e);const t=this.getAddress().then((e=>(e&&(e=e.toLowerCase()),e)));if(null==e.gasLimit){const r=shallowCopy$3(e);r.from=t,e.gasLimit=this.provider.estimateGas(r)}return null!=e.to&&(e.to=Promise.resolve(e.to).then((e=>__awaiter$1(this,void 0,void 0,(function*(){if(null==e)return null;const t=yield this.provider.resolveName(e);return null==t&&logger$1.throwArgumentError("provided ENS name resolves to null","tx.to",e),t}))))),resolveProperties$1({tx:resolveProperties$1(e),sender:t}).then((({tx:t,sender:r})=>{null!=t.from?t.from.toLowerCase()!==r&&logger$1.throwArgumentError("from address mismatch","transaction",e):t.from=r;const n=this.provider.constructor.hexlifyTransaction(t,{from:!0});return this.provider.send("eth_sendTransaction",[n]).then((e=>e),(e=>checkError("sendTransaction",e,n)))}))}signTransaction(e){return logger$1.throwError("signing transactions is unsupported",Logger$g.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return __awaiter$1(this,void 0,void 0,(function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield poll((()=>__awaiter$1(this,void 0,void 0,(function*(){const e=yield this.provider.getTransaction(r);if(null!==e)return this.provider._wrapTransaction(e,r,t)}))),{oncePoll:this.provider})}catch(error){throw error.transactionHash=r,error}}))}signMessage(e){return __awaiter$1(this,void 0,void 0,(function*(){const t="string"==typeof e?toUtf8Bytes$4(e):e,r=yield this.getAddress();return yield this.provider.send("personal_sign",[hexlify$9(t),r.toLowerCase()])}))}_legacySignMessage(e){return __awaiter$1(this,void 0,void 0,(function*(){const t="string"==typeof e?toUtf8Bytes$4(e):e,r=yield this.getAddress();return yield this.provider.send("eth_sign",[r.toLowerCase(),hexlify$9(t)])}))}_signTypedData(e,t,r){return __awaiter$1(this,void 0,void 0,(function*(){const n=yield TypedDataEncoder$1.resolveNames(e,t,r,(e=>this.provider.resolveName(e))),i=yield this.getAddress();return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(TypedDataEncoder$1.getPayload(n.domain,t,n.value))])}))}unlock(e){return __awaiter$1(this,void 0,void 0,(function*(){const t=this.provider,r=yield this.getAddress();return t.send("personal_unlockAccount",[r.toLowerCase(),e,null])}))}}class UncheckedJsonRpcSigner extends JsonRpcSigner{sendTransaction(e){return this.sendUncheckedTransaction(e).then((e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:t=>this.provider.waitForTransaction(e,t)})))}}const allowedTransactionKeys={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class JsonRpcProvider extends BaseProvider{constructor(e,t){logger$1.checkNew(new.target,JsonRpcProvider);let r=t;null==r&&(r=new Promise(((e,t)=>{setTimeout((()=>{this.detectNetwork().then((t=>{e(t)}),(e=>{t(e)}))}),0)}))),super(r),e||(e=getStatic$1(this.constructor,"defaultUrl")()),defineReadOnly$6(this,"connection","string"==typeof e?Object.freeze({url:e}):Object.freeze(shallowCopy$3(e))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout((()=>{this._cache.detectNetwork=null}),0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return __awaiter$1(this,void 0,void 0,(function*(){yield timer(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch(error){try{e=yield this.send("net_version",[])}catch(error){}}if(null!=e){const t=getStatic$1(this.constructor,"getNetwork");try{return t(BigNumber$4.from(e).toNumber())}catch(error){return logger$1.throwError("could not detect network",Logger$g.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:error})}}return logger$1.throwError("could not detect network",Logger$g.errors.NETWORK_ERROR,{event:"noNetwork"})}))}getSigner(e){return new JsonRpcSigner(_constructorGuard,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then((e=>e.map((e=>this.formatter.address(e)))))}send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:deepCopy$2(r),provider:this});const n=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(n&&this._cache[e])return this._cache[e];const i=fetchJson(this.connection,JSON.stringify(r),getResult).then((e=>(this.emit("debug",{action:"response",request:r,response:e,provider:this}),e)),(e=>{throw this.emit("debug",{action:"response",error:e,request:r,provider:this}),e}));return n&&(this._cache[e]=i,setTimeout((()=>{this._cache[e]=null}),0)),i}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[getLowerCase(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[getLowerCase(t.address),t.blockTag]];case"getCode":return["eth_getCode",[getLowerCase(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[getLowerCase(t.address),t.position,t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[getStatic$1(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[getStatic$1(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=getLowerCase(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return __awaiter$1(this,void 0,void 0,(function*(){if("call"===e||"estimateGas"===e){const e=t.transaction;if(e&&null!=e.type&&BigNumber$4.from(e.type).isZero()&&null==e.maxFeePerGas&&null==e.maxPriorityFeePerGas){const r=yield this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&((t=shallowCopy$3(t)).transaction=shallowCopy$3(e),delete t.transaction.type)}}const r=this.prepareRequest(e,t);null==r&&logger$1.throwError(e+" not implemented",Logger$g.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(error){return checkError(e,error,t)}}))}_startEvent(e){"pending"===e.tag&&this._startPending(),super._startEvent(e)}_startPending(){if(null!=this._pendingFilter)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then((function(r){return function n(){e.send("eth_getFilterChanges",[r]).then((function(r){if(e._pendingFilter!=t)return null;let n=Promise.resolve();return r.forEach((function(t){e._emitted["t:"+t.toLowerCase()]="pending",n=n.then((function(){return e.getTransaction(t).then((function(t){return e.emit("pending",t),null}))}))})),n.then((function(){return timer(1e3)}))})).then((function(){if(e._pendingFilter==t)return setTimeout((function(){n()}),0),null;e.send("eth_uninstallFilter",[r])})).catch((e=>{}))}(),r})).catch((e=>{}))}_stopEvent(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const r=shallowCopy$3(allowedTransactionKeys);if(t)for(const i in t)t[i]&&(r[i]=!0);checkProperties$2(e,r);const n={};return["gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(t){if(null==e[t])return;const r=hexValue$1(e[t]);"gasLimit"===t&&(t="gas"),n[t]=r})),["from","to","data"].forEach((function(t){null!=e[t]&&(n[t]=hexlify$9(e[t]))})),e.accessList&&(n.accessList=accessListify$1(e.accessList)),n}}const logger=new Logger$g(version);let _nextId=1;function buildWeb3LegacyFetcher(e,t){const r="Web3LegacyFetcher";return function(e,n){const i={method:e,params:n,id:_nextId++,jsonrpc:"2.0"};return new Promise(((e,n)=>{this.emit("debug",{action:"request",fetcher:r,request:deepCopy$2(i),provider:this}),t(i,((t,o)=>{if(t)return this.emit("debug",{action:"response",fetcher:r,error:t,request:i,provider:this}),n(t);if(this.emit("debug",{action:"response",fetcher:r,request:i,response:o,provider:this}),o.error){const e=new Error(o.error.message);return e.code=o.error.code,e.data=o.error.data,n(e)}e(o.result)}))}))}}function buildEip1193Fetcher(e){return function(t,r){null==r&&(r=[]);const n={method:t,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:deepCopy$2(n),provider:this}),e.request(n).then((e=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:e,provider:this}),e)),(e=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:e,provider:this}),e}))}}class Web3Provider extends JsonRpcProvider{constructor(e,t){logger.checkNew(new.target,Web3Provider),null==e&&logger.throwArgumentError("missing provider","provider",e);let r=null,n=null,i=null;"function"==typeof e?(r="unknown:",n=e):(r=e.host||e.path||"",!r&&e.isMetaMask&&(r="metamask"),i=e,e.request?(""===r&&(r="eip-1193:"),n=buildEip1193Fetcher(e)):e.sendAsync?n=buildWeb3LegacyFetcher(e,e.sendAsync.bind(e)):e.send?n=buildWeb3LegacyFetcher(e,e.send.bind(e)):logger.throwArgumentError("unsupported provider","provider",e),r||(r="unknown:")),super(r,t),defineReadOnly$6(this,"jsonRpcFetchFunc",n),defineReadOnly$6(this,"provider",i)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}var ChainId;new Logger$g(version),exports("af",ChainId),function(e){e[e.Hardhat=31337]="Hardhat",e[e.Mainnet=1]="Mainnet",e[e.Ropsten=3]="Ropsten",e[e.Rinkeby=4]="Rinkeby",e[e.Goerli=5]="Goerli",e[e.Kovan=42]="Kovan",e[e.xDai=100]="xDai",e[e.Rinkarby=421611]="Rinkarby",e[e.Arbitrum=42161]="Arbitrum",e[e.Polygon=137]="Polygon"}(ChainId||exports("af",ChainId={}));const CHAIN_NAMES={[ChainId.Hardhat]:"Hardhat",[ChainId.Mainnet]:"Mainnet",[ChainId.Ropsten]:"Ropsten",[ChainId.Kovan]:"Kovan",[ChainId.Rinkeby]:"Rinkeby",[ChainId.Goerli]:"Goerli",[ChainId.xDai]:"xDai",[ChainId.Rinkarby]:"Rinkarby",[ChainId.Arbitrum]:"Arbitrum",[ChainId.Polygon]:"Polygon"},NETWORK_DETAILS={[ChainId.Arbitrum]:{chainId:"0x"+ChainId.Arbitrum.toString(16),chainName:"Arbitrum",nativeCurrency:{symbol:"ETH",decimals:18},rpcUrls:["https://arb1.arbitrum.io/rpc"],blockExplorerUrls:["https://arbiscan.io"]},[ChainId.Rinkarby]:{chainId:"0x"+ChainId.Rinkarby.toString(16),chainName:"RinkArby",nativeCurrency:{symbol:"ETH",decimals:18},rpcUrls:["https://rinkeby.arbitrum.io/rpc"],blockExplorerUrls:["https://rinkeby-explorer.arbitrum.io"]},[ChainId.xDai]:{chainId:"0x"+ChainId.xDai.toString(16),chainName:"xDAI",nativeCurrency:{symbol:"xDAI",decimals:18},rpcUrls:["https://rpc.xdaichain.com"],blockExplorerUrls:["https://blockscout.com/poa/xdai"]},[ChainId.Polygon]:{chainId:"0x"+ChainId.Polygon.toString(16),chainName:"Polygon Mainnet",nativeCurrency:{symbol:"MATIC",decimals:18},rpcUrls:["https://polygon-rpc.com/"],blockExplorerUrls:["https://polygonscan.com/"]}};var contractName="ERC20",abi=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}],bytecode="0x608060405234801561001057600080fd5b506105dd806100206000396000f3fe608060405234801561001057600080fd5b50600436106100a5576000357c01000000000000000000000000000000000000000000000000000000009004806370a082311161007857806370a0823114610166578063a457c2d71461018c578063a9059cbb146101b8578063dd62ed3e146101e4576100a5565b8063095ea7b3146100aa57806318160ddd146100ea57806323b872dd14610104578063395093511461013a575b600080fd5b6100d6600480360360408110156100c057600080fd5b50600160a060020a038135169060200135610212565b604080519115158252519081900360200190f35b6100f2610290565b60408051918252519081900360200190f35b6100d66004803603606081101561011a57600080fd5b50600160a060020a03813581169160208101359091169060400135610296565b6100d66004803603604081101561015057600080fd5b50600160a060020a03813516906020013561035f565b6100f26004803603602081101561017c57600080fd5b5035600160a060020a031661040f565b6100d6600480360360408110156101a257600080fd5b50600160a060020a03813516906020013561042a565b6100d6600480360360408110156101ce57600080fd5b50600160a060020a038135169060200135610475565b6100f2600480360360408110156101fa57600080fd5b50600160a060020a038135811691602001351661048b565b6000600160a060020a038316151561022957600080fd5b336000818152600160209081526040808320600160a060020a03881680855290835292819020869055805186815290519293927f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929181900390910190a350600192915050565b60025490565b600160a060020a03831660009081526001602090815260408083203384529091528120546102ca908363ffffffff6104b616565b600160a060020a03851660009081526001602090815260408083203384529091529020556102f98484846104cb565b600160a060020a0384166000818152600160209081526040808320338085529083529281902054815190815290519293927f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929181900390910190a35060019392505050565b6000600160a060020a038316151561037657600080fd5b336000908152600160209081526040808320600160a060020a03871684529091529020546103aa908363ffffffff61059816565b336000818152600160209081526040808320600160a060020a0389168085529083529281902085905580519485525191937f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929081900390910190a350600192915050565b600160a060020a031660009081526020819052604090205490565b6000600160a060020a038316151561044157600080fd5b336000908152600160209081526040808320600160a060020a03871684529091529020546103aa908363ffffffff6104b616565b60006104823384846104cb565b50600192915050565b600160a060020a03918216600090815260016020908152604080832093909416825291909152205490565b6000828211156104c557600080fd5b50900390565b600160a060020a03821615156104e057600080fd5b600160a060020a038316600090815260208190526040902054610509908263ffffffff6104b616565b600160a060020a03808516600090815260208190526040808220939093559084168152205461053e908263ffffffff61059816565b600160a060020a038084166000818152602081815260409182902094909455805185815290519193928716927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92918290030190a3505050565b6000828201838110156105aa57600080fd5b939250505056fea165627a7a72305820722c0187518ce2856a424bdba350d5a263c8f98fcb19cb4cc161372bc3b794c90029",deployedBytecode="0x608060405234801561001057600080fd5b50600436106100a5576000357c01000000000000000000000000000000000000000000000000000000009004806370a082311161007857806370a0823114610166578063a457c2d71461018c578063a9059cbb146101b8578063dd62ed3e146101e4576100a5565b8063095ea7b3146100aa57806318160ddd146100ea57806323b872dd14610104578063395093511461013a575b600080fd5b6100d6600480360360408110156100c057600080fd5b50600160a060020a038135169060200135610212565b604080519115158252519081900360200190f35b6100f2610290565b60408051918252519081900360200190f35b6100d66004803603606081101561011a57600080fd5b50600160a060020a03813581169160208101359091169060400135610296565b6100d66004803603604081101561015057600080fd5b50600160a060020a03813516906020013561035f565b6100f26004803603602081101561017c57600080fd5b5035600160a060020a031661040f565b6100d6600480360360408110156101a257600080fd5b50600160a060020a03813516906020013561042a565b6100d6600480360360408110156101ce57600080fd5b50600160a060020a038135169060200135610475565b6100f2600480360360408110156101fa57600080fd5b50600160a060020a038135811691602001351661048b565b6000600160a060020a038316151561022957600080fd5b336000818152600160209081526040808320600160a060020a03881680855290835292819020869055805186815290519293927f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929181900390910190a350600192915050565b60025490565b600160a060020a03831660009081526001602090815260408083203384529091528120546102ca908363ffffffff6104b616565b600160a060020a03851660009081526001602090815260408083203384529091529020556102f98484846104cb565b600160a060020a0384166000818152600160209081526040808320338085529083529281902054815190815290519293927f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929181900390910190a35060019392505050565b6000600160a060020a038316151561037657600080fd5b336000908152600160209081526040808320600160a060020a03871684529091529020546103aa908363ffffffff61059816565b336000818152600160209081526040808320600160a060020a0389168085529083529281902085905580519485525191937f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929081900390910190a350600192915050565b600160a060020a031660009081526020819052604090205490565b6000600160a060020a038316151561044157600080fd5b336000908152600160209081526040808320600160a060020a03871684529091529020546103aa908363ffffffff6104b616565b60006104823384846104cb565b50600192915050565b600160a060020a03918216600090815260016020908152604080832093909416825291909152205490565b6000828211156104c557600080fd5b50900390565b600160a060020a03821615156104e057600080fd5b600160a060020a038316600090815260208190526040902054610509908263ffffffff6104b616565b600160a060020a03808516600090815260208190526040808220939093559084168152205461053e908263ffffffff61059816565b600160a060020a038084166000818152602081815260409182902094909455805185815290519193928716927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92918290030190a3505050565b6000828201838110156105aa57600080fd5b939250505056fea165627a7a72305820722c0187518ce2856a424bdba350d5a263c8f98fcb19cb4cc161372bc3b794c90029",compiler={name:"solc",version:"0.5.4+commit.9549d8ff.Emscripten.clang"},ERC20={contractName:contractName,abi:abi,bytecode:bytecode,deployedBytecode:deployedBytecode,compiler:compiler};new Interface(ERC20.abi);const boardOpen=ref(!1);function useBoard(){return{boardOpen:boardOpen,open:()=>{boardOpen.value=!0},close:()=>{boardOpen.value=!1}}}
/*! *****************************************************************************
			Copyright (c) Microsoft Corporation.

			Permission to use, copy, modify, and/or distribute this software for any
			purpose with or without fee is hereby granted.

			THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
			REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
			AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
			INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
			LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
			OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
			PERFORMANCE OF THIS SOFTWARE.
			***************************************************************************** */function __awaiter(t,r,n,i){return new(n||(n=Promise))((function(o,s){function a(t){try{l(i.next(t))}catch(e){s(e)}}function u(t){try{l(i.throw(t))}catch(e){s(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,u)}l((i=i.apply(t,r||[])).next())}))}function checkChainId(e){return e in ChainId}function shortenAddress(e){return utils$s.isAddress(e)?e.slice(0,6)+"..."+e.slice(-4):""}function displayChainName(e){return checkChainId(e)?CHAIN_NAMES[e].toLowerCase():(console.error("Error: Invalid chainId"),"network not found")}class Metamask{static check(){return __awaiter(this,void 0,void 0,(function*(){return!!(yield dist$7())}))}static connect(){var e,t;return __awaiter(this,void 0,void 0,(function*(){let r=yield dist$7();return((null===(e=null==r?void 0:r.providers)||void 0===e?void 0:e.length)||0)>1&&(r=(null===(t=null==r?void 0:r.providers)||void 0===t?void 0:t.find((e=>e.isMetaMask)))||r),yield r.request({method:"eth_requestAccounts",params:[{eth_accounts:{}}]}),r}))}static switchChain(e,t){return __awaiter(this,void 0,void 0,(function*(){try{yield e.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x"+t.toString(16)}]})}catch(r){try{if(4902===r.code&&checkChainId(t))return void(yield Metamask.addChain(e,NETWORK_DETAILS[t]))}catch(r){throw new Error(`Failed to add new chain: ${r.message}`)}throw new Error(`Failed to switch chain: ${r.message}`)}}))}static addChain(e,t){return __awaiter(this,void 0,void 0,(function*(){return e.request({method:"wallet_addEthereumChain",params:[t]})}))}}exports("aa",Metamask);class Walletconnect{static check(){return __awaiter(this,void 0,void 0,(function*(){return!!WalletConnectProvider||(console.warn('Walletconnect unavailable: please add below script to enable the feature: <script src="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@1.6.5/dist/umd/index.min.js"><\/script>'),!1)}))}static connect(t,r){return __awaiter(this,void 0,void 0,(function*(){const n=new WalletConnectProvider(Object.assign({infuraId:t},r));return new Promise(((t,r)=>__awaiter(this,void 0,void 0,(function*(){n.wc.on("disconnect",((e,t)=>{n.connected||(console.log(e,t),r(new Error("User rejected the request.")))}));try{yield n.enable()}catch(e){return void r(new Error(e))}t(n)}))))}))}}exports("ab",Walletconnect);class Walletlink{static check(){return __awaiter(this,void 0,void 0,(function*(){return!!WalletLink||(console.warn("WalletLink unavailable"),!1)}))}static connect(t,r){return __awaiter(this,void 0,void 0,(function*(){const n=new WalletLink({appName:r}).makeWeb3Provider(`https://mainnet.infura.io/v3/${t}`);return new Promise(((t,r)=>__awaiter(this,void 0,void 0,(function*(){n.on("disconnect",((e,t)=>{n.connected||(console.log(e,t),r(new Error("User rejected the request.")))}));try{yield n.enable()}catch(e){return void r(new Error(e.message))}t(n)}))))}))}}exports("ac",Walletlink);const isActivated=ref(!1),provider$2=ref(null),signer$1=ref(null),network$1=ref(null),address$1=ref(""),balance$1=ref(BigInt(0)),deactivate=()=>{isActivated.value=!1,provider$2.value=null,signer$1.value=null,network$1.value=null,address$1.value="",balance$1.value=BigInt(0)};function activate(e){return __awaiter(this,void 0,void 0,(function*(){if(!e)throw new Error("Failed to activate: missing provider");const t=new Web3Provider(e),r=t.getSigner(),n=yield t.getNetwork(),i=yield r.getAddress(),o=yield r.getBalance();provider$2.value=markRaw(t),signer$1.value=markRaw(r),network$1.value=n,address$1.value=i,balance$1.value=o.toBigInt(),isActivated.value=!0}))}function useEthers(){const e=computed((()=>{var e;return null===(e=network$1.value)||void 0===e?void 0:e.chainId}));return{isActivated:isActivated,provider:provider$2,signer:signer$1,network:network$1,address:address$1,balance:balance$1,chainId:e,activate:activate,deactivate:deactivate}}const provider$1=ref(null),status=ref("none"),walletName=ref("none"),error=ref(""),onDisconnectCallback=ref(null),onAccountsChangedCallback=ref(null),onChainChangedCallback=ref(null);function useWallet(e={library:"ethers"}){const{activate:t,deactivate:r}=useEthers();function n(){provider$1.value=null,status.value="none",walletName.value="none",error.value="",onDisconnectCallback.value=null,onAccountsChangedCallback.value=null,onChainChangedCallback.value=null,"ethers"===e.library&&r()}const i=computed((()=>"connected"===status.value));return{provider:provider$1,status:status,walletName:walletName,error:error,isConnected:i,connect:function(r,i,o){return __awaiter(this,void 0,void 0,(function*(){let s=null;error.value="";try{switch(status.value="connecting",r){case"metamask":if(s=yield Metamask.connect(),!s.isConnected)throw new Error("metamask is not connected");break;case"walletconnect":if(!i)throw new Error("You should provide infuraAPI for connecting WalletConnect");if(s=yield Walletconnect.connect(i),!s.connected)throw new Error("walletconnect is not connected");break;case"walletlink":if(!i)throw new Error("You should provide infuraAPI for connecting WalletLink");if(!o)throw new Error("You should provide an app name for connecting WalletLink");if(s=yield Walletlink.connect(i,o),!s.isConnected)throw new Error("walletlink is not connected");break;default:throw new Error("Connect Error: wallet name not found")}}catch(a){return n(),void(error.value=`Failed to connect: ${a.message}`)}provider$1.value=markRaw(s),walletName.value=r,status.value="connected",function(){switch(walletName.value){case"metamask":case"walletlink":provider$1.value.on("disconnect",(e=>{n(),onDisconnectCallback.value&&onDisconnectCallback.value(e.message)}));break;case"walletconnect":provider$1.value.on("disconnect",((e,t)=>{n(),onDisconnectCallback.value&&onDisconnectCallback.value(`${e}: ${t}`)}))}}(),function(){switch(walletName.value){case"metamask":provider$1.value.on("accountsChanged",(r=>__awaiter(this,void 0,void 0,(function*(){try{"ethers"===e.library&&(yield t(provider$1.value)),onAccountsChangedCallback.value&&onAccountsChangedCallback.value(r)}catch(a){return void(error.value=`Failed when changing account: ${a.message}`)}}))));break;case"walletconnect":provider$1.value.on("accountsChanged",(r=>__awaiter(this,void 0,void 0,(function*(){try{"ethers"===e.library&&(yield t(provider$1.value)),onAccountsChangedCallback.value&&onAccountsChangedCallback.value(r)}catch(a){return void(error.value=`Failed when changing account: ${a.message}`)}}))));break;case"walletlink":provider$1.value.on("accountsChanged",(r=>__awaiter(this,void 0,void 0,(function*(){try{"ethers"===e.library&&(yield t(provider$1.value)),onAccountsChangedCallback.value&&onAccountsChangedCallback.value(r)}catch(a){return void(error.value=`Failed when changing account: ${a.message}`)}}))))}}(),function(){switch(walletName.value){case"metamask":provider$1.value.on("chainChanged",(r=>__awaiter(this,void 0,void 0,(function*(){if(provider$1.value)try{const n=parseInt(r,16);"ethers"===e.library&&(yield t(provider$1.value)),onChainChangedCallback.value&&onChainChangedCallback.value(n)}catch(a){return void(error.value=`Failed when changing chain: ${a.message}`)}else error.value="Failed when changing chain: missing provider"}))));break;case"walletconnect":provider$1.value.on("chainChanged",(r=>__awaiter(this,void 0,void 0,(function*(){if(provider$1.value)try{"ethers"===e.library&&(yield t(provider$1.value)),onChainChangedCallback.value&&onChainChangedCallback.value(r)}catch(a){return void(error.value=`Failed when changing chain: ${a.message}`)}else error.value="Failed when changing chain: missing provider"}))));break;case"walletlink":provider$1.value.on("chainChanged",(r=>__awaiter(this,void 0,void 0,(function*(){if(provider$1.value)try{const n=parseInt(r,16);"ethers"===e.library&&(yield t(provider$1.value)),onChainChangedCallback.value&&onChainChangedCallback.value(n)}catch(a){return void(error.value=`Failed when changing chain: ${a.message}`)}else error.value="Failed when changing chain: missing provider"}))))}}();try{"ethers"===e.library&&(yield t(provider$1.value))}catch(a){return n(),void(error.value=`Failed to load data: ${a.message}`)}}))},disconnect:function(){return __awaiter(this,void 0,void 0,(function*(){if("walletconnect"===walletName.value)try{yield provider$1.value.disconnect()}catch(e){console.error(e.message)}n(),onDisconnectCallback.value&&onDisconnectCallback.value("Disconnect from Dapp")}))},onDisconnect:function(e){onDisconnectCallback.value=e},onAccountsChanged:function(e){onAccountsChangedCallback.value=e},onChainChanged:function(e){onChainChangedCallback.value=e}}}const{provider:provider,signer:signer,network:network,address:address,balance:balance}=useEthers();function useEthersHooks(){const e=ref(null),t=ref(null),r=ref(null);watch(provider,((n,i)=>{!i&&n?e.value&&e.value({provider:n,signer:signer.value,network:network.value,address:address.value,balance:balance.value}):i&&n?r.value&&r.value({provider:n,signer:signer.value,network:network.value,address:address.value,balance:balance.value}):i&&!n&&t.value&&t.value()}));return{onActivated:t=>e.value=t,onDeactivated:e=>t.value=e,onChanged:e=>r.value=e}}const clickOutside={beforeMount:(e,t)=>{e.clickOutsideEvent=r=>{r.stopPropagation(),r.target===e||e.contains(r.target)||t.value(r)};const r="ontouchstart"in document.documentElement?"touchstart":"click";setTimeout((()=>{document.addEventListener(r,e.clickOutsideEvent)}),0)},unmounted:e=>{const t=e.clickOutsideEvent;delete e.clickOutsideEvent;const r="ontouchstart"in document.documentElement?"touchstart":"click";document.removeEventListener(r,t)}};var script$4=defineComponent({emits:["close"],props:{modalOpen:{type:Boolean,required:!0}},setup:(e,{emit:t})=>(watch((()=>e.modalOpen),(e=>{document.body.style.overflow=e?"hidden":""})),{closeModal:()=>{t("close")}})});pushScopeId("data-v-701ac82d");const _hoisted_1$4={key:0,class:"modal"},_hoisted_2$4={class:"modal-inner"},_hoisted_3$3={class:"modal-content"};function render$4(e,t,r,n,i,o){return openBlock(),createBlock(Teleport,{to:"body"},[createVNode(Transition,{name:"modal-animation"},{default:withCtx((()=>[e.modalOpen?(openBlock(),createElementBlock("div",_hoisted_1$4,[createBaseVNode("div",_hoisted_2$4,[createBaseVNode("div",_hoisted_3$3,[createCommentVNode(" Modal Content "),renderSlot(e.$slots,"default")])])])):createCommentVNode("v-if",!0)])),_:3})])}function styleInject(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===r&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}popScopeId();var css_248z$1="\n.modal[data-v-701ac82d] {\n  position: fixed;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  min-width: 100%;\n  height: 100%;\n  background-color: rgba(107, 114, 128, 0.7);\n  left: 0px;\n  top: 0px;\n  z-index: 50;\n}\n.modal-inner[data-v-701ac82d] {\n  display: flex;\n  background: #ffffff;\n  border-radius: 1rem;\n  box-shadow: rgba(255, 255, 255, 0.1) 0px 1px 1px 0px inset,\n    rgba(50, 50, 93, 0.25) 0px 50px 100px -20px,\n    rgba(0, 0, 0, 0.3) 0px 30px 60px -30px;\n}\n.modal-animation-enter-active[data-v-701ac82d],\n.modal-animation-leave-active[data-v-701ac82d] {\n  transition: opacity 0.3s cubic-bezier(0.52, 0.02, 0.19, 1.02);\n}\n.modal-animation-enter-from[data-v-701ac82d],\n.modal-animation-leave-to[data-v-701ac82d] {\n  opacity: 0;\n}\n";styleInject(css_248z$1),script$4.render=render$4,script$4.__scopeId="data-v-701ac82d",script$4.__file="src/components/Modal.vue";const _hoisted_1$3={height:"246",viewBox:"0 0 400 246",width:"400",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$3=createBaseVNode("path",{d:"m81.9180572 48.3416816c65.2149658-63.8508884 170.9493158-63.8508884 236.1642788 0l7.848727 7.6845565c3.260748 3.1925442 3.260748 8.3686816 0 11.5612272l-26.848927 26.2873374c-1.630375 1.5962734-4.273733 1.5962734-5.904108 0l-10.800779-10.5748639c-45.495589-44.5439756-119.258514-44.5439756-164.754105 0l-11.566741 11.3248068c-1.630376 1.5962721-4.273735 1.5962721-5.904108 0l-26.8489263-26.2873375c-3.2607483-3.1925456-3.2607483-8.3686829 0-11.5612272zm291.6903948 54.3649934 23.895596 23.395862c3.260732 3.19253 3.260751 8.368636.000041 11.561187l-107.746894 105.494845c-3.260726 3.192568-8.547443 3.192604-11.808214.000083-.000013-.000013-.000029-.000029-.000042-.000043l-76.472191-74.872762c-.815187-.798136-2.136867-.798136-2.952053 0-.000006.000005-.00001.00001-.000015.000014l-76.470562 74.872708c-3.260715 3.192576-8.547434 3.19263-11.808215.000116-.000019-.000018-.000039-.000037-.000059-.000058l-107.74989297-105.496247c-3.26074695-3.192544-3.26074695-8.368682 0-11.561226l23.89563947-23.395823c3.260747-3.1925446 8.5474652-3.1925446 11.8082136 0l76.4733029 74.873809c.815188.798136 2.136866.798136 2.952054 0 .000012-.000012.000023-.000023.000035-.000032l76.469471-74.873777c3.260673-3.1926181 8.547392-3.1927378 11.808214-.000267.000046.000045.000091.00009.000135.000135l76.473203 74.873909c.815186.798135 2.136866.798135 2.952053 0l76.471967-74.872433c3.260748-3.1925458 8.547465-3.1925458 11.808213 0z",fill:"#3b99fc"},null,-1),_hoisted_3$2=[_hoisted_2$3];function render$3(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$3,_hoisted_3$2)}const script$3={};script$3.render=render$3,script$3.__file="src/components/logos/WalletConnect.vue";const _hoisted_1$2={height:"355",viewBox:"0 0 397 355",width:"397",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$2=createStaticVNode('<g fill="none" fill-rule="evenodd" transform="translate(-1 -1)"><path d="m114.622644 327.195472 52.004717 13.810198v-18.05949l4.245283-4.249292h29.716982v21.246459 14.872523h-31.839624l-39.268868-16.997169z" fill="#cdbdb2"></path><path d="m199.528305 327.195472 50.943397 13.810198v-18.05949l4.245283-4.249292h29.716981v21.246459 14.872523h-31.839623l-39.268868-16.997169z" fill="#cdbdb2" transform="matrix(-1 0 0 1 483.96227 0)"></path><path d="m170.872644 287.889523-4.245283 35.056657 5.306604-4.249292h55.18868l6.367925 4.249292-4.245284-35.056657-8.490565-5.311615-42.452832 1.062323z" fill="#393939"></path><path d="m142.216984 50.9915022 25.471698 59.4900858 11.674528 173.158643h41.391511l12.735849-173.158643 23.349056-59.4900858z" fill="#f89c35"></path><path d="m30.7783023 181.657226-29.71698153 86.048161 74.29245393-4.249293h47.7594343v-37.181303l-2.122641-76.487253-10.613208 8.498583z" fill="#f89d35"></path><path d="m87.0283032 191.218134 87.0283028 2.124646-9.551886 44.617563-41.391511-10.623229z" fill="#d87c30"></path><path d="m87.0283032 192.280457 36.0849058 33.994334v33.994334z" fill="#ea8d3a"></path><path d="m123.113209 227.337114 42.452831 10.623229 13.79717 45.679888-9.551886 5.311615-46.698115-27.620398z" fill="#f89d35"></path><path d="m123.113209 261.331448-8.490565 65.864024 56.25-39.305949z" fill="#eb8f35"></path><path d="m174.056606 193.34278 5.306604 90.297451-15.919812-46.211049z" fill="#ea8e3a"></path><path d="m74.2924539 262.393771 48.8207551-1.062323-8.490565 65.864024z" fill="#d87c30"></path><path d="m24.4103777 355.878193 90.2122663-28.682721-40.3301901-64.801701-73.23113313 5.311616z" fill="#eb8f35"></path><path d="m167.688682 110.481588-45.636793 38.243627-35.0235858 42.492919 87.0283028 3.186969z" fill="#e8821e"></path><path d="m114.622644 327.195472 56.25-39.305949-4.245283 33.994334v19.121813l-38.207548-7.43626z" fill="#dfcec3"></path><path d="m229.245286 327.195472 55.18868-39.305949-4.245283 33.994334v19.121813l-38.207548-7.43626z" fill="#dfcec3" transform="matrix(-1 0 0 1 513.679252 0)"></path><path d="m132.665096 212.464593-11.674528 24.433427 41.39151-10.623229z" fill="#393939" transform="matrix(-1 0 0 1 283.372646 0)"></path><path d="m23.349057 1.06232296 144.339625 109.41926504-24.410378-59.4900858z" fill="#e88f35"></path><path d="m23.349057 1.06232296-19.10377392 58.42776294 10.61320772 63.7393781-7.42924541 4.249292 10.61320771 9.560906-8.49056617 7.436261 11.67452847 10.623229-7.4292454 6.373938 16.9811323 21.246459 79.5990577-24.433428c38.915096-31.161473 58.018869-47.096318 57.311322-47.804533-.707548-.708215-48.820756-37.1813036-144.339625-109.41926504z" fill="#8e5a30"></path><g transform="matrix(-1 0 0 1 399.056611 0)"><path d="m30.7783023 181.657226-29.71698153 86.048161 74.29245393-4.249293h47.7594343v-37.181303l-2.122641-76.487253-10.613208 8.498583z" fill="#f89d35"></path><path d="m87.0283032 191.218134 87.0283028 2.124646-9.551886 44.617563-41.391511-10.623229z" fill="#d87c30"></path><path d="m87.0283032 192.280457 36.0849058 33.994334v33.994334z" fill="#ea8d3a"></path><path d="m123.113209 227.337114 42.452831 10.623229 13.79717 45.679888-9.551886 5.311615-46.698115-27.620398z" fill="#f89d35"></path><path d="m123.113209 261.331448-8.490565 65.864024 55.18868-38.243626z" fill="#eb8f35"></path><path d="m174.056606 193.34278 5.306604 90.297451-15.919812-46.211049z" fill="#ea8e3a"></path><path d="m74.2924539 262.393771 48.8207551-1.062323-8.490565 65.864024z" fill="#d87c30"></path><path d="m24.4103777 355.878193 90.2122663-28.682721-40.3301901-64.801701-73.23113313 5.311616z" fill="#eb8f35"></path><path d="m167.688682 110.481588-45.636793 38.243627-35.0235858 42.492919 87.0283028 3.186969z" fill="#e8821e"></path><path d="m132.665096 212.464593-11.674528 24.433427 41.39151-10.623229z" fill="#393939" transform="matrix(-1 0 0 1 283.372646 0)"></path><path d="m23.349057 1.06232296 144.339625 109.41926504-24.410378-59.4900858z" fill="#e88f35"></path><path d="m23.349057 1.06232296-19.10377392 58.42776294 10.61320772 63.7393781-7.42924541 4.249292 10.61320771 9.560906-8.49056617 7.436261 11.67452847 10.623229-7.4292454 6.373938 16.9811323 21.246459 79.5990577-24.433428c38.915096-31.161473 58.018869-47.096318 57.311322-47.804533-.707548-.708215-48.820756-37.1813036-144.339625-109.41926504z" fill="#8e5a30"></path></g></g>',1),_hoisted_3$1=[_hoisted_2$2];function render$2(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$2,_hoisted_3$1)}const script$2={};script$2.render=render$2,script$2.__file="src/components/logos/MetaMask.vue";const _hoisted_1$1={viewBox:"0 0 128 128",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},_hoisted_2$1=createStaticVNode('<defs><circle id="a" cx="59.928" cy="59.928" r="59.928"></circle><linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="c"><stop stop-color="#2E66F8" offset="0%"></stop><stop stop-color="#124ADB" offset="100%"></stop></linearGradient></defs><g fill="none" fill-rule="evenodd"><path fill="#FFF" fill-rule="nonzero" d="M0 0h128v128H0z"></path><path fill="#FFF" fill-rule="nonzero" d="M0 0h128v128H0z"></path><path d="M0 0h128v128H0z"></path><path d="M19 64c0 24.853 20.147 45 45 45s45-20.147 45-45-20.147-45-45-45-45 20.147-45 45zm33.5-14.5a3 3 0 0 0-3 3v23a3 3 0 0 0 3 3h23a3 3 0 0 0 3-3v-23a3 3 0 0 0-3-3h-23z" fill="#FFF"></path><g transform="translate(4 4)"><mask id="b" fill="#fff"><use xlink:href="#a"></use></mask><g mask="url(#b)"><path d="M0 0h119.856v119.856H0z"></path><rect fill="url(#c)" fill-rule="nonzero" width="119.856" height="119.856" rx="48"></rect><path d="M24.97 59.928c0 19.307 15.651 34.958 34.958 34.958s34.958-15.651 34.958-34.958S79.235 24.97 59.928 24.97 24.97 40.62 24.97 59.928zm26.024-11.264a2.33 2.33 0 0 0-2.33 2.33v17.868a2.33 2.33 0 0 0 2.33 2.33h17.868a2.33 2.33 0 0 0 2.33-2.33V50.994a2.33 2.33 0 0 0-2.33-2.33H50.994z" fill="#FFF"></path></g></g></g>',2),_hoisted_4$1=[_hoisted_2$1];function render$1(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$1,_hoisted_4$1)}const script$1={};script$1.render=render$1,script$1.__file="src/components/logos/WalletLink.vue";var script=defineComponent({components:{Modal:script$4,MetaMaskIcon:script$2,WalletConnectIcon:script$3,WalletLinkIcon:script$1},inject:["infuraId"],setup(){const{boardOpen:t,close:r}=useBoard(),{connect:n,status:i}=useWallet(),o=ref(!0),s=ref(!0),a=ref(!0),u=inject("infuraId"),l=inject("appName"),c=inject("appUrl");onMounted((()=>__awaiter(this,void 0,void 0,(function*(){(yield Metamask.check())&&(o.value=!1),u&&(yield Walletconnect.check())&&(s.value=!1),u&&l&&(yield Walletlink.check())&&(a.value=!1)}))));const f=ref(!1),h=()=>{f.value=!0},d=()=>{f.value=!1},p=()=>__awaiter(this,void 0,void 0,(function*(){o.value&&c?window.open(`https://metamask.app.link/dapp/${c}`,"_blank"):o.value||(r(),h(),yield n("metamask"))})),g=()=>__awaiter(this,void 0,void 0,(function*(){s.value||(r(),h(),yield n("walletconnect",u))})),m=()=>__awaiter(this,void 0,void 0,(function*(){a.value||(r(),h(),yield n("walletlink",u,l))}));return{status:i,boardOpen:t,metamaskDisabled:o,walletconnectDisabled:s,walletlinkDisabled:a,appUrl:c,close:r,connectWallet:t=>__awaiter(this,void 0,void 0,(function*(){try{switch(t){case"metamask":yield p();break;case"walletconnect":yield g();break;case"walletlink":yield m()}}catch(e){console.error(e.message)}finally{d()}})),loadingOpen:f,openLoading:h,closeLoading:d}}});pushScopeId("data-v-e1ee1034");const _hoisted_1$5={class:"item"},_hoisted_2$5=createBaseVNode("div",null,"MetaMask",-1),_hoisted_3$4=createBaseVNode("div",{class:"line"},null,-1),_hoisted_4={class:"item"},_hoisted_5=createBaseVNode("div",null,"WalletConnect",-1),_hoisted_6=createBaseVNode("div",{class:"line"},null,-1),_hoisted_7={class:"item"},_hoisted_8=createBaseVNode("div",null,"Coinbase Wallet",-1),_hoisted_9={key:0,class:"loading-modal"},_hoisted_10=createBaseVNode("p",null,"Pending Call Request",-1),_hoisted_11=createBaseVNode("p",null,"Approve or reject request using your wallet",-1),_hoisted_12$1=[_hoisted_10,_hoisted_11],_hoisted_13$1={key:1};function render$5(e,t,r,n,i,o){const s=resolveComponent("MetaMaskIcon"),a=resolveComponent("WalletConnectIcon"),u=resolveComponent("WalletLinkIcon"),l=resolveComponent("Modal"),c=resolveDirective("click-outside");return openBlock(),createElementBlock(Fragment$1,null,[createVNode(l,{modalOpen:e.boardOpen,onClose:e.close},{default:withCtx((()=>[withDirectives(createBaseVNode("div",null,[createBaseVNode("div",{onClick:t[0]||(t[0]=t=>e.connectWallet("metamask")),class:normalizeClass(["wallet-item",e.metamaskDisabled&&!e.appUrl?"wallet-disabled":""])},[createBaseVNode("div",_hoisted_1$5,[createVNode(s,{class:"logo"}),_hoisted_2$5])],2),_hoisted_3$4,createBaseVNode("div",{onClick:t[1]||(t[1]=t=>e.connectWallet("walletconnect")),class:normalizeClass(["wallet-item",e.walletconnectDisabled?"wallet-disabled":""])},[createBaseVNode("div",_hoisted_4,[createVNode(a,{class:"logo"}),_hoisted_5])],2),_hoisted_6,createBaseVNode("div",{onClick:t[2]||(t[2]=t=>e.connectWallet("walletlink")),class:normalizeClass(["wallet-item",e.walletlinkDisabled?"wallet-disabled":""])},[createBaseVNode("div",_hoisted_7,[createVNode(u,{class:"logo"}),_hoisted_8])],2)],512),[[c,e.close]])])),_:1},8,["modalOpen","onClose"]),createVNode(l,{modalOpen:e.loadingOpen},{default:withCtx((()=>["connecting"===e.status?(openBlock(),createElementBlock("div",_hoisted_9,_hoisted_12$1)):createCommentVNode("v-if",!0),createCommentVNode(" loading between connected to isActivated "),"connected"===e.status?(openBlock(),createElementBlock("div",_hoisted_13$1)):createCommentVNode("v-if",!0)])),_:1},8,["modalOpen"])],64)}popScopeId();var css_248z="\n.wallet-item[data-v-e1ee1034] {\n  display: flex;\n  justify-content: center;\n  padding-top: 1rem;\n  padding-bottom: 0.6rem;\n  padding-left: 1rem;\n  padding-right: 1rem;\n  margin: 0.5rem;\n  border-radius: 0.75rem;\n  cursor: pointer;\n}\n.wallet-item[data-v-e1ee1034]:hover {\n  background-color: rgba(243, 244, 246, 0.664);\n}\n@media (min-width: 640px) {\n.wallet-item[data-v-e1ee1034] {\n    width: 24rem;\n}\n}\n.item[data-v-e1ee1034] {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.5rem;\n  line-height: 2rem;\n}\n.item[data-v-e1ee1034] > :not([hidden]) ~ :not([hidden]) {\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n}\n.line[data-v-e1ee1034] {\n  color: #e5e7eb;\n  border-width: 0px;\n  border-bottom-width: 1px;\n  border-style: solid;\n}\n.logo[data-v-e1ee1034] {\n  width: 50px;\n  height: 50px;\n}\n.wallet-disabled[data-v-e1ee1034] {\n  opacity: 0.5;\n}\n.wallet-disabled[data-v-e1ee1034]:hover {\n  background-color: rgba(255, 255, 255, 0.623);\n  cursor: default;\n}\n.loading-modal[data-v-e1ee1034] {\n  width: 20rem;\n  padding: 2.5rem;\n  text-align: center;\n}\n.loading-modal > p[data-v-e1ee1034]:first-child {\n  font-size: 1.25rem;\n  line-height: 1.75rem;\n}\n@media (min-width: 640px) {\n.loading-modal[data-v-e1ee1034] {\n    width: auto;\n}\n}\n";styleInject(css_248z),script.render=render$5,script.__scopeId="data-v-e1ee1034",script.__file="src/components/Board.vue";const VueDapp=exports("V",{install(e,t){(null==t?void 0:t.infuraId)||console.warn('For enabling WalletConnect and WalletLink, you should provide infura ID in plugin options like "app.use(VueDapp, { infuraId: "<your-id>" })"'),(null==t?void 0:t.appName)||console.warn('For enabling WalletLink, you should provide the App Name in plugin options like "app.use(VueDapp, { appName: "<your-app-name>" })"'),(null==t?void 0:t.appUrl)||console.warn('For enabling a MetaMask fallback, you should provide the App Url in plugin options like "app.use(VueDapp, { appUrl: "<your-app-url>" })"'),e.directive("click-outside",clickOutside),e.component("vdapp-board",script),e.component("vdapp-modal",script$4),e.provide("infuraId",null==t?void 0:t.infuraId),e.provide("appName",null==t?void 0:t.appName),e.provide("appUrl",null==t?void 0:t.appUrl)}}),hasSymbol="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,PolySymbol=e=>hasSymbol?Symbol(e):"_vr_"+e,matchedRouteKey=PolySymbol("rvlm"),viewDepthKey=PolySymbol("rvd"),routerKey=PolySymbol("r"),routeLocationKey=PolySymbol("rl"),routerViewLocationKey=PolySymbol("rvl"),isBrowser$1="undefined"!=typeof window;
/*!
			  * vue-router v4.0.14
			  * (c) 2022 Eduardo San Martin Morote
			  * @license MIT
			  */function isESModule(e){return e.__esModule||hasSymbol&&"Module"===e[Symbol.toStringTag]}const assign$1=Object.assign;function applyToParams(e,t){const r={};for(const n in t){const i=t[n];r[n]=Array.isArray(i)?i.map(e):e(i)}return r}const noop=()=>{},TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=e=>e.replace(TRAILING_SLASH_RE,"");function parseURL(e,t,r="/"){let n,i={},o="",s="";const a=t.indexOf("?"),u=t.indexOf("#",a>-1?a:0);return a>-1&&(n=t.slice(0,a),o=t.slice(a+1,u>-1?u:t.length),i=e(o)),u>-1&&(n=n||t.slice(0,u),s=t.slice(u,t.length)),n=resolveRelativePath(null!=n?n:t,r),{fullPath:n+(o&&"?")+o+s,path:n,query:i,hash:s}}function stringifyURL(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function stripBase(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function isSameRouteLocation(e,t,r){const n=t.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&isSameRouteRecord(t.matched[n],r.matched[i])&&isSameRouteLocationParams(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function isSameRouteRecord(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function isSameRouteLocationParams(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!isSameRouteLocationParamsValue(e[r],t[r]))return!1;return!0}function isSameRouteLocationParamsValue(e,t){return Array.isArray(e)?isEquivalentArray(e,t):Array.isArray(t)?isEquivalentArray(t,e):e===t}function isEquivalentArray(e,t){return Array.isArray(t)?e.length===t.length&&e.every(((e,r)=>e===t[r])):1===e.length&&e[0]===t}function resolveRelativePath(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),n=e.split("/");let i,o,s=r.length-1;for(i=0;i<n.length;i++)if(o=n[i],1!==s&&"."!==o){if(".."!==o)break;s--}return r.slice(0,s).join("/")+"/"+n.slice(i-(i===n.length?1:0)).join("/")}var NavigationType,NavigationDirection;function normalizeBase(e){if(!e)if(isBrowser$1){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),removeTrailingSlash(e)}!function(e){e.pop="pop",e.push="push"}(NavigationType||(NavigationType={})),function(e){e.back="back",e.forward="forward",e.unknown=""}(NavigationDirection||(NavigationDirection={}));const BEFORE_HASH_RE=/^[^#]+#/;function createHref(e,t){return e.replace(BEFORE_HASH_RE,"#")+t}function getElementPosition(e,t){const r=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-r.left-(t.left||0),top:n.top-r.top-(t.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(e){let t;if("el"in e){const r=e.el,n="string"==typeof r&&r.startsWith("#"),i="string"==typeof r?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;t=getElementPosition(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function getScrollKey(e,t){return(history.state?history.state.position-t:-1)+e}const scrollPositions=new Map;function saveScrollPosition(e,t){scrollPositions.set(e,t)}function getSavedScrollPosition(e){const t=scrollPositions.get(e);return scrollPositions.delete(e),t}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(e,t){const{pathname:r,search:n,hash:i}=t,o=e.indexOf("#");if(o>-1){let t=i.includes(e.slice(o))?e.slice(o).length:1,r=i.slice(t);return"/"!==r[0]&&(r="/"+r),stripBase(r,"")}return stripBase(r,e)+n+i}function useHistoryListeners(e,t,r,n){let i=[],o=[],s=null;const a=({state:o})=>{const a=createCurrentLocation(e,location),u=r.value,l=t.value;let c=0;if(o){if(r.value=a,t.value=o,s&&s===u)return void(s=null);c=l?o.position-l.position:0}else n(a);i.forEach((e=>{e(r.value,u,{delta:c,type:NavigationType.pop,direction:c?c>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})}))};function u(){const{history:e}=window;e.state&&e.replaceState(assign$1({},e.state,{scroll:computeScrollPosition()}),"")}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:function(){s=r.value},listen:function(e){i.push(e);const t=()=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)};return o.push(t),t},destroy:function(){for(const e of o)e();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}}}function buildState(e,t,r,n=!1,i=!1){return{back:e,current:t,forward:r,replaced:n,position:window.history.length,scroll:i?computeScrollPosition():null}}function useHistoryStateNavigation(e){const{history:t,location:r}=window,n={value:createCurrentLocation(e,r)},i={value:t.state};function o(n,o,s){const a=e.indexOf("#"),u=a>-1?(r.host&&document.querySelector("base")?e:e.slice(a))+n:createBaseLocation()+e+n;try{t[s?"replaceState":"pushState"](o,"",u),i.value=o}catch(l){console.error(l),r[s?"replace":"assign"](u)}}return i.value||o(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:n,state:i,push:function(e,r){const s=assign$1({},i.value,t.state,{forward:e,scroll:computeScrollPosition()});o(s.current,s,!0),o(e,assign$1({},buildState(n.value,e,null),{position:s.position+1},r),!1),n.value=e},replace:function(e,r){o(e,assign$1({},t.state,buildState(i.value.back,e,i.value.forward,!0),r,{position:i.value.position}),!0),n.value=e}}}function createWebHistory(e){const t=useHistoryStateNavigation(e=normalizeBase(e)),r=useHistoryListeners(e,t.state,t.location,t.replace);const n=assign$1({location:"",base:e,go:function(e,t=!0){t||r.pauseListeners(),history.go(e)},createHref:createHref.bind(null,e)},t,r);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}function createWebHashHistory(e){return(e=location.host?e||location.pathname+location.search:"").includes("#")||(e+="#"),createWebHistory(e)}function isRouteLocation(e){return"string"==typeof e||e&&"object"==typeof e}function isRouteName(e){return"string"==typeof e||"symbol"==typeof e}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=PolySymbol("nf");var NavigationFailureType;function createRouterError(e,t){return assign$1(new Error,{type:e,[NavigationFailureSymbol]:!0},t)}function isNavigationFailure(e,t){return e instanceof Error&&NavigationFailureSymbol in e&&(null==t||!!(e.type&t))}!function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"}(NavigationFailureType||(NavigationFailureType={}));const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(e,t){const r=assign$1({},BASE_PATH_PARSER_OPTIONS,t),n=[];let i=r.start?"^":"";const o=[];for(const u of e){const e=u.length?[]:[90];r.strict&&!u.length&&(i+="/");for(let t=0;t<u.length;t++){const n=u[t];let s=40+(r.sensitive?.25:0);if(0===n.type)t||(i+="/"),i+=n.value.replace(REGEX_CHARS_RE,"\\$&"),s+=40;else if(1===n.type){const{value:e,repeatable:r,optional:l,regexp:c}=n;o.push({name:e,repeatable:r,optional:l});const f=c||BASE_PARAM_PATTERN;if(f!==BASE_PARAM_PATTERN){s+=10;try{new RegExp(`(${f})`)}catch(a){throw new Error(`Invalid custom RegExp for param "${e}" (${f}): `+a.message)}}let h=r?`((?:${f})(?:/(?:${f}))*)`:`(${f})`;t||(h=l&&u.length<2?`(?:/${h})`:"/"+h),l&&(h+="?"),i+=h,s+=20,l&&(s+=-8),r&&(s+=-20),".*"===f&&(s+=-50)}e.push(s)}n.push(e)}if(r.strict&&r.end){const e=n.length-1;n[e][n[e].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&(i+="(?:/|$)");const s=new RegExp(i,r.sensitive?"":"i");return{re:s,score:n,keys:o,parse:function(e){const t=e.match(s),r={};if(!t)return null;for(let n=1;n<t.length;n++){const e=t[n]||"",i=o[n-1];r[i.name]=e&&i.repeatable?e.split("/"):e}return r},stringify:function(t){let r="",n=!1;for(const i of e){n&&r.endsWith("/")||(r+="/"),n=!1;for(const e of i)if(0===e.type)r+=e.value;else if(1===e.type){const{value:o,repeatable:s,optional:a}=e,u=o in t?t[o]:"";if(Array.isArray(u)&&!s)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const l=Array.isArray(u)?u.join("/"):u;if(!l){if(!a)throw new Error(`Missing required param "${o}"`);i.length<2&&(r.endsWith("/")?r=r.slice(0,-1):n=!0)}r+=l}}return r}}}function compareScoreArray(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=t[r]-e[r];if(n)return n;r++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function comparePathParserScore(e,t){let r=0;const n=e.score,i=t.score;for(;r<n.length&&r<i.length;){const e=compareScoreArray(n[r],i[r]);if(e)return e;r++}return i.length-n.length}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(e){if(!e)return[[]];if("/"===e)return[[ROOT_TOKEN]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${r})/"${l}": ${e}`)}let r=0,n=r;const i=[];let o;function s(){o&&i.push(o),o=[]}let a,u=0,l="",c="";function f(){l&&(0===r?o.push({type:0,value:l}):1===r||2===r||3===r?(o.length>1&&("*"===a||"+"===a)&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:l,regexp:c,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):t("Invalid state to consume buffer"),l="")}function h(){l+=a}for(;u<e.length;)if(a=e[u++],"\\"!==a||2===r)switch(r){case 0:"/"===a?(l&&f(),s()):":"===a?(f(),r=1):h();break;case 4:h(),r=n;break;case 1:"("===a?r=2:VALID_PARAM_RE.test(a)?h():(f(),r=0,"*"!==a&&"?"!==a&&"+"!==a&&u--);break;case 2:")"===a?"\\"==c[c.length-1]?c=c.slice(0,-1)+a:r=3:c+=a;break;case 3:f(),r=0,"*"!==a&&"?"!==a&&"+"!==a&&u--,c="";break;default:t("Unknown state")}else n=r,r=4;return 2===r&&t(`Unfinished custom RegExp for param "${l}"`),f(),s(),i}function createRouteRecordMatcher(e,t,r){const n=tokensToParser(tokenizePath(e.path),r),i=assign$1(n,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function createRouterMatcher(e,t){const r=[],n=new Map;function i(e,r,n){const a=!n,u=normalizeRouteRecord(e);u.aliasOf=n&&n.record;const l=mergeOptions(t,e),c=[u];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)c.push(assign$1({},u,{components:n?n.record.components:u.components,path:e,aliasOf:n?n.record:u}))}let f,h;for(const t of c){const{path:c}=t;if(r&&"/"!==c[0]){const e=r.record.path,n="/"===e[e.length-1]?"":"/";t.path=r.record.path+(c&&n+c)}if(f=createRouteRecordMatcher(t,r,l),n?n.alias.push(f):(h=h||f,h!==f&&h.alias.push(f),a&&e.name&&!isAliasRecord(f)&&o(e.name)),"children"in u){const e=u.children;for(let t=0;t<e.length;t++)i(e[t],f,n&&n.children[t])}n=n||f,s(f)}return h?()=>{o(h)}:noop}function o(e){if(isRouteName(e)){const t=n.get(e);t&&(n.delete(e),r.splice(r.indexOf(t),1),t.children.forEach(o),t.alias.forEach(o))}else{const t=r.indexOf(e);t>-1&&(r.splice(t,1),e.record.name&&n.delete(e.record.name),e.children.forEach(o),e.alias.forEach(o))}}function s(e){let t=0;for(;t<r.length&&comparePathParserScore(e,r[t])>=0&&(e.record.path!==r[t].record.path||!isRecordChildOf(e,r[t]));)t++;r.splice(t,0,e),e.record.name&&!isAliasRecord(e)&&n.set(e.record.name,e)}return t=mergeOptions({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>i(e))),{addRoute:i,resolve:function(e,t){let i,o,s,a={};if("name"in e&&e.name){if(i=n.get(e.name),!i)throw createRouterError(1,{location:e});s=i.record.name,a=assign$1(paramsFromLocation(t.params,i.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params),o=i.stringify(a)}else if("path"in e)o=e.path,i=r.find((e=>e.re.test(o))),i&&(a=i.parse(o),s=i.record.name);else{if(i=t.name?n.get(t.name):r.find((e=>e.re.test(t.path))),!i)throw createRouterError(1,{location:e,currentLocation:t});s=i.record.name,a=assign$1({},t.params,e.params),o=i.stringify(a)}const u=[];let l=i;for(;l;)u.unshift(l.record),l=l.parent;return{name:s,path:o,params:a,matched:u,meta:mergeMetaFields(u)}},removeRoute:o,getRoutes:function(){return r},getRecordMatcher:function(e){return n.get(e)}}}function paramsFromLocation(e,t){const r={};for(const n of t)n in e&&(r[n]=e[n]);return r}function normalizeRouteRecord(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:normalizeRecordProps(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function normalizeRecordProps(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const n in e.components)t[n]="boolean"==typeof r?r:r[n];return t}function isAliasRecord(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function mergeMetaFields(e){return e.reduce(((e,t)=>assign$1(e,t.meta)),{})}function mergeOptions(e,t){const r={};for(const n in e)r[n]=n in t?t[n]:e[n];return r}function isRecordChildOf(e,t){return t.children.some((t=>t===e||isRecordChildOf(e,t)))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(e){return encodeURI(""+e).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(e){return commonEncode(e).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(e){return commonEncode(e).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(e){return encodeQueryValue(e).replace(EQUAL_RE,"%3D")}function encodePath(e){return commonEncode(e).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(e){return null==e?"":encodePath(e).replace(SLASH_RE,"%2F")}function decode(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function parseQuery(e){const t={};if(""===e||"?"===e)return t;const r=("?"===e[0]?e.slice(1):e).split("&");for(let n=0;n<r.length;++n){const e=r[n].replace(PLUS_RE," "),i=e.indexOf("="),o=decode(i<0?e:e.slice(0,i)),s=i<0?null:decode(e.slice(i+1));if(o in t){let e=t[o];Array.isArray(e)||(e=t[o]=[e]),e.push(s)}else t[o]=s}return t}function stringifyQuery(e){let t="";for(let r in e){const n=e[r];if(r=encodeQueryKey(r),null==n){void 0!==n&&(t+=(t.length?"&":"")+r);continue}const i=Array.isArray(n)?n.map((e=>e&&encodeQueryValue(e))):[n&&encodeQueryValue(n)];i.forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+r,null!=e&&(t+="="+e))}))}return t}function normalizeQuery(e){const t={};for(const r in e){const n=e[r];void 0!==n&&(t[r]=Array.isArray(n)?n.map((e=>null==e?null:""+e)):null==n?n:""+n)}return t}function useCallbacks(){let e=[];return{add:function(t){return e.push(t),()=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)}},list:()=>e,reset:function(){e=[]}}}function guardToPromiseFn(e,t,r,n,i){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise(((s,a)=>{const u=e=>{!1===e?a(createRouterError(4,{from:r,to:t})):e instanceof Error?a(e):isRouteLocation(e)?a(createRouterError(2,{from:t,to:e})):(o&&n.enterCallbacks[i]===o&&"function"==typeof e&&o.push(e),s())},l=e.call(n&&n.instances[i],t,r,u);let c=Promise.resolve(l);e.length<3&&(c=c.then(u)),c.catch((e=>a(e)))}))}function extractComponentsGuards(e,t,r,n){const i=[];for(const o of e)for(const e in o.components){let s=o.components[e];if("beforeRouteEnter"===t||o.instances[e])if(isRouteComponent(s)){const a=(s.__vccOpts||s)[t];a&&i.push(guardToPromiseFn(a,r,n,o,e))}else{let a=s();i.push((()=>a.then((i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${o.path}"`));const s=isESModule(i)?i.default:i;o.components[e]=s;const a=(s.__vccOpts||s)[t];return a&&guardToPromiseFn(a,r,n,o,e)()}))))}}return i}function isRouteComponent(e){return"object"==typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}function useLink(e){const t=inject(routerKey),r=inject(routeLocationKey),n=computed((()=>t.resolve(unref(e.to)))),i=computed((()=>{const{matched:e}=n.value,{length:t}=e,i=e[t-1],o=r.matched;if(!i||!o.length)return-1;const s=o.findIndex(isSameRouteRecord.bind(null,i));if(s>-1)return s;const a=getOriginalPath(e[t-2]);return t>1&&getOriginalPath(i)===a&&o[o.length-1].path!==a?o.findIndex(isSameRouteRecord.bind(null,e[t-2])):s})),o=computed((()=>i.value>-1&&includesParams(r.params,n.value.params))),s=computed((()=>i.value>-1&&i.value===r.matched.length-1&&isSameRouteLocationParams(r.params,n.value.params)));return{route:n,href:computed((()=>n.value.href)),isActive:o,isExactActive:s,navigate:function(r={}){return guardEvent(r)?t[unref(e.replace)?"replace":"push"](unref(e.to)).catch(noop):Promise.resolve()}}}const RouterLinkImpl=defineComponent({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:useLink,setup(e,{slots:t}){const r=reactive(useLink(e)),{options:n}=inject(routerKey),i=computed((()=>({[getLinkClass(e.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[getLinkClass(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive})));return()=>{const n=t.default&&t.default(r);return e.custom?n:h$4("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},n)}}}),RouterLink=RouterLinkImpl;function guardEvent(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function includesParams(e,t){for(const r in t){const n=t[r],i=e[r];if("string"==typeof n){if(n!==i)return!1}else if(!Array.isArray(i)||i.length!==n.length||n.some(((e,t)=>e!==i[t])))return!1}return!0}function getOriginalPath(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const getLinkClass=(e,t,r)=>null!=e?e:null!=t?t:r,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:r}){const n=inject(routerViewLocationKey),i=computed((()=>e.route||n.value)),o=inject(viewDepthKey,0),s=computed((()=>i.value.matched[o]));provide(viewDepthKey,o+1),provide(matchedRouteKey,s),provide(routerViewLocationKey,i);const a=ref();return watch((()=>[a.value,s.value,e.name]),(([e,t,r],[n,i,o])=>{t&&(t.instances[r]=e,i&&i!==t&&e&&e===n&&(t.leaveGuards.size||(t.leaveGuards=i.leaveGuards),t.updateGuards.size||(t.updateGuards=i.updateGuards))),!e||!t||i&&isSameRouteRecord(t,i)&&n||(t.enterCallbacks[r]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const n=i.value,o=s.value,u=o&&o.components[e.name],l=e.name;if(!u)return normalizeSlot(r.default,{Component:u,route:n});const c=o.props[e.name],f=c?!0===c?n.params:"function"==typeof c?c(n):c:null,h=h$4(u,assign$1({},f,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(o.instances[l]=null)},ref:a}));return normalizeSlot(r.default,{Component:h,route:n})||h}}});function normalizeSlot(e,t){if(!e)return null;const r=e(t);return 1===r.length?r[0]:r}const RouterView=RouterViewImpl;function createRouter(e){const t=createRouterMatcher(e.routes,e),r=e.parseQuery||parseQuery,n=e.stringifyQuery||stringifyQuery,i=e.history,o=useCallbacks(),s=useCallbacks(),a=useCallbacks(),u=shallowRef(START_LOCATION_NORMALIZED);let l=START_LOCATION_NORMALIZED;isBrowser$1&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=applyToParams.bind(null,(e=>""+e)),f=applyToParams.bind(null,encodeParam),h=applyToParams.bind(null,decode);function d(e,o){if(o=assign$1({},o||u.value),"string"==typeof e){const n=parseURL(r,e,o.path),s=t.resolve({path:n.path},o),a=i.createHref(n.fullPath);return assign$1(n,s,{params:h(s.params),hash:decode(n.hash),redirectedFrom:void 0,href:a})}let s;if("path"in e)s=assign$1({},e,{path:parseURL(r,e.path,o.path).path});else{const t=assign$1({},e.params);for(const e in t)null==t[e]&&delete t[e];s=assign$1({},e,{params:f(e.params)}),o.params=f(o.params)}const a=t.resolve(s,o),l=e.hash||"";a.params=c(h(a.params));const d=stringifyURL(n,assign$1({},e,{hash:encodeHash(l),path:a.path})),p=i.createHref(d);return assign$1({fullPath:d,hash:l,query:n===stringifyQuery?normalizeQuery(e.query):e.query||{}},a,{redirectedFrom:void 0,href:p})}function p(e){return"string"==typeof e?parseURL(r,e,u.value.path):assign$1({},e)}function g(e,t){if(l!==e)return createRouterError(8,{from:t,to:e})}function m(e){return b(e)}function y(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:r}=t;let n="function"==typeof r?r(e):r;return"string"==typeof n&&(n=n.includes("?")||n.includes("#")?n=p(n):{path:n},n.params={}),assign$1({query:e.query,hash:e.hash,params:e.params},n)}}function b(e,t){const r=l=d(e),i=u.value,o=e.state,s=e.force,a=!0===e.replace,c=y(r);if(c)return b(assign$1(p(c),{state:o,force:s,replace:a}),t||r);const f=r;let h;return f.redirectedFrom=t,!s&&isSameRouteLocation(n,i,r)&&(h=createRouterError(16,{to:f,from:i}),k(i,i,!0,!1)),(h?Promise.resolve(h):_(f,i)).catch((e=>isNavigationFailure(e)?isNavigationFailure(e,2)?e:x(e):N(e,f,i))).then((e=>{if(e){if(isNavigationFailure(e,2))return b(assign$1(p(e.to),{state:o,force:s,replace:a}),t||f)}else e=w(f,i,!0,a,o);return $(f,i,e),e}))}function v(e,t){const r=g(e,t);return r?Promise.reject(r):Promise.resolve()}function _(e,t){let r;const[n,i,a]=extractChangingRecords(e,t);r=extractComponentsGuards(n.reverse(),"beforeRouteLeave",e,t);for(const o of n)o.leaveGuards.forEach((n=>{r.push(guardToPromiseFn(n,e,t))}));const u=v.bind(null,e,t);return r.push(u),runGuardQueue(r).then((()=>{r=[];for(const n of o.list())r.push(guardToPromiseFn(n,e,t));return r.push(u),runGuardQueue(r)})).then((()=>{r=extractComponentsGuards(i,"beforeRouteUpdate",e,t);for(const n of i)n.updateGuards.forEach((n=>{r.push(guardToPromiseFn(n,e,t))}));return r.push(u),runGuardQueue(r)})).then((()=>{r=[];for(const n of e.matched)if(n.beforeEnter&&!t.matched.includes(n))if(Array.isArray(n.beforeEnter))for(const i of n.beforeEnter)r.push(guardToPromiseFn(i,e,t));else r.push(guardToPromiseFn(n.beforeEnter,e,t));return r.push(u),runGuardQueue(r)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),r=extractComponentsGuards(a,"beforeRouteEnter",e,t),r.push(u),runGuardQueue(r)))).then((()=>{r=[];for(const n of s.list())r.push(guardToPromiseFn(n,e,t));return r.push(u),runGuardQueue(r)})).catch((e=>isNavigationFailure(e,8)?e:Promise.reject(e)))}function $(e,t,r){for(const n of a.list())n(e,t,r)}function w(e,t,r,n,o){const s=g(e,t);if(s)return s;const a=t===START_LOCATION_NORMALIZED,l=isBrowser$1?history.state:{};r&&(n||a?i.replace(e.fullPath,assign$1({scroll:a&&l&&l.scroll},o)):i.push(e.fullPath,o)),u.value=e,k(e,t,r,a),x()}let E;let S,A=useCallbacks(),R=useCallbacks();function N(e,t,r){x(e);const n=R.list();return n.length?n.forEach((n=>n(e,t,r))):console.error(e),Promise.reject(e)}function x(e){return S||(S=!e,E=i.listen(((e,t,r)=>{const n=d(e),o=y(n);if(o)return void b(assign$1(o,{replace:!0}),n).catch(noop);l=n;const s=u.value;isBrowser$1&&saveScrollPosition(getScrollKey(s.fullPath,r.delta),computeScrollPosition()),_(n,s).catch((e=>isNavigationFailure(e,12)?e:isNavigationFailure(e,2)?(b(e.to,n).then((e=>{isNavigationFailure(e,20)&&!r.delta&&r.type===NavigationType.pop&&i.go(-1,!1)})).catch(noop),Promise.reject()):(r.delta&&i.go(-r.delta,!1),N(e,n,s)))).then((e=>{(e=e||w(n,s,!1))&&(r.delta?i.go(-r.delta,!1):r.type===NavigationType.pop&&isNavigationFailure(e,20)&&i.go(-1,!1)),$(n,s,e)})).catch(noop)})),A.list().forEach((([t,r])=>e?r(e):t())),A.reset()),e}function k(t,r,n,i){const{scrollBehavior:o}=e;if(!isBrowser$1||!o)return Promise.resolve();const s=!n&&getSavedScrollPosition(getScrollKey(t.fullPath,0))||(i||!n)&&history.state&&history.state.scroll||null;return nextTick().then((()=>o(t,r,s))).then((e=>e&&scrollToPosition(e))).catch((e=>N(e,t,r)))}const C=e=>i.go(e);let T;const M=new Set,P={currentRoute:u,addRoute:function(e,r){let n,i;return isRouteName(e)?(n=t.getRecordMatcher(e),i=r):i=e,t.addRoute(i,n)},removeRoute:function(e){const r=t.getRecordMatcher(e);r&&t.removeRoute(r)},hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map((e=>e.record))},resolve:d,options:e,push:m,replace:function(e){return m(assign$1(p(e),{replace:!0}))},go:C,back:()=>C(-1),forward:()=>C(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:R.add,isReady:function(){return S&&u.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise(((e,t)=>{A.add([e,t])}))},install(e){e.component("RouterLink",RouterLink),e.component("RouterView",RouterView),e.config.globalProperties.$router=this,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(u)}),isBrowser$1&&!T&&u.value===START_LOCATION_NORMALIZED&&(T=!0,m(i.location).catch((e=>{})));const t={};for(const n in START_LOCATION_NORMALIZED)t[n]=computed((()=>u.value[n]));e.provide(routerKey,this),e.provide(routeLocationKey,reactive(t)),e.provide(routerViewLocationKey,u);const r=e.unmount;M.add(e),e.unmount=function(){M.delete(e),M.size<1&&(l=START_LOCATION_NORMALIZED,E&&E(),u.value=START_LOCATION_NORMALIZED,T=!1,S=!1),r()}}};return P}function runGuardQueue(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}function extractChangingRecords(e,t){const r=[],n=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const o=t.matched[s];o&&(e.matched.find((e=>isSameRouteRecord(e,o)))?n.push(o):r.push(o));const a=e.matched[s];a&&(t.matched.find((e=>isSameRouteRecord(e,a)))||i.push(a))}return[r,n,i]}function useRouter(){return inject(routerKey)}function useRoute(){return inject(routeLocationKey)}
/*!
			  * @soerenmartius/vue3-clipboard v0.1.2
			  * (c) 2021 Soeren Martius
			  * @license MIT
			  */var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule(e,t,r){return r={path:t,exports:{},require:function(e,t){return commonjsRequire(e,null==t?r.path:t)}},e(r,r.exports),r.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var clipboard=createCommonjsModule((function(e,t){
/*!
			 * clipboard.js v2.0.6
			 * https://clipboardjs.com/
			 * 
			 * Licensed MIT © Zeno Rocha
			 */
var r;r=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var r=e.hasAttribute("readonly");r||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),r||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(e),n.removeAllRanges(),n.addRange(i),t=n.toString()}return t}},function(e,t){function r(){}r.prototype={on:function(e,t,r){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:r}),this},once:function(e,t,r){var n=this;function i(){n.off(e,i),t.apply(r,arguments)}return i._=t,this.on(e,i,r)},emit:function(e){for(var t=[].slice.call(arguments,1),r=((this.e||(this.e={}))[e]||[]).slice(),n=0,i=r.length;n<i;n++)r[n].fn.apply(r[n].ctx,t);return this},off:function(e,t){var r=this.e||(this.e={}),n=r[e],i=[];if(n&&t)for(var o=0,s=n.length;o<s;o++)n[o].fn!==t&&n[o].fn._!==t&&i.push(n[o]);return i.length?r[e]=i:delete r[e],this}},e.exports=r,e.exports.TinyEmitter=r},function(e,t,r){var n=r(3),i=r(4);e.exports=function(e,t,r){if(!e&&!t&&!r)throw new Error("Missing required arguments");if(!n.string(t))throw new TypeError("Second argument must be a String");if(!n.fn(r))throw new TypeError("Third argument must be a Function");if(n.node(e))return function(e,t,r){return e.addEventListener(t,r),{destroy:function(){e.removeEventListener(t,r)}}}(e,t,r);if(n.nodeList(e))return function(e,t,r){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,r)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,r)}))}}}(e,t,r);if(n.string(e))return function(e,t,r){return i(document.body,e,t,r)}(e,t,r);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var r=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===r||"[object HTMLCollection]"===r)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,r){var n=r(5);function i(e,t,r,n,i){var s=o.apply(this,arguments);return e.addEventListener(r,s,i),{destroy:function(){e.removeEventListener(r,s,i)}}}function o(e,t,r,i){return function(r){r.delegateTarget=n(r.target,t),r.delegateTarget&&i.call(e,r)}}e.exports=function(e,t,r,n,o){return"function"==typeof e.addEventListener?i.apply(null,arguments):"function"==typeof r?i.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return i(e,t,r,n,o)})))}},function(e,t){if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},function(e,t,r){r.r(t);var n=r(0),i=r.n(n),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return s(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=r+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=i()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=i()(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":o(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}(),u=a,l=r(1),c=r.n(l),f=r(2),h=r.n(f),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),g=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.resolveOptions(r),n.listenClick(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),p(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===d(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=h()(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new u({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return m("action",e)}},{key:"defaultTarget",value:function(e){var t=m("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return m("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,r=!!document.queryCommandSupported;return t.forEach((function(e){r=r&&!!document.queryCommandSupported(e)})),r}}]),t}(c.a);function m(e,t){var r="data-clipboard-"+e;if(t.hasAttribute(r))return t.getAttribute(r)}t.default=g}]).default},e.exports=r()})),ClipboardJS=getDefaultExportFromCjs(clipboard);const defaultConfig={autoSetContainer:!1,appendToBody:!0},VueClipboard=exports("f",{config:e=>{const{autoSetContainer:t,appendToBody:r}=e;defaultConfig.autoSetContainer=t||!1,defaultConfig.appendToBody=r||!0},install:e=>{e.config.globalProperties.$vclipboard=toClipboard,e.directive("clipboard",{beforeMount(e,t){if("success"===t.arg)e._vClipboard_success=t.value;else if("error"===t.arg)e._vClipboard_error=t.value;else{const r=new ClipboardJS(e,{text:()=>t.value,action:()=>"cut"===t.arg?"cut":"copy",container:defaultConfig.autoSetContainer?e:void 0});r.on("success",(t=>{const r=e._vClipboard_success;r&&r(t)})),r.on("error",(t=>{const r=e._vClipboard_error;r&&r(t)})),e._vClipboard=r}},updated(e,t){"success"===t.arg?e._vClipboard_success=t.value:"error"===t.arg?e._vClipboard_error=t.value:(e._vClipboard.text=()=>t.value,e._vClipboard.action=()=>"cut"===t.arg?"cut":"copy")},unmounted(e,t){"success"===t.arg?delete e._vClipboard_success:"error"===t.arg?delete e._vClipboard_error:(e._vClipboard.destroy(),delete e._vClipboard)}})},toClipboard:(e,t)=>toClipboard(e,t)}),toClipboard=(e,t="copy")=>new Promise(((r,n)=>{const i=document.createElement("button"),o=new ClipboardJS(i,{text:()=>e,action:()=>t});o.on("success",(e=>{o.destroy(),r(e)})),o.on("error",(e=>{o.destroy(),n(e)})),defaultConfig.appendToBody&&document.body.appendChild(i),i.click(),defaultConfig.appendToBody&&document.body.removeChild(i)}));var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))__hasOwnProp.call(t,r)&&__defNormalProp(e,r,t[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(t))__propIsEnum.call(t,r)&&__defNormalProp(e,r,t[r]);return e},isFunction=e=>"function"==typeof e,isString=e=>"string"==typeof e,isNonEmptyString=e=>isString(e)&&e.trim().length>0,isNumber=e=>"number"==typeof e,isUndefined=e=>void 0===e,isObject=e=>"object"==typeof e&&null!==e,isJSX=e=>hasProp(e,"tag")&&isNonEmptyString(e.tag),isTouchEvent=e=>window.TouchEvent&&e instanceof TouchEvent,isToastComponent=e=>hasProp(e,"component")&&isToastContent(e.component),isVueComponent=e=>isFunction(e)||isObject(e),isToastContent=e=>!isUndefined(e)&&(isString(e)||isVueComponent(e)||isToastComponent(e)),isDOMRect=e=>isObject(e)&&["height","width","right","left","top","bottom"].every((t=>isNumber(e[t]))),hasProp=(e,t)=>(isObject(e)||isFunction(e))&&t in e,getId=(e=>()=>e++)(0);function getX(e){return isTouchEvent(e)?e.targetTouches[0].clientX:e.clientX}function getY(e){return isTouchEvent(e)?e.targetTouches[0].clientY:e.clientY}var removeElement=e=>{isUndefined(e.remove)?e.parentNode&&e.parentNode.removeChild(e):e.remove()},getVueComponentFromObj=e=>isToastComponent(e)?getVueComponentFromObj(e.component):isJSX(e)?defineComponent({render:()=>e}):"string"==typeof e?e:toRaw(unref(e)),normalizeToastComponent=e=>{if("string"==typeof e)return e;const t=hasProp(e,"props")&&isObject(e.props)?e.props:{},r=hasProp(e,"listeners")&&isObject(e.listeners)?e.listeners:{};return{component:getVueComponentFromObj(e),props:t,listeners:r}},isBrowser=()=>"undefined"!=typeof window,EventBus=class{constructor(){this.allHandlers={}}getHandlers(e){return this.allHandlers[e]||[]}on(e,t){const r=this.getHandlers(e);r.push(t),this.allHandlers[e]=r}off(e,t){const r=this.getHandlers(e);r.splice(r.indexOf(t)>>>0,1)}emit(e,t){this.getHandlers(e).forEach((e=>e(t)))}},isEventBusInterface=e=>["on","off","emit"].every((t=>hasProp(e,t)&&isFunction(e[t]))),TYPE,TYPE2,POSITION,POSITION2,EVENTS,EVENTS2;TYPE2=TYPE||(TYPE={}),TYPE2.SUCCESS="success",TYPE2.ERROR="error",TYPE2.WARNING="warning",TYPE2.INFO="info",TYPE2.DEFAULT="default",POSITION2=POSITION||(POSITION={}),POSITION2.TOP_LEFT="top-left",POSITION2.TOP_CENTER="top-center",POSITION2.TOP_RIGHT="top-right",POSITION2.BOTTOM_LEFT="bottom-left",POSITION2.BOTTOM_CENTER="bottom-center",POSITION2.BOTTOM_RIGHT="bottom-right",EVENTS2=EVENTS||(EVENTS={}),EVENTS2.ADD="add",EVENTS2.DISMISS="dismiss",EVENTS2.UPDATE="update",EVENTS2.CLEAR="clear",EVENTS2.UPDATE_DEFAULTS="update_defaults";var VT_NAMESPACE="Vue-Toastification",COMMON={type:{type:String,default:TYPE.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},ICON={type:COMMON.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},CLOSE_BUTTON={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:COMMON.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},PROGRESS_BAR={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},TRANSITION={transition:{type:[Object,String],default:`${VT_NAMESPACE}__bounce`}},CORE_TOAST={position:{type:String,default:POSITION.TOP_RIGHT},draggable:COMMON.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:COMMON.trueBoolean,pauseOnHover:COMMON.trueBoolean,closeOnClick:COMMON.trueBoolean,timeout:PROGRESS_BAR.timeout,hideProgressBar:PROGRESS_BAR.hideProgressBar,toastClassName:COMMON.classNames,bodyClassName:COMMON.classNames,icon:ICON.customIcon,closeButton:CLOSE_BUTTON.component,closeButtonClassName:CLOSE_BUTTON.classNames,showCloseButtonOnHover:CLOSE_BUTTON.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new EventBus}},TOAST={id:{type:[String,Number],required:!0,default:0},type:COMMON.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},CONTAINER={container:{type:[Object,Function],default:()=>document.body},newestOnTop:COMMON.trueBoolean,maxToasts:{type:Number,default:20},transition:TRANSITION.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:e=>e},filterToasts:{type:Function,default:e=>e},containerClassName:COMMON.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},propValidators_default={CORE_TOAST:CORE_TOAST,TOAST:TOAST,CONTAINER:CONTAINER,PROGRESS_BAR:PROGRESS_BAR,ICON:ICON,TRANSITION:TRANSITION,CLOSE_BUTTON:CLOSE_BUTTON},VtProgressBar_default=defineComponent({name:"VtProgressBar",props:propValidators_default.PROGRESS_BAR,data:()=>({hasClass:!0}),computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${VT_NAMESPACE}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick((()=>this.hasClass=!0))}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function render(e,t){return openBlock(),createElementBlock("div",{style:normalizeStyle(e.style),class:normalizeClass(e.cpClass)},null,6)}VtProgressBar_default.render=render;var VtProgressBar_default2=VtProgressBar_default,VtCloseButton_default=defineComponent({name:"VtCloseButton",props:propValidators_default.CLOSE_BUTTON,computed:{buttonComponent(){return!1!==this.component?getVueComponentFromObj(this.component):"button"},classes(){const e=[`${VT_NAMESPACE}__close-button`];return this.showOnHover&&e.push("show-on-hover"),e.concat(this.classNames)}}}),_hoisted_1=createTextVNode(" × ");function render2(e,t){return openBlock(),createBlock(resolveDynamicComponent(e.buttonComponent),mergeProps({"aria-label":e.ariaLabel,class:e.classes},e.$attrs),{default:withCtx((()=>[_hoisted_1])),_:1},16,["aria-label","class"])}VtCloseButton_default.render=render2;var VtCloseButton_default2=VtCloseButton_default,VtSuccessIcon_default={},_hoisted_12={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},_hoisted_2=createBaseVNode("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),_hoisted_3=[_hoisted_2];function render3(e,t){return openBlock(),createElementBlock("svg",_hoisted_12,_hoisted_3)}VtSuccessIcon_default.render=render3;var VtSuccessIcon_default2=VtSuccessIcon_default,VtInfoIcon_default={},_hoisted_13={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},_hoisted_22=createBaseVNode("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),_hoisted_32=[_hoisted_22];function render4(e,t){return openBlock(),createElementBlock("svg",_hoisted_13,_hoisted_32)}VtInfoIcon_default.render=render4;var VtInfoIcon_default2=VtInfoIcon_default,VtWarningIcon_default={},_hoisted_14={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},_hoisted_23=createBaseVNode("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),_hoisted_33=[_hoisted_23];function render5(e,t){return openBlock(),createElementBlock("svg",_hoisted_14,_hoisted_33)}VtWarningIcon_default.render=render5;var VtWarningIcon_default2=VtWarningIcon_default,VtErrorIcon_default={},_hoisted_15={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},_hoisted_24=createBaseVNode("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),_hoisted_34=[_hoisted_24];function render6(e,t){return openBlock(),createElementBlock("svg",_hoisted_15,_hoisted_34)}VtErrorIcon_default.render=render6;var VtErrorIcon_default2=VtErrorIcon_default,VtIcon_default=defineComponent({name:"VtIcon",props:propValidators_default.ICON,computed:{customIconChildren(){return hasProp(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return isString(this.customIcon)?this.trimValue(this.customIcon):hasProp(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return hasProp(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:isToastContent(this.customIcon)?getVueComponentFromObj(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[TYPE.DEFAULT]:VtInfoIcon_default2,[TYPE.INFO]:VtInfoIcon_default2,[TYPE.SUCCESS]:VtSuccessIcon_default2,[TYPE.ERROR]:VtErrorIcon_default2,[TYPE.WARNING]:VtWarningIcon_default2}[this.type]},iconClasses(){const e=[`${VT_NAMESPACE}__icon`];return this.hasCustomIcon?e.concat(this.customIconClass):e}},methods:{trimValue:(e,t="")=>isNonEmptyString(e)?e.trim():t}});function render7(e,t){return openBlock(),createBlock(resolveDynamicComponent(e.component),{class:normalizeClass(e.iconClasses)},{default:withCtx((()=>[createTextVNode(toDisplayString(e.customIconChildren),1)])),_:1},8,["class"])}VtIcon_default.render=render7;var VtIcon_default2=VtIcon_default,VtToast_default=defineComponent({name:"VtToast",components:{ProgressBar:VtProgressBar_default2,CloseButton:VtCloseButton_default2,Icon:VtIcon_default2},inheritAttrs:!1,props:Object.assign({},propValidators_default.CORE_TOAST,propValidators_default.TOAST),data:()=>({isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}),computed:{classes(){const e=[`${VT_NAMESPACE}__toast`,`${VT_NAMESPACE}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&e.push("disable-transition"),this.rtl&&e.push(`${VT_NAMESPACE}__toast--rtl`),e},bodyClasses(){return[`${VT_NAMESPACE}__toast-${isString(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return isDOMRect(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:hasProp,getVueComponentFromObj:getVueComponentFromObj,closeToast(){this.eventBus.emit(EVENTS.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(this.beingDragged&&this.dragStart!==this.dragPos.x||this.closeToast())},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const e=this.$el;e.addEventListener("touchstart",this.onDragStart,{passive:!0}),e.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const e=this.$el;e.removeEventListener("touchstart",this.onDragStart),e.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(e){this.beingDragged=!0,this.dragPos={x:getX(e),y:getY(e)},this.dragStart=getX(e),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(e){this.beingDragged&&(e.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:getX(e),y:getY(e)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick((()=>this.closeToast()))):setTimeout((()=>{this.beingDragged=!1,isDOMRect(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0})))}}}),_hoisted_16=["role"];function render8(e,t){const r=resolveComponent("Icon"),n=resolveComponent("CloseButton"),i=resolveComponent("ProgressBar");return openBlock(),createElementBlock("div",{class:normalizeClass(e.classes),style:normalizeStyle(e.draggableStyle),onClick:t[0]||(t[0]=(...t)=>e.clickHandler&&e.clickHandler(...t)),onMouseenter:t[1]||(t[1]=(...t)=>e.hoverPause&&e.hoverPause(...t)),onMouseleave:t[2]||(t[2]=(...t)=>e.hoverPlay&&e.hoverPlay(...t))},[e.icon?(openBlock(),createBlock(r,{key:0,"custom-icon":e.icon,type:e.type},null,8,["custom-icon","type"])):createCommentVNode("v-if",!0),createBaseVNode("div",{role:e.accessibility.toastRole||"alert",class:normalizeClass(e.bodyClasses)},["string"==typeof e.content?(openBlock(),createElementBlock(Fragment$1,{key:0},[createTextVNode(toDisplayString(e.content),1)],2112)):(openBlock(),createBlock(resolveDynamicComponent(e.getVueComponentFromObj(e.content)),mergeProps({key:1,"toast-id":e.id},e.hasProp(e.content,"props")?e.content.props:{},toHandlers(e.hasProp(e.content,"listeners")?e.content.listeners:{}),{onCloseToast:e.closeToast}),null,16,["toast-id","onCloseToast"]))],10,_hoisted_16),e.closeButton?(openBlock(),createBlock(n,{key:1,component:e.closeButton,"class-names":e.closeButtonClassName,"show-on-hover":e.showCloseButtonOnHover,"aria-label":e.accessibility.closeButtonLabel,onClick:withModifiers(e.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):createCommentVNode("v-if",!0),e.timeout?(openBlock(),createBlock(i,{key:2,"is-running":e.isRunning,"hide-progress-bar":e.hideProgressBar,timeout:e.timeout,onCloseToast:e.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):createCommentVNode("v-if",!0)],38)}VtToast_default.render=render8;var VtToast_default2=VtToast_default,VtTransition_default=defineComponent({name:"VtTransition",props:propValidators_default.TRANSITION,emits:["leave"],methods:{hasProp:hasProp,leave(e){e instanceof HTMLElement&&(e.style.left=e.offsetLeft+"px",e.style.top=e.offsetTop+"px",e.style.width=getComputedStyle(e).width,e.style.position="absolute")}}});function render9(e,t){return openBlock(),createBlock(TransitionGroup,{tag:"div","enter-active-class":e.transition.enter?e.transition.enter:`${e.transition}-enter-active`,"move-class":e.transition.move?e.transition.move:`${e.transition}-move`,"leave-active-class":e.transition.leave?e.transition.leave:`${e.transition}-leave-active`,onLeave:e.leave},{default:withCtx((()=>[renderSlot(e.$slots,"default")])),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}VtTransition_default.render=render9;var VtTransition_default2=VtTransition_default,VtToastContainer_default=defineComponent({name:"VueToastification",devtools:{hide:!0},components:{Toast:VtToast_default2,VtTransition:VtTransition_default2},props:Object.assign({},propValidators_default.CORE_TOAST,propValidators_default.CONTAINER,propValidators_default.TRANSITION),data:()=>({count:0,positions:Object.values(POSITION),toasts:{},defaults:{}}),computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const e=this.eventBus;e.on(EVENTS.ADD,this.addToast),e.on(EVENTS.CLEAR,this.clearToasts),e.on(EVENTS.DISMISS,this.dismissToast),e.on(EVENTS.UPDATE,this.updateToast),e.on(EVENTS.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(e){isFunction(e)&&(e=await e()),removeElement(this.$el),e.appendChild(this.$el)},setToast(e){isUndefined(e.id)||(this.toasts[e.id]=e)},addToast(e){e.content=normalizeToastComponent(e.content);const t=Object.assign({},this.defaults,e.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[e.type],e),r=this.defaults.filterBeforeCreate(t,this.toastArray);r&&this.setToast(r)},dismissToast(e){const t=this.toasts[e];isUndefined(t)||isUndefined(t.onClose)||t.onClose(),delete this.toasts[e]},clearToasts(){Object.keys(this.toasts).forEach((e=>{this.dismissToast(e)}))},getPositionToasts(e){const t=this.filteredToasts.filter((t=>t.position===e)).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?t.reverse():t},updateDefaults(e){isUndefined(e.container)||this.setup(e.container),this.defaults=Object.assign({},this.defaults,e)},updateToast({id:e,options:t,create:r}){this.toasts[e]?(t.timeout&&t.timeout===this.toasts[e].timeout&&t.timeout++,this.setToast(Object.assign({},this.toasts[e],t))):r&&this.addToast(Object.assign({},{id:e},t))},getClasses(e){return[`${VT_NAMESPACE}__container`,e].concat(this.defaults.containerClassName)}}});function render10(e,t){const r=resolveComponent("Toast"),n=resolveComponent("VtTransition");return openBlock(),createElementBlock("div",null,[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(e.positions,(t=>(openBlock(),createElementBlock("div",{key:t},[createVNode(n,{transition:e.defaults.transition,class:normalizeClass(e.getClasses(t))},{default:withCtx((()=>[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(e.getPositionToasts(t),(e=>(openBlock(),createBlock(r,mergeProps({key:e.id},e),null,16)))),128))])),_:2},1032,["transition","class"])])))),128))])}VtToastContainer_default.render=render10;var VtToastContainer_default2=VtToastContainer_default,buildInterface=(e={},t=!0)=>{const r=e.eventBus=e.eventBus||new EventBus;t&&nextTick((()=>{const t=createApp(VtToastContainer_default2,__spreadValues({},e)),r=t.mount(document.createElement("div")),n=e.onMounted;if(isUndefined(n)||n(r,t),e.shareAppContext){const r=e.shareAppContext;!0===r?console.warn(`[${VT_NAMESPACE}] App to share context with was not provided.`):(t._context.components=r._context.components,t._context.directives=r._context.directives,t._context.mixins=r._context.mixins,t._context.provides=r._context.provides,t.config.globalProperties=r.config.globalProperties)}}));const n=(e,t)=>{const n=Object.assign({},{id:getId(),type:TYPE.DEFAULT},t,{content:e});return r.emit(EVENTS.ADD,n),n.id};return n.clear=()=>r.emit(EVENTS.CLEAR,void 0),n.updateDefaults=e=>{r.emit(EVENTS.UPDATE_DEFAULTS,e)},n.dismiss=e=>{r.emit(EVENTS.DISMISS,e)},n.update=function(e,{content:t,options:n},i=!1){const o=Object.assign({},n,{content:t});r.emit(EVENTS.UPDATE,{id:e,options:o,create:i})},n.success=(e,t)=>n(e,Object.assign({},t,{type:TYPE.SUCCESS})),n.info=(e,t)=>n(e,Object.assign({},t,{type:TYPE.INFO})),n.error=(e,t)=>n(e,Object.assign({},t,{type:TYPE.ERROR})),n.warning=(e,t)=>n(e,Object.assign({},t,{type:TYPE.WARNING})),n},createMockToastInterface=()=>{const e=()=>console.warn(`[${VT_NAMESPACE}] This plugin does not support SSR!`);return new Proxy(e,{get:()=>e})};function createToastInterface(e){return isBrowser()?isEventBusInterface(e)?buildInterface({eventBus:e},!1):buildInterface(e,!0):createMockToastInterface()}var toastInjectionKey=Symbol("VueToastification"),globalEventBus=new EventBus,VueToastificationPlugin=(e,t)=>{!0===(null==t?void 0:t.shareAppContext)&&(t.shareAppContext=e);const r=createToastInterface(__spreadValues({eventBus:globalEventBus},t));e.provide(toastInjectionKey,r)},useToast=exports("ae",(e=>{if(e)return createToastInterface(e);const t=getCurrentInstance()?inject(toastInjectionKey,void 0):void 0;return t||createToastInterface(globalEventBus)})),src_default=exports("s",VueToastificationPlugin);function toInteger(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function requiredArgs(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function toDate(e){requiredArgs(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function addDays(e,t){requiredArgs(2,arguments);var r=toDate(e),n=toInteger(t);return isNaN(n)?new Date(NaN):n?(r.setDate(r.getDate()+n),r):r}function addMonths(e,t){requiredArgs(2,arguments);var r=toDate(e),n=toInteger(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var i=r.getDate(),o=new Date(r.getTime());o.setMonth(r.getMonth()+n+1,0);var s=o.getDate();return i>=s?o:(r.setFullYear(o.getFullYear(),o.getMonth(),i),r)}function add(e,t){if(requiredArgs(2,arguments),!t||"object"!=typeof t)return new Date(NaN);var r=t.years?toInteger(t.years):0,n=t.months?toInteger(t.months):0,i=t.weeks?toInteger(t.weeks):0,o=t.days?toInteger(t.days):0,s=t.hours?toInteger(t.hours):0,a=t.minutes?toInteger(t.minutes):0,u=t.seconds?toInteger(t.seconds):0,l=toDate(e),c=n||r?addMonths(l,n+12*r):l,f=o||i?addDays(c,o+7*i):c,h=a+60*s,d=u+60*h,p=1e3*d,g=new Date(f.getTime()+p);return g}function addMilliseconds(e,t){requiredArgs(2,arguments);var r=toDate(e).getTime(),n=toInteger(t);return new Date(r+n)}function startOfWeek(e,t){requiredArgs(1,arguments);var r=t||{},n=r.locale,i=n&&n.options&&n.options.weekStartsOn,o=null==i?0:toInteger(i),s=null==r.weekStartsOn?o:toInteger(r.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var a=toDate(e),u=a.getDay(),l=(u<s?7:0)+u-s;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function startOfISOWeek(e){return requiredArgs(1,arguments),startOfWeek(e,{weekStartsOn:1})}function getISOWeekYear(e){requiredArgs(1,arguments);var t=toDate(e),r=t.getFullYear(),n=new Date(0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);var i=startOfISOWeek(n),o=new Date(0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);var s=startOfISOWeek(o);return t.getTime()>=i.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function startOfISOWeekYear(e){requiredArgs(1,arguments);var t=getISOWeekYear(e),r=new Date(0);r.setFullYear(t,0,4),r.setHours(0,0,0,0);var n=startOfISOWeek(r);return n}function getTimezoneOffsetInMilliseconds(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function startOfDay(e){requiredArgs(1,arguments);var t=toDate(e);return t.setHours(0,0,0,0),t}var MILLISECONDS_IN_DAY$1=864e5;function differenceInCalendarDays(e,t){requiredArgs(2,arguments);var r=startOfDay(e),n=startOfDay(t),i=r.getTime()-getTimezoneOffsetInMilliseconds(r),o=n.getTime()-getTimezoneOffsetInMilliseconds(n);return Math.round((i-o)/MILLISECONDS_IN_DAY$1)}function addYears(e,t){requiredArgs(2,arguments);var r=toInteger(t);return addMonths(e,12*r)}function isDate(e){return requiredArgs(1,arguments),e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function isValid(e){if(requiredArgs(1,arguments),!isDate(e)&&"number"!=typeof e)return!1;var t=toDate(e);return!isNaN(Number(t))}function endOfWeek(e,t){requiredArgs(1,arguments);var r=t||{},n=r.locale,i=n&&n.options&&n.options.weekStartsOn,o=null==i?0:toInteger(i),s=null==r.weekStartsOn?o:toInteger(r.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var a=toDate(e),u=a.getDay(),l=6+(u<s?-7:0)-(u-s);return a.setDate(a.getDate()+l),a.setHours(23,59,59,999),a}var formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance=function(e,t,r){var n,i=formatDistanceLocale[e];return n="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!=r&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},formatDistance$1=formatDistance;function buildFormatLongFn(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatLong$1=formatLong,formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=function(e,t,r,n){return formatRelativeLocale[e]},formatRelative$1=formatRelative;function buildLocalizeFn(e){return function(t,r){var n,i=r||{};if("formatting"===(i.context?String(i.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,s=i.width?String(i.width):o;n=e.formattingValues[s]||e.formattingValues[o]}else{var a=e.defaultWidth,u=i.width?String(i.width):e.defaultWidth;n=e.values[u]||e.values[a]}return n[e.argumentCallback?e.argumentCallback(t):t]}}var eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=function(e,t){var r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},localize={ordinalNumber:ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})},localize$1=localize;function buildMatchFn(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var s,a=o[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(u)?findIndex(u,(function(e){return e.test(a)})):findKey(u,(function(e){return e.test(a)}));s=e.valueCallback?e.valueCallback(l):l,s=r.valueCallback?r.valueCallback(s):s;var c=t.slice(a.length);return{value:s,rest:c}}}function findKey(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function findIndex(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function buildMatchPatternFn(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var i=n[0],o=t.match(e.parsePattern);if(!o)return null;var s=e.valueCallback?e.valueCallback(o[0]):o[0];s=r.valueCallback?r.valueCallback(s):s;var a=t.slice(i.length);return{value:s,rest:a}}}var matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:function(e){return parseInt(e,10)}}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},match$1=match,locale={code:"en-US",formatDistance:formatDistance$1,formatLong:formatLong$1,formatRelative:formatRelative$1,localize:localize$1,match:match$1,options:{weekStartsOn:0,firstWeekContainsDate:1}},defaultLocale=locale;function subMilliseconds(e,t){requiredArgs(2,arguments);var r=toInteger(t);return addMilliseconds(e,-r)}var MILLISECONDS_IN_DAY=864e5;function getUTCDayOfYear(e){requiredArgs(1,arguments);var t=toDate(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),i=r-n;return Math.floor(i/MILLISECONDS_IN_DAY)+1}function startOfUTCISOWeek(e){requiredArgs(1,arguments);var t=1,r=toDate(e),n=r.getUTCDay(),i=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}function getUTCISOWeekYear(e){requiredArgs(1,arguments);var t=toDate(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=startOfUTCISOWeek(n),o=new Date(0);o.setUTCFullYear(r,0,4),o.setUTCHours(0,0,0,0);var s=startOfUTCISOWeek(o);return t.getTime()>=i.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function startOfUTCISOWeekYear(e){requiredArgs(1,arguments);var t=getUTCISOWeekYear(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=startOfUTCISOWeek(r);return n}var MILLISECONDS_IN_WEEK$2=6048e5;function getUTCISOWeek(e){requiredArgs(1,arguments);var t=toDate(e),r=startOfUTCISOWeek(t).getTime()-startOfUTCISOWeekYear(t).getTime();return Math.round(r/MILLISECONDS_IN_WEEK$2)+1}function startOfUTCWeek(e,t){requiredArgs(1,arguments);var r=t||{},n=r.locale,i=n&&n.options&&n.options.weekStartsOn,o=null==i?0:toInteger(i),s=null==r.weekStartsOn?o:toInteger(r.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var a=toDate(e),u=a.getUTCDay(),l=(u<s?7:0)+u-s;return a.setUTCDate(a.getUTCDate()-l),a.setUTCHours(0,0,0,0),a}function getUTCWeekYear(e,t){requiredArgs(1,arguments);var r=toDate(e),n=r.getUTCFullYear(),i=t||{},o=i.locale,s=o&&o.options&&o.options.firstWeekContainsDate,a=null==s?1:toInteger(s),u=null==i.firstWeekContainsDate?a:toInteger(i.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=new Date(0);l.setUTCFullYear(n+1,0,u),l.setUTCHours(0,0,0,0);var c=startOfUTCWeek(l,t),f=new Date(0);f.setUTCFullYear(n,0,u),f.setUTCHours(0,0,0,0);var h=startOfUTCWeek(f,t);return r.getTime()>=c.getTime()?n+1:r.getTime()>=h.getTime()?n:n-1}function startOfUTCWeekYear(e,t){requiredArgs(1,arguments);var r=t||{},n=r.locale,i=n&&n.options&&n.options.firstWeekContainsDate,o=null==i?1:toInteger(i),s=null==r.firstWeekContainsDate?o:toInteger(r.firstWeekContainsDate),a=getUTCWeekYear(e,t),u=new Date(0);u.setUTCFullYear(a,0,s),u.setUTCHours(0,0,0,0);var l=startOfUTCWeek(u,t);return l}var MILLISECONDS_IN_WEEK$1=6048e5;function getUTCWeek(e,t){requiredArgs(1,arguments);var r=toDate(e),n=startOfUTCWeek(r,t).getTime()-startOfUTCWeekYear(r,t).getTime();return Math.round(n/MILLISECONDS_IN_WEEK$1)+1}function addLeadingZeros(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var formatters$2={y:function(e,t){var r=e.getUTCFullYear(),n=r>0?r:1-r;return addLeadingZeros("yy"===t?n%100:n,t.length)},M:function(e,t){var r=e.getUTCMonth();return"M"===t?String(r+1):addLeadingZeros(r+1,2)},d:function(e,t){return addLeadingZeros(e.getUTCDate(),t.length)},a:function(e,t){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:function(e,t){return addLeadingZeros(e.getUTCHours()%12||12,t.length)},H:function(e,t){return addLeadingZeros(e.getUTCHours(),t.length)},m:function(e,t){return addLeadingZeros(e.getUTCMinutes(),t.length)},s:function(e,t){return addLeadingZeros(e.getUTCSeconds(),t.length)},S:function(e,t){var r=t.length,n=e.getUTCMilliseconds();return addLeadingZeros(Math.floor(n*Math.pow(10,r-3)),t.length)}},formatters$3=formatters$2,dayPeriodEnum={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(e,t,r){var n=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if("yo"===t){var n=e.getUTCFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return formatters$3.y(e,t)},Y:function(e,t,r,n){var i=getUTCWeekYear(e,n),o=i>0?i:1-i;return"YY"===t?addLeadingZeros(o%100,2):"Yo"===t?r.ordinalNumber(o,{unit:"year"}):addLeadingZeros(o,t.length)},R:function(e,t){return addLeadingZeros(getUTCISOWeekYear(e),t.length)},u:function(e,t){return addLeadingZeros(e.getUTCFullYear(),t.length)},Q:function(e,t,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return addLeadingZeros(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return addLeadingZeros(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){var n=e.getUTCMonth();switch(t){case"M":case"MM":return formatters$3.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){var n=e.getUTCMonth();switch(t){case"L":return String(n+1);case"LL":return addLeadingZeros(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){var i=getUTCWeek(e,n);return"wo"===t?r.ordinalNumber(i,{unit:"week"}):addLeadingZeros(i,t.length)},I:function(e,t,r){var n=getUTCISOWeek(e);return"Io"===t?r.ordinalNumber(n,{unit:"week"}):addLeadingZeros(n,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):formatters$3.d(e,t)},D:function(e,t,r){var n=getUTCDayOfYear(e);return"Do"===t?r.ordinalNumber(n,{unit:"dayOfYear"}):addLeadingZeros(n,t.length)},E:function(e,t,r){var n=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){var i=e.getUTCDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return addLeadingZeros(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){var i=e.getUTCDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return addLeadingZeros(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){var n=e.getUTCDay(),i=0===n?7:n;switch(t){case"i":return String(i);case"ii":return addLeadingZeros(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){var n,i=e.getUTCHours();switch(n=12===i?dayPeriodEnum.noon:0===i?dayPeriodEnum.midnight:i/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,r){var n,i=e.getUTCHours();switch(n=i>=17?dayPeriodEnum.evening:i>=12?dayPeriodEnum.afternoon:i>=4?dayPeriodEnum.morning:dayPeriodEnum.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){var n=e.getUTCHours()%12;return 0===n&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return formatters$3.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):formatters$3.H(e,t)},K:function(e,t,r){var n=e.getUTCHours()%12;return"Ko"===t?r.ordinalNumber(n,{unit:"hour"}):addLeadingZeros(n,t.length)},k:function(e,t,r){var n=e.getUTCHours();return 0===n&&(n=24),"ko"===t?r.ordinalNumber(n,{unit:"hour"}):addLeadingZeros(n,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):formatters$3.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):formatters$3.s(e,t)},S:function(e,t){return formatters$3.S(e,t)},X:function(e,t,r,n){var i=(n._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return formatTimezoneWithOptionalMinutes(i);case"XXXX":case"XX":return formatTimezone(i);default:return formatTimezone(i,":")}},x:function(e,t,r,n){var i=(n._originalDate||e).getTimezoneOffset();switch(t){case"x":return formatTimezoneWithOptionalMinutes(i);case"xxxx":case"xx":return formatTimezone(i);default:return formatTimezone(i,":")}},O:function(e,t,r,n){var i=(n._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(i,":");default:return"GMT"+formatTimezone(i,":")}},z:function(e,t,r,n){var i=(n._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(i,":");default:return"GMT"+formatTimezone(i,":")}},t:function(e,t,r,n){var i=n._originalDate||e;return addLeadingZeros(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,r,n){return addLeadingZeros((n._originalDate||e).getTime(),t.length)}};function formatTimezoneShort(e,t){var r=e>0?"-":"+",n=Math.abs(e),i=Math.floor(n/60),o=n%60;if(0===o)return r+String(i);var s=t||"";return r+String(i)+s+addLeadingZeros(o,2)}function formatTimezoneWithOptionalMinutes(e,t){return e%60==0?(e>0?"-":"+")+addLeadingZeros(Math.abs(e)/60,2):formatTimezone(e,t)}function formatTimezone(e,t){var r=t||"",n=e>0?"-":"+",i=Math.abs(e);return n+addLeadingZeros(Math.floor(i/60),2)+r+addLeadingZeros(i%60,2)}var formatters$1=formatters;function dateLongFormatter(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}}function timeLongFormatter(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}}function dateTimeLongFormatter(e,t){var r,n=e.match(/(P+)(p+)?/)||[],i=n[1],o=n[2];if(!o)return dateLongFormatter(e,t);switch(i){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;default:r=t.dateTime({width:"full"})}return r.replace("{{date}}",dateLongFormatter(i,t)).replace("{{time}}",timeLongFormatter(o,t))}var longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},longFormatters$1=longFormatters,protectedDayOfYearTokens=["D","DD"],protectedWeekYearTokens=["YY","YYYY"];function isProtectedDayOfYearToken(e){return-1!==protectedDayOfYearTokens.indexOf(e)}function isProtectedWeekYearToken(e){return-1!==protectedWeekYearTokens.indexOf(e)}function throwProtectedError(e,t,r){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"))}var formattingTokensRegExp$1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp$1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp$1=/^'([^]*?)'?$/,doubleQuoteRegExp$1=/''/g,unescapedLatinCharacterRegExp$1=/[a-zA-Z]/;function format(e,t,r){requiredArgs(2,arguments);var n=String(t),i=r||{},o=i.locale||defaultLocale,s=o.options&&o.options.firstWeekContainsDate,a=null==s?1:toInteger(s),u=null==i.firstWeekContainsDate?a:toInteger(i.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=o.options&&o.options.weekStartsOn,c=null==l?0:toInteger(l),f=null==i.weekStartsOn?c:toInteger(i.weekStartsOn);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!o.localize)throw new RangeError("locale must contain localize property");if(!o.formatLong)throw new RangeError("locale must contain formatLong property");var h=toDate(e);if(!isValid(h))throw new RangeError("Invalid time value");var d=getTimezoneOffsetInMilliseconds(h),p=subMilliseconds(h,d),g={firstWeekContainsDate:u,weekStartsOn:f,locale:o,_originalDate:h},m=n.match(longFormattingTokensRegExp$1).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,longFormatters$1[t])(e,o.formatLong,g):e})).join("").match(formattingTokensRegExp$1).map((function(r){if("''"===r)return"'";var n=r[0];if("'"===n)return cleanEscapedString$1(r);var s=formatters$1[n];if(s)return!i.useAdditionalWeekYearTokens&&isProtectedWeekYearToken(r)&&throwProtectedError(r,t,e),!i.useAdditionalDayOfYearTokens&&isProtectedDayOfYearToken(r)&&throwProtectedError(r,t,e),s(p,r,o.localize,g);if(n.match(unescapedLatinCharacterRegExp$1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");return r})).join("");return m}function cleanEscapedString$1(e){return e.match(escapedStringRegExp$1)[1].replace(doubleQuoteRegExp$1,"'")}function assign(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t=t||{})Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function getDay(e){requiredArgs(1,arguments);var t=toDate(e),r=t.getDay();return r}function getDaysInMonth(e){requiredArgs(1,arguments);var t=toDate(e),r=t.getFullYear(),n=t.getMonth(),i=new Date(0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function getHours(e){requiredArgs(1,arguments);var t=toDate(e),r=t.getHours();return r}var MILLISECONDS_IN_WEEK=6048e5;function getISOWeek(e){requiredArgs(1,arguments);var t=toDate(e),r=startOfISOWeek(t).getTime()-startOfISOWeekYear(t).getTime();return Math.round(r/MILLISECONDS_IN_WEEK)+1}function getMinutes(e){requiredArgs(1,arguments);var t=toDate(e),r=t.getMinutes();return r}function getMonth(e){requiredArgs(1,arguments);var t=toDate(e),r=t.getMonth();return r}function getSeconds(e){requiredArgs(1,arguments);var t=toDate(e),r=t.getSeconds();return r}function getYear(e){return requiredArgs(1,arguments),toDate(e).getFullYear()}function subDays(e,t){requiredArgs(2,arguments);var r=toInteger(t);return addDays(e,-r)}function subMonths(e,t){requiredArgs(2,arguments);var r=toInteger(t);return addMonths(e,-r)}function sub(e,t){if(requiredArgs(2,arguments),!t||"object"!=typeof t)return new Date(NaN);var r=t.years?toInteger(t.years):0,n=t.months?toInteger(t.months):0,i=t.weeks?toInteger(t.weeks):0,o=t.days?toInteger(t.days):0,s=t.hours?toInteger(t.hours):0,a=t.minutes?toInteger(t.minutes):0,u=t.seconds?toInteger(t.seconds):0,l=subMonths(e,n+12*r),c=subDays(l,o+7*i),f=a+60*s,h=u+60*f,d=1e3*h,p=new Date(c.getTime()-d);return p}function isAfter(e,t){requiredArgs(2,arguments);var r=toDate(e),n=toDate(t);return r.getTime()>n.getTime()}function isBefore(e,t){requiredArgs(2,arguments);var r=toDate(e),n=toDate(t);return r.getTime()<n.getTime()}function isEqual(e,t){requiredArgs(2,arguments);var r=toDate(e),n=toDate(t);return r.getTime()===n.getTime()}function setUTCDay(e,t,r){requiredArgs(2,arguments);var n=r||{},i=n.locale,o=i&&i.options&&i.options.weekStartsOn,s=null==o?0:toInteger(o),a=null==n.weekStartsOn?s:toInteger(n.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=toDate(e),l=toInteger(t),c=u.getUTCDay(),f=l%7,h=(f+7)%7,d=(h<a?7:0)+l-c;return u.setUTCDate(u.getUTCDate()+d),u}function setUTCISODay(e,t){requiredArgs(2,arguments);var r=toInteger(t);r%7==0&&(r-=7);var n=1,i=toDate(e),o=i.getUTCDay(),s=r%7,a=(s+7)%7,u=(a<n?7:0)+r-o;return i.setUTCDate(i.getUTCDate()+u),i}function setUTCISOWeek(e,t){requiredArgs(2,arguments);var r=toDate(e),n=toInteger(t),i=getUTCISOWeek(r)-n;return r.setUTCDate(r.getUTCDate()-7*i),r}function setUTCWeek(e,t,r){requiredArgs(2,arguments);var n=toDate(e),i=toInteger(t),o=getUTCWeek(n,r)-i;return n.setUTCDate(n.getUTCDate()-7*o),n}var MILLISECONDS_IN_HOUR=36e5,MILLISECONDS_IN_MINUTE=6e4,MILLISECONDS_IN_SECOND=1e3,numericPatterns={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},timezonePatterns={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function parseNumericPattern(e,t,r){var n=t.match(e);if(!n)return null;var i=parseInt(n[0],10);return{value:r?r(i):i,rest:t.slice(n[0].length)}}function parseTimezonePattern(e,t){var r=t.match(e);if(!r)return null;if("Z"===r[0])return{value:0,rest:t.slice(1)};var n="+"===r[1]?1:-1,i=r[2]?parseInt(r[2],10):0,o=r[3]?parseInt(r[3],10):0,s=r[5]?parseInt(r[5],10):0;return{value:n*(i*MILLISECONDS_IN_HOUR+o*MILLISECONDS_IN_MINUTE+s*MILLISECONDS_IN_SECOND),rest:t.slice(r[0].length)}}function parseAnyDigitsSigned(e,t){return parseNumericPattern(numericPatterns.anyDigitsSigned,e,t)}function parseNDigits(e,t,r){switch(e){case 1:return parseNumericPattern(numericPatterns.singleDigit,t,r);case 2:return parseNumericPattern(numericPatterns.twoDigits,t,r);case 3:return parseNumericPattern(numericPatterns.threeDigits,t,r);case 4:return parseNumericPattern(numericPatterns.fourDigits,t,r);default:return parseNumericPattern(new RegExp("^\\d{1,"+e+"}"),t,r)}}function parseNDigitsSigned(e,t,r){switch(e){case 1:return parseNumericPattern(numericPatterns.singleDigitSigned,t,r);case 2:return parseNumericPattern(numericPatterns.twoDigitsSigned,t,r);case 3:return parseNumericPattern(numericPatterns.threeDigitsSigned,t,r);case 4:return parseNumericPattern(numericPatterns.fourDigitsSigned,t,r);default:return parseNumericPattern(new RegExp("^-?\\d{1,"+e+"}"),t,r)}}function dayPeriodEnumToHours(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function normalizeTwoDigitYear(e,t){var r,n=t>0,i=n?t:1-t;if(i<=50)r=e||100;else{var o=i+50;r=e+100*Math.floor(o/100)-(e>=o%100?100:0)}return n?r:1-r}var DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],DAYS_IN_MONTH_LEAP_YEAR=[31,29,31,30,31,30,31,31,30,31,30,31];function isLeapYearIndex(e){return e%400==0||e%4==0&&e%100!=0}var parsers={G:{priority:140,parse:function(e,t,r,n){switch(t){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}},set:function(e,t,r,n){return t.era=r,e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(e,t,r,n){var i=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return parseNDigits(4,e,i);case"yo":return r.ordinalNumber(e,{unit:"year",valueCallback:i});default:return parseNDigits(t.length,e,i)}},validate:function(e,t,r){return t.isTwoDigitYear||t.year>0},set:function(e,t,r,n){var i=e.getUTCFullYear();if(r.isTwoDigitYear){var o=normalizeTwoDigitYear(r.year,i);return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}var s="era"in t&&1!==t.era?1-r.year:r.year;return e.setUTCFullYear(s,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(e,t,r,n){var i=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return parseNDigits(4,e,i);case"Yo":return r.ordinalNumber(e,{unit:"year",valueCallback:i});default:return parseNDigits(t.length,e,i)}},validate:function(e,t,r){return t.isTwoDigitYear||t.year>0},set:function(e,t,r,n){var i=getUTCWeekYear(e,n);if(r.isTwoDigitYear){var o=normalizeTwoDigitYear(r.year,i);return e.setUTCFullYear(o,0,n.firstWeekContainsDate),e.setUTCHours(0,0,0,0),startOfUTCWeek(e,n)}var s="era"in t&&1!==t.era?1-r.year:r.year;return e.setUTCFullYear(s,0,n.firstWeekContainsDate),e.setUTCHours(0,0,0,0),startOfUTCWeek(e,n)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(e,t,r,n){return parseNDigitsSigned("R"===t?4:t.length,e)},set:function(e,t,r,n){var i=new Date(0);return i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0),startOfUTCISOWeek(i)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(e,t,r,n){return parseNDigitsSigned("u"===t?4:t.length,e)},set:function(e,t,r,n){return e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(e,t,r,n){switch(t){case"Q":case"QQ":return parseNDigits(t.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=1&&t<=4},set:function(e,t,r,n){return e.setUTCMonth(3*(r-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(e,t,r,n){switch(t){case"q":case"qq":return parseNDigits(t.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,r){return t>=1&&t<=4},set:function(e,t,r,n){return e.setUTCMonth(3*(r-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(e,t,r,n){var i=function(e){return e-1};switch(t){case"M":return parseNumericPattern(numericPatterns.month,e,i);case"MM":return parseNDigits(2,e,i);case"Mo":return r.ordinalNumber(e,{unit:"month",valueCallback:i});case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=0&&t<=11},set:function(e,t,r,n){return e.setUTCMonth(r,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(e,t,r,n){var i=function(e){return e-1};switch(t){case"L":return parseNumericPattern(numericPatterns.month,e,i);case"LL":return parseNDigits(2,e,i);case"Lo":return r.ordinalNumber(e,{unit:"month",valueCallback:i});case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,r){return t>=0&&t<=11},set:function(e,t,r,n){return e.setUTCMonth(r,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(e,t,r,n){switch(t){case"w":return parseNumericPattern(numericPatterns.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=53},set:function(e,t,r,n){return startOfUTCWeek(setUTCWeek(e,r,n),n)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(e,t,r,n){switch(t){case"I":return parseNumericPattern(numericPatterns.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=53},set:function(e,t,r,n){return startOfUTCISOWeek(setUTCISOWeek(e,r,n),n)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(e,t,r,n){switch(t){case"d":return parseNumericPattern(numericPatterns.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){var n=isLeapYearIndex(e.getUTCFullYear()),i=e.getUTCMonth();return n?t>=1&&t<=DAYS_IN_MONTH_LEAP_YEAR[i]:t>=1&&t<=DAYS_IN_MONTH[i]},set:function(e,t,r,n){return e.setUTCDate(r),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(e,t,r,n){switch(t){case"D":case"DD":return parseNumericPattern(numericPatterns.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){return isLeapYearIndex(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365},set:function(e,t,r,n){return e.setUTCMonth(0,r),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(e,t,r,n){switch(t){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=0&&t<=6},set:function(e,t,r,n){return(e=setUTCDay(e,r,n)).setUTCHours(0,0,0,0),e},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(e,t,r,n){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+n.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return parseNDigits(t.length,e,i);case"eo":return r.ordinalNumber(e,{unit:"day",valueCallback:i});case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=0&&t<=6},set:function(e,t,r,n){return(e=setUTCDay(e,r,n)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(e,t,r,n){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+n.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return parseNDigits(t.length,e,i);case"co":return r.ordinalNumber(e,{unit:"day",valueCallback:i});case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,r){return t>=0&&t<=6},set:function(e,t,r,n){return(e=setUTCDay(e,r,n)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(e,t,r,n){var i=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return parseNDigits(t.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return r.day(e,{width:"abbreviated",context:"formatting",valueCallback:i})||r.day(e,{width:"short",context:"formatting",valueCallback:i})||r.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiiii":return r.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiiiii":return r.day(e,{width:"short",context:"formatting",valueCallback:i})||r.day(e,{width:"narrow",context:"formatting",valueCallback:i});default:return r.day(e,{width:"wide",context:"formatting",valueCallback:i})||r.day(e,{width:"abbreviated",context:"formatting",valueCallback:i})||r.day(e,{width:"short",context:"formatting",valueCallback:i})||r.day(e,{width:"narrow",context:"formatting",valueCallback:i})}},validate:function(e,t,r){return t>=1&&t<=7},set:function(e,t,r,n){return(e=setUTCISODay(e,r,n)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(e,t,r,n){switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,r,n){return e.setUTCHours(dayPeriodEnumToHours(r),0,0,0),e},incompatibleTokens:["b","B","H","k","t","T"]},b:{priority:80,parse:function(e,t,r,n){switch(t){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,r,n){return e.setUTCHours(dayPeriodEnumToHours(r),0,0,0),e},incompatibleTokens:["a","B","H","k","t","T"]},B:{priority:80,parse:function(e,t,r,n){switch(t){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,r,n){return e.setUTCHours(dayPeriodEnumToHours(r),0,0,0),e},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(e,t,r,n){switch(t){case"h":return parseNumericPattern(numericPatterns.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=12},set:function(e,t,r,n){var i=e.getUTCHours()>=12;return i&&r<12?e.setUTCHours(r+12,0,0,0):i||12!==r?e.setUTCHours(r,0,0,0):e.setUTCHours(0,0,0,0),e},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(e,t,r,n){switch(t){case"H":return parseNumericPattern(numericPatterns.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=23},set:function(e,t,r,n){return e.setUTCHours(r,0,0,0),e},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(e,t,r,n){switch(t){case"K":return parseNumericPattern(numericPatterns.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=11},set:function(e,t,r,n){return e.getUTCHours()>=12&&r<12?e.setUTCHours(r+12,0,0,0):e.setUTCHours(r,0,0,0),e},incompatibleTokens:["h","H","k","t","T"]},k:{priority:70,parse:function(e,t,r,n){switch(t){case"k":return parseNumericPattern(numericPatterns.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=24},set:function(e,t,r,n){var i=r<=24?r%24:r;return e.setUTCHours(i,0,0,0),e},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(e,t,r,n){switch(t){case"m":return parseNumericPattern(numericPatterns.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=59},set:function(e,t,r,n){return e.setUTCMinutes(r,0,0),e},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(e,t,r,n){switch(t){case"s":return parseNumericPattern(numericPatterns.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=59},set:function(e,t,r,n){return e.setUTCSeconds(r,0),e},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(e,t,r,n){return parseNDigits(t.length,e,(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))},set:function(e,t,r,n){return e.setUTCMilliseconds(r),e},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(e,t,r,n){switch(t){case"X":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,e);case"XX":return parseTimezonePattern(timezonePatterns.basic,e);case"XXXX":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,e);case"XXXXX":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,e);default:return parseTimezonePattern(timezonePatterns.extended,e)}},set:function(e,t,r,n){return t.timestampIsSet?e:new Date(e.getTime()-r)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(e,t,r,n){switch(t){case"x":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,e);case"xx":return parseTimezonePattern(timezonePatterns.basic,e);case"xxxx":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,e);case"xxxxx":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,e);default:return parseTimezonePattern(timezonePatterns.extended,e)}},set:function(e,t,r,n){return t.timestampIsSet?e:new Date(e.getTime()-r)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(e,t,r,n){return parseAnyDigitsSigned(e)},set:function(e,t,r,n){return[new Date(1e3*r),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(e,t,r,n){return parseAnyDigitsSigned(e)},set:function(e,t,r,n){return[new Date(r),{timestampIsSet:!0}]},incompatibleTokens:"*"}},parsers$1=parsers,TIMEZONE_UNIT_PRIORITY=10,formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,notWhitespaceRegExp=/\S/,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function parse(e,t,r,n){requiredArgs(3,arguments);var i=String(e),o=String(t),s=n||{},a=s.locale||defaultLocale;if(!a.match)throw new RangeError("locale must contain match property");var u=a.options&&a.options.firstWeekContainsDate,l=null==u?1:toInteger(u),c=null==s.firstWeekContainsDate?l:toInteger(s.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=a.options&&a.options.weekStartsOn,h=null==f?0:toInteger(f),d=null==s.weekStartsOn?h:toInteger(s.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===o)return""===i?toDate(r):new Date(NaN);var p,g={firstWeekContainsDate:c,weekStartsOn:d,locale:a},m=[{priority:TIMEZONE_UNIT_PRIORITY,subPriority:-1,set:dateToSystemTimezone,index:0}],y=o.match(longFormattingTokensRegExp).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,longFormatters$1[t])(e,a.formatLong,g):e})).join("").match(formattingTokensRegExp),b=[];for(p=0;p<y.length;p++){var v=y[p];!s.useAdditionalWeekYearTokens&&isProtectedWeekYearToken(v)&&throwProtectedError(v,o,e),!s.useAdditionalDayOfYearTokens&&isProtectedDayOfYearToken(v)&&throwProtectedError(v,o,e);var _=v[0],$=parsers$1[_];if($){var w=$.incompatibleTokens;if(Array.isArray(w)){for(var E=void 0,S=0;S<b.length;S++){var A=b[S].token;if(-1!==w.indexOf(A)||A===_){E=b[S];break}}if(E)throw new RangeError("The format string mustn't contain `".concat(E.fullToken,"` and `").concat(v,"` at the same time"))}else if("*"===$.incompatibleTokens&&b.length)throw new RangeError("The format string mustn't contain `".concat(v,"` and any other token at the same time"));b.push({token:_,fullToken:v});var R=$.parse(i,v,a.match,g);if(!R)return new Date(NaN);m.push({priority:$.priority,subPriority:$.subPriority||0,set:$.set,validate:$.validate,value:R.value,index:m.length}),i=R.rest}else{if(_.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");if("''"===v?v="'":"'"===_&&(v=cleanEscapedString(v)),0!==i.indexOf(v))return new Date(NaN);i=i.slice(v.length)}}if(i.length>0&&notWhitespaceRegExp.test(i))return new Date(NaN);var N=m.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,r){return r.indexOf(e)===t})).map((function(e){return m.filter((function(t){return t.priority===e})).sort((function(e,t){return t.subPriority-e.subPriority}))})).map((function(e){return e[0]})),x=toDate(r);if(isNaN(x))return new Date(NaN);var k=subMilliseconds(x,getTimezoneOffsetInMilliseconds(x)),C={};for(p=0;p<N.length;p++){var T=N[p];if(T.validate&&!T.validate(k,T.value,g))return new Date(NaN);var M=T.set(k,C,T.value,g);M[0]?(k=M[0],assign(C,M[1])):k=M}return k}function dateToSystemTimezone(e,t){if(t.timestampIsSet)return e;var r=new Date(0);return r.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),r.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),r}function cleanEscapedString(e){return e.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp,"'")}function setMonth(e,t){requiredArgs(2,arguments);var r=toDate(e),n=toInteger(t),i=r.getFullYear(),o=r.getDate(),s=new Date(0);s.setFullYear(i,n,15),s.setHours(0,0,0,0);var a=getDaysInMonth(s);return r.setMonth(n,Math.min(o,a)),r}function set(e,t){if(requiredArgs(2,arguments),"object"!=typeof t||null===t)throw new RangeError("values parameter must be an object");var r=toDate(e);return isNaN(r.getTime())?new Date(NaN):(null!=t.year&&r.setFullYear(t.year),null!=t.month&&(r=setMonth(r,t.month)),null!=t.date&&r.setDate(toInteger(t.date)),null!=t.hours&&r.setHours(toInteger(t.hours)),null!=t.minutes&&r.setMinutes(toInteger(t.minutes)),null!=t.seconds&&r.setSeconds(toInteger(t.seconds)),null!=t.milliseconds&&r.setMilliseconds(toInteger(t.milliseconds)),r)}function setHours(e,t){requiredArgs(2,arguments);var r=toDate(e),n=toInteger(t);return r.setHours(n),r}function setMilliseconds(e,t){requiredArgs(2,arguments);var r=toDate(e),n=toInteger(t);return r.setMilliseconds(n),r}function setMinutes(e,t){requiredArgs(2,arguments);var r=toDate(e),n=toInteger(t);return r.setMinutes(n),r}function setSeconds(e,t){requiredArgs(2,arguments);var r=toDate(e),n=toInteger(t);return r.setSeconds(n),r}function setYear(e,t){requiredArgs(2,arguments);var r=toDate(e),n=toInteger(t);return isNaN(r.getTime())?new Date(NaN):(r.setFullYear(n),r)}function subYears(e,t){requiredArgs(2,arguments);var r=toInteger(t);return addYears(e,-r)}function he(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ge(e,t){if(e){if("string"==typeof e)return _e(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_e(e,t):void 0}}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],s=!0,a=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==r.return||r.return()}finally{if(a)throw i}}return o}}(e,t)||ge(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var be={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},ke=[createBaseVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"},null,-1),createBaseVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),createBaseVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),createBaseVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"},null,-1)],De={render:function(e,t){return openBlock(),createElementBlock("svg",be,ke)}},Se={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Oe=[createBaseVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"},null,-1),createBaseVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1)],xe={render:function(e,t){return openBlock(),createElementBlock("svg",Se,Oe)}},Pe={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Me=[createBaseVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1)],Ce={render:function(e,t){return openBlock(),createElementBlock("svg",Pe,Me)}},Ae={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},$e=[createBaseVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"},null,-1)],Ve={render:function(e,t){return openBlock(),createElementBlock("svg",Ae,$e)}},Ie={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Te=[createBaseVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"},null,-1),createBaseVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1)],Be={render:function(e,t){return openBlock(),createElementBlock("svg",Ie,Te)}},Ne={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},je=[createBaseVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1)],Re={render:function(e,t){return openBlock(),createElementBlock("svg",Ne,je)}},Ee={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Fe=[createBaseVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1)],Ye={render:function(e,t){return openBlock(),createElementBlock("svg",Ee,Fe)}},Ke=function(e){var t=6e4*e.getTimezoneOffset();return new Date(e.getTime()-t)},Ue=function(e,t){var r=parse(e,t.slice(0,e.length),new Date);return isValid(r)&&isDate(r)?r:null},He=function(e){var t=new Date(JSON.parse(JSON.stringify(e)));return setMilliseconds(t=setSeconds(t=setMinutes(t=setHours(t,0),0),0),0)},Ge=function(e){return Array.isArray(e)?isValid(e[0])&&(!e[1]||isValid(e[1])):!!e&&isValid(e)},Le=function(e,t,r,n){var i=e?new Date(e):new Date;return(t||0===t)&&(i=setHours(i,+t)),(r||0===r)&&(i=setMinutes(i,+r)),(n||0===n)&&(i=setSeconds(i,+n)),setMilliseconds(i,0)},We=function(e){var t=addMonths(e,1);return{month:getMonth(t),year:getYear(t)}},ze=function(e,t,r){var n=e?new Date(e):new Date;return(t||0===t)&&(n=setMonth(n,t)),r&&(n=setYear(n,r)),n},qe=function(e,t){return e?"HH:mm".concat(t?":ss":""):"hh:mm".concat(t?":ss":""," aa")},Je=function(e,t,r,n,i,o,s){return e||(n?"MM/yyyy":i?qe(t,r):o?"MM/dd/yyyy":s?"MM/dd/yyyy, ".concat(qe(t,r)):"MM/dd/yyyy")},Xe=function(e){var t=e||new Date;return{hours:getHours(t),minutes:getMinutes(t),seconds:getSeconds(t)}},Ze=function(e){return{month:getMonth(e),year:getYear(e)}},Qe=function(e){return Array.isArray(e)?[Ze(e[0]),e[1]?Ze(e[1]):null]:Ze(e)},et=function(e){return Array.isArray(e)?[Xe(e[0]),Xe(e[1])]:Xe(e)},tt=function(e,t,r){return r?format(e,t,{locale:r}):format(e,t)},nt=function(e,t,r,n){return Array.isArray(e)?"".concat(tt(e[0],t,r)," ").concat(n||"-"," ").concat(e[1]?tt(e[1],t,r):""):tt(e,t,r)},at=function(e,t){return!(!e||!t)&&isAfter(He(e),He(t))},rt=function(e,t){return!(!e||!t)&&isBefore(He(e),He(t))},lt=function(e,t){return!(!e||!t)&&isEqual(He(e),He(t))},ot=function(e,t){return add(set(new Date,e),t)},ut=function(e,t){return sub(set(new Date,e),t)},it=function(e){return set(new Date,{hours:getHours(e),minutes:getMinutes(e),seconds:getSeconds(e)})},st=function(e){return set(new Date,{hours:+e.hours||0,minutes:+e.minutes||0,seconds:+e.seconds||0})},ct=function(e,t,r){var n=!0;if(!e)return!0;var i=Array.isArray(e)?[e[0]?it(e[0]):null,e[1]?it(e[1]):null]:it(e);if(t){var o=st(t);n=Array.isArray(i)?(!i[0]||i[0].getTime()<=o.getTime())&&(!i[1]||i[1].getTime()<=o.getTime()):i.getTime()<=o.getTime()}if(r){var s=st(r);n=Array.isArray(i)?(!i[0]||i[0].getTime()>=s.getTime())&&(!i[1]||i[1].getTime()>=s.getTime())&&n:i.getTime()>=s.getTime()&&n}return n},dt=function(e){var t=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(t).toISOString()},ft=function(e,t,r){return e&&e[0]&&e[1]?at(r,e[0])&&rt(r,e[1]):!!(e&&e[0]&&t)&&(at(r,e[0])&&rt(r,t)||rt(r,e[0])&&at(r,t))},pt=function(e,t){return[startOfWeek(e,{weekStartsOn:t}),endOfWeek(e,{weekStartsOn:t})]};function mt(e){return function(e){if(Array.isArray(e))return _e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ge(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var vt=function(e,t,r,n){var i=[],o=new Date(t,e),s=new Date(t,e+1,0);return function t(r){var o=function(e,t,r){for(var n=new Date(JSON.parse(JSON.stringify(e))),i=[],o=0;o<7;o++){var s=addDays(n,o),a=getMonth(s)!==t;i.push({text:r&&a?"":s.getDate(),value:s,current:!a})}return i}(r,e,n);i.push({days:o}),i[i.length-1].days.some((function(e){return lt(He(e.value),He(s))}))||t(addDays(r,7))}(startOfWeek(o,{weekStartsOn:r})),i},yt=function(e){return function(t){for(var r="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length,o=0;o<5;o++)r+=n.charAt(Math.floor(Math.random()*i));return r+e}()},ht=function(e){var t,r=unref(e);return null!==(t=null==r?void 0:r.$el)&&void 0!==t?t:r},_t=function(e){return Object.assign({open:"dp-open",close:"dp-close",next:"calendar-next",previous:"calendar-prev"},e)},gt=["aria-disabled","aria-readonly"],wt={key:1,class:"dp__input_wrap"},bt=["id","name","placeholder","disabled","readonly","required","value","autocomplete","onKeydown"],kt={key:4,class:"dp__clear_icon"},Dt=defineComponent({props:{name:{type:String,default:null},inputValue:{type:String,default:""},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},disabled:{type:Boolean,default:!0},readonly:{type:Boolean,default:!0},clearable:{type:Boolean,default:!0},range:{type:Boolean,default:!1},state:{type:Boolean,default:null},inputClassName:{type:String,default:null},inline:{type:Boolean,default:!1},inlineWithInput:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:function(){return null}},isMenuOpen:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},pattern:{type:String,default:""},uid:{type:String,default:null},openMenuOnFocus:{type:Boolean,default:!0},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"}},emits:["clear","open","update:inputValue","setInputDate","close","selectDate","setEmptyDate"],setup:function(e,t){var r=t.expose,n=t.emit,i=e,o=ref(),s=ref(null),a=ref(!1),u=useSlots(),l=computed((function(){return he({dp__pointer:!i.disabled&&!i.readonly&&!i.textInput,dp__disabled:i.disabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:i.state,dp__input_invalid:!1===i.state,dp__input_focus:a.value||i.isMenuOpen},i.inputClassName,!!i.inputClassName)})),c=function(e){var t=e.target.value,r=i.textInputOptions,s=r.format,a=r.rangeSeparator;if(""!==t){if(i.range){var u=we(t.split("".concat(a)),2),l=u[0],c=u[1];if(l&&c){var f=Ue(l.trim(),s||i.pattern),h=Ue(c.trim(),s||i.pattern);o.value=f&&h?[f,h]:null}}else o.value=Ue(t,s||i.pattern);n("setInputDate",o.value)}else n("setInputDate",null),i.autoApply&&(n("setEmptyDate"),o.value=null);n("update:inputValue",t)},f=function(){var e,t;null!==(e=i.textInputOptions)&&void 0!==e&&e.enterSubmit&&Ge(o.value)&&""!==i.inputValue?(n("setInputDate",o.value,!0),o.value=null):null!==(t=i.textInputOptions)&&void 0!==t&&t.enterSubmit&&""===i.inputValue&&(o.value=null,n("clear"))},h=function(){var e,t;null!==(e=i.textInputOptions)&&void 0!==e&&e.tabSubmit&&Ge(o.value)&&""!==i.inputValue?(n("setInputDate",o.value,!0),o.value=null):null!==(t=i.textInputOptions)&&void 0!==t&&t.tabSubmit&&""===i.inputValue&&(o.value=null,n("clear")),n("close")},d=function(){i.inline||(a.value=!0,i.openMenuOnFocus&&!i.isMenuOpen?n("open"):i.isMenuOpen&&(b(),n("close")))},p=function(){var e;(!i.openMenuOnFocus||u["dp-input"]||u.trigger)&&(i.textInput&&null!==(e=i.textInputOptions)&&void 0!==e&&e.openMenu&&!i.isMenuOpen?n("open"):i.textInput||n("open"))},g=function(){a.value=!1,i.autoApply&&i.textInput&&o.value&&(n("setInputDate",o.value),n("selectDate"),o.value=null)},m=function(e){e.stopImmediatePropagation()},y=function(){n("clear")},b=function(){a.value=!1;var e=ht(s);e&&e.blur()};return r({unFocus:b}),function(t,r){return openBlock(),createElementBlock("div",{onClick:p,"aria-label":"Datepicker input",role:"textbox","aria-multiline":"false","aria-disabled":e.disabled,"aria-readonly":e.readonly},[!t.$slots.trigger||t.$slots["dp-input"]||e.inline?createCommentVNode("",!0):renderSlot(t.$slots,"trigger",{key:0}),t.$slots.trigger||e.inline&&!e.inlineWithInput?createCommentVNode("",!0):(openBlock(),createElementBlock("div",wt,[!t.$slots["dp-input"]||t.$slots.trigger||e.inline?createCommentVNode("",!0):renderSlot(t.$slots,"dp-input",{key:0,value:e.inputValue,onInput:c,onEnter:f,onTab:h,onClear:y}),t.$slots["dp-input"]?createCommentVNode("",!0):(openBlock(),createElementBlock("input",{key:1,ref_key:"inputRef",ref:s,id:e.uid?"dp-input-".concat(e.uid):void 0,name:e.name,class:normalizeClass(unref(l)),placeholder:e.placeholder,disabled:e.disabled,readonly:e.readonly,required:e.required,value:e.inputValue,autocomplete:e.autocomplete,onInput:c,onKeydown:[withKeys(f,["enter"]),withKeys(h,["tab"])],onBlur:g,onFocus:d},null,42,bt)),t.$slots["input-icon"]&&!e.hideInputIcon?(openBlock(),createElementBlock("span",{key:2,class:"dp__input_icon",onClick:m},[renderSlot(t.$slots,"input-icon")])):createCommentVNode("",!0),t.$slots["input-icon"]||e.hideInputIcon||t.$slots["dp-input"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(De),{key:3,class:"dp__input_icon dp__input_icons",onClick:m})),t.$slots["clear-icon"]&&e.clearable&&!e.disabled&&!e.readonly?(openBlock(),createElementBlock("span",kt,[renderSlot(t.$slots,"clear-icon",{clear:y})])):createCommentVNode("",!0),!e.clearable||t.$slots["clear-icon"]||!e.inputValue||e.disabled||e.readonly?createCommentVNode("",!0):(openBlock(),createBlock(unref(xe),{key:5,class:"dp__clear_icon dp__input_icons",onClick:withModifiers(y,["stop","prevent"])},null,8,["onClick"]))]))],8,gt)}}}),St={weekNumbers:{type:Boolean,default:!1},weekStart:{type:[Number,String],default:1},disableMonthYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},calendarClassName:{type:String,default:null},yearRange:{type:Array,default:function(){return[1970,2100]}},range:{type:Boolean,default:!1},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},is24:{type:Boolean,default:!0},hoursIncrement:{type:[String,Number],default:1},minutesIncrement:{type:[String,Number],default:1},secondsIncrement:{type:[String,Number],default:1},hoursGridIncrement:{type:[String,Number],default:1},secondsGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},autoApply:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},locale:{type:String,default:"en-US"},weekNumName:{type:String,default:"W"},disabledDates:{type:[Array,Function],default:function(){return[]}},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},inline:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},monthYearComponent:{type:Object,default:null},timePickerComponent:{type:Object,default:null},actionRowComponent:{type:Object,default:null},customProps:{type:Object,default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:function(){return[]}},allowedDates:{type:Array,default:function(){return[]}},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},monthChangeOnScroll:{type:[Boolean,String],default:!0},markers:{type:Array,default:function(){return[]}},uid:{type:String,default:null},modeHeight:{type:[Number,String],default:255},enableSeconds:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},textInput:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},multiDates:{type:Boolean,default:!1},presetRanges:{type:Array,default:function(){return[]}},flow:{type:Array,default:function(){return[]}},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1}},Ot=function(e){var t={};return Object.keys(e).forEach((function(r){t[r]=e[r]})),t},xt={years:{type:Array,default:function(){return[]}},months:{type:Array,default:function(){return[]}},month:{type:Number,default:0},year:{type:Number,default:0},filters:{type:Object,default:function(){return{}}},monthPicker:{type:Boolean,default:!1},instance:{type:Number,default:1},internalModelValue:{type:[Date,Array],default:null},range:{type:Boolean,default:!1},multiCalendars:{type:Number,default:0},multiCalendarsSolo:{type:Boolean,default:!1},customProps:{type:Object,default:null}};function Pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(r),!0).forEach((function(t){he(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ct={class:"db__calendar_header",role:"row"},At={key:0,class:"dp__calendar_header_item",role:"gridcell"},$t=createBaseVNode("div",{class:"dp__calendar_header_separator"},null,-1),Vt={key:0,class:"dp__calendar",role:"grid","aria-label":"Calendar days"},It={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},Tt={class:"dp__cell_inner"},Bt=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],Nt=createBaseVNode("div",{class:"dp__arrow_bottom_tp"},null,-1),jt=defineComponent({props:Mt(Mt({},xt),{},{locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:Boolean,default:!1},mappedDates:{type:Array,default:function(){return[]}},monthYearComponent:{type:Object,default:null},calendarClassName:{type:String,default:null},timePicker:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},getWeekNum:{type:Function,default:function(){return""}},modeHeight:{type:[Number,String],default:255}}),emits:["selectDate","setHoverDate","handleScroll","mount"],setup:function(e,t){var r=t.emit,n=e,i=ref(null),o=ref({bottom:"",left:"",transform:""}),s=ref([]),a=ref(!0),u=inject("transitions"),l=ref(""),c=toRef(n,"month"),f=toRef(n,"year"),h=ref(),d=ref(!1),p=computed((function(){return function(e,t){var r,n,i=[1,2,3,4,5,6,7].map((function(t){return new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date("2017-01-0".concat(t,"T00:00:00+00:00"))).slice(0,2)})),o=i.slice(0,t),s=i.slice(t+1,i.length);return(r=(n=[i[t]]).concat.apply(n,mt(s))).concat.apply(r,mt(o))}(n.locale,+n.weekStart)}));onMounted((function(){n.internalModelValue||(d.value=!0),h.value=ze(new Date,n.month,n.year),r("mount")}));var g=computed((function(){return n.monthPicker||n.timePicker}));watch([c,f],(function(){if(null!=u&&u.value){var e=ze(new Date,n.month,n.year);l.value=at(ze(new Date,n.month,n.year),h.value)?u.value.next:u.value.previous,h.value=e,d.value&&(a.value=!1,nextTick((function(){a.value=!0})))}d.value||(d.value=!0)}));var m=computed((function(){return he({dp__calendar_wrap:!0},n.calendarClassName,!!n.calendarClassName)})),y=computed((function(){return function(e){var t=function(e){return Object.assign({type:"dot"},e)}(e);return{dp__marker_dot:"dot"===t.type,dp__marker_line:"line"===t.type}}})),b=computed((function(){return function(e){return lt(e,i.value)}})),v=computed((function(){return{dp__calendar:!0,dp__calendar_next:n.multiCalendars>0&&0!==n.instance}})),_=computed((function(){return g.value?{height:"".concat(n.modeHeight,"px")}:null})),$=function(){i.value=null};return function(t,n){return openBlock(),createElementBlock("div",{class:normalizeClass(unref(v))},[createBaseVNode("div",{style:normalizeStyle(unref(_))},[unref(g)?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(m)),role:"grid","aria-label":"Calendar wrapper",onWheel:n[1]||(n[1]=withModifiers((function(e){return t.$emit("handleScroll",e)}),["prevent"]))},[createBaseVNode("div",Ct,[e.weekNumbers?(openBlock(),createElementBlock("div",At,toDisplayString(e.weekNumName),1)):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(p),(function(e,r){return openBlock(),createElementBlock("div",{class:"dp__calendar_header_item",role:"gridcell",key:r},[t.$slots["calendar-header"]?renderSlot(t.$slots,"calendar-header",{key:0,day:e,index:r}):createCommentVNode("",!0),t.$slots["calendar-header"]?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment$1,{key:1},[createTextVNode(toDisplayString(e),1)],64))])})),128))]),$t,createVNode(Transition,{name:l.value,css:!!unref(u)},{default:withCtx((function(){return[a.value?(openBlock(),createElementBlock("div",Vt,[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(e.mappedDates,(function(a,u){return openBlock(),createElementBlock("div",{class:"dp__calendar_row",role:"row",key:u},[e.weekNumbers?(openBlock(),createElementBlock("div",It,[createBaseVNode("div",Tt,toDisplayString(e.getWeekNum(a.days)),1)])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment$1,null,renderList(a.days,(function(e,a){return openBlock(),createElementBlock("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:function(e){e&&(s.value[a+u]=e)},key:a+u,"aria-selected":e.classData.dp__active_date||e.classData.dp__range_start||e.classData.dp__range_start,"aria-disabled":e.classData.dp__cell_disabled,tabindex:"0",onClick:function(r){return t.$emit("selectDate",e)},onKeydown:withKeys((function(r){return t.$emit("selectDate",e)}),["enter"]),onMouseover:function(t){return function(e,t){var n,a;if(r("setHoverDate",e),null!==(n=e.marker)&&void 0!==n&&null!==(a=n.tooltip)&&void 0!==a&&a.length){var u=ht(s.value[t]);if(u){var l=u.getBoundingClientRect(),c=l.width,f=l.height;o.value={bottom:"".concat(f,"px"),left:"".concat(c/2,"px"),transform:"translateX(-50%)"},i.value=e.value}}}(e,a+u)},onMouseleave:$},[createBaseVNode("div",{class:normalizeClass(["dp__cell_inner",e.classData])},[t.$slots.day?renderSlot(t.$slots,"day",{key:0,day:+e.text,date:e.value}):createCommentVNode("",!0),t.$slots.day?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment$1,{key:1},[createTextVNode(toDisplayString(e.text),1)],64)),e.marker?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(unref(y)(e.marker)),style:normalizeStyle(e.marker.color?{backgroundColor:e.marker.color}:{})},null,6)):createCommentVNode("",!0),unref(b)(e.value)?(openBlock(),createElementBlock("div",{key:3,class:"dp__marker_tooltip",style:normalizeStyle(o.value)},[createBaseVNode("div",{class:"dp__tooltip_content",onClick:n[0]||(n[0]=withModifiers((function(){}),["stop"]))},[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(e.marker.tooltip,(function(r,n){return openBlock(),createElementBlock("div",{key:n,class:"dp__tooltip_text"},[t.$slots["marker-tooltip"]?renderSlot(t.$slots,"marker-tooltip",{key:0,tooltop:r,day:e.value}):createCommentVNode("",!0),t.$slots["marker-tooltip"]?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment$1,{key:1},[createBaseVNode("div",{class:"dp__tooltip_mark",style:normalizeStyle(r.color?{backgroundColor:r.color}:{})},null,4),createBaseVNode("div",null,toDisplayString(r.text),1)],64))])})),128)),Nt])],4)):createCommentVNode("",!0)],2)],40,Bt)})),128))])})),128))])):createCommentVNode("",!0)]})),_:3},8,["name","css"])],34))],4)],2)}}});function Rt(e){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}var Et=function(e,t){return t},Ft=function(e){return Array.isArray(e)},Yt=function(e){return Array.isArray(e)},Kt=function(e){return Array.isArray(e)&&2===e.length},Ut=function(e){return"string"==typeof e},Ht={class:"dp__selection_preview"},Gt={class:"dp__action_buttons"},Lt=["onKeydown"],Wt=defineComponent({props:{selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},internalModelValue:{type:[Date,Array],default:null},range:{type:Boolean,default:!1},previewFormat:{type:[String,Function],default:function(){return""}},inline:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},multiCalendars:{type:Number,default:0},calendarWidth:{type:Number,default:0},menuMount:{type:Boolean,default:!1},customProps:{type:Object,default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},enableTimePicker:{type:Boolean,default:!0},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},multiDates:{type:Boolean,default:!1}},emits:["closePicker","selectDate"],setup:function(e,t){var r=t.emit,n=e,i=inject("formatLocale"),o=computed((function(){return{dp__action:!0,dp__select:!0,dp__action_disabled:!s.value||!a.value}})),s=computed((function(){return!n.enableTimePicker||ct(n.internalModelValue,n.maxTime,n.minTime)})),a=computed((function(){return!n.monthPicker||(e=n.internalModelValue,t=n.minDate,r=n.maxDate,i=!0,t&&r&&(i=at(new Date(e),new Date(t))&&rt(new Date(e),new Date(r))),t&&(i=at(new Date(e),new Date(t))),r&&(i=rt(new Date(e),new Date(r))),i);var e,t,r,i})),u=function(e){return nt(e,n.previewFormat,null==i?void 0:i.value)},l=computed((function(){return n.internalModelValue&&n.menuMount?"string"==typeof n.previewFormat?Ft(n.internalModelValue)?2===n.internalModelValue.length&&n.internalModelValue[1]?n.multiCalendars>0?"".concat(u(n.internalModelValue[0])," - ").concat(u(n.internalModelValue[1])):[u(n.internalModelValue[0]),u(n.internalModelValue[1])]:n.multiDates?n.internalModelValue.map((function(e){return"".concat(u(e))})):"".concat(u(n.internalModelValue[0])," -"):nt(n.internalModelValue,n.previewFormat,null==i?void 0:i.value):n.timePicker?n.previewFormat(et(n.internalModelValue)):n.monthPicker?n.previewFormat(Ze(n.internalModelValue)):n.previewFormat(n.internalModelValue):""})),c=function(){s.value&&a.value&&r("selectDate")};return function(t,r){return openBlock(),createElementBlock("div",{class:"dp__action_row",style:normalizeStyle(e.calendarWidth?{width:"".concat(e.calendarWidth,"px")}:{})},[createBaseVNode("div",Ht,[t.$slots["action-preview"]?renderSlot(t.$slots,"action-preview",{key:0,value:e.internalModelValue}):createCommentVNode("",!0),t.$slots["action-preview"]?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment$1,{key:1},[Array.isArray(unref(l))?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment$1,{key:0},[createTextVNode(toDisplayString(unref(l)),1)],64)),Array.isArray(unref(l))?(openBlock(!0),createElementBlock(Fragment$1,{key:1},renderList(unref(l),(function(e,t){return openBlock(),createElementBlock("div",{key:t},toDisplayString(e),1)})),128)):createCommentVNode("",!0)],64))]),createBaseVNode("div",Gt,[t.$slots["action-select"]?renderSlot(t.$slots,"action-select",{key:0,value:e.internalModelValue}):createCommentVNode("",!0),t.$slots["action-select"]?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment$1,{key:1},[e.inline?createCommentVNode("",!0):(openBlock(),createElementBlock("span",{key:0,class:"dp__action dp__cancel",tabindex:"0",onClick:r[0]||(r[0]=function(e){return t.$emit("closePicker")}),onKeydown:r[1]||(r[1]=withKeys((function(e){return t.$emit("closePicker")}),["enter"]))},toDisplayString(e.cancelText),33)),createBaseVNode("span",{class:normalizeClass(unref(o)),tabindex:"0",onKeydown:withKeys(c,["enter"]),onClick:c},toDisplayString(e.selectText),43,Lt)],64))])],4)}}});function zt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(r),!0).forEach((function(t){he(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Jt={class:"dp__overlay_container",role:"grid"},Xt={class:"dp__selection_grid_header"},Zt=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],Qt=["onKeydown"],en=defineComponent({props:{items:{type:Array,default:function(){return[]}},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:function(){return[]}},disabledValues:{type:Array,default:function(){return[]}},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1}},emits:["update:modelValue","selected","toggle","reset-flow"],setup:function(e,t){var r=t.emit,n=e,i=ref(!1),o=ref(null),s=ref(null),a=inject("autoApply",!1),u=inject("textInput",ref(!1)),l=ref();onBeforeUpdate((function(){o.value=null})),onMounted((function(){g();var e=ht(s);e&&(u.value||e.focus({preventScroll:!0}),i.value=e.clientHeight<e.scrollHeight)}));var c=computed((function(){return{dp__overlay:!0}})),f=computed((function(){return{dp__overlay_col:!0}})),h=computed((function(){return n.items.map((function(e){return e.filter((function(e){return e})).map((function(e){var t,r,i,o=n.disabledValues.some((function(t){return t===e.value}))||p(e.value),s=null!==(t=n.multiModelValue)&&void 0!==t&&t.length?null===(r=n.multiModelValue)||void 0===r?void 0:r.some((function(t){return lt(t,setYear(setMonth(new Date,e.value),n.year))})):!n.skipActive&&e.value===n.modelValue;return qt(qt({},e),{},{className:{dp__overlay_cell_active:s,dp__overlay_cell:!s,dp__overlay_cell_disabled:o,dp__overlay_cell_active_disabled:o&&s,dp__overlay_cell_pad:!0,dp__cell_in_between:!(null===(i=n.multiModelValue)||void 0===i||!i.length)&&y(e.value)}})}))}))})),d=computed((function(){return{dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:i.value,dp__button_bottom:a}})),p=function(e){var t=!!n.maxValue&&+e>+n.maxValue,r=!!n.minValue&&+e<+n.minValue;return t||r},g=function(){var e=ht(o);if(e){var t=ht(s);t&&(t.scrollTop=e.offsetTop-t.offsetTop-(t.getBoundingClientRect().height/2-e.getBoundingClientRect().height))}},m=function(e){n.disabledValues.some((function(t){return t===e}))||n.minValue&&!(+n.minValue<=e)||n.maxValue&&!(+n.maxValue>=e)||(r("update:modelValue",e),r("selected"))},y=function(e){return ft(n.multiModelValue,setYear(setMonth(new Date,l.value||0),n.year),setYear(setMonth(new Date,e),n.year))},b=function(){r("toggle"),r("reset-flow")};return function(t,r){return openBlock(),createElementBlock("div",{ref_key:"gridWrapRef",ref:s,class:normalizeClass(unref(c)),role:"dialog",tabindex:"0"},[createBaseVNode("div",Jt,[createBaseVNode("div",Xt,[renderSlot(t.$slots,"header")]),(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(h),(function(r,n){return openBlock(),createElementBlock("div",{class:"dp__overlay_row",key:unref(yt)(n),role:"row"},[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(r,(function(r){return openBlock(),createElementBlock("div",{role:"gridcell",class:normalizeClass(unref(f)),key:r.value,"aria-selected":r.value===e.modelValue&&!e.disabledValues.includes(r.value),"aria-disabled":r.className.dp__overlay_cell_disabled,ref_for:!0,ref:function(t){r.value!==e.modelValue||e.disabledValues.includes(r.value)||(o.value=t)},tabindex:"0",onClick:function(e){return m(r.value)},onKeydown:withKeys((function(e){return m(r.value)}),["enter"]),onMouseover:function(e){return l.value=r.value}},[createBaseVNode("div",{class:normalizeClass(r.className)},[t.$slots.item?renderSlot(t.$slots,"item",{key:0,item:r}):createCommentVNode("",!0),t.$slots.item?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment$1,{key:1},[createTextVNode(toDisplayString(r.text),1)],64))],2)],42,Zt)})),128))])})),128)),t.$slots["button-icon"]?(openBlock(),createElementBlock("div",{key:0,role:"button","aria-label":"Toggle overlay",class:normalizeClass(unref(d)),tabindex:"0",onClick:b,onKeydown:withKeys(b,["enter"])},[renderSlot(t.$slots,"button-icon")],42,Qt)):createCommentVNode("",!0)])],2)}}}),tn=function(){var e=inject("transitions");return{transitionName:computed((function(){return function(t){return null!=e&&e.value?t?e.value.open:e.value.close:""}})),showTransition:!(null==e||!e.value)}},nn={key:0,class:"dp__time_input"},an=["onKeydown"],rn=["onKeydown"],ln=["onKeydown"],on={key:2},un=["onKeydown"],sn=defineComponent({props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},is24:{type:Boolean,default:!0},filters:{type:Object,default:function(){return{}}},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["setHours","setMinutes","update:hours","update:minutes","update:seconds","reset-flow"],setup:function(e,t){var r=t.expose,n=t.emit,i=e,o=ref(!1),s=ref(!1),a=ref(!1),u=ref("AM"),l=tn(),c=l.transitionName,f=l.showTransition,h=computed((function(){return{dp__time_col:!0,dp__time_col_reg:!i.enableSeconds&&i.is24,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24}})),d=computed((function(){var e=w(i.hours);return{text:e<10?"0".concat(e):"".concat(e),value:e}})),p=computed((function(){return{text:i.minutes<10?"0".concat(i.minutes):"".concat(i.minutes),value:i.minutes}})),g=computed((function(){return{text:i.seconds<10?"0".concat(i.seconds):"".concat(i.seconds),value:i.seconds}})),m=function(e,t){return function(e,t){for(var r=[],n=0;n<e;n+=t)r.push({value:n,text:n<10?"0".concat(n):"".concat(n)});return function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=[],n=0;n<e.length;n+=t)r.push([e[n],e[n+1],e[n+2]]);return r}(r)}(e,+t)},y=function(){i.noHoursOverlay||(o.value=!o.value)},b=function(){i.noMinutesOverlay||(s.value=!s.value)},v=function(){i.noSecondsOverlay||(a.value=!a.value)},_=function(e,t){return{hours:"hours"===e?getHours(t?ot({hours:+i.hours},{hours:+i.hoursIncrement}):ut({hours:+i.hours},{hours:+i.hoursIncrement})):i.hours,minutes:"minutes"===e?getMinutes(t?ot({minutes:i.minutes},{minutes:+i.minutesIncrement}):ut({minutes:i.minutes},{minutes:+i.minutesIncrement})):i.minutes,seconds:"seconds"===e?getSeconds(t?ot({seconds:i.seconds},{seconds:+i.secondsIncrement}):ut({seconds:i.seconds},{seconds:+i.secondsIncrement})):i.seconds}},$=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=_(e,t),i=r[e];n("update:".concat(e),i)},w=function(e){return i.is24?e:(u.value=e>=12?"PM":"AM",[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e])},E=function(){"PM"===u.value?(u.value="AM",n("update:hours",i.hours-12)):(u.value="PM",n("update:hours",i.hours+12))};return r({openChildCmp:function(e){switch(e){case"hours":o.value=!0;break;case"minutes":s.value=!0;break;case"seconds":a.value=!0}}}),function(t,r){return e.disabled?createCommentVNode("",!0):(openBlock(),createElementBlock("div",nn,[createBaseVNode("div",{class:normalizeClass(unref(h))},[createBaseVNode("div",{class:"dp__inc_dec_button",role:"button","aria-label":"Increment hours",tabindex:"0",onKeydown:r[0]||(r[0]=withKeys((function(e){return $("hours")}),["enter"])),onClick:r[1]||(r[1]=function(e){return $("hours")})},[t.$slots["arrow-up"]?renderSlot(t.$slots,"arrow-up",{key:0}):createCommentVNode("",!0),t.$slots["arrow-up"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(Re),{key:1}))],32),createBaseVNode("div",{role:"button","aria-label":"Open hours overlay",class:normalizeClass(e.noHoursOverlay?"":"dp__time_display"),tabindex:"0",onKeydown:withKeys(y,["enter"]),onClick:y},[t.$slots.hours?renderSlot(t.$slots,"hours",{key:0,text:unref(d).text,value:unref(d).value}):createCommentVNode("",!0),t.$slots.hours?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment$1,{key:1},[createTextVNode(toDisplayString(unref(d).text),1)],64))],42,an),createBaseVNode("div",{class:"dp__inc_dec_button",role:"button","aria-label":"Decrement hours",tabindex:"0",onKeydown:r[2]||(r[2]=withKeys((function(e){return $("hours",!1)}),["enter"])),onClick:r[3]||(r[3]=function(e){return $("hours",!1)})},[t.$slots["arrow-down"]?renderSlot(t.$slots,"arrow-down",{key:0}):createCommentVNode("",!0),t.$slots["arrow-down"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(Ye),{key:1}))],32)],2),createBaseVNode("div",{class:normalizeClass(unref(h))},":",2),createBaseVNode("div",{class:normalizeClass(unref(h))},[createBaseVNode("div",{class:"dp__inc_dec_button",role:"button","aria-label":"Increment minutes",tabindex:"0",onKeydown:r[4]||(r[4]=withKeys((function(e){return $("minutes")}),["enter"])),onClick:r[5]||(r[5]=function(e){return $("minutes")})},[t.$slots["arrow-up"]?renderSlot(t.$slots,"arrow-up",{key:0}):createCommentVNode("",!0),t.$slots["arrow-up"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(Re),{key:1}))],32),createBaseVNode("div",{"aria-label":"Open minutes overlay",role:"button",class:normalizeClass(e.noMinutesOverlay?"":"dp__time_display"),tabindex:"0",onKeydown:withKeys(b,["enter"]),onClick:b},[t.$slots.minutes?renderSlot(t.$slots,"minutes",{key:0,text:unref(p).text,value:unref(p).value}):createCommentVNode("",!0),t.$slots.minutes?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment$1,{key:1},[createTextVNode(toDisplayString(unref(p).text),1)],64))],42,rn),createBaseVNode("div",{class:"dp__inc_dec_button",role:"button","aria-label":"Decrement minutes",tabindex:"0",onKeydown:r[6]||(r[6]=withKeys((function(e){return $("minutes",!1)}),["enter"])),onClick:r[7]||(r[7]=function(e){return $("minutes",!1)})},[t.$slots["arrow-down"]?renderSlot(t.$slots,"arrow-down",{key:0}):createCommentVNode("",!0),t.$slots["arrow-down"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(Ye),{key:1}))],32)],2),e.enableSeconds?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(h))},":",2)):createCommentVNode("",!0),e.enableSeconds?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(h))},[createBaseVNode("div",{class:"dp__inc_dec_button",role:"button","aria-label":"Increment seconds",tabindex:"0",onKeydown:r[8]||(r[8]=withKeys((function(e){return $("seconds")}),["enter"])),onClick:r[9]||(r[9]=function(e){return $("seconds")})},[t.$slots["arrow-up"]?renderSlot(t.$slots,"arrow-up",{key:0}):createCommentVNode("",!0),t.$slots["arrow-up"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(Re),{key:1}))],32),createBaseVNode("div",{role:"button","aria-label":"Open seconds overlay",class:normalizeClass(e.noSecondsOverlay?"":"dp__time_display"),tabindex:"0",onKeydown:withKeys(v,["enter"]),onClick:v},[t.$slots.seconds?renderSlot(t.$slots,"hours",{key:0,text:unref(g).text,value:unref(g).value}):createCommentVNode("",!0),t.$slots.seconds?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment$1,{key:1},[createTextVNode(toDisplayString(unref(g).text),1)],64))],42,ln),createBaseVNode("div",{class:"dp__inc_dec_button",role:"button","aria-label":"Decrement seconds",tabindex:"0",onKeydown:r[10]||(r[10]=withKeys((function(e){return $("seconds",!1)}),["enter"])),onClick:r[11]||(r[11]=function(e){return $("seconds",!1)})},[t.$slots["arrow-down"]?renderSlot(t.$slots,"arrow-down",{key:0}):createCommentVNode("",!0),t.$slots["arrow-down"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(Ye),{key:1}))],32)],2)):createCommentVNode("",!0),e.is24?createCommentVNode("",!0):(openBlock(),createElementBlock("div",on,[t.$slots["am-pm-button"]?renderSlot(t.$slots,"am-pm-button",{key:0,toggle:E,value:u.value}):createCommentVNode("",!0),t.$slots["am-pm-button"]?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:1,class:"dp__pm_am_button",role:"button","aria-label":"Switch AM/PM mode",tabindex:"0",onClick:E,onKeydown:withKeys(E,["enter"])},toDisplayString(u.value),41,un))])),createVNode(Transition,{name:unref(c)(o.value),css:unref(f)},{default:withCtx((function(){return[o.value?(openBlock(),createBlock(en,{key:0,items:m(e.is24?24:12,e.hoursGridIncrement),"disabled-values":e.filters.times.hours,"onUpdate:modelValue":r[12]||(r[12]=function(e){return t.$emit("update:hours",e)}),onSelected:y,onToggle:y,onResetFlow:r[13]||(r[13]=function(e){return t.$emit("reset-flow")})},createSlots({"button-icon":withCtx((function(){return[t.$slots["clock-icon"]?renderSlot(t.$slots,"clock-icon",{key:0}):createCommentVNode("",!0),t.$slots["clock-icon"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(Be),{key:1}))]})),_:2},[t.$slots["hours-overlay"]?{name:"item",fn:withCtx((function(e){var r=e.item;return[renderSlot(t.$slots,"hours-overlay",{text:r.text,value:r.value})]}))}:void 0]),1032,["items","disabled-values"])):createCommentVNode("",!0)]})),_:3},8,["name","css"]),createVNode(Transition,{name:unref(c)(s.value),css:unref(f)},{default:withCtx((function(){return[s.value?(openBlock(),createBlock(en,{key:0,items:m(60,e.minutesGridIncrement),"disabled-values":e.filters.times.minutes,"onUpdate:modelValue":r[14]||(r[14]=function(e){return t.$emit("update:minutes",e)}),onSelected:b,onToggle:b,onResetFlow:r[15]||(r[15]=function(e){return t.$emit("reset-flow")})},createSlots({"button-icon":withCtx((function(){return[t.$slots["clock-icon"]?renderSlot(t.$slots,"clock-icon",{key:0}):createCommentVNode("",!0),t.$slots["clock-icon"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(Be),{key:1}))]})),_:2},[t.$slots["minutes-overlay"]?{name:"item",fn:withCtx((function(e){var r=e.item;return[renderSlot(t.$slots,"minutes-overlay",{text:r.text,value:r.value})]}))}:void 0]),1032,["items","disabled-values"])):createCommentVNode("",!0)]})),_:3},8,["name","css"]),createVNode(Transition,{name:unref(c)(a.value),css:unref(f)},{default:withCtx((function(){return[a.value?(openBlock(),createBlock(en,{key:0,items:m(60,e.secondsGridIncrement),"disabled-values":e.filters.times.seconds,"onUpdate:modelValue":r[16]||(r[16]=function(e){return t.$emit("update:seconds",e)}),onSelected:v,onToggle:v,onResetFlow:r[17]||(r[17]=function(e){return t.$emit("reset-flow")})},createSlots({"button-icon":withCtx((function(){return[t.$slots["clock-icon"]?renderSlot(t.$slots,"clock-icon",{key:0}):createCommentVNode("",!0),t.$slots["clock-icon"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(Be),{key:1}))]})),_:2},[t.$slots["seconds-overlay"]?{name:"item",fn:withCtx((function(e){var r=e.item;return[renderSlot(t.$slots,"seconds-overlay",{text:r.text,value:r.value})]}))}:void 0]),1032,["items","disabled-values"])):createCommentVNode("",!0)]})),_:3},8,["name","css"])]))}}}),cn=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar"]},{name:"arrow-down",use:["time","calendar"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay",use:["calendar","month-year"]},{name:"year-overlay",use:["calendar","month-year"]},{name:"hours-overlay",use:["calendar","time"]},{name:"minutes-overlay",use:["calendar","time"]},{name:"seconds-overlay",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-select",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"now-button",use:[]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]}],dn=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],fn={all:function(){return cn},monthYear:function(){return cn.filter((function(e){return e.use.includes("month-year")}))},input:function(){return dn},timePicker:function(){return cn.filter((function(e){return e.use.includes("time")}))},action:function(){return cn.filter((function(e){return e.use.includes("action")}))},calendar:function(){return cn.filter((function(e){return e.use.includes("calendar")}))}},pn=function(e,t){var r=[];return fn[t]().forEach((function(t){e[t.name]&&r.push(t.name)})),r},mn={key:0,class:"dp__overlay"},vn={class:"dp__overlay_container"},yn={key:1,class:"dp__overlay_row"},hn=defineComponent({props:{hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},is24:{type:Boolean,default:!0},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},range:{type:Boolean,default:!1},filters:{type:Object,default:function(){return{}}},timePicker:{type:Boolean,default:!1},hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},customProps:{type:Object,default:null},enableSeconds:{type:Boolean,default:!1},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1}},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow"],setup:function(e,t){var r=t.expose,n=t.emit,i=e,o=useSlots(),s=inject("autoApply",!1),a=ref(null),u=tn(),l=u.transitionName,c=u.showTransition;onMounted((function(){n("mount")}));var f=ref(!1),h=function(e){return{hours:Array.isArray(i.hours)?i.hours[e]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[e]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[e]:i.seconds}},d=computed((function(){var e=[];if(i.range)for(var t=0;t<2;t++)e.push(h(t));else e.push(h(0));return e})),p=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t||n("reset-flow"),f.value=e,nextTick((function(){""!==r&&a.value&&a.value.openChildCmp(r)}))},g=computed((function(){return{dp__button:!0,dp__button_bottom:s}})),m=pn(o,"timePicker"),y=computed((function(){return{is24:i.is24,hoursGridIncrement:i.hoursGridIncrement,minutesGridIncrement:i.minutesGridIncrement,secondsGridIncrement:i.secondsGridIncrement,hoursIncrement:i.hoursIncrement,minutesIncrement:i.minutesIncrement,secondsIncrement:i.secondsIncrement,filters:i.filters,noHoursOverlay:i.noHoursOverlay,noMinutesOverlay:i.noMinutesOverlay,noSecondsOverlay:i.noSecondsOverlay,enableSeconds:i.enableSeconds}})),b=function(e,t,r){return i.range?0===t?[e,d.value[1][r]]:[d.value[0][r],e]:e},v=function(e){n("update:hours",e)},_=function(e){n("update:minutes",e)},$=function(e){n("update:seconds",e)};return r({toggleTimePicker:p}),function(t,r){return openBlock(),createElementBlock("div",null,[e.timePicker?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g)),role:"button","aria-label":"Open time picker",tabindex:"0",onKeydown:r[0]||(r[0]=withKeys((function(e){return p(!0)}),["enter"])),onClick:r[1]||(r[1]=function(e){return p(!0)})},[t.$slots["clock-icon"]?renderSlot(t.$slots,"clock-icon",{key:0}):createCommentVNode("",!0),t.$slots["clock-icon"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(Be),{key:1}))],34)),createVNode(Transition,{name:unref(l)(f.value),css:unref(c)},{default:withCtx((function(){return[f.value||e.timePicker?(openBlock(),createElementBlock("div",mn,[createBaseVNode("div",vn,[t.$slots["time-picker-overlay"]?renderSlot(t.$slots,"time-picker-overlay",{key:0,range:e.range,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:v,setMinutes:_,setSeconds:$}):createCommentVNode("",!0),t.$slots["time-picker-overlay"]?createCommentVNode("",!0):(openBlock(),createElementBlock("div",yn,[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(d),(function(r,n){return openBlock(),createBlock(sn,mergeProps({key:n,disabled:0===n?e.fixedStart:e.fixedEnd,hours:r.hours,minutes:r.minutes,seconds:r.seconds},unref(y),{"onUpdate:hours":function(e){return v(b(e,n,"hours"))},"onUpdate:minutes":function(e){return _(b(e,n,"minutes"))},"onUpdate:seconds":function(e){return $(b(e,n,"seconds"))}}),createSlots({_:2},[renderList(unref(m),(function(e,r){return{name:e,fn:withCtx((function(r){return[renderSlot(t.$slots,e,normalizeProps(guardReactiveProps(r)))]}))}}))]),1040,["disabled","hours","minutes","seconds","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])})),128))])),e.timePicker?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(unref(g)),role:"button","aria-label":"Close time picker",tabindex:"0",onKeydown:r[2]||(r[2]=withKeys((function(e){return p(!1)}),["enter"])),onClick:r[3]||(r[3]=function(e){return p(!1)})},[t.$slots["calendar-icon"]?renderSlot(t.$slots,"calendar-icon",{key:0}):createCommentVNode("",!0),t.$slots["calendar-icon"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(De),{key:1}))],34))])])):createCommentVNode("",!0)]})),_:3},8,["name","css"])])}}}),_n=function(e,t){var r=function t(r,n){var i=r;return e.filters.months.includes(getMonth(i))?t(i=n?addMonths(r,1):subMonths(r,1),n):i},n=function t(r,n){var i=r;return e.filters.years.includes(getYear(i))?t(i=n?addYears(r,1):subYears(r,1),n):i},i=function(t,r,n){return[new Date(e[t]),set(new Date,{month:r,year:n})]},o=function(e,r){t("update:month",e),t("update:year",r)};return{handleMonthYearChange:function(t){var s=set(new Date,{month:e.month,year:e.year}),a=t?addMonths(s,1):subMonths(s,1),u=getMonth(a),l=getYear(a);e.filters.months.includes(u)&&(u=getMonth(a=r(a,t)),l=getYear(a)),e.filters.years.includes(l)&&(l=getYear(a=n(a,t))),function(t,r){e.preventMinMaxNavigation&&(e.minDate||e.maxDate)?(e.maxDate&&(at.apply(void 0,mt(i("maxDate",t,r)))||lt.apply(void 0,mt(i("maxDate",t,r))))&&o(t,r),(e.minDate&&rt.apply(void 0,mt(i("minDate",t,r)))||lt.apply(void 0,mt(i("minDate",t,r))))&&o(t,r)):o(t,r)}(u,l)}}};function gn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(r),!0).forEach((function(t){he(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var bn={class:"dp__month_year_row"},kn={class:"dp__inner_nav",role:"button","aria-label":"Previous month"},Dn=["onKeydown"],Sn=["onKeydown"],On={class:"dp__inner_nav",role:"button","aria-label":"Next month"},xn={class:"dp__month_picker_header"},Pn={class:"dp__inner_nav",role:"button","aria-label":"Previous month"},Mn=["onKeydown"],Cn={class:"dp__inner_nav",role:"button","aria-label":"Next month"},An=defineComponent({props:wn(wn({},xt),{},{minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1}}),emits:["update:month","update:year","monthYearSelect","mount","reset-flow"],setup:function(e,t){var r=t.expose,n=t.emit,i=e,o=tn(),s=o.transitionName,a=o.showTransition,u=ref(!1),l=ref(!1),c=_n(i,n).handleMonthYearChange;onMounted((function(){n("mount")}));var f=function(e){n("update:month",e),n("monthYearSelect"),S(!0)},h=function(e){n("update:year",e),n("monthYearSelect",!0),A(!0)},d=computed((function(){return i.minDate?getYear(new Date(i.minDate)):null})),p=computed((function(){return i.maxDate?getYear(new Date(i.maxDate)):null})),g=computed((function(){if(i.minDate&&d.value){if(d.value>i.year)return 12;if(d.value===i.year)return getMonth(new Date(i.minDate))}return null})),m=computed((function(){if(i.maxDate&&p.value){if(p.value<i.year)return-1;if(p.value===i.year)return getMonth(new Date(i.maxDate))}return null})),y=computed((function(){return i.range&&i.internalModelValue&&i.monthPicker?i.internalModelValue:[]})),b=function(e){for(var t=[],r=0;r<e.length;r+=3){var n=[e[r],e[r+1],e[r+2]];t.push(i.reverseYears?n.reverse():n)}return t},v=computed((function(){return i.months.find((function(e){return e.value===i.month}))||{text:"",value:0}})),_=computed((function(){return b(i.months)})),$=computed((function(){var e=b(i.years);return i.reverseYears?e.reverse():e})),w=computed((function(){return!i.multiCalendars||!!i.multiCalendarsSolo||0===i.instance})),E=computed((function(){return!i.multiCalendars||!!i.multiCalendarsSolo||i.instance===i.multiCalendars-1})),S=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];R(e),u.value=!u.value},A=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];R(e),l.value=!l.value},R=function(e){e||n("reset-flow")},N=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n("update:year",e?i.year+1:i.year-1)};return r({toggleMonthPicker:S,toggleYearPicker:A}),function(e,t){return openBlock(),createElementBlock("div",bn,[e.monthPicker?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment$1,{key:0},[unref(w)?(openBlock(),createElementBlock("div",{key:0,class:"dp__month_year_col_nav",onClick:t[0]||(t[0]=function(e){return unref(c)(!1)}),onKeydown:t[1]||(t[1]=withKeys((function(e){return unref(c)(!1)}),["enter"])),tabindex:"0"},[createBaseVNode("div",kn,[e.$slots["arrow-left"]?renderSlot(e.$slots,"arrow-left",{key:0}):createCommentVNode("",!0),e.$slots["arrow-left"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(Ce),{key:1}))])],32)):createCommentVNode("",!0),createBaseVNode("div",{class:"dp__month_year_select",onClick:S,onKeydown:withKeys(S,["enter"]),role:"button","aria-label":"Open months overlay",tabindex:"0"},[e.$slots.month?renderSlot(e.$slots,"month",{key:0,value:unref(v).value,text:unref(v).text}):createCommentVNode("",!0),e.$slots.month?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment$1,{key:1},[createTextVNode(toDisplayString(unref(v).text),1)],64))],40,Dn),createBaseVNode("div",{class:"dp__month_year_select",onClick:A,onKeydown:withKeys(A,["enter"]),role:"button","aria-label":"Open years overlay",tabindex:"0"},[e.$slots.year?renderSlot(e.$slots,"year",{key:0,year:e.year}):createCommentVNode("",!0),e.$slots.year?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment$1,{key:1},[createTextVNode(toDisplayString(e.year),1)],64))],40,Sn),createVNode(Transition,{name:unref(s)(u.value),css:unref(a)},{default:withCtx((function(){return[u.value?(openBlock(),createBlock(en,mergeProps({key:0},{modelValue:e.month,items:unref(_),disabledValues:e.filters.months,minValue:unref(g),maxValue:unref(m)},{"onUpdate:modelValue":f,onToggle:S}),createSlots({"button-icon":withCtx((function(){return[e.$slots["calendar-icon"]?renderSlot(e.$slots,"calendar-icon",{key:0}):createCommentVNode("",!0),e.$slots["calendar-icon"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(De),{key:1}))]})),_:2},[e.$slots["month-overlay"]?{name:"item",fn:withCtx((function(t){var r=t.item;return[renderSlot(e.$slots,"month-overlay",{text:r.text,value:r.value})]}))}:void 0]),1040)):createCommentVNode("",!0)]})),_:3},8,["name","css"]),createVNode(Transition,{name:unref(s)(l.value),css:unref(a)},{default:withCtx((function(){return[l.value?(openBlock(),createBlock(en,mergeProps({key:0},{modelValue:e.year,items:unref($),disabledValues:e.filters.years,minValue:unref(d),maxValue:unref(p)},{"onUpdate:modelValue":h,onToggle:A}),createSlots({"button-icon":withCtx((function(){return[e.$slots["calendar-icon"]?renderSlot(e.$slots,"calendar-icon",{key:0}):createCommentVNode("",!0),e.$slots["calendar-icon"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(De),{key:1}))]})),_:2},[e.$slots["year-overlay"]?{name:"item",fn:withCtx((function(t){var r=t.item;return[renderSlot(e.$slots,"year-overlay",{text:r.text,value:r.value})]}))}:void 0]),1040)):createCommentVNode("",!0)]})),_:3},8,["name","css"]),unref(E)?(openBlock(),createElementBlock("div",{key:1,class:"dp__month_year_col_nav",onClick:t[2]||(t[2]=function(e){return unref(c)(!0)}),onKeydown:t[3]||(t[3]=withKeys((function(e){return unref(c)(!0)}),["enter"])),tabindex:"0"},[createBaseVNode("div",On,[e.$slots["arrow-right"]?renderSlot(e.$slots,"arrow-right",{key:0}):createCommentVNode("",!0),e.$slots["arrow-right"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(Ve),{key:1}))])],32)):createCommentVNode("",!0)],64)),e.monthPicker?(openBlock(),createBlock(en,mergeProps({key:1},{modelValue:e.month,items:unref(_),disabledValues:e.filters.months,minValue:unref(g),maxValue:unref(m),multiModelValue:unref(y),year:e.year,skipActive:i.range},{"onUpdate:modelValue":f,onToggle:S}),createSlots({header:withCtx((function(){return[createBaseVNode("div",xn,[createBaseVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",onClick:t[4]||(t[4]=function(e){return N(!1)}),onKeydown:t[5]||(t[5]=withKeys((function(e){return N(!1)}),["enter"]))},[createBaseVNode("div",Pn,[e.$slots["arrow-left"]?renderSlot(e.$slots,"arrow-left",{key:0}):createCommentVNode("",!0),e.$slots["arrow-left"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(Ce),{key:1}))])],32),createBaseVNode("div",{class:"dp__pointer",role:"button","aria-label":"Open years overlay",tabindex:"0",onClick:A,onKeydown:withKeys(A,["enter"])},[e.$slots.year?renderSlot(e.$slots,"year",{key:0,year:e.year}):createCommentVNode("",!0),e.$slots.year?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment$1,{key:1},[createTextVNode(toDisplayString(e.year),1)],64))],40,Mn),createBaseVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",onClick:t[6]||(t[6]=function(e){return N(!0)}),onKeydown:t[7]||(t[7]=withKeys((function(e){return N(!0)}),["enter"]))},[createBaseVNode("div",Cn,[e.$slots["arrow-right"]?renderSlot(e.$slots,"arrow-right",{key:0}):createCommentVNode("",!0),e.$slots["arrow-right"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(Ve),{key:1}))])],32)]),createVNode(Transition,{name:unref(s)(l.value),css:unref(a)},{default:withCtx((function(){return[l.value?(openBlock(),createBlock(en,mergeProps({key:0},{modelValue:e.year,items:unref($),disabledValues:e.filters.years,minValue:unref(d),maxValue:unref(p)},{"onUpdate:modelValue":h,onToggle:A}),createSlots({"button-icon":withCtx((function(){return[e.$slots["calendar-icon"]?renderSlot(e.$slots,"calendar-icon",{key:0}):createCommentVNode("",!0),e.$slots["calendar-icon"]?createCommentVNode("",!0):(openBlock(),createBlock(unref(De),{key:1}))]})),_:2},[e.$slots["year-overlay"]?{name:"item",fn:withCtx((function(t){var r=t.item;return[renderSlot(e.$slots,"year-overlay",{text:r.text,value:r.value})]}))}:void 0]),1040)):createCommentVNode("",!0)]})),_:3},8,["name","css"])]})),_:2},[e.$slots["month-overlay"]?{name:"item",fn:withCtx((function(t){var r=t.item;return[renderSlot(e.$slots,"month-overlay",{text:r.text,value:r.value})]}))}:void 0]),1040)):createCommentVNode("",!0)])}}}),$n=function(e,t,r){var n=ref(new Date),i=ref(),o=ref([{month:getMonth(new Date),year:getYear(new Date)}]),s=ref(e.range?[getHours(new Date),getHours(new Date)]:getHours(new Date)),a=ref(e.range?[getMinutes(new Date),getMinutes(new Date)]:getMinutes(new Date)),u=ref(e.range?[0,0]:0);watch(o,(function(){setTimeout((function(){e.openOnTop&&t("dpOpen")}),0)}),{deep:!0}),onMounted((function(){w(),m.value||(e.startDate&&(o.value[0].month=getMonth(new Date(e.startDate)),o.value[0].year=getYear(new Date(e.startDate)),e.multiCalendars&&x(0)),e.startTime&&g())}));var l=computed((function(){return function(e){return o.value[e]?o.value[e].month:0}})),c=computed((function(){return function(e){return o.value[e]?o.value[e].year:0}})),f=function(e,t,r){o.value[e].month=t,o.value[e].year=r},h=function(e,t){return o.value[e].month=t},d=function(e,t){return o.value[e].year=t},p=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e.enableSeconds?Array.isArray(u.value)?t?u.value[0]:u.value[1]:u.value:0},g=function(){var t;e.startTime&&(t=e.startTime,Array.isArray(t)?(s.value=[+e.startTime[0].hours,+e.startTime[1].hours],a.value=[+e.startTime[0].minutes,+e.startTime[1].minutes],e.enableSeconds&&(u.value=[+e.startTime[0].seconds,+e.startTime[1].seconds])):(s.value=+e.startTime.hours,a.value=+e.startTime.minutes,e.enableSeconds&&(u.value=+e.startTime.seconds)))},m=computed({get:function(){return e.internalModelValue},set:function(r){e.readonly||e.disabled||t("update:internalModelValue",r)}});watch(m,(function(){return w()}));var y=function(t){var r=!!e.maxDate&&at(Ke(t),Ke(new Date(e.maxDate))),n=!!e.minDate&&rt(Ke(t),Ke(new Date(e.minDate))),i="function"==typeof e.disabledDates?e.disabledDates(t):e.disabledDates.some((function(e){return lt(Ke(new Date(e)),Ke(t))})),o=(e.filters.months.length?e.filters.months.map((function(e){return+e})):[]).includes(getMonth(t)),s=!!e.disabledWeekDays.length&&e.disabledWeekDays.some((function(e){return+e===getDay(t)})),a=!!e.allowedDates.length&&!e.allowedDates.some((function(e){return lt(Ke(new Date(e)),Ke(t))})),u=getYear(t),l=u<+e.yearRange[0]||u>+e.yearRange[1];return r||n||i||o||l||s||a},b=function(t){return!!m.value&&!(e.hideOffsetDates&&!t.current)&&!e.range&&(e.multiDates&&Array.isArray(m.value)?m.value.some((function(e){return lt(e,t.value)})):lt(t.value,m.value?m.value:n.value))},v=function(t){if(h(0,getMonth(t)),d(0,getYear(t)),e.multiCalendars)for(var r=1;r<e.multiCalendars;r++){var n=add(set(new Date,{month:l.value(r-1),year:c.value(r-1)}),{months:1});o.value.push({month:getMonth(n),year:getYear(n)})}},_=function(e){v(e),s.value=getHours(e),a.value=getMinutes(e),u.value=getSeconds(e)},$=function(){return Array.isArray(m.value)&&m.value.length?m.value[m.value.length-1]:null},w=function(){if(m.value)if(Ft(m.value)){if(2!==m.value.length||e.multiDates){if(Ft(m.value)&&e.multiDates){var t=m.value[m.value.length-1];t&&_(t)}}else v(m.value[0]),s.value=[getHours(m.value[0]),m.value[1]?getHours(m.value[1]):getHours(new Date)],a.value=[getMinutes(m.value[0]),m.value[1]?getMinutes(m.value[1]):getMinutes(new Date)],u.value=[getSeconds(m.value[0]),m.value[1]?getSeconds(m.value[1]):getSeconds(new Date)];e.multiCalendars&&e.multiCalendarsSolo&&function(){if(Array.isArray(m.value)&&2===m.value.length){var t=new Date(m.value[1]?m.value[1]:addMonths(m.value[0],1));getMonth(m.value[0])!==getMonth(m.value[1])&&e.multiCalendarsSolo&&(h(1,getMonth(t)),d(1,getYear(t)))}}()}else _(m.value);else e.timePicker?(g(),e.range?Yt(s.value)&&Yt(a.value)&&(m.value=[Le(new Date,s.value[0],a.value[0],p()),Le(new Date,s.value[1],a.value[1],p(!1))]):m.value=Le(new Date,s.value,a.value,p())):e.monthPicker&&!e.range?m.value=ze(new Date,l.value(0),c.value(0)):e.multiCalendars&&v(new Date)},E=function(t){var r=getMonth(new Date(t)),n=getYear(new Date(t));if(h(0,r),d(0,n),e.multiCalendars>0)for(var i=1;i<e.multiCalendars;i++){var o=We(set(new Date(t),{year:l.value(i-1),month:c.value(i-1)}));h(i,o.month),d(i,o.year)}},S=function(t){if(m.value&&Array.isArray(m.value))if(m.value.some((function(e){return lt(t,e)}))){var r=m.value.filter((function(e){return!lt(e,t)}));m.value=r.length?r:null}else(e.multiDatesLimit&&+e.multiDatesLimit>m.value.length||!e.multiDatesLimit)&&m.value.push(t);else m.value=[t]},A=function(t){if(Array.isArray(m.value)&&m.value[0]){var r=differenceInCalendarDays(t,m.value[0]),n=Math.abs(r<0?r+1:r-1);if(e.minRange&&e.maxRange)return n>=+e.minRange&&n<=+e.maxRange;if(e.minRange)return n>=+e.minRange;if(e.maxRange)return n<=+e.maxRange}return!0},R=function(t){return Array.isArray(m.value)&&2===m.value.length?e.fixedStart&&(at(t,m.value[0])||lt(t,m.value[0]))?[m.value[0],t]:e.fixedEnd&&(rt(t,m.value[1])||lt(t,m.value[1]))?[t,m.value[1]]:m.value:[]},N=function(){e.autoApply&&t("autoApply")},x=function(t){for(var r=t-1;r>=0;r--){var n=subMonths(set(new Date,{month:l.value(r+1),year:c.value(r+1)}),1);f(r,getMonth(n),getYear(n))}for(var i=t+1;i<=e.multiCalendars-1;i++){var o=addMonths(set(new Date,{month:l.value(i-1),year:c.value(i-1)}),1);f(i,getMonth(o),getYear(o))}},k=function(e){return ze(new Date,l.value(e),c.value(e))},C=function(e){return Le(e,s.value,a.value,p())},T=function(r){Ft(r)&&Ft(m.value)&&Yt(s.value)&&Yt(a.value)?(r[0]&&m.value[0]&&(m.value[0]=Le(r[0],s.value[0],a.value[0],p())),r[1]&&m.value[1]&&(m.value[1]=Le(r[1],s.value[1],a.value[1],p(!1)))):e.multiDates&&Array.isArray(m.value)?m.value[m.value.length-1]=C(r):e.range||Kt(r)||(m.value=C(r)),t("timeUpdate")},M=function(t){return!(Et(m.value,e.range)&&m.value[0]&&i.value)||(t?at(i.value,m.value[0]):rt(i.value,m.value[0]))},P=function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(e.range||e.weekPicker)&&Kt(m.value)?!(e.hideOffsetDates&&!t.current)&&lt(new Date(t.value),m.value[r?0:1]):!!e.range&&(lt(new Date(t.value),m.value&&Array.isArray(m.value)?r?m.value[0]||null:m.value[1]:null)&&(!r||!rt(i.value||null,Array.isArray(m.value)?m.value[0]:null))||lt(t.value,Array.isArray(m.value)?m.value[0]:null)&&M(r))},I=function(t,r){var n=set(new Date,{month:l.value(r),year:c.value(r)}),i=t<0?addMonths(n,1):subMonths(n,1);f(r,getMonth(i),getYear(i)),e.multiCalendars&&!e.multiCalendarsSolo&&x(r)};return{today:n,hours:s,minutes:a,seconds:u,month:l,year:c,monthYearSelect:function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.autoApply&&e.monthPicker&&t("autoApply",r)},isDisabled:y,updateTime:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=n?t:s.value,l=n||i?a.value:t,c=i?t:u.value;if(e.range&&Kt(m.value)&&Yt(o)&&Yt(l)&&Yt(c)){var f=function(e){return Le(m.value[e],o[e],l[e],c[e])},h=function(e){return setMilliseconds(m.value[e],0)};if(lt(m.value[0],m.value[1])&&(isAfter(f(0),h(1))||isBefore(f(1),h(0))))return}if(s.value=o,a.value=l,u.value=c,m.value)if(e.multiDates){var d=$();d&&T(d)}else T(m.value);else e.timePicker&&T(e.range?[new Date,new Date]:new Date);r()},setHoverDate:function(t){!t.current&&e.hideOffsetDates||(i.value=t.value)},getWeekNum:function(e){var t=e.find((function(e){return e.current}));return t?getISOWeek(t.value):""},selectDate:function(n){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!y(n.value)&&(n.current||!e.hideOffsetDates)){if(e.weekPicker)return m.value=pt(new Date(n.value),+e.weekStart),N();if(e.range||Yt(s.value)||Yt(a.value)){if(Yt(s.value)&&Yt(a.value)&&!e.multiDates){var o=m.value?m.value.slice():[];2!==o.length||e.fixedStart||e.fixedEnd||(o=[]),e.autoRange?(i&&E(n.value),o=[new Date(n.value),addDays(new Date(n.value),+e.autoRange)]):e.fixedStart||e.fixedEnd?o=R(new Date(n.value)):o[0]?A(new Date(n.value))&&(rt(new Date(n.value),new Date(o[0]))?o.unshift(new Date(n.value)):o[1]=new Date(n.value)):o[0]=new Date(n.value),o[0]&&!o[1]?o[0]=Le(o[0],s.value[0],a.value[0],p()):(o[0]=Le(o[0],s.value[0],a.value[0],p()),o[1]=Le(o[1],s.value[1],a.value[1],p(!1)),r()),m.value=o,o[0]&&o[1]&&e.autoApply&&t("autoApply")}}else{var u=Le(new Date(n.value),s.value,a.value,p());e.multiDates?S(u):m.value=u,r(),N()}}},rangeActive:function(e){return ft(m.value,i.value,e.value)},isActiveDate:b,updateMonthYear:function(n,i){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(o?h(n,i):d(n,i),e.multiCalendars&&!e.multiCalendarsSolo&&x(n),e.monthPicker)if(e.range){if(o){var s=m.value?m.value.slice():[];2===s.length&&(s=[]),s.length?rt(k(n),s[0])?s.unshift(k(n)):s.push(k(n)):s=[k(n)],m.value=s}}else m.value=k(n);r(),t("updateMonthYear",{instance:n,value:i,isMonth:o})},isHoverRangeEnd:function(t){if(e.autoRange||e.weekPicker){if(i.value){if(e.hideOffsetDates&&!t.current)return!1;var r=addDays(i.value,+e.autoRange),n=pt(new Date(i.value),+e.weekStart);return e.weekPicker?lt(n[1],new Date(t.value)):lt(r,new Date(t.value))}return!1}return!1},isAutoRangeInBetween:function(t){if(e.autoRange||e.weekPicker){if(i.value){var r=addDays(i.value,+e.autoRange);if(e.hideOffsetDates&&!t.current)return!1;var n=pt(new Date(i.value),+e.weekStart);return e.weekPicker?at(t.value,n[0])&&rt(t.value,n[1]):at(t.value,i.value)&&rt(t.value,r)}return!1}return!1},isAutoRangeStart:function(t){if(e.autoRange||e.weekPicker){if(i.value){if(e.hideOffsetDates&&!t.current)return!1;var r=pt(new Date(i.value),+e.weekStart);return e.weekPicker?lt(r[0],t.value):lt(i.value,t.value)}return!1}return!1},clearHoverDate:function(){i.value=null},rangeActiveStartEnd:P,handleScroll:function(t,r){e.monthChangeOnScroll&&I("inverse"===e.monthChangeOnScroll?-t.deltaY:t.deltaY,r)},getMarker:function(t){return e.markers.find((function(e){return lt(Ke(new Date(t.value)),Ke(new Date(e.date)))}))},handleArrow:function(t,r){e.monthChangeOnArrows&&I("right"===t?-1:1,r)},selectCurrentDate:function(){e.range?Et(m.value,e.range)&&(m.value&&m.value[0]?m.value=rt(new Date,m.value[0])?[new Date,m.value[0]]:[m.value[0],new Date]:m.value=[new Date]):t("update:internalModelValue",new Date),e.autoApply&&t("selectDate")},isHoverDate:function(t,r){return!(Array.isArray(e.internalModelValue)&&e.internalModelValue.length||e.weekPicker||t||b(r)||!r.current&&e.hideOffsetDates||e.range&&(P(r)||P(r,!1)))},isHoverDateStartEnd:function(t,r,n){return!(!Array.isArray(e.internalModelValue)||!e.internalModelValue[0]||1!==e.internalModelValue.length)&&!t&&(n?at(e.internalModelValue[0],r.value):rt(e.internalModelValue[0],r.value))},presetDateRange:function(r){r.length&&r.length<=2&&e.range&&(m.value=r.map((function(e){return new Date(e)})),e.autoApply&&t("selectDate"))}}};function Vn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function In(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(r),!0).forEach((function(t){he(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Tn,Bn=["id","onKeydown"],Nn={key:0,class:"dp__preset_ranges"},jn=["onClick"],Rn={key:1,class:"dp__now_wrap"},En=defineComponent({props:In(In({},St),{},{internalModelValue:{type:[Date,Array],default:null},multiCalendars:{type:Number,default:0},previewFormat:{type:[String,Function],default:function(){return null}},filters:{type:Object,default:function(){return{}}},openOnTop:{type:Boolean,default:!1}}),emits:["update:internalModelValue","closePicker","selectDate","dpOpen","autoApply","timeUpdate","flow-step","updateMonthYear"],setup:function(e,t){var r=t.emit,n=e,i=useSlots(),o=ref(null),s=reactive({timePicker:!n.enableTimePicker,monthYearInput:!1,calendar:!1}),a=ref([]),u=ref(null),l=ref(null),c=ref(0),f=ref(!1),h=ref(0);onMounted((function(){var e;f.value=!0,null!==(e=n.presetRanges)&&void 0!==e&&e.length||J(),n.inline||nextTick((function(){return r("dpOpen")}));var t=ht(l);if(!t||n.textInput||n.inline||t.focus({preventScroll:!0}),t){var i=function(e){e.stopImmediatePropagation(),e.stopPropagation()};t.addEventListener("pointerdown",i),t.addEventListener("mousedown",i)}document.addEventListener("resize",J)})),onUnmounted((function(){document.removeEventListener("resize",J)}));var d=function(){h.value=-1},p=$n(n,r,(function(){var e;null!==(e=n.flow)&&void 0!==e&&e.length&&-1!==h.value&&(h.value+=1,r("flow-step",h.value),fe())})),g=p.updateTime,m=p.updateMonthYear,y=p.today,b=p.month,v=p.year,_=p.hours,$=p.minutes,w=p.seconds,E=p.isDisabled,S=p.isActiveDate,A=p.selectDate,R=p.getWeekNum,N=p.setHoverDate,x=p.isHoverRangeEnd,k=p.isAutoRangeInBetween,C=p.isAutoRangeStart,T=p.rangeActive,M=p.clearHoverDate,P=p.rangeActiveStartEnd,I=p.monthYearSelect,O=p.handleScroll,B=p.handleArrow,L=p.getMarker,D=p.selectCurrentDate,U=p.isHoverDateStartEnd,F=p.isHoverDate,j=p.presetDateRange,H=pn(i,"calendar"),W=pn(i,"action"),z=pn(i,"timePicker"),q=pn(i,"monthYear"),G=computed((function(){return n.openOnTop?"dp__arrow_bottom":"dp__arrow_top"})),V=computed((function(){return function(e){for(var t=[],r=+e[0];r<=+e[1];r++)t.push({value:+r,text:"".concat(r)});return t}(n.yearRange)})),K=computed((function(){return function(e,t){var r=new Intl.DateTimeFormat(e,{month:t,timeZone:"UTC"});return[1,2,3,4,5,6,7,8,9,10,11,12].map((function(e){var t=e<10?"0".concat(e):e;return new Date("2017-".concat(t,"-01T00:00:00+00:00"))})).map((function(e,t){return{text:r.format(e),value:t}}))}(n.locale,n.monthNameFormat)})),J=function(){var e=ht(o);e&&(c.value=e.getBoundingClientRect().width)},Y=computed((function(){return function(e){return vt(b.value(e),v.value(e),+n.weekStart,n.hideOffsetDates)}})),X=computed((function(){return n.multiCalendars>0&&n.range?mt(Array(n.multiCalendars).keys()):[0]})),Z=computed((function(){return function(e){return 1===e}})),Q=computed((function(){return n.monthPicker||n.timePicker})),ee=computed((function(){return{dp__flex_display:n.multiCalendars>0}})),te=computed((function(){return{dp__instance_calendar:n.multiCalendars>0}})),re=computed((function(){return{dp__menu_disabled:n.disabled,dp__menu_readonly:n.readonly}})),ne=computed((function(){return function(e){return se(Y,e)}})),ie=computed((function(){return{locale:n.locale,weekNumName:n.weekNumName,weekStart:n.weekStart,weekNumbers:n.weekNumbers,enableTimePicker:n.enableTimePicker,disableMonthYearSelect:n.disableMonthYearSelect,monthPicker:n.monthPicker,timePicker:n.timePicker,range:n.range,filters:n.filters,minTime:n.minTime,maxTime:n.maxTime,minDate:n.minDate,maxDate:n.maxDate,customProps:n.customProps,calendarClassName:n.calendarClassName,specificMode:Q.value,getWeekNum:R,multiCalendars:n.multiCalendars,months:K.value,years:V.value,multiCalendarsSolo:n.multiCalendarsSolo,modeHeight:n.modeHeight,internalModelValue:n.internalModelValue}})),oe=computed((function(){return he({dp__menu:!0,dp__menu_index:!n.inline,dp__relative:n.inline},n.menuClassName,!!n.menuClassName)})),se=function(e,t){return e.value(t).map((function(e){return In(In({},e),{},{days:e.days.map((function(e){var t=E(e.value),r=F(t,e);return e.marker=L(e),e.classData=he({dp__cell_offset:!e.current,dp__pointer:!(t||!e.current&&n.hideOffsetDates),dp__active_date:!n.range&&S(e),dp__date_hover:r,dp__date_hover_start:U(r,e,!0),dp__date_hover_end:U(r,e,!1),dp__range_between:!(!n.range&&!n.weekPicker||n.multiCalendars>0&&!e.current||t||!e.current&&n.hideOffsetDates||S(e))&&T(e),dp__today:!n.noToday&&lt(e.value,y.value),dp__cell_disabled:t,dp__cell_auto_range:k(e),dp__cell_auto_range_start:C(e),dp__cell_auto_range_end:x(e),dp__range_start:n.multiCalendars>0?e.current&&P(e):P(e),dp__range_end:n.multiCalendars>0?e.current&&P(e,!1):P(e,!1)},n.calendarCellClassName,!!n.calendarCellClassName),e}))})}))},ae=function(e){e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},ue=function(){n.escClose&&r("closePicker")},le=function(e){e.stopImmediatePropagation(),e.preventDefault(),n.spaceConfirm&&r("selectDate")},ce=function(e){var t;null!==(t=n.flow)&&void 0!==t&&t.length&&(s[e]=!0,Object.keys(s).filter((function(e){return!s[e]})).length||fe())},fe=function(){"month"===n.flow[h.value]&&a.value[0]&&a.value[0].toggleMonthPicker(!0),"year"===n.flow[h.value]&&a.value&&a.value[0].toggleYearPicker(!0),"calendar"===n.flow[h.value]&&u.value&&u.value.toggleTimePicker(!1,!0),"time"===n.flow[h.value]&&u.value&&u.value.toggleTimePicker(!0,!0);var e=n.flow[h.value];"hours"!==e&&"minutes"!==e&&"seconds"!==e||u.value&&u.value.toggleTimePicker(!0,!0,e)};return function(t,r){return openBlock(),createElementBlock("div",{id:t.uid?"dp-menu-".concat(t.uid):void 0,tabindex:"0",ref_key:"dpMenuRef",ref:l,role:"dialog","aria-label":"Datepicker menu",class:normalizeClass(unref(oe)),onMouseleave:r[11]||(r[11]=function(){return unref(M)&&unref(M).apply(void 0,arguments)}),onClick:ae,onKeydown:[withKeys(ue,["esc"]),withKeys(le,["space"]),r[12]||(r[12]=withKeys((function(e){return unref(B)("left",0)}),["left"])),r[13]||(r[13]=withKeys((function(e){return unref(B)("right",0)}),["right"]))]},[(t.disabled||t.readonly)&&t.inline?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(re))},null,2)):createCommentVNode("",!0),t.inline?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(G))},null,2)),createBaseVNode("div",{class:normalizeClass(t.presetRanges.length?"dp__menu_content_wrapper":null)},[t.presetRanges.length?(openBlock(),createElementBlock("div",Nn,[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(t.presetRanges,(function(e,t){return openBlock(),createElementBlock("div",{key:t,class:"dp__preset_range",onClick:function(t){return unref(j)(e.range)}},toDisplayString(e.label),9,jn)})),128))])):createCommentVNode("",!0),createBaseVNode("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:o,role:"document"},[createBaseVNode("div",{class:normalizeClass(unref(ee))},[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(X),(function(n,i){return openBlock(),createElementBlock("div",{key:n,class:normalizeClass(unref(te))},[t.disableMonthYearSelect||t.timePicker?createCommentVNode("",!0):(openBlock(),createBlock(resolveDynamicComponent(t.monthYearComponent?t.monthYearComponent:An),mergeProps({key:0,ref_for:!0,ref:function(e){e&&(a.value[i]=e)}},{months:unref(K),years:unref(V),filters:e.filters,monthPicker:t.monthPicker,month:unref(b)(n),year:unref(v)(n),customProps:t.customProps,multiCalendars:e.multiCalendars,multiCalendarsSolo:t.multiCalendarsSolo,instance:n,minDate:t.minDate,maxDate:t.maxDate,preventMinMaxNavigation:t.preventMinMaxNavigation,internalModelValue:e.internalModelValue,range:t.range,reverseYears:t.reverseYears},{onMount:r[0]||(r[0]=function(e){return ce("monthYearInput")}),onResetFlow:d,"onUpdate:month":function(e){return unref(m)(n,e,!0)},"onUpdate:year":function(e){return unref(m)(n,e,!1)},onMonthYearSelect:unref(I)}),createSlots({_:2},[renderList(unref(q),(function(e,r){return{name:e,fn:withCtx((function(r){return[renderSlot(t.$slots,e,normalizeProps(guardReactiveProps(r)))]}))}}))]),1040,["onUpdate:month","onUpdate:year","onMonthYearSelect"])),createVNode(jt,mergeProps(unref(ie),{"flow-step":h.value,"onUpdate:flow-step":r[1]||(r[1]=function(e){return h.value=e}),instance:n,"mapped-dates":unref(ne)(n),month:unref(b)(n),year:unref(v)(n),"month-year-component":t.monthYearComponent,onSelectDate:function(e){return unref(A)(e,!unref(Z)(n))},onSetHoverDate:r[2]||(r[2]=function(e){return unref(N)(e)}),onHandleScroll:function(e){return unref(O)(e,n)},onMount:r[3]||(r[3]=function(e){return ce("calendar")}),onResetFlow:d}),createSlots({_:2},[renderList(unref(H),(function(e,r){return{name:e,fn:withCtx((function(r){return[renderSlot(t.$slots,e,normalizeProps(guardReactiveProps(In({},r))))]}))}}))]),1040,["flow-step","instance","mapped-dates","month","year","month-year-component","onSelectDate","onHandleScroll"])],2)})),128))],2),createBaseVNode("div",null,[!t.enableTimePicker||t.monthPicker||t.weekPicker?createCommentVNode("",!0):(openBlock(),createBlock(resolveDynamicComponent(t.timePickerComponent?t.timePickerComponent:hn),mergeProps({key:0,ref_key:"timePickerRef",ref:u},{is24:t.is24,hoursIncrement:t.hoursIncrement,minutesIncrement:t.minutesIncrement,hoursGridIncrement:t.hoursGridIncrement,secondsIncrement:t.secondsIncrement,minutesGridIncrement:t.minutesGridIncrement,secondsGridIncrement:t.secondsGridIncrement,noHoursOverlay:t.noHoursOverlay,noMinutesOverlay:t.noMinutesOverlay,noSecondsOverlay:t.noSecondsOverlay,range:t.range,filters:e.filters,timePicker:t.timePicker,hours:unref(_),minutes:unref($),seconds:unref(w),customProps:t.customProps,enableSeconds:t.enableSeconds,fixedStart:t.fixedStart,fixedEnd:t.fixedEnd},{onMount:r[4]||(r[4]=function(e){return ce("timePicker")}),"onUpdate:hours":r[5]||(r[5]=function(e){return unref(g)(e)}),"onUpdate:minutes":r[6]||(r[6]=function(e){return unref(g)(e,!1)}),"onUpdate:seconds":r[7]||(r[7]=function(e){return unref(g)(e,!1,!0)}),onResetFlow:d}),createSlots({_:2},[renderList(unref(z),(function(e,r){return{name:e,fn:withCtx((function(r){return[renderSlot(t.$slots,e,normalizeProps(guardReactiveProps(r)))]}))}}))]),1040))])],512),t.showNowButton?(openBlock(),createElementBlock("div",Rn,[t.$slots["now-button"]?renderSlot(t.$slots,"now-button",{key:0,selectCurrentDate:unref(D)}):createCommentVNode("",!0),t.$slots["now-button"]?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:1,type:"button",role:"button",class:"dp__now_button",onClick:r[8]||(r[8]=function(){return unref(D)&&unref(D).apply(void 0,arguments)})},toDisplayString(t.nowButtonLabel),1))])):createCommentVNode("",!0)],2),!t.autoApply||t.keepActionRow?(openBlock(),createBlock(resolveDynamicComponent(t.actionRowComponent?t.actionRowComponent:Wt),mergeProps({key:2},{calendarWidth:c.value,selectText:t.selectText,cancelText:t.cancelText,internalModelValue:e.internalModelValue,range:t.range,previewFormat:e.previewFormat,inline:t.inline,monthPicker:t.monthPicker,timePicker:t.timePicker,customProps:t.customProps,multiCalendars:e.multiCalendars,menuMount:f.value,maxTime:t.maxTime,minTime:t.minTime,enableTimePicker:t.enableTimePicker,minDate:t.minDate,maxDate:t.maxDate,multiDates:t.multiDates},{onClosePicker:r[9]||(r[9]=function(e){return t.$emit("closePicker")}),onSelectDate:r[10]||(r[10]=function(e){return t.$emit("selectDate")})}),createSlots({_:2},[renderList(unref(W),(function(e,r){return{name:e,fn:withCtx((function(r){return[renderSlot(t.$slots,e,normalizeProps(guardReactiveProps(In({},r))))]}))}}))]),1040)):createCommentVNode("",!0)],42,Bn)}}});!function(e){e.center="center",e.left="left",e.right="right"}(Tn||(Tn={}));var Fn=function(e,t,r,n,i,o,s,a,u,l,c,f,h,d){var p=ref(""),g=ref();watch(g,(function(){d("internalModelChange",g.value)}));var m=function(){if(g.value)if(e&&"string"!=typeof e)p.value=e(t?et(g.value):r?Qe(g.value):g.value);else{var n=Je(e,o,a,r,t,f,s);Array.isArray(g.value)&&l?p.value=g.value.map((function(e){return nt(e,n,null==u?void 0:u.value)})).join("; "):p.value=nt(g.value,n,null==u?void 0:u.value,h.rangeSeparator)}else p.value=""};return{parseExternalModelValue:function(e){var o=null;e?t?function(e){return Array.isArray(e)&&2===e.length}(e)&&"hours"in e[0]&&"minutes"in e[0]?o=[Le(null,+e[0].hours,+e[0].minutes,+e[0].seconds),Le(null,+e[1].hours,+e[1].minutes,+e[1].seconds)]:function(e){return"object"===Rt(e)}(e)&&(o=Le(null,+e.hours,+e.minutes,+e.seconds)):r?function(e){return Array.isArray(e)}(e)&&"month"in e[0]&&"year"in e[0]?o=[ze(null,+e[0].month,+e[0].year),e[1]?ze(null,+e[1].month,+e[1].year):null]:function(e){return"object"===Rt(e)}(e)&&"month"in e&&"year"in e&&(o=ze(null,+e.month,+e.year)):l&&Array.isArray(e)?o=e.map((function(e){return new Date(e)})):f&&Array.isArray(e)?o=[new Date(e[0]),new Date(e[1])]:n?function(e,t){return t?Array.isArray(e):Kt(e)}(e,i)&&(o=[new Date(e[0]),e[1]?new Date(e[1]):null]):function(e){return"string"==typeof e||"object"===Rt(e)}(e)&&(o=new Date(e)):o=null,Ge(o)?(g.value=o,m()):(g.value=null,p.value="")},formatInputValue:m,internalModelValue:g,inputValue:p,emitModelValue:function(){if(r)d("update:modelValue",Qe(g.value));else if(t)d("update:modelValue",et(g.value));else if(f)d("update:modelValue",g.value);else{g.value&&n&&i&&1===g.value.length&&g.value.push(null);var e=c?Array.isArray(g.value)?g.value.map((function(e){return e?dt(e):e})):dt(g.value):g.value;d("update:modelValue",e)}m()},checkBeforeEmit:function(){return!!g.value&&(n?i?g.value.length>=1:2===g.value.length:!!g.value)}}},Yn="undefined"!=typeof window?window:void 0,Kn=function(){},Un=function(e,t,r,n){if(!e)return Kn;var i,o=Kn,s=watch((function(){return unref(e)}),(function(e){o(),e&&(e.addEventListener(t,r,n),o=function(){e.removeEventListener(t,r,n),o=Kn})}),{immediate:!0,flush:"post"}),a=function(){s(),o()};return i=a,getCurrentScope()&&onScopeDispose(i),a};function Hn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(r),!0).forEach((function(t){he(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ln=defineComponent({props:Gn(Gn({},St),{},{name:{type:String,default:null},multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object],default:null},position:{type:String,default:"center"},placeholder:{type:String,default:null},dark:{type:Boolean,default:!1},required:{type:Boolean,default:!1},format:{type:[String,Function],default:function(){return null}},previewFormat:{type:[String,Function],default:function(){return null}},inputClassName:{type:String,default:null},hideInputIcon:{type:Boolean,default:!1},state:{type:Boolean,default:null},clearable:{type:Boolean,default:!0},closeOnScroll:{type:Boolean,default:!1},filters:{type:Object,default:function(){return{}}},inlineWithInput:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},textInputOptions:{type:Object,default:function(){return{}}},teleport:{type:String,default:"body"},altPosition:{type:[Boolean,Function],default:!1},partialRange:{type:Boolean,default:!0},transitions:{type:Boolean,default:!0},openMenuOnFocus:{type:Boolean,default:!0},formatLocale:{type:Object,default:null},autocomplete:{type:String,default:null},utc:{type:Boolean,default:!1}}),emits:["update:modelValue","textSubmit","closed","cleared","open","focus","blur","internalModelChange","recalculatePosition","flow-step","updateMonthYear"],setup:function(e,t){var r=t.expose,n=t.emit,i=e,o=useSlots(),s=ref(!1),a=toRef(i,"modelValue"),u=ref(null),l=ref(null),c=ref(null);provide("autoApply",i.autoApply);var f=computed((function(){return i.formatLocale}));provide("formatLocale",f),provide("textInput",toRef(i,"textInput")),onMounted((function(){w(i.modelValue),i.inline||(window.addEventListener("scroll",I),window.addEventListener("resize",O)),i.inline&&(s.value=!0)})),onUnmounted((function(){i.inline||(window.removeEventListener("scroll",I),window.removeEventListener("resize",O))}));var h=pn(o,"all"),d=pn(o,"input");watch(a,(function(){w(a.value)}),{deep:!0});var p=function(e,t,r,n,i,o){var s=ref({top:"0",left:"0",transform:"none"}),a=ref(!1),u=function(e){var t=e.getBoundingClientRect();return{left:t.left+window.scrollX,top:t.top+window.scrollY}},l=function(e){for(var t=0,r=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-e.scrollLeft,r+=e.offsetTop-e.scrollTop,e=e.offsetParent;return{top:r,left:t}},c=function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=ht(i);if(t&&"boolean"!=typeof t)s.value=t(o);else if(o){var a=o.getBoundingClientRect(),c=a.left,h=a.width,d=a.height,p=(t?l(o):u(o)).top,g={top:"".concat(d+p+10,"px"),left:"",transform:"none"};e===Tn.left&&(g.left="".concat(c,"px")),e===Tn.right&&(g.left="".concat(c+h,"px"),g.transform="translateX(-100%)"),e===Tn.center&&(g.left="".concat(c+h/2,"px"),g.transform="translateX(-50%)"),s.value=g,n&&r&&f()}},f=function(){var e=ht(i);if(e&&r){var f=e.getBoundingClientRect(),h=f.height,d=f.top,p=(t?l(e):u(e)).top,g=window.innerHeight-d-h,m=ht(n);if(m){var y=m.getBoundingClientRect().height,b=y+h;b>d&&b>g?d<g&&(c(!1),a.value=!1):b>g?(s.value.top="".concat(p-y-10,"px"),a.value=!0):(c(!1),a.value=!1)}}o("recalculatePosition")};return{openOnTop:a,menuPosition:s,setMenuPosition:c,recalculatePosition:f}}(i.position,i.altPosition,i.autoPosition,u,l,n),g=p.openOnTop,m=p.menuPosition,y=p.setMenuPosition,b=p.recalculatePosition,v=Fn(i.format,i.timePicker,i.monthPicker,i.range,i.partialRange,i.is24,i.enableTimePicker,i.enableSeconds,f,i.multiDates,i.utc,i.weekPicker,i.textInputOptions,n),_=v.internalModelValue,$=v.inputValue,w=v.parseExternalModelValue,E=v.emitModelValue,S=v.checkBeforeEmit,A=v.formatInputValue,R=computed((function(){return{dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:i.inline,dp__flex_display_with_input:i.inlineWithInput}})),N=computed((function(){return Ut(i.format)?i.format:Je(null,i.is24,i.enableSeconds,i.monthPicker,i.timePicker,i.weekPicker,i.enableTimePicker)})),x=computed((function(){return i.previewFormat?i.previewFormat:Ut(N.value)?N.value:i.format}));provide("transitions",computed((function(){return"boolean"==typeof i.transitions?!!i.transitions&&_t({}):_t(i.transitions)})));var k=computed((function(){return i.dark?"dp__theme_dark":"dp__theme_light"})),C=computed((function(){return Object.assign({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "},i.textInputOptions)})),T=computed((function(){return e=i.filters,Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},e);var e})),M=computed((function(){var e=function(e){var t={hours:getHours(new Date),minutes:getMinutes(new Date),seconds:getSeconds(new Date)};return Object.assign(t,e)};return i.range?i.startTime&&Array.isArray(i.startTime)?[e(i.startTime[0]),e(i.startTime[1])]:null:i.startTime&&!Array.isArray(i.startTime)?e(i.startTime):null})),P=computed((function(){return null===i.multiCalendars?0:"boolean"==typeof i.multiCalendars?i.multiCalendars?2:0:+i.multiCalendars>=2?+i.multiCalendars:2})),I=function e(){s.value&&(i.closeOnScroll?j():i.autoPosition?y():window.removeEventListener("scroll",e))},O=function(){s.value&&y()},B=function(){i.disabled||i.readonly||(y(),s.value=!s.value,s.value||F(),s.value&&(n("open"),n("focus")),w(i.modelValue))},L=function(){$.value="",F(),n("update:modelValue",null),n("cleared"),j()},D=function(){S()&&(E(),j())},U=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(i.autoApply){var t=!i.enableTimePicker||ct(_.value,i.maxTime,i.minTime);t&&(E(),i.closeOnAutoApply&&!e&&j())}},F=function(){_.value=null},j=function(){i.inline||(s.value&&(s.value=!1,n("closed"),n("blur"),$.value&&w(a.value)),F(),l.value&&l.value.unFocus(),z())},H=function(e,t){e?(_.value=e,t&&(D(),n("textSubmit"))):_.value=null},W=function(){i.autoApply&&ct(_.value,i.maxTime,i.minTime)&&E()},z=function(){c.value&&c.value.focus({preventScroll:!0})};return function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n.window,o=void 0===i?Yn:i,s=n.event,a=void 0===s?"pointerdown":s;if(o){var u=function(n){var i=ht(e),o=ht(t);i&&o&&(i===n.target||n.composedPath().includes(i)||n.composedPath().includes(o)||r(n))};Un(o,a,u,{passive:!0})}}(u,l,j),r({closeMenu:j,selectDate:D,clearValue:L,openMenu:B,onScroll:I,formatInputValue:A}),function(t,r){return openBlock(),createElementBlock("div",{class:normalizeClass(unref(R))},[createVNode(Dt,mergeProps({ref_key:"inputRef",ref:l},{placeholder:e.placeholder,hideInputIcon:e.hideInputIcon,readonly:t.readonly,disabled:t.disabled,inputClassName:e.inputClassName,clearable:e.clearable,state:e.state,inline:t.inline,inlineWithInput:e.inlineWithInput,textInput:t.textInput,textInputOptions:unref(C),range:t.range,isMenuOpen:s.value,pattern:unref(N),autoApply:t.autoApply,uid:t.uid,openMenuOnFocus:e.openMenuOnFocus,required:e.required,name:e.name,autocomplete:e.autocomplete},{"input-value":unref($),"onUpdate:input-value":r[0]||(r[0]=function(e){return isRef($)?$.value=e:null}),onClear:L,onOpen:B,onSetInputDate:H,onSetEmptyDate:unref(E),onSelectDate:D,onClose:j}),createSlots({_:2},[renderList(unref(d),(function(e,r){return{name:e,fn:withCtx((function(r){return[renderSlot(t.$slots,e,normalizeProps(guardReactiveProps(r)))]}))}}))]),1040,["input-value","onSetEmptyDate"]),createBaseVNode("span",{tabindex:"-1",ref_key:"focusRef",ref:c},null,512),s.value?(openBlock(),createBlock(Teleport,{key:0,to:e.teleport,disabled:t.inline},[s.value?(openBlock(),createBlock(En,mergeProps({key:0,ref_key:"dpMenuRef",ref:u,class:unref(k),style:unref(m)},Gn(Gn({},unref(Ot)(t.$props)),{},{multiCalendars:unref(P),previewFormat:unref(x),filters:unref(T),openOnTop:unref(g),startTime:unref(M)}),{internalModelValue:unref(_),"onUpdate:internalModelValue":r[1]||(r[1]=function(e){return isRef(_)?_.value=e:null}),onClosePicker:j,onSelectDate:D,onDpOpen:unref(b),onAutoApply:U,onTimeUpdate:W,onFlowStep:r[2]||(r[2]=function(e){return t.$emit("flow-step",e)}),onUpdateMonthYear:r[3]||(r[3]=function(e){return t.$emit("updateMonthYear",e)})}),createSlots({_:2},[renderList(unref(h),(function(e,r){return{name:e,fn:withCtx((function(r){return[renderSlot(t.$slots,e,normalizeProps(guardReactiveProps(Gn({},r))))]}))}}))]),1040,["class","style","internalModelValue","onDpOpen"])):createCommentVNode("",!0)],8,["to","disabled"])):createCommentVNode("",!0)],2)}}}),Wn=exports("W",function(){var e=Ln;return e.install=function(t){t.component("Vue3DatePicker",e)},e}())}}}))})();
